(function(x,V){typeof exports=="object"&&typeof module!="undefined"?module.exports=V(require("global/window"),require("global/document")):typeof define=="function"&&define.amd?define(["global/window","global/document"],V):(x=x||self).videojs=V(x.window,x.document)})(this,function(x,V){function o(n,i){nr(n).forEach(function(e){return i(n[e],e)})}function d(n){for(var i=arguments.length,e=new Array(i>1?i-1:0),t=1;t<i;t++)e[t-1]=arguments[t];return Object.assign?Object.assign.apply(Object,[n].concat(e)):(e.forEach(function(r){r&&o(r,function(a,f){n[f]=a})}),n)}function g(n){return!!n&&typeof n=="object"}function v(n){return g(n)&&Qe.call(n)==="[object Object]"&&n.constructor===Object}function u(n,i){if(!n||!i)return"";if(typeof x.getComputedStyle=="function"){var e=x.getComputedStyle(n);return e?e.getPropertyValue(i)||e[i]:""}return""}function c(n){return typeof n=="string"&&/\S/.test(n)}function p(n){if(/\s/.test(n))throw new Error("class has illegal whitespace characters")}function l(){return V===x.document}function _(n){return g(n)&&n.nodeType===1}function T(){try{return x.parent!==x.self}catch(n){return!0}}function k(n){return function(i,e){if(!c(i))return V[n](null);c(e)&&(e=V.querySelector(e));var t=_(e)?e:V;return t[n]&&t[n](i)}}function S(n,i,e,t){n===void 0&&(n="div"),i===void 0&&(i={}),e===void 0&&(e={});var r=V.createElement(n);return Object.getOwnPropertyNames(i).forEach(function(a){var f=i[a];a.indexOf("aria-")!==-1||a==="role"||a==="type"?(re.warn(`Setting attributes in the second argument of createEl()
has been deprecated. Use the third argument instead.
createEl(type, properties, attributes). Attempting to set `+a+" to "+f+"."),r.setAttribute(a,f)):a==="textContent"?w(r,f):r[a]=f}),Object.getOwnPropertyNames(e).forEach(function(a){r.setAttribute(a,e[a])}),t&&ae(r,t),r}function w(n,i){return n.textContent===void 0?n.innerText=i:n.textContent=i,n}function C(n,i){i.firstChild?i.insertBefore(n,i.firstChild):i.appendChild(n)}function b(n,i){return p(i),n.classList?n.classList.contains(i):function(e){return new RegExp("(^|\\s)"+e+"($|\\s)")}(i).test(n.className)}function E(n,i){return n&&(n.classList?n.classList.add(i):b(n,i)||(n.className=(n.className+" "+i).trim()),n)}function A(n,i){return n&&(n.classList?n.classList.remove(i):(p(i),n.className=n.className.split(/\s+/).filter(function(e){return e!==i}).join(" ")),n)}function P(n,i,e){var t=b(n,i);return typeof e=="function"&&(e=e(n,i)),typeof e!="boolean"&&(e=!t),e===t||(e?E(n,i):A(n,i)),n}function z(n,i){Object.getOwnPropertyNames(i).forEach(function(e){var t=i[e];t==null||t===!1?n.removeAttribute(e):n.setAttribute(e,t===!0?"":t)})}function B(n){var i={};if(n&&n.attributes&&n.attributes.length>0)for(var e=n.attributes,t=e.length-1;t>=0;t--){var r=e[t].name,a=e[t].value;typeof n[r]!="boolean"&&",autoplay,stretch,fluent,controls,playsinline,loop,muted,default,defaultMuted,".indexOf(","+r+",")===-1||(a=a!==null),i[r]=a}return i}function H(n,i){return n.getAttribute(i)}function K(n,i,e){n.setAttribute(i,e)}function Q(n,i){n.removeAttribute(i)}function ct(){V.body.focus(),V.onselectstart=function(){return!1}}function mt(){V.onselectstart=function(){return!0}}function It(n){if(n&&n.getBoundingClientRect&&n.parentNode){var i=n.getBoundingClientRect(),e={};return["bottom","height","left","right","top","width"].forEach(function(t){i[t]!==void 0&&(e[t]=i[t])}),e.height||(e.height=parseFloat(u(n,"height"))),e.width||(e.width=parseFloat(u(n,"width"))),e}}function Dt(n){var i;if(n.getBoundingClientRect&&n.parentNode&&(i=n.getBoundingClientRect()),!i)return{left:0,top:0};var e=V.documentElement,t=V.body,r=e.clientLeft||t.clientLeft||0,a=x.pageXOffset||t.scrollLeft,f=i.left+a-r,y=e.clientTop||t.clientTop||0,j=x.pageYOffset||t.scrollTop,D=i.top+j-y;return{left:Math.round(f),top:Math.round(D)}}function Wt(n,i){var e={},t=Dt(n),r=n.offsetWidth,a=n.offsetHeight,f=t.top,y=t.left,j=i.pageY,D=i.pageX;return i.changedTouches&&(D=i.changedTouches[0].pageX,j=i.changedTouches[0].pageY),e.y=Math.max(0,Math.min(1,(f-j+a)/a)),e.x=Math.max(0,Math.min(1,(D-y)/r)),e}function Zt(n){return g(n)&&n.nodeType===3}function Rt(n){for(;n.firstChild;)n.removeChild(n.firstChild);return n}function qt(n){return typeof n=="function"&&(n=n()),(Array.isArray(n)?n:[n]).map(function(i){return typeof i=="function"&&(i=i()),_(i)||Zt(i)?i:typeof i=="string"&&/\S/.test(i)?V.createTextNode(i):void 0}).filter(function(i){return i})}function ae(n,i){return qt(i).forEach(function(e){return n.appendChild(e)}),n}function Ut(n,i){return ae(Rt(n),i)}function U(n){return n.button===void 0&&n.buttons===void 0||n.button===0&&n.buttons===void 0||n.type==="mouseup"&&n.button===0&&n.buttons===0||n.button===0&&n.buttons===1}function ot(){return jr++}function lt(n,i){if(qe.has(n)){var e=qe.get(n);e.handlers[i].length===0&&(delete e.handlers[i],n.removeEventListener?n.removeEventListener(i,e.dispatcher,!1):n.detachEvent&&n.detachEvent("on"+i,e.dispatcher)),Object.getOwnPropertyNames(e.handlers).length<=0&&(delete e.handlers,delete e.dispatcher,delete e.disabled),Object.getOwnPropertyNames(e).length===0&&qe.delete(n)}}function gt(n,i,e,t){e.forEach(function(r){n(i,r,t)})}function Lt(n){function i(){return!0}function e(){return!1}if(!n||!n.isPropagationStopped){var t=n||x.event;for(var r in n={},t)r!=="layerX"&&r!=="layerY"&&r!=="keyLocation"&&r!=="webkitMovementX"&&r!=="webkitMovementY"&&(r!=="returnValue"&&r!=="path"||!t.preventDefault)&&(n[r]=t[r]);if(n.target||(n.target=n.srcElement||V),n.relatedTarget||(n.relatedTarget=n.fromElement===n.target?n.toElement:n.fromElement),n.preventDefault=function(){t.preventDefault&&t.preventDefault(),n.returnValue=!1,t.returnValue=!1,n.defaultPrevented=!0},n.defaultPrevented=!1,n.stopPropagation=function(){t.stopPropagation&&t.stopPropagation(),n.cancelBubble=!0,t.cancelBubble=!0,n.isPropagationStopped=i},n.isPropagationStopped=e,n.stopImmediatePropagation=function(){t.stopImmediatePropagation&&t.stopImmediatePropagation(),n.isImmediatePropagationStopped=i,n.stopPropagation()},n.isImmediatePropagationStopped=e,n.clientX!==null&&n.clientX!==void 0){var a=V.documentElement,f=V.body;n.pageX=n.clientX+(a&&a.scrollLeft||f&&f.scrollLeft||0)-(a&&a.clientLeft||f&&f.clientLeft||0),n.pageY=n.clientY+(a&&a.scrollTop||f&&f.scrollTop||0)-(a&&a.clientTop||f&&f.clientTop||0)}n.which=n.charCode||n.keyCode,n.button!==null&&n.button!==void 0&&(n.button=1&n.button?0:4&n.button?1:2&n.button?2:0)}return n}function vt(n,i,e){if(Array.isArray(i))return gt(vt,n,i,e);qe.has(n)||qe.set(n,{});var t=qe.get(n);if(t.handlers||(t.handlers={}),t.handlers[i]||(t.handlers[i]=[]),e.guid||(e.guid=ot()),t.handlers[i].push(e),t.dispatcher||(t.disabled=!1,t.dispatcher=function(a,f){if(!t.disabled){a=Lt(a);var y=t.handlers[a.type];if(y)for(var j=y.slice(0),D=0,F=j.length;D<F&&!a.isImmediatePropagationStopped();D++)try{j[D].call(n,a,f)}catch(q){re.error(q)}}}),t.handlers[i].length===1)if(n.addEventListener){var r=!1;Ci&&si.indexOf(i)>-1&&(r={passive:!0}),n.addEventListener(i,t.dispatcher,r)}else n.attachEvent&&n.attachEvent("on"+i,t.dispatcher)}function ht(n,i,e){if(qe.has(n)){var t=qe.get(n);if(t.handlers){if(Array.isArray(i))return gt(ht,n,i,e);var r=function(j,D){t.handlers[D]=[],lt(j,D)};if(i!==void 0){var a=t.handlers[i];if(a){if(!e)return void r(n,i);if(e.guid)for(var f=0;f<a.length;f++)a[f].guid===e.guid&&a.splice(f--,1);lt(n,i)}}else for(var y in t.handlers)Object.prototype.hasOwnProperty.call(t.handlers||{},y)&&r(n,y)}}}function pt(n,i,e){var t=qe.has(n)?qe.get(n):{},r=n.parentNode||n.ownerDocument;if(typeof i=="string"?i={type:i,target:n}:i.target||(i.target=n),i=Lt(i),t.dispatcher&&t.dispatcher.call(n,i,e),r&&!i.isPropagationStopped()&&i.bubbles===!0)pt.call(null,r,i,e);else if(!r&&!i.defaultPrevented&&i.target&&i.target[i.type]){qe.has(i.target)||qe.set(i.target,{});var a=qe.get(i.target);i.target[i.type]&&(a.disabled=!0,typeof i.target[i.type]=="function"&&i.target[i.type](),a.disabled=!1)}return!i.defaultPrevented}function Bt(n,i,e){if(Array.isArray(i))return gt(Bt,n,i,e);var t=function r(){ht(n,i,r),e.apply(this,arguments)};t.guid=e.guid=e.guid||ot(),vt(n,i,t)}function Ot(n,i,e){var t=function r(){ht(n,i,r),e.apply(this,arguments)};t.guid=e.guid=e.guid||ot(),vt(n,i,t)}function zt(n,i){i&&(oi=i),x.setTimeout(jt,n)}function se(n,i){i===void 0&&(i={});var e=i.eventBusKey;if(e){if(!n[e].nodeName)throw new Error('The eventBusKey "'+e+'" does not refer to an element.');n.eventBusEl_=n[e]}else n.eventBusEl_=S("span",{className:"vjs-event-bus"});return d(n,$o),n.eventedCallbacks&&n.eventedCallbacks.forEach(function(t){t()}),n.on("dispose",function(){n.off(),x.setTimeout(function(){n.eventBusEl_=null},0)}),n}function Oe(n,i){return d(n,Ds),n.state=d({},n.state,i),typeof n.handleStateChanged=="function"&&rn(n)&&n.on("statechanged",n.handleStateChanged),n}function le(){for(var n={},i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];return e.forEach(function(r){r&&o(r,function(a,f){v(a)?(v(n[f])||(n[f]={}),n[f]=le(n[f],a)):n[f]=a})}),n}function Qt(n,i){n.prototype=Object.create(i.prototype),n.prototype.constructor=n,n.__proto__=i}function Ke(n,i){return(Ke=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(n,i)}function Ee(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(n){return!1}}function Je(n,i,e){return(Je=Ee()?Reflect.construct:function(t,r,a){var f=[null];f.push.apply(f,r);var y=new(Function.bind.apply(t,f));return a&&Ke(y,a.prototype),y}).apply(null,arguments)}function Te(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function zn(n,i,e,t){return function(r,a,f){if(typeof a!="number"||a<0||a>f)throw new Error("Failed to execute '"+r+"' on 'TimeRanges': The index provided ("+a+") is non-numeric or out of bounds (0-"+f+").")}(n,t,e.length-1),e[t][i]}function te(n){return n===void 0||n.length===0?{length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:{length:n.length,start:zn.bind(null,"start",0,n),end:zn.bind(null,"end",1,n)}}function Se(n,i){return Array.isArray(n)?te(n):n===void 0||i===void 0?te():te([[n,i]])}function ve(n,i){var e,t,r=0;if(!i)return 0;n&&n.length||(n=Se(0,0));for(var a=0;a<n.length;a++)e=n.start(a),(t=n.end(a))>i&&(t=i),r+=t-e;return r/i}function ce(n){if(n instanceof ce)return n;typeof n=="number"?this.code=n:typeof n=="string"?this.message=n:g(n)&&(typeof n.code=="number"&&(this.code=n.code),d(this,n)),this.message||(this.message=ce.defaultMessages[this.code]||"")}function Be(n){return n!=null&&typeof n.then=="function"}function on(n){Be(n)&&n.then(null,function(i){})}function vn(n,i){return n(i={exports:{}},i.exports),i.exports}function Sn(n,i,e){var t=n;return ar(i)?(e=i,typeof n=="string"&&(t={uri:n})):t=nd(i,{uri:n}),t.callback=e,t}function En(n,i,e){return sr(i=Sn(n,i,e))}function sr(n){function i(){var St=void 0;if(St=f.response?f.response:f.responseText||function(kt){if(kt.responseType==="document")return kt.responseXML;var ee=kt.responseXML&&kt.responseXML.documentElement.nodeName==="parsererror";return kt.responseType!==""||ee?null:kt.responseXML}(f),dt)try{St=JSON.parse(St)}catch(kt){}return St}function e(St){return clearTimeout(D),St instanceof Error||(St=new Error(""+(St||"Unknown XMLHttpRequest Error"))),St.statusCode=0,a(St,At)}function t(){if(!j){var St;clearTimeout(D),St=n.useXDR&&f.status===void 0?200:f.status===1223?204:f.status;var kt=At,ee=null;return St!==0?(kt={body:i(),statusCode:St,method:q,headers:{},url:F,rawRequest:f},f.getAllResponseHeaders&&(kt.headers=eu(f.getAllResponseHeaders()))):ee=new Error("Internal XMLHttpRequest Error"),a(ee,kt,kt.body)}}if(n.callback===void 0)throw new Error("callback argument missing");var r=!1,a=function(St,kt,ee){r||(r=!0,n.callback(St,kt,ee))},f=n.xhr||null;f||(f=n.cors||n.useXDR?new En.XDomainRequest:new En.XMLHttpRequest);var y,j,D,F=f.url=n.uri||n.url,q=f.method=n.method||"GET",Y=n.body||n.data,tt=f.headers=n.headers||{},ft=!!n.sync,dt=!1,At={body:void 0,headers:{},statusCode:0,method:q,url:F,rawRequest:f};if("json"in n&&n.json!==!1&&(dt=!0,tt.accept||tt.Accept||(tt.Accept="application/json"),q!=="GET"&&q!=="HEAD"&&(tt["content-type"]||tt["Content-Type"]||(tt["Content-Type"]="application/json"),Y=JSON.stringify(n.json===!0?Y:n.json))),f.onreadystatechange=function(){f.readyState===4&&setTimeout(t,0)},f.onload=t,f.onerror=e,f.onprogress=function(){},f.onabort=function(){j=!0},f.ontimeout=e,f.open(q,F,!ft,n.username,n.password),ft||(f.withCredentials=!!n.withCredentials),!ft&&n.timeout>0&&(D=setTimeout(function(){if(!j){j=!0,f.abort("timeout");var St=new Error("XMLHttpRequest timeout");St.code="ETIMEDOUT",e(St)}},n.timeout)),f.setRequestHeader)for(y in tt)tt.hasOwnProperty(y)&&f.setRequestHeader(y,tt[y]);else if(n.headers&&!function(St){for(var kt in St)if(St.hasOwnProperty(kt))return!1;return!0}(n.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in n&&(f.responseType=n.responseType),"beforeSend"in n&&typeof n.beforeSend=="function"&&n.beforeSend(f),f.send(Y||null),f}function In(n,i){this.name="ParsingError",this.code=n.code,this.message=i||n.message}function ni(n){function i(t,r,a,f){return 3600*(0|t)+60*(0|r)+(0|a)+(0|f)/1e3}var e=n.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return e?e[3]?i(e[1],e[2],e[3].replace(":",""),e[4]):e[1]>59?i(e[1],e[2],0,e[4]):i(0,e[1],e[2],e[4]):null}function tr(){this.values=Ha(null)}function ri(n,i,e,t){var r=t?n.split(t):[n];for(var a in r)if(typeof r[a]=="string"){var f=r[a].split(e);f.length===2&&i(f[0],f[1])}}function ii(n,i,e){function t(){var f=ni(n);if(f===null)throw new In(In.Errors.BadTimeStamp,"Malformed timestamp: "+a);return n=n.replace(/^[^\sa-zA-Z-]+/,""),f}function r(){n=n.replace(/^\s+/,"")}var a=n;if(r(),i.startTime=t(),r(),n.substr(0,3)!=="-->")throw new In(In.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '-->'): "+a);n=n.substr(3),r(),i.endTime=t(),r(),function(f,y){var j=new tr;ri(f,function(D,F){switch(D){case"region":for(var q=e.length-1;q>=0;q--)if(e[q].id===F){j.set(D,e[q].region);break}break;case"vertical":j.alt(D,F,["rl","lr"]);break;case"line":var Y=F.split(","),tt=Y[0];j.integer(D,tt),j.percent(D,tt)&&j.set("snapToLines",!1),j.alt(D,tt,["auto"]),Y.length===2&&j.alt("lineAlign",Y[1],["start","middle","end"]);break;case"position":Y=F.split(","),j.percent(D,Y[0]),Y.length===2&&j.alt("positionAlign",Y[1],["start","middle","end"]);break;case"size":j.percent(D,F);break;case"align":j.alt(D,F,["start","middle","end","left","right"])}},/:/,/\s/),y.region=j.get("region",null),y.vertical=j.get("vertical",""),y.line=j.get("line","auto"),y.lineAlign=j.get("lineAlign","start"),y.snapToLines=j.get("snapToLines",!0),y.size=j.get("size",100),y.align=j.get("align","middle"),y.position=j.get("position",{start:0,left:0,middle:50,end:100,right:100},y.align),y.positionAlign=j.get("positionAlign",{start:"start",left:"start",middle:"middle",end:"end",right:"end"},y.align)}(n,i)}function Mi(n,i){function e(F){return za[F]}for(var t,r=n.document.createElement("div"),a=r,f=[];(t=function(){if(!i)return null;var F=i.match(/^([^<]*)(<[^>]*>?)?/);return function(q){return i=i.substr(q.length),q}(F[1]?F[1]:F[2])}())!==null;)if(t[0]!=="<")a.appendChild(n.document.createTextNode(function(F){for(;D=F.match(/&(amp|lt|gt|lrm|rlm|nbsp);/);)F=F.replace(D[0],e);return F}(t)));else{if(t[1]==="/"){f.length&&f[f.length-1]===t.substr(2).replace(">","")&&(f.pop(),a=a.parentNode);continue}var y,j=ni(t.substr(1,t.length-2));if(j){y=n.document.createProcessingInstruction("timestamp",j),a.appendChild(y);continue}var D=t.match(/^<([^.\s\/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!D||!(y=function(F,q){var Y=ru[F];if(!Y)return null;var tt=n.document.createElement(Y);tt.localName=Y;var ft=rd[F];return ft&&q&&(tt[ft]=q.trim()),tt}(D[1],D[3]))||!function(F,q){return!fs[q.localName]||fs[q.localName]===F.localName}(a,y))continue;D[2]&&(y.className=D[2].substr(1).replace("."," ")),f.push(D[1]),a.appendChild(y),a=y}return r}function br(n){for(var i=0;i<Gu.length;i++){var e=Gu[i];if(n>=e[0]&&n<=e[1])return!0}return!1}function ya(n){function i(f,y){for(var j=y.childNodes.length-1;j>=0;j--)f.push(y.childNodes[j])}function e(f){if(!f||!f.length)return null;var y=f.pop(),j=y.textContent||y.innerText;if(j){var D=j.match(/^.*(\n|\r)/);return D?(f.length=0,D[0]):j}return y.tagName==="ruby"?e(f):y.childNodes?(i(f,y),e(f)):void 0}var t=[],r="";if(!n||!n.childNodes)return"ltr";for(i(t,n);r=e(t);)for(var a=0;a<r.length;a++)if(br(r.charCodeAt(a)))return"rtl";return"ltr"}function qr(){}function Ar(n,i,e){qr.call(this),this.cue=i,this.cueDiv=Mi(n,i.text);var t={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:i.vertical===""?"horizontal-tb":i.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(t,this.cueDiv),this.div=n.document.createElement("div"),t={direction:ya(this.cueDiv),writingMode:i.vertical===""?"horizontal-tb":i.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:i.align==="middle"?"center":i.align,font:e.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(t),this.div.appendChild(this.cueDiv);var r=0;switch(i.positionAlign){case"start":r=i.position;break;case"middle":r=i.position-i.size/2;break;case"end":r=i.position-i.size}i.vertical===""?this.applyStyles({left:this.formatStyle(r,"%"),width:this.formatStyle(i.size,"%")}):this.applyStyles({top:this.formatStyle(r,"%"),height:this.formatStyle(i.size,"%")}),this.move=function(a){this.applyStyles({top:this.formatStyle(a.top,"px"),bottom:this.formatStyle(a.bottom,"px"),left:this.formatStyle(a.left,"px"),right:this.formatStyle(a.right,"px"),height:this.formatStyle(a.height,"px"),width:this.formatStyle(a.width,"px")})}}function Jn(n){var i,e,t,r;if(n.div){e=n.div.offsetHeight,t=n.div.offsetWidth,r=n.div.offsetTop;var a=(a=n.div.childNodes)&&(a=a[0])&&a.getClientRects&&a.getClientRects();n=n.div.getBoundingClientRect(),i=a?Math.max(a[0]&&a[0].height||0,n.height/a.length):0}this.left=n.left,this.right=n.right,this.top=n.top||r,this.height=n.height||e,this.bottom=n.bottom||r+(n.height||e),this.width=n.width||t,this.lineHeight=i!==void 0?i:n.lineHeight}function ai(n,i,e,t){var r=new Jn(i),a=i.cue,f=function(dt){if(typeof dt.line=="number"&&(dt.snapToLines||dt.line>=0&&dt.line<=100))return dt.line;if(!dt.track||!dt.track.textTrackList||!dt.track.textTrackList.mediaElement)return-1;for(var At=dt.track,St=At.textTrackList,kt=0,ee=0;ee<St.length&&St[ee]!==At;ee++)St[ee].mode==="showing"&&kt++;return-1*++kt}(a),y=[];if(a.snapToLines){var j;switch(a.vertical){case"":y=["+y","-y"],j="height";break;case"rl":y=["+x","-x"],j="width";break;case"lr":y=["-x","+x"],j="width"}var D=r.lineHeight,F=D*Math.round(f),q=e[j]+D,Y=y[0];Math.abs(F)>q&&(F=F<0?-1:1,F*=Math.ceil(q/D)*D),f<0&&(F+=a.vertical===""?e.height:e.width,y=y.reverse()),r.move(Y,F)}else{var tt=r.lineHeight/e.height*100;switch(a.lineAlign){case"middle":f-=tt/2;break;case"end":f-=tt}switch(a.vertical){case"":i.applyStyles({top:i.formatStyle(f,"%")});break;case"rl":i.applyStyles({left:i.formatStyle(f,"%")});break;case"lr":i.applyStyles({right:i.formatStyle(f,"%")})}y=["+y","-x","+x","-y"],r=new Jn(i)}var ft=function(dt,At){for(var St,kt=new Jn(dt),ee=1,ie=0;ie<At.length;ie++){for(;dt.overlapsOppositeAxis(e,At[ie])||dt.within(e)&&dt.overlapsAny(t);)dt.move(At[ie]);if(dt.within(e))return dt;var Ie=dt.intersectPercentage(e);ee>Ie&&(St=new Jn(dt),ee=Ie),dt=new Jn(kt)}return St||kt}(r,y);i.move(ft.toCSSCompatValues(e))}function hi(){}function Si(n){return typeof n=="string"&&!!wa[n.toLowerCase()]&&n.toLowerCase()}function Ra(n,i,e){this.hasBeenReset=!1;var t="",r=!1,a=n,f=i,y=e,j=null,D="",F=!0,q="auto",Y="start",tt=50,ft="middle",dt=50,At="middle";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return t},set:function(St){t=""+St}},pauseOnExit:{enumerable:!0,get:function(){return r},set:function(St){r=!!St}},startTime:{enumerable:!0,get:function(){return a},set:function(St){if(typeof St!="number")throw new TypeError("Start time must be set to a number.");a=St,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return f},set:function(St){if(typeof St!="number")throw new TypeError("End time must be set to a number.");f=St,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return y},set:function(St){y=""+St,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return j},set:function(St){j=St,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return D},set:function(St){var kt=function(ee){return typeof ee=="string"&&!!Vl[ee.toLowerCase()]&&ee.toLowerCase()}(St);if(kt===!1)throw new SyntaxError("An invalid or illegal string was specified.");D=kt,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return F},set:function(St){F=!!St,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return q},set:function(St){if(typeof St!="number"&&St!==Fl)throw new SyntaxError("An invalid number or illegal string was specified.");q=St,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return Y},set:function(St){var kt=Si(St);if(!kt)throw new SyntaxError("An invalid or illegal string was specified.");Y=kt,this.hasBeenReset=!0}},position:{enumerable:!0,get:function(){return tt},set:function(St){if(St<0||St>100)throw new Error("Position must be between 0 and 100.");tt=St,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return ft},set:function(St){var kt=Si(St);if(!kt)throw new SyntaxError("An invalid or illegal string was specified.");ft=kt,this.hasBeenReset=!0}},size:{enumerable:!0,get:function(){return dt},set:function(St){if(St<0||St>100)throw new Error("Size must be between 0 and 100.");dt=St,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return At},set:function(St){var kt=Si(St);if(!kt)throw new SyntaxError("An invalid or illegal string was specified.");At=kt,this.hasBeenReset=!0}}}),this.displayState=void 0}function Tr(n){return typeof n=="number"&&n>=0&&n<=100}function Ui(n,i,e){n.setTimeout(function(){return function t(r,a,f,y,j,D){r===void 0&&(r={}),a===void 0&&(a=[]),j===void 0&&(j=[]),D===void 0&&(D=!1);var F=a,q=F[0],Y=F.slice(1);if(typeof q=="string")t(r,ka[q],f,y,j,D);else if(q){var tt=function(ft,dt){var At=so[ft.id()],St=null;if(At==null)return St=dt(ft),so[ft.id()]=[[dt,St]],St;for(var kt=0;kt<At.length;kt++){var ee=At[kt],ie=ee[0],Ie=ee[1];ie===dt&&(St=Ie)}return St===null&&(St=dt(ft),At.push([dt,St])),St}(y,q);if(!tt.setSource)return j.push(tt),t(r,Y,f,y,j,D);tt.setSource(d({},r),function(ft,dt){if(ft)return t(r,Y,f,y,j,D);j.push(tt),t(dt,r.type===dt.type?Y:ka[dt.type],f,y,j,D)})}else Y.length?t(r,Y,f,y,j,D):D?f(r,j):t(r,ka["*"],f,y,j,!0)}(i,ka[i.type],e,n)},1)}function Sr(n,i,e,t){t===void 0&&(t=null);var r="call"+yr(e),a=n.reduce(jn(r),t),f=a===hs,y=f?null:i[e](a);return function(j,D,F,q){for(var Y=j.length-1;Y>=0;Y--){var tt=j[Y];tt[D]&&tt[D](q,F)}}(n,e,y,f),y}function jn(n){return function(i,e){return i===hs?hs:e[n]?e[n](i):i}}function pi(n){if(!n.type){var i=xo(n.src);i&&(n.type=i)}return n}function Bi(n,i){var e;if(n.length===4)e=n[1]+n[1]+n[2]+n[2]+n[3]+n[3];else{if(n.length!==7)throw new Error("Invalid color code provided, "+n+"; must be formatted as e.g. #f0e or #f604e2.");e=n.slice(1)}return"rgba("+parseInt(e.slice(0,2),16)+","+parseInt(e.slice(2,4),16)+","+parseInt(e.slice(4,6),16)+","+i+")"}function Dr(n,i,e){try{n.style[i]=e}catch(t){return}}function wr(n,i){return i===void 0&&(i=n),gs(n,i)}function Ni(n,i){if(i&&(n=i(n)),n&&n!=="none")return n}function Et(n,i,e){var t=Et.getPlayer(n);if(t)return i&&re.warn('Player "'+n+'" is already initialised. Options will not be applied.'),e&&t.ready(e),t;var r=typeof n=="string"?cn("#"+Bo(n)):n;if(!_(r))throw new TypeError("The element or ID supplied is not valid. (videojs)");r.ownerDocument.defaultView&&r.ownerDocument.body.contains(r)||re.warn("The element supplied is not included in the DOM"),i=i||{},Et.hooks("beforesetup").forEach(function(f){var y=f(r,le(i));g(y)&&!Array.isArray(y)?i=le(i,y):re.error("please return an object in beforesetup hooks")});var a=ge.getComponent("Player");return t=new a(r,i,e),Et.hooks("setup").forEach(function(f){return f(t)}),t}function Fi(){return(Fi=Object.assign||function(n){for(var i=1;i<arguments.length;i++){var e=arguments[i];for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t])}return n}).apply(this,arguments)}function na(n,i){n.prototype=Object.create(i.prototype),n.prototype.constructor=n,n.__proto__=i}function mi(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function wi(n){for(var i=x.atob(n),e=new Uint8Array(i.length),t=0;t<i.length;t++)e[t]=i.charCodeAt(t);return e}function Vi(n,i){return function(e){var t=this;if(!i)return new Qc(n);if(Qc&&!e){var r=ki(i.toString().replace(/^function.+?{/,"").slice(0,-1));return this[Af]=new Qc(r),function(f,y){if(f&&y){var j=f.terminate;f.objURL=y,f.terminate=function(){f.objURL&&Zc.revokeObjectURL(f.objURL),j.call(f)}}}(this[Af],r),this[Af]}var a={postMessage:function(f){t.onmessage&&setTimeout(function(){t.onmessage({data:f,target:a})})}};i.call(a),this.postMessage=function(f){setTimeout(function(){a.onmessage({data:f,target:t})})},this.isThisThread=!0}}function ki(n){try{return Zc.createObjectURL(new Blob([n],{type:Vp}))}catch(e){var i=new Hp;return i.append(n),Zc.createObjectURL(i.getBlob(type))}}function vi(){}x=x&&x.hasOwnProperty("default")?x.default:x,V=V&&V.hasOwnProperty("default")?V.default:V;var Hi="7.6.3",Wn=[],Nr=function(n,i){return function(e,t,r){var a=i.levels[t],f=new RegExp("^("+a+")$");if(e!=="log"&&r.unshift(e.toUpperCase()+":"),r.unshift(n+":"),Wn&&Wn.push([].concat(r)),x.console){var y=x.console[e];y||e!=="debug"||(y=x.console.info||x.console.log),y&&a&&f.test(e)&&y[Array.isArray(r)?"apply":"call"](x.console,r)}}},re=function n(i){var e,t="info",r=function(){for(var a=arguments.length,f=new Array(a),y=0;y<a;y++)f[y]=arguments[y];e("log",t,f)};return e=Nr(i,r),r.createLogger=function(a){return n(i+": "+a)},r.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:t},r.level=function(a){if(typeof a=="string"){if(!r.levels.hasOwnProperty(a))throw new Error('"'+a+'" in not a valid log level');t=a}return t},(r.history=function(){return Wn?[].concat(Wn):[]}).filter=function(a){return(Wn||[]).filter(function(f){return new RegExp(".*"+a+".*").test(f[0])})},r.history.clear=function(){Wn&&(Wn.length=0)},r.history.disable=function(){Wn!==null&&(Wn.length=0,Wn=null)},r.history.enable=function(){Wn===null&&(Wn=[])},r.error=function(){for(var a=arguments.length,f=new Array(a),y=0;y<a;y++)f[y]=arguments[y];return e("error",t,f)},r.warn=function(){for(var a=arguments.length,f=new Array(a),y=0;y<a;y++)f[y]=arguments[y];return e("warn",t,f)},r.debug=function(){for(var a=arguments.length,f=new Array(a),y=0;y<a;y++)f[y]=arguments[y];return e("debug",t,f)},r}("VIDEOJS"),Le=re.createLogger,Qe=Object.prototype.toString,nr=function(n){return g(n)?Object.keys(n):[]},cn=k("querySelector"),$r=k("querySelectorAll"),Ei=Object.freeze({isReal:l,isEl:_,isInFrame:T,createEl:S,textContent:w,prependTo:C,hasClass:b,addClass:E,removeClass:A,toggleClass:P,setAttributes:z,getAttributes:B,getAttribute:H,setAttribute:K,removeAttribute:Q,blockTextSelection:ct,unblockTextSelection:mt,getBoundingClientRect:It,findPosition:Dt,getPointerPosition:Wt,isTextNode:Zt,emptyEl:Rt,normalizeContent:qt,appendContent:ae,insertContent:Ut,isSingleLeftClick:U,$:cn,$$:$r}),qe=new WeakMap,jr=1,Ci=!1;(function(){try{var n=Object.defineProperty({},"passive",{get:function(){Ci=!0}});x.addEventListener("test",null,n),x.removeEventListener("test",null,n)}catch(i){}})();var oi,si=["touchstart","touchmove"],vr=Object.freeze({fixEvent:Lt,on:vt,off:ht,trigger:pt,one:Bt,any:Ot}),Ai=!1,jt=function(){if(l()&&oi.options.autoSetup!==!1){var n=Array.prototype.slice.call(V.getElementsByTagName("video")),i=Array.prototype.slice.call(V.getElementsByTagName("audio")),e=Array.prototype.slice.call(V.getElementsByTagName("video-js")),t=n.concat(i,e);if(t&&t.length>0)for(var r=0,a=t.length;r<a;r++){var f=t[r];if(!f||!f.getAttribute){zt(1);break}f.player===void 0&&f.getAttribute("data-setup")!==null&&oi(f)}else Ai||zt(1)}};l()&&V.readyState==="complete"?Ai=!0:Bt(x,"load",function(){Ai=!0});var $t,Xt=function(n){var i=V.createElement("style");return i.className=n,i},Kt=function(n,i){n.styleSheet?n.styleSheet.cssText=i:n.textContent=i},he=30,pe=function(n,i,e){i.guid||(i.guid=ot());var t=i.bind(n);return t.guid=e?e+"_"+i.guid:i.guid,t},Re=function(n,i){var e=x.performance.now();return function(){var t=x.performance.now();t-e>=i&&(n.apply(void 0,arguments),e=t)}},Ne=function(){};Ne.prototype.allowedEvents_={},Ne.prototype.on=function(n,i){var e=this.addEventListener;this.addEventListener=function(){},vt(this,n,i),this.addEventListener=e},Ne.prototype.addEventListener=Ne.prototype.on,Ne.prototype.off=function(n,i){ht(this,n,i)},Ne.prototype.removeEventListener=Ne.prototype.off,Ne.prototype.one=function(n,i){var e=this.addEventListener;this.addEventListener=function(){},Bt(this,n,i),this.addEventListener=e},Ne.prototype.any=function(n,i){var e=this.addEventListener;this.addEventListener=function(){},Ot(this,n,i),this.addEventListener=e},Ne.prototype.trigger=function(n){var i=n.type||n;typeof n=="string"&&(n={type:i}),n=Lt(n),this.allowedEvents_[i]&&this["on"+i]&&this["on"+i](n),pt(this,n)},Ne.prototype.dispatchEvent=Ne.prototype.trigger,Ne.prototype.queueTrigger=function(n){var i=this;$t||($t=new Map);var e=n.type||n,t=$t.get(this);t||(t=new Map,$t.set(this,t));var r=t.get(e);t.delete(e),x.clearTimeout(r);var a=x.setTimeout(function(){t.size===0&&(t=null,$t.delete(i)),i.trigger(n)},0);t.set(e,a)};var rn=function(n){return n instanceof Ne||!!n.eventBusEl_&&["on","one","off","trigger"].every(function(i){return typeof n[i]=="function"})},Xe=function(n){return typeof n=="string"&&/\S/.test(n)||Array.isArray(n)&&!!n.length},ir=function(n){if(!n.nodeName&&!rn(n))throw new Error("Invalid target; must be a DOM node or evented object.")},gr=function(n){if(!Xe(n))throw new Error("Invalid event type; must be a non-empty string or array.")},ur=function(n){if(typeof n!="function")throw new Error("Invalid listener; must be a function.")},kr=function(n,i){var e,t,r,a=i.length<3||i[0]===n||i[0]===n.eventBusEl_;return a?(e=n.eventBusEl_,i.length>=3&&i.shift(),t=i[0],r=i[1]):(e=i[0],t=i[1],r=i[2]),ir(e),gr(t),ur(r),{isTargetingSelf:a,target:e,type:t,listener:r=pe(n,r)}},hr=function(n,i,e,t){ir(n),n.nodeName?vr[i](n,e,t):n[i](e,t)},$o={on:function(){for(var n=this,i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];var r=kr(this,e),a=r.isTargetingSelf,f=r.target,y=r.type,j=r.listener;if(hr(f,"on",y,j),!a){var D=function(){return n.off(f,y,j)};D.guid=j.guid;var F=function(){return n.off("dispose",D)};F.guid=j.guid,hr(this,"on","dispose",D),hr(f,"on","dispose",F)}},one:function(){for(var n=this,i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];var r=kr(this,e),a=r.isTargetingSelf,f=r.target,y=r.type,j=r.listener;if(a)hr(f,"one",y,j);else{var D=function F(){n.off(f,y,F);for(var q=arguments.length,Y=new Array(q),tt=0;tt<q;tt++)Y[tt]=arguments[tt];j.apply(null,Y)};D.guid=j.guid,hr(f,"one",y,D)}},any:function(){for(var n=this,i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];var r=kr(this,e),a=r.isTargetingSelf,f=r.target,y=r.type,j=r.listener;if(a)hr(f,"any",y,j);else{var D=function F(){n.off(f,y,F);for(var q=arguments.length,Y=new Array(q),tt=0;tt<q;tt++)Y[tt]=arguments[tt];j.apply(null,Y)};D.guid=j.guid,hr(f,"any",y,D)}},off:function(n,i,e){if(!n||Xe(n))ht(this.eventBusEl_,n,i);else{var t=n,r=i;ir(t),gr(r),ur(e),e=pe(this,e),this.off("dispose",e),t.nodeName?(ht(t,r,e),ht(t,"dispose",e)):rn(t)&&(t.off(r,e),t.off("dispose",e))}},trigger:function(n,i){return pt(this.eventBusEl_,n,i)}},Ds={state:{},setState:function(n){var i,e=this;return typeof n=="function"&&(n=n()),o(n,function(t,r){e.state[r]!==t&&((i=i||{})[r]={from:e.state[r],to:t}),e.state[r]=t}),i&&rn(this)&&this.trigger({changes:i,type:"statechanged"}),i}},Ms=function(n){return typeof n!="string"?n:n.replace(/./,function(i){return i.toLowerCase()})},yr=function(n){return typeof n!="string"?n:n.replace(/./,function(i){return i.toUpperCase()})},ge=function(){function n(e,t,r){if(!e&&this.play?this.player_=e=this:this.player_=e,this.parentComponent_=null,this.options_=le({},this.options_),t=this.options_=le(this.options_,t),this.id_=t.id||t.el&&t.el.id,!this.id_){var a=e&&e.id&&e.id()||"no_player";this.id_=a+"_component_"+ot()}this.name_=t.name||null,t.el?this.el_=t.el:t.createEl!==!1&&(this.el_=this.createEl()),t.evented!==!1&&se(this,{eventBusKey:this.el_?"el_":null}),Oe(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.setTimeoutIds_=new Set,this.setIntervalIds_=new Set,this.rafIds_=new Set,this.clearingTimersOnDispose_=!1,t.initChildren!==!1&&this.initChildren(),this.ready(r),t.reportTouchActivity!==!1&&this.enableTouchActivity()}var i=n.prototype;return i.dispose=function(){if(this.trigger({type:"dispose",bubbles:!1}),this.children_)for(var e=this.children_.length-1;e>=0;e--)this.children_[e].dispose&&this.children_[e].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),qe.has(this.el_)&&qe.delete(this.el_),this.el_=null),this.player_=null},i.player=function(){return this.player_},i.options=function(e){return e?(this.options_=le(this.options_,e),this.options_):this.options_},i.el=function(){return this.el_},i.createEl=function(e,t,r){return S(e,t,r)},i.localize=function(e,t,r){r===void 0&&(r=e);var a=this.player_.language&&this.player_.language(),f=this.player_.languages&&this.player_.languages(),y=f&&f[a],j=a&&a.split("-")[0],D=f&&f[j],F=r;return y&&y[e]?F=y[e]:D&&D[e]&&(F=D[e]),t&&(F=F.replace(/\{(\d+)\}/g,function(q,Y){var tt=t[Y-1],ft=tt;return tt===void 0&&(ft=q),ft})),F},i.contentEl=function(){return this.contentEl_||this.el_},i.id=function(){return this.id_},i.name=function(){return this.name_},i.children=function(){return this.children_},i.getChildById=function(e){return this.childIndex_[e]},i.getChild=function(e){if(e)return this.childNameIndex_[e]},i.addChild=function(e,t,r){var a,f;if(t===void 0&&(t={}),r===void 0&&(r=this.children_.length),typeof e=="string"){f=yr(e);var y=t.componentClass||f;t.name=f;var j=n.getComponent(y);if(!j)throw new Error("Component "+y+" does not exist");if(typeof j!="function")return null;a=new j(this.player_||this,t)}else a=e;if(a.parentComponent_&&a.parentComponent_.removeChild(a),this.children_.splice(r,0,a),a.parentComponent_=this,typeof a.id=="function"&&(this.childIndex_[a.id()]=a),(f=f||a.name&&yr(a.name()))&&(this.childNameIndex_[f]=a,this.childNameIndex_[Ms(f)]=a),typeof a.el=="function"&&a.el()){var D=this.contentEl().children[r]||null;this.contentEl().insertBefore(a.el(),D)}return a},i.removeChild=function(e){if(typeof e=="string"&&(e=this.getChild(e)),e&&this.children_){for(var t=!1,r=this.children_.length-1;r>=0;r--)if(this.children_[r]===e){t=!0,this.children_.splice(r,1);break}if(t){e.parentComponent_=null,this.childIndex_[e.id()]=null,this.childNameIndex_[yr(e.name())]=null,this.childNameIndex_[Ms(e.name())]=null;var a=e.el();a&&a.parentNode===this.contentEl()&&this.contentEl().removeChild(e.el())}}},i.initChildren=function(){var e=this,t=this.options_.children;if(t){var r,a=this.options_,f=n.getComponent("Tech");(r=Array.isArray(t)?t:Object.keys(t)).concat(Object.keys(this.options_).filter(function(y){return!r.some(function(j){return typeof j=="string"?y===j:y===j.name})})).map(function(y){var j,D;return typeof y=="string"?D=t[j=y]||e.options_[j]||{}:(j=y.name,D=y),{name:j,opts:D}}).filter(function(y){var j=n.getComponent(y.opts.componentClass||yr(y.name));return j&&!f.isTech(j)}).forEach(function(y){var j=y.name,D=y.opts;if(a[j]!==void 0&&(D=a[j]),D!==!1){D===!0&&(D={}),D.playerOptions=e.options_.playerOptions;var F=e.addChild(j,D);F&&(e[j]=F)}})}},i.buildCSSClass=function(){return""},i.ready=function(e,t){if(t===void 0&&(t=!1),e)return this.isReady_?void(t?e.call(this):this.setTimeout(e,1)):(this.readyQueue_=this.readyQueue_||[],void this.readyQueue_.push(e))},i.triggerReady=function(){this.isReady_=!0,this.setTimeout(function(){var e=this.readyQueue_;this.readyQueue_=[],e&&e.length>0&&e.forEach(function(t){t.call(this)},this),this.trigger("ready")},1)},i.$=function(e,t){return cn(e,t||this.contentEl())},i.$$=function(e,t){return $r(e,t||this.contentEl())},i.hasClass=function(e){return b(this.el_,e)},i.addClass=function(e){E(this.el_,e)},i.removeClass=function(e){A(this.el_,e)},i.toggleClass=function(e,t){P(this.el_,e,t)},i.show=function(){this.removeClass("vjs-hidden")},i.hide=function(){this.addClass("vjs-hidden")},i.lockShowing=function(){this.addClass("vjs-lock-showing")},i.unlockShowing=function(){this.removeClass("vjs-lock-showing")},i.getAttribute=function(e){return H(this.el_,e)},i.setAttribute=function(e,t){K(this.el_,e,t)},i.removeAttribute=function(e){Q(this.el_,e)},i.width=function(e,t){return this.dimension("width",e,t)},i.height=function(e,t){return this.dimension("height",e,t)},i.dimensions=function(e,t){this.width(e,!0),this.height(t)},i.dimension=function(e,t,r){if(t!==void 0)return t!==null&&t==t||(t=0),(""+t).indexOf("%")!==-1||(""+t).indexOf("px")!==-1?this.el_.style[e]=t:this.el_.style[e]=t==="auto"?"":t+"px",void(r||this.trigger("componentresize"));if(!this.el_)return 0;var a=this.el_.style[e],f=a.indexOf("px");return parseInt(f!==-1?a.slice(0,f):this.el_["offset"+yr(e)],10)},i.currentDimension=function(e){var t=0;if(e!=="width"&&e!=="height")throw new Error("currentDimension only accepts width or height value");if(t=u(this.el_,e),(t=parseFloat(t))===0||isNaN(t)){var r="offset"+yr(e);t=this.el_[r]}return t},i.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},i.currentWidth=function(){return this.currentDimension("width")},i.currentHeight=function(){return this.currentDimension("height")},i.focus=function(){this.el_.focus()},i.blur=function(){this.el_.blur()},i.handleKeyDown=function(e){this.player_&&(e.stopPropagation(),this.player_.handleKeyDown(e))},i.handleKeyPress=function(e){this.handleKeyDown(e)},i.emitTapEvents=function(){var e,t=0,r=null;this.on("touchstart",function(f){f.touches.length===1&&(r={pageX:f.touches[0].pageX,pageY:f.touches[0].pageY},t=x.performance.now(),e=!0)}),this.on("touchmove",function(f){if(f.touches.length>1)e=!1;else if(r){var y=f.touches[0].pageX-r.pageX,j=f.touches[0].pageY-r.pageY;Math.sqrt(y*y+j*j)>10&&(e=!1)}});var a=function(){e=!1};this.on("touchleave",a),this.on("touchcancel",a),this.on("touchend",function(f){r=null,e===!0&&x.performance.now()-t<200&&(f.preventDefault(),this.trigger("tap"))})},i.enableTouchActivity=function(){if(this.player()&&this.player().reportUserActivity){var e,t=pe(this.player(),this.player().reportUserActivity);this.on("touchstart",function(){t(),this.clearInterval(e),e=this.setInterval(t,250)});var r=function(a){t(),this.clearInterval(e)};this.on("touchmove",t),this.on("touchend",r),this.on("touchcancel",r)}},i.setTimeout=function(e,t){var r,a=this;return e=pe(this,e),this.clearTimersOnDispose_(),r=x.setTimeout(function(){a.setTimeoutIds_.has(r)&&a.setTimeoutIds_.delete(r),e()},t),this.setTimeoutIds_.add(r),r},i.clearTimeout=function(e){return this.setTimeoutIds_.has(e)&&(this.setTimeoutIds_.delete(e),x.clearTimeout(e)),e},i.setInterval=function(e,t){e=pe(this,e),this.clearTimersOnDispose_();var r=x.setInterval(e,t);return this.setIntervalIds_.add(r),r},i.clearInterval=function(e){return this.setIntervalIds_.has(e)&&(this.setIntervalIds_.delete(e),x.clearInterval(e)),e},i.requestAnimationFrame=function(e){var t,r=this;return this.supportsRaf_?(this.clearTimersOnDispose_(),e=pe(this,e),t=x.requestAnimationFrame(function(){r.rafIds_.has(t)&&r.rafIds_.delete(t),e()}),this.rafIds_.add(t),t):this.setTimeout(e,1e3/60)},i.cancelAnimationFrame=function(e){return this.supportsRaf_?(this.rafIds_.has(e)&&(this.rafIds_.delete(e),x.cancelAnimationFrame(e)),e):this.clearTimeout(e)},i.clearTimersOnDispose_=function(){var e=this;this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",function(){[["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach(function(t){var r=t[0],a=t[1];e[r].forEach(e[a],e)}),e.clearingTimersOnDispose_=!1}))},n.registerComponent=function(e,t){if(typeof e!="string"||!e)throw new Error('Illegal component name, "'+e+'"; must be a non-empty string.');var r=n.getComponent("Tech"),a=r&&r.isTech(t),f=n===t||n.prototype.isPrototypeOf(t.prototype);if(a||!f)throw new Error('Illegal component, "'+e+'"; '+(a?"techs must be registered using Tech.registerTech()":"must be a Component subclass")+".");e=yr(e),n.components_||(n.components_={});var y=n.getComponent("Player");if(e==="Player"&&y&&y.players){var j=y.players,D=Object.keys(j);if(j&&D.length>0&&D.map(function(F){return j[F]}).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return n.components_[e]=t,n.components_[Ms(e)]=t,t},n.getComponent=function(e){if(e&&n.components_)return n.components_[e]},n}();ge.prototype.supportsRaf_=typeof x.requestAnimationFrame=="function"&&typeof x.cancelAnimationFrame=="function",ge.registerComponent("Component",ge);for(var Ko,Zn=x.navigator&&x.navigator.userAgent||"",xl=/AppleWebKit\/([\d.]+)/i.exec(Zn),zi=xl?parseFloat(xl.pop()):null,Lu=/iPad/i.test(Zn),Pu=/iPhone/i.test(Zn)&&!Lu,Ia=/iPod/i.test(Zn),ui=Pu||Lu||Ia,Us=function(){var n=Zn.match(/OS (\d+)_/i);return n&&n[1]?n[1]:null}(),Kn=/Android/i.test(Zn),ra=function(){var n=Zn.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!n)return null;var i=n[1]&&parseFloat(n[1]),e=n[2]&&parseFloat(n[2]);return i&&e?parseFloat(n[1]+"."+n[2]):i||null}(),Xo=Kn&&ra<5&&zi<537,Ol=/Firefox/i.test(Zn),Yo=/Edge/i.test(Zn),Da=!Yo&&(/Chrome/i.test(Zn)||/CriOS/i.test(Zn)),Jo=function(){var n=Zn.match(/(Chrome|CriOS)\/(\d+)/);return n&&n[2]?parseFloat(n[2]):null}(),_a=function(){var n=/MSIE\s(\d+)\.\d/.exec(Zn),i=n&&parseFloat(n[1]);return!i&&/Trident\/7.0/i.test(Zn)&&/rv:11.0/.test(Zn)&&(i=11),i}(),Ma=/Safari/i.test(Zn)&&!Da&&!Kn&&!Yo,Bs=(Ma||ui)&&!Da,Zo=/Windows/i.test(Zn),So=l()&&("ontouchstart"in x||x.navigator.maxTouchPoints||x.DocumentTouch&&x.document instanceof x.DocumentTouch),Ll=Object.freeze({IS_IPAD:Lu,IS_IPHONE:Pu,IS_IPOD:Ia,IS_IOS:ui,IOS_VERSION:Us,IS_ANDROID:Kn,ANDROID_VERSION:ra,IS_NATIVE_ANDROID:Xo,IS_FIREFOX:Ol,IS_EDGE:Yo,IS_CHROME:Da,CHROME_VERSION:Jo,IE_VERSION:_a,IS_SAFARI:Ma,IS_ANY_SAFARI:Bs,IS_WINDOWS:Zo,TOUCH_ENABLED:So}),Ns={prefixed:!0},Fs=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"]],Vs=Fs[0],Gi=0;Gi<Fs.length;Gi++)if(Fs[Gi][1]in V){Ko=Fs[Gi];break}if(Ko){for(var Qo=0;Qo<Ko.length;Qo++)Ns[Vs[Qo]]=Ko[Qo];Ns.prefixed=Ko[0]!==Vs[0]}ce.prototype.code=0,ce.prototype.message="",ce.prototype.status=null,ce.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],ce.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var Pr=0;Pr<ce.errorTypes.length;Pr++)ce[ce.errorTypes[Pr]]=Pr,ce.prototype[ce.errorTypes[Pr]]=Pr;var Hs=function(n,i){var e,t=null;try{e=JSON.parse(n,i)}catch(r){t=r}return[t,e]},Kr=function(n){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(function(i,e,t){return n[e]&&(i[e]=n[e]),i},{cues:n.cues&&Array.prototype.map.call(n.cues,function(i){return{startTime:i.startTime,endTime:i.endTime,text:i.text,id:i.id}})})},ba=function(n){var i=n.$$("track"),e=Array.prototype.map.call(i,function(t){return t.track});return Array.prototype.map.call(i,function(t){var r=Kr(t.track);return t.src&&(r.src=t.src),r}).concat(Array.prototype.filter.call(n.textTracks(),function(t){return e.indexOf(t)===-1}).map(Kr))},Ru=function(n,i){return n.forEach(function(e){var t=i.addRemoteTextTrack(e).track;!e.src&&e.cues&&e.cues.forEach(function(r){return t.addCue(r)})}),i.textTracks()},sn=vn(function(n,i){function e(j){if(j&&typeof j=="object"){var D=j.which||j.keyCode||j.charCode;D&&(j=D)}if(typeof j=="number")return f[j];var F,q=String(j);return(F=t[q.toLowerCase()])?F:(F=r[q.toLowerCase()])||(q.length===1?q.charCodeAt(0):void 0)}e.isEventKey=function(j,D){if(j&&typeof j=="object"){var F=j.which||j.keyCode||j.charCode;if(F==null)return!1;if(typeof D=="string"){var q;if((q=t[D.toLowerCase()])||(q=r[D.toLowerCase()]))return q===F}else if(typeof D=="number")return D===F;return!1}};var t=(i=n.exports=e).code=i.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},r=i.aliases={windows:91,"\u21E7":16,"\u2325":18,"\u2303":17,"\u2318":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};for(a=97;a<123;a++)t[String.fromCharCode(a)]=a-32;for(var a=48;a<58;a++)t[a-48]=a;for(a=1;a<13;a++)t["f"+a]=a+111;for(a=0;a<10;a++)t["numpad "+a]=a+96;var f=i.names=i.title={};for(a in t)f[t[a]]=a;for(var y in r)t[y]=r[y]}),zs=(sn.code,sn.codes,sn.aliases,sn.names,sn.title,"vjs-modal-dialog"),Za=function(n){function i(t,r){var a;return(a=n.call(this,t,r)||this).opened_=a.hasBeenOpened_=a.hasBeenFilled_=!1,a.closeable(!a.options_.uncloseable),a.content(a.options_.content),a.contentEl_=S("div",{className:zs+"-content"},{role:"document"}),a.descEl_=S("p",{className:zs+"-description vjs-control-text",id:a.el().getAttribute("aria-describedby")}),w(a.descEl_,a.description()),a.el_.appendChild(a.descEl_),a.el_.appendChild(a.contentEl_),a}Qt(i,n);var e=i.prototype;return e.createEl=function(){return n.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},e.dispose=function(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,n.prototype.dispose.call(this)},e.buildCSSClass=function(){return zs+" vjs-hidden "+n.prototype.buildCSSClass.call(this)},e.label=function(){return this.localize(this.options_.label||"Modal Window")},e.description=function(){var t=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(t+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),t},e.open=function(){if(!this.opened_){var t=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!t.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&t.pause(),this.on("keydown",this.handleKeyDown),this.hadControls_=t.controls(),t.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}},e.opened=function(t){return typeof t=="boolean"&&this[t?"open":"close"](),this.opened_},e.close=function(){if(this.opened_){var t=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&t.play(),this.off("keydown",this.handleKeyDown),this.hadControls_&&t.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}},e.closeable=function(t){if(typeof t=="boolean"){var r=this.closeable_=!!t,a=this.getChild("closeButton");if(r&&!a){var f=this.contentEl_;this.contentEl_=this.el_,a=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=f,this.on(a,"close",this.close)}!r&&a&&(this.off(a,"close",this.close),this.removeChild(a),a.dispose())}return this.closeable_},e.fill=function(){this.fillWith(this.content())},e.fillWith=function(t){var r=this.contentEl(),a=r.parentNode,f=r.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,a.removeChild(r),this.empty(),Ut(r,t),this.trigger("modalfill"),f?a.insertBefore(r,f):a.appendChild(r);var y=this.getChild("closeButton");y&&a.appendChild(y.el_)},e.empty=function(){this.trigger("beforemodalempty"),Rt(this.contentEl()),this.trigger("modalempty")},e.content=function(t){return t!==void 0&&(this.content_=t),this.content_},e.conditionalFocus_=function(){var t=V.activeElement,r=this.player_.el_;this.previouslyActiveEl_=null,(r.contains(t)||r===t)&&(this.previouslyActiveEl_=t,this.focus())},e.conditionalBlur_=function(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)},e.handleKeyDown=function(t){if(t.stopPropagation(),sn.isEventKey(t,"Escape")&&this.closeable())return t.preventDefault(),void this.close();if(sn.isEventKey(t,"Tab")){for(var r,a=this.focusableEls_(),f=this.el_.querySelector(":focus"),y=0;y<a.length;y++)if(f===a[y]){r=y;break}V.activeElement===this.el_&&(r=0),t.shiftKey&&r===0?(a[a.length-1].focus(),t.preventDefault()):t.shiftKey||r!==a.length-1||(a[0].focus(),t.preventDefault())}},e.focusableEls_=function(){var t=this.el_.querySelectorAll("*");return Array.prototype.filter.call(t,function(r){return(r instanceof x.HTMLAnchorElement||r instanceof x.HTMLAreaElement)&&r.hasAttribute("href")||(r instanceof x.HTMLInputElement||r instanceof x.HTMLSelectElement||r instanceof x.HTMLTextAreaElement||r instanceof x.HTMLButtonElement)&&!r.hasAttribute("disabled")||r instanceof x.HTMLIFrameElement||r instanceof x.HTMLObjectElement||r instanceof x.HTMLEmbedElement||r.hasAttribute("tabindex")&&r.getAttribute("tabindex")!==-1||r.hasAttribute("contenteditable")})},i}(ge);Za.prototype.options_={pauseOnOpen:!0,temporary:!0},ge.registerComponent("ModalDialog",Za);var ia=function(n){function i(t){var r;t===void 0&&(t=[]),(r=n.call(this)||this).tracks_=[],Object.defineProperty(Te(r),"length",{get:function(){return this.tracks_.length}});for(var a=0;a<t.length;a++)r.addTrack(t[a]);return r}Qt(i,n);var e=i.prototype;return e.addTrack=function(t){var r=this.tracks_.length;""+r in this||Object.defineProperty(this,r,{get:function(){return this.tracks_[r]}}),this.tracks_.indexOf(t)===-1&&(this.tracks_.push(t),this.trigger({track:t,type:"addtrack",target:this}))},e.removeTrack=function(t){for(var r,a=0,f=this.length;a<f;a++)if(this[a]===t){(r=this[a]).off&&r.off(),this.tracks_.splice(a,1);break}r&&this.trigger({track:r,type:"removetrack",target:this})},e.getTrackById=function(t){for(var r=null,a=0,f=this.length;a<f;a++){var y=this[a];if(y.id===t){r=y;break}}return r},i}(Ne);for(var wo in ia.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack"},ia.prototype.allowedEvents_)ia.prototype["on"+wo]=null;var ts,es=function(n,i){for(var e=0;e<n.length;e++)Object.keys(n[e]).length&&i.id!==n[e].id&&(n[e].enabled=!1)},Qa=function(n){function i(t){var r;t===void 0&&(t=[]);for(var a=t.length-1;a>=0;a--)if(t[a].enabled){es(t,t[a]);break}return(r=n.call(this,t)||this).changing_=!1,r}Qt(i,n);var e=i.prototype;return e.addTrack=function(t){var r=this;t.enabled&&es(this,t),n.prototype.addTrack.call(this,t),t.addEventListener&&(t.enabledChange_=function(){r.changing_||(r.changing_=!0,es(r,t),r.changing_=!1,r.trigger("change"))},t.addEventListener("enabledchange",t.enabledChange_))},e.removeTrack=function(t){n.prototype.removeTrack.call(this,t),t.removeEventListener&&t.enabledChange_&&(t.removeEventListener("enabledchange",t.enabledChange_),t.enabledChange_=null)},i}(ia),ns=function(n,i){for(var e=0;e<n.length;e++)Object.keys(n[e]).length&&i.id!==n[e].id&&(n[e].selected=!1)},aa=function(n){function i(t){var r;t===void 0&&(t=[]);for(var a=t.length-1;a>=0;a--)if(t[a].selected){ns(t,t[a]);break}return(r=n.call(this,t)||this).changing_=!1,Object.defineProperty(Te(r),"selectedIndex",{get:function(){for(var f=0;f<this.length;f++)if(this[f].selected)return f;return-1},set:function(){}}),r}Qt(i,n);var e=i.prototype;return e.addTrack=function(t){var r=this;t.selected&&ns(this,t),n.prototype.addTrack.call(this,t),t.addEventListener&&(t.selectedChange_=function(){r.changing_||(r.changing_=!0,ns(r,t),r.changing_=!1,r.trigger("change"))},t.addEventListener("selectedchange",t.selectedChange_))},e.removeTrack=function(t){n.prototype.removeTrack.call(this,t),t.removeEventListener&&t.selectedChange_&&(t.removeEventListener("selectedchange",t.selectedChange_),t.selectedChange_=null)},i}(ia),gi=function(n){function i(){return n.apply(this,arguments)||this}Qt(i,n);var e=i.prototype;return e.addTrack=function(t){var r=this;n.prototype.addTrack.call(this,t),this.queueChange_||(this.queueChange_=function(){return r.queueTrigger("change")}),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=function(){return r.trigger("selectedlanguagechange")}),t.addEventListener("modechange",this.queueChange_),["metadata","chapters"].indexOf(t.kind)===-1&&t.addEventListener("modechange",this.triggerSelectedlanguagechange_)},e.removeTrack=function(t){n.prototype.removeTrack.call(this,t),t.removeEventListener&&(this.queueChange_&&t.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&t.removeEventListener("modechange",this.triggerSelectedlanguagechange_))},i}(ia),ji=function(){function n(e){e===void 0&&(e=[]),this.trackElements_=[],Object.defineProperty(this,"length",{get:function(){return this.trackElements_.length}});for(var t=0,r=e.length;t<r;t++)this.addTrackElement_(e[t])}var i=n.prototype;return i.addTrackElement_=function(e){var t=this.trackElements_.length;""+t in this||Object.defineProperty(this,t,{get:function(){return this.trackElements_[t]}}),this.trackElements_.indexOf(e)===-1&&this.trackElements_.push(e)},i.getTrackElementByTrack_=function(e){for(var t,r=0,a=this.trackElements_.length;r<a;r++)if(e===this.trackElements_[r].track){t=this.trackElements_[r];break}return t},i.removeTrackElement_=function(e){for(var t=0,r=this.trackElements_.length;t<r;t++)if(e===this.trackElements_[t]){this.trackElements_[t].track&&typeof this.trackElements_[t].track.off=="function"&&this.trackElements_[t].track.off(),typeof this.trackElements_[t].off=="function"&&this.trackElements_[t].off(),this.trackElements_.splice(t,1);break}},n}(),Pl=function(){function n(e){n.prototype.setCues_.call(this,e),Object.defineProperty(this,"length",{get:function(){return this.length_}})}var i=n.prototype;return i.setCues_=function(e){var t=this.length||0,r=0,a=e.length;this.cues_=e,this.length_=e.length;var f=function(y){""+y in this||Object.defineProperty(this,""+y,{get:function(){return this.cues_[y]}})};if(t<a)for(r=t;r<a;r++)f.call(this,r)},i.getCueById=function(e){for(var t=null,r=0,a=this.length;r<a;r++){var f=this[r];if(f.id===e){t=f;break}}return t},n}(),Sc={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},Gs={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},Gt={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},oe={disabled:"disabled",hidden:"hidden",showing:"showing"},ue=function(n){function i(e){var t;e===void 0&&(e={}),t=n.call(this)||this;var r={id:e.id||"vjs_track_"+ot(),kind:e.kind||"",label:e.label||"",language:e.language||""};for(var a in r)(function(f){Object.defineProperty(Te(t),f,{get:function(){return r[f]},set:function(){}})})(a);return t}return Qt(i,n),i}(Ne),Ae=function(n){var i=["protocol","hostname","port","pathname","search","hash","host"],e=V.createElement("a");e.href=n;var t,r=e.host===""&&e.protocol!=="file:";r&&((t=V.createElement("div")).innerHTML='<a href="'+n+'"></a>',e=t.firstChild,t.setAttribute("style","display:none; position:absolute;"),V.body.appendChild(t));for(var a={},f=0;f<i.length;f++)a[i[f]]=e[i[f]];return a.protocol==="http:"&&(a.host=a.host.replace(/:80$/,"")),a.protocol==="https:"&&(a.host=a.host.replace(/:443$/,"")),a.protocol||(a.protocol=x.location.protocol),r&&V.body.removeChild(t),a},Ue=function(n){if(!n.match(/^https?:\/\//)){var i=V.createElement("div");i.innerHTML='<a href="'+n+'">x</a>',n=i.firstChild.href}return n},Bn=function(n){if(typeof n=="string"){var i=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/.exec(n);if(i)return i.pop().toLowerCase()}return""},lr=function(n){var i=x.location,e=Ae(n);return(e.protocol===":"?i.protocol:e.protocol)+e.host!==i.protocol+i.host},oa=Object.freeze({parseUrl:Ae,getAbsoluteURL:Ue,getFileExtension:Bn,isCrossOrigin:lr}),ar=function(n){var i=Iu.call(n);return i==="[object Function]"||typeof n=="function"&&i!=="[object RegExp]"||typeof window!="undefined"&&(n===window.setTimeout||n===window.alert||n===window.confirm||n===window.prompt)},Iu=Object.prototype.toString,Rl=Array.prototype.slice,Wi=Object.prototype.toString,rs=Function.prototype.bind||function(n){var i=this;if(typeof i!="function"||Wi.call(i)!=="[object Function]")throw new TypeError("Function.prototype.bind called on incompatible "+i);for(var e,t=Rl.call(arguments,1),r=function(){if(this instanceof e){var D=i.apply(this,t.concat(Rl.call(arguments)));return Object(D)===D?D:this}return i.apply(n,t.concat(Rl.call(arguments)))},a=Math.max(0,i.length-t.length),f=[],y=0;y<a;y++)f.push("$"+y);if(e=Function("binder","return function ("+f.join(",")+"){ return binder.apply(this,arguments); }")(r),i.prototype){var j=function(){};j.prototype=i.prototype,e.prototype=new j,j.prototype=null}return e},Il=Object.prototype.toString,to=function(n){var i=Il.call(n),e=i==="[object Arguments]";return e||(e=i!=="[object Array]"&&n!==null&&typeof n=="object"&&typeof n.length=="number"&&n.length>=0&&Il.call(n.callee)==="[object Function]"),e};if(!Object.keys){var ko=Object.prototype.hasOwnProperty,Ws=Object.prototype.toString,Xn=to,Du=Object.prototype.propertyIsEnumerable,Dl=!Du.call({toString:null},"toString"),Eo=Du.call(function(){},"prototype"),qs=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],$s=function(n){var i=n.constructor;return i&&i.prototype===n},Ml={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},Mu=function(){if(typeof window=="undefined")return!1;for(var n in window)try{if(!Ml["$"+n]&&ko.call(window,n)&&window[n]!==null&&typeof window[n]=="object")try{$s(window[n])}catch(i){return!0}}catch(i){return!0}return!1}();ts=function(n){var i=n!==null&&typeof n=="object",e=Ws.call(n)==="[object Function]",t=Xn(n),r=i&&Ws.call(n)==="[object String]",a=[];if(!i&&!e&&!t)throw new TypeError("Object.keys called on a non-object");var f=Eo&&e;if(r&&n.length>0&&!ko.call(n,0))for(var y=0;y<n.length;++y)a.push(String(y));if(t&&n.length>0)for(var j=0;j<n.length;++j)a.push(String(j));else for(var D in n)f&&D==="prototype"||!ko.call(n,D)||a.push(String(D));if(Dl)for(var F=function(Y){if(typeof window=="undefined"||!Mu)return $s(Y);try{return $s(Y)}catch(tt){return!1}}(n),q=0;q<qs.length;++q)F&&qs[q]==="constructor"||!ko.call(n,qs[q])||a.push(qs[q]);return a}}var eo=ts,is=Array.prototype.slice,Ks=Object.keys,no=Ks?function(n){return Ks(n)}:eo,Xs=Object.keys;no.shim=function(){return Object.keys?function(){var n=Object.keys(arguments);return n&&n.length===arguments.length}(1,2)||(Object.keys=function(n){return Xs(to(n)?is.call(n):n)}):Object.keys=no,Object.keys||no};var Uu=no,as=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",wc=Object.prototype.toString,Ys=Array.prototype.concat,yi=Object.defineProperty,sa=yi&&function(){var n={};try{for(var i in yi(n,"x",{enumerable:!1,value:n}),n)return!1;return n.x===n}catch(e){return!1}}(),Js=function(n,i,e,t){(!(i in n)||function(r){return typeof r=="function"&&wc.call(r)==="[object Function]"}(t)&&t())&&(sa?yi(n,i,{configurable:!0,enumerable:!1,value:e,writable:!0}):n[i]=e)},ro=function(n,i){var e=arguments.length>2?arguments[2]:{},t=Uu(i);as&&(t=Ys.call(t,Object.getOwnPropertySymbols(i)));for(var r=0;r<t.length;r+=1)Js(n,t[r],i[t[r]],e[t[r]])};ro.supportsDescriptors=!!sa;var kc=ro,Bu=Object.getOwnPropertyDescriptor?function(){return Object.getOwnPropertyDescriptor(arguments,"callee").get}():function(){throw new TypeError},qi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol",Ua=Object.getPrototypeOf||function(n){return n.__proto__},Nu=typeof Uint8Array=="undefined"?void 0:Ua(Uint8Array),Fu={"$ %Array%":Array,"$ %ArrayBuffer%":typeof ArrayBuffer=="undefined"?void 0:ArrayBuffer,"$ %ArrayBufferPrototype%":typeof ArrayBuffer=="undefined"?void 0:ArrayBuffer.prototype,"$ %ArrayIteratorPrototype%":qi?Ua([][Symbol.iterator]()):void 0,"$ %ArrayPrototype%":Array.prototype,"$ %ArrayProto_entries%":Array.prototype.entries,"$ %ArrayProto_forEach%":Array.prototype.forEach,"$ %ArrayProto_keys%":Array.prototype.keys,"$ %ArrayProto_values%":Array.prototype.values,"$ %AsyncFromSyncIteratorPrototype%":void 0,"$ %AsyncFunction%":void 0,"$ %AsyncFunctionPrototype%":void 0,"$ %AsyncGenerator%":void 0,"$ %AsyncGeneratorFunction%":void 0,"$ %AsyncGeneratorPrototype%":void 0,"$ %AsyncIteratorPrototype%":void 0,"$ %Atomics%":typeof Atomics=="undefined"?void 0:Atomics,"$ %Boolean%":Boolean,"$ %BooleanPrototype%":Boolean.prototype,"$ %DataView%":typeof DataView=="undefined"?void 0:DataView,"$ %DataViewPrototype%":typeof DataView=="undefined"?void 0:DataView.prototype,"$ %Date%":Date,"$ %DatePrototype%":Date.prototype,"$ %decodeURI%":decodeURI,"$ %decodeURIComponent%":decodeURIComponent,"$ %encodeURI%":encodeURI,"$ %encodeURIComponent%":encodeURIComponent,"$ %Error%":Error,"$ %ErrorPrototype%":Error.prototype,"$ %eval%":eval,"$ %EvalError%":EvalError,"$ %EvalErrorPrototype%":EvalError.prototype,"$ %Float32Array%":typeof Float32Array=="undefined"?void 0:Float32Array,"$ %Float32ArrayPrototype%":typeof Float32Array=="undefined"?void 0:Float32Array.prototype,"$ %Float64Array%":typeof Float64Array=="undefined"?void 0:Float64Array,"$ %Float64ArrayPrototype%":typeof Float64Array=="undefined"?void 0:Float64Array.prototype,"$ %Function%":Function,"$ %FunctionPrototype%":Function.prototype,"$ %Generator%":void 0,"$ %GeneratorFunction%":void 0,"$ %GeneratorPrototype%":void 0,"$ %Int8Array%":typeof Int8Array=="undefined"?void 0:Int8Array,"$ %Int8ArrayPrototype%":typeof Int8Array=="undefined"?void 0:Int8Array.prototype,"$ %Int16Array%":typeof Int16Array=="undefined"?void 0:Int16Array,"$ %Int16ArrayPrototype%":typeof Int16Array=="undefined"?void 0:Int8Array.prototype,"$ %Int32Array%":typeof Int32Array=="undefined"?void 0:Int32Array,"$ %Int32ArrayPrototype%":typeof Int32Array=="undefined"?void 0:Int32Array.prototype,"$ %isFinite%":isFinite,"$ %isNaN%":isNaN,"$ %IteratorPrototype%":qi?Ua(Ua([][Symbol.iterator]())):void 0,"$ %JSON%":JSON,"$ %JSONParse%":JSON.parse,"$ %Map%":typeof Map=="undefined"?void 0:Map,"$ %MapIteratorPrototype%":typeof Map!="undefined"&&qi?Ua(new Map()[Symbol.iterator]()):void 0,"$ %MapPrototype%":typeof Map=="undefined"?void 0:Map.prototype,"$ %Math%":Math,"$ %Number%":Number,"$ %NumberPrototype%":Number.prototype,"$ %Object%":Object,"$ %ObjectPrototype%":Object.prototype,"$ %ObjProto_toString%":Object.prototype.toString,"$ %ObjProto_valueOf%":Object.prototype.valueOf,"$ %parseFloat%":parseFloat,"$ %parseInt%":parseInt,"$ %Promise%":typeof Promise=="undefined"?void 0:Promise,"$ %PromisePrototype%":typeof Promise=="undefined"?void 0:Promise.prototype,"$ %PromiseProto_then%":typeof Promise=="undefined"?void 0:Promise.prototype.then,"$ %Promise_all%":typeof Promise=="undefined"?void 0:Promise.all,"$ %Promise_reject%":typeof Promise=="undefined"?void 0:Promise.reject,"$ %Promise_resolve%":typeof Promise=="undefined"?void 0:Promise.resolve,"$ %Proxy%":typeof Proxy=="undefined"?void 0:Proxy,"$ %RangeError%":RangeError,"$ %RangeErrorPrototype%":RangeError.prototype,"$ %ReferenceError%":ReferenceError,"$ %ReferenceErrorPrototype%":ReferenceError.prototype,"$ %Reflect%":typeof Reflect=="undefined"?void 0:Reflect,"$ %RegExp%":RegExp,"$ %RegExpPrototype%":RegExp.prototype,"$ %Set%":typeof Set=="undefined"?void 0:Set,"$ %SetIteratorPrototype%":typeof Set!="undefined"&&qi?Ua(new Set()[Symbol.iterator]()):void 0,"$ %SetPrototype%":typeof Set=="undefined"?void 0:Set.prototype,"$ %SharedArrayBuffer%":typeof SharedArrayBuffer=="undefined"?void 0:SharedArrayBuffer,"$ %SharedArrayBufferPrototype%":typeof SharedArrayBuffer=="undefined"?void 0:SharedArrayBuffer.prototype,"$ %String%":String,"$ %StringIteratorPrototype%":qi?Ua(""[Symbol.iterator]()):void 0,"$ %StringPrototype%":String.prototype,"$ %Symbol%":qi?Symbol:void 0,"$ %SymbolPrototype%":qi?Symbol.prototype:void 0,"$ %SyntaxError%":SyntaxError,"$ %SyntaxErrorPrototype%":SyntaxError.prototype,"$ %ThrowTypeError%":Bu,"$ %TypedArray%":Nu,"$ %TypedArrayPrototype%":Nu?Nu.prototype:void 0,"$ %TypeError%":TypeError,"$ %TypeErrorPrototype%":TypeError.prototype,"$ %Uint8Array%":typeof Uint8Array=="undefined"?void 0:Uint8Array,"$ %Uint8ArrayPrototype%":typeof Uint8Array=="undefined"?void 0:Uint8Array.prototype,"$ %Uint8ClampedArray%":typeof Uint8ClampedArray=="undefined"?void 0:Uint8ClampedArray,"$ %Uint8ClampedArrayPrototype%":typeof Uint8ClampedArray=="undefined"?void 0:Uint8ClampedArray.prototype,"$ %Uint16Array%":typeof Uint16Array=="undefined"?void 0:Uint16Array,"$ %Uint16ArrayPrototype%":typeof Uint16Array=="undefined"?void 0:Uint16Array.prototype,"$ %Uint32Array%":typeof Uint32Array=="undefined"?void 0:Uint32Array,"$ %Uint32ArrayPrototype%":typeof Uint32Array=="undefined"?void 0:Uint32Array.prototype,"$ %URIError%":URIError,"$ %URIErrorPrototype%":URIError.prototype,"$ %WeakMap%":typeof WeakMap=="undefined"?void 0:WeakMap,"$ %WeakMapPrototype%":typeof WeakMap=="undefined"?void 0:WeakMap.prototype,"$ %WeakSet%":typeof WeakSet=="undefined"?void 0:WeakSet,"$ %WeakSetPrototype%":typeof WeakSet=="undefined"?void 0:WeakSet.prototype},Ba=function(n,i){if(arguments.length>1&&typeof i!="boolean")throw new TypeError('"allowMissing" argument must be a boolean');var e="$ "+n;if(!(e in Fu))throw new SyntaxError("intrinsic "+n+" does not exist!");if(Fu[e]===void 0&&!i)throw new TypeError("intrinsic "+n+" exists, but is not available. Please file an issue!");return Fu[e]},_r=rs.call(Function.call,Object.prototype.hasOwnProperty),Er=Ba("%TypeError%"),Fr=Ba("%SyntaxError%"),Ec={"Property Descriptor":function(n,i){if(n.Type(i)!=="Object")return!1;var e={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var t in i)if(_r(i,t)&&!e[t])return!1;var r=_r(i,"[[Value]]"),a=_r(i,"[[Get]]")||_r(i,"[[Set]]");if(r&&a)throw new Er("Property Descriptors may not be both accessor and data descriptors");return!0}},Vu=function(n,i,e,t){var r=Ec[i];if(typeof r!="function")throw new Fr("unknown record type: "+i);if(!r(n,t))throw new Er(e+" must be a "+i);console.log(r(n,t),t)},os=Number.isNaN||function(n){return n!=n},Ul=Number.isNaN||function(n){return n!=n},Zs=Number.isFinite||function(n){return typeof n=="number"&&!Ul(n)&&n!==1/0&&n!==-1/0},Na=function(n){return n>=0?1:-1},ua=Function.prototype.toString,Fa=/^\s*class\b/,io=function(n){try{var i=ua.call(n);return Fa.test(i)}catch(e){return!1}},Qs=Object.prototype.toString,Hu=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",Ta=function(n){if(!n||typeof n!="function"&&typeof n!="object")return!1;if(typeof n=="function"&&!n.prototype)return!0;if(Hu)return function(e){try{return!io(e)&&(ua.call(e),!0)}catch(t){return!1}}(n);if(io(n))return!1;var i=Qs.call(n);return i==="[object Function]"||i==="[object GeneratorFunction]"},Cc=function(n){return n===null||typeof n!="function"&&typeof n!="object"},Ac=Object.prototype.toString,ss=function(n){var i;if((i=arguments.length>1?arguments[1]:Ac.call(n)==="[object Date]"?String:Number)===String||i===Number){var e,t,r=i===String?["toString","valueOf"]:["valueOf","toString"];for(t=0;t<r.length;++t)if(Ta(n[r[t]])&&(e=n[r[t]](),Cc(e)))return e;throw new TypeError("No default value")}throw new TypeError("invalid [[DefaultValue]] hint supplied")},Co=Ba("%Object%"),ao=Ba("%TypeError%"),us=Ba("%String%"),ls={ToPrimitive:function(n){return Cc(n)?n:arguments.length>1?ss(n,arguments[1]):ss(n)},ToBoolean:function(n){return!!n},ToNumber:function(n){return+n},ToInteger:function(n){var i=this.ToNumber(n);return os(i)?0:i!==0&&Zs(i)?Na(i)*Math.floor(Math.abs(i)):i},ToInt32:function(n){return this.ToNumber(n)>>0},ToUint32:function(n){return this.ToNumber(n)>>>0},ToUint16:function(n){var i=this.ToNumber(n);return os(i)||i===0||!Zs(i)?0:function(e,t){var r=e%t;return Math.floor(r>=0?r:r+t)}(Na(i)*Math.floor(Math.abs(i)),65536)},ToString:function(n){return us(n)},ToObject:function(n){return this.CheckObjectCoercible(n),Co(n)},CheckObjectCoercible:function(n,i){if(n==null)throw new ao(i||"Cannot call method on "+n);return n},IsCallable:Ta,SameValue:function(n,i){return n===i?n!==0||1/n==1/i:os(n)&&os(i)},Type:function(n){return n===null?"Null":n===void 0?"Undefined":typeof n=="function"||typeof n=="object"?"Object":typeof n=="number"?"Number":typeof n=="boolean"?"Boolean":typeof n=="string"?"String":void 0},IsPropertyDescriptor:function(n){if(this.Type(n)!=="Object")return!1;var i={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var e in n)if(_r(n,e)&&!i[e])return!1;var t=_r(n,"[[Value]]"),r=_r(n,"[[Get]]")||_r(n,"[[Set]]");if(t&&r)throw new ao("Property Descriptors may not be both accessor and data descriptors");return!0},IsAccessorDescriptor:function(n){return n!==void 0&&(Vu(this,"Property Descriptor","Desc",n),!(!_r(n,"[[Get]]")&&!_r(n,"[[Set]]")))},IsDataDescriptor:function(n){return n!==void 0&&(Vu(this,"Property Descriptor","Desc",n),!(!_r(n,"[[Value]]")&&!_r(n,"[[Writable]]")))},IsGenericDescriptor:function(n){return n!==void 0&&(Vu(this,"Property Descriptor","Desc",n),!this.IsAccessorDescriptor(n)&&!this.IsDataDescriptor(n))},FromPropertyDescriptor:function(n){if(n===void 0)return n;if(Vu(this,"Property Descriptor","Desc",n),this.IsDataDescriptor(n))return{value:n["[[Value]]"],writable:!!n["[[Writable]]"],enumerable:!!n["[[Enumerable]]"],configurable:!!n["[[Configurable]]"]};if(this.IsAccessorDescriptor(n))return{get:n["[[Get]]"],set:n["[[Set]]"],enumerable:!!n["[[Enumerable]]"],configurable:!!n["[[Configurable]]"]};throw new ao("FromPropertyDescriptor must be called with a fully populated Property Descriptor")},ToPropertyDescriptor:function(n){if(this.Type(n)!=="Object")throw new ao("ToPropertyDescriptor requires an object");var i={};if(_r(n,"enumerable")&&(i["[[Enumerable]]"]=this.ToBoolean(n.enumerable)),_r(n,"configurable")&&(i["[[Configurable]]"]=this.ToBoolean(n.configurable)),_r(n,"value")&&(i["[[Value]]"]=n.value),_r(n,"writable")&&(i["[[Writable]]"]=this.ToBoolean(n.writable)),_r(n,"get")){var e=n.get;if(e!==void 0&&!this.IsCallable(e))throw new TypeError("getter must be a function");i["[[Get]]"]=e}if(_r(n,"set")){var t=n.set;if(t!==void 0&&!this.IsCallable(t))throw new ao("setter must be a function");i["[[Set]]"]=t}if((_r(i,"[[Get]]")||_r(i,"[[Set]]"))&&(_r(i,"[[Value]]")||_r(i,"[[Writable]]")))throw new ao("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");return i}},tu=rs.call(Function.call,String.prototype.replace),rt=/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/,Vr=/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/,dr=function(){var n=ls.ToString(ls.CheckObjectCoercible(this));return tu(tu(n,rt,""),Vr,"")},li=function(){return String.prototype.trim&&"\u200B".trim()==="\u200B"?String.prototype.trim:dr},xn=rs.call(Function.call,li());kc(xn,{getPolyfill:li,implementation:dr,shim:function(){var n=li();return kc(String.prototype,{trim:n},{trim:function(){return String.prototype.trim!==n}}),n}});var Sa=xn,Xr=Object.prototype.toString,$i=Object.prototype.hasOwnProperty,Va=function(n,i,e){for(var t=0,r=n.length;t<r;t++)$i.call(n,t)&&(e==null?i(n[t],t,n):i.call(e,n[t],t,n))},Ki=function(n,i,e){for(var t=0,r=n.length;t<r;t++)e==null?i(n.charAt(t),t,n):i.call(e,n.charAt(t),t,n)},jc=function(n,i,e){for(var t in n)$i.call(n,t)&&(e==null?i(n[t],t,n):i.call(e,n[t],t,n))},Bl=function(n,i,e){if(!Ta(i))throw new TypeError("iterator must be a function");var t;arguments.length>=3&&(t=e),Xr.call(n)==="[object Array]"?Va(n,i,t):typeof n=="string"?Ki(n,i,t):jc(n,i,t)},eu=function(n){if(!n)return{};var i={};return Bl(Sa(n).split(`
`),function(e){var t=e.indexOf(":"),r=Sa(e.slice(0,t)).toLowerCase(),a=Sa(e.slice(t+1));i[r]===void 0?i[r]=a:function(f){return Object.prototype.toString.call(f)==="[object Array]"}(i[r])?i[r].push(a):i[r]=[i[r],a]}),i},nd=function(){for(var n={},i=0;i<arguments.length;i++){var e=arguments[i];for(var t in e)Nl.call(e,t)&&(n[t]=e[t])}return n},Nl=Object.prototype.hasOwnProperty,cs=En;En.XMLHttpRequest=x.XMLHttpRequest||function(){},En.XDomainRequest="withCredentials"in new En.XMLHttpRequest?En.XMLHttpRequest:x.XDomainRequest,function(n,i){for(var e=0;e<n.length;e++)i(n[e])}(["get","put","post","patch","head","delete"],function(n){En[n==="delete"?"del":n]=function(i,e,t){return(e=Sn(i,e,t)).method=n.toUpperCase(),sr(e)}});var nu=function(n,i){var e=new x.WebVTT.Parser(x,x.vttjs,x.WebVTT.StringDecoder()),t=[];e.oncue=function(r){i.addCue(r)},e.onparsingerror=function(r){t.push(r)},e.onflush=function(){i.trigger({type:"loadeddata",target:i})},e.parse(n),t.length>0&&(x.console&&x.console.groupCollapsed&&x.console.groupCollapsed("Text Track parsing errors for "+i.src),t.forEach(function(r){return re.error(r)}),x.console&&x.console.groupEnd&&x.console.groupEnd()),e.flush()},xc=function(n,i){var e={uri:n},t=lr(n);t&&(e.cors=t),cs(e,pe(this,function(r,a,f){if(r)return re.error(r,a);i.loaded_=!0,typeof x.WebVTT!="function"?i.tech_&&i.tech_.any(["vttjsloaded","vttjserror"],function(y){return y.type==="vttjserror"?void re.error("vttjs failed to load, stopping trying to process "+i.src):nu(f,i)}):nu(f,i)}))},Ao=function(n){function i(t){var r;if(t===void 0&&(t={}),!t.tech)throw new Error("A tech was not provided.");var a=le(t,{kind:Gt[t.kind]||"subtitles",language:t.language||t.srclang||""}),f=oe[a.mode]||"disabled",y=a.default;a.kind!=="metadata"&&a.kind!=="chapters"||(f="hidden"),(r=n.call(this,a)||this).tech_=a.tech,r.cues_=[],r.activeCues_=[];var j=new Pl(r.cues_),D=new Pl(r.activeCues_),F=!1,q=pe(Te(r),function(){this.activeCues=this.activeCues,F&&(this.trigger("cuechange"),F=!1)});return f!=="disabled"&&r.tech_.ready(function(){r.tech_.on("timeupdate",q)},!0),Object.defineProperties(Te(r),{default:{get:function(){return y},set:function(){}},mode:{get:function(){return f},set:function(Y){var tt=this;oe[Y]&&((f=Y)!=="disabled"?this.tech_.ready(function(){tt.tech_.on("timeupdate",q)},!0):this.tech_.off("timeupdate",q),this.trigger("modechange"))}},cues:{get:function(){return this.loaded_?j:null},set:function(){}},activeCues:{get:function(){if(!this.loaded_)return null;if(this.cues.length===0)return D;for(var Y=this.tech_.currentTime(),tt=[],ft=0,dt=this.cues.length;ft<dt;ft++){var At=this.cues[ft];(At.startTime<=Y&&At.endTime>=Y||At.startTime===At.endTime&&At.startTime<=Y&&At.startTime+.5>=Y)&&tt.push(At)}if(F=!1,tt.length!==this.activeCues_.length)F=!0;else for(var St=0;St<tt.length;St++)this.activeCues_.indexOf(tt[St])===-1&&(F=!0);return this.activeCues_=tt,D.setCues_(this.activeCues_),D},set:function(){}}}),a.src?(r.src=a.src,xc(a.src,Te(r))):r.loaded_=!0,r}Qt(i,n);var e=i.prototype;return e.addCue=function(t){var r=t;if(x.vttjs&&!(t instanceof x.vttjs.VTTCue)){for(var a in r=new x.vttjs.VTTCue(t.startTime,t.endTime,t.text),t)a in r||(r[a]=t[a]);r.id=t.id,r.originalCue_=t}for(var f=this.tech_.textTracks(),y=0;y<f.length;y++)f[y]!==this&&f[y].removeCue(r);this.cues_.push(r),this.cues.setCues_(this.cues_)},e.removeCue=function(t){for(var r=this.cues_.length;r--;){var a=this.cues_[r];if(a===t||a.originalCue_&&a.originalCue_===t){this.cues_.splice(r,1),this.cues.setCues_(this.cues_);break}}},i}(ue);Ao.prototype.allowedEvents_={cuechange:"cuechange"};var Xi=function(n){function i(e){var t;e===void 0&&(e={});var r=le(e,{kind:Gs[e.kind]||""});t=n.call(this,r)||this;var a=!1;return Object.defineProperty(Te(t),"enabled",{get:function(){return a},set:function(f){typeof f=="boolean"&&f!==a&&(a=f,this.trigger("enabledchange"))}}),r.enabled&&(t.enabled=r.enabled),t.loaded_=!0,t}return Qt(i,n),i}(ue),zu=function(n){function i(e){var t;e===void 0&&(e={});var r=le(e,{kind:Sc[e.kind]||""});t=n.call(this,r)||this;var a=!1;return Object.defineProperty(Te(t),"selected",{get:function(){return a},set:function(f){typeof f=="boolean"&&f!==a&&(a=f,this.trigger("selectedchange"))}}),r.selected&&(t.selected=r.selected),t}return Qt(i,n),i}(ue),xi=function(n){function i(e){var t;e===void 0&&(e={}),t=n.call(this)||this;var r,a=new Ao(e);return t.kind=a.kind,t.src=a.src,t.srclang=a.language,t.label=a.label,t.default=a.default,Object.defineProperties(Te(t),{readyState:{get:function(){return r}},track:{get:function(){return a}}}),r=0,a.addEventListener("loadeddata",function(){r=2,t.trigger({type:"load",target:Te(t)})}),t}return Qt(i,n),i}(Ne);xi.prototype.allowedEvents_={load:"load"},xi.NONE=0,xi.LOADING=1,xi.LOADED=2,xi.ERROR=3;var pr={audio:{ListClass:Qa,TrackClass:Xi,capitalName:"Audio"},video:{ListClass:aa,TrackClass:zu,capitalName:"Video"},text:{ListClass:gi,TrackClass:Ao,capitalName:"Text"}};Object.keys(pr).forEach(function(n){pr[n].getterName=n+"Tracks",pr[n].privateName=n+"Tracks_"});var ds={remoteText:{ListClass:gi,TrackClass:Ao,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:ji,TrackClass:xi,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},Hr=le(pr,ds);ds.names=Object.keys(ds),pr.names=Object.keys(pr),Hr.names=[].concat(ds.names).concat(pr.names);var Ha=Object.create||function(){function n(){}return function(i){if(arguments.length!==1)throw new Error("Object.create shim only accepts one parameter.");return n.prototype=i,new n}}();In.prototype=Ha(Error.prototype),In.prototype.constructor=In,In.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},tr.prototype={set:function(n,i){this.get(n)||i===""||(this.values[n]=i)},get:function(n,i,e){return e?this.has(n)?this.values[n]:i[e]:this.has(n)?this.values[n]:i},has:function(n){return n in this.values},alt:function(n,i,e){for(var t=0;t<e.length;++t)if(i===e[t]){this.set(n,i);break}},integer:function(n,i){/^-?\d+$/.test(i)&&this.set(n,parseInt(i,10))},percent:function(n,i){return!!(i.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(i=parseFloat(i))>=0&&i<=100)&&(this.set(n,i),!0)}};var za={"&amp;":"&","&lt;":"<","&gt;":">","&lrm;":"\u200E","&rlm;":"\u200F","&nbsp;":"\xA0"},ru={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},rd={v:"title",lang:"lang"},fs={rt:"ruby"},Gu=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];qr.prototype.applyStyles=function(n,i){for(var e in i=i||this.div,n)n.hasOwnProperty(e)&&(i.style[e]=n[e])},qr.prototype.formatStyle=function(n,i){return n===0?0:n+i},Ar.prototype=Ha(qr.prototype),Ar.prototype.constructor=Ar,Jn.prototype.move=function(n,i){switch(i=i!==void 0?i:this.lineHeight,n){case"+x":this.left+=i,this.right+=i;break;case"-x":this.left-=i,this.right-=i;break;case"+y":this.top+=i,this.bottom+=i;break;case"-y":this.top-=i,this.bottom-=i}},Jn.prototype.overlaps=function(n){return this.left<n.right&&this.right>n.left&&this.top<n.bottom&&this.bottom>n.top},Jn.prototype.overlapsAny=function(n){for(var i=0;i<n.length;i++)if(this.overlaps(n[i]))return!0;return!1},Jn.prototype.within=function(n){return this.top>=n.top&&this.bottom<=n.bottom&&this.left>=n.left&&this.right<=n.right},Jn.prototype.overlapsOppositeAxis=function(n,i){switch(i){case"+x":return this.left<n.left;case"-x":return this.right>n.right;case"+y":return this.top<n.top;case"-y":return this.bottom>n.bottom}},Jn.prototype.intersectPercentage=function(n){return Math.max(0,Math.min(this.right,n.right)-Math.max(this.left,n.left))*Math.max(0,Math.min(this.bottom,n.bottom)-Math.max(this.top,n.top))/(this.height*this.width)},Jn.prototype.toCSSCompatValues=function(n){return{top:this.top-n.top,bottom:n.bottom-this.bottom,left:this.left-n.left,right:n.right-this.right,height:this.height,width:this.width}},Jn.getSimpleBoxPosition=function(n){var i=n.div?n.div.offsetHeight:n.tagName?n.offsetHeight:0,e=n.div?n.div.offsetWidth:n.tagName?n.offsetWidth:0,t=n.div?n.div.offsetTop:n.tagName?n.offsetTop:0;return{left:(n=n.div?n.div.getBoundingClientRect():n.tagName?n.getBoundingClientRect():n).left,right:n.right,top:n.top||t,height:n.height||i,bottom:n.bottom||t+(n.height||i),width:n.width||e}},hi.StringDecoder=function(){return{decode:function(n){if(!n)return"";if(typeof n!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(n))}}},hi.convertCueToDOMTree=function(n,i){return n&&i?Mi(n,i):null},hi.processCues=function(n,i,e){if(!n||!i||!e)return null;for(;e.firstChild;)e.removeChild(e.firstChild);var t=n.document.createElement("div");if(t.style.position="absolute",t.style.left="0",t.style.right="0",t.style.top="0",t.style.bottom="0",t.style.margin="1.5%",e.appendChild(t),function(j){for(var D=0;D<j.length;D++)if(j[D].hasBeenReset||!j[D].displayState)return!0;return!1}(i)){var r=[],a=Jn.getSimpleBoxPosition(t),f={font:Math.round(.05*a.height*100)/100+"px sans-serif"};(function(){for(var j,D,F=0;F<i.length;F++)D=i[F],j=new Ar(n,D,f),t.appendChild(j.div),ai(0,j,a,r),D.displayState=j.div,r.push(Jn.getSimpleBoxPosition(j))})()}else for(var y=0;y<i.length;y++)t.appendChild(i[y].displayState)},hi.Parser=function(n,i,e){e||(e=i,i={}),i||(i={}),this.window=n,this.vttjs=i,this.state="INITIAL",this.buffer="",this.decoder=e||new TextDecoder("utf8"),this.regionList=[]},hi.Parser.prototype={reportOrThrowError:function(n){if(!(n instanceof In))throw n;this.onparsingerror&&this.onparsingerror(n)},parse:function(n){function i(){for(var D=r.buffer,F=0;F<D.length&&D[F]!=="\r"&&D[F]!==`
`;)++F;var q=D.substr(0,F);return D[F]==="\r"&&++F,D[F]===`
`&&++F,r.buffer=D.substr(F),q}function e(D){var F=new tr;if(ri(D,function(Y,tt){switch(Y){case"id":F.set(Y,tt);break;case"width":F.percent(Y,tt);break;case"lines":F.integer(Y,tt);break;case"regionanchor":case"viewportanchor":var ft=tt.split(",");if(ft.length!==2)break;var dt=new tr;if(dt.percent("x",ft[0]),dt.percent("y",ft[1]),!dt.has("x")||!dt.has("y"))break;F.set(Y+"X",dt.get("x")),F.set(Y+"Y",dt.get("y"));break;case"scroll":F.alt(Y,tt,["up"])}},/=/,/\s/),F.has("id")){var q=new(r.vttjs.VTTRegion||r.window.VTTRegion);q.width=F.get("width",100),q.lines=F.get("lines",3),q.regionAnchorX=F.get("regionanchorX",0),q.regionAnchorY=F.get("regionanchorY",100),q.viewportAnchorX=F.get("viewportanchorX",0),q.viewportAnchorY=F.get("viewportanchorY",100),q.scroll=F.get("scroll",""),r.onregion&&r.onregion(q),r.regionList.push({id:F.get("id"),region:q})}}function t(D){var F=new tr;ri(D,function(q,Y){switch(q){case"MPEGT":F.integer(q+"S",Y);break;case"LOCA":F.set(q+"L",ni(Y))}},/[^\d]:/,/,/),r.ontimestampmap&&r.ontimestampmap({MPEGTS:F.get("MPEGTS"),LOCAL:F.get("LOCAL")})}var r=this;n&&(r.buffer+=r.decoder.decode(n,{stream:!0}));try{var a;if(r.state==="INITIAL"){if(!/\r\n|\n/.test(r.buffer))return this;var f=(a=i()).match(/^WEBVTT([ \t].*)?$/);if(!f||!f[0])throw new In(In.Errors.BadSignature);r.state="HEADER"}for(var y=!1;r.buffer;){if(!/\r\n|\n/.test(r.buffer))return this;switch(y?y=!1:a=i(),r.state){case"HEADER":/:/.test(a)?function(D){D.match(/X-TIMESTAMP-MAP/)?ri(D,function(F,q){switch(F){case"X-TIMESTAMP-MAP":t(q)}},/=/):ri(D,function(F,q){switch(F){case"Region":e(q)}},/:/)}(a):a||(r.state="ID");continue;case"NOTE":a||(r.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(a)){r.state="NOTE";break}if(!a)continue;if(r.cue=new(r.vttjs.VTTCue||r.window.VTTCue)(0,0,""),r.state="CUE",a.indexOf("-->")===-1){r.cue.id=a;continue}case"CUE":try{ii(a,r.cue,r.regionList)}catch(D){r.reportOrThrowError(D),r.cue=null,r.state="BADCUE";continue}r.state="CUETEXT";continue;case"CUETEXT":var j=a.indexOf("-->")!==-1;if(!a||j&&(y=!0)){r.oncue&&r.oncue(r.cue),r.cue=null,r.state="ID";continue}r.cue.text&&(r.cue.text+=`
`),r.cue.text+=a;continue;case"BADCUE":a||(r.state="ID");continue}}}catch(D){r.reportOrThrowError(D),r.state==="CUETEXT"&&r.cue&&r.oncue&&r.oncue(r.cue),r.cue=null,r.state=r.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this},flush:function(){var n=this;try{if(n.buffer+=n.decoder.decode(),(n.cue||n.state==="HEADER")&&(n.buffer+=`

`,n.parse()),n.state==="INITIAL")throw new In(In.Errors.BadSignature)}catch(i){n.reportOrThrowError(i)}return n.onflush&&n.onflush(),this}};var Mr=hi,Fl="auto",Vl={"":1,lr:1,rl:1},wa={start:1,middle:1,end:1,left:1,right:1};Ra.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)};var Wu=Ra,iu={"":!0,up:!0},oo=function(){var n=100,i=3,e=0,t=100,r=0,a=100,f="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return n},set:function(y){if(!Tr(y))throw new Error("Width must be between 0 and 100.");n=y}},lines:{enumerable:!0,get:function(){return i},set:function(y){if(typeof y!="number")throw new TypeError("Lines must be set to a number.");i=y}},regionAnchorY:{enumerable:!0,get:function(){return t},set:function(y){if(!Tr(y))throw new Error("RegionAnchorX must be between 0 and 100.");t=y}},regionAnchorX:{enumerable:!0,get:function(){return e},set:function(y){if(!Tr(y))throw new Error("RegionAnchorY must be between 0 and 100.");e=y}},viewportAnchorY:{enumerable:!0,get:function(){return a},set:function(y){if(!Tr(y))throw new Error("ViewportAnchorY must be between 0 and 100.");a=y}},viewportAnchorX:{enumerable:!0,get:function(){return r},set:function(y){if(!Tr(y))throw new Error("ViewportAnchorX must be between 0 and 100.");r=y}},scroll:{enumerable:!0,get:function(){return f},set:function(y){var j=function(D){return typeof D=="string"&&!!iu[D.toLowerCase()]&&D.toLowerCase()}(y);if(j===!1)throw new SyntaxError("An invalid or illegal string was specified.");f=j}}})},jo=vn(function(n){var i=n.exports={WebVTT:Mr,VTTCue:Wu,VTTRegion:oo};x.vttjs=i,x.WebVTT=i.WebVTT;var e=i.VTTCue,t=i.VTTRegion,r=x.VTTCue,a=x.VTTRegion;i.shim=function(){x.VTTCue=e,x.VTTRegion=t},i.restore=function(){x.VTTCue=r,x.VTTRegion=a},x.VTTCue||i.shim()}),On=(jo.WebVTT,jo.VTTCue,jo.VTTRegion,function(n){function i(t,r){var a;return t===void 0&&(t={}),r===void 0&&(r=function(){}),t.reportTouchActivity=!1,(a=n.call(this,null,t,r)||this).hasStarted_=!1,a.on("playing",function(){this.hasStarted_=!0}),a.on("loadstart",function(){this.hasStarted_=!1}),Hr.names.forEach(function(f){var y=Hr[f];t&&t[y.getterName]&&(a[y.privateName]=t[y.getterName])}),a.featuresProgressEvents||a.manualProgressOn(),a.featuresTimeupdateEvents||a.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(function(f){t["native"+f+"Tracks"]===!1&&(a["featuresNative"+f+"Tracks"]=!1)}),t.nativeCaptions===!1||t.nativeTextTracks===!1?a.featuresNativeTextTracks=!1:t.nativeCaptions!==!0&&t.nativeTextTracks!==!0||(a.featuresNativeTextTracks=!0),a.featuresNativeTextTracks||a.emulateTextTracks(),a.autoRemoteTextTracks_=new Hr.text.ListClass,a.initTrackListeners(),t.nativeControlsForTouch||a.emitTapEvents(),a.constructor&&(a.name_=a.constructor.name||"Unknown Tech"),a}Qt(i,n);var e=i.prototype;return e.triggerSourceset=function(t){var r=this;this.isReady_||this.one("ready",function(){return r.setTimeout(function(){return r.triggerSourceset(t)},1)}),this.trigger({src:t,type:"sourceset"})},e.manualProgressOn=function(){this.on("durationchange",this.onDurationChange),this.manualProgress=!0,this.one("ready",this.trackProgress)},e.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange)},e.trackProgress=function(t){this.stopTrackingProgress(),this.progressInterval=this.setInterval(pe(this,function(){var r=this.bufferedPercent();this.bufferedPercent_!==r&&this.trigger("progress"),this.bufferedPercent_=r,r===1&&this.stopTrackingProgress()}),500)},e.onDurationChange=function(t){this.duration_=this.duration()},e.buffered=function(){return Se(0,0)},e.bufferedPercent=function(){return ve(this.buffered(),this.duration_)},e.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},e.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime),this.on("pause",this.stopTrackingCurrentTime)},e.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime),this.off("pause",this.stopTrackingCurrentTime)},e.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)},e.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},e.dispose=function(){this.clearTracks(pr.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),n.prototype.dispose.call(this)},e.clearTracks=function(t){var r=this;(t=[].concat(t)).forEach(function(a){for(var f=r[a+"Tracks"]()||[],y=f.length;y--;){var j=f[y];a==="text"&&r.removeRemoteTextTrack(j),f.removeTrack(j)}})},e.cleanupAutoTextTracks=function(){for(var t=this.autoRemoteTextTracks_||[],r=t.length;r--;){var a=t[r];this.removeRemoteTextTrack(a)}},e.reset=function(){},e.error=function(t){return t!==void 0&&(this.error_=new ce(t),this.trigger("error")),this.error_},e.played=function(){return this.hasStarted_?Se(0,0):Se()},e.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},e.initTrackListeners=function(){var t=this;pr.names.forEach(function(r){var a=pr[r],f=function(){t.trigger(r+"trackchange")},y=t[a.getterName]();y.addEventListener("removetrack",f),y.addEventListener("addtrack",f),t.on("dispose",function(){y.removeEventListener("removetrack",f),y.removeEventListener("addtrack",f)})})},e.addWebVttScript_=function(){var t=this;if(!x.WebVTT)if(V.body.contains(this.el())){if(!this.options_["vtt.js"]&&v(jo)&&Object.keys(jo).length>0)return void this.trigger("vttjsloaded");var r=V.createElement("script");r.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",r.onload=function(){t.trigger("vttjsloaded")},r.onerror=function(){t.trigger("vttjserror")},this.on("dispose",function(){r.onload=null,r.onerror=null}),x.WebVTT=!0,this.el().parentNode.appendChild(r)}else this.ready(this.addWebVttScript_)},e.emulateTextTracks=function(){var t=this,r=this.textTracks(),a=this.remoteTextTracks(),f=function(F){return r.addTrack(F.track)},y=function(F){return r.removeTrack(F.track)};a.on("addtrack",f),a.on("removetrack",y),this.addWebVttScript_();var j=function(){return t.trigger("texttrackchange")},D=function(){j();for(var F=0;F<r.length;F++){var q=r[F];q.removeEventListener("cuechange",j),q.mode==="showing"&&q.addEventListener("cuechange",j)}};D(),r.addEventListener("change",D),r.addEventListener("addtrack",D),r.addEventListener("removetrack",D),this.on("dispose",function(){a.off("addtrack",f),a.off("removetrack",y),r.removeEventListener("change",D),r.removeEventListener("addtrack",D),r.removeEventListener("removetrack",D);for(var F=0;F<r.length;F++)r[F].removeEventListener("cuechange",j)})},e.addTextTrack=function(t,r,a){if(!t)throw new Error("TextTrack kind is required but was not provided");return function(f,y,j,D,F){F===void 0&&(F={});var q=f.textTracks();F.kind=y,j&&(F.label=j),D&&(F.language=D),F.tech=f;var Y=new Hr.text.TrackClass(F);return q.addTrack(Y),Y}(this,t,r,a)},e.createRemoteTextTrack=function(t){var r=le(t,{tech:this});return new ds.remoteTextEl.TrackClass(r)},e.addRemoteTextTrack=function(t,r){var a=this;t===void 0&&(t={});var f=this.createRemoteTextTrack(t);return r!==!0&&r!==!1&&(re.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),r=!0),this.remoteTextTrackEls().addTrackElement_(f),this.remoteTextTracks().addTrack(f.track),r!==!0&&this.ready(function(){return a.autoRemoteTextTracks_.addTrack(f.track)}),f},e.removeRemoteTextTrack=function(t){var r=this.remoteTextTrackEls().getTrackElementByTrack_(t);this.remoteTextTrackEls().removeTrackElement_(r),this.remoteTextTracks().removeTrack(t),this.autoRemoteTextTracks_.removeTrack(t)},e.getVideoPlaybackQuality=function(){return{}},e.requestPictureInPicture=function(){var t=this.options_.Promise||x.Promise;if(t)return t.reject()},e.setPoster=function(){},e.playsinline=function(){},e.setPlaysinline=function(){},e.overrideNativeAudioTracks=function(){},e.overrideNativeVideoTracks=function(){},e.canPlayType=function(){return""},i.canPlayType=function(){return""},i.canPlaySource=function(t,r){return i.canPlayType(t.type)},i.isTech=function(t){return t.prototype instanceof i||t instanceof i||t===i},i.registerTech=function(t,r){if(i.techs_||(i.techs_={}),!i.isTech(r))throw new Error("Tech "+t+" must be a Tech");if(!i.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!i.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return t=yr(t),i.techs_[t]=r,i.techs_[Ms(t)]=r,t!=="Tech"&&i.defaultTechOrder_.push(t),r},i.getTech=function(t){if(t)return i.techs_&&i.techs_[t]?i.techs_[t]:(t=yr(t),x&&x.videojs&&x.videojs[t]?(re.warn("The "+t+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),x.videojs[t]):void 0)},i}(ge));Hr.names.forEach(function(n){var i=Hr[n];On.prototype[i.getterName]=function(){return this[i.privateName]=this[i.privateName]||new i.ListClass,this[i.privateName]}}),On.prototype.featuresVolumeControl=!0,On.prototype.featuresMuteControl=!0,On.prototype.featuresFullscreenResize=!1,On.prototype.featuresPlaybackRate=!1,On.prototype.featuresProgressEvents=!1,On.prototype.featuresSourceset=!1,On.prototype.featuresTimeupdateEvents=!1,On.prototype.featuresNativeTextTracks=!1,On.withSourceHandlers=function(n){n.registerSourceHandler=function(i,e){var t=n.sourceHandlers;t||(t=n.sourceHandlers=[]),e===void 0&&(e=t.length),t.splice(e,0,i)},n.canPlayType=function(i){for(var e,t=n.sourceHandlers||[],r=0;r<t.length;r++)if(e=t[r].canPlayType(i))return e;return""},n.selectSourceHandler=function(i,e){for(var t=n.sourceHandlers||[],r=0;r<t.length;r++)if(t[r].canHandleSource(i,e))return t[r];return null},n.canPlaySource=function(i,e){var t=n.selectSourceHandler(i,e);return t?t.canHandleSource(i,e):""},["seekable","seeking","duration"].forEach(function(i){var e=this[i];typeof e=="function"&&(this[i]=function(){return this.sourceHandler_&&this.sourceHandler_[i]?this.sourceHandler_[i].apply(this.sourceHandler_,arguments):e.apply(this,arguments)})},n.prototype),n.prototype.setSource=function(i){var e=n.selectSourceHandler(i,this.options_);e||(n.nativeSourceHandler?e=n.nativeSourceHandler:re.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler),e!==n.nativeSourceHandler&&(this.currentSource_=i),this.sourceHandler_=e.handleSource(i,this,this.options_),this.one("dispose",this.disposeSourceHandler)},n.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}},ge.registerComponent("Tech",On),On.registerTech("Tech",On),On.defaultTechOrder_=[];var ka={},so={},hs={},ps={buffered:1,currentTime:1,duration:1,seekable:1,played:1,paused:1,volume:1},uo={setCurrentTime:1,setVolume:1},au={play:1,pause:1},ms={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",oga:"audio/ogg",m3u8:"application/x-mpegURL",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},xo=function(n){n===void 0&&(n="");var i=Bn(n);return ms[i.toLowerCase()]||""},Hl=function(n){function i(e,t,r){var a,f=le({createEl:!1},t);if(a=n.call(this,e,f,r)||this,t.playerOptions.sources&&t.playerOptions.sources.length!==0)e.src(t.playerOptions.sources);else for(var y=0,j=t.playerOptions.techOrder;y<j.length;y++){var D=yr(j[y]),F=On.getTech(D);if(D||(F=ge.getComponent(D)),F&&F.isSupported()){e.loadTech_(D);break}}return a}return Qt(i,n),i}(ge);ge.registerComponent("MediaLoader",Hl);var la=function(n){function i(t,r){var a;return(a=n.call(this,t,r)||this).emitTapEvents(),a.enable(),a}Qt(i,n);var e=i.prototype;return e.createEl=function(t,r,a){t===void 0&&(t="div"),r===void 0&&(r={}),a===void 0&&(a={}),r=d({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass(),tabIndex:0},r),t==="button"&&re.error("Creating a ClickableComponent with an HTML element of "+t+" is not supported; use a Button instead."),a=d({role:"button"},a),this.tabIndex_=r.tabIndex;var f=n.prototype.createEl.call(this,t,r,a);return this.createControlTextEl(f),f},e.dispose=function(){this.controlTextEl_=null,n.prototype.dispose.call(this)},e.createControlTextEl=function(t){return this.controlTextEl_=S("span",{className:"vjs-control-text"},{"aria-live":"polite"}),t&&t.appendChild(this.controlTextEl_),this.controlText(this.controlText_,t),this.controlTextEl_},e.controlText=function(t,r){if(r===void 0&&(r=this.el()),t===void 0)return this.controlText_||"Need Text";var a=this.localize(t);this.controlText_=t,w(this.controlTextEl_,a),this.nonIconControl||r.setAttribute("title",a)},e.buildCSSClass=function(){return"vjs-control vjs-button "+n.prototype.buildCSSClass.call(this)},e.enable=function(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),this.tabIndex_!==void 0&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick),this.on("keydown",this.handleKeyDown))},e.disable=function(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),this.tabIndex_!==void 0&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver),this.off("mouseout",this.handleMouseOut),this.off(["tap","click"],this.handleClick),this.off("keydown",this.handleKeyDown)},e.handleClick=function(t){},e.handleKeyDown=function(t){sn.isEventKey(t,"Space")||sn.isEventKey(t,"Enter")?(t.preventDefault(),t.stopPropagation(),this.trigger("click")):n.prototype.handleKeyDown.call(this,t)},i}(ge);ge.registerComponent("ClickableComponent",la);var ca=function(n){function i(t,r){var a;return(a=n.call(this,t,r)||this).update(),t.on("posterchange",pe(Te(a),a.update)),a}Qt(i,n);var e=i.prototype;return e.dispose=function(){this.player().off("posterchange",this.update),n.prototype.dispose.call(this)},e.createEl=function(){return S("div",{className:"vjs-poster",tabIndex:-1})},e.update=function(t){var r=this.player().poster();this.setSrc(r),r?this.show():this.hide()},e.setSrc=function(t){var r="";t&&(r='url("'+t+'")'),this.el_.style.backgroundImage=r},e.handleClick=function(t){this.player_.controls()&&(this.player_.tech(!0)&&this.player_.tech(!0).focus(),this.player_.paused()?on(this.player_.play()):this.player_.pause())},i}(la);ge.registerComponent("PosterImage",ca);var Oc={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'},zl=function(n){function i(t,r,a){var f;f=n.call(this,t,r,a)||this;var y=pe(Te(f),f.updateDisplay);return t.on("loadstart",pe(Te(f),f.toggleDisplay)),t.on("texttrackchange",y),t.on("loadedmetadata",pe(Te(f),f.preselectTrack)),t.ready(pe(Te(f),function(){if(t.tech_&&t.tech_.featuresNativeTextTracks)this.hide();else{t.on("fullscreenchange",y),t.on("playerresize",y),x.addEventListener("orientationchange",y),t.on("dispose",function(){return x.removeEventListener("orientationchange",y)});for(var j=this.options_.playerOptions.tracks||[],D=0;D<j.length;D++)this.player_.addRemoteTextTrack(j[D],!0);this.preselectTrack()}})),f}Qt(i,n);var e=i.prototype;return e.preselectTrack=function(){for(var t,r,a,f={captions:1,subtitles:1},y=this.player_.textTracks(),j=this.player_.cache_.selectedLanguage,D=0;D<y.length;D++){var F=y[D];j&&j.enabled&&j.language&&j.language===F.language&&F.kind in f?F.kind===j.kind?a=F:a||(a=F):j&&!j.enabled?(a=null,t=null,r=null):F.default&&(F.kind!=="descriptions"||t?F.kind in f&&!r&&(r=F):t=F)}a?a.mode="showing":r?r.mode="showing":t&&(t.mode="showing")},e.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},e.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{"aria-live":"off","aria-atomic":"true"})},e.clearDisplay=function(){typeof x.WebVTT=="function"&&x.WebVTT.processCues(x,[],this.el_)},e.updateDisplay=function(){var t=this.player_.textTracks(),r=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),r){for(var a=[],f=0;f<t.length;++f){var y=t[f];y.mode==="showing"&&a.push(y)}this.updateForTrack(a)}else{for(var j=null,D=null,F=t.length;F--;){var q=t[F];q.mode==="showing"&&(q.kind==="descriptions"?j=q:D=q)}D?(this.getAttribute("aria-live")!=="off"&&this.setAttribute("aria-live","off"),this.updateForTrack(D)):j&&(this.getAttribute("aria-live")!=="assertive"&&this.setAttribute("aria-live","assertive"),this.updateForTrack(j))}},e.updateDisplayState=function(t){for(var r=this.player_.textTrackSettings.getValues(),a=t.activeCues,f=a.length;f--;){var y=a[f];if(y){var j=y.displayState;if(r.color&&(j.firstChild.style.color=r.color),r.textOpacity&&Dr(j.firstChild,"color",Bi(r.color||"#fff",r.textOpacity)),r.backgroundColor&&(j.firstChild.style.backgroundColor=r.backgroundColor),r.backgroundOpacity&&Dr(j.firstChild,"backgroundColor",Bi(r.backgroundColor||"#000",r.backgroundOpacity)),r.windowColor&&(r.windowOpacity?Dr(j,"backgroundColor",Bi(r.windowColor,r.windowOpacity)):j.style.backgroundColor=r.windowColor),r.edgeStyle&&(r.edgeStyle==="dropshadow"?j.firstChild.style.textShadow="2px 2px 3px #222, 2px 2px 4px #222, 2px 2px 5px #222":r.edgeStyle==="raised"?j.firstChild.style.textShadow="1px 1px #222, 2px 2px #222, 3px 3px #222":r.edgeStyle==="depressed"?j.firstChild.style.textShadow="1px 1px #ccc, 0 1px #ccc, -1px -1px #222, 0 -1px #222":r.edgeStyle==="uniform"&&(j.firstChild.style.textShadow="0 0 4px #222, 0 0 4px #222, 0 0 4px #222, 0 0 4px #222")),r.fontPercent&&r.fontPercent!==1){var D=x.parseFloat(j.style.fontSize);j.style.fontSize=D*r.fontPercent+"px",j.style.height="auto",j.style.top="auto",j.style.bottom="2px"}r.fontFamily&&r.fontFamily!=="default"&&(r.fontFamily==="small-caps"?j.firstChild.style.fontVariant="small-caps":j.firstChild.style.fontFamily=Oc[r.fontFamily])}}},e.updateForTrack=function(t){if(Array.isArray(t)||(t=[t]),typeof x.WebVTT=="function"&&!t.every(function(Y){return!Y.activeCues})){for(var r=[],a=0;a<t.length;++a)for(var f=t[a],y=0;y<f.activeCues.length;++y)r.push(f.activeCues[y]);x.WebVTT.processCues(x,r,this.el_);for(var j=0;j<t.length;++j){for(var D=t[j],F=0;F<D.activeCues.length;++F){var q=D.activeCues[F].displayState;E(q,"vjs-text-track-cue"),E(q,"vjs-text-track-cue-"+(D.language?D.language:j))}this.player_.textTrackSettings&&this.updateDisplayState(D)}}},i}(ge);ge.registerComponent("TextTrackDisplay",zl);var Gl=function(n){function i(){return n.apply(this,arguments)||this}return Qt(i,n),i.prototype.createEl=function(){var e=this.player_.isAudio(),t=this.localize(e?"Audio Player":"Video Player"),r=S("span",{className:"vjs-control-text",innerHTML:this.localize("{1} is loading.",[t])}),a=n.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"});return a.appendChild(r),a},i}(ge);ge.registerComponent("LoadingSpinner",Gl);var Oi=function(n){function i(){return n.apply(this,arguments)||this}Qt(i,n);var e=i.prototype;return e.createEl=function(t,r,a){r===void 0&&(r={}),a===void 0&&(a={}),r=d({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass()},r),a=d({type:"button"},a);var f=ge.prototype.createEl.call(this,"button",r,a);return this.createControlTextEl(f),f},e.addChild=function(t,r){r===void 0&&(r={});var a=this.constructor.name;return re.warn("Adding an actionable (user controllable) child to a Button ("+a+") is not supported; use a ClickableComponent instead."),ge.prototype.addChild.call(this,t,r)},e.enable=function(){n.prototype.enable.call(this),this.el_.removeAttribute("disabled")},e.disable=function(){n.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},e.handleKeyDown=function(t){sn.isEventKey(t,"Space")||sn.isEventKey(t,"Enter")?t.stopPropagation():n.prototype.handleKeyDown.call(this,t)},i}(la);ge.registerComponent("Button",Oi);var qu=function(n){function i(t,r){var a;return(a=n.call(this,t,r)||this).mouseused_=!1,a.on("mousedown",a.handleMouseDown),a}Qt(i,n);var e=i.prototype;return e.buildCSSClass=function(){return"vjs-big-play-button"},e.handleClick=function(t){var r=this.player_.play();if(this.mouseused_&&t.clientX&&t.clientY)return on(r),void(this.player_.tech(!0)&&this.player_.tech(!0).focus());var a=this.player_.getChild("controlBar"),f=a&&a.getChild("playToggle");if(f){var y=function(){return f.focus()};Be(r)?r.then(y,function(){}):this.setTimeout(y,1)}else this.player_.tech(!0).focus()},e.handleKeyDown=function(t){this.mouseused_=!1,n.prototype.handleKeyDown.call(this,t)},e.handleMouseDown=function(t){this.mouseused_=!0},i}(Oi);qu.prototype.controlText_="Play Video",ge.registerComponent("BigPlayButton",qu);var vs=function(n){function i(t,r){var a;return(a=n.call(this,t,r)||this).controlText(r&&r.controlText||a.localize("Close")),a}Qt(i,n);var e=i.prototype;return e.buildCSSClass=function(){return"vjs-close-button "+n.prototype.buildCSSClass.call(this)},e.handleClick=function(t){this.trigger({type:"close",bubbles:!1})},e.handleKeyDown=function(t){sn.isEventKey(t,"Esc")?(t.preventDefault(),t.stopPropagation(),this.trigger("click")):n.prototype.handleKeyDown.call(this,t)},i}(Oi);ge.registerComponent("CloseButton",vs);var $u=function(n){function i(t,r){var a;return r===void 0&&(r={}),a=n.call(this,t,r)||this,r.replay=r.replay===void 0||r.replay,a.on(t,"play",a.handlePlay),a.on(t,"pause",a.handlePause),r.replay&&a.on(t,"ended",a.handleEnded),a}Qt(i,n);var e=i.prototype;return e.buildCSSClass=function(){return"vjs-play-control "+n.prototype.buildCSSClass.call(this)},e.handleClick=function(t){this.player_.paused()?this.player_.play():this.player_.pause()},e.handleSeeked=function(t){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(t):this.handlePlay(t)},e.handlePlay=function(t){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},e.handlePause=function(t){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},e.handleEnded=function(t){this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay"),this.one(this.player_,"seeked",this.handleSeeked)},i}(Oi);$u.prototype.controlText_="Play",ge.registerComponent("PlayToggle",$u);var Ku=function(n,i){n=n<0?0:n;var e=Math.floor(n%60),t=Math.floor(n/60%60),r=Math.floor(n/3600),a=Math.floor(i/60%60),f=Math.floor(i/3600);return(isNaN(n)||n===1/0)&&(r=t=e="-"),(r=r>0||f>0?r+":":"")+(t=((r||a>=10)&&t<10?"0"+t:t)+":")+(e=e<10?"0"+e:e)},gs=Ku,Ga=function(n){function i(t,r){var a;return(a=n.call(this,t,r)||this).throttledUpdateContent=Re(pe(Te(a),a.updateContent),he),a.on(t,"timeupdate",a.throttledUpdateContent),a}Qt(i,n);var e=i.prototype;return e.createEl=function(){var t=this.buildCSSClass(),r=n.prototype.createEl.call(this,"div",{className:t+" vjs-time-control vjs-control",innerHTML:'<span class="vjs-control-text" role="presentation">'+this.localize(this.labelText_)+"\xA0</span>"});return this.contentEl_=S("span",{className:t+"-display"},{"aria-live":"off",role:"presentation"}),this.updateTextNode_(),r.appendChild(this.contentEl_),r},e.dispose=function(){this.contentEl_=null,this.textNode_=null,n.prototype.dispose.call(this)},e.updateTextNode_=function(){if(this.contentEl_){for(;this.contentEl_.firstChild;)this.contentEl_.removeChild(this.contentEl_.firstChild);this.textNode_=V.createTextNode(this.formattedTime_||this.formatTime_(0)),this.contentEl_.appendChild(this.textNode_)}},e.formatTime_=function(t){return wr(t)},e.updateFormattedTime_=function(t){var r=this.formatTime_(t);r!==this.formattedTime_&&(this.formattedTime_=r,this.requestAnimationFrame(this.updateTextNode_))},e.updateContent=function(t){},i}(ge);Ga.prototype.labelText_="Time",Ga.prototype.controlText_="Time",ge.registerComponent("TimeDisplay",Ga);var Xu=function(n){function i(t,r){var a;return(a=n.call(this,t,r)||this).on(t,"ended",a.handleEnded),a}Qt(i,n);var e=i.prototype;return e.buildCSSClass=function(){return"vjs-current-time"},e.updateContent=function(t){var r=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();this.updateFormattedTime_(r)},e.handleEnded=function(t){this.player_.duration()&&this.updateFormattedTime_(this.player_.duration())},i}(Ga);Xu.prototype.labelText_="Current Time",Xu.prototype.controlText_="Current Time",ge.registerComponent("CurrentTimeDisplay",Xu);var ys=function(n){function i(t,r){var a;return(a=n.call(this,t,r)||this).on(t,"durationchange",a.updateContent),a.on(t,"loadstart",a.updateContent),a.on(t,"loadedmetadata",a.throttledUpdateContent),a}Qt(i,n);var e=i.prototype;return e.buildCSSClass=function(){return"vjs-duration"},e.updateContent=function(t){var r=this.player_.duration();this.duration_!==r&&(this.duration_=r,this.updateFormattedTime_(r))},i}(Ga);ys.prototype.labelText_="Duration",ys.prototype.controlText_="Duration",ge.registerComponent("DurationDisplay",ys);var Yu=function(n){function i(){return n.apply(this,arguments)||this}return Qt(i,n),i.prototype.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider",innerHTML:"<div><span>/</span></div>"},{"aria-hidden":!0})},i}(ge);ge.registerComponent("TimeDivider",Yu);var Cn=function(n){function i(t,r){var a;return(a=n.call(this,t,r)||this).on(t,"durationchange",a.throttledUpdateContent),a.on(t,"ended",a.handleEnded),a}Qt(i,n);var e=i.prototype;return e.buildCSSClass=function(){return"vjs-remaining-time"},e.createEl=function(){var t=n.prototype.createEl.call(this);return t.insertBefore(S("span",{},{"aria-hidden":!0},"-"),this.contentEl_),t},e.updateContent=function(t){typeof this.player_.duration()=="number"&&(this.player_.remainingTimeDisplay?this.updateFormattedTime_(this.player_.remainingTimeDisplay()):this.updateFormattedTime_(this.player_.remainingTime()))},e.handleEnded=function(t){this.player_.duration()&&this.updateFormattedTime_(0)},i}(Ga);Cn.prototype.labelText_="Remaining Time",Cn.prototype.controlText_="Remaining Time",ge.registerComponent("RemainingTimeDisplay",Cn);var Lc=function(n){function i(t,r){var a;return(a=n.call(this,t,r)||this).updateShowing(),a.on(a.player(),"durationchange",a.updateShowing),a}Qt(i,n);var e=i.prototype;return e.createEl=function(){var t=n.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=S("div",{className:"vjs-live-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Stream Type")+"\xA0</span>"+this.localize("LIVE")},{"aria-live":"off"}),t.appendChild(this.contentEl_),t},e.dispose=function(){this.contentEl_=null,n.prototype.dispose.call(this)},e.updateShowing=function(t){this.player().duration()===1/0?this.show():this.hide()},i}(ge);ge.registerComponent("LiveDisplay",Lc);var ou=function(n){function i(t,r){var a;return(a=n.call(this,t,r)||this).updateLiveEdgeStatus(),a.player_.liveTracker&&a.on(a.player_.liveTracker,"liveedgechange",a.updateLiveEdgeStatus),a}Qt(i,n);var e=i.prototype;return e.createEl=function(){var t=n.prototype.createEl.call(this,"button",{className:"vjs-seek-to-live-control vjs-control"});return this.textEl_=S("span",{className:"vjs-seek-to-live-text",innerHTML:this.localize("LIVE")},{"aria-hidden":"true"}),t.appendChild(this.textEl_),t},e.updateLiveEdgeStatus=function(t){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))},e.handleClick=function(){this.player_.liveTracker.seekToLiveEdge()},e.dispose=function(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatus),this.textEl_=null,n.prototype.dispose.call(this)},i}(Oi);ou.prototype.controlText_="Seek to live, currently playing live",ge.registerComponent("SeekToLive",ou);var Oo=function(n){function i(t,r){var a;return(a=n.call(this,t,r)||this).bar=a.getChild(a.options_.barName),a.vertical(!!a.options_.vertical),a.enable(),a}Qt(i,n);var e=i.prototype;return e.enabled=function(){return this.enabled_},e.enable=function(){this.enabled()||(this.on("mousedown",this.handleMouseDown),this.on("touchstart",this.handleMouseDown),this.on("keydown",this.handleKeyDown),this.on("click",this.handleClick),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)},e.disable=function(){if(this.enabled()){var t=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown),this.off("touchstart",this.handleMouseDown),this.off("keydown",this.handleKeyDown),this.off("click",this.handleClick),this.off(this.player_,"controlsvisible",this.update),this.off(t,"mousemove",this.handleMouseMove),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchmove",this.handleMouseMove),this.off(t,"touchend",this.handleMouseUp),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}},e.createEl=function(t,r,a){return r===void 0&&(r={}),a===void 0&&(a={}),r.className=r.className+" vjs-slider",r=d({tabIndex:0},r),a=d({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},a),n.prototype.createEl.call(this,t,r,a)},e.handleMouseDown=function(t){var r=this.bar.el_.ownerDocument;t.type==="mousedown"&&t.preventDefault(),t.type!=="touchstart"||Da||t.preventDefault(),ct(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(r,"mousemove",this.handleMouseMove),this.on(r,"mouseup",this.handleMouseUp),this.on(r,"touchmove",this.handleMouseMove),this.on(r,"touchend",this.handleMouseUp),this.handleMouseMove(t)},e.handleMouseMove=function(t){},e.handleMouseUp=function(){var t=this.bar.el_.ownerDocument;mt(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(t,"mousemove",this.handleMouseMove),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchmove",this.handleMouseMove),this.off(t,"touchend",this.handleMouseUp),this.update()},e.update=function(){if(this.el_){var t=this.getPercent(),r=this.bar;if(r){(typeof t!="number"||t!=t||t<0||t===1/0)&&(t=0);var a=(100*t).toFixed(2)+"%",f=r.el().style,y=this.vertical()?"height":"width";return f[y]!==a&&(f[y]=a),t}}},e.calculateDistance=function(t){var r=Wt(this.el_,t);return this.vertical()?r.y:r.x},e.handleKeyDown=function(t){sn.isEventKey(t,"Left")||sn.isEventKey(t,"Down")?(t.preventDefault(),t.stopPropagation(),this.stepBack()):sn.isEventKey(t,"Right")||sn.isEventKey(t,"Up")?(t.preventDefault(),t.stopPropagation(),this.stepForward()):n.prototype.handleKeyDown.call(this,t)},e.handleClick=function(t){t.stopPropagation(),t.preventDefault()},e.vertical=function(t){if(t===void 0)return this.vertical_||!1;this.vertical_=!!t,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")},i}(ge);ge.registerComponent("Slider",Oo);var Wl=function(n){function i(t,r){var a;return(a=n.call(this,t,r)||this).partEls_=[],a.on(t,"progress",a.update),a}Qt(i,n);var e=i.prototype;return e.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Loaded")+'</span>: <span class="vjs-control-text-loaded-percentage">0%</span></span>'})},e.dispose=function(){this.partEls_=null,n.prototype.dispose.call(this)},e.update=function(t){var r=this.player_.liveTracker,a=this.player_.buffered(),f=r&&r.isLive()?r.seekableEnd():this.player_.duration(),y=this.player_.bufferedEnd(),j=this.partEls_,D=this.$(".vjs-control-text-loaded-percentage"),F=function(At,St,kt){var ee=At/St||0;return ee=100*(ee>=1?1:ee),kt&&(ee=ee.toFixed(2)),ee+"%"};this.el_.style.width=F(y,f),w(D,F(y,f,!0));for(var q=0;q<a.length;q++){var Y=a.start(q),tt=a.end(q),ft=j[q];ft||(ft=this.el_.appendChild(S()),j[q]=ft),ft.style.left=F(Y,y),ft.style.width=F(tt-Y,y)}for(var dt=j.length;dt>a.length;dt--)this.el_.removeChild(j[dt-1]);j.length=a.length},i}(ge);ge.registerComponent("LoadProgressBar",Wl);var ql=function(n){function i(t,r){var a;return(a=n.call(this,t,r)||this).update=Re(pe(Te(a),a.update),he),a}Qt(i,n);var e=i.prototype;return e.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})},e.update=function(t,r,a){var f=It(this.el_),y=It(this.player_.el()),j=t.width*r;if(y&&f){var D=t.left-y.left+j,F=t.width-j+(y.right-t.right),q=f.width/2;D<q?q+=q-D:F<q&&(q=F),q<0?q=0:q>f.width&&(q=f.width),this.el_.style.right="-"+q+"px",this.write(a)}},e.write=function(t){w(this.el_,t)},e.updateTime=function(t,r,a,f){var y=this;this.rafId_&&this.cancelAnimationFrame(this.rafId_),this.rafId_=this.requestAnimationFrame(function(){var j,D=y.player_.duration();if(y.player_.liveTracker&&y.player_.liveTracker.isLive()){var F=y.player_.liveTracker.liveWindow(),q=F-r*F;j=(q<1?"":"-")+wr(q,F)}else j=wr(a,D);y.update(t,r,j),f&&f()})},i}(ge);ge.registerComponent("TimeTooltip",ql);var su=function(n){function i(t,r){var a;return(a=n.call(this,t,r)||this).update=Re(pe(Te(a),a.update),he),a}Qt(i,n);var e=i.prototype;return e.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})},e.update=function(t,r){var a=this.getChild("timeTooltip");if(a){var f=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();a.updateTime(t,r,f)}},i}(ge);su.prototype.options_={children:[]},ui||Kn||su.prototype.options_.children.push("timeTooltip"),ge.registerComponent("PlayProgressBar",su);var Li=function(n){function i(t,r){var a;return(a=n.call(this,t,r)||this).update=Re(pe(Te(a),a.update),he),a}Qt(i,n);var e=i.prototype;return e.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},e.update=function(t,r){var a=this,f=r*this.player_.duration();this.getChild("timeTooltip").updateTime(t,r,f,function(){a.el_.style.left=t.width*r+"px"})},i}(ge);Li.prototype.options_={children:["timeTooltip"]},ge.registerComponent("MouseTimeDisplay",Li);var Ju=function(n){function i(t,r){var a;return(a=n.call(this,t,r)||this).setEventHandlers_(),a}Qt(i,n);var e=i.prototype;return e.setEventHandlers_=function(){this.update=Re(pe(this,this.update),30),this.on(this.player_,"timeupdate",this.update),this.on(this.player_,"ended",this.handleEnded),this.on(this.player_,"durationchange",this.update),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.on(this.player_,["playing"],this.enableInterval_),this.on(this.player_,["ended","pause","waiting"],this.disableInterval_),"hidden"in V&&"visibilityState"in V&&this.on(V,"visibilitychange",this.toggleVisibility_)},e.toggleVisibility_=function(t){V.hidden?this.disableInterval_(t):(this.enableInterval_(),this.requestAnimationFrame(this.update))},e.enableInterval_=function(){var t=this;this.clearInterval(this.updateInterval),this.updateInterval=this.setInterval(function(){t.requestAnimationFrame(t.update)},30)},e.disableInterval_=function(t){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&t.type!=="ended"||this.clearInterval(this.updateInterval)},e.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},e.update_=function(t,r){var a=this.player_.liveTracker,f=this.player_.duration();a&&a.isLive()&&(f=this.player_.liveTracker.liveCurrentTime()),this.el_.setAttribute("aria-valuenow",(100*r).toFixed(2)),this.el_.setAttribute("aria-valuetext",this.localize("progress bar timing: currentTime={1} duration={2}",[wr(t,f),wr(f,f)],"{1} of {2}")),this.bar&&this.bar.update(It(this.el_),r)},e.update=function(t){if(this.el().offsetParent!==null){var r=n.prototype.update.call(this);return this.update_(this.getCurrentTime_(),r),r}},e.getCurrentTime_=function(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()},e.handleEnded=function(t){this.update_(this.player_.duration(),1)},e.getPercent=function(){var t,r=this.getCurrentTime_(),a=this.player_.liveTracker;return a&&a.isLive()?(t=(r-a.seekableStart())/a.liveWindow(),a.atLiveEdge()&&(t=1)):t=r/this.player_.duration(),t>=1?1:t||0},e.handleMouseDown=function(t){U(t)&&(t.stopPropagation(),this.player_.scrubbing(!0),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),n.prototype.handleMouseDown.call(this,t))},e.handleMouseMove=function(t){if(U(t)){var r,a=this.calculateDistance(t),f=this.player_.liveTracker;if(f&&f.isLive()){var y=f.seekableStart(),j=f.liveCurrentTime();if((r=y+a*f.liveWindow())>=j&&(r=j),r<=y&&(r=y+.1),r===1/0)return}else(r=a*this.player_.duration())===this.player_.duration()&&(r-=.1);this.player_.currentTime(r)}},e.enable=function(){n.prototype.enable.call(this);var t=this.getChild("mouseTimeDisplay");t&&t.show()},e.disable=function(){n.prototype.disable.call(this);var t=this.getChild("mouseTimeDisplay");t&&t.hide()},e.handleMouseUp=function(t){n.prototype.handleMouseUp.call(this,t),t&&t.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying&&on(this.player_.play())},e.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+5)},e.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-5)},e.handleAction=function(t){this.player_.paused()?this.player_.play():this.player_.pause()},e.handleKeyDown=function(t){if(sn.isEventKey(t,"Space")||sn.isEventKey(t,"Enter"))t.preventDefault(),t.stopPropagation(),this.handleAction(t);else if(sn.isEventKey(t,"Home"))t.preventDefault(),t.stopPropagation(),this.player_.currentTime(0);else if(sn.isEventKey(t,"End"))t.preventDefault(),t.stopPropagation(),this.player_.currentTime(this.player_.duration());else if(/^[0-9]$/.test(sn(t))){t.preventDefault(),t.stopPropagation();var r=10*(sn.codes[sn(t)]-sn.codes[0])/100;this.player_.currentTime(this.player_.duration()*r)}else sn.isEventKey(t,"PgDn")?(t.preventDefault(),t.stopPropagation(),this.player_.currentTime(this.player_.currentTime()-60)):sn.isEventKey(t,"PgUp")?(t.preventDefault(),t.stopPropagation(),this.player_.currentTime(this.player_.currentTime()+60)):n.prototype.handleKeyDown.call(this,t)},i}(Oo);Ju.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"},ui||Kn||Ju.prototype.options_.children.splice(1,0,"mouseTimeDisplay"),ge.registerComponent("SeekBar",Ju);var Lo=function(n){function i(t,r){var a;return(a=n.call(this,t,r)||this).handleMouseMove=Re(pe(Te(a),a.handleMouseMove),he),a.throttledHandleMouseSeek=Re(pe(Te(a),a.handleMouseSeek),he),a.enable(),a}Qt(i,n);var e=i.prototype;return e.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},e.handleMouseMove=function(t){var r=this.getChild("seekBar");if(r){var a=r.getChild("mouseTimeDisplay"),f=r.el(),y=It(f),j=Wt(f,t).x;j>1?j=1:j<0&&(j=0),a&&a.update(y,j)}},e.handleMouseSeek=function(t){var r=this.getChild("seekBar");r&&r.handleMouseMove(t)},e.enabled=function(){return this.enabled_},e.disable=function(){this.children().forEach(function(t){return t.disable&&t.disable()}),this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDown),this.off(this.el_,"mousemove",this.handleMouseMove),this.handleMouseUp(),this.addClass("disabled"),this.enabled_=!1)},e.enable=function(){this.children().forEach(function(t){return t.enable&&t.enable()}),this.enabled()||(this.on(["mousedown","touchstart"],this.handleMouseDown),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)},e.handleMouseDown=function(t){var r=this.el_.ownerDocument,a=this.getChild("seekBar");a&&a.handleMouseDown(t),this.on(r,"mousemove",this.throttledHandleMouseSeek),this.on(r,"touchmove",this.throttledHandleMouseSeek),this.on(r,"mouseup",this.handleMouseUp),this.on(r,"touchend",this.handleMouseUp)},e.handleMouseUp=function(t){var r=this.el_.ownerDocument,a=this.getChild("seekBar");a&&a.handleMouseUp(t),this.off(r,"mousemove",this.throttledHandleMouseSeek),this.off(r,"touchmove",this.throttledHandleMouseSeek),this.off(r,"mouseup",this.handleMouseUp),this.off(r,"touchend",this.handleMouseUp)},i}(ge);Lo.prototype.options_={children:["seekBar"]},ge.registerComponent("ProgressControl",Lo);var uu=function(n){function i(t,r){var a;return(a=n.call(this,t,r)||this).on(t,["enterpictureinpicture","leavepictureinpicture"],a.handlePictureInPictureChange),V.pictureInPictureEnabled||a.disable(),a}Qt(i,n);var e=i.prototype;return e.buildCSSClass=function(){return"vjs-picture-in-picture-control "+n.prototype.buildCSSClass.call(this)},e.handlePictureInPictureChange=function(t){this.player_.isInPictureInPicture()?this.controlText("Exit Picture-in-Picture"):this.controlText("Picture-in-Picture")},e.handleClick=function(t){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()},i}(Oi);uu.prototype.controlText_="Picture-in-Picture",ge.registerComponent("PictureInPictureToggle",uu);var Zu=function(n){function i(t,r){var a;return(a=n.call(this,t,r)||this).on(t,"fullscreenchange",a.handleFullscreenChange),V[t.fsApi_.fullscreenEnabled]===!1&&a.disable(),a}Qt(i,n);var e=i.prototype;return e.buildCSSClass=function(){return"vjs-fullscreen-control "+n.prototype.buildCSSClass.call(this)},e.handleFullscreenChange=function(t){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},e.handleClick=function(t){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},i}(Oi);Zu.prototype.controlText_="Fullscreen",ge.registerComponent("FullscreenToggle",Zu);var Pc=function(n){function i(){return n.apply(this,arguments)||this}return Qt(i,n),i.prototype.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})},i}(ge);ge.registerComponent("VolumeLevel",Pc);var ci=function(n){function i(t,r){var a;return(a=n.call(this,t,r)||this).on("slideractive",a.updateLastVolume_),a.on(t,"volumechange",a.updateARIAAttributes),t.ready(function(){return a.updateARIAAttributes()}),a}Qt(i,n);var e=i.prototype;return e.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},e.handleMouseDown=function(t){U(t)&&n.prototype.handleMouseDown.call(this,t)},e.handleMouseMove=function(t){U(t)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(t)))},e.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},e.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},e.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},e.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},e.updateARIAAttributes=function(t){var r=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",r),this.el_.setAttribute("aria-valuetext",r+"%")},e.volumeAsPercentage_=function(){return Math.round(100*this.player_.volume())},e.updateLastVolume_=function(){var t=this,r=this.player_.volume();this.one("sliderinactive",function(){t.player_.volume()===0&&t.player_.lastVolume_(r)})},i}(Oo);ci.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},ci.prototype.playerEvent="volumechange",ge.registerComponent("VolumeBar",ci);var Wa=function(n){function i(t,r){var a;return r===void 0&&(r={}),r.vertical=r.vertical||!1,(r.volumeBar===void 0||v(r.volumeBar))&&(r.volumeBar=r.volumeBar||{},r.volumeBar.vertical=r.vertical),function(f,y){y.tech_&&!y.tech_.featuresVolumeControl&&f.addClass("vjs-hidden"),f.on(y,"loadstart",function(){y.tech_.featuresVolumeControl?f.removeClass("vjs-hidden"):f.addClass("vjs-hidden")})}(Te(a=n.call(this,t,r)||this),t),a.throttledHandleMouseMove=Re(pe(Te(a),a.handleMouseMove),he),a.on("mousedown",a.handleMouseDown),a.on("touchstart",a.handleMouseDown),a.on(a.volumeBar,["focus","slideractive"],function(){a.volumeBar.addClass("vjs-slider-active"),a.addClass("vjs-slider-active"),a.trigger("slideractive")}),a.on(a.volumeBar,["blur","sliderinactive"],function(){a.volumeBar.removeClass("vjs-slider-active"),a.removeClass("vjs-slider-active"),a.trigger("sliderinactive")}),a}Qt(i,n);var e=i.prototype;return e.createEl=function(){var t="vjs-volume-horizontal";return this.options_.vertical&&(t="vjs-volume-vertical"),n.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+t})},e.handleMouseDown=function(t){var r=this.el_.ownerDocument;this.on(r,"mousemove",this.throttledHandleMouseMove),this.on(r,"touchmove",this.throttledHandleMouseMove),this.on(r,"mouseup",this.handleMouseUp),this.on(r,"touchend",this.handleMouseUp)},e.handleMouseUp=function(t){var r=this.el_.ownerDocument;this.off(r,"mousemove",this.throttledHandleMouseMove),this.off(r,"touchmove",this.throttledHandleMouseMove),this.off(r,"mouseup",this.handleMouseUp),this.off(r,"touchend",this.handleMouseUp)},e.handleMouseMove=function(t){this.volumeBar.handleMouseMove(t)},i}(ge);Wa.prototype.options_={children:["volumeBar"]},ge.registerComponent("VolumeControl",Wa);var lu=function(n){function i(t,r){var a;return function(f,y){y.tech_&&!y.tech_.featuresMuteControl&&f.addClass("vjs-hidden"),f.on(y,"loadstart",function(){y.tech_.featuresMuteControl?f.removeClass("vjs-hidden"):f.addClass("vjs-hidden")})}(Te(a=n.call(this,t,r)||this),t),a.on(t,["loadstart","volumechange"],a.update),a}Qt(i,n);var e=i.prototype;return e.buildCSSClass=function(){return"vjs-mute-control "+n.prototype.buildCSSClass.call(this)},e.handleClick=function(t){var r=this.player_.volume(),a=this.player_.lastVolume_();if(r===0){var f=a<.1?.1:a;this.player_.volume(f),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())},e.update=function(t){this.updateIcon_(),this.updateControlText_()},e.updateIcon_=function(){var t=this.player_.volume(),r=3;ui&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),t===0||this.player_.muted()?r=0:t<.33?r=1:t<.67&&(r=2);for(var a=0;a<4;a++)A(this.el_,"vjs-vol-"+a);E(this.el_,"vjs-vol-"+r)},e.updateControlText_=function(){var t=this.player_.muted()||this.player_.volume()===0?"Unmute":"Mute";this.controlText()!==t&&this.controlText(t)},i}(Oi);lu.prototype.controlText_="Mute",ge.registerComponent("MuteToggle",lu);var $l=function(n){function i(t,r){var a;return r===void 0&&(r={}),r.inline!==void 0?r.inline=r.inline:r.inline=!0,(r.volumeControl===void 0||v(r.volumeControl))&&(r.volumeControl=r.volumeControl||{},r.volumeControl.vertical=!r.inline),(a=n.call(this,t,r)||this).on(t,["loadstart"],a.volumePanelState_),a.on(a.muteToggle,"keyup",a.handleKeyPress),a.on(a.volumeControl,"keyup",a.handleVolumeControlKeyUp),a.on("keydown",a.handleKeyPress),a.on("mouseover",a.handleMouseOver),a.on("mouseout",a.handleMouseOut),a.on(a.volumeControl,["slideractive"],a.sliderActive_),a.on(a.volumeControl,["sliderinactive"],a.sliderInactive_),a}Qt(i,n);var e=i.prototype;return e.sliderActive_=function(){this.addClass("vjs-slider-active")},e.sliderInactive_=function(){this.removeClass("vjs-slider-active")},e.volumePanelState_=function(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")},e.createEl=function(){var t="vjs-volume-panel-horizontal";return this.options_.inline||(t="vjs-volume-panel-vertical"),n.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+t})},e.dispose=function(){this.handleMouseOut(),n.prototype.dispose.call(this)},e.handleVolumeControlKeyUp=function(t){sn.isEventKey(t,"Esc")&&this.muteToggle.focus()},e.handleMouseOver=function(t){this.addClass("vjs-hover"),vt(V,"keyup",pe(this,this.handleKeyPress))},e.handleMouseOut=function(t){this.removeClass("vjs-hover"),ht(V,"keyup",pe(this,this.handleKeyPress))},e.handleKeyPress=function(t){sn.isEventKey(t,"Esc")&&this.handleMouseOut()},i}(ge);$l.prototype.options_={children:["muteToggle","volumeControl"]},ge.registerComponent("VolumePanel",$l);var _s=function(n){function i(t,r){var a;return a=n.call(this,t,r)||this,r&&(a.menuButton_=r.menuButton),a.focusedChild_=-1,a.on("keydown",a.handleKeyDown),a.boundHandleBlur_=pe(Te(a),a.handleBlur),a.boundHandleTapClick_=pe(Te(a),a.handleTapClick),a}Qt(i,n);var e=i.prototype;return e.addEventListenerForItem=function(t){t instanceof ge&&(this.on(t,"blur",this.boundHandleBlur_),this.on(t,["tap","click"],this.boundHandleTapClick_))},e.removeEventListenerForItem=function(t){t instanceof ge&&(this.off(t,"blur",this.boundHandleBlur_),this.off(t,["tap","click"],this.boundHandleTapClick_))},e.removeChild=function(t){typeof t=="string"&&(t=this.getChild(t)),this.removeEventListenerForItem(t),n.prototype.removeChild.call(this,t)},e.addItem=function(t){var r=this.addChild(t);r&&this.addEventListenerForItem(r)},e.createEl=function(){var t=this.options_.contentElType||"ul";this.contentEl_=S(t,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var r=n.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return r.appendChild(this.contentEl_),vt(r,"click",function(a){a.preventDefault(),a.stopImmediatePropagation()}),r},e.dispose=function(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,n.prototype.dispose.call(this)},e.handleBlur=function(t){var r=t.relatedTarget||V.activeElement;if(!this.children().some(function(f){return f.el()===r})){var a=this.menuButton_;a&&a.buttonPressed_&&r!==a.el().firstChild&&a.unpressButton()}},e.handleTapClick=function(t){if(this.menuButton_){this.menuButton_.unpressButton();var r=this.children();if(!Array.isArray(r))return;var a=r.filter(function(f){return f.el()===t.target})[0];if(!a)return;a.name()!=="CaptionSettingsMenuItem"&&this.menuButton_.focus()}},e.handleKeyDown=function(t){sn.isEventKey(t,"Left")||sn.isEventKey(t,"Down")?(t.preventDefault(),t.stopPropagation(),this.stepForward()):(sn.isEventKey(t,"Right")||sn.isEventKey(t,"Up"))&&(t.preventDefault(),t.stopPropagation(),this.stepBack())},e.stepForward=function(){var t=0;this.focusedChild_!==void 0&&(t=this.focusedChild_+1),this.focus(t)},e.stepBack=function(){var t=0;this.focusedChild_!==void 0&&(t=this.focusedChild_-1),this.focus(t)},e.focus=function(t){t===void 0&&(t=0);var r=this.children().slice();r.length&&r[0].className&&/vjs-menu-title/.test(r[0].className)&&r.shift(),r.length>0&&(t<0?t=0:t>=r.length&&(t=r.length-1),this.focusedChild_=t,r[t].el_.focus())},i}(ge);ge.registerComponent("Menu",_s);var Qu=function(n){function i(t,r){var a;r===void 0&&(r={}),(a=n.call(this,t,r)||this).menuButton_=new Oi(t,r),a.menuButton_.controlText(a.controlText_),a.menuButton_.el_.setAttribute("aria-haspopup","true");var f=Oi.prototype.buildCSSClass();return a.menuButton_.el_.className=a.buildCSSClass()+" "+f,a.menuButton_.removeClass("vjs-control"),a.addChild(a.menuButton_),a.update(),a.enabled_=!0,a.on(a.menuButton_,"tap",a.handleClick),a.on(a.menuButton_,"click",a.handleClick),a.on(a.menuButton_,"keydown",a.handleKeyDown),a.on(a.menuButton_,"mouseenter",function(){a.addClass("vjs-hover"),a.menu.show(),vt(V,"keyup",pe(Te(a),a.handleMenuKeyUp))}),a.on("mouseleave",a.handleMouseLeave),a.on("keydown",a.handleSubmenuKeyDown),a}Qt(i,n);var e=i.prototype;return e.update=function(){var t=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=t,this.addChild(t),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?this.hide():this.show()},e.createMenu=function(){var t=new _s(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){var r=S("li",{className:"vjs-menu-title",innerHTML:yr(this.options_.title),tabIndex:-1});this.hideThreshold_+=1;var a=new ge(this.player_,{el:r});t.addItem(a)}if(this.items=this.createItems(),this.items)for(var f=0;f<this.items.length;f++)t.addItem(this.items[f]);return t},e.createItems=function(){},e.createEl=function(){return n.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},e.buildWrapperCSSClass=function(){var t="vjs-menu-button";return this.options_.inline===!0?t+="-inline":t+="-popup","vjs-menu-button "+t+" "+Oi.prototype.buildCSSClass()+" "+n.prototype.buildCSSClass.call(this)},e.buildCSSClass=function(){var t="vjs-menu-button";return this.options_.inline===!0?t+="-inline":t+="-popup","vjs-menu-button "+t+" "+n.prototype.buildCSSClass.call(this)},e.controlText=function(t,r){return r===void 0&&(r=this.menuButton_.el()),this.menuButton_.controlText(t,r)},e.dispose=function(){this.handleMouseLeave(),n.prototype.dispose.call(this)},e.handleClick=function(t){this.buttonPressed_?this.unpressButton():this.pressButton()},e.handleMouseLeave=function(t){this.removeClass("vjs-hover"),ht(V,"keyup",pe(this,this.handleMenuKeyUp))},e.focus=function(){this.menuButton_.focus()},e.blur=function(){this.menuButton_.blur()},e.handleKeyDown=function(t){sn.isEventKey(t,"Esc")||sn.isEventKey(t,"Tab")?(this.buttonPressed_&&this.unpressButton(),sn.isEventKey(t,"Tab")||(t.preventDefault(),this.menuButton_.focus())):(sn.isEventKey(t,"Up")||sn.isEventKey(t,"Down"))&&(this.buttonPressed_||(t.preventDefault(),this.pressButton()))},e.handleMenuKeyUp=function(t){(sn.isEventKey(t,"Esc")||sn.isEventKey(t,"Tab"))&&this.removeClass("vjs-hover")},e.handleSubmenuKeyPress=function(t){this.handleSubmenuKeyDown(t)},e.handleSubmenuKeyDown=function(t){(sn.isEventKey(t,"Esc")||sn.isEventKey(t,"Tab"))&&(this.buttonPressed_&&this.unpressButton(),sn.isEventKey(t,"Tab")||(t.preventDefault(),this.menuButton_.focus()))},e.pressButton=function(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),ui&&T())return;this.menu.focus()}},e.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},e.disable=function(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()},e.enable=function(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()},i}(ge);ge.registerComponent("MenuButton",Qu);var cu=function(n){function i(e,t){var r,a=t.tracks;if((r=n.call(this,e,t)||this).items.length<=1&&r.hide(),!a)return Te(r);var f=pe(Te(r),r.update);return a.addEventListener("removetrack",f),a.addEventListener("addtrack",f),r.player_.on("ready",f),r.player_.on("dispose",function(){a.removeEventListener("removetrack",f),a.removeEventListener("addtrack",f)}),r}return Qt(i,n),i}(Qu);ge.registerComponent("TrackButton",cu);var tl=["Tab","Esc","Up","Down","Right","Left"],Po=function(n){function i(t,r){var a;return(a=n.call(this,t,r)||this).selectable=r.selectable,a.isSelected_=r.selected||!1,a.multiSelectable=r.multiSelectable,a.selected(a.isSelected_),a.selectable?a.multiSelectable?a.el_.setAttribute("role","menuitemcheckbox"):a.el_.setAttribute("role","menuitemradio"):a.el_.setAttribute("role","menuitem"),a}Qt(i,n);var e=i.prototype;return e.createEl=function(t,r,a){return this.nonIconControl=!0,n.prototype.createEl.call(this,"li",d({className:"vjs-menu-item",innerHTML:'<span class="vjs-menu-item-text">'+this.localize(this.options_.label)+"</span>",tabIndex:-1},r),a)},e.handleKeyDown=function(t){tl.some(function(r){return sn.isEventKey(t,r)})||n.prototype.handleKeyDown.call(this,t)},e.handleClick=function(t){this.selected(!0)},e.selected=function(t){this.selectable&&(t?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))},i}(la);ge.registerComponent("MenuItem",Po);var lo=function(n){function i(t,r){var a,f=r.track,y=t.textTracks();r.label=f.label||f.language||"Unknown",r.selected=f.mode==="showing",(a=n.call(this,t,r)||this).track=f,a.kinds=(r.kinds||[r.kind||a.track.kind]).filter(Boolean);var j,D=function(){for(var q=arguments.length,Y=new Array(q),tt=0;tt<q;tt++)Y[tt]=arguments[tt];a.handleTracksChange.apply(Te(a),Y)},F=function(){for(var q=arguments.length,Y=new Array(q),tt=0;tt<q;tt++)Y[tt]=arguments[tt];a.handleSelectedLanguageChange.apply(Te(a),Y)};return t.on(["loadstart","texttrackchange"],D),y.addEventListener("change",D),y.addEventListener("selectedlanguagechange",F),a.on("dispose",function(){t.off(["loadstart","texttrackchange"],D),y.removeEventListener("change",D),y.removeEventListener("selectedlanguagechange",F)}),y.onchange===void 0&&a.on(["tap","click"],function(){if(typeof x.Event!="object")try{j=new x.Event("change")}catch(q){}j||(j=V.createEvent("Event")).initEvent("change",!0,!0),y.dispatchEvent(j)}),a.handleTracksChange(),a}Qt(i,n);var e=i.prototype;return e.handleClick=function(t){var r=this.track,a=this.player_.textTracks();if(n.prototype.handleClick.call(this,t),a)for(var f=0;f<a.length;f++){var y=a[f];this.kinds.indexOf(y.kind)!==-1&&(y===r?y.mode!=="showing"&&(y.mode="showing"):y.mode!=="disabled"&&(y.mode="disabled"))}},e.handleTracksChange=function(t){var r=this.track.mode==="showing";r!==this.isSelected_&&this.selected(r)},e.handleSelectedLanguageChange=function(t){if(this.track.mode==="showing"){var r=this.player_.cache_.selectedLanguage;if(r&&r.enabled&&r.language===this.track.language&&r.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}},e.dispose=function(){this.track=null,n.prototype.dispose.call(this)},i}(Po);ge.registerComponent("TextTrackMenuItem",lo);var qa=function(n){function i(t,r){return r.track={player:t,kind:r.kind,kinds:r.kinds,default:!1,mode:"disabled"},r.kinds||(r.kinds=[r.kind]),r.label?r.track.label=r.label:r.track.label=r.kinds.join(" and ")+" off",r.selectable=!0,r.multiSelectable=!1,n.call(this,t,r)||this}Qt(i,n);var e=i.prototype;return e.handleTracksChange=function(t){for(var r=this.player().textTracks(),a=!0,f=0,y=r.length;f<y;f++){var j=r[f];if(this.options_.kinds.indexOf(j.kind)>-1&&j.mode==="showing"){a=!1;break}}a!==this.isSelected_&&this.selected(a)},e.handleSelectedLanguageChange=function(t){for(var r=this.player().textTracks(),a=!0,f=0,y=r.length;f<y;f++){var j=r[f];if(["captions","descriptions","subtitles"].indexOf(j.kind)>-1&&j.mode==="showing"){a=!1;break}}a&&(this.player_.cache_.selectedLanguage={enabled:!1})},i}(lo);ge.registerComponent("OffTextTrackMenuItem",qa);var bs=function(n){function i(e,t){return t===void 0&&(t={}),t.tracks=e.textTracks(),n.call(this,e,t)||this}return Qt(i,n),i.prototype.createItems=function(e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=lo),this.label_&&(r=this.label_+" off"),e.push(new qa(this.player_,{kinds:this.kinds_,kind:this.kind_,label:r})),this.hideThreshold_+=1;var a=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(var f=0;f<a.length;f++){var y=a[f];if(this.kinds_.indexOf(y.kind)>-1){var j=new t(this.player_,{track:y,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});j.addClass("vjs-"+y.kind+"-menu-item"),e.push(j)}}return e},i}(cu);ge.registerComponent("TextTrackButton",bs);var $a=function(n){function i(t,r){var a,f=r.track,y=r.cue,j=t.currentTime();return r.selectable=!0,r.multiSelectable=!1,r.label=y.text,r.selected=y.startTime<=j&&j<y.endTime,(a=n.call(this,t,r)||this).track=f,a.cue=y,f.addEventListener("cuechange",pe(Te(a),a.update)),a}Qt(i,n);var e=i.prototype;return e.handleClick=function(t){n.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},e.update=function(t){var r=this.cue,a=this.player_.currentTime();this.selected(r.startTime<=a&&a<r.endTime)},i}(Po);ge.registerComponent("ChaptersTrackMenuItem",$a);var el=function(n){function i(t,r,a){return n.call(this,t,r,a)||this}Qt(i,n);var e=i.prototype;return e.buildCSSClass=function(){return"vjs-chapters-button "+n.prototype.buildCSSClass.call(this)},e.buildWrapperCSSClass=function(){return"vjs-chapters-button "+n.prototype.buildWrapperCSSClass.call(this)},e.update=function(t){this.track_&&(!t||t.type!=="addtrack"&&t.type!=="removetrack")||this.setTrack(this.findChaptersTrack()),n.prototype.update.call(this)},e.setTrack=function(t){if(this.track_!==t){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var r=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);r&&r.removeEventListener("load",this.updateHandler_),this.track_=null}if(this.track_=t,this.track_){this.track_.mode="hidden";var a=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);a&&a.addEventListener("load",this.updateHandler_)}}},e.findChaptersTrack=function(){for(var t=this.player_.textTracks()||[],r=t.length-1;r>=0;r--){var a=t[r];if(a.kind===this.kind_)return a}},e.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize(yr(this.kind_))},e.createMenu=function(){return this.options_.title=this.getMenuCaption(),n.prototype.createMenu.call(this)},e.createItems=function(){var t=[];if(!this.track_)return t;var r=this.track_.cues;if(!r)return t;for(var a=0,f=r.length;a<f;a++){var y=r[a],j=new $a(this.player_,{track:this.track_,cue:y});t.push(j)}return t},i}(bs);el.prototype.kind_="chapters",el.prototype.controlText_="Chapters",ge.registerComponent("ChaptersButton",el);var nl=function(n){function i(t,r,a){var f;f=n.call(this,t,r,a)||this;var y=t.textTracks(),j=pe(Te(f),f.handleTracksChange);return y.addEventListener("change",j),f.on("dispose",function(){y.removeEventListener("change",j)}),f}Qt(i,n);var e=i.prototype;return e.handleTracksChange=function(t){for(var r=this.player().textTracks(),a=!1,f=0,y=r.length;f<y;f++){var j=r[f];if(j.kind!==this.kind_&&j.mode==="showing"){a=!0;break}}a?this.disable():this.enable()},e.buildCSSClass=function(){return"vjs-descriptions-button "+n.prototype.buildCSSClass.call(this)},e.buildWrapperCSSClass=function(){return"vjs-descriptions-button "+n.prototype.buildWrapperCSSClass.call(this)},i}(bs);nl.prototype.kind_="descriptions",nl.prototype.controlText_="Descriptions",ge.registerComponent("DescriptionsButton",nl);var du=function(n){function i(t,r,a){return n.call(this,t,r,a)||this}Qt(i,n);var e=i.prototype;return e.buildCSSClass=function(){return"vjs-subtitles-button "+n.prototype.buildCSSClass.call(this)},e.buildWrapperCSSClass=function(){return"vjs-subtitles-button "+n.prototype.buildWrapperCSSClass.call(this)},i}(bs);du.prototype.kind_="subtitles",du.prototype.controlText_="Subtitles",ge.registerComponent("SubtitlesButton",du);var rl=function(n){function i(e,t){var r;return t.track={player:e,kind:t.kind,label:t.kind+" settings",selectable:!1,default:!1,mode:"disabled"},t.selectable=!1,t.name="CaptionSettingsMenuItem",(r=n.call(this,e,t)||this).addClass("vjs-texttrack-settings"),r.controlText(", opens "+t.kind+" settings dialog"),r}return Qt(i,n),i.prototype.handleClick=function(e){this.player().getChild("textTrackSettings").open()},i}(lo);ge.registerComponent("CaptionSettingsMenuItem",rl);var il=function(n){function i(t,r,a){return n.call(this,t,r,a)||this}Qt(i,n);var e=i.prototype;return e.buildCSSClass=function(){return"vjs-captions-button "+n.prototype.buildCSSClass.call(this)},e.buildWrapperCSSClass=function(){return"vjs-captions-button "+n.prototype.buildWrapperCSSClass.call(this)},e.createItems=function(){var t=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(t.push(new rl(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),n.prototype.createItems.call(this,t)},i}(bs);il.prototype.kind_="captions",il.prototype.controlText_="Captions",ge.registerComponent("CaptionsButton",il);var al=function(n){function i(){return n.apply(this,arguments)||this}return Qt(i,n),i.prototype.createEl=function(e,t,r){var a='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);return this.options_.track.kind==="captions"&&(a+=`
        <span aria-hidden="true" class="vjs-icon-placeholder"></span>
        <span class="vjs-control-text"> `+this.localize("Captions")+`</span>
      `),a+="</span>",n.prototype.createEl.call(this,e,d({innerHTML:a},t),r)},i}(lo);ge.registerComponent("SubsCapsMenuItem",al);var fu=function(n){function i(t,r){var a;return r===void 0&&(r={}),(a=n.call(this,t,r)||this).label_="subtitles",["en","en-us","en-ca","fr-ca"].indexOf(a.player_.language_)>-1&&(a.label_="captions"),a.menuButton_.controlText(yr(a.label_)),a}Qt(i,n);var e=i.prototype;return e.buildCSSClass=function(){return"vjs-subs-caps-button "+n.prototype.buildCSSClass.call(this)},e.buildWrapperCSSClass=function(){return"vjs-subs-caps-button "+n.prototype.buildWrapperCSSClass.call(this)},e.createItems=function(){var t=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(t.push(new rl(this.player_,{kind:this.label_})),this.hideThreshold_+=1),n.prototype.createItems.call(this,t,al)},i}(bs);fu.prototype.kinds_=["captions","subtitles"],fu.prototype.controlText_="Subtitles",ge.registerComponent("SubsCapsButton",fu);var Yr=function(n){function i(t,r){var a,f=r.track,y=t.audioTracks();r.label=f.label||f.language||"Unknown",r.selected=f.enabled,(a=n.call(this,t,r)||this).track=f,a.addClass("vjs-"+f.kind+"-menu-item");var j=function(){for(var D=arguments.length,F=new Array(D),q=0;q<D;q++)F[q]=arguments[q];a.handleTracksChange.apply(Te(a),F)};return y.addEventListener("change",j),a.on("dispose",function(){y.removeEventListener("change",j)}),a}Qt(i,n);var e=i.prototype;return e.createEl=function(t,r,a){var f='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);return this.options_.track.kind==="main-desc"&&(f+=`
        <span aria-hidden="true" class="vjs-icon-placeholder"></span>
        <span class="vjs-control-text"> `+this.localize("Descriptions")+`</span>
      `),f+="</span>",n.prototype.createEl.call(this,t,d({innerHTML:f},r),a)},e.handleClick=function(t){var r=this.player_.audioTracks();n.prototype.handleClick.call(this,t);for(var a=0;a<r.length;a++){var f=r[a];f.enabled=f===this.track}},e.handleTracksChange=function(t){this.selected(this.track.enabled)},i}(Po);ge.registerComponent("AudioTrackMenuItem",Yr);var da=function(n){function i(t,r){return r===void 0&&(r={}),r.tracks=t.audioTracks(),n.call(this,t,r)||this}Qt(i,n);var e=i.prototype;return e.buildCSSClass=function(){return"vjs-audio-button "+n.prototype.buildCSSClass.call(this)},e.buildWrapperCSSClass=function(){return"vjs-audio-button "+n.prototype.buildWrapperCSSClass.call(this)},e.createItems=function(t){t===void 0&&(t=[]),this.hideThreshold_=1;for(var r=this.player_.audioTracks(),a=0;a<r.length;a++){var f=r[a];t.push(new Yr(this.player_,{track:f,selectable:!0,multiSelectable:!1}))}return t},i}(cu);da.prototype.controlText_="Audio Track",ge.registerComponent("AudioTrackButton",da);var Ro=function(n){function i(t,r){var a,f=r.rate,y=parseFloat(f,10);return r.label=f,r.selected=y===1,r.selectable=!0,r.multiSelectable=!1,(a=n.call(this,t,r)||this).label=f,a.rate=y,a.on(t,"ratechange",a.update),a}Qt(i,n);var e=i.prototype;return e.handleClick=function(t){n.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},e.update=function(t){this.selected(this.player().playbackRate()===this.rate)},i}(Po);Ro.prototype.contentElType="button",ge.registerComponent("PlaybackRateMenuItem",Ro);var Io=function(n){function i(t,r){var a;return(a=n.call(this,t,r)||this).updateVisibility(),a.updateLabel(),a.on(t,"loadstart",a.updateVisibility),a.on(t,"ratechange",a.updateLabel),a}Qt(i,n);var e=i.prototype;return e.createEl=function(){var t=n.prototype.createEl.call(this);return this.labelEl_=S("div",{className:"vjs-playback-rate-value",innerHTML:"1x"}),t.appendChild(this.labelEl_),t},e.dispose=function(){this.labelEl_=null,n.prototype.dispose.call(this)},e.buildCSSClass=function(){return"vjs-playback-rate "+n.prototype.buildCSSClass.call(this)},e.buildWrapperCSSClass=function(){return"vjs-playback-rate "+n.prototype.buildWrapperCSSClass.call(this)},e.createMenu=function(){var t=new _s(this.player()),r=this.playbackRates();if(r)for(var a=r.length-1;a>=0;a--)t.addChild(new Ro(this.player(),{rate:r[a]+"x"}));return t},e.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},e.handleClick=function(t){for(var r=this.player().playbackRate(),a=this.playbackRates(),f=a[0],y=0;y<a.length;y++)if(a[y]>r){f=a[y];break}this.player().playbackRate(f)},e.playbackRates=function(){return this.options_.playbackRates||this.options_.playerOptions&&this.options_.playerOptions.playbackRates},e.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},e.updateVisibility=function(t){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},e.updateLabel=function(t){this.playbackRateSupported()&&(this.labelEl_.innerHTML=this.player().playbackRate()+"x")},i}(Qu);Io.prototype.controlText_="Playback Rate",ge.registerComponent("PlaybackRateMenuButton",Io);var ol=function(n){function i(){return n.apply(this,arguments)||this}Qt(i,n);var e=i.prototype;return e.buildCSSClass=function(){return"vjs-spacer "+n.prototype.buildCSSClass.call(this)},e.createEl=function(){return n.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},i}(ge);ge.registerComponent("Spacer",ol);var Kl=function(n){function i(){return n.apply(this,arguments)||this}Qt(i,n);var e=i.prototype;return e.buildCSSClass=function(){return"vjs-custom-control-spacer "+n.prototype.buildCSSClass.call(this)},e.createEl=function(){var t=n.prototype.createEl.call(this,{className:this.buildCSSClass()});return t.innerHTML="\xA0",t},i}(ol);ge.registerComponent("CustomControlSpacer",Kl);var Ts=function(n){function i(){return n.apply(this,arguments)||this}return Qt(i,n),i.prototype.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"})},i}(ge);Ts.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]},"exitPictureInPicture"in V&&Ts.prototype.options_.children.splice(Ts.prototype.options_.children.length-1,0,"pictureInPictureToggle"),ge.registerComponent("ControlBar",Ts);var co=function(n){function i(t,r){var a;return(a=n.call(this,t,r)||this).on(t,"error",a.open),a}Qt(i,n);var e=i.prototype;return e.buildCSSClass=function(){return"vjs-error-display "+n.prototype.buildCSSClass.call(this)},e.content=function(){var t=this.player().error();return t?this.localize(t.message):""},i}(Za);co.prototype.options_=le(Za.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),ge.registerComponent("ErrorDisplay",co);var Ss=["#000","Black"],Xl=["#00F","Blue"],Yl=["#0FF","Cyan"],hu=["#0F0","Green"],sl=["#F0F","Magenta"],pu=["#F00","Red"],mu=["#FFF","White"],ws=["#FF0","Yellow"],ks=["1","Opaque"],fo=["0.5","Semi-Transparent"],vu=["0","Transparent"],fa={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[Ss,mu,pu,hu,Xl,ws,sl,Yl]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[ks,fo,vu]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[mu,Ss,pu,hu,Xl,ws,sl,Yl]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(n){return n==="1.00"?null:Number(n)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[ks,fo]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[vu,fo,ks]}};fa.windowColor.options=fa.backgroundColor.options;var Jl=function(n){function i(t,r){var a;return r.temporary=!1,(a=n.call(this,t,r)||this).updateDisplay=pe(Te(a),a.updateDisplay),a.fill(),a.hasBeenOpened_=a.hasBeenFilled_=!0,a.endDialog=S("p",{className:"vjs-control-text",textContent:a.localize("End of dialog window.")}),a.el().appendChild(a.endDialog),a.setDefaults(),r.persistTextTrackSettings===void 0&&(a.options_.persistTextTrackSettings=a.options_.playerOptions.persistTextTrackSettings),a.on(a.$(".vjs-done-button"),"click",function(){a.saveSettings(),a.close()}),a.on(a.$(".vjs-default-button"),"click",function(){a.setDefaults(),a.updateDisplay()}),o(fa,function(f){a.on(a.$(f.selector),"change",a.updateDisplay)}),a.options_.persistTextTrackSettings&&a.restoreSettings(),a}Qt(i,n);var e=i.prototype;return e.dispose=function(){this.endDialog=null,n.prototype.dispose.call(this)},e.createElSelect_=function(t,r,a){var f=this;r===void 0&&(r=""),a===void 0&&(a="label");var y=fa[t],j=y.id.replace("%s",this.id_),D=[r,j].join(" ").trim();return["<"+a+' id="'+j+'" class="'+(a==="label"?"vjs-label":"")+'">',this.localize(y.label),"</"+a+">",'<select aria-labelledby="'+D+'">'].concat(y.options.map(function(F){var q=j+"-"+F[1].replace(/\W+/g,"");return['<option id="'+q+'" value="'+F[0]+'" ','aria-labelledby="'+D+" "+q+'">',f.localize(F[1]),"</option>"].join("")})).concat("</select>").join("")},e.createElFgColor_=function(){var t="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",t),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",t),"</span>","</fieldset>"].join("")},e.createElBgColor_=function(){var t="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",t),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",t),"</span>","</fieldset>"].join("")},e.createElWinColor_=function(){var t="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Window"),"</legend>",this.createElSelect_("windowColor",t),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",t),"</span>","</fieldset>"].join("")},e.createElColors_=function(){return S("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})},e.createElFont_=function(){return S("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})},e.createElControls_=function(){var t=this.localize("restore all settings to the default values");return S("div",{className:"vjs-track-settings-controls",innerHTML:['<button type="button" class="vjs-default-button" title="'+t+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+t+"</span>","</button>",'<button type="button" class="vjs-done-button">'+this.localize("Done")+"</button>"].join("")})},e.content=function(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},e.label=function(){return this.localize("Caption Settings Dialog")},e.description=function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},e.buildCSSClass=function(){return n.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},e.getValues=function(){var t=this;return function(r,a,f){return f===void 0&&(f=0),nr(r).reduce(function(y,j){return a(y,r[j],j)},f)}(fa,function(r,a,f){var y=function(j,D){return Ni(j.options[j.options.selectedIndex].value,D)}(t.$(a.selector),a.parser);return y!==void 0&&(r[f]=y),r},{})},e.setValues=function(t){var r=this;o(fa,function(a,f){(function(y,j,D){if(j){for(var F=0;F<y.options.length;F++)if(Ni(y.options[F].value,D)===j){y.selectedIndex=F;break}}})(r.$(a.selector),t[f],a.parser)})},e.setDefaults=function(){var t=this;o(fa,function(r){var a=r.hasOwnProperty("default")?r.default:0;t.$(r.selector).selectedIndex=a})},e.restoreSettings=function(){var t;try{t=JSON.parse(x.localStorage.getItem("vjs-text-track-settings"))}catch(r){re.warn(r)}t&&this.setValues(t)},e.saveSettings=function(){if(this.options_.persistTextTrackSettings){var t=this.getValues();try{Object.keys(t).length?x.localStorage.setItem("vjs-text-track-settings",JSON.stringify(t)):x.localStorage.removeItem("vjs-text-track-settings")}catch(r){re.warn(r)}}},e.updateDisplay=function(){var t=this.player_.getChild("textTrackDisplay");t&&t.updateDisplay()},e.conditionalBlur_=function(){this.previouslyActiveEl_=null;var t=this.player_.controlBar,r=t&&t.subsCapsButton,a=t&&t.captionsButton;r?r.focus():a&&a.focus()},i}(Za);ge.registerComponent("TextTrackSettings",Jl);var Zl=function(n){function i(t,r){var a,f=r.ResizeObserver||x.ResizeObserver;r.ResizeObserver===null&&(f=!1);var y=le({createEl:!f,reportTouchActivity:!1},r);return(a=n.call(this,t,y)||this).ResizeObserver=r.ResizeObserver||x.ResizeObserver,a.loadListener_=null,a.resizeObserver_=null,a.debouncedHandler_=function(j,D,F,q){q===void 0&&(q=x);var Y,tt=function(){var ft=this,dt=arguments,At=function(){Y=null,At=null,F||j.apply(ft,dt)};!Y&&F&&j.apply(ft,dt),q.clearTimeout(Y),Y=q.setTimeout(At,D)};return tt.cancel=function(){q.clearTimeout(Y),Y=null},tt}(function(){a.resizeHandler()},100,!1,Te(a)),f?(a.resizeObserver_=new a.ResizeObserver(a.debouncedHandler_),a.resizeObserver_.observe(t.el())):(a.loadListener_=function(){if(a.el_&&a.el_.contentWindow){var j=a.debouncedHandler_,D=a.unloadListener_=function(){ht(this,"resize",j),ht(this,"unload",D),D=null};vt(a.el_.contentWindow,"unload",D),vt(a.el_.contentWindow,"resize",j)}},a.one("load",a.loadListener_)),a}Qt(i,n);var e=i.prototype;return e.createEl=function(){return n.prototype.createEl.call(this,"iframe",{className:"vjs-resize-manager",tabIndex:-1},{"aria-hidden":"true"})},e.resizeHandler=function(){this.player_&&this.player_.trigger&&this.player_.trigger("playerresize")},e.dispose=function(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,n.prototype.dispose.call(this)},i}(ge);ge.registerComponent("ResizeManager",Zl);var Ea=function(n){function i(t,r){var a,f=le({createEl:!1},r);return(a=n.call(this,t,f)||this).reset_(),a.on(a.player_,"durationchange",a.handleDurationchange),_a&&"hidden"in V&&"visibilityState"in V&&a.on(V,"visibilitychange",a.handleVisibilityChange),a}Qt(i,n);var e=i.prototype;return e.handleVisibilityChange=function(){this.player_.duration()===1/0&&(V.hidden?this.stopTracking():this.startTracking())},e.isBehind_=function(){if(!this.timeupdateSeen_)return!1;var t=this.liveCurrentTime(),r=this.player_.currentTime(),a=this.seekableIncrement_;return t!==1/0&&t-(2*a+.07)>=r},e.trackLive_=function(){this.pastSeekEnd_=this.pastSeekEnd_;var t=this.player_.seekable();if(t&&t.length){var r=this.seekableEnd();r!==this.lastSeekEnd_&&(this.lastSeekEnd_&&(this.seekableIncrement_=Math.abs(r-this.lastSeekEnd_)),this.pastSeekEnd_=0,this.lastSeekEnd_=r,this.trigger("seekableendchange")),this.pastSeekEnd_=this.pastSeekEnd()+.03,this.isBehind_()!==this.behindLiveEdge()&&(this.behindLiveEdge_=this.isBehind_(),this.trigger("liveedgechange"))}},e.handleDurationchange=function(){this.player_.duration()===1/0?this.startTracking():this.stopTracking()},e.startTracking=function(){var t=this;this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLive_,30),this.trackLive_(),this.on(this.player_,"play",this.trackLive_),this.on(this.player_,"pause",this.trackLive_),this.timeupdateSeen_||(this.one(this.player_,"play",this.handlePlay),this.handleTimeupdate=function(){t.timeupdateSeen_=!0,t.handleTimeupdate=null},this.one(this.player_,"timeupdate",this.handleTimeupdate)))},e.handlePlay=function(){this.one(this.player_,"timeupdate",this.seekToLiveEdge)},e.reset_=function(){this.pastSeekEnd_=0,this.lastSeekEnd_=null,this.behindLiveEdge_=null,this.timeupdateSeen_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.seekableIncrement_=12,this.off(this.player_,"play",this.trackLive_),this.off(this.player_,"pause",this.trackLive_),this.off(this.player_,"play",this.handlePlay),this.off(this.player_,"timeupdate",this.seekToLiveEdge),this.handleTimeupdate&&(this.off(this.player_,"timeupdate",this.handleTimeupdate),this.handleTimeupdate=null)},e.stopTracking=function(){this.isTracking()&&this.reset_()},e.seekableEnd=function(){for(var t=this.player_.seekable(),r=[],a=t?t.length:0;a--;)r.push(t.end(a));return r.length?r.sort()[r.length-1]:1/0},e.seekableStart=function(){for(var t=this.player_.seekable(),r=[],a=t?t.length:0;a--;)r.push(t.start(a));return r.length?r.sort()[0]:0},e.liveWindow=function(){var t=this.liveCurrentTime();return t===1/0?1/0:t-this.seekableStart()},e.isLive=function(){return this.isTracking()},e.atLiveEdge=function(){return!this.behindLiveEdge()},e.liveCurrentTime=function(){return this.pastSeekEnd()+this.seekableEnd()},e.pastSeekEnd=function(){return this.pastSeekEnd_},e.behindLiveEdge=function(){return this.behindLiveEdge_},e.isTracking=function(){return typeof this.trackingInterval_=="number"},e.seekToLiveEdge=function(){this.atLiveEdge()||(this.player_.currentTime(this.liveCurrentTime()),this.player_.paused()&&this.player_.play())},e.dispose=function(){this.stopTracking(),n.prototype.dispose.call(this)},i}(ge);ge.registerComponent("LiveTracker",Ea);var Es=function(n){var i=n.el();if(i.hasAttribute("src"))return n.triggerSourceset(i.src),!0;var e=n.$$("source"),t=[],r="";if(!e.length)return!1;for(var a=0;a<e.length;a++){var f=e[a].src;f&&t.indexOf(f)===-1&&t.push(f)}return!!t.length&&(t.length===1&&(r=t[0]),n.triggerSourceset(r),!0)},Rc=Object.defineProperty({},"innerHTML",{get:function(){return this.cloneNode(!0).innerHTML},set:function(n){var i=V.createElement(this.nodeName.toLowerCase());i.innerHTML=n;for(var e=V.createDocumentFragment();i.childNodes.length;)e.appendChild(i.childNodes[0]);return this.innerText="",x.Element.prototype.appendChild.call(this,e),this.innerHTML}}),Ql=function(n,i){for(var e={},t=0;t<n.length&&!((e=Object.getOwnPropertyDescriptor(n[t],i))&&e.set&&e.get);t++);return e.enumerable=!0,e.configurable=!0,e},Ic=function(n){return Ql([n.el(),x.HTMLMediaElement.prototype,x.Element.prototype,Rc],"innerHTML")},Pi=function(n){var i=n.el();if(!i.resetSourceWatch_){var e={},t=Ic(n),r=function(a){return function(){for(var f=arguments.length,y=new Array(f),j=0;j<f;j++)y[j]=arguments[j];var D=a.apply(i,y);return Es(n),D}};["append","appendChild","insertAdjacentHTML"].forEach(function(a){i[a]&&(e[a]=i[a],i[a]=r(e[a]))}),Object.defineProperty(i,"innerHTML",le(t,{set:r(t.set)})),i.resetSourceWatch_=function(){i.resetSourceWatch_=null,Object.keys(e).forEach(function(a){i[a]=e[a]}),Object.defineProperty(i,"innerHTML",t)},n.one("sourceset",i.resetSourceWatch_)}},tc=Object.defineProperty({},"src",{get:function(){return this.hasAttribute("src")?Ue(x.Element.prototype.getAttribute.call(this,"src")):""},set:function(n){return x.Element.prototype.setAttribute.call(this,"src",n),n}}),ul=function(n){return Ql([n.el(),x.HTMLMediaElement.prototype,tc],"src")},Ce=function(n){function i(t,r){var a;a=n.call(this,t,r)||this;var f=t.source,y=!1;if(f&&(a.el_.currentSrc!==f.src||t.tag&&t.tag.initNetworkState_===3)?a.setSource(f):a.handleLateInit_(a.el_),t.enableSourceset&&a.setupSourcesetHandling_(),a.el_.hasChildNodes()){for(var j=a.el_.childNodes,D=j.length,F=[];D--;){var q=j[D];q.nodeName.toLowerCase()==="track"&&(a.featuresNativeTextTracks?(a.remoteTextTrackEls().addTrackElement_(q),a.remoteTextTracks().addTrack(q.track),a.textTracks().addTrack(q.track),y||a.el_.hasAttribute("crossorigin")||!lr(q.src)||(y=!0)):F.push(q))}for(var Y=0;Y<F.length;Y++)a.el_.removeChild(F[Y])}return a.proxyNativeTracks_(),a.featuresNativeTextTracks&&y&&re.warn(`Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.
This may prevent text tracks from loading.`),a.restoreMetadataTracksInIOSNativePlayer_(),(So||Pu||Xo)&&t.nativeControlsForTouch===!0&&a.setControls(!0),a.proxyWebkitFullscreen_(),a.triggerReady(),a}Qt(i,n);var e=i.prototype;return e.dispose=function(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),i.disposeMediaElement(this.el_),this.options_=null,n.prototype.dispose.call(this)},e.setupSourcesetHandling_=function(){(function(t){if(t.featuresSourceset){var r=t.el();if(!r.resetSourceset_){var a=ul(t),f=r.setAttribute,y=r.load;Object.defineProperty(r,"src",le(a,{set:function(j){var D=a.set.call(r,j);return t.triggerSourceset(r.src),D}})),r.setAttribute=function(j,D){var F=f.call(r,j,D);return/src/i.test(j)&&t.triggerSourceset(r.src),F},r.load=function(){var j=y.call(r);return Es(t)||(t.triggerSourceset(""),Pi(t)),j},r.currentSrc?t.triggerSourceset(r.currentSrc):Es(t)||Pi(t),r.resetSourceset_=function(){r.resetSourceset_=null,r.load=y,r.setAttribute=f,Object.defineProperty(r,"src",a),r.resetSourceWatch_&&r.resetSourceWatch_()}}}})(this)},e.restoreMetadataTracksInIOSNativePlayer_=function(){var t,r=this.textTracks(),a=function(){t=[];for(var y=0;y<r.length;y++){var j=r[y];j.kind==="metadata"&&t.push({track:j,storedMode:j.mode})}};a(),r.addEventListener("change",a),this.on("dispose",function(){return r.removeEventListener("change",a)});var f=function y(){for(var j=0;j<t.length;j++){var D=t[j];D.track.mode==="disabled"&&D.track.mode!==D.storedMode&&(D.track.mode=D.storedMode)}r.removeEventListener("change",y)};this.on("webkitbeginfullscreen",function(){r.removeEventListener("change",a),r.removeEventListener("change",f),r.addEventListener("change",f)}),this.on("webkitendfullscreen",function(){r.removeEventListener("change",a),r.addEventListener("change",a),r.removeEventListener("change",f)})},e.overrideNative_=function(t,r){var a=this;if(r===this["featuresNative"+t+"Tracks"]){var f=t.toLowerCase();this[f+"TracksListeners_"]&&Object.keys(this[f+"TracksListeners_"]).forEach(function(y){a.el()[f+"Tracks"].removeEventListener(y,a[f+"TracksListeners_"][y])}),this["featuresNative"+t+"Tracks"]=!r,this[f+"TracksListeners_"]=null,this.proxyNativeTracksForType_(f)}},e.overrideNativeAudioTracks=function(t){this.overrideNative_("Audio",t)},e.overrideNativeVideoTracks=function(t){this.overrideNative_("Video",t)},e.proxyNativeTracksForType_=function(t){var r=this,a=pr[t],f=this.el()[a.getterName],y=this[a.getterName]();if(this["featuresNative"+a.capitalName+"Tracks"]&&f&&f.addEventListener){var j={change:function(F){y.trigger({type:"change",target:y,currentTarget:y,srcElement:y})},addtrack:function(F){y.addTrack(F.track)},removetrack:function(F){y.removeTrack(F.track)}},D=function(){for(var F=[],q=0;q<y.length;q++){for(var Y=!1,tt=0;tt<f.length;tt++)if(f[tt]===y[q]){Y=!0;break}Y||F.push(y[q])}for(;F.length;)y.removeTrack(F.shift())};this[a.getterName+"Listeners_"]=j,Object.keys(j).forEach(function(F){var q=j[F];f.addEventListener(F,q),r.on("dispose",function(Y){return f.removeEventListener(F,q)})}),this.on("loadstart",D),this.on("dispose",function(F){return r.off("loadstart",D)})}},e.proxyNativeTracks_=function(){var t=this;pr.names.forEach(function(r){t.proxyNativeTracksForType_(r)})},e.createEl=function(){var t=this.options_.tag;if(!t||!this.options_.playerElIngest&&!this.movingMediaElementInDOM){if(t){var r=t.cloneNode(!0);t.parentNode&&t.parentNode.insertBefore(r,t),i.disposeMediaElement(t),t=r}else{t=V.createElement("video");var a=le({},this.options_.tag&&B(this.options_.tag));So&&this.options_.nativeControlsForTouch===!0||delete a.controls,z(t,d(a,{id:this.options_.techId,class:"vjs-tech"}))}t.playerId=this.options_.playerId}this.options_.preload!==void 0&&K(t,"preload",this.options_.preload);for(var f=["loop","muted","playsinline","autoplay","stretch","fluent"],y=0;y<f.length;y++){var j=f[y],D=this.options_[j];D!==void 0&&(D?K(t,j,j):Q(t,j),t[j]=D)}return t},e.handleLateInit_=function(t){if(t.networkState!==0&&t.networkState!==3){if(t.readyState===0){var r=!1,a=function(){r=!0};this.on("loadstart",a);var f=function(){r||this.trigger("loadstart")};return this.on("loadedmetadata",f),void this.ready(function(){this.off("loadstart",a),this.off("loadedmetadata",f),r||this.trigger("loadstart")})}var y=["loadstart"];y.push("loadedmetadata"),t.readyState>=2&&y.push("loadeddata"),t.readyState>=3&&y.push("canplay"),t.readyState>=4&&y.push("canplaythrough"),this.ready(function(){y.forEach(function(j){this.trigger(j)},this)})}},e.setCurrentTime=function(t){try{this.el_.currentTime=t}catch(r){re(r,"Video is not ready. (Video.js)")}},e.duration=function(){var t=this;return this.el_.duration===1/0&&Kn&&Da&&this.el_.currentTime===0?(this.on("timeupdate",function r(){t.el_.currentTime>0&&(t.el_.duration===1/0&&t.trigger("durationchange"),t.off("timeupdate",r))}),NaN):this.el_.duration||NaN},e.width=function(){return this.el_.offsetWidth},e.height=function(){return this.el_.offsetHeight},e.proxyWebkitFullscreen_=function(){var t=this;if("webkitDisplayingFullscreen"in this.el_){var r=function(){this.trigger("fullscreenchange",{isFullscreen:!1})},a=function(){"webkitPresentationMode"in this.el_&&this.el_.webkitPresentationMode!=="picture-in-picture"&&(this.one("webkitendfullscreen",r),this.trigger("fullscreenchange",{isFullscreen:!0}))};this.on("webkitbeginfullscreen",a),this.on("dispose",function(){t.off("webkitbeginfullscreen",a),t.off("webkitendfullscreen",r)})}},e.supportsFullScreen=function(){if(typeof this.el_.webkitEnterFullScreen=="function"){var t=x.navigator&&x.navigator.userAgent||"";if(/Android/.test(t)||!/Chrome|Mac OS X 10.5/.test(t))return!0}return!1},e.enterFullScreen=function(){var t=this.el_;t.paused&&t.networkState<=t.HAVE_METADATA?(this.el_.play(),this.setTimeout(function(){t.pause(),t.webkitEnterFullScreen()},0)):t.webkitEnterFullScreen()},e.exitFullScreen=function(){this.el_.webkitExitFullScreen()},e.requestPictureInPicture=function(){return this.el_.requestPictureInPicture()},e.src=function(t){if(t===void 0)return this.el_.src;this.setSrc(t)},e.reset=function(){i.resetMediaElement(this.el_)},e.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},e.setControls=function(t){this.el_.controls=!!t},e.addTextTrack=function(t,r,a){return this.featuresNativeTextTracks?this.el_.addTextTrack(t,r,a):n.prototype.addTextTrack.call(this,t,r,a)},e.createRemoteTextTrack=function(t){if(!this.featuresNativeTextTracks)return n.prototype.createRemoteTextTrack.call(this,t);var r=V.createElement("track");return t.kind&&(r.kind=t.kind),t.label&&(r.label=t.label),(t.language||t.srclang)&&(r.srclang=t.language||t.srclang),t.default&&(r.default=t.default),t.id&&(r.id=t.id),t.src&&(r.src=t.src),r},e.addRemoteTextTrack=function(t,r){var a=n.prototype.addRemoteTextTrack.call(this,t,r);return this.featuresNativeTextTracks&&this.el().appendChild(a),a},e.removeRemoteTextTrack=function(t){if(n.prototype.removeRemoteTextTrack.call(this,t),this.featuresNativeTextTracks)for(var r=this.$$("track"),a=r.length;a--;)t!==r[a]&&t!==r[a].track||this.el().removeChild(r[a])},e.getVideoPlaybackQuality=function(){if(typeof this.el().getVideoPlaybackQuality=="function")return this.el().getVideoPlaybackQuality();var t={};return this.el().webkitDroppedFrameCount!==void 0&&this.el().webkitDecodedFrameCount!==void 0&&(t.droppedVideoFrames=this.el().webkitDroppedFrameCount,t.totalVideoFrames=this.el().webkitDecodedFrameCount),x.performance&&typeof x.performance.now=="function"?t.creationTime=x.performance.now():x.performance&&x.performance.timing&&typeof x.performance.timing.navigationStart=="number"&&(t.creationTime=x.Date.now()-x.performance.timing.navigationStart),t},i}(On);if(l()){Ce.TEST_VID=V.createElement("video");var Ka=V.createElement("track");Ka.kind="captions",Ka.srclang="en",Ka.label="English",Ce.TEST_VID.appendChild(Ka)}Ce.isSupported=function(){try{Ce.TEST_VID.volume=.5}catch(n){return!1}return!(!Ce.TEST_VID||!Ce.TEST_VID.canPlayType)},Ce.canPlayType=function(n){return Ce.TEST_VID.canPlayType(n)},Ce.canPlaySource=function(n,i){return Ce.canPlayType(n.type)},Ce.canControlVolume=function(){try{var n=Ce.TEST_VID.volume;return Ce.TEST_VID.volume=n/2+.1,n!==Ce.TEST_VID.volume}catch(i){return!1}},Ce.canMuteVolume=function(){try{var n=Ce.TEST_VID.muted;return Ce.TEST_VID.muted=!n,Ce.TEST_VID.muted?K(Ce.TEST_VID,"muted","muted"):Q(Ce.TEST_VID,"muted"),n!==Ce.TEST_VID.muted}catch(i){return!1}},Ce.canControlPlaybackRate=function(){if(Kn&&Da&&Jo<58)return!1;try{var n=Ce.TEST_VID.playbackRate;return Ce.TEST_VID.playbackRate=n/2+.1,n!==Ce.TEST_VID.playbackRate}catch(i){return!1}},Ce.canOverrideAttributes=function(){try{var n=function(){};Object.defineProperty(V.createElement("video"),"src",{get:n,set:n}),Object.defineProperty(V.createElement("audio"),"src",{get:n,set:n}),Object.defineProperty(V.createElement("video"),"innerHTML",{get:n,set:n}),Object.defineProperty(V.createElement("audio"),"innerHTML",{get:n,set:n})}catch(i){return!1}return!0},Ce.supportsNativeTextTracks=function(){return Bs||ui&&Da},Ce.supportsNativeVideoTracks=function(){return!(!Ce.TEST_VID||!Ce.TEST_VID.videoTracks)},Ce.supportsNativeAudioTracks=function(){return!(!Ce.TEST_VID||!Ce.TEST_VID.audioTracks)},Ce.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"],Ce.prototype.featuresVolumeControl=Ce.canControlVolume(),Ce.prototype.featuresMuteControl=Ce.canMuteVolume(),Ce.prototype.featuresPlaybackRate=Ce.canControlPlaybackRate(),Ce.prototype.featuresSourceset=Ce.canOverrideAttributes(),Ce.prototype.movingMediaElementInDOM=!ui,Ce.prototype.featuresFullscreenResize=!0,Ce.prototype.featuresProgressEvents=!0,Ce.prototype.featuresTimeupdateEvents=!0,Ce.prototype.featuresNativeTextTracks=Ce.supportsNativeTextTracks(),Ce.prototype.featuresNativeVideoTracks=Ce.supportsNativeVideoTracks(),Ce.prototype.featuresNativeAudioTracks=Ce.supportsNativeAudioTracks();var Do=Ce.TEST_VID&&Ce.TEST_VID.constructor.prototype.canPlayType,un=/^application\/(?:x-|vnd\.apple\.)mpegurl/i;Ce.patchCanPlayType=function(){ra>=4&&!Ol&&!Da&&(Ce.TEST_VID.constructor.prototype.canPlayType=function(n){return n&&un.test(n)?"maybe":Do.call(this,n)})},Ce.unpatchCanPlayType=function(){var n=Ce.TEST_VID.constructor.prototype.canPlayType;return Ce.TEST_VID.constructor.prototype.canPlayType=Do,n},Ce.patchCanPlayType(),Ce.disposeMediaElement=function(n){if(n){for(n.parentNode&&n.parentNode.removeChild(n);n.hasChildNodes();)n.removeChild(n.firstChild);n.removeAttribute("src"),typeof n.load=="function"&&function(){try{n.load()}catch(i){}}()}},Ce.resetMediaElement=function(n){if(n){for(var i=n.querySelectorAll("source"),e=i.length;e--;)n.removeChild(i[e]);n.removeAttribute("src"),typeof n.load=="function"&&function(){try{n.load()}catch(t){}}()}},["muted","defaultMuted","autoplay","stretch","fluent","controls","loop","playsinline"].forEach(function(n){Ce.prototype[n]=function(){return this.el_[n]||this.el_.hasAttribute(n)}}),["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(n){Ce.prototype["set"+yr(n)]=function(i){this.el_[n]=i,i?this.el_.setAttribute(n,n):this.el_.removeAttribute(n)}}),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","played","networkState","readyState","videoWidth","videoHeight"].forEach(function(n){Ce.prototype[n]=function(){return this.el_[n]}}),["volume","src","poster","preload","playbackRate","defaultPlaybackRate"].forEach(function(n){Ce.prototype["set"+yr(n)]=function(i){this.el_[n]=i}}),["pause","load","play"].forEach(function(n){Ce.prototype[n]=function(){return this.el_[n]()}}),On.withSourceHandlers(Ce),Ce.nativeSourceHandler={},Ce.nativeSourceHandler.canPlayType=function(n){try{return Ce.TEST_VID.canPlayType(n)}catch(i){return""}},Ce.nativeSourceHandler.canHandleSource=function(n,i){if(n.type)return Ce.nativeSourceHandler.canPlayType(n.type);if(n.src){var e=Bn(n.src);return Ce.nativeSourceHandler.canPlayType("video/"+e)}return""},Ce.nativeSourceHandler.handleSource=function(n,i,e){i.setSrc(n.src)},Ce.nativeSourceHandler.dispose=function(){},Ce.registerSourceHandler(Ce.nativeSourceHandler),On.registerTech("Html5",Ce);var gu=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],ho={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},ha=["tiny","xsmall","small","medium","large","xlarge","huge"],Xa={};ha.forEach(function(n){var i=n.charAt(0)==="x"?"x-"+n.substring(1):n;Xa[n]="vjs-layout-"+i});var ec={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0},Dn=function(n){function i(t,r,a){var f;if(t.id=t.id||r.id||"vjs_video_"+ot(),(r=d(i.getTagSettings(t),r)).initChildren=!1,r.createEl=!1,r.evented=!1,r.reportTouchActivity=!1,!r.language)if(typeof t.closest=="function"){var y=t.closest("[lang]");y&&y.getAttribute&&(r.language=y.getAttribute("lang"))}else for(var j=t;j&&j.nodeType===1;){if(B(j).hasOwnProperty("lang")){r.language=j.getAttribute("lang");break}j=j.parentNode}if((f=n.call(this,null,r,a)||this).boundDocumentFullscreenChange_=pe(Te(f),f.documentFullscreenChange_),f.boundFullWindowOnEscKey_=pe(Te(f),f.fullWindowOnEscKey),f.log=Le(f.id_),f.fsApi_=Ns,f.isPosterFromTech_=!1,f.queuedCallbacks_=[],f.isReady_=!1,f.hasStarted_=!1,f.userActive_=!1,!f.options_||!f.options_.techOrder||!f.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(f.tag=t,f.tagAttributes=t&&B(t),f.language(f.options_.language),r.languages){var D={};Object.getOwnPropertyNames(r.languages).forEach(function(Y){D[Y.toLowerCase()]=r.languages[Y]}),f.languages_=D}else f.languages_=i.prototype.options_.languages;f.resetCache_(),f.poster_=r.poster||"",f.controls_=!!r.controls,t.controls=!1,t.removeAttribute("controls"),f.changingSrc_=!1,f.playCallbacks_=[],f.playTerminatedQueue_=[],t.hasAttribute("autoplay")?f.autoplay(!0):f.autoplay(f.options_.autoplay),r.plugins&&Object.keys(r.plugins).forEach(function(Y){if(typeof f[Y]!="function")throw new Error('plugin "'+Y+'" does not exist')}),f.scrubbing_=!1,f.el_=f.createEl(),se(Te(f),{eventBusKey:"el_"}),f.fluid_&&f.on("playerreset",f.updateStyleEl_);var F=le(f.options_);r.plugins&&Object.keys(r.plugins).forEach(function(Y){f[Y](r.plugins[Y])}),f.options_.playerOptions=F,f.middleware_=[],f.initChildren(),f.isAudio(t.nodeName.toLowerCase()==="audio"),f.controls()?f.addClass("vjs-controls-enabled"):f.addClass("vjs-controls-disabled"),f.el_.setAttribute("role","region"),f.isAudio()?f.el_.setAttribute("aria-label",f.localize("Audio Player")):f.el_.setAttribute("aria-label",f.localize("Video Player")),f.isAudio()&&f.addClass("vjs-audio"),f.flexNotSupported_()&&f.addClass("vjs-no-flex"),So&&f.addClass("vjs-touch-enabled"),ui||f.addClass("vjs-workinghover"),i.players[f.id_]=Te(f);var q=Hi.split(".")[0];return f.addClass("vjs-v"+q),f.userActive(!0),f.reportUserActivity(),f.one("play",f.listenForUserActivity_),f.on("stageclick",f.handleStageClick_),f.on("keydown",f.handleKeyDown),f.breakpoints(f.options_.breakpoints),f.responsive(f.options_.responsive),f}Qt(i,n);var e=i.prototype;return e.dispose=function(){var t=this;this.trigger("dispose"),this.off("dispose"),ht(V,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),ht(V,"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),i.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),function(r){so[r.id()]=null}(this),Hr.names.forEach(function(r){var a=Hr[r],f=t[a.getterName]();f&&f.off&&f.off()}),n.prototype.dispose.call(this)},e.createEl=function(){var t,r=this.tag,a=this.playerElIngest_=r.parentNode&&r.parentNode.hasAttribute&&r.parentNode.hasAttribute("data-vjs-player"),f=this.tag.tagName.toLowerCase()==="video-js";a?t=this.el_=r.parentNode:f||(t=this.el_=n.prototype.createEl.call(this,"div"));var y=B(r);if(f){for(t=this.el_=r,r=this.tag=V.createElement("video");t.children.length;)r.appendChild(t.firstChild);b(t,"video-js")||E(t,"video-js"),t.appendChild(r),a=this.playerElIngest_=t,Object.keys(t).forEach(function(tt){r[tt]=t[tt]})}if(r.setAttribute("tabindex","-1"),y.tabindex="-1",(_a||Da&&Zo)&&(r.setAttribute("role","application"),y.role="application"),r.removeAttribute("width"),r.removeAttribute("height"),"width"in y&&delete y.width,"height"in y&&delete y.height,Object.getOwnPropertyNames(y).forEach(function(tt){f&&tt==="class"||t.setAttribute(tt,y[tt]),f&&r.setAttribute(tt,y[tt])}),r.playerId=r.id,r.id+="_html5_api",r.className="vjs-tech",r.player=t.player=this,this.addClass("vjs-paused"),x.VIDEOJS_NO_DYNAMIC_STYLE!==!0){this.styleEl_=Xt("vjs-styles-dimensions");var j=cn(".vjs-styles-defaults"),D=cn("head");D.insertBefore(this.styleEl_,j?j.nextSibling:D.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio);for(var F=r.getElementsByTagName("a"),q=0;q<F.length;q++){var Y=F.item(q);E(Y,"vjs-hidden"),Y.setAttribute("hidden","hidden")}return r.initNetworkState_=r.networkState,r.parentNode&&!a&&r.parentNode.insertBefore(t,r),C(r,t),this.children_.unshift(r),this.el_.setAttribute("lang",this.language_),this.el_=t,t},e.width=function(t){return this.dimension("width",t)},e.height=function(t){return this.dimension("height",t)},e.dimension=function(t,r){var a=t+"_";if(r===void 0)return this[a]||0;if(r==="")return this[a]=void 0,void this.updateStyleEl_();var f=parseFloat(r);isNaN(f)?re.error('Improper value "'+r+'" supplied for for '+t):(this[a]=f,this.updateStyleEl_())},e.fluid=function(t){if(t===void 0)return!!this.fluid_;this.fluid_=!!t,rn(this)&&this.off("playerreset",this.updateStyleEl_),t?(this.addClass("vjs-fluid"),this.fill(!1),function(r,a){rn(r)?a():(r.eventedCallbacks||(r.eventedCallbacks=[]),r.eventedCallbacks.push(a))}(function(){this.on("playerreset",this.updateStyleEl_)})):this.removeClass("vjs-fluid"),this.updateStyleEl_()},e.fill=function(t){if(t===void 0)return!!this.fill_;this.fill_=!!t,t?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")},e.aspectRatio=function(t){if(t===void 0)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(t))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=t,this.fluid(!0),this.updateStyleEl_()},e.updateStyleEl_=function(){if(x.VIDEOJS_NO_DYNAMIC_STYLE!==!0){var t,r,a,f=(this.aspectRatio_!==void 0&&this.aspectRatio_!=="auto"?this.aspectRatio_:this.videoWidth()>0?this.videoWidth()+":"+this.videoHeight():"16:9").split(":"),y=f[1]/f[0];t=this.width_!==void 0?this.width_:this.height_!==void 0?this.height_/y:this.videoWidth()||300,r=this.height_!==void 0?this.height_:t*y,a=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(a),Kt(this.styleEl_,`
      .`+a+` {
        width: `+t+`px;
        height: `+r+`px;
      }

      .`+a+`.vjs-fluid {
        padding-top: `+100*y+`%;
      }
    `)}else{var j=typeof this.width_=="number"?this.width_:this.options_.width,D=typeof this.height_=="number"?this.height_:this.options_.height,F=this.tech_&&this.tech_.el();F&&(j>=0&&(F.width=j),D>=0&&(F.height=D))}},e.loadTech_=function(t,r){var a=this;this.tech_&&this.unloadTech_();var f=yr(t),y=t.charAt(0).toLowerCase()+t.slice(1);f!=="Html5"&&this.tag&&(On.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=f,this.isReady_=!1;var j={source:r,autoplay:typeof this.autoplay()!="string"&&this.autoplay(),nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+y+"_api",playsinline:this.options_.playsinline,stretch:this.options_.stretch,fluent:this.options_.fluent,preload:this.options_.preload,loop:this.options_.loop,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset,Promise:this.options_.Promise};Hr.names.forEach(function(F){var q=Hr[F];j[q.getterName]=a[q.privateName]}),d(j,this.options_[f]),d(j,this.options_[y]),d(j,this.options_[t.toLowerCase()]),this.tag&&(j.tag=this.tag),r&&r.src===this.cache_.src&&this.cache_.currentTime>0&&(j.startTime=this.cache_.currentTime);var D=On.getTech(t);if(!D)throw new Error("No Tech named '"+f+"' exists! '"+f+"' should be registered using videojs.registerTech()'");this.tech_=new D(j),this.tech_.ready(pe(this,this.handleTechReady_),!0),Ru(this.textTracksJson_||[],this.tech_),gu.forEach(function(F){a.on(a.tech_,F,a["handleTech"+yr(F)+"_"])}),Object.keys(ho).forEach(function(F){a.on(a.tech_,F,function(q){a.tech_.playbackRate()===0&&a.tech_.seeking()?a.queuedCallbacks_.push({callback:a["handleTech"+ho[F]+"_"].bind(a),event:q}):a["handleTech"+ho[F]+"_"](q)})}),this.on(this.tech_,"loadstart",this.handleTechLoadStart_),this.on(this.tech_,"sourceset",this.handleTechSourceset_),this.on(this.tech_,"waiting",this.handleTechWaiting_),this.on(this.tech_,"ended",this.handleTechEnded_),this.on(this.tech_,"seeking",this.handleTechSeeking_),this.on(this.tech_,"play",this.handleTechPlay_),this.on(this.tech_,"firstplay",this.handleTechFirstPlay_),this.on(this.tech_,"pause",this.handleTechPause_),this.on(this.tech_,"durationchange",this.handleTechDurationChange_),this.on(this.tech_,"fullscreenchange",this.handleTechFullscreenChange_),this.on(this.tech_,"fullscreentoggle",this.handleTechFullscreenToggle_),this.on(this.tech_,"enterpictureinpicture",this.handleTechEnterPictureInPicture_),this.on(this.tech_,"leavepictureinpicture",this.handleTechLeavePictureInPicture_),this.on(this.tech_,"error",this.handleTechError_),this.on(this.tech_,"loadedmetadata",this.updateStyleEl_),this.on(this.tech_,"posterchange",this.handleTechPosterChange_),this.on(this.tech_,"textdata",this.handleTechTextData_),this.on(this.tech_,"ratechange",this.handleTechRateChange_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||f==="Html5"&&this.tag||C(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},e.unloadTech_=function(){var t=this;Hr.names.forEach(function(r){var a=Hr[r];t[a.privateName]=t[a.getterName]()}),this.textTracksJson_=ba(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1},e.tech=function(t){return t===void 0&&re.warn(`Using the tech directly can be dangerous. I hope you know what you're doing.
See https://github.com/videojs/video.js/issues/2617 for more info.
`),this.tech_},e.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"mouseup",this.handleTechClick_),this.on(this.tech_,"dblclick",this.handleTechDoubleClick_),this.on(this.tech_,"touchstart",this.handleTechTouchStart_),this.on(this.tech_,"touchmove",this.handleTechTouchMove_),this.on(this.tech_,"touchend",this.handleTechTouchEnd_),this.on(this.tech_,"tap",this.handleTechTap_)},e.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.handleTechTap_),this.off(this.tech_,"touchstart",this.handleTechTouchStart_),this.off(this.tech_,"touchmove",this.handleTechTouchMove_),this.off(this.tech_,"touchend",this.handleTechTouchEnd_),this.off(this.tech_,"mouseup",this.handleTechClick_),this.off(this.tech_,"dblclick",this.handleTechDoubleClick_)},e.handleTechReady_=function(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()},e.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.seekingTimer&&(clearTimeout(this.seekingTimer),this.seekingTimer=0),this.removeClass("vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay")),this.manualAutoplay_(this.autoplay())},e.manualAutoplay_=function(t){var r=this;if(this.tech_&&typeof t=="string"){var a,f=function(){var y=r.muted();r.muted(!0);var j=function(){r.muted(y)};r.playTerminatedQueue_.push(j);var D=r.play();if(Be(D))return D.catch(j)};if(t==="any"&&this.muted()!==!0?Be(a=this.play())&&(a=a.catch(f)):a=t==="muted"&&this.muted()!==!0?f():this.play(),Be(a))return a.then(function(){r.trigger({type:"autoplay-success",autoplay:t})}).catch(function(y){r.trigger({type:"autoplay-failure",autoplay:t})})}},e.updateSourceCaches_=function(t){t===void 0&&(t="");var r=t,a="";typeof r!="string"&&(r=t.src,a=t.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],r&&!a&&(a=function(Y,tt){if(!tt)return"";if(Y.cache_.source.src===tt&&Y.cache_.source.type)return Y.cache_.source.type;var ft=Y.cache_.sources.filter(function(kt){return kt.src===tt});if(ft.length)return ft[0].type;for(var dt=Y.$$("source"),At=0;At<dt.length;At++){var St=dt[At];if(St.type&&St.src&&St.src===tt)return St.type}return xo(tt)}(this,r)),this.cache_.source=le({},t,{src:r,type:a});for(var f=this.cache_.sources.filter(function(Y){return Y.src&&Y.src===r}),y=[],j=this.$$("source"),D=[],F=0;F<j.length;F++){var q=B(j[F]);y.push(q),q.src&&q.src===r&&D.push(q.src)}D.length&&!f.length?this.cache_.sources=y:f.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=r},e.handleTechSourceset_=function(t){var r=this;if(!this.changingSrc_){var a=function(j){return r.updateSourceCaches_(j)},f=this.currentSource().src,y=t.src;f&&!/^blob:/.test(f)&&/^blob:/.test(y)&&(!this.lastSource_||this.lastSource_.tech!==y&&this.lastSource_.player!==f)&&(a=function(){}),a(y),t.src||this.tech_.any(["sourceset","loadstart"],function(j){if(j.type!=="sourceset"){var D=r.techGet("currentSrc");r.lastSource_.tech=D,r.updateSourceCaches_(D)}})}this.lastSource_={player:this.currentSource().src,tech:t.src},this.trigger({src:t.src,type:"sourceset"})},e.hasStarted=function(t){if(t===void 0)return this.hasStarted_;t!==this.hasStarted_&&(this.hasStarted_=t,this.hasStarted_?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started"))},e.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},e.handleTechRateChange_=function(){this.tech_.playbackRate()>0&&this.cache_.lastPlaybackRate===0&&(this.queuedCallbacks_.forEach(function(t){return t.callback(t.event)}),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")},e.waitingTimer=0,e.seekingTimer=0,e.handleTechWaiting_=function(){var t=this;this.waitingTimer&&clearTimeout(this.waitingTimer),this.waitingTimer=setTimeout(function(){t.addClass("vjs-waiting")},1e3),this.trigger("waiting");var r=this.currentTime();this.on("timeupdate",function a(){t.waitingTimer&&(clearTimeout(t.waitingTimer),t.waitingTimer=0),r!==t.currentTime()&&(t.removeClass("vjs-waiting"),t.off("timeupdate",a))})},e.handleTechCanPlay_=function(){this.waitingTimer&&(clearTimeout(this.waitingTimer),this.waitingTimer=0),this.removeClass("vjs-waiting"),this.trigger("canplay")},e.handleTechCanPlayThrough_=function(){this.waitingTimer&&(clearTimeout(this.waitingTimer),this.waitingTimer=0),this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},e.handleTechPlaying_=function(){this.waitingTimer&&(clearTimeout(this.waitingTimer),this.waitingTimer=0),this.removeClass("vjs-waiting"),this.trigger("playing")},e.handleTechSeeking_=function(){var t=this;this.seekingTimer&&clearTimeout(this.seekingTimer),this.seekingTimer=setTimeout(function(){t.addClass("vjs-seeking")},1e3),this.trigger("seeking")},e.handleTechSeeked_=function(){this.seekingTimer&&(clearTimeout(this.seekingTimer),this.seekingTimer=0),this.removeClass("vjs-seeking"),this.removeClass("vjs-ended"),this.trigger("seeked")},e.handleTechFirstPlay_=function(){this.options_.starttime&&(re.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},e.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},e.handleTechEnded_=function(){this.addClass("vjs-ended"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},e.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},e.handleTechClick_=function(t){U(t)&&this.controls_&&this.paused()},e.handleTechDoubleClick_=function(t){this.controls_&&(Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),function(r){return r.contains(t.target)})||this.options_!==void 0&&this.options_.userActions!==void 0&&this.options_.userActions.doubleClick!==void 0&&this.options_.userActions.doubleClick===!1||(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.doubleClick=="function"?this.options_.userActions.doubleClick.call(this,t):this.isFullscreen()?this.exitFullscreen():this.requestFullscreen()))},e.handleTechTap_=function(){this.userActive(!this.userActive())},e.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},e.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},e.handleTechTouchEnd_=function(t){t.preventDefault()},e.handleStageClick_=function(){this.reportUserActivity()},e.toggleFullscreenClass_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},e.documentFullscreenChange_=function(t){var r=this.el(),a=V[this.fsApi_.fullscreenElement]===r;!a&&r.matches?a=r.matches(":"+this.fsApi_.fullscreen):!a&&r.msMatchesSelector&&(a=r.msMatchesSelector(":"+this.fsApi_.fullscreen)),this.isFullscreen(a),this.isFullscreen()===!1&&ht(V,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),this.fsApi_.prefixed&&this.trigger("fullscreenchange")},e.handleTechFullscreenChange_=function(t,r){r&&this.isFullscreen(r.isFullscreen),this.trigger("fullscreenchange")},e.handleTechFullscreenToggle_=function(t,r){this.isFullscreen()?this.exitFullscreen():this.requestFullscreen()},e.togglePictureInPictureClass_=function(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")},e.handleTechEnterPictureInPicture_=function(t){this.isInPictureInPicture(!0)},e.handleTechLeavePictureInPicture_=function(t){this.isInPictureInPicture(!1)},e.handleTechError_=function(){var t=this.tech_.error();this.error(t)},e.handleTechTextData_=function(){var t=null;arguments.length>1&&(t=arguments[1]),this.trigger("textdata",t)},e.getCache=function(){return this.cache_},e.resetCache_=function(){this.cache_={currentTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],volume:1}},e.techCall_=function(t,r){this.ready(function(){if(t in uo)return function(a,f,y,j){return f[y](a.reduce(jn(y),j))}(this.middleware_,this.tech_,t,r);if(t in au)return Sr(this.middleware_,this.tech_,t,r);try{this.tech_&&this.tech_[t](r)}catch(a){throw re(a),a}},!0)},e.techGet_=function(t){if(this.tech_&&this.tech_.isReady_){if(t in ps)return function(r,a,f){return r.reduceRight(jn(f),a[f]())}(this.middleware_,this.tech_,t);if(t in au)return Sr(this.middleware_,this.tech_,t);try{return this.tech_[t]()}catch(r){throw this.tech_[t]===void 0?(re("Video.js: "+t+" method not defined for "+this.techName_+" playback technology.",r),r):r.name==="TypeError"?(re("Video.js: "+t+" unavailable on "+this.techName_+" playback technology element.",r),this.tech_.isReady_=!1,r):(re(r),r)}}},e.play=function(){var t=this,r=this.options_.Promise||x.Promise;return r?new r(function(a){t.play_(a)}):this.play_()},e.play_=function(t){var r=this;t===void 0&&(t=on),this.playCallbacks_.push(t);var a=Boolean(!this.changingSrc_&&(this.src()||this.currentSrc()));if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!a)return this.waitToPlay_=function(y){r.play_()},this.one(["ready","loadstart"],this.waitToPlay_),void(a||!Bs&&!ui||this.load());var f=this.techGet_("play");f===null?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(f)},e.runPlayTerminatedQueue_=function(){var t=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],t.forEach(function(r){r()})},e.runPlayCallbacks_=function(t){var r=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],r.forEach(function(a){a(t)})},e.pause=function(){this.techCall_("pause")},e.paused=function(){return this.techGet_("paused")!==!1},e.played=function(){return this.techGet_("played")||Se(0,0)},e.scrubbing=function(t){if(t===void 0)return this.scrubbing_;this.scrubbing_=!!t,t?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")},e.currentTime=function(t){return t!==void 0?(t<0&&(t=0),void this.techCall_("setCurrentTime",t)):(this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime)},e.duration=function(t){if(t===void 0)return this.cache_.duration!==void 0?this.cache_.duration:NaN;(t=parseFloat(t))<0&&(t=1/0),t!==this.cache_.duration&&(this.cache_.duration=t,t===1/0?(this.addClass("vjs-live"),this.options_.liveui&&this.player_.liveTracker&&this.addClass("vjs-liveui")):(this.removeClass("vjs-live"),this.removeClass("vjs-liveui")),isNaN(t)||this.trigger("durationchange"))},e.remainingTime=function(){return this.duration()-this.currentTime()},e.remainingTimeDisplay=function(){return Math.floor(this.duration())-Math.floor(this.currentTime())},e.buffered=function(){var t=this.techGet_("buffered");return t&&t.length||(t=Se(0,0)),t},e.bufferedPercent=function(){return ve(this.buffered(),this.duration())},e.bufferedEnd=function(){var t=this.buffered(),r=this.duration(),a=t.end(t.length-1);return a>r&&(a=r),a},e.volume=function(t){var r;return t!==void 0?(r=Math.max(0,Math.min(1,parseFloat(t))),this.cache_.volume=r,this.techCall_("setVolume",r),void(r>0&&this.lastVolume_(r))):(r=parseFloat(this.techGet_("volume")),isNaN(r)?1:r)},e.muted=function(t){return t!==void 0?void this.techCall_("setMuted",t):this.techGet_("muted")||!1},e.defaultMuted=function(t){return t!==void 0?this.techCall_("setDefaultMuted",t):this.techGet_("defaultMuted")||!1},e.lastVolume_=function(t){return t!==void 0&&t!==0?void(this.cache_.lastVolume=t):this.cache_.lastVolume},e.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},e.isFullscreen=function(t){return t!==void 0?(this.isFullscreen_=!!t,void this.toggleFullscreenClass_()):!!this.isFullscreen_},e.requestFullscreen=function(t){var r;this.isFullscreen(!0),this.fsApi_.requestFullscreen?(vt(V,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),this.fsApi_.prefixed||(r=this.options_.fullscreen&&this.options_.fullscreen.options||{},t!==void 0&&(r=t)),on(this.el_[this.fsApi_.requestFullscreen](r))):this.tech_.supportsFullScreen()?this.techCall_("enterFullScreen"):(this.enterFullWindow(),this.trigger("fullscreenchange"))},e.exitFullscreen=function(){this.isFullscreen(!1),this.fsApi_.requestFullscreen?(V.fullscreenElement||V.webkitFullscreenElement||V.mozFullScreenElement||V.msFullscreenElement)&&on(V[this.fsApi_.exitFullscreen]()):this.tech_.supportsFullScreen()?this.techCall_("exitFullScreen"):(this.exitFullWindow(),this.trigger("fullscreenchange"))},e.enterFullWindow=function(){this.isFullWindow=!0,this.docOrigOverflow=V.documentElement.style.overflow,vt(V,"keydown",this.boundFullWindowOnEscKey_),V.documentElement.style.overflow="hidden",E(V.body,"vjs-full-window"),this.trigger("enterFullWindow")},e.fullWindowOnEscKey=function(t){sn.isEventKey(t,"Esc")&&(this.isFullscreen()===!0?this.exitFullscreen():this.exitFullWindow())},e.exitFullWindow=function(){this.isFullWindow=!1,ht(V,"keydown",this.boundFullWindowOnEscKey_),V.documentElement.style.overflow=this.docOrigOverflow,A(V.body,"vjs-full-window"),this.trigger("exitFullWindow")},e.isInPictureInPicture=function(t){return t!==void 0?(this.isInPictureInPicture_=!!t,void this.togglePictureInPictureClass_()):!!this.isInPictureInPicture_},e.requestPictureInPicture=function(){if("pictureInPictureEnabled"in V)return this.techGet_("requestPictureInPicture")},e.exitPictureInPicture=function(){if("pictureInPictureEnabled"in V)return V.exitPictureInPicture()},e.handleKeyDown=function(t){var r=this.options_.userActions;r&&r.hotkeys&&(function(a){var f=a.tagName.toLowerCase();return a.isContentEditable?!0:f==="input"?["button","checkbox","hidden","radio","reset","submit"].indexOf(a.type)===-1:["textarea"].indexOf(f)!==-1}(this.el_.ownerDocument.activeElement)||(typeof r.hotkeys=="function"?r.hotkeys.call(this,t):this.handleHotkeys(t)))},e.handleHotkeys=function(t){var r=this.options_.userActions?this.options_.userActions.hotkeys:{},a=r.fullscreenKey,f=a===void 0?function(Y){return sn.isEventKey(Y,"f")}:a,y=r.muteKey,j=y===void 0?function(Y){return sn.isEventKey(Y,"m")}:y,D=r.playPauseKey,F=D===void 0?function(Y){return sn.isEventKey(Y,"k")||sn.isEventKey(Y,"Space")}:D;if(f.call(this,t)){t.preventDefault(),t.stopPropagation();var q=ge.getComponent("FullscreenToggle");V[this.fsApi_.fullscreenEnabled]!==!1&&q.prototype.handleClick.call(this,t)}else j.call(this,t)?(t.preventDefault(),t.stopPropagation(),ge.getComponent("MuteToggle").prototype.handleClick.call(this,t)):F.call(this,t)&&(t.preventDefault(),t.stopPropagation(),ge.getComponent("PlayToggle").prototype.handleClick.call(this,t))},e.canPlayType=function(t){for(var r,a=0,f=this.options_.techOrder;a<f.length;a++){var y=f[a],j=On.getTech(y);if(j||(j=ge.getComponent(y)),j){if(j.isSupported()&&(r=j.canPlayType(t)))return r}else re.error('The "'+y+'" tech is undefined. Skipped browser support check for that tech.')}return""},e.selectSource=function(t){var r=this,a=this.options_.techOrder.map(function(j){return[j,On.getTech(j)]}).filter(function(j){var D=j[0],F=j[1];return F?F.isSupported():(re.error('The "'+D+'" tech is undefined. Skipped browser support check for that tech.'),!1)}),f=function(j,D,F){var q;return j.some(function(Y){return D.some(function(tt){if(q=F(Y,tt))return!0})}),q},y=function(j,D){var F=j[0];if(j[1].canPlaySource(D,r.options_[F.toLowerCase()]))return{source:D,tech:F}};return(this.options_.sourceOrder?f(t,a,function(j){return function(D,F){return j(F,D)}}(y)):f(a,t,y))||!1},e.src=function(t){var r=this;if(t===void 0)return this.cache_.src||"";var a=function f(y){if(Array.isArray(y)){var j=[];y.forEach(function(D){D=f(D),Array.isArray(D)?j=j.concat(D):g(D)&&j.push(D)}),y=j}else y=typeof y=="string"&&y.trim()?[pi({src:y})]:g(y)&&typeof y.src=="string"&&y.src&&y.src.trim()?[pi(y)]:[];return y}(t);a.length?(this.changingSrc_=!0,this.cache_.sources=a,this.updateSourceCaches_(a[0]),Ui(this,a[0],function(f,y){if(r.middleware_=y,r.cache_.sources=a,r.updateSourceCaches_(f),r.src_(f))return a.length>1?r.src(a.slice(1)):(r.changingSrc_=!1,r.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0),void r.triggerReady());(function(j,D){j.forEach(function(F){return F.setTech&&F.setTech(D)})})(y,r.tech_)})):this.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0)},e.src_=function(t){var r=this,a=this.selectSource([t]);return!a||(function(f,y){return yr(f)===yr(y)}(a.tech,this.techName_)?(this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",t):this.techCall_("src",t.src),this.changingSrc_=!1},!0),!1):(this.changingSrc_=!0,this.loadTech_(a.tech,a.source),this.tech_.ready(function(){r.changingSrc_=!1}),!1))},e.load=function(){this.techCall_("load")},e.reset=function(){var t=this,r=this.options_.Promise||x.Promise;this.paused()||!r?this.doReset_():on(this.play().then(function(){return t.doReset_()}))},e.doReset_=function(){this.tech_&&this.tech_.clearTracks("text"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),rn(this)&&this.trigger("playerreset")},e.resetControlBarUI_=function(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()},e.resetProgressBar_=function(){this.currentTime(0);var t=this.controlBar,r=t.durationDisplay,a=t.remainingTimeDisplay;r&&r.updateContent(),a&&a.updateContent()},e.resetPlaybackRate_=function(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()},e.resetVolumeBar_=function(){this.volume(1),this.trigger("volumechange")},e.currentSources=function(){var t=this.currentSource(),r=[];return Object.keys(t).length!==0&&r.push(t),this.cache_.sources||r},e.currentSource=function(){return this.cache_.source||{}},e.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""},e.currentType=function(){return this.currentSource()&&this.currentSource().type||""},e.preload=function(t){return t!==void 0?(this.techCall_("setPreload",t),void(this.options_.preload=t)):this.techGet_("preload")},e.autoplay=function(t){if(t===void 0)return this.options_.autoplay||!1;var r;typeof t=="string"&&/(any|play|muted)/.test(t)?(this.options_.autoplay=t,this.manualAutoplay_(t),r=!1):this.options_.autoplay=!!t,r=r===void 0?this.options_.autoplay:r,this.tech_&&this.techCall_("setAutoplay",r)},e.playsinline=function(t){return t!==void 0?(this.techCall_("setPlaysinline",t),this.options_.playsinline=t,this):this.techGet_("playsinline")},e.loop=function(t){return t!==void 0?(this.techCall_("setLoop",t),void(this.options_.loop=t)):this.techGet_("loop")},e.stretch=function(t){return t!==void 0?(this.techCall_("setStretch",t),void(this.options_.stretch=t)):this.techGet_("stretch")},e.fluent=function(t){return t!=null?(this.techCall_("setFluent",t),this.options_.fluent=t,this):this.techGet_("fluent")},e.poster=function(t){if(t===void 0)return this.poster_;t||(t=""),t!==this.poster_&&(this.poster_=t,this.techCall_("setPoster",t),this.isPosterFromTech_=!1,this.trigger("posterchange"))},e.handleTechPosterChange_=function(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){var t=this.tech_.poster()||"";t!==this.poster_&&(this.poster_=t,this.isPosterFromTech_=!0,this.trigger("posterchange"))}},e.controls=function(t){if(t===void 0)return!!this.controls_;t=!!t,this.controls_!==t&&(this.controls_=t,this.usingNativeControls()&&this.techCall_("setControls",t),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))},e.usingNativeControls=function(t){if(t===void 0)return!!this.usingNativeControls_;t=!!t,this.usingNativeControls_!==t&&(this.usingNativeControls_=t,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))},e.error=function(t){if(t===void 0)return this.error_||null;if(this.options_.suppressNotSupportedError&&t&&t.message&&t.message===this.localize(this.options_.notSupportedMessage)){var r=function(){this.error(t)};return this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],r),void this.one("loadstart",function(){this.off(["click","touchstart"],r)})}if(t===null)return this.error_=t,this.removeClass("vjs-error"),void(this.errorDisplay&&this.errorDisplay.close());this.error_=new ce(t),this.addClass("vjs-error"),re.error("(CODE:"+this.error_.code+" "+ce.errorTypes[this.error_.code]+")",this.error_.message,this.error_),this.trigger("error")},e.reportUserActivity=function(t){this.userActivity_=!0},e.userActive=function(t){if(t===void 0)return this.userActive_;if((t=!!t)!==this.userActive_){if(this.userActive_=t,this.userActive_)return this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),void this.trigger("useractive");this.tech_&&this.tech_.one("mousemove",function(r){r.stopPropagation(),r.preventDefault()}),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}},e.listenForUserActivity_=function(){var t,r,a,f=pe(this,this.reportUserActivity);this.on("mousedown",function(){f(),this.clearInterval(t),t=this.setInterval(f,250)}),this.on("mousemove",function(D){D.screenX===r&&D.screenY===a||(r=D.screenX,a=D.screenY,f())}),this.on("mouseup",function(D){f(),this.clearInterval(t)});var y,j=this.getChild("controlBar");!j||ui||Kn||(j.on("mouseenter",function(D){this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout,this.player().options_.inactivityTimeout=0}),j.on("mouseleave",function(D){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout})),this.on("keydown",f),this.on("keyup",f),this.setInterval(function(){if(this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(y);var D=this.options_.inactivityTimeout;D<=0||(y=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},D))}},250)},e.playbackRate=function(t){return t!==void 0?void this.techCall_("setPlaybackRate",t):this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1},e.defaultPlaybackRate=function(t){return t!==void 0?this.techCall_("setDefaultPlaybackRate",t):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1},e.isAudio=function(t){return t!==void 0?void(this.isAudio_=!!t):!!this.isAudio_},e.addTextTrack=function(t,r,a){if(this.tech_)return this.tech_.addTextTrack(t,r,a)},e.addRemoteTextTrack=function(t,r){if(this.tech_)return this.tech_.addRemoteTextTrack(t,r)},e.removeRemoteTextTrack=function(t){t===void 0&&(t={});var r=t.track;if(r||(r=t),this.tech_)return this.tech_.removeRemoteTextTrack(r)},e.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},e.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},e.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},e.language=function(t){if(t===void 0)return this.language_;this.language_=String(t).toLowerCase()},e.languages=function(){return le(i.prototype.options_.languages,this.languages_)},e.toJSON=function(){var t=le(this.options_),r=t.tracks;t.tracks=[];for(var a=0;a<r.length;a++){var f=r[a];(f=le(f)).player=void 0,t.tracks[a]=f}return t},e.createModal=function(t,r){var a=this;(r=r||{}).content=t||"";var f=new Za(this,r);return this.addChild(f),f.on("dispose",function(){a.removeChild(f)}),f.open(),f},e.updateCurrentBreakpoint_=function(){if(this.responsive())for(var t=this.currentBreakpoint(),r=this.currentWidth(),a=0;a<ha.length;a++){var f=ha[a];if(r<=this.breakpoints_[f]){if(t===f)return;t&&this.removeClass(Xa[t]),this.addClass(Xa[f]),this.breakpoint_=f;break}}},e.removeCurrentBreakpoint_=function(){var t=this.currentBreakpointClass();this.breakpoint_="",t&&this.removeClass(t)},e.breakpoints=function(t){return t===void 0||(this.breakpoint_="",this.breakpoints_=d({},ec,t),this.updateCurrentBreakpoint_()),d(this.breakpoints_)},e.responsive=function(t){return t===void 0?this.responsive_:(t=Boolean(t))!==this.responsive_?(this.responsive_=t,t?(this.on("playerresize",this.updateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.updateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),t):void 0},e.currentBreakpoint=function(){return this.breakpoint_},e.currentBreakpointClass=function(){return Xa[this.breakpoint_]||""},e.loadMedia=function(t,r){var a=this;if(t&&typeof t=="object"){this.reset(),this.cache_.media=le(t);var f=this.cache_.media,y=f.artwork,j=f.poster,D=f.src,F=f.textTracks;!y&&j&&(this.cache_.media.artwork=[{src:j,type:xo(j)}]),D&&this.src(D),j&&this.poster(j),Array.isArray(F)&&F.forEach(function(q){return a.addRemoteTextTrack(q,!1)}),this.ready(r)}},e.getMedia=function(){if(!this.cache_.media){var t=this.poster(),r={src:this.currentSources(),textTracks:Array.prototype.map.call(this.remoteTextTracks(),function(a){return{kind:a.kind,label:a.label,language:a.language,src:a.src}})};return t&&(r.poster=t,r.artwork=[{src:r.poster,type:xo(r.poster)}]),r}return le(this.cache_.media)},i.getTagSettings=function(t){var r={sources:[],tracks:[]},a=B(t),f=a["data-setup"];if(b(t,"vjs-fill")&&(a.fill=!0),b(t,"vjs-fluid")&&(a.fluid=!0),f!==null){var y=Hs(f||"{}"),j=y[0],D=y[1];j&&re.error(j),d(a,D)}if(d(r,a),t.hasChildNodes())for(var F=t.childNodes,q=0,Y=F.length;q<Y;q++){var tt=F[q],ft=tt.nodeName.toLowerCase();ft==="source"?r.sources.push(B(tt)):ft==="track"&&r.tracks.push(B(tt))}return r},e.flexNotSupported_=function(){var t=V.createElement("i");return!("flexBasis"in t.style||"webkitFlexBasis"in t.style||"mozFlexBasis"in t.style||"msFlexBasis"in t.style||"msFlexOrder"in t.style)},i}(ge);Hr.names.forEach(function(n){var i=Hr[n];Dn.prototype[i.getterName]=function(){return this.tech_?this.tech_[i.getterName]():(this[i.privateName]=this[i.privateName]||new i.ListClass,this[i.privateName])}}),Dn.players={};var Mo=x.navigator;Dn.prototype.options_={techOrder:On.defaultTechOrder_,html5:{},flash:{},inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:Mo&&(Mo.languages&&Mo.languages[0]||Mo.userLanguage||Mo.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1},["ended","seeking","seekable","networkState","readyState"].forEach(function(n){Dn.prototype[n]=function(){return this.techGet_(n)}}),gu.forEach(function(n){Dn.prototype["handleTech"+yr(n)+"_"]=function(){return this.trigger(n)}}),ge.registerComponent("Player",Dn);var Uo={},ll=function(n){return Uo.hasOwnProperty(n)},Yi=function(n){return ll(n)?Uo[n]:void 0},Jr=function(n,i){n.activePlugins_=n.activePlugins_||{},n.activePlugins_[i]=!0},po=function(n,i,e){var t=(e?"before":"")+"pluginsetup";n.trigger(t,i),n.trigger(t+":"+i.name,i)},yu=function(n,i){return i.prototype.name=n,function(){po(this,{name:n,plugin:i,instance:null},!0);for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var a=Je(i,[this].concat(t));return this[n]=function(){return a},po(this,a.getEventHash()),a}},Ji=function(){function n(e){if(this.constructor===n)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=e,se(this),delete this.trigger,Oe(this,this.constructor.defaultState),Jr(e,this.name),this.dispose=pe(this,this.dispose),e.on("dispose",this.dispose)}var i=n.prototype;return i.version=function(){return this.constructor.VERSION},i.getEventHash=function(e){return e===void 0&&(e={}),e.name=this.name,e.plugin=this.constructor,e.instance=this,e},i.trigger=function(e,t){return t===void 0&&(t={}),pt(this.eventBusEl_,e,this.getEventHash(t))},i.handleStateChanged=function(e){},i.dispose=function(){var e=this.name,t=this.player;this.trigger("dispose"),this.off(),t.off("dispose",this.dispose),t.activePlugins_[e]=!1,this.player=this.state=null,t[e]=yu(e,Uo[e])},n.isBasic=function(e){var t=typeof e=="string"?Yi(e):e;return typeof t=="function"&&!n.prototype.isPrototypeOf(t.prototype)},n.registerPlugin=function(e,t){if(typeof e!="string")throw new Error('Illegal plugin name, "'+e+'", must be a string, was '+typeof e+".");if(ll(e))re.warn('A plugin named "'+e+'" already exists. You may want to avoid re-registering plugins!');else if(Dn.prototype.hasOwnProperty(e))throw new Error('Illegal plugin name, "'+e+'", cannot share a name with an existing player method!');if(typeof t!="function")throw new Error('Illegal plugin for "'+e+'", must be a function, was '+typeof t+".");return Uo[e]=t,e!=="plugin"&&(n.isBasic(t)?Dn.prototype[e]=function(r,a){var f=function(){po(this,{name:r,plugin:a,instance:null},!0);var y=a.apply(this,arguments);return Jr(this,r),po(this,{name:r,plugin:a,instance:y}),y};return Object.keys(a).forEach(function(y){f[y]=a[y]}),f}(e,t):Dn.prototype[e]=yu(e,t)),t},n.deregisterPlugin=function(e){if(e==="plugin")throw new Error("Cannot de-register base plugin.");ll(e)&&(delete Uo[e],delete Dn.prototype[e])},n.getPlugins=function(e){var t;return e===void 0&&(e=Object.keys(Uo)),e.forEach(function(r){var a=Yi(r);a&&((t=t||{})[r]=a)}),t},n.getPluginVersion=function(e){var t=Yi(e);return t&&t.VERSION||""},n}();Ji.getPlugin=Yi,Ji.BASE_PLUGIN_NAME="plugin",Ji.registerPlugin("plugin",Ji),Dn.prototype.usingPlugin=function(n){return!!this.activePlugins_&&this.activePlugins_[n]===!0},Dn.prototype.hasPlugin=function(n){return!!ll(n)};var Bo=function(n){return n.indexOf("#")===0?n.slice(1):n};if(Et.hooks_={},Et.hooks=function(n,i){return Et.hooks_[n]=Et.hooks_[n]||[],i&&(Et.hooks_[n]=Et.hooks_[n].concat(i)),Et.hooks_[n]},Et.hook=function(n,i){Et.hooks(n,i)},Et.hookOnce=function(n,i){Et.hooks(n,[].concat(i).map(function(e){return function t(){return Et.removeHook(n,t),e.apply(void 0,arguments)}}))},Et.removeHook=function(n,i){var e=Et.hooks(n).indexOf(i);return!(e<=-1||(Et.hooks_[n]=Et.hooks_[n].slice(),Et.hooks_[n].splice(e,1),0))},x.VIDEOJS_NO_DYNAMIC_STYLE!==!0&&l()){var _u=cn(".vjs-styles-defaults");if(!_u){_u=Xt("vjs-styles-defaults");var cl=cn("head");cl&&cl.insertBefore(_u,cl.firstChild),Kt(_u,`
      .video-js {
        width: 300px;
        height: 150px;
      }

      .vjs-fluid {
        padding-top: 56.25%
      }
    `)}}zt(1,Et),Et.VERSION=Hi,Et.options=Dn.prototype.options_,Et.getPlayers=function(){return Dn.players},Et.getPlayer=function(n){var i,e=Dn.players;if(typeof n=="string"){var t=Bo(n),r=e[t];if(r)return r;i=cn("#"+t)}else i=n;if(_(i)){var a=i,f=a.player,y=a.playerId;if(f||e[y])return f||e[y]}},Et.getAllPlayers=function(){return Object.keys(Dn.players).map(function(n){return Dn.players[n]}).filter(Boolean)},Et.players=Dn.players,Et.getComponent=ge.getComponent,Et.registerComponent=function(n,i){On.isTech(i)&&re.warn("The "+n+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),ge.registerComponent.call(ge,n,i)},Et.getTech=On.getTech,Et.registerTech=On.registerTech,Et.use=function(n,i){ka[n]=ka[n]||[],ka[n].push(i)},Object.defineProperty(Et,"middleware",{value:{},writeable:!1,enumerable:!0}),Object.defineProperty(Et.middleware,"TERMINATOR",{value:hs,writeable:!1,enumerable:!0}),Et.browser=Ll,Et.TOUCH_ENABLED=So,Et.extend=function(n,i){i===void 0&&(i={});var e=function(){n.apply(this,arguments)},t={};for(var r in typeof i=="object"?(i.constructor!==Object.prototype.constructor&&(e=i.constructor),t=i):typeof i=="function"&&(e=i),function(a,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);a.prototype=Object.create(f&&f.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),f&&(a.super_=f)}(e,n),t)t.hasOwnProperty(r)&&(e.prototype[r]=t[r]);return e},Et.mergeOptions=le,Et.bind=pe,Et.registerPlugin=Ji.registerPlugin,Et.deregisterPlugin=Ji.deregisterPlugin,Et.plugin=function(n,i){return re.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),Ji.registerPlugin(n,i)},Et.getPlugins=Ji.getPlugins,Et.getPlugin=Ji.getPlugin,Et.getPluginVersion=Ji.getPluginVersion,Et.addLanguage=function(n,i){var e;return n=(""+n).toLowerCase(),Et.options.languages=le(Et.options.languages,((e={})[n]=i,e)),Et.options.languages[n]},Et.log=re,Et.createLogger=Le,Et.createTimeRange=Et.createTimeRanges=Se,Et.formatTime=wr,Et.setFormatTime=function(n){gs=n},Et.resetFormatTime=function(){gs=Ku},Et.parseUrl=Ae,Et.isCrossOrigin=lr,Et.EventTarget=Ne,Et.on=vt,Et.one=Bt,Et.off=ht,Et.trigger=pt,Et.xhr=cs,Et.TextTrack=Ao,Et.AudioTrack=Xi,Et.VideoTrack=zu,["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(function(n){Et[n]=function(){return re.warn("videojs."+n+"() is deprecated; use videojs.dom."+n+"() instead"),Ei[n].apply(null,arguments)}}),Et.computedStyle=u,Et.dom=Ei,Et.url=oa;var Zi,dl,nc,bu,rc,_i=vn(function(n,i){(function(e){var t=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/\?#]*\/)*.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,r=/^([^\/?#]*)(.*)$/,a=/(?:\/|^)\.(?=\/)/g,f=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,y={buildAbsoluteURL:function(j,D,F){if(F=F||{},j=j.trim(),!(D=D.trim())){if(!F.alwaysNormalize)return j;var q=y.parseURL(j);if(!q)throw new Error("Error trying to parse base URL.");return q.path=y.normalizePath(q.path),y.buildURLFromParts(q)}var Y=y.parseURL(D);if(!Y)throw new Error("Error trying to parse relative URL.");if(Y.scheme)return F.alwaysNormalize?(Y.path=y.normalizePath(Y.path),y.buildURLFromParts(Y)):D;var tt=y.parseURL(j);if(!tt)throw new Error("Error trying to parse base URL.");if(!tt.netLoc&&tt.path&&tt.path[0]!=="/"){var ft=r.exec(tt.path);tt.netLoc=ft[1],tt.path=ft[2]}tt.netLoc&&!tt.path&&(tt.path="/");var dt={scheme:tt.scheme,netLoc:Y.netLoc,path:null,params:Y.params,query:Y.query,fragment:Y.fragment};if(!Y.netLoc&&(dt.netLoc=tt.netLoc,Y.path[0]!=="/"))if(Y.path){var At=tt.path,St=At.substring(0,At.lastIndexOf("/")+1)+Y.path;dt.path=y.normalizePath(St)}else dt.path=tt.path,Y.params||(dt.params=tt.params,Y.query||(dt.query=tt.query));return dt.path===null&&(dt.path=F.alwaysNormalize?y.normalizePath(Y.path):Y.path),y.buildURLFromParts(dt)},parseURL:function(j){var D=t.exec(j);return D?{scheme:D[1]||"",netLoc:D[2]||"",path:D[3]||"",params:D[4]||"",query:D[5]||"",fragment:D[6]||""}:null},normalizePath:function(j){for(j=j.split("").reverse().join("").replace(a,"");j.length!==(j=j.replace(f,"")).length;);return j.split("").reverse().join("")},buildURLFromParts:function(j){return j.scheme+j.netLoc+j.path+j.params+j.query+j.fragment}};n.exports=y})()}),Cs=function(){function n(){this.listeners={}}var i=n.prototype;return i.on=function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},i.off=function(e,t){if(!this.listeners[e])return!1;var r=this.listeners[e].indexOf(t);return this.listeners[e].splice(r,1),r>-1},i.trigger=function(e){var t,r,a,f=this.listeners[e];if(f)if(arguments.length===2)for(r=f.length,t=0;t<r;++t)f[t].call(this,arguments[1]);else for(a=Array.prototype.slice.call(arguments,1),r=f.length,t=0;t<r;++t)f[t].apply(this,a)},i.dispose=function(){this.listeners={}},i.pipe=function(e){this.on("data",function(t){e.push(t)})},n}(),ic=function(n){function i(){var e;return(e=n.call(this)||this).buffer="",e}return na(i,n),i.prototype.push=function(e){var t;for(this.buffer+=e,t=this.buffer.indexOf(`
`);t>-1;t=this.buffer.indexOf(`
`))this.trigger("data",this.buffer.substring(0,t)),this.buffer=this.buffer.substring(t+1)},i}(Cs),No=function(n){for(var i,e=n.split(new RegExp('(?:^|,)((?:[^=]*)=(?:"[^"]*"|[^,]*))')),t={},r=e.length;r--;)e[r]!==""&&((i=/([^=]*)=(.*)/.exec(e[r]).slice(1))[0]=i[0].replace(/^\s+|\s+$/g,""),i[1]=i[1].replace(/^\s+|\s+$/g,""),i[1]=i[1].replace(/^['"](.*)['"]$/g,"$1"),t[i[0]]=i[1]);return t},fl=function(n){function i(){var t;return(t=n.call(this)||this).customParsers=[],t.tagMappers=[],t}na(i,n);var e=i.prototype;return e.push=function(t){var r,a,f=this;if((t=t.trim()).length!==0){if(t[0]!=="#")return void this.trigger("data",{type:"uri",uri:t});this.tagMappers.reduce(function(y,j){var D=j(t);return D===t?y:y.concat([D])},[t]).forEach(function(y){for(var j=0;j<f.customParsers.length;j++)if(f.customParsers[j].call(f,y))return;if(y.indexOf("#EXT")===0)if(y=y.replace("\r",""),r=/^#EXTM3U/.exec(y))f.trigger("data",{type:"tag",tagType:"m3u"});else{if(r=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(y))return a={type:"tag",tagType:"inf"},r[1]&&(a.duration=parseFloat(r[1])),r[2]&&(a.title=r[2]),void f.trigger("data",a);if(r=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(y))return a={type:"tag",tagType:"targetduration"},r[1]&&(a.duration=parseInt(r[1],10)),void f.trigger("data",a);if(r=/^#ZEN-TOTAL-DURATION:?([0-9.]*)?/.exec(y))return a={type:"tag",tagType:"totalduration"},r[1]&&(a.duration=parseInt(r[1],10)),void f.trigger("data",a);if(r=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(y))return a={type:"tag",tagType:"version"},r[1]&&(a.version=parseInt(r[1],10)),void f.trigger("data",a);if(r=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(y))return a={type:"tag",tagType:"media-sequence"},r[1]&&(a.number=parseInt(r[1],10)),void f.trigger("data",a);if(r=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(y))return a={type:"tag",tagType:"discontinuity-sequence"},r[1]&&(a.number=parseInt(r[1],10)),void f.trigger("data",a);if(r=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(y))return a={type:"tag",tagType:"playlist-type"},r[1]&&(a.playlistType=r[1]),void f.trigger("data",a);if(r=/^#EXT-X-BYTERANGE:?([0-9.]*)?@?([0-9.]*)?/.exec(y))return a={type:"tag",tagType:"byterange"},r[1]&&(a.length=parseInt(r[1],10)),r[2]&&(a.offset=parseInt(r[2],10)),void f.trigger("data",a);if(r=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(y))return a={type:"tag",tagType:"allow-cache"},r[1]&&(a.allowed=!/NO/.test(r[1])),void f.trigger("data",a);if(r=/^#EXT-X-MAP:?(.*)$/.exec(y)){if(a={type:"tag",tagType:"map"},r[1]){var D=No(r[1]);if(D.URI&&(a.uri=D.URI),D.BYTERANGE){var F=D.BYTERANGE.split("@"),q=F[0],Y=F[1];a.byterange={},q&&(a.byterange.length=parseInt(q,10)),Y&&(a.byterange.offset=parseInt(Y,10))}}f.trigger("data",a)}else{if(!(r=/^#EXT-X-STREAM-INF:?(.*)$/.exec(y)))return(r=/^#EXT-X-MEDIA:?(.*)$/.exec(y))?(a={type:"tag",tagType:"media"},r[1]&&(a.attributes=No(r[1])),void f.trigger("data",a)):(r=/^#EXT-X-ENDLIST/.exec(y))?void f.trigger("data",{type:"tag",tagType:"endlist"}):(r=/^#EXT-X-DISCONTINUITY/.exec(y))?void f.trigger("data",{type:"tag",tagType:"discontinuity"}):(r=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(y))?(a={type:"tag",tagType:"program-date-time"},r[1]&&(a.dateTimeString=r[1],a.dateTimeObject=new Date(r[1])),void f.trigger("data",a)):(r=/^#EXT-X-KEY:?(.*)$/.exec(y))?(a={type:"tag",tagType:"key"},r[1]&&(a.attributes=No(r[1]),a.attributes.IV&&(a.attributes.IV.substring(0,2).toLowerCase()==="0x"&&(a.attributes.IV=a.attributes.IV.substring(2)),a.attributes.IV=a.attributes.IV.match(/.{8}/g),a.attributes.IV[0]=parseInt(a.attributes.IV[0],16),a.attributes.IV[1]=parseInt(a.attributes.IV[1],16),a.attributes.IV[2]=parseInt(a.attributes.IV[2],16),a.attributes.IV[3]=parseInt(a.attributes.IV[3],16),a.attributes.IV=new Uint32Array(a.attributes.IV))),void f.trigger("data",a)):(r=/^#EXT-X-START:?(.*)$/.exec(y))?(a={type:"tag",tagType:"start"},r[1]&&(a.attributes=No(r[1]),a.attributes["TIME-OFFSET"]=parseFloat(a.attributes["TIME-OFFSET"]),a.attributes.PRECISE=/YES/.test(a.attributes.PRECISE)),void f.trigger("data",a)):(r=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(y))?(a={type:"tag",tagType:"cue-out-cont"},r[1]?a.data=r[1]:a.data="",void f.trigger("data",a)):(r=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(y))?(a={type:"tag",tagType:"cue-out"},r[1]?a.data=r[1]:a.data="",void f.trigger("data",a)):(r=/^#EXT-X-CUE-IN:?(.*)?$/.exec(y))?(a={type:"tag",tagType:"cue-in"},r[1]?a.data=r[1]:a.data="",void f.trigger("data",a)):void f.trigger("data",{type:"tag",data:y.slice(4)});if(a={type:"tag",tagType:"stream-inf"},r[1]){if(a.attributes=No(r[1]),a.attributes.RESOLUTION){var tt=a.attributes.RESOLUTION.split("x"),ft={};tt[0]&&(ft.width=parseInt(tt[0],10)),tt[1]&&(ft.height=parseInt(tt[1],10)),a.attributes.RESOLUTION=ft}a.attributes.BANDWIDTH&&(a.attributes.BANDWIDTH=parseInt(a.attributes.BANDWIDTH,10)),a.attributes["PROGRAM-ID"]&&(a.attributes["PROGRAM-ID"]=parseInt(a.attributes["PROGRAM-ID"],10))}f.trigger("data",a)}}else f.trigger("data",{type:"comment",text:y.slice(1)})})}},e.addParser=function(t){var r=this,a=t.expression,f=t.customType,y=t.dataParser,j=t.segment;typeof y!="function"&&(y=function(D){return D}),this.customParsers.push(function(D){if(a.exec(D))return r.trigger("data",{type:"custom",data:y(D),customType:f,segment:j}),!0})},e.addTagMapper=function(t){var r=t.expression,a=t.map;this.tagMappers.push(function(f){return r.test(f)?a(f):f})},i}(Cs),ac=function(n){function i(){var t;(t=n.call(this)||this).lineStream=new ic,t.parseStream=new fl,t.lineStream.pipe(t.parseStream);var r,a,f=mi(mi(t)),y=[],j={},D=function(){},F={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},q=0;return t.manifest={allowCache:!0,discontinuityStarts:[],segments:[]},t.parseStream.on("data",function(Y){var tt,ft;({tag:function(){({"allow-cache":function(){this.manifest.allowCache=Y.allowed,"allowed"in Y||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function(){var dt={};"length"in Y&&(j.byterange=dt,dt.length=Y.length,"offset"in Y||(this.trigger("info",{message:"defaulting offset to zero"}),Y.offset=0)),"offset"in Y&&(j.byterange=dt,dt.offset=Y.offset)},endlist:function(){this.manifest.endList=!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),Y.duration>0&&(j.duration=Y.duration),Y.duration===0&&(j.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=y},key:function(){return Y.attributes?Y.attributes.METHOD==="NONE"?void(a=null):Y.attributes.URI?(Y.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),a={method:Y.attributes.METHOD||"AES-128",uri:Y.attributes.URI},void(Y.attributes.IV!==void 0&&(a.iv=Y.attributes.IV))):void this.trigger("warn",{message:"ignoring key declaration without URI"}):void this.trigger("warn",{message:"ignoring key declaration without attribute list"})},"media-sequence":function(){isFinite(Y.number)?this.manifest.mediaSequence=Y.number:this.trigger("warn",{message:"ignoring invalid media sequence: "+Y.number})},"discontinuity-sequence":function(){isFinite(Y.number)?(this.manifest.discontinuitySequence=Y.number,q=Y.number):this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+Y.number})},"playlist-type":function(){/VOD|EVENT/.test(Y.playlistType)?this.manifest.playlistType=Y.playlistType:this.trigger("warn",{message:"ignoring unknown playlist type: "+Y.playlist})},map:function(){r={},Y.uri&&(r.uri=Y.uri),Y.byterange&&(r.byterange=Y.byterange)},"stream-inf":function(){this.manifest.playlists=y,this.manifest.mediaGroups=this.manifest.mediaGroups||F,Y.attributes?(j.attributes||(j.attributes={}),Fi(j.attributes,Y.attributes)):this.trigger("warn",{message:"ignoring empty stream-inf attributes"})},media:function(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||F,Y.attributes&&Y.attributes.TYPE&&Y.attributes["GROUP-ID"]&&Y.attributes.NAME){var dt=this.manifest.mediaGroups[Y.attributes.TYPE];dt[Y.attributes["GROUP-ID"]]=dt[Y.attributes["GROUP-ID"]]||{},tt=dt[Y.attributes["GROUP-ID"]],(ft={default:/yes/i.test(Y.attributes.DEFAULT)}).default?ft.autoselect=!0:ft.autoselect=/yes/i.test(Y.attributes.AUTOSELECT),Y.attributes.LANGUAGE&&(ft.language=Y.attributes.LANGUAGE),Y.attributes.URI&&(ft.uri=Y.attributes.URI),Y.attributes["INSTREAM-ID"]&&(ft.instreamId=Y.attributes["INSTREAM-ID"]),Y.attributes.CHARACTERISTICS&&(ft.characteristics=Y.attributes.CHARACTERISTICS),Y.attributes.FORCED&&(ft.forced=/yes/i.test(Y.attributes.FORCED)),tt[Y.attributes.NAME]=ft}else this.trigger("warn",{message:"ignoring incomplete or missing media group"})},discontinuity:function(){q+=1,j.discontinuity=!0,this.manifest.discontinuityStarts.push(y.length)},"program-date-time":function(){this.manifest.dateTimeString===void 0&&(this.manifest.dateTimeString=Y.dateTimeString,this.manifest.dateTimeObject=Y.dateTimeObject),j.dateTimeString=Y.dateTimeString,j.dateTimeObject=Y.dateTimeObject},targetduration:function(){!isFinite(Y.duration)||Y.duration<0?this.trigger("warn",{message:"ignoring invalid target duration: "+Y.duration}):this.manifest.targetDuration=Y.duration},totalduration:function(){!isFinite(Y.duration)||Y.duration<0?this.trigger("warn",{message:"ignoring invalid total duration: "+Y.duration}):this.manifest.totalDuration=Y.duration},start:function(){Y.attributes&&!isNaN(Y.attributes["TIME-OFFSET"])?this.manifest.start={timeOffset:Y.attributes["TIME-OFFSET"],precise:Y.attributes.PRECISE}:this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"})},"cue-out":function(){j.cueOut=Y.data},"cue-out-cont":function(){j.cueOutCont=Y.data},"cue-in":function(){j.cueIn=Y.data}}[Y.tagType]||D).call(f)},uri:function(){j.uri=Y.uri,y.push(j),!this.manifest.targetDuration||"duration"in j||(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),j.duration=this.manifest.targetDuration),a&&(j.key=a),j.timeline=q,r&&(j.map=r),j={}},comment:function(){},custom:function(){Y.segment?(j.custom=j.custom||{},j.custom[Y.customType]=Y.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[Y.customType]=Y.data)}})[Y.type].call(f)}),t}na(i,n);var e=i.prototype;return e.push=function(t){this.lineStream.push(t)},e.end=function(){this.lineStream.push(`
`)},e.addParser=function(t){this.parseStream.addParser(t)},e.addTagMapper=function(t){this.parseStream.addTagMapper(t)},i}(Cs),pa=function(n){return!!n&&typeof n=="object"},xr=function n(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];return e.reduce(function(r,a){return Object.keys(a).forEach(function(f){Array.isArray(r[f])&&Array.isArray(a[f])?r[f]=r[f].concat(a[f]):pa(r[f])&&pa(a[f])?r[f]=n(r[f],a[f]):r[f]=a[f]}),r},{})},Ri=function(n){return n.reduce(function(i,e){return i.concat(e)},[])},oc=function(n){if(!n.length)return[];for(var i=[],e=0;e<n.length;e++)i.push(n[e]);return i},Dc="INVALID_NUMBER_OF_PERIOD",sc="DASH_EMPTY_MANIFEST",uc="DASH_INVALID_XML",lc="NO_BASE_URL",cc="SEGMENT_TIME_UNSPECIFIED",hl="UNSUPPORTED_UTC_TIMING_SCHEME",Fo=function(n,i){return function(e,t){(function(r){var a=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/\?#]*\/)*.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,f=/^([^\/?#]*)(.*)$/,y=/(?:\/|^)\.(?=\/)/g,j=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,D={buildAbsoluteURL:function(F,q,Y){if(Y=Y||{},F=F.trim(),!(q=q.trim())){if(!Y.alwaysNormalize)return F;var tt=D.parseURL(F);if(!tt)throw new Error("Error trying to parse base URL.");return tt.path=D.normalizePath(tt.path),D.buildURLFromParts(tt)}var ft=D.parseURL(q);if(!ft)throw new Error("Error trying to parse relative URL.");if(ft.scheme)return Y.alwaysNormalize?(ft.path=D.normalizePath(ft.path),D.buildURLFromParts(ft)):q;var dt=D.parseURL(F);if(!dt)throw new Error("Error trying to parse base URL.");if(!dt.netLoc&&dt.path&&dt.path[0]!=="/"){var At=f.exec(dt.path);dt.netLoc=At[1],dt.path=At[2]}dt.netLoc&&!dt.path&&(dt.path="/");var St={scheme:dt.scheme,netLoc:ft.netLoc,path:null,params:ft.params,query:ft.query,fragment:ft.fragment};if(!ft.netLoc&&(St.netLoc=dt.netLoc,ft.path[0]!=="/"))if(ft.path){var kt=dt.path,ee=kt.substring(0,kt.lastIndexOf("/")+1)+ft.path;St.path=D.normalizePath(ee)}else St.path=dt.path,ft.params||(St.params=dt.params,ft.query||(St.query=dt.query));return St.path===null&&(St.path=Y.alwaysNormalize?D.normalizePath(ft.path):ft.path),D.buildURLFromParts(St)},parseURL:function(F){var q=a.exec(F);return q?{scheme:q[1]||"",netLoc:q[2]||"",path:q[3]||"",params:q[4]||"",query:q[5]||"",fragment:q[6]||""}:null},normalizePath:function(F){for(F=F.split("").reverse().join("").replace(y,"");F.length!==(F=F.replace(j,"")).length;);return F.split("").reverse().join("")},buildURLFromParts:function(F){return F.scheme+F.netLoc+F.path+F.params+F.query+F.fragment}};e.exports=D})()}(i={exports:{}}),i.exports}(),pl=function(n,i){return/^[a-z]+:/i.test(i)?i:(/\/\//i.test(n)||(n=Fo.buildAbsoluteURL(x.location.href,n)),Fo.buildAbsoluteURL(n,i))},Tu=function(n){var i=n.baseUrl,e=i===void 0?"":i,t=n.source,r=t===void 0?"":t,a=n.range,f=a===void 0?"":a,y=n.indexRange,j=y===void 0?"":y,D={uri:r,resolvedUri:pl(e||"",r)};if(f||j){var F=(f||j).split("-"),q=parseInt(F[0],10),Y=parseInt(F[1],10);D.byterange={length:Y-q+1,offset:q}}return D},di=function(n){var i=n.offset+n.length-1;return n.offset+"-"+i},Mc={static:function(n){var i=n.duration,e=n.timescale,t=e===void 0?1:e,r=n.sourceDuration;return{start:0,end:Math.ceil(r/(i/t))}},dynamic:function(n){var i=n.NOW,e=n.clientOffset,t=n.availabilityStartTime,r=n.timescale,a=r===void 0?1:r,f=n.duration,y=n.start,j=y===void 0?0:y,D=n.minimumUpdatePeriod,F=D===void 0?0:D,q=n.timeShiftBufferDepth,Y=q===void 0?1/0:q,tt=(i+e)/1e3,ft=t+j,dt=tt+F-ft,At=Math.ceil(dt*a/f),St=Math.floor((tt-ft-Y)*a/f),kt=Math.floor((tt-ft)*a/f);return{start:Math.max(0,St),end:Math.min(At,kt)}}},Su=function(n){var i=n.type,e=i===void 0?"static":i,t=n.duration,r=n.timescale,a=r===void 0?1:r,f=n.sourceDuration,y=Mc[e](n),j=function(F,q){for(var Y=[],tt=F;tt<q;tt++)Y.push(tt);return Y}(y.start,y.end).map(function(F){return function(q,Y){var tt=F.duration,ft=F.timescale,dt=ft===void 0?1:ft,At=F.periodIndex,St=F.startNumber;return{number:(St===void 0?1:St)+q,duration:tt/dt,timeline:At,time:Y*tt}}}(n));if(e==="static"){var D=j.length-1;j[D].duration=f-t/a*D}return j},Uc=function(n){var i=n.baseUrl,e=n.initialization,t=e===void 0?{}:e,r=n.sourceDuration,a=n.timescale,f=a===void 0?1:a,y=n.indexRange,j=y===void 0?"":y,D=n.duration;if(!i)throw new Error(lc);var F=Tu({baseUrl:i,source:t.sourceURL,range:t.range}),q=Tu({baseUrl:i,source:i,indexRange:j});if(q.map=F,D){var Y=Su(n);Y.length&&(q.duration=Y[0].duration,q.timeline=Y[0].timeline)}else r&&(q.duration=r/f,q.timeline=0);return q.number=0,[q]},ml=function(n,i,e){for(var t=n.sidx.map?n.sidx.map:null,r=n.sidx.duration,a=n.timeline||0,f=n.sidx.byterange,y=f.offset+f.length,j=i.timescale,D=i.references.filter(function(St){return St.referenceType!==1}),F=[],q=y+i.firstOffset,Y=0;Y<D.length;Y++){var tt=i.references[Y],ft=tt.referencedSize,dt=tt.subsegmentDuration,At=Uc({baseUrl:e,timescale:j,timeline:a,periodIndex:a,duration:dt,sourceDuration:r,indexRange:q+"-"+(q+ft-1)})[0];t&&(At.map=t),F.push(At),q+=ft}return n.segments=F,n},vl=function(n){return function(i){return Object.keys(i).map(function(e){return i[e]})}(n.reduce(function(i,e){var t,r=e.attributes.id+(e.attributes.lang||"");return i[r]?(e.segments[0]&&(e.segments[0].discontinuity=!0),(t=i[r].segments).push.apply(t,e.segments),e.attributes.contentProtection&&(i[r].attributes.contentProtection=e.attributes.contentProtection)):i[r]=e,i},{})).map(function(i){return i.discontinuityStarts=function(e,t){return e.reduce(function(r,a,f){return a[t]&&r.push(f),r},[])}(i.segments,"discontinuity"),i})},gl=function(n,i){if(i===void 0&&(i={}),!Object.keys(i).length)return n;for(var e in n){var t=n[e];if(t.sidx){var r=t.sidx.uri+"-"+di(t.sidx.byterange),a=i[r]&&i[r].sidx;t.sidx&&a&&ml(t,a,t.sidx.resolvedUri)}}return n},Bc=function(n){var i,e=n.attributes,t=n.segments,r=n.sidx,a={attributes:(i={NAME:e.id,BANDWIDTH:e.bandwidth,CODECS:e.codecs},i["PROGRAM-ID"]=1,i),uri:"",endList:(e.type||"static")==="static",timeline:e.periodIndex,resolvedUri:"",targetDuration:e.duration,segments:t,mediaSequence:t.length?t[0].number:1};return e.contentProtection&&(a.contentProtection=e.contentProtection),r&&(a.sidx=r),a},yl=function(n){var i,e=n.attributes,t=n.segments;return t===void 0&&(t=[{uri:e.baseUrl,timeline:e.periodIndex,resolvedUri:e.baseUrl||"",duration:e.sourceDuration,number:0}],e.duration=e.sourceDuration),{attributes:(i={NAME:e.id,BANDWIDTH:e.bandwidth},i["PROGRAM-ID"]=1,i),uri:"",endList:(e.type||"static")==="static",timeline:e.periodIndex,resolvedUri:e.baseUrl||"",targetDuration:e.duration,segments:t,mediaSequence:t.length?t[0].number:1}},Nc=function(n){var i,e=n.attributes,t=n.segments,r=n.sidx,a={attributes:(i={NAME:e.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:e.width,height:e.height},CODECS:e.codecs,BANDWIDTH:e.bandwidth},i["PROGRAM-ID"]=1,i),uri:"",endList:(e.type||"static")==="static",timeline:e.periodIndex,resolvedUri:"",targetDuration:e.duration,segments:t,mediaSequence:t.length?t[0].number:1};return e.contentProtection&&(a.contentProtection=e.contentProtection),r&&(a.sidx=r),a},id=function(n,i){var e;if(i===void 0&&(i={}),!n.length)return{};var t=n[0].attributes,r=t.sourceDuration,a=t.minimumUpdatePeriod,f=a===void 0?0:a,y=vl(n.filter(function(q){var Y=q.attributes;return Y.mimeType==="video/mp4"||Y.contentType==="video"})).map(Nc),j=vl(n.filter(function(q){var Y=q.attributes;return Y.mimeType==="audio/mp4"||Y.contentType==="audio"})),D=n.filter(function(q){var Y=q.attributes;return Y.mimeType==="text/vtt"||Y.contentType==="text"}),F={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:(e={AUDIO:{},VIDEO:{}},e["CLOSED-CAPTIONS"]={},e.SUBTITLES={},e),uri:"",duration:r,playlists:gl(y,i),minimumUpdatePeriod:1e3*f};return j.length&&(F.mediaGroups.AUDIO.audio=function(q,Y){Y===void 0&&(Y={});var tt,ft=q.reduce(function(dt,At){var St=At.attributes.role&&At.attributes.role.value||"",kt=At.attributes.lang||"",ee="main";if(kt){var ie=St?" ("+St+")":"";ee=""+At.attributes.lang+ie}return dt[ee]&&dt[ee].playlists[0].attributes.BANDWIDTH>At.attributes.bandwidth||(dt[ee]={language:kt,autoselect:!0,default:St==="main",playlists:gl([Bc(At)],Y),uri:""},tt===void 0&&St==="main"&&((tt=At).default=!0)),dt},{});return tt||(ft[Object.keys(ft)[0]].default=!0),ft}(j,i)),D.length&&(F.mediaGroups.SUBTITLES.subs=function(q,Y){return Y===void 0&&(Y={}),q.reduce(function(tt,ft){var dt=ft.attributes.lang||"text";return tt[dt]||(tt[dt]={language:dt,default:!1,autoselect:!1,playlists:gl([yl(ft)],Y),uri:""}),tt},{})}(D,i)),F},ad=function(n,i,e){var t=n.NOW,r=n.clientOffset,a=n.availabilityStartTime,f=n.timescale,y=f===void 0?1:f,j=n.start,D=j===void 0?0:j,F=n.minimumUpdatePeriod,q=(t+r)/1e3+(F===void 0?0:F)-(a+D);return Math.ceil((q*y-i)/e)},Fc=function(n,i){for(var e=n.type,t=e===void 0?"static":e,r=n.minimumUpdatePeriod,a=r===void 0?0:r,f=n.media,y=f===void 0?"":f,j=n.sourceDuration,D=n.timescale,F=D===void 0?1:D,q=n.startNumber,Y=q===void 0?1:q,tt=n.periodIndex,ft=[],dt=-1,At=0;At<i.length;At++){var St=i[At],kt=St.d,ee=St.r||0,ie=St.t||0;dt<0&&(dt=ie),ie&&ie>dt&&(dt=ie);var Ie=void 0;if(ee<0){var Fe=At+1;Ie=Fe===i.length?t==="dynamic"&&a>0&&y.indexOf("$Number$")>0?ad(n,dt,kt):(j*F-dt)/kt:(i[Fe].t-dt)/kt}else Ie=ee+1;for(var Ye=Y+ft.length+Ie,an=Y+ft.length;an<Ye;)ft.push({number:an,duration:kt/F,time:dt,timeline:tt}),dt+=kt,an++}return ft},h=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,O=function(n,i){return n.replace(h,function(e){return function(t,r,a,f){if(t==="$$")return"$";if(e[r]===void 0)return t;var y=""+e[r];return r==="RepresentationID"?y:(f=a?parseInt(f,10):1,y.length>=f?y:""+new Array(f-y.length+1).join("0")+y)}}(i))},L=function(n,i){var e={RepresentationID:n.id,Bandwidth:n.bandwidth||0},t=n.initialization,r=t===void 0?{sourceURL:"",range:""}:t,a=Tu({baseUrl:n.baseUrl,source:O(r.sourceURL,e),range:r.range});return function(f,y){return f.duration||y?f.duration?Su(f):Fc(f,y):[{number:f.startNumber||1,duration:f.sourceDuration,time:0,timeline:f.periodIndex}]}(n,i).map(function(f){e.Number=f.number,e.Time=f.time;var y=O(n.media||"",e);return{uri:y,timeline:f.timeline,duration:f.duration,resolvedUri:pl(n.baseUrl||"",y),map:a,number:f.number}})},M=function(n,i){var e=n.duration,t=n.segmentUrls,r=t===void 0?[]:t;if(!e&&!i||e&&i)throw new Error(cc);var a,f=r.map(function(y){return function(j,D){var F=j.baseUrl,q=j.initialization,Y=q===void 0?{}:q,tt=Tu({baseUrl:F,source:Y.sourceURL,range:Y.range}),ft=Tu({baseUrl:F,source:D.media,range:D.mediaRange});return ft.map=tt,ft}(n,y)});return e&&(a=Su(n)),i&&(a=Fc(n,i)),a.map(function(y,j){if(f[j]){var D=f[j];return D.timeline=y.timeline,D.duration=y.duration,D.number=y.number,D}}).filter(function(y){return y})},$=function(n){var i,e,t=n.attributes,r=n.segmentInfo;r.template?(e=L,i=xr(t,r.template)):r.base?(e=Uc,i=xr(t,r.base)):r.list&&(e=M,i=xr(t,r.list));var a={attributes:t};if(!e)return a;var f=e(i,r.timeline);if(i.duration){var y=i,j=y.duration,D=y.timescale,F=D===void 0?1:D;i.duration=j/F}else f.length?i.duration=f.reduce(function(q,Y){return Math.max(q,Math.ceil(Y.duration))},0):i.duration=0;return a.attributes=i,a.segments=f,r.base&&i.indexRange&&(a.sidx=f[0],a.segments=[]),a},N=function(n,i){return oc(n.childNodes).filter(function(e){return e.tagName===i})},et=function(n){return n.textContent.trim()},it=function(n){var i=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(n);if(!i)return 0;var e=i.slice(1),t=e[0],r=e[1],a=e[2],f=e[3],y=e[4],j=e[5];return 31536e3*parseFloat(t||0)+2592e3*parseFloat(r||0)+86400*parseFloat(a||0)+3600*parseFloat(f||0)+60*parseFloat(y||0)+parseFloat(j||0)},at={mediaPresentationDuration:function(n){return it(n)},availabilityStartTime:function(n){return function(i){return/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(i)&&(i+="Z"),Date.parse(i)}(n)/1e3},minimumUpdatePeriod:function(n){return it(n)},timeShiftBufferDepth:function(n){return it(n)},start:function(n){return it(n)},width:function(n){return parseInt(n,10)},height:function(n){return parseInt(n,10)},bandwidth:function(n){return parseInt(n,10)},startNumber:function(n){return parseInt(n,10)},timescale:function(n){return parseInt(n,10)},duration:function(n){var i=parseInt(n,10);return isNaN(i)?it(n):i},d:function(n){return parseInt(n,10)},t:function(n){return parseInt(n,10)},r:function(n){return parseInt(n,10)},DEFAULT:function(n){return n}},yt=function(n){return n&&n.attributes?oc(n.attributes).reduce(function(i,e){var t=at[e.name]||at.DEFAULT;return i[e.name]=t(e.value),i},{}):{}},Pt={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},wt=function(n,i){return i.length?Ri(n.map(function(e){return i.map(function(t){return pl(e,et(t))})})):n},Jt=function(n){var i=N(n,"SegmentTemplate")[0],e=N(n,"SegmentList")[0],t=e&&N(e,"SegmentURL").map(function(q){return xr({tag:"SegmentURL"},yt(q))}),r=N(n,"SegmentBase")[0],a=e||i,f=a&&N(a,"SegmentTimeline")[0],y=e||r||i,j=y&&N(y,"Initialization")[0],D=i&&yt(i);D&&j?D.initialization=j&&yt(j):D&&D.initialization&&(D.initialization={sourceURL:D.initialization});var F={template:D,timeline:f&&N(f,"S").map(function(q){return yt(q)}),list:e&&xr(yt(e),{segmentUrls:t,initialization:yt(j)}),base:r&&xr(yt(r),{initialization:yt(j)})};return Object.keys(F).forEach(function(q){F[q]||delete F[q]}),F},ne=function(n,i,e){return function(t){var r=yt(t),a=wt(i,N(t,"BaseURL")),f=N(t,"Role")[0],y={role:yt(f)},j=xr(n,r,y),D=function(tt){return tt.reduce(function(ft,dt){var At=yt(dt),St=Pt[At.schemeIdUri];if(St){ft[St]={attributes:At};var kt=N(dt,"cenc:pssh")[0];if(kt){var ee=et(kt),ie=ee&&wi(ee);ft[St].pssh=ie}}return ft},{})}(N(t,"ContentProtection"));Object.keys(D).length&&(j=xr(j,{contentProtection:D}));var F=Jt(t),q=N(t,"Representation"),Y=xr(e,F);return Ri(q.map(function(tt,ft,dt){return function(At){var St=N(At,"BaseURL"),kt=wt(ft,St),ee=xr(tt,yt(At)),ie=Jt(At);return kt.map(function(Ie){return{segmentInfo:xr(dt,ie),attributes:xr(ee,{baseUrl:Ie})}})}}(j,a,Y)))}},Yt=function(n,i){return function(e,t){var r=wt(i,N(e,"BaseURL")),a=yt(e),f=parseInt(a.id,10),y=x.isNaN(f)?t:f,j=xr(n,{periodIndex:y}),D=N(e,"AdaptationSet"),F=Jt(e);return Ri(D.map(ne(j,r,F)))}},Vt=function(n){if(n==="")throw new Error(sc);var i=new x.DOMParser().parseFromString(n,"application/xml"),e=i&&i.documentElement.tagName==="MPD"?i.documentElement:null;if(!e||e&&e.getElementsByTagName("parsererror").length>0)throw new Error(uc);return e},ye=function(n,i){return i===void 0&&(i={}),id(function(e){return e.map($)}(function(e,t){t===void 0&&(t={});var r=t,a=r.manifestUri,f=a===void 0?"":a,y=r.NOW,j=y===void 0?Date.now():y,D=r.clientOffset,F=D===void 0?0:D,q=N(e,"Period");if(!q.length)throw new Error(Dc);var Y=yt(e),tt=wt([f],N(e,"BaseURL"));return Y.sourceDuration=Y.mediaPresentationDuration||0,Y.NOW=j,Y.clientOffset=F,Ri(q.map(Yt(Y,tt)))}(Vt(n),i)),i.sidxMapping)},Ve=function(n){return function(i){var e=N(i,"UTCTiming")[0];if(!e)return null;var t=yt(e);switch(t.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":t.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":t.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":t.method="DIRECT",t.value=Date.parse(t.value);break;case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:throw new Error(hl)}return t}(Vt(n))},ze=function(n){return n>>>0};nc=function(n){return Zi(n,["moov","trak"]).reduce(function(i,e){var t,r,a,f,y;return(t=Zi(e,["tkhd"])[0])?(r=t[0],f=ze(t[a=r===0?12:20]<<24|t[a+1]<<16|t[a+2]<<8|t[a+3]),(y=Zi(e,["mdia","mdhd"])[0])?(a=(r=y[0])===0?12:20,i[f]=ze(y[a]<<24|y[a+1]<<16|y[a+2]<<8|y[a+3]),i):null):null},{})},bu=function(n,i){var e,t,r;return e=Zi(i,["moof","traf"]),t=[].concat.apply([],e.map(function(a){return Zi(a,["tfhd"]).map(function(f){var y,j;return y=ze(f[4]<<24|f[5]<<16|f[6]<<8|f[7]),j=n[y]||9e4,(Zi(a,["tfdt"]).map(function(D){var F,q;return F=D[0],q=ze(D[4]<<24|D[5]<<16|D[6]<<8|D[7]),F===1&&(q*=Math.pow(2,32),q+=ze(D[8]<<24|D[9]<<16|D[10]<<8|D[11])),q})[0]||1/0)/j})})),r=Math.min.apply(null,t),isFinite(r)?r:0},rc=function(n){var i=Zi(n,["moov","trak"]),e=[];return i.forEach(function(t){var r=Zi(t,["mdia","hdlr"]),a=Zi(t,["tkhd"]);r.forEach(function(f,y){var j,D,F=dl(f.subarray(8,12)),q=a[y];F==="vide"&&(D=(j=new DataView(q.buffer,q.byteOffset,q.byteLength)).getUint8(0)===0?j.getUint32(12):j.getUint32(20),e.push(D))})}),e};var Ze,An,Pe,gn,Mt,Nt,_e,He,dn,fn,Tn,Pn,Hn,er,qn,$n,xe,Rn,Nn,Mn,Zr,mo,bi,wn,we,Fn,tn,Ln,Or,Cr,zr,vo,dc,fc,Ti,wu,jd,xd,Ca={findBox:Zi=function(n,i){var e,t,r,a,f,y=[];if(!i.length)return null;for(e=0;e<n.byteLength;)t=ze(n[e]<<24|n[e+1]<<16|n[e+2]<<8|n[e+3]),r=dl(n.subarray(e+4,e+8)),a=t>1?e+t:n.byteLength,r===i[0]&&(i.length===1?y.push(n.subarray(e+8,a)):(f=Zi(n.subarray(e+8,a),i.slice(1))).length&&(y=y.concat(f))),e=a;return y},parseType:dl=function(n){var i="";return i+=String.fromCharCode(n[0]),i+=String.fromCharCode(n[1]),(i+=String.fromCharCode(n[2]))+String.fromCharCode(n[3])},timescale:nc,startTime:bu,videoTrackIds:rc},Aa=Ca.parseType,ln=function(n){return new Date(1e3*n-20828448e5)},od=function(n){return{isLeading:(12&n[0])>>>2,dependsOn:3&n[0],isDependedOn:(192&n[1])>>>6,hasRedundancy:(48&n[1])>>>4,paddingValue:(14&n[1])>>>1,isNonSyncSample:1&n[1],degradationPriority:n[2]<<8|n[3]}},ja=function(n){var i,e,t=new DataView(n.buffer,n.byteOffset,n.byteLength),r=[];for(i=0;i+4<n.length;i+=e)if(e=t.getUint32(i),i+=4,e<=0)r.push("<span style='color:red;'>MALFORMED DATA</span>");else switch(31&n[i]){case 1:r.push("slice_layer_without_partitioning_rbsp");break;case 5:r.push("slice_layer_without_partitioning_rbsp_idr");break;case 6:r.push("sei_rbsp");break;case 7:r.push("seq_parameter_set_rbsp");break;case 8:r.push("pic_parameter_set_rbsp");break;case 9:r.push("access_unit_delimiter_rbsp");break;default:r.push("UNKNOWN NAL - "+n[i]&31)}return r},As={avc1:function(n){var i=new DataView(n.buffer,n.byteOffset,n.byteLength);return{dataReferenceIndex:i.getUint16(6),width:i.getUint16(24),height:i.getUint16(26),horizresolution:i.getUint16(28)+i.getUint16(30)/16,vertresolution:i.getUint16(32)+i.getUint16(34)/16,frameCount:i.getUint16(40),depth:i.getUint16(74),config:Ze(n.subarray(78,n.byteLength))}},avcC:function(n){var i,e,t,r,a=new DataView(n.buffer,n.byteOffset,n.byteLength),f={configurationVersion:n[0],avcProfileIndication:n[1],profileCompatibility:n[2],avcLevelIndication:n[3],lengthSizeMinusOne:3&n[4],sps:[],pps:[]},y=31&n[5];for(t=6,r=0;r<y;r++)e=a.getUint16(t),t+=2,f.sps.push(new Uint8Array(n.subarray(t,t+e))),t+=e;for(i=n[t],t++,r=0;r<i;r++)e=a.getUint16(t),t+=2,f.pps.push(new Uint8Array(n.subarray(t,t+e))),t+=e;return f},btrt:function(n){var i=new DataView(n.buffer,n.byteOffset,n.byteLength);return{bufferSizeDB:i.getUint32(0),maxBitrate:i.getUint32(4),avgBitrate:i.getUint32(8)}},esds:function(n){return{version:n[0],flags:new Uint8Array(n.subarray(1,4)),esId:n[6]<<8|n[7],streamPriority:31&n[8],decoderConfig:{objectProfileIndication:n[11],streamType:n[12]>>>2&63,bufferSize:n[13]<<16|n[14]<<8|n[15],maxBitrate:n[16]<<24|n[17]<<16|n[18]<<8|n[19],avgBitrate:n[20]<<24|n[21]<<16|n[22]<<8|n[23],decoderConfigDescriptor:{tag:n[24],length:n[25],audioObjectType:n[26]>>>3&31,samplingFrequencyIndex:(7&n[26])<<1|n[27]>>>7&1,channelConfiguration:n[27]>>>3&15}}}},ftyp:function(n){for(var i=new DataView(n.buffer,n.byteOffset,n.byteLength),e={majorBrand:Aa(n.subarray(0,4)),minorVersion:i.getUint32(4),compatibleBrands:[]},t=8;t<n.byteLength;)e.compatibleBrands.push(Aa(n.subarray(t,t+4))),t+=4;return e},dinf:function(n){return{boxes:Ze(n)}},dref:function(n){return{version:n[0],flags:new Uint8Array(n.subarray(1,4)),dataReferences:Ze(n.subarray(8))}},hdlr:function(n){var i={version:new DataView(n.buffer,n.byteOffset,n.byteLength).getUint8(0),flags:new Uint8Array(n.subarray(1,4)),handlerType:Aa(n.subarray(8,12)),name:""},e=8;for(e=24;e<n.byteLength;e++){if(n[e]===0){e++;break}i.name+=String.fromCharCode(n[e])}return i.name=decodeURIComponent(escape(i.name)),i},mdat:function(n){return{byteLength:n.byteLength,nals:ja(n)}},mdhd:function(n){var i,e=new DataView(n.buffer,n.byteOffset,n.byteLength),t=4,r={version:e.getUint8(0),flags:new Uint8Array(n.subarray(1,4)),language:""};return r.version===1?(t+=4,r.creationTime=ln(e.getUint32(t)),t+=8,r.modificationTime=ln(e.getUint32(t)),t+=4,r.timescale=e.getUint32(t),t+=8,r.duration=e.getUint32(t)):(r.creationTime=ln(e.getUint32(t)),t+=4,r.modificationTime=ln(e.getUint32(t)),t+=4,r.timescale=e.getUint32(t),t+=4,r.duration=e.getUint32(t)),t+=4,i=e.getUint16(t),r.language+=String.fromCharCode(96+(i>>10)),r.language+=String.fromCharCode(96+((992&i)>>5)),r.language+=String.fromCharCode(96+(31&i)),r},mdia:function(n){return{boxes:Ze(n)}},mfhd:function(n){return{version:n[0],flags:new Uint8Array(n.subarray(1,4)),sequenceNumber:n[4]<<24|n[5]<<16|n[6]<<8|n[7]}},minf:function(n){return{boxes:Ze(n)}},mp4a:function(n){var i=new DataView(n.buffer,n.byteOffset,n.byteLength),e={dataReferenceIndex:i.getUint16(6),channelcount:i.getUint16(16),samplesize:i.getUint16(18),samplerate:i.getUint16(24)+i.getUint16(26)/65536};return n.byteLength>28&&(e.streamDescriptor=Ze(n.subarray(28))[0]),e},moof:function(n){return{boxes:Ze(n)}},moov:function(n){return{boxes:Ze(n)}},mvex:function(n){return{boxes:Ze(n)}},mvhd:function(n){var i=new DataView(n.buffer,n.byteOffset,n.byteLength),e=4,t={version:i.getUint8(0),flags:new Uint8Array(n.subarray(1,4))};return t.version===1?(e+=4,t.creationTime=ln(i.getUint32(e)),e+=8,t.modificationTime=ln(i.getUint32(e)),e+=4,t.timescale=i.getUint32(e),e+=8,t.duration=i.getUint32(e)):(t.creationTime=ln(i.getUint32(e)),e+=4,t.modificationTime=ln(i.getUint32(e)),e+=4,t.timescale=i.getUint32(e),e+=4,t.duration=i.getUint32(e)),e+=4,t.rate=i.getUint16(e)+i.getUint16(e+2)/16,e+=4,t.volume=i.getUint8(e)+i.getUint8(e+1)/8,e+=2,e+=2,e+=8,t.matrix=new Uint32Array(n.subarray(e,e+36)),e+=36,e+=24,t.nextTrackId=i.getUint32(e),t},pdin:function(n){var i=new DataView(n.buffer,n.byteOffset,n.byteLength);return{version:i.getUint8(0),flags:new Uint8Array(n.subarray(1,4)),rate:i.getUint32(4),initialDelay:i.getUint32(8)}},sdtp:function(n){var i,e={version:n[0],flags:new Uint8Array(n.subarray(1,4)),samples:[]};for(i=4;i<n.byteLength;i++)e.samples.push({dependsOn:(48&n[i])>>4,isDependedOn:(12&n[i])>>2,hasRedundancy:3&n[i]});return e},sidx:function(n){var i,e=new DataView(n.buffer,n.byteOffset,n.byteLength),t={version:n[0],flags:new Uint8Array(n.subarray(1,4)),references:[],referenceId:e.getUint32(4),timescale:e.getUint32(8),earliestPresentationTime:e.getUint32(12),firstOffset:e.getUint32(16)},r=e.getUint16(22);for(i=24;r;i+=12,r--)t.references.push({referenceType:(128&n[i])>>>7,referencedSize:2147483647&e.getUint32(i),subsegmentDuration:e.getUint32(i+4),startsWithSap:!!(128&n[i+8]),sapType:(112&n[i+8])>>>4,sapDeltaTime:268435455&e.getUint32(i+8)});return t},smhd:function(n){return{version:n[0],flags:new Uint8Array(n.subarray(1,4)),balance:n[4]+n[5]/256}},stbl:function(n){return{boxes:Ze(n)}},stco:function(n){var i,e=new DataView(n.buffer,n.byteOffset,n.byteLength),t={version:n[0],flags:new Uint8Array(n.subarray(1,4)),chunkOffsets:[]},r=e.getUint32(4);for(i=8;r;i+=4,r--)t.chunkOffsets.push(e.getUint32(i));return t},stsc:function(n){var i,e=new DataView(n.buffer,n.byteOffset,n.byteLength),t=e.getUint32(4),r={version:n[0],flags:new Uint8Array(n.subarray(1,4)),sampleToChunks:[]};for(i=8;t;i+=12,t--)r.sampleToChunks.push({firstChunk:e.getUint32(i),samplesPerChunk:e.getUint32(i+4),sampleDescriptionIndex:e.getUint32(i+8)});return r},stsd:function(n){return{version:n[0],flags:new Uint8Array(n.subarray(1,4)),sampleDescriptions:Ze(n.subarray(8))}},stsz:function(n){var i,e=new DataView(n.buffer,n.byteOffset,n.byteLength),t={version:n[0],flags:new Uint8Array(n.subarray(1,4)),sampleSize:e.getUint32(4),entries:[]};for(i=12;i<n.byteLength;i+=4)t.entries.push(e.getUint32(i));return t},stts:function(n){var i,e=new DataView(n.buffer,n.byteOffset,n.byteLength),t={version:n[0],flags:new Uint8Array(n.subarray(1,4)),timeToSamples:[]},r=e.getUint32(4);for(i=8;r;i+=8,r--)t.timeToSamples.push({sampleCount:e.getUint32(i),sampleDelta:e.getUint32(i+4)});return t},styp:function(n){return As.ftyp(n)},tfdt:function(n){var i={version:n[0],flags:new Uint8Array(n.subarray(1,4)),baseMediaDecodeTime:n[4]<<24|n[5]<<16|n[6]<<8|n[7]};return i.version===1&&(i.baseMediaDecodeTime*=Math.pow(2,32),i.baseMediaDecodeTime+=n[8]<<24|n[9]<<16|n[10]<<8|n[11]),i},tfhd:function(n){var i,e=new DataView(n.buffer,n.byteOffset,n.byteLength),t={version:n[0],flags:new Uint8Array(n.subarray(1,4)),trackId:e.getUint32(4)},r=1&t.flags[2],a=2&t.flags[2],f=8&t.flags[2],y=16&t.flags[2],j=32&t.flags[2],D=65536&t.flags[0],F=131072&t.flags[0];return i=8,r&&(i+=4,t.baseDataOffset=e.getUint32(12),i+=4),a&&(t.sampleDescriptionIndex=e.getUint32(i),i+=4),f&&(t.defaultSampleDuration=e.getUint32(i),i+=4),y&&(t.defaultSampleSize=e.getUint32(i),i+=4),j&&(t.defaultSampleFlags=e.getUint32(i)),D&&(t.durationIsEmpty=!0),!r&&F&&(t.baseDataOffsetIsMoof=!0),t},tkhd:function(n){var i=new DataView(n.buffer,n.byteOffset,n.byteLength),e=4,t={version:i.getUint8(0),flags:new Uint8Array(n.subarray(1,4))};return t.version===1?(e+=4,t.creationTime=ln(i.getUint32(e)),e+=8,t.modificationTime=ln(i.getUint32(e)),e+=4,t.trackId=i.getUint32(e),e+=4,e+=8,t.duration=i.getUint32(e)):(t.creationTime=ln(i.getUint32(e)),e+=4,t.modificationTime=ln(i.getUint32(e)),e+=4,t.trackId=i.getUint32(e),e+=4,e+=4,t.duration=i.getUint32(e)),e+=4,e+=8,t.layer=i.getUint16(e),e+=2,t.alternateGroup=i.getUint16(e),e+=2,t.volume=i.getUint8(e)+i.getUint8(e+1)/8,e+=2,e+=2,t.matrix=new Uint32Array(n.subarray(e,e+36)),e+=36,t.width=i.getUint16(e)+i.getUint16(e+2)/16,e+=4,t.height=i.getUint16(e)+i.getUint16(e+2)/16,t},traf:function(n){return{boxes:Ze(n)}},trak:function(n){return{boxes:Ze(n)}},trex:function(n){var i=new DataView(n.buffer,n.byteOffset,n.byteLength);return{version:n[0],flags:new Uint8Array(n.subarray(1,4)),trackId:i.getUint32(4),defaultSampleDescriptionIndex:i.getUint32(8),defaultSampleDuration:i.getUint32(12),defaultSampleSize:i.getUint32(16),sampleDependsOn:3&n[20],sampleIsDependedOn:(192&n[21])>>6,sampleHasRedundancy:(48&n[21])>>4,samplePaddingValue:(14&n[21])>>1,sampleIsDifferenceSample:!!(1&n[21]),sampleDegradationPriority:i.getUint16(22)}},trun:function(n){var i,e={version:n[0],flags:new Uint8Array(n.subarray(1,4)),samples:[]},t=new DataView(n.buffer,n.byteOffset,n.byteLength),r=1&e.flags[2],a=4&e.flags[2],f=1&e.flags[1],y=2&e.flags[1],j=4&e.flags[1],D=8&e.flags[1],F=t.getUint32(4),q=8;for(r&&(e.dataOffset=t.getInt32(q),q+=4),a&&F&&(i={flags:od(n.subarray(q,q+4))},q+=4,f&&(i.duration=t.getUint32(q),q+=4),y&&(i.size=t.getUint32(q),q+=4),D&&(i.compositionTimeOffset=t.getUint32(q),q+=4),e.samples.push(i),F--);F--;)i={},f&&(i.duration=t.getUint32(q),q+=4),y&&(i.size=t.getUint32(q),q+=4),j&&(i.flags=od(n.subarray(q,q+4)),q+=4),D&&(i.compositionTimeOffset=t.getUint32(q),q+=4),e.samples.push(i);return e},"url ":function(n){return{version:n[0],flags:new Uint8Array(n.subarray(1,4))}},vmhd:function(n){var i=new DataView(n.buffer,n.byteOffset,n.byteLength);return{version:n[0],flags:new Uint8Array(n.subarray(1,4)),graphicsmode:i.getUint16(4),opcolor:new Uint16Array([i.getUint16(6),i.getUint16(8),i.getUint16(10)])}}},Yn={inspect:Ze=function(n){for(var i,e,t,r,a,f=0,y=[],j=new ArrayBuffer(n.length),D=new Uint8Array(j),F=0;F<n.length;++F)D[F]=n[F];for(i=new DataView(j);f<n.byteLength;)e=i.getUint32(f),t=Aa(n.subarray(f+4,f+8)),r=e>1?f+e:n.byteLength,(a=(As[t]||function(q){return{data:q}})(n.subarray(f+8,r))).size=e,a.type=t,y.push(a),f=r;return y},textify:An=function(n,i){var e;return i=i||0,e=new Array(2*i+1).join(" "),n.map(function(t,r){return e+t.type+`
`+Object.keys(t).filter(function(a){return a!=="type"&&a!=="boxes"}).map(function(a){var f=e+"  "+a+": ",y=t[a];if(y instanceof Uint8Array||y instanceof Uint32Array){var j=Array.prototype.slice.call(new Uint8Array(y.buffer,y.byteOffset,y.byteLength)).map(function(D){return" "+("00"+D.toString(16)).slice(-2)}).join("").match(/.{1,24}/g);return j?j.length===1?f+"<"+j.join("").slice(1)+">":f+`<
`+j.map(function(D){return e+"  "+D}).join(`
`)+`
`+e+"  >":f+"<>"}return f+JSON.stringify(y,null,2).split(`
`).map(function(D,F){return F===0?D:e+"  "+D}).join(`
`)}).join(`
`)+(t.boxes?`
`+An(t.boxes,i+1):"")}).join(`
`)},parseTfdt:As.tfdt,parseHdlr:As.hdlr,parseTfhd:As.tfhd,parseTrun:As.trun,parseSidx:As.sidx},Od=Math.pow(2,32)-1;(function(){var n;if(we={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},typeof Uint8Array!="undefined"){for(n in we)we.hasOwnProperty(n)&&(we[n]=[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3)]);Fn=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),Ln=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),tn=new Uint8Array([0,0,0,1]),Or=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),Cr=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),zr={video:Or,audio:Cr},fc=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),dc=new Uint8Array([0,0,0,0,0,0,0,0]),Ti=new Uint8Array([0,0,0,0,0,0,0,0]),wu=Ti,jd=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),xd=Ti,vo=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}})(),Pe=function(n){var i,e,t=[],r=0;for(i=1;i<arguments.length;i++)t.push(arguments[i]);for(i=t.length;i--;)r+=t[i].byteLength;for(e=new Uint8Array(r+8),new DataView(e.buffer,e.byteOffset,e.byteLength).setUint32(0,e.byteLength),e.set(n,4),i=0,r=8;i<t.length;i++)e.set(t[i],r),r+=t[i].byteLength;return e},gn=function(){return Pe(we.dinf,Pe(we.dref,fc))},Mt=function(n){return Pe(we.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,n.audioobjecttype<<3|n.samplingfrequencyindex>>>1,n.samplingfrequencyindex<<7|n.channelcount<<3,6,1,2]))},Nt=function(){return Pe(we.ftyp,Fn,tn,Fn,Ln)},Rn=function(n){return Pe(we.hdlr,zr[n])},_e=function(n){return Pe(we.mdat,n)},xe=function(n){var i=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,n.duration>>>24&255,n.duration>>>16&255,n.duration>>>8&255,255&n.duration,85,196,0,0]);return n.samplerate&&(i[12]=n.samplerate>>>24&255,i[13]=n.samplerate>>>16&255,i[14]=n.samplerate>>>8&255,i[15]=255&n.samplerate),Pe(we.mdhd,i)},$n=function(n){return Pe(we.mdia,xe(n),Rn(n.type),dn(n))},He=function(n){return Pe(we.mfhd,new Uint8Array([0,0,0,0,(4278190080&n)>>24,(16711680&n)>>16,(65280&n)>>8,255&n]))},dn=function(n){return Pe(we.minf,n.type==="video"?Pe(we.vmhd,vo):Pe(we.smhd,dc),gn(),Mn(n))},fn=function(n,i){for(var e=[],t=i.length;t--;)e[t]=mo(i[t]);return Pe.apply(null,[we.moof,He(n)].concat(e))},Tn=function(n){for(var i=n.length,e=[];i--;)e[i]=er(n[i]);return Pe.apply(null,[we.moov,Hn(4294967295)].concat(e).concat(Pn(n)))},Pn=function(n){for(var i=n.length,e=[];i--;)e[i]=bi(n[i]);return Pe.apply(null,[we.mvex].concat(e))},Hn=function(n){var i=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(4278190080&n)>>24,(16711680&n)>>16,(65280&n)>>8,255&n,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return Pe(we.mvhd,i)},Nn=function(n){var i,e,t=n.samples||[],r=new Uint8Array(4+t.length);for(e=0;e<t.length;e++)i=t[e].flags,r[e+4]=i.dependsOn<<4|i.isDependedOn<<2|i.hasRedundancy;return Pe(we.sdtp,r)},Mn=function(n){return Pe(we.stbl,Zr(n),Pe(we.stts,xd),Pe(we.stsc,wu),Pe(we.stsz,jd),Pe(we.stco,Ti))},function(){var n,i;Zr=function(e){return Pe(we.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),e.type==="video"?n(e):i(e))},n=function(e){var t,r=e.sps||[],a=e.pps||[],f=[],y=[];for(t=0;t<r.length;t++)f.push((65280&r[t].byteLength)>>>8),f.push(255&r[t].byteLength),f=f.concat(Array.prototype.slice.call(r[t]));for(t=0;t<a.length;t++)y.push((65280&a[t].byteLength)>>>8),y.push(255&a[t].byteLength),y=y.concat(Array.prototype.slice.call(a[t]));return Pe(we.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&e.width)>>8,255&e.width,(65280&e.height)>>8,255&e.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),Pe(we.avcC,new Uint8Array([1,e.profileIdc,e.profileCompatibility,e.levelIdc,255].concat([r.length]).concat(f).concat([a.length]).concat(y))),Pe(we.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])))},i=function(e){return Pe(we.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(65280&e.channelcount)>>8,255&e.channelcount,(65280&e.samplesize)>>8,255&e.samplesize,0,0,0,0,(65280&e.samplerate)>>8,255&e.samplerate,0,0]),Mt(e))}}(),qn=function(n){var i=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(4278190080&n.id)>>24,(16711680&n.id)>>16,(65280&n.id)>>8,255&n.id,0,0,0,0,(4278190080&n.duration)>>24,(16711680&n.duration)>>16,(65280&n.duration)>>8,255&n.duration,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(65280&n.width)>>8,255&n.width,0,0,(65280&n.height)>>8,255&n.height,0,0]);return Pe(we.tkhd,i)},mo=function(n){var i,e,t,r,a,f;return i=Pe(we.tfhd,new Uint8Array([0,0,0,58,(4278190080&n.id)>>24,(16711680&n.id)>>16,(65280&n.id)>>8,255&n.id,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),a=Math.floor(n.baseMediaDecodeTime/(Od+1)),f=Math.floor(n.baseMediaDecodeTime%(Od+1)),e=Pe(we.tfdt,new Uint8Array([1,0,0,0,a>>>24&255,a>>>16&255,a>>>8&255,255&a,f>>>24&255,f>>>16&255,f>>>8&255,255&f])),n.type==="audio"?(t=wn(n,92),Pe(we.traf,i,e,t)):(r=Nn(n),t=wn(n,r.length+92),Pe(we.traf,i,e,t,r))},er=function(n){return n.duration=n.duration||4294967295,Pe(we.trak,qn(n),$n(n))},bi=function(n){var i=new Uint8Array([0,0,0,0,(4278190080&n.id)>>24,(16711680&n.id)>>16,(65280&n.id)>>8,255&n.id,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return n.type!=="video"&&(i[i.length-1]=0),Pe(we.trex,i)},function(){var n,i,e;e=function(t,r){var a=0,f=0,y=0,j=0;return t.length&&(t[0].duration!==void 0&&(a=1),t[0].size!==void 0&&(f=2),t[0].flags!==void 0&&(y=4),t[0].compositionTimeOffset!==void 0&&(j=8)),[0,0,a|f|y|j,1,(4278190080&t.length)>>>24,(16711680&t.length)>>>16,(65280&t.length)>>>8,255&t.length,(4278190080&r)>>>24,(16711680&r)>>>16,(65280&r)>>>8,255&r]},i=function(t,r){var a,f,y,j;for(r+=20+16*(f=t.samples||[]).length,a=e(f,r),j=0;j<f.length;j++)y=f[j],a=a.concat([(4278190080&y.duration)>>>24,(16711680&y.duration)>>>16,(65280&y.duration)>>>8,255&y.duration,(4278190080&y.size)>>>24,(16711680&y.size)>>>16,(65280&y.size)>>>8,255&y.size,y.flags.isLeading<<2|y.flags.dependsOn,y.flags.isDependedOn<<6|y.flags.hasRedundancy<<4|y.flags.paddingValue<<1|y.flags.isNonSyncSample,61440&y.flags.degradationPriority,15&y.flags.degradationPriority,(4278190080&y.compositionTimeOffset)>>>24,(16711680&y.compositionTimeOffset)>>>16,(65280&y.compositionTimeOffset)>>>8,255&y.compositionTimeOffset]);return Pe(we.trun,new Uint8Array(a))},n=function(t,r){var a,f,y,j;for(r+=20+8*(f=t.samples||[]).length,a=e(f,r),j=0;j<f.length;j++)y=f[j],a=a.concat([(4278190080&y.duration)>>>24,(16711680&y.duration)>>>16,(65280&y.duration)>>>8,255&y.duration,(4278190080&y.size)>>>24,(16711680&y.size)>>>16,(65280&y.size)>>>8,255&y.size]);return Pe(we.trun,new Uint8Array(a))},wn=function(t,r){return t.type==="audio"?n(t,r):i(t,r)}}();var ku={ftyp:Nt,mdat:_e,moof:fn,moov:Tn,initSegment:function(n){var i,e=Nt(),t=Tn(n);return(i=new Uint8Array(e.byteLength+t.byteLength)).set(e),i.set(t,e.byteLength),i}},Eu=function(){this.init=function(){var n={};this.on=function(i,e){n[i]||(n[i]=[]),n[i]=n[i].concat(e)},this.off=function(i,e){var t;return!!n[i]&&(t=n[i].indexOf(e),n[i]=n[i].slice(),n[i].splice(t,1),t>-1)},this.trigger=function(i){var e,t,r,a;if(e=n[i])if(arguments.length===2)for(r=e.length,t=0;t<r;++t)e[t].call(this,arguments[1]);else{for(a=[],t=arguments.length,t=1;t<arguments.length;++t)a.push(arguments[t]);for(r=e.length,t=0;t<r;++t)e[t].apply(this,a)}},this.dispose=function(){n={}}}};Eu.prototype.pipe=function(n){return this.on("data",function(i){n.push(i)}),this.on("done",function(i){n.flush(i)}),n},Eu.prototype.push=function(n){this.trigger("data",n)},Eu.prototype.flush=function(n){this.trigger("done",n)};var Ld,Pd,Rd,Id,Vc,Hc,Ii=Eu,lf=function(n,i){var e={size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}};return e.dataOffset=i,e.compositionTimeOffset=n.pts-n.dts,e.duration=n.duration,e.size=4*n.length,e.size+=n.byteLength,n.keyFrame&&(e.flags.dependsOn=2,e.flags.isNonSyncSample=0),e},cf=function(n){var i,e,t=[],r=[];for(t.byteLength=0,i=0;i<n.length;i++)(e=n[i]).nalUnitType==="access_unit_delimiter_rbsp"?(t.length&&(t.duration=e.dts-t.dts,r.push(t)),(t=[e]).byteLength=e.data.byteLength,t.pts=e.pts,t.dts=e.dts):(e.nalUnitType==="slice_layer_without_partitioning_rbsp_idr"&&(t.keyFrame=!0),t.duration=e.dts-t.dts,t.byteLength+=e.data.byteLength,t.push(e));return r.length&&(!t.duration||t.duration<=0)&&(t.duration=r[r.length-1].duration),r.push(t),r},Qr=function(n){var i,e,t=[],r=[];for(t.byteLength=0,t.nalCount=0,t.duration=0,t.pts=n[0].pts,t.dts=n[0].dts,r.byteLength=0,r.nalCount=0,r.duration=0,r.pts=n[0].pts,r.dts=n[0].dts,i=0;i<n.length;i++)(e=n[i]).keyFrame?(t.length&&(r.push(t),r.byteLength+=t.byteLength,r.nalCount+=t.nalCount,r.duration+=t.duration),(t=[e]).nalCount=e.length,t.byteLength=e.byteLength,t.pts=e.pts,t.dts=e.dts,t.duration=e.duration):(t.duration+=e.duration,t.nalCount+=e.length,t.byteLength+=e.byteLength,t.push(e));return r.length&&t.duration<=0&&(t.duration=r[r.length-1].duration),r.byteLength+=t.byteLength,r.nalCount+=t.nalCount,r.duration+=t.duration,r.push(t),r},Qi=function(n){var i;return!n[0][0].keyFrame&&n.length>1&&(i=n.shift(),n.byteLength-=i.byteLength,n.nalCount-=i.nalCount,n[0][0].dts=i.dts,n[0][0].pts=i.pts,n[0][0].duration+=i.duration),n},df=function(n,i){var e,t,r,a,f,y=i||0,j=[];for(e=0;e<n.length;e++)for(a=n[e],t=0;t<a.length;t++)f=a[t],y+=(r=lf(f,y)).size,j.push(r);return j},Dd=function(n){var i,e,t,r,a,f,y=0,j=n.byteLength,D=n.nalCount,F=new Uint8Array(j+4*D),q=new DataView(F.buffer);for(i=0;i<n.length;i++)for(r=n[i],e=0;e<r.length;e++)for(a=r[e],t=0;t<a.length;t++)f=a[t],q.setUint32(y,f.data.byteLength),y+=4,F.set(f.data,y),y+=f.data.byteLength;return F},js=[33,16,5,32,164,27],sd=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],rr=function(n){for(var i=[];n--;)i.push(0);return i},Md=function(n){return Object.keys(n).reduce(function(i,e){return i[e]=new Uint8Array(n[e].reduce(function(t,r){return t.concat(r)},[])),i},{})}({96e3:[js,[227,64],rr(154),[56]],88200:[js,[231],rr(170),[56]],64e3:[js,[248,192],rr(240),[56]],48e3:[js,[255,192],rr(268),[55,148,128],rr(54),[112]],44100:[js,[255,192],rr(268),[55,163,128],rr(84),[112]],32e3:[js,[255,192],rr(268),[55,234],rr(226),[112]],24e3:[js,[255,192],rr(268),[55,255,128],rr(268),[111,112],rr(126),[224]],16e3:[js,[255,192],rr(268),[55,255,128],rr(268),[111,255],rr(269),[223,108],rr(195),[1,192]],12e3:[sd,rr(268),[3,127,248],rr(268),[6,255,240],rr(268),[13,255,224],rr(268),[27,253,128],rr(259),[56]],11025:[sd,rr(268),[3,127,248],rr(268),[6,255,240],rr(268),[13,255,224],rr(268),[27,255,192],rr(268),[55,175,128],rr(108),[112]],8e3:[sd,rr(268),[3,121,16],rr(47),[7]]});Vc=function(n,i){return Ld(Id(n,i))},Hc=function(n,i){return Pd(Rd(n),i)},Ld=function(n){return 9e4*n},Pd=function(n,i){return n*i},Rd=function(n){return n/9e4},Id=function(n,i){return n/i};var Ud=Vc,_l=Hc,ff=function(n,i,e,t){var r,a,f,y=0,j=0,D=0,F=0;if(i.length&&(r=Ud(n.baseMediaDecodeTime,n.samplerate),y=Math.ceil(9e4/(n.samplerate/1024)),e&&t&&(j=r-Math.max(e,t),F=(D=Math.floor(j/y))*y),!(D<1||F>45e3))){for((a=Md[n.samplerate])||(a=i[0].data),f=0;f<D;f++)i.splice(f,0,{data:a});n.baseMediaDecodeTime-=Math.floor(_l(F,n.samplerate))}},Bd=function(n,i,e){return i.minSegmentDts>=e?n:(i.minSegmentDts=1/0,n.filter(function(t){return t.dts>=e&&(i.minSegmentDts=Math.min(i.minSegmentDts,t.dts),i.minSegmentPts=i.minSegmentDts,!0)}))},Nd=function(n){var i,e,t=[];for(i=0;i<n.length;i++)e=n[i],t.push({size:e.data.byteLength,duration:1024});return t},hf=function(n){var i,e,t=0,r=new Uint8Array(function(a){var f,y=0;for(f=0;f<a.length;f++)y+=a[f].data.byteLength;return y}(n));for(i=0;i<n.length;i++)e=n[i],r.set(e.data,t),t+=e.data.byteLength;return r},hc=function(n){delete n.minSegmentDts,delete n.maxSegmentDts,delete n.minSegmentPts,delete n.maxSegmentPts},Fd=function(n,i){var e,t=n.minSegmentDts;return i||(t-=n.timelineStartInfo.dts),e=n.timelineStartInfo.baseMediaDecodeTime,e+=t,e=Math.max(0,e),n.type==="audio"&&(e*=n.samplerate/9e4,e=Math.floor(e)),e},ud=function(n,i){typeof i.pts=="number"&&(n.timelineStartInfo.pts===void 0&&(n.timelineStartInfo.pts=i.pts),n.minSegmentPts===void 0?n.minSegmentPts=i.pts:n.minSegmentPts=Math.min(n.minSegmentPts,i.pts),n.maxSegmentPts===void 0?n.maxSegmentPts=i.pts:n.maxSegmentPts=Math.max(n.maxSegmentPts,i.pts)),typeof i.dts=="number"&&(n.timelineStartInfo.dts===void 0&&(n.timelineStartInfo.dts=i.dts),n.minSegmentDts===void 0?n.minSegmentDts=i.dts:n.minSegmentDts=Math.min(n.minSegmentDts,i.dts),n.maxSegmentDts===void 0?n.maxSegmentDts=i.dts:n.maxSegmentDts=Math.max(n.maxSegmentDts,i.dts))},pf=function(n){for(var i=0,e={payloadType:-1,payloadSize:0},t=0,r=0;i<n.byteLength&&n[i]!==128;){for(;n[i]===255;)t+=255,i++;for(t+=n[i++];n[i]===255;)r+=255,i++;if(r+=n[i++],!e.payload&&t===4){e.payloadType=t,e.payloadSize=r,e.payload=n.subarray(i,i+r);break}i+=r,t=0,r=0}return e},mf=function(n){return n.payload[0]!==181||(n.payload[1]<<8|n.payload[2])!=49||String.fromCharCode(n.payload[3],n.payload[4],n.payload[5],n.payload[6])!=="GA94"||n.payload[7]!==3?null:n.payload.subarray(8,n.payload.length-1)},ld=function(n,i){var e,t,r,a,f=[];if(!(64&i[0]))return f;for(t=31&i[0],e=0;e<t;e++)a={type:3&i[(r=3*e)+2],pts:n},4&i[r+2]&&(a.ccData=i[r+3]<<8|i[r+4],f.push(a));return f},Vd=function(n){for(var i,e,t=n.byteLength,r=[],a=1;a<t-2;)n[a]===0&&n[a+1]===0&&n[a+2]===3?(r.push(a+2),a+=2):a++;if(r.length===0)return n;i=t-r.length,e=new Uint8Array(i);var f=0;for(a=0;a<i;f++,a++)f===r[0]&&(f++,r.shift()),e[a]=n[f];return e},Hd=4,xs=function n(){n.prototype.init.call(this),this.captionPackets_=[],this.ccStreams_=[new mr(0,0),new mr(0,1),new mr(1,0),new mr(1,1)],this.reset(),this.ccStreams_.forEach(function(i){i.on("data",this.trigger.bind(this,"data")),i.on("done",this.trigger.bind(this,"done"))},this)};(xs.prototype=new Ii).push=function(n){var i,e,t;if(n.nalUnitType==="sei_rbsp"&&(i=pf(n.escapedRBSP)).payloadType===Hd&&(e=mf(i))){if(n.dts<this.latestDts_)return void(this.ignoreNextEqualDts_=!0);if(n.dts===this.latestDts_&&this.ignoreNextEqualDts_)return void(--this.numSameDts_||(this.ignoreNextEqualDts_=!1));t=ld(n.pts,e),this.captionPackets_=this.captionPackets_.concat(t),this.latestDts_!==n.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=n.dts}},xs.prototype.flush=function(){this.captionPackets_.length?(this.captionPackets_.forEach(function(n,i){n.presortIndex=i}),this.captionPackets_.sort(function(n,i){return n.pts===i.pts?n.presortIndex-i.presortIndex:n.pts-i.pts}),this.captionPackets_.forEach(function(n){n.type<2&&this.dispatchCea608Packet(n)},this),this.captionPackets_.length=0,this.ccStreams_.forEach(function(n){n.flush()},this)):this.ccStreams_.forEach(function(n){n.flush()},this)},xs.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(n){n.reset()})},xs.prototype.dispatchCea608Packet=function(n){this.setsTextOrXDSActive(n)?this.activeCea608Channel_[n.type]=null:this.setsChannel1Active(n)?this.activeCea608Channel_[n.type]=0:this.setsChannel2Active(n)&&(this.activeCea608Channel_[n.type]=1),this.activeCea608Channel_[n.type]!==null&&this.ccStreams_[(n.type<<1)+this.activeCea608Channel_[n.type]].push(n)},xs.prototype.setsChannel1Active=function(n){return(30720&n.ccData)==4096},xs.prototype.setsChannel2Active=function(n){return(30720&n.ccData)==6144},xs.prototype.setsTextOrXDSActive=function(n){return(28928&n.ccData)==256||(30974&n.ccData)==4138||(30974&n.ccData)==6186};var cd={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},zc=function(n){return n===null?"":(n=cd[n]||n,String.fromCharCode(n))},vf=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],Ur=function(){for(var n=[],i=15;i--;)n.push("");return n},mr=function n(i,e){n.prototype.init.call(this),this.field_=i||0,this.dataChannel_=e||0,this.name_="CC"+(1+(this.field_<<1|this.dataChannel_)),this.setConstants(),this.reset(),this.push=function(t){var r,a,f,y,j;if((r=32639&t.ccData)!==this.lastControlCode_){if((61440&r)==4096?this.lastControlCode_=r:r!==this.PADDING_&&(this.lastControlCode_=null),f=r>>>8,y=255&r,r!==this.PADDING_)if(r===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(r===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(t.pts),this.flushDisplayed(t.pts),a=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=a,this.startPts_=t.pts;else if(r===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(t.pts);else if(r===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(t.pts);else if(r===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(t.pts);else if(r===this.CARRIAGE_RETURN_)this.clearFormatting(t.pts),this.flushDisplayed(t.pts),this.shiftRowsUp_(),this.startPts_=t.pts;else if(r===this.BACKSPACE_)this.mode_==="popOn"?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(r===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(t.pts),this.displayed_=Ur();else if(r===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=Ur();else if(r===this.RESUME_DIRECT_CAPTIONING_)this.mode_!=="paintOn"&&(this.flushDisplayed(t.pts),this.displayed_=Ur()),this.mode_="paintOn",this.startPts_=t.pts;else if(this.isSpecialCharacter(f,y))j=zc((f=(3&f)<<8)|y),this[this.mode_](t.pts,j),this.column_++;else if(this.isExtCharacter(f,y))this.mode_==="popOn"?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),j=zc((f=(3&f)<<8)|y),this[this.mode_](t.pts,j),this.column_++;else if(this.isMidRowCode(f,y))this.clearFormatting(t.pts),this[this.mode_](t.pts," "),this.column_++,(14&y)==14&&this.addFormatting(t.pts,["i"]),(1&y)==1&&this.addFormatting(t.pts,["u"]);else if(this.isOffsetControlCode(f,y))this.column_+=3&y;else if(this.isPAC(f,y)){var D=vf.indexOf(7968&r);this.mode_==="rollUp"&&(D-this.rollUpRows_+1<0&&(D=this.rollUpRows_-1),this.setRollUp(t.pts,D)),D!==this.row_&&(this.clearFormatting(t.pts),this.row_=D),1&y&&this.formatting_.indexOf("u")===-1&&this.addFormatting(t.pts,["u"]),(16&r)==16&&(this.column_=4*((14&r)>>1)),this.isColorPAC(y)&&(14&y)==14&&this.addFormatting(t.pts,["i"])}else this.isNormalChar(f)&&(y===0&&(y=null),j=zc(f),j+=zc(y),this[this.mode_](t.pts,j),this.column_+=j.length)}else this.lastControlCode_=null}};mr.prototype=new Ii,mr.prototype.flushDisplayed=function(n){var i=this.displayed_.map(function(e){try{return e.trim()}catch(t){return console.error("Skipping malformed caption."),""}}).join(`
`).replace(/^\n+|\n+$/g,"");i.length&&this.trigger("data",{startPts:this.startPts_,endPts:n,text:i,stream:this.name_})},mr.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=Ur(),this.nonDisplayed_=Ur(),this.lastControlCode_=null,this.column_=0,this.row_=14,this.rollUpRows_=2,this.formatting_=[]},mr.prototype.setConstants=function(){this.dataChannel_===0?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):this.dataChannel_===1&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=32|this.CONTROL_,this.END_OF_CAPTION_=47|this.CONTROL_,this.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_,this.CARRIAGE_RETURN_=45|this.CONTROL_,this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_},mr.prototype.isSpecialCharacter=function(n,i){return n===this.EXT_&&i>=48&&i<=63},mr.prototype.isExtCharacter=function(n,i){return(n===this.EXT_+1||n===this.EXT_+2)&&i>=32&&i<=63},mr.prototype.isMidRowCode=function(n,i){return n===this.EXT_&&i>=32&&i<=47},mr.prototype.isOffsetControlCode=function(n,i){return n===this.OFFSET_&&i>=33&&i<=35},mr.prototype.isPAC=function(n,i){return n>=this.BASE_&&n<this.BASE_+8&&i>=64&&i<=127},mr.prototype.isColorPAC=function(n){return n>=64&&n<=79||n>=96&&n<=127},mr.prototype.isNormalChar=function(n){return n>=32&&n<=127},mr.prototype.setRollUp=function(n,i){if(this.mode_!=="rollUp"&&(this.row_=14,this.mode_="rollUp",this.flushDisplayed(n),this.nonDisplayed_=Ur(),this.displayed_=Ur()),i!==void 0&&i!==this.row_)for(var e=0;e<this.rollUpRows_;e++)this.displayed_[i-e]=this.displayed_[this.row_-e],this.displayed_[this.row_-e]="";i===void 0&&(i=this.row_),this.topRow_=i-this.rollUpRows_+1},mr.prototype.addFormatting=function(n,i){this.formatting_=this.formatting_.concat(i);var e=i.reduce(function(t,r){return t+"<"+r+">"},"");this[this.mode_](n,e)},mr.prototype.clearFormatting=function(n){if(this.formatting_.length){var i=this.formatting_.reverse().reduce(function(e,t){return e+"</"+t+">"},"");this.formatting_=[],this[this.mode_](n,i)}},mr.prototype.popOn=function(n,i){var e=this.nonDisplayed_[this.row_];e+=i,this.nonDisplayed_[this.row_]=e},mr.prototype.rollUp=function(n,i){var e=this.displayed_[this.row_];e+=i,this.displayed_[this.row_]=e},mr.prototype.shiftRowsUp_=function(){var n;for(n=0;n<this.topRow_;n++)this.displayed_[n]="";for(n=this.row_+1;n<15;n++)this.displayed_[n]="";for(n=this.topRow_;n<this.row_;n++)this.displayed_[n]=this.displayed_[n+1];this.displayed_[this.row_]=""},mr.prototype.paintOn=function(n,i){var e=this.displayed_[this.row_];e+=i,this.displayed_[this.row_]=e};var dd={CaptionStream:xs,Cea608Stream:mr},ti={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},pc=function(n,i){var e=1;for(n>i&&(e=-1);Math.abs(i-n)>4294967296;)n+=8589934592*e;return n},Gc=function n(i){var e,t;n.prototype.init.call(this),this.type_=i,this.push=function(r){r.type===this.type_&&(t===void 0&&(t=r.dts),r.dts=pc(r.dts,t),r.pts=pc(r.pts,t),e=r.dts,this.trigger("data",r))},this.flush=function(){t=e,this.trigger("done")},this.discontinuity=function(){t=void 0,e=void 0}};Gc.prototype=new Ii;var fd,gf=Gc,yf=pc,hd=function(n,i,e){var t,r="";for(t=i;t<e;t++)r+="%"+("00"+n[t].toString(16)).slice(-2);return r},Wc=function(n,i,e){return decodeURIComponent(hd(n,i,e))},_f=function(n,i,e){return unescape(hd(n,i,e))},bl=function(n){return n[0]<<21|n[1]<<14|n[2]<<7|n[3]},qc={TXXX:function(n){var i;if(n.data[0]===3){for(i=1;i<n.data.length;i++)if(n.data[i]===0){n.description=Wc(n.data,1,i),n.value=Wc(n.data,i+1,n.data.length).replace(/\0*$/,"");break}n.data=n.value}},WXXX:function(n){var i;if(n.data[0]===3){for(i=1;i<n.data.length;i++)if(n.data[i]===0){n.description=Wc(n.data,1,i),n.url=Wc(n.data,i+1,n.data.length);break}}},PRIV:function(n){var i;for(i=0;i<n.data.length;i++)if(n.data[i]===0){n.owner=_f(n.data,0,i);break}n.privateData=n.data.subarray(i+1),n.data=n.privateData}};(fd=function(n){var i,e={debug:!(!n||!n.debug),descriptor:n&&n.descriptor},t=0,r=[],a=0;if(fd.prototype.init.call(this),this.dispatchType=ti.METADATA_STREAM_TYPE.toString(16),e.descriptor)for(i=0;i<e.descriptor.length;i++)this.dispatchType+=("00"+e.descriptor[i].toString(16)).slice(-2);this.push=function(f){var y,j,D,F,q;if(f.type==="timed-metadata"){if(f.dataAlignmentIndicator&&(a=0,r.length=0),r.length===0&&(f.data.length<10||f.data[0]!=="I".charCodeAt(0)||f.data[1]!=="D".charCodeAt(0)||f.data[2]!=="3".charCodeAt(0)))return void(e.debug&&console.log("Skipping unrecognized metadata packet"));if(r.push(f),a+=f.data.byteLength,r.length===1&&(t=bl(f.data.subarray(6,10)),t+=10),!(a<t)){for(y={data:new Uint8Array(t),frames:[],pts:r[0].pts,dts:r[0].dts},q=0;q<t;)y.data.set(r[0].data.subarray(0,t-q),q),q+=r[0].data.byteLength,a-=r[0].data.byteLength,r.shift();j=10,64&y.data[5]&&(j+=4,j+=bl(y.data.subarray(10,14)),t-=bl(y.data.subarray(16,20)));do{if((D=bl(y.data.subarray(j+4,j+8)))<1)return console.log("Malformed ID3 frame encountered. Skipping metadata parsing.");if((F={id:String.fromCharCode(y.data[j],y.data[j+1],y.data[j+2],y.data[j+3]),data:y.data.subarray(j+10,j+D+10)}).key=F.id,qc[F.id]&&(qc[F.id](F),F.owner==="com.apple.streaming.transportStreamTimestamp")){var Y=F.data,tt=(1&Y[3])<<30|Y[4]<<22|Y[5]<<14|Y[6]<<6|Y[7]>>>2;tt*=4,tt+=3&Y[7],F.timeStamp=tt,y.pts===void 0&&y.dts===void 0&&(y.pts=F.timeStamp,y.dts=F.timeStamp),this.trigger("timestamp",F)}y.frames.push(F),j+=10,j+=D}while(j<t);this.trigger("data",y)}}}}).prototype=new Ii;var pd,$c,md,bf=fd,vd=gf;(pd=function(){var n=new Uint8Array(188),i=0;pd.prototype.init.call(this),this.push=function(e){var t,r=0,a=188;for(i?((t=new Uint8Array(e.byteLength+i)).set(n.subarray(0,i)),t.set(e,i),i=0):t=e;a<t.byteLength;)t[r]!==71||t[a]!==71?(r++,a++):(this.trigger("data",t.subarray(r,a)),r+=188,a+=188);r<t.byteLength&&(n.set(t.subarray(r),0),i=t.byteLength-r)},this.flush=function(){i===188&&n[0]===71&&(this.trigger("data",n),i=0),this.trigger("done")}}).prototype=new Ii,($c=function(){var n,i,e,t;$c.prototype.init.call(this),t=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,n=function(r,a){var f=0;a.payloadUnitStartIndicator&&(f+=r[f]+1),a.type==="pat"?i(r.subarray(f),a):e(r.subarray(f),a)},i=function(r,a){a.section_number=r[7],a.last_section_number=r[8],t.pmtPid=(31&r[10])<<8|r[11],a.pmtPid=t.pmtPid},e=function(r,a){var f,y;if(1&r[5]){for(t.programMapTable={video:null,audio:null,"timed-metadata":{}},f=3+((15&r[1])<<8|r[2])-4,y=12+((15&r[10])<<8|r[11]);y<f;){var j=r[y],D=(31&r[y+1])<<8|r[y+2];j===ti.H264_STREAM_TYPE&&t.programMapTable.video===null?t.programMapTable.video=D:j===ti.ADTS_STREAM_TYPE&&t.programMapTable.audio===null?t.programMapTable.audio=D:j===ti.METADATA_STREAM_TYPE&&(t.programMapTable["timed-metadata"][D]=j),y+=5+((15&r[y+3])<<8|r[y+4])}a.programMapTable=t.programMapTable}},this.push=function(r){var a={},f=4;if(a.payloadUnitStartIndicator=!!(64&r[1]),a.pid=31&r[1],a.pid<<=8,a.pid|=r[2],(48&r[3])>>>4>1&&(f+=r[f]+1),a.pid===0)a.type="pat",n(r.subarray(f),a),this.trigger("data",a);else if(a.pid===this.pmtPid)for(a.type="pmt",n(r.subarray(f),a),this.trigger("data",a);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else this.programMapTable===void 0?this.packetsWaitingForPmt.push([r,f,a]):this.processPes_(r,f,a)},this.processPes_=function(r,a,f){f.pid===this.programMapTable.video?f.streamType=ti.H264_STREAM_TYPE:f.pid===this.programMapTable.audio?f.streamType=ti.ADTS_STREAM_TYPE:f.streamType=this.programMapTable["timed-metadata"][f.pid],f.type="pes",f.data=r.subarray(a),this.trigger("data",f)}}).prototype=new Ii,$c.STREAM_TYPES={h264:27,adts:15},(md=function(){var n=this,i={data:[],size:0},e={data:[],size:0},t={data:[],size:0},r=function(a,f,y){var j,D=new Uint8Array(a.size),F={type:f},q=0,Y=0,tt=!1;if(a.data.length&&!(a.size<9)){for(F.trackId=a.data[0].pid,q=0;q<a.data.length;q++)j=a.data[q],D.set(j.data,Y),Y+=j.data.byteLength;(function(ft,dt){var At;dt.packetLength=6+(ft[4]<<8|ft[5]),dt.dataAlignmentIndicator=(4&ft[6])!=0,192&(At=ft[7])&&(dt.pts=(14&ft[9])<<27|(255&ft[10])<<20|(254&ft[11])<<12|(255&ft[12])<<5|(254&ft[13])>>>3,dt.pts*=4,dt.pts+=(6&ft[13])>>>1,dt.dts=dt.pts,64&At&&(dt.dts=(14&ft[14])<<27|(255&ft[15])<<20|(254&ft[16])<<12|(255&ft[17])<<5|(254&ft[18])>>>3,dt.dts*=4,dt.dts+=(6&ft[18])>>>1)),dt.data=ft.subarray(9+ft[8])})(D,F),tt=f==="video"||F.packetLength<=a.size,(y||tt)&&(a.size=0,a.data.length=0),tt&&n.trigger("data",F)}};md.prototype.init.call(this),this.push=function(a){({pat:function(){},pes:function(){var f,y;switch(a.streamType){case ti.H264_STREAM_TYPE:case ti.H264_STREAM_TYPE:f=i,y="video";break;case ti.ADTS_STREAM_TYPE:f=e,y="audio";break;case ti.METADATA_STREAM_TYPE:f=t,y="timed-metadata";break;default:return}a.payloadUnitStartIndicator&&r(f,y,!0),f.data.push(a),f.size+=a.data.byteLength},pmt:function(){var f={type:"metadata",tracks:[]},y=a.programMapTable;y.video!==null&&f.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+y.video,codec:"avc",type:"video"}),y.audio!==null&&f.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+y.audio,codec:"adts",type:"audio"}),n.trigger("data",f)}})[a.type]()},this.flush=function(){r(i,"video"),r(e,"audio"),r(t,"timed-metadata"),this.trigger("done")}}).prototype=new Ii;var zd={PAT_PID:0,MP2T_PACKET_LENGTH:188,TransportPacketStream:pd,TransportParseStream:$c,ElementaryStream:md,TimestampRolloverStream:vd,CaptionStream:dd.CaptionStream,Cea608Stream:dd.Cea608Stream,MetadataStream:bf};for(var gd in ti)ti.hasOwnProperty(gd)&&(zd[gd]=ti[gd]);var yd,s=zd,m=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];(yd=function(){var n;yd.prototype.init.call(this),this.push=function(i){var e,t,r,a,f,y,j=0,D=0;if(i.type==="audio")for(n?(a=n,(n=new Uint8Array(a.byteLength+i.data.byteLength)).set(a),n.set(i.data,a.byteLength)):n=i.data;j+5<n.length;)if(n[j]===255&&(246&n[j+1])==240){if(t=2*(1&~n[j+1]),e=(3&n[j+3])<<11|n[j+4]<<3|(224&n[j+5])>>5,y=9e4*(f=1024*(1+(3&n[j+6])))/m[(60&n[j+2])>>>2],r=j+e,n.byteLength<r)return;if(this.trigger("data",{pts:i.pts+D*y,dts:i.dts+D*y,sampleCount:f,audioobjecttype:1+(n[j+2]>>>6&3),channelcount:(1&n[j+2])<<2|(192&n[j+3])>>>6,samplerate:m[(60&n[j+2])>>>2],samplingfrequencyindex:(60&n[j+2])>>>2,samplesize:16,data:n.subarray(j+7+t,r)}),n.byteLength===r)return void(n=void 0);D++,n=n.subarray(r)}else j++},this.flush=function(){this.trigger("done")}}).prototype=new Ii;var I,W,Z,st=yd,Tt=function(n){var i=n.byteLength,e=0,t=0;this.length=function(){return 8*i},this.bitsAvailable=function(){return 8*i+t},this.loadWord=function(){var r=n.byteLength-i,a=new Uint8Array(4),f=Math.min(4,i);if(f===0)throw new Error("no bytes available");a.set(n.subarray(r,r+f)),e=new DataView(a.buffer).getUint32(0),t=8*f,i-=f},this.skipBits=function(r){var a;t>r?(e<<=r,t-=r):(r-=t,r-=8*(a=Math.floor(r/8)),i-=a,this.loadWord(),e<<=r,t-=r)},this.readBits=function(r){var a=Math.min(t,r),f=e>>>32-a;return(t-=a)>0?e<<=a:i>0&&this.loadWord(),(a=r-a)>0?f<<a|this.readBits(a):f},this.skipLeadingZeros=function(){var r;for(r=0;r<t;++r)if((e&2147483648>>>r)!=0)return e<<=r,t-=r,r;return this.loadWord(),r+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var r=this.skipLeadingZeros();return this.readBits(r+1)-1},this.readExpGolomb=function(){var r=this.readUnsignedExpGolomb();return 1&r?1+r>>>1:-1*(r>>>1)},this.readBoolean=function(){return this.readBits(1)===1},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};(W=function(){var n,i,e=0;W.prototype.init.call(this),this.push=function(t){var r;for(i?((r=new Uint8Array(i.byteLength+t.data.byteLength)).set(i),r.set(t.data,i.byteLength),i=r):i=t.data;e<i.byteLength-3;e++)if(i[e+2]===1){n=e+5;break}for(;n<i.byteLength;)switch(i[n]){case 0:if(i[n-1]!==0){n+=2;break}if(i[n-2]!==0){n++;break}e+3!==n-2&&this.trigger("data",i.subarray(e+3,n-2));do n++;while(i[n]!==1&&n<i.length);e=n-2,n+=3;break;case 1:if(i[n-1]!==0||i[n-2]!==0){n+=3;break}this.trigger("data",i.subarray(e+3,n-2)),e=n-2,n+=3;break;default:n+=3}i=i.subarray(e),n-=e,e=0},this.flush=function(){i&&i.byteLength>3&&this.trigger("data",i.subarray(e+3)),i=null,e=0,this.trigger("done")}}).prototype=new Ii,Z={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},(I=function(){var n,i,e,t,r,a,f,y=new W;I.prototype.init.call(this),n=this,this.push=function(j){j.type==="video"&&(i=j.trackId,e=j.pts,t=j.dts,y.push(j))},y.on("data",function(j){var D={trackId:i,pts:e,dts:t,data:j};switch(31&j[0]){case 5:D.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:D.nalUnitType="sei_rbsp",D.escapedRBSP=r(j.subarray(1));break;case 7:D.nalUnitType="seq_parameter_set_rbsp",D.escapedRBSP=r(j.subarray(1)),D.config=a(D.escapedRBSP);break;case 8:D.nalUnitType="pic_parameter_set_rbsp";break;case 9:D.nalUnitType="access_unit_delimiter_rbsp"}n.trigger("data",D)}),y.on("done",function(){n.trigger("done")}),this.flush=function(){y.flush()},f=function(j,D){var F,q=8,Y=8;for(F=0;F<j;F++)Y!==0&&(Y=(q+D.readExpGolomb()+256)%256),q=Y===0?q:Y},r=function(j){for(var D,F,q=j.byteLength,Y=[],tt=1;tt<q-2;)j[tt]===0&&j[tt+1]===0&&j[tt+2]===3?(Y.push(tt+2),tt+=2):tt++;if(Y.length===0)return j;D=q-Y.length,F=new Uint8Array(D);var ft=0;for(tt=0;tt<D;ft++,tt++)ft===Y[0]&&(ft++,Y.shift()),F[tt]=j[ft];return F},a=function(j){var D,F,q,Y,tt,ft,dt,At,St,kt,ee,ie,Ie,Fe=0,Ye=0,an=0,Me=0,Lr=1;if(F=(D=new Tt(j)).readUnsignedByte(),Y=D.readUnsignedByte(),q=D.readUnsignedByte(),D.skipUnsignedExpGolomb(),Z[F]&&((tt=D.readUnsignedExpGolomb())===3&&D.skipBits(1),D.skipUnsignedExpGolomb(),D.skipUnsignedExpGolomb(),D.skipBits(1),D.readBoolean()))for(ee=tt!==3?8:12,Ie=0;Ie<ee;Ie++)D.readBoolean()&&f(Ie<6?16:64,D);if(D.skipUnsignedExpGolomb(),(ft=D.readUnsignedExpGolomb())===0)D.readUnsignedExpGolomb();else if(ft===1)for(D.skipBits(1),D.skipExpGolomb(),D.skipExpGolomb(),dt=D.readUnsignedExpGolomb(),Ie=0;Ie<dt;Ie++)D.skipExpGolomb();if(D.skipUnsignedExpGolomb(),D.skipBits(1),At=D.readUnsignedExpGolomb(),St=D.readUnsignedExpGolomb(),(kt=D.readBits(1))===0&&D.skipBits(1),D.skipBits(1),D.readBoolean()&&(Fe=D.readUnsignedExpGolomb(),Ye=D.readUnsignedExpGolomb(),an=D.readUnsignedExpGolomb(),Me=D.readUnsignedExpGolomb()),D.readBoolean()&&D.readBoolean()){switch(D.readUnsignedByte()){case 1:ie=[1,1];break;case 2:ie=[12,11];break;case 3:ie=[10,11];break;case 4:ie=[16,11];break;case 5:ie=[40,33];break;case 6:ie=[24,11];break;case 7:ie=[20,11];break;case 8:ie=[32,11];break;case 9:ie=[80,33];break;case 10:ie=[18,11];break;case 11:ie=[15,11];break;case 12:ie=[64,33];break;case 13:ie=[160,99];break;case 14:ie=[4,3];break;case 15:ie=[3,2];break;case 16:ie=[2,1];break;case 255:ie=[D.readUnsignedByte()<<8|D.readUnsignedByte(),D.readUnsignedByte()<<8|D.readUnsignedByte()]}ie&&(Lr=ie[0]/ie[1])}return{profileIdc:F,levelIdc:q,profileCompatibility:Y,width:Math.ceil((16*(At+1)-2*Fe-2*Ye)*Lr),height:(2-kt)*(St+1)*16-2*an-2*Me}}}).prototype=new Ii;var Ct,Ht={H264Stream:I,NalByteStream:W},de=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],fe=function(n){return n[0]<<21|n[1]<<14|n[2]<<7|n[3]},be=function(n,i,e){return unescape(function(t,r,a){var f,y="";for(f=r;f<a;f++)y+="%"+("00"+t[f].toString(16)).slice(-2);return y}(n,i,e))},Ge={isLikelyAacData:function(n){return n[0]==="I".charCodeAt(0)&&n[1]==="D".charCodeAt(0)&&n[2]==="3".charCodeAt(0)},parseId3TagSize:function(n,i){var e=n[i+6]<<21|n[i+7]<<14|n[i+8]<<7|n[i+9];return(16&n[i+5])>>4?e+20:e+10},parseAdtsSize:function(n,i){var e=(224&n[i+5])>>5,t=n[i+4]<<3;return 6144&n[i+3]|t|e},parseType:function(n,i){return n[i]==="I".charCodeAt(0)&&n[i+1]==="D".charCodeAt(0)&&n[i+2]==="3".charCodeAt(0)?"timed-metadata":!0&n[i]&&(240&n[i+1])==240?"audio":null},parseSampleRate:function(n){for(var i=0;i+5<n.length;){if(n[i]===255&&(246&n[i+1])==240)return de[(60&n[i+2])>>>2];i++}return null},parseAacTimestamp:function(n){var i,e,t;i=10,64&n[5]&&(i+=4,i+=fe(n.subarray(10,14)));do{if((e=fe(n.subarray(i+4,i+8)))<1)return null;if(String.fromCharCode(n[i],n[i+1],n[i+2],n[i+3])==="PRIV"){t=n.subarray(i+10,i+e+10);for(var r=0;r<t.byteLength;r++)if(t[r]===0){if(be(t,0,r)==="com.apple.streaming.transportStreamTimestamp"){var a=t.subarray(r+1),f=(1&a[3])<<30|a[4]<<22|a[5]<<14|a[6]<<6|a[7]>>>2;return(f*=4)+(3&a[7])}break}}i+=10,i+=e}while(i<n.byteLength);return null}};(Ct=function(){var n=new Uint8Array,i=0;Ct.prototype.init.call(this),this.setTimestamp=function(e){i=e},this.push=function(e){var t,r,a,f,y=0,j=0;for(n.length?(f=n.length,(n=new Uint8Array(e.byteLength+f)).set(n.subarray(0,f)),n.set(e,f)):n=e;n.length-j>=3;)if(n[j]!=="I".charCodeAt(0)||n[j+1]!=="D".charCodeAt(0)||n[j+2]!=="3".charCodeAt(0))if((255&n[j])!=255||(240&n[j+1])!=240)j++;else{if(n.length-j<7||j+(y=Ge.parseAdtsSize(n,j))>n.length)break;a={type:"audio",data:n.subarray(j,j+y),pts:i,dts:i},this.trigger("data",a),j+=y}else{if(n.length-j<10||j+(y=Ge.parseId3TagSize(n,j))>n.length)break;r={type:"timed-metadata",data:n.subarray(j,j+y)},this.trigger("data",r),j+=y}t=n.length-j,n=t>0?n.subarray(j):new Uint8Array}}).prototype=new Ii;var $e,en,me,ke,yn=Ct,We=Ht.H264Stream,_n=Ge.isLikelyAacData,pn=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],Vn=["width","height","profileIdc","levelIdc","profileCompatibility"],nn=function(n,i){var e;if(n.length!==i.length)return!1;for(e=0;e<n.length;e++)if(n[e]!==i[e])return!1;return!0},hn=function(n,i,e,t,r,a){return{start:{dts:n,pts:n+(e-i)},end:{dts:n+(t-i),pts:n+(r-e)},prependedContentDuration:a,baseMediaDecodeTime:n}};(en=function(n,i){var e=[],t=0,r=0,a=0,f=1/0;i=i||{},en.prototype.init.call(this),this.push=function(y){ud(n,y),n&&pn.forEach(function(j){n[j]=y[j]}),e.push(y)},this.setEarliestDts=function(y){r=y-n.timelineStartInfo.baseMediaDecodeTime},this.setVideoBaseMediaDecodeTime=function(y){f=y},this.setAudioAppendStart=function(y){a=y},this.flush=function(){var y,j,D,F;e.length!==0?(y=Bd(e,n,r),n.baseMediaDecodeTime=Fd(n,i.keepOriginalTimestamps),ff(n,y,a,f),n.samples=Nd(y),D=ku.mdat(hf(y)),e=[],j=ku.moof(t,[n]),F=new Uint8Array(j.byteLength+D.byteLength),t++,F.set(j),F.set(D,j.byteLength),hc(n),this.trigger("data",{track:n,boxes:F}),this.trigger("done","AudioSegmentStream")):this.trigger("done","AudioSegmentStream")}}).prototype=new Ii,($e=function(n,i){var e,t,r=0,a=[],f=[];i=i||{},$e.prototype.init.call(this),delete n.minPTS,this.gopCache_=[],this.push=function(y){ud(n,y),y.nalUnitType!=="seq_parameter_set_rbsp"||e||(e=y.config,n.sps=[y.data],Vn.forEach(function(j){n[j]=e[j]},this)),y.nalUnitType!=="pic_parameter_set_rbsp"||t||(t=y.data,n.pps=[y.data]),a.push(y)},this.flush=function(){for(var y,j,D,F,q,Y,tt,ft,dt=0;a.length&&a[0].nalUnitType!=="access_unit_delimiter_rbsp";)a.shift();if(a.length===0)return this.resetStream_(),void this.trigger("done","VideoSegmentStream");if(y=cf(a),(D=Qr(y))[0][0].keyFrame||((j=this.getGopForFusion_(a[0],n))?(dt=j.duration,D.unshift(j),D.byteLength+=j.byteLength,D.nalCount+=j.nalCount,D.pts=j.pts,D.dts=j.dts,D.duration+=j.duration):D=Qi(D)),f.length){var At;if(!(At=i.alignGopsAtEnd?this.alignGopsAtEnd_(D):this.alignGopsAtStart_(D)))return this.gopCache_.unshift({gop:D.pop(),pps:n.pps,sps:n.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),a=[],this.resetStream_(),void this.trigger("done","VideoSegmentStream");hc(n),D=At}ud(n,D),n.samples=df(D),q=ku.mdat(Dd(D)),n.baseMediaDecodeTime=Fd(n,i.keepOriginalTimestamps),this.trigger("processedGopsInfo",D.map(function(St){return{pts:St.pts,dts:St.dts,byteLength:St.byteLength}})),tt=D[0],ft=D[D.length-1],this.trigger("segmentTimingInfo",hn(n.baseMediaDecodeTime,tt.dts,tt.pts,ft.dts+ft.duration,ft.pts+ft.duration,dt)),this.gopCache_.unshift({gop:D.pop(),pps:n.pps,sps:n.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),a=[],this.trigger("baseMediaDecodeTime",n.baseMediaDecodeTime),this.trigger("timelineStartInfo",n.timelineStartInfo),F=ku.moof(r,[n]),Y=new Uint8Array(F.byteLength+q.byteLength),r++,Y.set(F),Y.set(q,F.byteLength),this.trigger("data",{track:n,boxes:Y}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.resetStream_=function(){hc(n),e=void 0,t=void 0},this.getGopForFusion_=function(y){var j,D,F,q,Y,tt=1/0;for(Y=0;Y<this.gopCache_.length;Y++)F=(q=this.gopCache_[Y]).gop,n.pps&&nn(n.pps[0],q.pps[0])&&n.sps&&nn(n.sps[0],q.sps[0])&&(F.dts<n.timelineStartInfo.dts||(j=y.dts-F.dts-F.duration)>=-1e4&&j<=45e3&&(!D||tt>j)&&(D=q,tt=j));return D?D.gop:null},this.alignGopsAtStart_=function(y){var j,D,F,q,Y,tt,ft,dt;for(Y=y.byteLength,tt=y.nalCount,ft=y.duration,j=D=0;j<f.length&&D<y.length&&(F=f[j],q=y[D],F.pts!==q.pts);)q.pts>F.pts?j++:(D++,Y-=q.byteLength,tt-=q.nalCount,ft-=q.duration);return D===0?y:D===y.length?null:((dt=y.slice(D)).byteLength=Y,dt.duration=ft,dt.nalCount=tt,dt.pts=dt[0].pts,dt.dts=dt[0].dts,dt)},this.alignGopsAtEnd_=function(y){var j,D,F,q,Y,tt,ft;for(j=f.length-1,D=y.length-1,Y=null,tt=!1;j>=0&&D>=0;){if(F=f[j],q=y[D],F.pts===q.pts){tt=!0;break}F.pts>q.pts?j--:(j===f.length-1&&(Y=D),D--)}if(!tt&&Y===null)return null;if((ft=tt?D:Y)===0)return y;var dt=y.slice(ft),At=dt.reduce(function(St,kt){return St.byteLength+=kt.byteLength,St.duration+=kt.duration,St.nalCount+=kt.nalCount,St},{byteLength:0,duration:0,nalCount:0});return dt.byteLength=At.byteLength,dt.duration=At.duration,dt.nalCount=At.nalCount,dt.pts=dt[0].pts,dt.dts=dt[0].dts,dt},this.alignGopsWith=function(y){f=y}}).prototype=new Ii,(ke=function(n,i){this.numberOfTracks=0,this.metadataStream=i,(n=n||{}).remux!==void 0?this.remuxTracks=!!n.remux:this.remuxTracks=!0,typeof n.keepOriginalTimestamps=="boolean"&&(this.keepOriginalTimestamps=n.keepOriginalTimestamps),this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,ke.prototype.init.call(this),this.push=function(e){return e.text?this.pendingCaptions.push(e):e.frames?this.pendingMetadata.push(e):(this.pendingTracks.push(e.track),this.pendingBoxes.push(e.boxes),this.pendingBytes+=e.boxes.byteLength,e.track.type==="video"&&(this.videoTrack=e.track),void(e.track.type==="audio"&&(this.audioTrack=e.track)))}}).prototype=new Ii,ke.prototype.flush=function(n){var i,e,t,r,a=0,f={captions:[],captionStreams:{},metadata:[],info:{}},y=0;if(this.pendingTracks.length<this.numberOfTracks){if(n!=="VideoSegmentStream"&&n!=="AudioSegmentStream"||this.remuxTracks)return;if(this.pendingTracks.length===0)return void(++this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0))}for(this.videoTrack?(y=this.videoTrack.timelineStartInfo.pts,Vn.forEach(function(j){f.info[j]=this.videoTrack[j]},this)):this.audioTrack&&(y=this.audioTrack.timelineStartInfo.pts,pn.forEach(function(j){f.info[j]=this.audioTrack[j]},this)),this.pendingTracks.length===1?f.type=this.pendingTracks[0].type:f.type="combined",this.emittedTracks+=this.pendingTracks.length,t=ku.initSegment(this.pendingTracks),f.initSegment=new Uint8Array(t.byteLength),f.initSegment.set(t),f.data=new Uint8Array(this.pendingBytes),r=0;r<this.pendingBoxes.length;r++)f.data.set(this.pendingBoxes[r],a),a+=this.pendingBoxes[r].byteLength;for(r=0;r<this.pendingCaptions.length;r++)(i=this.pendingCaptions[r]).startTime=i.startPts,this.keepOriginalTimestamps||(i.startTime-=y),i.startTime/=9e4,i.endTime=i.endPts,this.keepOriginalTimestamps||(i.endTime-=y),i.endTime/=9e4,f.captionStreams[i.stream]=!0,f.captions.push(i);for(r=0;r<this.pendingMetadata.length;r++)(e=this.pendingMetadata[r]).cueTime=e.pts,this.keepOriginalTimestamps||(e.cueTime-=y),e.cueTime/=9e4,f.metadata.push(e);f.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",f),this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},(me=function(n){var i,e,t=this,r=!0;me.prototype.init.call(this),n=n||{},this.baseMediaDecodeTime=n.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var a={};this.transmuxPipeline_=a,a.type="aac",a.metadataStream=new s.MetadataStream,a.aacStream=new yn,a.audioTimestampRolloverStream=new s.TimestampRolloverStream("audio"),a.timedMetadataTimestampRolloverStream=new s.TimestampRolloverStream("timed-metadata"),a.adtsStream=new st,a.coalesceStream=new ke(n,a.metadataStream),a.headOfPipeline=a.aacStream,a.aacStream.pipe(a.audioTimestampRolloverStream).pipe(a.adtsStream),a.aacStream.pipe(a.timedMetadataTimestampRolloverStream).pipe(a.metadataStream).pipe(a.coalesceStream),a.metadataStream.on("timestamp",function(f){a.aacStream.setTimestamp(f.timeStamp)}),a.aacStream.on("data",function(f){f.type!=="timed-metadata"||a.audioSegmentStream||(e=e||{timelineStartInfo:{baseMediaDecodeTime:t.baseMediaDecodeTime},codec:"adts",type:"audio"},a.coalesceStream.numberOfTracks++,a.audioSegmentStream=new en(e,n),a.adtsStream.pipe(a.audioSegmentStream).pipe(a.coalesceStream))}),a.coalesceStream.on("data",this.trigger.bind(this,"data")),a.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setupTsPipeline=function(){var a={};this.transmuxPipeline_=a,a.type="ts",a.metadataStream=new s.MetadataStream,a.packetStream=new s.TransportPacketStream,a.parseStream=new s.TransportParseStream,a.elementaryStream=new s.ElementaryStream,a.videoTimestampRolloverStream=new s.TimestampRolloverStream("video"),a.audioTimestampRolloverStream=new s.TimestampRolloverStream("audio"),a.timedMetadataTimestampRolloverStream=new s.TimestampRolloverStream("timed-metadata"),a.adtsStream=new st,a.h264Stream=new We,a.captionStream=new s.CaptionStream,a.coalesceStream=new ke(n,a.metadataStream),a.headOfPipeline=a.packetStream,a.packetStream.pipe(a.parseStream).pipe(a.elementaryStream),a.elementaryStream.pipe(a.videoTimestampRolloverStream).pipe(a.h264Stream),a.elementaryStream.pipe(a.audioTimestampRolloverStream).pipe(a.adtsStream),a.elementaryStream.pipe(a.timedMetadataTimestampRolloverStream).pipe(a.metadataStream).pipe(a.coalesceStream),a.h264Stream.pipe(a.captionStream).pipe(a.coalesceStream),a.elementaryStream.on("data",function(f){var y;if(f.type==="metadata"){for(y=f.tracks.length;y--;)i||f.tracks[y].type!=="video"?e||f.tracks[y].type!=="audio"||((e=f.tracks[y]).timelineStartInfo.baseMediaDecodeTime=t.baseMediaDecodeTime):(i=f.tracks[y]).timelineStartInfo.baseMediaDecodeTime=t.baseMediaDecodeTime;i&&!a.videoSegmentStream&&(a.coalesceStream.numberOfTracks++,a.videoSegmentStream=new $e(i,n),a.videoSegmentStream.on("timelineStartInfo",function(j){e&&(e.timelineStartInfo=j,a.audioSegmentStream.setEarliestDts(j.dts))}),a.videoSegmentStream.on("processedGopsInfo",t.trigger.bind(t,"gopInfo")),a.videoSegmentStream.on("segmentTimingInfo",t.trigger.bind(t,"videoSegmentTimingInfo")),a.videoSegmentStream.on("baseMediaDecodeTime",function(j){e&&a.audioSegmentStream.setVideoBaseMediaDecodeTime(j)}),a.h264Stream.pipe(a.videoSegmentStream).pipe(a.coalesceStream)),e&&!a.audioSegmentStream&&(a.coalesceStream.numberOfTracks++,a.audioSegmentStream=new en(e,n),a.adtsStream.pipe(a.audioSegmentStream).pipe(a.coalesceStream))}}),a.coalesceStream.on("data",this.trigger.bind(this,"data")),a.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setBaseMediaDecodeTime=function(a){var f=this.transmuxPipeline_;n.keepOriginalTimestamps||(this.baseMediaDecodeTime=a),e&&(e.timelineStartInfo.dts=void 0,e.timelineStartInfo.pts=void 0,hc(e),n.keepOriginalTimestamps||(e.timelineStartInfo.baseMediaDecodeTime=a),f.audioTimestampRolloverStream&&f.audioTimestampRolloverStream.discontinuity()),i&&(f.videoSegmentStream&&(f.videoSegmentStream.gopCache_=[],f.videoTimestampRolloverStream.discontinuity()),i.timelineStartInfo.dts=void 0,i.timelineStartInfo.pts=void 0,hc(i),f.captionStream.reset(),n.keepOriginalTimestamps||(i.timelineStartInfo.baseMediaDecodeTime=a)),f.timedMetadataTimestampRolloverStream&&f.timedMetadataTimestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(a){e&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(a)},this.alignGopsWith=function(a){i&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(a)},this.push=function(a){if(r){var f=_n(a);f&&this.transmuxPipeline_.type!=="aac"?this.setupAacPipeline():f||this.transmuxPipeline_.type==="ts"||this.setupTsPipeline(),r=!1}this.transmuxPipeline_.headOfPipeline.push(a)},this.flush=function(){r=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}}).prototype=new Ii;var Rr={Transmuxer:me,VideoSegmentStream:$e,AudioSegmentStream:en,AUDIO_PROPERTIES:pn,VIDEO_PROPERTIES:Vn,generateVideoSegmentTimingInfo:hn},ma=Vd,go=dd.CaptionStream,Gr=function(n,i){for(var e=n,t=0;t<i.length;t++){var r=i[t];if(e<r.size)return r;e-=r.size}return null},Vo=function(n,i){var e=Ca.findBox(n,["moof","traf"]),t=Ca.findBox(n,["mdat"]),r={},a=[];return t.forEach(function(f,y){var j=e[y];a.push({mdat:f,traf:j})}),a.forEach(function(f){var y,j,D=f.mdat,F=f.traf,q=Ca.findBox(F,["tfhd"]),Y=Yn.parseTfhd(q[0]),tt=Y.trackId,ft=Ca.findBox(F,["tfdt"]),dt=ft.length>0?Yn.parseTfdt(ft[0]).baseMediaDecodeTime:0,At=Ca.findBox(F,["trun"]);i===tt&&At.length>0&&(y=function(St,kt,ee){var ie=kt,Ie=ee.defaultSampleDuration||0,Fe=ee.defaultSampleSize||0,Ye=ee.trackId,an=[];return St.forEach(function(Me){var Lr=Yn.parseTrun(Me).samples;Lr.forEach(function(mn){mn.duration===void 0&&(mn.duration=Ie),mn.size===void 0&&(mn.size=Fe),mn.trackId=Ye,mn.dts=ie,mn.compositionTimeOffset===void 0&&(mn.compositionTimeOffset=0),mn.pts=ie+mn.compositionTimeOffset,ie+=mn.duration}),an=an.concat(Lr)}),an}(At,dt,Y),j=function(St,kt,ee){var ie,Ie,Fe,Ye,an=new DataView(St.buffer,St.byteOffset,St.byteLength),Me=[];for(Ie=0;Ie+4<St.length;Ie+=Fe)if(Fe=an.getUint32(Ie),Ie+=4,!(Fe<=0))switch(31&St[Ie]){case 6:var Lr=St.subarray(Ie+1,Ie+1+Fe),mn=Gr(Ie,kt);ie={nalUnitType:"sei_rbsp",size:Fe,data:Lr,escapedRBSP:ma(Lr),trackId:ee},mn?(ie.pts=mn.pts,ie.dts=mn.dts,Ye=mn):(ie.pts=Ye.pts,ie.dts=Ye.dts),Me.push(ie)}return Me}(D,y,tt),r[tt]||(r[tt]=[]),r[tt]=r[tt].concat(j))}),r},Os={generator:ku,probe:Ca,Transmuxer:Rr.Transmuxer,AudioSegmentStream:Rr.AudioSegmentStream,VideoSegmentStream:Rr.VideoSegmentStream,CaptionParser:function(){var n,i,e,t,r,a=!1;this.isInitialized=function(){return a},this.init=function(){n=new go,a=!0,n.on("data",function(f){f.startTime=f.startPts/t,f.endTime=f.endPts/t,r.captions.push(f),r.captionStreams[f.stream]=!0})},this.isNewInit=function(f,y){return!(f&&f.length===0||y&&typeof y=="object"&&Object.keys(y).length===0||e===f[0]&&t===y[e])},this.parse=function(f,y,j){var D;if(!this.isInitialized()||!y||!j)return null;if(this.isNewInit(y,j))e=y[0],t=j[e];else if(!e||!t)return i.push(f),null;for(;i.length>0;){var F=i.shift();this.parse(F,y,j)}return(D=function(q,Y,tt){return Y?{seiNals:Vo(q,Y)[Y],timescale:tt}:null}(f,e,t))!==null&&D.seiNals?(this.pushNals(D.seiNals),this.flushStream(),r):null},this.pushNals=function(f){if(!this.isInitialized()||!f||f.length===0)return null;f.forEach(function(y){n.push(y)})},this.flushStream=function(){if(!this.isInitialized())return null;n.flush()},this.clearParsedCaptions=function(){r.captions=[],r.captionStreams={}},this.resetCaptionStream=function(){if(!this.isInitialized())return null;n.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){i=[],e=null,t=null,r?this.clearParsedCaptions():r={captions:[],captionStreams:{}},this.resetCaptionStream()},this.reset()}}.CaptionParser,Tl=function(n){var i=31&n[1];return(i<<=8)|n[2]},Cu=function(n){return!!(64&n[1])},Ho=function(n){var i=0;return(48&n[3])>>>4>1&&(i+=n[4]+1),i},zo=function(n){switch(n){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},Gd={parseType:function(n,i){var e=Tl(n);return e===0?"pat":e===i?"pmt":i?"pes":null},parsePat:function(n){var i=Cu(n),e=4+Ho(n);return i&&(e+=n[e]+1),(31&n[e+10])<<8|n[e+11]},parsePmt:function(n){var i={},e=Cu(n),t=4+Ho(n);if(e&&(t+=n[t]+1),1&n[t+5]){var r;r=3+((15&n[t+1])<<8|n[t+2])-4;for(var a=12+((15&n[t+10])<<8|n[t+11]);a<r;){var f=t+a;i[(31&n[f+1])<<8|n[f+2]]=n[f],a+=5+((15&n[f+3])<<8|n[f+4])}return i}},parsePayloadUnitStartIndicator:Cu,parsePesType:function(n,i){switch(i[Tl(n)]){case ti.H264_STREAM_TYPE:return"video";case ti.ADTS_STREAM_TYPE:return"audio";case ti.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},parsePesTime:function(n){if(!Cu(n))return null;var i=4+Ho(n);if(i>=n.byteLength)return null;var e,t=null;return 192&(e=n[i+7])&&((t={}).pts=(14&n[i+9])<<27|(255&n[i+10])<<20|(254&n[i+11])<<12|(255&n[i+12])<<5|(254&n[i+13])>>>3,t.pts*=4,t.pts+=(6&n[i+13])>>>1,t.dts=t.pts,64&e&&(t.dts=(14&n[i+14])<<27|(255&n[i+15])<<20|(254&n[i+16])<<12|(255&n[i+17])<<5|(254&n[i+18])>>>3,t.dts*=4,t.dts+=(6&n[i+18])>>>1)),t},videoPacketContainsKeyFrame:function(n){for(var i=4+Ho(n),e=n.subarray(i),t=0,r=0,a=!1;r<e.byteLength-3;r++)if(e[r+2]===1){t=r+5;break}for(;t<e.byteLength;)switch(e[t]){case 0:if(e[t-1]!==0){t+=2;break}if(e[t-2]!==0){t++;break}r+3!==t-2&&zo(31&e[r+3])==="slice_layer_without_partitioning_rbsp_idr"&&(a=!0);do t++;while(e[t]!==1&&t<e.length);r=t-2,t+=3;break;case 1:if(e[t-1]!==0||e[t-2]!==0){t+=3;break}zo(31&e[r+3])==="slice_layer_without_partitioning_rbsp_idr"&&(a=!0),r=t-2,t+=3;break;default:t+=3}return e=e.subarray(r),t-=r,r=0,e&&e.byteLength>3&&zo(31&e[r+3])==="slice_layer_without_partitioning_rbsp_idr"&&(a=!0),a}},Au=yf,Qn={};Qn.ts=Gd,Qn.aac=Ge;var _d=function(n,i,e){for(var t,r,a,f,y=0,j=188,D=!1;j<=n.byteLength;)if(n[y]!==71||n[j]!==71&&j!==n.byteLength)y++,j++;else{switch(t=n.subarray(y,j),Qn.ts.parseType(t,i.pid)){case"pes":r=Qn.ts.parsePesType(t,i.table),a=Qn.ts.parsePayloadUnitStartIndicator(t),r==="audio"&&a&&(f=Qn.ts.parsePesTime(t))&&(f.type="audio",e.audio.push(f),D=!0)}if(D)break;y+=188,j+=188}for(y=(j=n.byteLength)-188,D=!1;y>=0;)if(n[y]!==71||n[j]!==71&&j!==n.byteLength)y--,j--;else{switch(t=n.subarray(y,j),Qn.ts.parseType(t,i.pid)){case"pes":r=Qn.ts.parsePesType(t,i.table),a=Qn.ts.parsePayloadUnitStartIndicator(t),r==="audio"&&a&&(f=Qn.ts.parsePesTime(t))&&(f.type="audio",e.audio.push(f),D=!0)}if(D)break;y-=188,j-=188}},Kc=function(n,i,e){for(var t,r,a,f,y,j,D,F=0,q=188,Y=!1,tt={data:[],size:0};q<n.byteLength;)if(n[F]!==71||n[q]!==71)F++,q++;else{switch(t=n.subarray(F,q),Qn.ts.parseType(t,i.pid)){case"pes":if(r=Qn.ts.parsePesType(t,i.table),a=Qn.ts.parsePayloadUnitStartIndicator(t),r==="video"&&(a&&!Y&&(f=Qn.ts.parsePesTime(t))&&(f.type="video",e.video.push(f),Y=!0),!e.firstKeyFrame)){if(a&&tt.size!==0){for(y=new Uint8Array(tt.size),j=0;tt.data.length;)D=tt.data.shift(),y.set(D,j),j+=D.byteLength;if(Qn.ts.videoPacketContainsKeyFrame(y)){var ft=Qn.ts.parsePesTime(y);ft?(e.firstKeyFrame=ft,e.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}tt.size=0}tt.data.push(t),tt.size+=t.byteLength}}if(Y&&e.firstKeyFrame)break;F+=188,q+=188}for(F=(q=n.byteLength)-188,Y=!1;F>=0;)if(n[F]!==71||n[q]!==71)F--,q--;else{switch(t=n.subarray(F,q),Qn.ts.parseType(t,i.pid)){case"pes":r=Qn.ts.parsePesType(t,i.table),a=Qn.ts.parsePayloadUnitStartIndicator(t),r==="video"&&a&&(f=Qn.ts.parsePesTime(t))&&(f.type="video",e.video.push(f),Y=!0)}if(Y)break;F-=188,q-=188}},Xc=function(n){var i={pid:null,table:null},e={};for(var t in function(r,a){for(var f,y=0,j=188;j<r.byteLength;)if(r[y]!==71||r[j]!==71)y++,j++;else{switch(f=r.subarray(y,j),Qn.ts.parseType(f,a.pid)){case"pat":a.pid||(a.pid=Qn.ts.parsePat(f));break;case"pmt":a.table||(a.table=Qn.ts.parsePmt(f))}if(a.pid&&a.table)return;y+=188,j+=188}}(n,i),i.table)if(i.table.hasOwnProperty(t))switch(i.table[t]){case ti.H264_STREAM_TYPE:e.video=[],Kc(n,i,e),e.video.length===0&&delete e.video;break;case ti.ADTS_STREAM_TYPE:e.audio=[],_d(n,i,e),e.audio.length===0&&delete e.audio}return e},Wd=function(n,i){var e;return(e=Qn.aac.isLikelyAacData(n)?function(t){for(var r,a=!1,f=0,y=null,j=null,D=0,F=0;t.length-F>=3;){switch(Qn.aac.parseType(t,F)){case"timed-metadata":if(t.length-F<10){a=!0;break}if((D=Qn.aac.parseId3TagSize(t,F))>t.length){a=!0;break}j===null&&(r=t.subarray(F,F+D),j=Qn.aac.parseAacTimestamp(r)),F+=D;break;case"audio":if(t.length-F<7){a=!0;break}if((D=Qn.aac.parseAdtsSize(t,F))>t.length){a=!0;break}y===null&&(r=t.subarray(F,F+D),y=Qn.aac.parseSampleRate(r)),f++,F+=D;break;default:F++}if(a)return null}if(y===null||j===null)return null;var q=9e4/y;return{audio:[{type:"audio",dts:j,pts:j},{type:"audio",dts:j+1024*f*q,pts:j+1024*f*q}]}}(n):Xc(n))&&(e.audio||e.video)?(function(t,r){if(t.audio&&t.audio.length){var a=r;a===void 0&&(a=t.audio[0].dts),t.audio.forEach(function(j){j.dts=Au(j.dts,a),j.pts=Au(j.pts,a),j.dtsTime=j.dts/9e4,j.ptsTime=j.pts/9e4})}if(t.video&&t.video.length){var f=r;if(f===void 0&&(f=t.video[0].dts),t.video.forEach(function(j){j.dts=Au(j.dts,f),j.pts=Au(j.pts,f),j.dtsTime=j.dts/9e4,j.ptsTime=j.pts/9e4}),t.firstKeyFrame){var y=t.firstKeyFrame;y.dts=Au(y.dts,f),y.pts=Au(y.pts,f),y.dtsTime=y.dts/9e4,y.ptsTime=y.dts/9e4}}}(e,i),e):null},ju=function(n,i){if(!(n instanceof i))throw new TypeError("Cannot call a class as a function")},Yc=function(){function n(i,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(i,r.key,r)}}return function(i,e,t){return e&&n(i.prototype,e),t&&n(i,t),i}}(),yo=null,Ep=function(){function n(i){ju(this,n),yo||(yo=function(){var q=[[[],[],[],[],[]],[[],[],[],[],[]]],Y=q[0],tt=q[1],ft=Y[4],dt=tt[4],At=void 0,St=void 0,kt=void 0,ee=[],ie=[],Ie=void 0,Fe=void 0,Ye=void 0,an=void 0,Me=void 0;for(At=0;At<256;At++)ie[(ee[At]=At<<1^283*(At>>7))^At]=At;for(St=kt=0;!ft[St];St^=Ie||1,kt=ie[kt]||1)for(Ye=(Ye=kt^kt<<1^kt<<2^kt<<3^kt<<4)>>8^255&Ye^99,ft[St]=Ye,dt[Ye]=St,Me=16843009*ee[Fe=ee[Ie=ee[St]]]^65537*Fe^257*Ie^16843008*St,an=257*ee[Ye]^16843008*Ye,At=0;At<4;At++)Y[At][St]=an=an<<24^an>>>8,tt[At][Ye]=Me=Me<<24^Me>>>8;for(At=0;At<5;At++)Y[At]=Y[At].slice(0),tt[At]=tt[At].slice(0);return q}()),this._tables=[[yo[0][0].slice(),yo[0][1].slice(),yo[0][2].slice(),yo[0][3].slice(),yo[0][4].slice()],[yo[1][0].slice(),yo[1][1].slice(),yo[1][2].slice(),yo[1][3].slice(),yo[1][4].slice()]];var e=void 0,t=void 0,r=void 0,a=void 0,f=void 0,y=this._tables[0][4],j=this._tables[1],D=i.length,F=1;if(D!==4&&D!==6&&D!==8)throw new Error("Invalid aes key size");for(a=i.slice(0),f=[],this._key=[a,f],e=D;e<4*D+28;e++)r=a[e-1],(e%D==0||D===8&&e%D==4)&&(r=y[r>>>24]<<24^y[r>>16&255]<<16^y[r>>8&255]<<8^y[255&r],e%D==0&&(r=r<<8^r>>>24^F<<24,F=F<<1^283*(F>>7))),a[e]=a[e-D]^r;for(t=0;e;t++,e--)r=a[3&t?e:e-4],f[t]=e<=4||t<4?r:j[0][y[r>>>24]]^j[1][y[r>>16&255]]^j[2][y[r>>8&255]]^j[3][y[255&r]]}return n.prototype.decrypt=function(i,e,t,r,a,f){var y=this._key[1],j=i^y[0],D=r^y[1],F=t^y[2],q=e^y[3],Y=void 0,tt=void 0,ft=void 0,dt=y.length/4-2,At=void 0,St=4,kt=this._tables[1],ee=kt[0],ie=kt[1],Ie=kt[2],Fe=kt[3],Ye=kt[4];for(At=0;At<dt;At++)Y=ee[j>>>24]^ie[D>>16&255]^Ie[F>>8&255]^Fe[255&q]^y[St],tt=ee[D>>>24]^ie[F>>16&255]^Ie[q>>8&255]^Fe[255&j]^y[St+1],ft=ee[F>>>24]^ie[q>>16&255]^Ie[j>>8&255]^Fe[255&D]^y[St+2],q=ee[q>>>24]^ie[j>>16&255]^Ie[D>>8&255]^Fe[255&F]^y[St+3],St+=4,j=Y,D=tt,F=ft;for(At=0;At<4;At++)a[(3&-At)+f]=Ye[j>>>24]<<24^Ye[D>>16&255]<<16^Ye[F>>8&255]<<8^Ye[255&q]^y[St++],Y=j,j=D,D=F,F=q,q=Y},n}(),eh=function(){function n(){ju(this,n),this.listeners={}}return n.prototype.on=function(i,e){this.listeners[i]||(this.listeners[i]=[]),this.listeners[i].push(e)},n.prototype.off=function(i,e){if(!this.listeners[i])return!1;var t=this.listeners[i].indexOf(e);return this.listeners[i].splice(t,1),t>-1},n.prototype.trigger=function(i){var e=this.listeners[i];if(e)if(arguments.length===2)for(var t=e.length,r=0;r<t;++r)e[r].call(this,arguments[1]);else for(var a=Array.prototype.slice.call(arguments,1),f=e.length,y=0;y<f;++y)e[y].apply(this,a)},n.prototype.dispose=function(){this.listeners={}},n.prototype.pipe=function(i){this.on("data",function(e){i.push(e)})},n}(),nh=function(n){function i(){ju(this,i);var e=function(t,r){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||typeof r!="object"&&typeof r!="function"?t:r}(this,n.call(this,eh));return e.jobs=[],e.delay=1,e.timeout_=null,e}return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,n),i.prototype.processJob_=function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null},i.prototype.push=function(e){this.jobs.push(e),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},i}(eh),_o=function(n){return n<<24|(65280&n)<<8|(16711680&n)>>8|n>>>24},rh=function(n,i,e){var t=new Int32Array(n.buffer,n.byteOffset,n.byteLength>>2),r=new Ep(Array.prototype.slice.call(i)),a=new Uint8Array(n.byteLength),f=new Int32Array(a.buffer),y=void 0,j=void 0,D=void 0,F=void 0,q=void 0,Y=void 0,tt=void 0,ft=void 0,dt=void 0;for(y=e[0],j=e[1],D=e[2],F=e[3],dt=0;dt<t.length;dt+=4)q=_o(t[dt]),Y=_o(t[dt+1]),tt=_o(t[dt+2]),ft=_o(t[dt+3]),r.decrypt(q,Y,tt,ft,f,dt),f[dt]=_o(f[dt]^y),f[dt+1]=_o(f[dt+1]^j),f[dt+2]=_o(f[dt+2]^D),f[dt+3]=_o(f[dt+3]^F),y=q,j=Y,D=tt,F=ft;return a},Cp=function(){function n(i,e,t,r){ju(this,n);var a=n.STEP,f=new Int32Array(i.buffer),y=new Uint8Array(i.byteLength),j=0;for(this.asyncStream_=new nh,this.asyncStream_.push(this.decryptChunk_(f.subarray(j,j+a),e,t,y)),j=a;j<f.length;j+=a)t=new Uint32Array([_o(f[j-4]),_o(f[j-3]),_o(f[j-2]),_o(f[j-1])]),this.asyncStream_.push(this.decryptChunk_(f.subarray(j,j+a),e,t,y));this.asyncStream_.push(function(){r(null,function(D){return D.subarray(0,D.byteLength-D[D.byteLength-1])}(y))})}return n.prototype.decryptChunk_=function(i,e,t,r){return function(){var a=rh(i,e,t);r.set(a,i.byteOffset)}},Yc(n,null,[{key:"STEP",get:function(){return 32e3}}]),n}(),mc=function(n,i){return/^[a-z]+:/i.test(i)?i:(/\/\//i.test(n)||(n=_i.buildAbsoluteURL(x.location.href,n)),_i.buildAbsoluteURL(n,i))},qd=function(n,i,e){return n&&e.responseURL&&i!==e.responseURL?e.responseURL:i},bo=function(n,i){if(!(n instanceof i))throw new TypeError("Cannot call a class as a function")},Go=function(){function n(i,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(i,r.key,r)}}return function(i,e,t){return e&&n(i.prototype,e),t&&n(i,t),i}}(),xu=function(n,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof i);n.prototype=Object.create(i&&i.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(n,i):n.__proto__=i)},Ls=function(n,i){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!i||typeof i!="object"&&typeof i!="function"?n:i},Ap=function(n,i){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return function(e,t){var r=[],a=!0,f=!1,y=void 0;try{for(var j,D=e[Symbol.iterator]();!(a=(j=D.next()).done)&&(r.push(j.value),!t||r.length!==t);a=!0);}catch(F){f=!0,y=F}finally{try{!a&&D.return&&D.return()}finally{if(f)throw y}}return r}(n,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")},Tf=Et.mergeOptions,jp=Et.EventTarget,xp=Et.log,$d=function(n,i){["AUDIO","SUBTITLES"].forEach(function(e){for(var t in n.mediaGroups[e])for(var r in n.mediaGroups[e][t]){var a=n.mediaGroups[e][t][r];i(a,e,t,r)}})},Sf=function(n,i){var e=Tf(n,{}),t=e.playlists[i.uri];if(!t||t.segments&&i.segments&&t.segments.length===i.segments.length&&t.endList===i.endList&&t.mediaSequence===i.mediaSequence)return null;var r=Tf(t,i);t.segments&&(r.segments=function(f,y,j){var D=y.slice();j=j||0;for(var F=Math.min(f.length,y.length+j),q=j;q<F;q++)D[q-j]=Tf(f[q],D[q-j]);return D}(t.segments,i.segments,i.mediaSequence-t.mediaSequence)),r.segments.forEach(function(f){(function(y,j){y.resolvedUri||(y.resolvedUri=mc(j,y.uri)),y.key&&!y.key.resolvedUri&&(y.key.resolvedUri=mc(j,y.key.uri)),y.map&&!y.map.resolvedUri&&(y.map.resolvedUri=mc(j,y.map.uri))})(f,r.resolvedUri)});for(var a=0;a<e.playlists.length;a++)e.playlists[a].uri===i.uri&&(e.playlists[a]=r);return e.playlists[i.uri]=r,e},ih=function(n){for(var i=n.playlists.length;i--;){var e=n.playlists[i];n.playlists[e.uri]=e,e.resolvedUri=mc(n.uri,e.uri),e.id=i,e.attributes||(e.attributes={},xp.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute."))}},ah=function(n){$d(n,function(i){i.uri&&(i.resolvedUri=mc(n.uri,i.uri))})},oh=function(n,i){var e=n.segments[n.segments.length-1];return i&&e&&e.duration?1e3*e.duration:500*(n.targetDuration||10)},Kd=function(n){function i(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};bo(this,i);var a=Ls(this,(i.__proto__||Object.getPrototypeOf(i)).call(this)),f=r.withCredentials,y=f!==void 0&&f,j=r.handleManifestRedirects,D=j!==void 0&&j;a.srcUrl=e,a.hls_=t,a.withCredentials=y,a.handleManifestRedirects=D;var F=t.options_;if(a.customTagParsers=F&&F.customTagParsers||[],a.customTagMappers=F&&F.customTagMappers||[],!a.srcUrl)throw new Error("A non-empty playlist URL is required");return a.state="HAVE_NOTHING",a.on("mediaupdatetimeout",function(){a.state==="HAVE_METADATA"&&(a.state="HAVE_CURRENT_METADATA",a.request=a.hls_.xhr({uri:mc(a.master.uri,a.media().uri),withCredentials:a.withCredentials},function(q,Y){if(a.request)return q?a.playlistRequestError(a.request,a.media().uri,"HAVE_METADATA"):void a.haveMetadata(a.request,a.media().uri)}))}),a}return xu(i,n),Go(i,[{key:"playlistRequestError",value:function(e,t,r){this.request=null,r&&(this.state=r),this.error={playlist:this.master.playlists[t],status:e.status,message:"HLS playlist request error at URL: "+t+".",responseText:e.responseText,code:e.status>=500?4:2},this.trigger("error")}},{key:"haveMetadata",value:function(e,t){var r=this;this.request=null,this.state="HAVE_METADATA";var a=new ac;this.customTagParsers.forEach(function(y){return a.addParser(y)}),this.customTagMappers.forEach(function(y){return a.addTagMapper(y)}),a.push(e.responseText),a.end(),a.manifest.uri=t,a.manifest.attributes=a.manifest.attributes||{};var f=Sf(this.master,a.manifest);this.targetDuration=a.manifest.targetDuration,f?(this.master=f,this.media_=this.master.playlists[a.manifest.uri]):this.trigger("playlistunchanged"),this.media().endList||(x.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=x.setTimeout(function(){r.trigger("mediaupdatetimeout")},oh(this.media(),!!f))),this.trigger("loadedplaylist")}},{key:"dispose",value:function(){this.stopRequest(),x.clearTimeout(this.mediaUpdateTimeout),x.clearTimeout(this.finalRenditionTimeout)}},{key:"stopRequest",value:function(){if(this.request){var e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}},{key:"media",value:function(e,t){var r=this;if(!e)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);if(typeof e=="string"){if(!this.master.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.master.playlists[e]}if(x.clearTimeout(this.finalRenditionTimeout),t){var a=e.targetDuration/2*1e3||5e3;this.finalRenditionTimeout=x.setTimeout(this.media.bind(this,e,!1),a)}else{var f=this.state,y=!this.media_||e.uri!==this.media_.uri;if(this.master.playlists[e.uri].endList)return this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=e,void(y&&(this.trigger("mediachanging"),this.trigger("mediachange")));if(y){if(this.state="SWITCHING_MEDIA",this.request){if(e.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.request=this.hls_.xhr({uri:e.resolvedUri,withCredentials:this.withCredentials},function(j,D){if(r.request){if(e.resolvedUri=qd(r.handleManifestRedirects,e.resolvedUri,D),j)return r.playlistRequestError(r.request,e.uri,f);r.haveMetadata(D,e.uri),f==="HAVE_MASTER"?r.trigger("loadedmetadata"):r.trigger("mediachange")}})}}}},{key:"pause",value:function(){this.stopRequest(),x.clearTimeout(this.mediaUpdateTimeout),this.state==="HAVE_NOTHING"&&(this.started=!1),this.state==="SWITCHING_MEDIA"?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MASTER":this.state==="HAVE_CURRENT_METADATA"&&(this.state="HAVE_METADATA")}},{key:"load",value:function(e){var t=this;x.clearTimeout(this.mediaUpdateTimeout);var r=this.media();if(e){var a=r?r.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=x.setTimeout(function(){return t.load()},a)}else this.started?r&&!r.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist"):this.start()}},{key:"start",value:function(){var e=this;this.started=!0,this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},function(t,r){if(e.request){if(e.request=null,t)return e.error={status:r.status,message:"HLS playlist request error at URL: "+e.srcUrl+".",responseText:r.responseText,code:2},e.state==="HAVE_NOTHING"&&(e.started=!1),e.trigger("error");var a=new ac;return e.customTagParsers.forEach(function(f){return a.addParser(f)}),e.customTagMappers.forEach(function(f){return a.addTagMapper(f)}),a.push(r.responseText),a.end(),e.state="HAVE_MASTER",e.srcUrl=qd(e.handleManifestRedirects,e.srcUrl,r),a.manifest.uri=e.srcUrl,a.manifest.playlists?(e.master=a.manifest,ih(e.master),ah(e.master),e.trigger("loadedplaylist"),void(e.request||e.media(a.manifest.playlists[0]))):(e.master={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:x.location.href,playlists:[{uri:e.srcUrl,id:0,resolvedUri:e.srcUrl,attributes:{}}]},e.master.playlists[e.srcUrl]=e.master.playlists[0],e.haveMetadata(r,e.srcUrl),e.trigger("loadedmetadata"))}})}}]),i}(jp),sh=Et.createTimeRange,uh=function(n,i,e){var t=void 0,r=void 0;return i===void 0&&(i=n.mediaSequence+n.segments.length),i<n.mediaSequence?0:(t=function(a,f){var y=0,j=f-a.mediaSequence,D=a.segments[j];if(D){if(D.start!==void 0)return{result:D.start,precise:!0};if(D.end!==void 0)return{result:D.end-D.duration,precise:!0}}for(;j--;){if((D=a.segments[j]).end!==void 0)return{result:y+D.end,precise:!0};if(y+=D.duration,D.start!==void 0)return{result:y+D.start,precise:!0}}return{result:y,precise:!1}}(n,i)).precise?t.result:(r=function(a,f){for(var y=0,j=void 0,D=f-a.mediaSequence;D<a.segments.length;D++){if((j=a.segments[D]).start!==void 0)return{result:j.start-y,precise:!0};if(y+=j.duration,j.end!==void 0)return{result:j.end-y,precise:!0}}return{result:-1,precise:!1}}(n,i)).precise?r.result:t.result+e},lh=function(n,i,e){if(!n)return 0;if(typeof e!="number"&&(e=0),i===void 0){if(n.totalDuration)return n.totalDuration;if(!n.endList)return x.Infinity}return uh(n,i,e)},bd=function(n,i,e){var t=0;if(i>e){var r=[e,i];i=r[0],e=r[1]}if(i<0){for(var a=i;a<Math.min(0,e);a++)t+=n.targetDuration;i=0}for(var f=i;f<e;f++)t+=n.segments[f].duration;return t},ch=function(n){if(!n.segments.length)return 0;for(var i=n.segments.length-1,e=n.segments[i].duration||n.targetDuration,t=e+2*n.targetDuration;i--&&!((e+=n.segments[i].duration)>=t););return Math.max(0,i)},dh=function(n,i,e){if(!n||!n.segments)return null;if(n.endList)return lh(n);if(i===null)return null;i=i||0;var t=e?ch(n):n.segments.length;return uh(n,n.mediaSequence+t,i)},fh=function(n){return n-Math.floor(n)==0},hh=function(n,i){if(fh(i))return i+.1*n;for(var e=i.toString().split(".")[1].length,t=1;t<=e;t++){var r=Math.pow(10,t),a=i*r;if(fh(a)||t===e)return(a+n)/r}},Op=hh.bind(null,1),Lp=hh.bind(null,-1),ph=function(n){return n.excludeUntil&&n.excludeUntil>Date.now()},wf=function(n){return n.excludeUntil&&n.excludeUntil===1/0},Xd=function(n){var i=ph(n);return!n.disabled&&!i},mh=function(n,i){return i.attributes&&i.attributes[n]},kf=function(n,i){if(n.playlists.length===1)return!0;var e=i.attributes.BANDWIDTH||Number.MAX_VALUE;return n.playlists.filter(function(t){return!!Xd(t)&&(t.attributes.BANDWIDTH||0)<e}).length===0},xa={duration:lh,seekable:function(n,i){var e=i||0,t=dh(n,i,!0);return t===null?sh():sh(e,t)},safeLiveIndex:ch,getMediaInfoForTime:function(n,i,e,t){var r=void 0,a=void 0,f=n.segments.length,y=i-t;if(y<0){if(e>0){for(r=e-1;r>=0;r--)if(a=n.segments[r],(y+=Lp(a.duration))>0)return{mediaIndex:r,startTime:t-bd(n,e,r)}}return{mediaIndex:0,startTime:i}}if(e<0){for(r=e;r<0;r++)if((y-=n.targetDuration)<0)return{mediaIndex:0,startTime:i};e=0}for(r=e;r<f;r++)if(a=n.segments[r],(y-=Op(a.duration))<0)return{mediaIndex:r,startTime:t+bd(n,e,r)};return{mediaIndex:f-1,startTime:i}},isEnabled:Xd,isDisabled:function(n){return n.disabled},isBlacklisted:ph,isIncompatible:wf,playlistEnd:dh,isAes:function(n){for(var i=0;i<n.segments.length;i++)if(n.segments[i].key)return!0;return!1},isFmp4:function(n){for(var i=0;i<n.segments.length;i++)if(n.segments[i].map)return!0;return!1},hasAttribute:mh,estimateSegmentRequestTime:function(n,i,e){var t=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;return mh("BANDWIDTH",e)?(n*e.attributes.BANDWIDTH-8*t)/i:NaN},isLowestEnabledRendition:kf},Pp=Et.xhr,Rp=Et.mergeOptions,vh=function(){return function n(i,e){i=Rp({timeout:45e3},i);var t=n.beforeRequest||Et.Hls.xhr.beforeRequest;if(t&&typeof t=="function"){var r=t(i);r&&(i=r)}var a=Pp(i,function(y,j){var D=a.response;!y&&D&&(a.responseTime=Date.now(),a.roundTripTime=a.responseTime-a.requestTime,a.bytesReceived=D.byteLength||D.length,a.bandwidth||(a.bandwidth=Math.floor(a.bytesReceived/a.roundTripTime*8*1e3))),j.headers&&(a.responseHeaders=j.headers),y&&y.code==="ETIMEDOUT"&&(a.timedout=!0),y||a.aborted||j.statusCode===200||j.statusCode===206||j.statusCode===0||(y=new Error("XHR Failed with a response of: "+(a&&(D||a.responseText)))),e(y,a)}),f=a.abort;return a.abort=function(){return a.aborted=!0,f.apply(a,arguments)},a.uri=i.uri,a.requestTime=Date.now(),a}},Ef=function(n){var i={};return n.byterange&&(i.Range=function(e){var t;return t=e.offset+e.length-1,"bytes="+e.offset+"-"+t}(n.byterange)),i},Ip=function(n,i){return n.start(i)+"-"+n.end(i)},Dp=function(n,i){var e=n.toString(16);return"00".substring(0,2-e.length)+e+(i%2?" ":"")},Mp=function(n){return n>=32&&n<126?String.fromCharCode(n):"."},gh=function(n){var i={};return Object.keys(n).forEach(function(e){var t=n[e];ArrayBuffer.isView(t)?i[e]={bytes:t.buffer,byteOffset:t.byteOffset,byteLength:t.byteLength}:i[e]=t}),i},Yd=function(n){var i=n.byterange||{length:1/0,offset:0};return[i.length,i.offset,n.resolvedUri].join(",")},yh=function(n){return n.resolvedUri},_h=function(n){for(var i=Array.prototype.slice.call(n),e="",t=0;t<i.length/16;t++)e+=i.slice(16*t,16*t+16).map(Dp).join("")+" "+i.slice(16*t,16*t+16).map(Mp).join("")+`
`;return e},Up=Object.freeze({createTransferableMessage:gh,initSegmentId:Yd,segmentKeyId:yh,hexDump:_h,tagDump:function(n){var i=n.bytes;return _h(i)},textRanges:function(n){var i="",e=void 0;for(e=0;e<n.length;e++)i+=Ip(n,e)+" ";return i}}),Bp=function(n){var i=n.playlist,e=n.time,t=e===void 0?void 0:e,r=n.callback;if(!r)throw new Error("getProgramTime: callback must be provided");if(!i||t===void 0)return r({message:"getProgramTime: playlist and time must be provided"});var a=function(j,D){if(!D||!D.segments||D.segments.length===0)return null;for(var F=0,q=void 0,Y=0;Y<D.segments.length&&!(j<=(F=(q=D.segments[Y]).videoTimingInfo?q.videoTimingInfo.transmuxedPresentationEnd:F+q.duration));Y++);var tt=D.segments[D.segments.length-1];if(tt.videoTimingInfo&&tt.videoTimingInfo.transmuxedPresentationEnd<j)return null;if(j>F){if(j>F+.25*tt.duration)return null;q=tt}return{segment:q,estimatedStart:q.videoTimingInfo?q.videoTimingInfo.transmuxedPresentationStart:F-q.duration,type:q.videoTimingInfo?"accurate":"estimate"}}(t,i);if(!a)return r({message:"valid programTime was not found"});if(a.type==="estimate")return r({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:a.estimatedStart});var f={mediaSeconds:t},y=function(j,D){if(!D.dateTimeObject)return null;var F=D.videoTimingInfo.transmuxerPrependedSeconds,q=j-(D.videoTimingInfo.transmuxedPresentationStart+F);return new Date(D.dateTimeObject.getTime()+1e3*q)}(t,a.segment);return y&&(f.programDateTime=y.toISOString()),r(null,f)},Np=function n(i){var e=i.programTime,t=i.playlist,r=i.retryCount,a=r===void 0?2:r,f=i.seekTo,y=i.pauseAfterSeek,j=y===void 0||y,D=i.tech,F=i.callback;if(!F)throw new Error("seekToProgramTime: callback must be provided");if(e===void 0||!t||!f)return F({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"});if(!t.endList&&!D.hasStarted_)return F({message:"player must be playing a live stream to start buffering"});if(!function(dt){if(!dt.segments||dt.segments.length===0)return!1;for(var At=0;At<dt.segments.length;At++)if(!dt.segments[At].dateTimeObject)return!1;return!0}(t))return F({message:"programDateTime tags must be provided in the manifest "+t.resolvedUri});var q=function(dt,At){var St=void 0;try{St=new Date(dt)}catch(Ye){return null}if(!At||!At.segments||At.segments.length===0)return null;var kt=At.segments[0];if(St<kt.dateTimeObject)return null;for(var ee=0;ee<At.segments.length-1&&(kt=At.segments[ee],!(St<At.segments[ee+1].dateTimeObject));ee++);var ie=At.segments[At.segments.length-1],Ie=ie.dateTimeObject,Fe=ie.videoTimingInfo?function(Ye){return Ye.transmuxedPresentationEnd-Ye.transmuxedPresentationStart-Ye.transmuxerPrependedSeconds}(ie.videoTimingInfo):ie.duration+.25*ie.duration;return St>new Date(Ie.getTime()+1e3*Fe)?null:(St>Ie&&(kt=ie),{segment:kt,estimatedStart:kt.videoTimingInfo?kt.videoTimingInfo.transmuxedPresentationStart:xa.duration(At,At.mediaSequence+At.segments.indexOf(kt)),type:kt.videoTimingInfo?"accurate":"estimate"})}(e,t);if(!q)return F({message:e+" was not found in the stream"});var Y=q.segment,tt=function(dt,At){var St=void 0,kt=void 0;try{St=new Date(dt),kt=new Date(At)}catch(ie){}var ee=St.getTime();return(kt.getTime()-ee)/1e3}(Y.dateTimeObject,e);if(q.type==="estimate")return a===0?F({message:e+" is not buffered yet. Try again"}):(f(q.estimatedStart+tt),void D.one("seeked",function(){n({programTime:e,playlist:t,retryCount:a-1,seekTo:f,pauseAfterSeek:j,tech:D,callback:F})}));var ft=Y.start+tt;D.one("seeked",function(){return F(null,D.currentTime())}),j&&D.pause(),f(ft)},bh=function(n,i){var e=[],t=void 0;if(n&&n.length)for(t=0;t<n.length;t++)i(n.start(t),n.end(t))&&e.push([n.start(t),n.end(t)]);return Et.createTimeRanges(e)},Th=function(n,i){return bh(n,function(e,t){return e-1/30<=i&&t+1/30>=i})},Sh=function(n,i){return bh(n,function(e){return e-1/30>=i})},Cf=function(n){var i=[];if(!n||!n.length)return"";for(var e=0;e<n.length;e++)i.push(n.start(e)+" => "+n.end(e));return i.join(", ")},wh=function(n){for(var i=[],e=0;e<n.length;e++)i.push({start:n.start(e),end:n.end(e)});return i},Jc=function(n,i,e){var t=void 0,r=void 0;if(e&&e.cues)for(t=e.cues.length;t--;)(r=e.cues[t]).startTime<=i&&r.endTime>=n&&e.removeCue(r)},kh=function(n){return isNaN(n)||Math.abs(n)===1/0?Number.MAX_VALUE:n},Fp=function(n,i,e){var t=x.WebKitDataCue||x.VTTCue;if(i&&i.forEach(function(F){var q=F.stream;this.inbandTextTracks_[q].addCue(new t(F.startTime+this.timestampOffset,F.endTime+this.timestampOffset,F.text))},n),e){var r=kh(n.mediaSource_.duration);if(e.forEach(function(F){var q=F.cueTime+this.timestampOffset;!(typeof q!="number"||x.isNaN(q)||q<0)&&q<1/0&&F.frames.forEach(function(Y){var tt=new t(q,q,Y.value||Y.url||Y.data||"");tt.frame=Y,tt.value=Y,function(ft){Object.defineProperties(ft.frame,{id:{get:function(){return Et.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),ft.value.key}},value:{get:function(){return Et.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),ft.value.data}},privateData:{get:function(){return Et.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),ft.value.data}}})}(tt),this.metadataTrack_.addCue(tt)},this)},n),n.metadataTrack_&&n.metadataTrack_.cues&&n.metadataTrack_.cues.length){for(var a=n.metadataTrack_.cues,f=[],y=0;y<a.length;y++)a[y]&&f.push(a[y]);var j=f.reduce(function(F,q){var Y=F[q.startTime]||[];return Y.push(q),F[q.startTime]=Y,F},{}),D=Object.keys(j).sort(function(F,q){return Number(F)-Number(q)});D.forEach(function(F,q){var Y=j[F],tt=Number(D[q+1])||r;Y.forEach(function(ft){ft.endTime=tt})})}}},vc=typeof window!="undefined"?window:{},Af=typeof Symbol=="undefined"?"__target":Symbol(),Vp="application/javascript",Hp=vc.BlobBuilder||vc.WebKitBlobBuilder||vc.MozBlobBuilder||vc.MSBlobBuilder,Zc=vc.URL||vc.webkitURL||Zc&&Zc.msURL,Qc=vc.Worker;if(Qc){var jf,Eh=ki("self.onmessage = function () {}"),Ch=new Uint8Array(1);try{(jf=new Qc(Eh)).postMessage(Ch,[Ch.buffer])}catch(n){Qc=null}finally{Zc.revokeObjectURL(Eh),jf&&jf.terminate()}}var zp=new Vi("./transmuxer-worker.worker.js",function(n,i){var e=this;(function(){var t,r,a,f,y,j,D,F,q,Y,tt,ft,dt,At,St,kt,ee,ie,Ie,Fe,Ye,an,Me,Lr,mn,Br,Wr,Di,La,fr,Ps,ta,Ou,gc,Qh,tp,ep=Math.pow(2,32)-1;(function(){var R;if(Me={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},typeof Uint8Array!="undefined"){for(R in Me)Me.hasOwnProperty(R)&&(Me[R]=[R.charCodeAt(0),R.charCodeAt(1),R.charCodeAt(2),R.charCodeAt(3)]);Lr=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),Br=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),mn=new Uint8Array([0,0,0,1]),Wr=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),Di=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),La={video:Wr,audio:Di},ta=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),Ps=new Uint8Array([0,0,0,0,0,0,0,0]),Ou=new Uint8Array([0,0,0,0,0,0,0,0]),gc=Ou,Qh=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),tp=Ou,fr=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}})(),t=function(R){var G,X,J=[],nt=0;for(G=1;G<arguments.length;G++)J.push(arguments[G]);for(G=J.length;G--;)nt+=J[G].byteLength;for(X=new Uint8Array(nt+8),new DataView(X.buffer,X.byteOffset,X.byteLength).setUint32(0,X.byteLength),X.set(R,4),G=0,nt=8;G<J.length;G++)X.set(J[G],nt),nt+=J[G].byteLength;return X},r=function(){return t(Me.dinf,t(Me.dref,ta))},a=function(R){return t(Me.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,R.audioobjecttype<<3|R.samplingfrequencyindex>>>1,R.samplingfrequencyindex<<7|R.channelcount<<3,6,1,2]))},f=function(){return t(Me.ftyp,Lr,mn,Lr,Br)},kt=function(R){return t(Me.hdlr,La[R])},y=function(R){return t(Me.mdat,R)},St=function(R){var G=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,R.duration>>>24&255,R.duration>>>16&255,R.duration>>>8&255,255&R.duration,85,196,0,0]);return R.samplerate&&(G[12]=R.samplerate>>>24&255,G[13]=R.samplerate>>>16&255,G[14]=R.samplerate>>>8&255,G[15]=255&R.samplerate),t(Me.mdhd,G)},At=function(R){return t(Me.mdia,St(R),kt(R.type),D(R))},j=function(R){return t(Me.mfhd,new Uint8Array([0,0,0,0,(4278190080&R)>>24,(16711680&R)>>16,(65280&R)>>8,255&R]))},D=function(R){return t(Me.minf,R.type==="video"?t(Me.vmhd,fr):t(Me.smhd,Ps),r(),ie(R))},F=function(R,G){for(var X=[],J=G.length;J--;)X[J]=Fe(G[J]);return t.apply(null,[Me.moof,j(R)].concat(X))},q=function(R){for(var G=R.length,X=[];G--;)X[G]=ft(R[G]);return t.apply(null,[Me.moov,tt(4294967295)].concat(X).concat(Y(R)))},Y=function(R){for(var G=R.length,X=[];G--;)X[G]=Ye(R[G]);return t.apply(null,[Me.mvex].concat(X))},tt=function(R){var G=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(4278190080&R)>>24,(16711680&R)>>16,(65280&R)>>8,255&R,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return t(Me.mvhd,G)},ee=function(R){var G,X,J=R.samples||[],nt=new Uint8Array(4+J.length);for(X=0;X<J.length;X++)G=J[X].flags,nt[X+4]=G.dependsOn<<4|G.isDependedOn<<2|G.hasRedundancy;return t(Me.sdtp,nt)},ie=function(R){return t(Me.stbl,Ie(R),t(Me.stts,tp),t(Me.stsc,gc),t(Me.stsz,Qh),t(Me.stco,Ou))},function(){var R,G;Ie=function(X){return t(Me.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),X.type==="video"?R(X):G(X))},R=function(X){var J,nt=X.sps||[],ut=X.pps||[],_t=[],bt=[];for(J=0;J<nt.length;J++)_t.push((65280&nt[J].byteLength)>>>8),_t.push(255&nt[J].byteLength),_t=_t.concat(Array.prototype.slice.call(nt[J]));for(J=0;J<ut.length;J++)bt.push((65280&ut[J].byteLength)>>>8),bt.push(255&ut[J].byteLength),bt=bt.concat(Array.prototype.slice.call(ut[J]));return t(Me.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&X.width)>>8,255&X.width,(65280&X.height)>>8,255&X.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),t(Me.avcC,new Uint8Array([1,X.profileIdc,X.profileCompatibility,X.levelIdc,255].concat([nt.length]).concat(_t).concat([ut.length]).concat(bt))),t(Me.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])))},G=function(X){return t(Me.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(65280&X.channelcount)>>8,255&X.channelcount,(65280&X.samplesize)>>8,255&X.samplesize,0,0,0,0,(65280&X.samplerate)>>8,255&X.samplerate,0,0]),a(X))}}(),dt=function(R){var G=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(4278190080&R.id)>>24,(16711680&R.id)>>16,(65280&R.id)>>8,255&R.id,0,0,0,0,(4278190080&R.duration)>>24,(16711680&R.duration)>>16,(65280&R.duration)>>8,255&R.duration,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(65280&R.width)>>8,255&R.width,0,0,(65280&R.height)>>8,255&R.height,0,0]);return t(Me.tkhd,G)},Fe=function(R){var G,X,J,nt,ut,_t;return G=t(Me.tfhd,new Uint8Array([0,0,0,58,(4278190080&R.id)>>24,(16711680&R.id)>>16,(65280&R.id)>>8,255&R.id,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),ut=Math.floor(R.baseMediaDecodeTime/(ep+1)),_t=Math.floor(R.baseMediaDecodeTime%(ep+1)),X=t(Me.tfdt,new Uint8Array([1,0,0,0,ut>>>24&255,ut>>>16&255,ut>>>8&255,255&ut,_t>>>24&255,_t>>>16&255,_t>>>8&255,255&_t])),R.type==="audio"?(J=an(R,92),t(Me.traf,G,X,J)):(nt=ee(R),J=an(R,nt.length+92),t(Me.traf,G,X,J,nt))},ft=function(R){return R.duration=R.duration||4294967295,t(Me.trak,dt(R),At(R))},Ye=function(R){var G=new Uint8Array([0,0,0,0,(4278190080&R.id)>>24,(16711680&R.id)>>16,(65280&R.id)>>8,255&R.id,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return R.type!=="video"&&(G[G.length-1]=0),t(Me.trex,G)},function(){var R,G,X;X=function(J,nt){var ut=0,_t=0,bt=0,xt=0;return J.length&&(J[0].duration!==void 0&&(ut=1),J[0].size!==void 0&&(_t=2),J[0].flags!==void 0&&(bt=4),J[0].compositionTimeOffset!==void 0&&(xt=8)),[0,0,ut|_t|bt|xt,1,(4278190080&J.length)>>>24,(16711680&J.length)>>>16,(65280&J.length)>>>8,255&J.length,(4278190080&nt)>>>24,(16711680&nt)>>>16,(65280&nt)>>>8,255&nt]},G=function(J,nt){var ut,_t,bt,xt;for(nt+=20+16*(_t=J.samples||[]).length,ut=X(_t,nt),xt=0;xt<_t.length;xt++)bt=_t[xt],ut=ut.concat([(4278190080&bt.duration)>>>24,(16711680&bt.duration)>>>16,(65280&bt.duration)>>>8,255&bt.duration,(4278190080&bt.size)>>>24,(16711680&bt.size)>>>16,(65280&bt.size)>>>8,255&bt.size,bt.flags.isLeading<<2|bt.flags.dependsOn,bt.flags.isDependedOn<<6|bt.flags.hasRedundancy<<4|bt.flags.paddingValue<<1|bt.flags.isNonSyncSample,61440&bt.flags.degradationPriority,15&bt.flags.degradationPriority,(4278190080&bt.compositionTimeOffset)>>>24,(16711680&bt.compositionTimeOffset)>>>16,(65280&bt.compositionTimeOffset)>>>8,255&bt.compositionTimeOffset]);return t(Me.trun,new Uint8Array(ut))},R=function(J,nt){var ut,_t,bt,xt;for(nt+=20+8*(_t=J.samples||[]).length,ut=X(_t,nt),xt=0;xt<_t.length;xt++)bt=_t[xt],ut=ut.concat([(4278190080&bt.duration)>>>24,(16711680&bt.duration)>>>16,(65280&bt.duration)>>>8,255&bt.duration,(4278190080&bt.size)>>>24,(16711680&bt.size)>>>16,(65280&bt.size)>>>8,255&bt.size]);return t(Me.trun,new Uint8Array(ut))},an=function(J,nt){return J.type==="audio"?R(J,nt):G(J,nt)}}();var Wo,Nf,np,rp,ip,td={ftyp:f,mdat:y,moof:F,moov:q,initSegment:function(R){var G,X=f(),J=q(R);return(G=new Uint8Array(X.byteLength+J.byteLength)).set(X),G.set(J,X.byteLength),G}},ed=function(R){return R>>>0};np=function(R){return Wo(R,["moov","trak"]).reduce(function(G,X){var J,nt,ut,_t,bt;return(J=Wo(X,["tkhd"])[0])?(nt=J[0],_t=ed(J[ut=nt===0?12:20]<<24|J[ut+1]<<16|J[ut+2]<<8|J[ut+3]),(bt=Wo(X,["mdia","mdhd"])[0])?(ut=(nt=bt[0])===0?12:20,G[_t]=ed(bt[ut]<<24|bt[ut+1]<<16|bt[ut+2]<<8|bt[ut+3]),G):null):null},{})},rp=function(R,G){var X,J,nt;return X=Wo(G,["moof","traf"]),J=[].concat.apply([],X.map(function(ut){return Wo(ut,["tfhd"]).map(function(_t){var bt,xt;return bt=ed(_t[4]<<24|_t[5]<<16|_t[6]<<8|_t[7]),xt=R[bt]||9e4,(Wo(ut,["tfdt"]).map(function(Ft){var je,De;return je=Ft[0],De=ed(Ft[4]<<24|Ft[5]<<16|Ft[6]<<8|Ft[7]),je===1&&(De*=Math.pow(2,32),De+=ed(Ft[8]<<24|Ft[9]<<16|Ft[10]<<8|Ft[11])),De})[0]||1/0)/xt})})),nt=Math.min.apply(null,J),isFinite(nt)?nt:0},ip=function(R){var G=Wo(R,["moov","trak"]),X=[];return G.forEach(function(J){var nt=Wo(J,["mdia","hdlr"]),ut=Wo(J,["tkhd"]);nt.forEach(function(_t,bt){var xt,Ft,je=Nf(_t.subarray(8,12)),De=ut[bt];je==="vide"&&(Ft=(xt=new DataView(De.buffer,De.byteOffset,De.byteLength)).getUint8(0)===0?xt.getUint32(12):xt.getUint32(20),X.push(Ft))})}),X};var yc={findBox:Wo=function(R,G){var X,J,nt,ut,_t,bt=[];if(!G.length)return null;for(X=0;X<R.byteLength;)J=ed(R[X]<<24|R[X+1]<<16|R[X+2]<<8|R[X+3]),nt=Nf(R.subarray(X+4,X+8)),ut=J>1?X+J:R.byteLength,nt===G[0]&&(G.length===1?bt.push(R.subarray(X+8,ut)):(_t=Wo(R.subarray(X+8,ut),G.slice(1))).length&&(bt=bt.concat(_t))),X=ut;return bt},parseType:Nf=function(R){var G="";return G+=String.fromCharCode(R[0]),G+=String.fromCharCode(R[1]),(G+=String.fromCharCode(R[2]))+String.fromCharCode(R[3])},timescale:np,startTime:rp,videoTrackIds:ip},tf=function(){this.init=function(){var R={};this.on=function(G,X){R[G]||(R[G]=[]),R[G]=R[G].concat(X)},this.off=function(G,X){var J;return!!R[G]&&(J=R[G].indexOf(X),R[G]=R[G].slice(),R[G].splice(J,1),J>-1)},this.trigger=function(G){var X,J,nt,ut;if(X=R[G])if(arguments.length===2)for(nt=X.length,J=0;J<nt;++J)X[J].call(this,arguments[1]);else{for(ut=[],J=arguments.length,J=1;J<arguments.length;++J)ut.push(arguments[J]);for(nt=X.length,J=0;J<nt;++J)X[J].apply(this,ut)}},this.dispose=function(){R={}}}};tf.prototype.pipe=function(R){return this.on("data",function(G){R.push(G)}),this.on("done",function(G){R.flush(G)}),R},tf.prototype.push=function(R){this.trigger("data",R)},tf.prototype.flush=function(R){this.trigger("done",R)};var ap,op,sp,up,lp,cp,va=tf,gm=function(R,G){var X={size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}};return X.dataOffset=G,X.compositionTimeOffset=R.pts-R.dts,X.duration=R.duration,X.size=4*R.length,X.size+=R.byteLength,R.keyFrame&&(X.flags.dependsOn=2,X.flags.isNonSyncSample=0),X},ym=function(R){var G,X,J=[],nt=[];for(J.byteLength=0,G=0;G<R.length;G++)(X=R[G]).nalUnitType==="access_unit_delimiter_rbsp"?(J.length&&(J.duration=X.dts-J.dts,nt.push(J)),(J=[X]).byteLength=X.data.byteLength,J.pts=X.pts,J.dts=X.dts):(X.nalUnitType==="slice_layer_without_partitioning_rbsp_idr"&&(J.keyFrame=!0),J.duration=X.dts-J.dts,J.byteLength+=X.data.byteLength,J.push(X));return nt.length&&(!J.duration||J.duration<=0)&&(J.duration=nt[nt.length-1].duration),nt.push(J),nt},_m=function(R){var G,X,J=[],nt=[];for(J.byteLength=0,J.nalCount=0,J.duration=0,J.pts=R[0].pts,J.dts=R[0].dts,nt.byteLength=0,nt.nalCount=0,nt.duration=0,nt.pts=R[0].pts,nt.dts=R[0].dts,G=0;G<R.length;G++)(X=R[G]).keyFrame?(J.length&&(nt.push(J),nt.byteLength+=J.byteLength,nt.nalCount+=J.nalCount,nt.duration+=J.duration),(J=[X]).nalCount=X.length,J.byteLength=X.byteLength,J.pts=X.pts,J.dts=X.dts,J.duration=X.duration):(J.duration+=X.duration,J.nalCount+=X.length,J.byteLength+=X.byteLength,J.push(X));return nt.length&&J.duration<=0&&(J.duration=nt[nt.length-1].duration),nt.byteLength+=J.byteLength,nt.nalCount+=J.nalCount,nt.duration+=J.duration,nt.push(J),nt},bm=function(R){var G;return!R[0][0].keyFrame&&R.length>1&&(G=R.shift(),R.byteLength-=G.byteLength,R.nalCount-=G.nalCount,R[0][0].dts=G.dts,R[0][0].pts=G.pts,R[0][0].duration+=G.duration),R},Tm=function(R,G){var X,J,nt,ut,_t,bt=G||0,xt=[];for(X=0;X<R.length;X++)for(ut=R[X],J=0;J<ut.length;J++)_t=ut[J],bt+=(nt=gm(_t,bt)).size,xt.push(nt);return xt},Sm=function(R){var G,X,J,nt,ut,_t,bt=0,xt=R.byteLength,Ft=R.nalCount,je=new Uint8Array(xt+4*Ft),De=new DataView(je.buffer);for(G=0;G<R.length;G++)for(nt=R[G],X=0;X<nt.length;X++)for(ut=nt[X],J=0;J<ut.length;J++)_t=ut[J],De.setUint32(bt,_t.data.byteLength),bt+=4,je.set(_t.data,bt),bt+=_t.data.byteLength;return je},wl=[33,16,5,32,164,27],Ff=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],cr=function(R){for(var G=[];R--;)G.push(0);return G},wm=function(R){return Object.keys(R).reduce(function(G,X){return G[X]=new Uint8Array(R[X].reduce(function(J,nt){return J.concat(nt)},[])),G},{})}({96e3:[wl,[227,64],cr(154),[56]],88200:[wl,[231],cr(170),[56]],64e3:[wl,[248,192],cr(240),[56]],48e3:[wl,[255,192],cr(268),[55,148,128],cr(54),[112]],44100:[wl,[255,192],cr(268),[55,163,128],cr(84),[112]],32e3:[wl,[255,192],cr(268),[55,234],cr(226),[112]],24e3:[wl,[255,192],cr(268),[55,255,128],cr(268),[111,112],cr(126),[224]],16e3:[wl,[255,192],cr(268),[55,255,128],cr(268),[111,255],cr(269),[223,108],cr(195),[1,192]],12e3:[Ff,cr(268),[3,127,248],cr(268),[6,255,240],cr(268),[13,255,224],cr(268),[27,253,128],cr(259),[56]],11025:[Ff,cr(268),[3,127,248],cr(268),[6,255,240],cr(268),[13,255,224],cr(268),[27,255,192],cr(268),[55,175,128],cr(108),[112]],8e3:[Ff,cr(268),[3,121,16],cr(47),[7]]});lp=function(R,G){return ap(up(R,G))},cp=function(R,G){return op(sp(R),G)},ap=function(R){return 9e4*R},op=function(R,G){return R*G},sp=function(R){return R/9e4},up=function(R,G){return R/G};var km=lp,Em=cp,Cm=function(R,G,X,J){var nt,ut,_t,bt=0,xt=0,Ft=0,je=0;if(G.length&&(nt=km(R.baseMediaDecodeTime,R.samplerate),bt=Math.ceil(9e4/(R.samplerate/1024)),X&&J&&(xt=nt-Math.max(X,J),je=(Ft=Math.floor(xt/bt))*bt),!(Ft<1||je>45e3))){for((ut=wm[R.samplerate])||(ut=G[0].data),_t=0;_t<Ft;_t++)G.splice(_t,0,{data:ut});R.baseMediaDecodeTime-=Math.floor(Em(je,R.samplerate))}},Am=function(R,G,X){return G.minSegmentDts>=X?R:(G.minSegmentDts=1/0,R.filter(function(J){return J.dts>=X&&(G.minSegmentDts=Math.min(G.minSegmentDts,J.dts),G.minSegmentPts=G.minSegmentDts,!0)}))},jm=function(R){var G,X,J=[];for(G=0;G<R.length;G++)X=R[G],J.push({size:X.data.byteLength,duration:1024});return J},xm=function(R){var G,X,J=0,nt=new Uint8Array(function(ut){var _t,bt=0;for(_t=0;_t<ut.length;_t++)bt+=ut[_t].data.byteLength;return bt}(R));for(G=0;G<R.length;G++)X=R[G],nt.set(X.data,J),J+=X.data.byteLength;return nt},Ed=function(R){delete R.minSegmentDts,delete R.maxSegmentDts,delete R.minSegmentPts,delete R.maxSegmentPts},dp=function(R,G){var X,J=R.minSegmentDts;return G||(J-=R.timelineStartInfo.dts),X=R.timelineStartInfo.baseMediaDecodeTime,X+=J,X=Math.max(0,X),R.type==="audio"&&(X*=R.samplerate/9e4,X=Math.floor(X)),X},Vf=function(R,G){typeof G.pts=="number"&&(R.timelineStartInfo.pts===void 0&&(R.timelineStartInfo.pts=G.pts),R.minSegmentPts===void 0?R.minSegmentPts=G.pts:R.minSegmentPts=Math.min(R.minSegmentPts,G.pts),R.maxSegmentPts===void 0?R.maxSegmentPts=G.pts:R.maxSegmentPts=Math.max(R.maxSegmentPts,G.pts)),typeof G.dts=="number"&&(R.timelineStartInfo.dts===void 0&&(R.timelineStartInfo.dts=G.dts),R.minSegmentDts===void 0?R.minSegmentDts=G.dts:R.minSegmentDts=Math.min(R.minSegmentDts,G.dts),R.maxSegmentDts===void 0?R.maxSegmentDts=G.dts:R.maxSegmentDts=Math.max(R.maxSegmentDts,G.dts))},Om=function(R){for(var G=0,X={payloadType:-1,payloadSize:0},J=0,nt=0;G<R.byteLength&&R[G]!==128;){for(;R[G]===255;)J+=255,G++;for(J+=R[G++];R[G]===255;)nt+=255,G++;if(nt+=R[G++],!X.payload&&J===4){X.payloadType=J,X.payloadSize=nt,X.payload=R.subarray(G,G+nt);break}G+=nt,J=0,nt=0}return X},Lm=function(R){return R.payload[0]!==181||(R.payload[1]<<8|R.payload[2])!=49||String.fromCharCode(R.payload[3],R.payload[4],R.payload[5],R.payload[6])!=="GA94"||R.payload[7]!==3?null:R.payload.subarray(8,R.payload.length-1)},Pm=function(R,G){var X,J,nt,ut,_t=[];if(!(64&G[0]))return _t;for(J=31&G[0],X=0;X<J;X++)ut={type:3&G[(nt=3*X)+2],pts:R},4&G[nt+2]&&(ut.ccData=G[nt+3]<<8|G[nt+4],_t.push(ut));return _t},Rm=function(R){for(var G,X,J=R.byteLength,nt=[],ut=1;ut<J-2;)R[ut]===0&&R[ut+1]===0&&R[ut+2]===3?(nt.push(ut+2),ut+=2):ut++;if(nt.length===0)return R;G=J-nt.length,X=new Uint8Array(G);var _t=0;for(ut=0;ut<G;_t++,ut++)_t===nt[0]&&(_t++,nt.shift()),X[ut]=R[_t];return X},Im=4,kl=function R(){R.prototype.init.call(this),this.captionPackets_=[],this.ccStreams_=[new Ir(0,0),new Ir(0,1),new Ir(1,0),new Ir(1,1)],this.reset(),this.ccStreams_.forEach(function(G){G.on("data",this.trigger.bind(this,"data")),G.on("done",this.trigger.bind(this,"done"))},this)};(kl.prototype=new va).push=function(R){var G,X,J;if(R.nalUnitType==="sei_rbsp"&&(G=Om(R.escapedRBSP)).payloadType===Im&&(X=Lm(G))){if(R.dts<this.latestDts_)return void(this.ignoreNextEqualDts_=!0);if(R.dts===this.latestDts_&&this.ignoreNextEqualDts_)return void(--this.numSameDts_||(this.ignoreNextEqualDts_=!1));J=Pm(R.pts,X),this.captionPackets_=this.captionPackets_.concat(J),this.latestDts_!==R.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=R.dts}},kl.prototype.flush=function(){this.captionPackets_.length?(this.captionPackets_.forEach(function(R,G){R.presortIndex=G}),this.captionPackets_.sort(function(R,G){return R.pts===G.pts?R.presortIndex-G.presortIndex:R.pts-G.pts}),this.captionPackets_.forEach(function(R){R.type<2&&this.dispatchCea608Packet(R)},this),this.captionPackets_.length=0,this.ccStreams_.forEach(function(R){R.flush()},this)):this.ccStreams_.forEach(function(R){R.flush()},this)},kl.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(R){R.reset()})},kl.prototype.dispatchCea608Packet=function(R){this.setsTextOrXDSActive(R)?this.activeCea608Channel_[R.type]=null:this.setsChannel1Active(R)?this.activeCea608Channel_[R.type]=0:this.setsChannel2Active(R)&&(this.activeCea608Channel_[R.type]=1),this.activeCea608Channel_[R.type]!==null&&this.ccStreams_[(R.type<<1)+this.activeCea608Channel_[R.type]].push(R)},kl.prototype.setsChannel1Active=function(R){return(30720&R.ccData)==4096},kl.prototype.setsChannel2Active=function(R){return(30720&R.ccData)==6144},kl.prototype.setsTextOrXDSActive=function(R){return(28928&R.ccData)==256||(30974&R.ccData)==4138||(30974&R.ccData)==6186};var Dm={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},ef=function(R){return R===null?"":(R=Dm[R]||R,String.fromCharCode(R))},Mm=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],_c=function(){for(var R=[],G=15;G--;)R.push("");return R},Ir=function R(G,X){R.prototype.init.call(this),this.field_=G||0,this.dataChannel_=X||0,this.name_="CC"+(1+(this.field_<<1|this.dataChannel_)),this.setConstants(),this.reset(),this.push=function(J){var nt,ut,_t,bt,xt;if((nt=32639&J.ccData)!==this.lastControlCode_){if((61440&nt)==4096?this.lastControlCode_=nt:nt!==this.PADDING_&&(this.lastControlCode_=null),_t=nt>>>8,bt=255&nt,nt!==this.PADDING_)if(nt===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(nt===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(J.pts),this.flushDisplayed(J.pts),ut=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=ut,this.startPts_=J.pts;else if(nt===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(J.pts);else if(nt===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(J.pts);else if(nt===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(J.pts);else if(nt===this.CARRIAGE_RETURN_)this.clearFormatting(J.pts),this.flushDisplayed(J.pts),this.shiftRowsUp_(),this.startPts_=J.pts;else if(nt===this.BACKSPACE_)this.mode_==="popOn"?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(nt===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(J.pts),this.displayed_=_c();else if(nt===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=_c();else if(nt===this.RESUME_DIRECT_CAPTIONING_)this.mode_!=="paintOn"&&(this.flushDisplayed(J.pts),this.displayed_=_c()),this.mode_="paintOn",this.startPts_=J.pts;else if(this.isSpecialCharacter(_t,bt))xt=ef((_t=(3&_t)<<8)|bt),this[this.mode_](J.pts,xt),this.column_++;else if(this.isExtCharacter(_t,bt))this.mode_==="popOn"?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),xt=ef((_t=(3&_t)<<8)|bt),this[this.mode_](J.pts,xt),this.column_++;else if(this.isMidRowCode(_t,bt))this.clearFormatting(J.pts),this[this.mode_](J.pts," "),this.column_++,(14&bt)==14&&this.addFormatting(J.pts,["i"]),(1&bt)==1&&this.addFormatting(J.pts,["u"]);else if(this.isOffsetControlCode(_t,bt))this.column_+=3&bt;else if(this.isPAC(_t,bt)){var Ft=Mm.indexOf(7968&nt);this.mode_==="rollUp"&&(Ft-this.rollUpRows_+1<0&&(Ft=this.rollUpRows_-1),this.setRollUp(J.pts,Ft)),Ft!==this.row_&&(this.clearFormatting(J.pts),this.row_=Ft),1&bt&&this.formatting_.indexOf("u")===-1&&this.addFormatting(J.pts,["u"]),(16&nt)==16&&(this.column_=4*((14&nt)>>1)),this.isColorPAC(bt)&&(14&bt)==14&&this.addFormatting(J.pts,["i"])}else this.isNormalChar(_t)&&(bt===0&&(bt=null),xt=ef(_t),xt+=ef(bt),this[this.mode_](J.pts,xt),this.column_+=xt.length)}else this.lastControlCode_=null}};Ir.prototype=new va,Ir.prototype.flushDisplayed=function(R){var G=this.displayed_.map(function(X){try{return X.trim()}catch(J){return console.error("Skipping malformed caption."),""}}).join(`
`).replace(/^\n+|\n+$/g,"");G.length&&this.trigger("data",{startPts:this.startPts_,endPts:R,text:G,stream:this.name_})},Ir.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=_c(),this.nonDisplayed_=_c(),this.lastControlCode_=null,this.column_=0,this.row_=14,this.rollUpRows_=2,this.formatting_=[]},Ir.prototype.setConstants=function(){this.dataChannel_===0?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):this.dataChannel_===1&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=32|this.CONTROL_,this.END_OF_CAPTION_=47|this.CONTROL_,this.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_,this.CARRIAGE_RETURN_=45|this.CONTROL_,this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_},Ir.prototype.isSpecialCharacter=function(R,G){return R===this.EXT_&&G>=48&&G<=63},Ir.prototype.isExtCharacter=function(R,G){return(R===this.EXT_+1||R===this.EXT_+2)&&G>=32&&G<=63},Ir.prototype.isMidRowCode=function(R,G){return R===this.EXT_&&G>=32&&G<=47},Ir.prototype.isOffsetControlCode=function(R,G){return R===this.OFFSET_&&G>=33&&G<=35},Ir.prototype.isPAC=function(R,G){return R>=this.BASE_&&R<this.BASE_+8&&G>=64&&G<=127},Ir.prototype.isColorPAC=function(R){return R>=64&&R<=79||R>=96&&R<=127},Ir.prototype.isNormalChar=function(R){return R>=32&&R<=127},Ir.prototype.setRollUp=function(R,G){if(this.mode_!=="rollUp"&&(this.row_=14,this.mode_="rollUp",this.flushDisplayed(R),this.nonDisplayed_=_c(),this.displayed_=_c()),G!==void 0&&G!==this.row_)for(var X=0;X<this.rollUpRows_;X++)this.displayed_[G-X]=this.displayed_[this.row_-X],this.displayed_[this.row_-X]="";G===void 0&&(G=this.row_),this.topRow_=G-this.rollUpRows_+1},Ir.prototype.addFormatting=function(R,G){this.formatting_=this.formatting_.concat(G);var X=G.reduce(function(J,nt){return J+"<"+nt+">"},"");this[this.mode_](R,X)},Ir.prototype.clearFormatting=function(R){if(this.formatting_.length){var G=this.formatting_.reverse().reduce(function(X,J){return X+"</"+J+">"},"");this.formatting_=[],this[this.mode_](R,G)}},Ir.prototype.popOn=function(R,G){var X=this.nonDisplayed_[this.row_];X+=G,this.nonDisplayed_[this.row_]=X},Ir.prototype.rollUp=function(R,G){var X=this.displayed_[this.row_];X+=G,this.displayed_[this.row_]=X},Ir.prototype.shiftRowsUp_=function(){var R;for(R=0;R<this.topRow_;R++)this.displayed_[R]="";for(R=this.row_+1;R<15;R++)this.displayed_[R]="";for(R=this.topRow_;R<this.row_;R++)this.displayed_[R]=this.displayed_[R+1];this.displayed_[this.row_]=""},Ir.prototype.paintOn=function(R,G){var X=this.displayed_[this.row_];X+=G,this.displayed_[this.row_]=X};var Hf={CaptionStream:kl,Cea608Stream:Ir},Ja={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},fp=function(R,G){var X=1;for(R>G&&(X=-1);Math.abs(G-R)>4294967296;)R+=8589934592*X;return R},hp=function R(G){var X,J;R.prototype.init.call(this),this.type_=G,this.push=function(nt){nt.type===this.type_&&(J===void 0&&(J=nt.dts),nt.dts=fp(nt.dts,J),nt.pts=fp(nt.pts,J),X=nt.dts,this.trigger("data",nt))},this.flush=function(){J=X,this.trigger("done")},this.discontinuity=function(){J=void 0,X=void 0}};hp.prototype=new va;var zf,Um=hp,pp=function(R,G,X){var J,nt="";for(J=G;J<X;J++)nt+="%"+("00"+R[J].toString(16)).slice(-2);return nt},nf=function(R,G,X){return decodeURIComponent(pp(R,G,X))},Bm=function(R,G,X){return unescape(pp(R,G,X))},rf=function(R){return R[0]<<21|R[1]<<14|R[2]<<7|R[3]},mp={TXXX:function(R){var G;if(R.data[0]===3){for(G=1;G<R.data.length;G++)if(R.data[G]===0){R.description=nf(R.data,1,G),R.value=nf(R.data,G+1,R.data.length).replace(/\0*$/,"");break}R.data=R.value}},WXXX:function(R){var G;if(R.data[0]===3){for(G=1;G<R.data.length;G++)if(R.data[G]===0){R.description=nf(R.data,1,G),R.url=nf(R.data,G+1,R.data.length);break}}},PRIV:function(R){var G;for(G=0;G<R.data.length;G++)if(R.data[G]===0){R.owner=Bm(R.data,0,G);break}R.privateData=R.data.subarray(G+1),R.data=R.privateData}};(zf=function(R){var G,X={debug:!(!R||!R.debug),descriptor:R&&R.descriptor},J=0,nt=[],ut=0;if(zf.prototype.init.call(this),this.dispatchType=Ja.METADATA_STREAM_TYPE.toString(16),X.descriptor)for(G=0;G<X.descriptor.length;G++)this.dispatchType+=("00"+X.descriptor[G].toString(16)).slice(-2);this.push=function(_t){var bt,xt,Ft,je,De;if(_t.type==="timed-metadata"){if(_t.dataAlignmentIndicator&&(ut=0,nt.length=0),nt.length===0&&(_t.data.length<10||_t.data[0]!=="I".charCodeAt(0)||_t.data[1]!=="D".charCodeAt(0)||_t.data[2]!=="3".charCodeAt(0)))return void(X.debug&&console.log("Skipping unrecognized metadata packet"));if(nt.push(_t),ut+=_t.data.byteLength,nt.length===1&&(J=rf(_t.data.subarray(6,10)),J+=10),!(ut<J)){for(bt={data:new Uint8Array(J),frames:[],pts:nt[0].pts,dts:nt[0].dts},De=0;De<J;)bt.data.set(nt[0].data.subarray(0,J-De),De),De+=nt[0].data.byteLength,ut-=nt[0].data.byteLength,nt.shift();xt=10,64&bt.data[5]&&(xt+=4,xt+=rf(bt.data.subarray(10,14)),J-=rf(bt.data.subarray(16,20)));do{if((Ft=rf(bt.data.subarray(xt+4,xt+8)))<1)return console.log("Malformed ID3 frame encountered. Skipping metadata parsing.");if((je={id:String.fromCharCode(bt.data[xt],bt.data[xt+1],bt.data[xt+2],bt.data[xt+3]),data:bt.data.subarray(xt+10,xt+Ft+10)}).key=je.id,mp[je.id]&&(mp[je.id](je),je.owner==="com.apple.streaming.transportStreamTimestamp")){var bn=je.data,kn=(1&bn[3])<<30|bn[4]<<22|bn[5]<<14|bn[6]<<6|bn[7]>>>2;kn*=4,kn+=3&bn[7],je.timeStamp=kn,bt.pts===void 0&&bt.dts===void 0&&(bt.pts=je.timeStamp,bt.dts=je.timeStamp),this.trigger("timestamp",je)}bt.frames.push(je),xt+=10,xt+=Ft}while(xt<J);this.trigger("data",bt)}}}}).prototype=new va;var Gf,af,Wf,Nm=zf,Fm=Um;(Gf=function(){var R=new Uint8Array(188),G=0;Gf.prototype.init.call(this),this.push=function(X){var J,nt=0,ut=188;for(G?((J=new Uint8Array(X.byteLength+G)).set(R.subarray(0,G)),J.set(X,G),G=0):J=X;ut<J.byteLength;)J[nt]!==71||J[ut]!==71?(nt++,ut++):(this.trigger("data",J.subarray(nt,ut)),nt+=188,ut+=188);nt<J.byteLength&&(R.set(J.subarray(nt),0),G=J.byteLength-nt)},this.flush=function(){G===188&&R[0]===71&&(this.trigger("data",R),G=0),this.trigger("done")}}).prototype=new va,(af=function(){var R,G,X,J;af.prototype.init.call(this),J=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,R=function(nt,ut){var _t=0;ut.payloadUnitStartIndicator&&(_t+=nt[_t]+1),ut.type==="pat"?G(nt.subarray(_t),ut):X(nt.subarray(_t),ut)},G=function(nt,ut){ut.section_number=nt[7],ut.last_section_number=nt[8],J.pmtPid=(31&nt[10])<<8|nt[11],ut.pmtPid=J.pmtPid},X=function(nt,ut){var _t,bt;if(1&nt[5]){for(J.programMapTable={video:null,audio:null,"timed-metadata":{}},_t=3+((15&nt[1])<<8|nt[2])-4,bt=12+((15&nt[10])<<8|nt[11]);bt<_t;){var xt=nt[bt],Ft=(31&nt[bt+1])<<8|nt[bt+2];xt===Ja.H264_STREAM_TYPE&&J.programMapTable.video===null?J.programMapTable.video=Ft:xt===Ja.ADTS_STREAM_TYPE&&J.programMapTable.audio===null?J.programMapTable.audio=Ft:xt===Ja.METADATA_STREAM_TYPE&&(J.programMapTable["timed-metadata"][Ft]=xt),bt+=5+((15&nt[bt+3])<<8|nt[bt+4])}ut.programMapTable=J.programMapTable}},this.push=function(nt){var ut={},_t=4;if(ut.payloadUnitStartIndicator=!!(64&nt[1]),ut.pid=31&nt[1],ut.pid<<=8,ut.pid|=nt[2],(48&nt[3])>>>4>1&&(_t+=nt[_t]+1),ut.pid===0)ut.type="pat",R(nt.subarray(_t),ut),this.trigger("data",ut);else if(ut.pid===this.pmtPid)for(ut.type="pmt",R(nt.subarray(_t),ut),this.trigger("data",ut);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else this.programMapTable===void 0?this.packetsWaitingForPmt.push([nt,_t,ut]):this.processPes_(nt,_t,ut)},this.processPes_=function(nt,ut,_t){_t.pid===this.programMapTable.video?_t.streamType=Ja.H264_STREAM_TYPE:_t.pid===this.programMapTable.audio?_t.streamType=Ja.ADTS_STREAM_TYPE:_t.streamType=this.programMapTable["timed-metadata"][_t.pid],_t.type="pes",_t.data=nt.subarray(ut),this.trigger("data",_t)}}).prototype=new va,af.STREAM_TYPES={h264:27,adts:15},(Wf=function(){var R=this,G={data:[],size:0},X={data:[],size:0},J={data:[],size:0},nt=function(ut,_t,bt){var xt,Ft=new Uint8Array(ut.size),je={type:_t},De=0,bn=0,kn=!1;if(ut.data.length&&!(ut.size<9)){for(je.trackId=ut.data[0].pid,De=0;De<ut.data.length;De++)xt=ut.data[De],Ft.set(xt.data,bn),bn+=xt.data.byteLength;(function(Un,Gn){var ga;Gn.packetLength=6+(Un[4]<<8|Un[5]),Gn.dataAlignmentIndicator=(4&Un[6])!=0,192&(ga=Un[7])&&(Gn.pts=(14&Un[9])<<27|(255&Un[10])<<20|(254&Un[11])<<12|(255&Un[12])<<5|(254&Un[13])>>>3,Gn.pts*=4,Gn.pts+=(6&Un[13])>>>1,Gn.dts=Gn.pts,64&ga&&(Gn.dts=(14&Un[14])<<27|(255&Un[15])<<20|(254&Un[16])<<12|(255&Un[17])<<5|(254&Un[18])>>>3,Gn.dts*=4,Gn.dts+=(6&Un[18])>>>1)),Gn.data=Un.subarray(9+Un[8])})(Ft,je),kn=_t==="video"||je.packetLength<=ut.size,(bt||kn)&&(ut.size=0,ut.data.length=0),kn&&R.trigger("data",je)}};Wf.prototype.init.call(this),this.push=function(ut){({pat:function(){},pes:function(){var _t,bt;switch(ut.streamType){case Ja.H264_STREAM_TYPE:case Ja.H264_STREAM_TYPE:_t=G,bt="video";break;case Ja.ADTS_STREAM_TYPE:_t=X,bt="audio";break;case Ja.METADATA_STREAM_TYPE:_t=J,bt="timed-metadata";break;default:return}ut.payloadUnitStartIndicator&&nt(_t,bt,!0),_t.data.push(ut),_t.size+=ut.data.byteLength},pmt:function(){var _t={type:"metadata",tracks:[]},bt=ut.programMapTable;bt.video!==null&&_t.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+bt.video,codec:"avc",type:"video"}),bt.audio!==null&&_t.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+bt.audio,codec:"adts",type:"audio"}),R.trigger("data",_t)}})[ut.type]()},this.flush=function(){nt(G,"video"),nt(X,"audio"),nt(J,"timed-metadata"),this.trigger("done")}}).prototype=new va;var vp={PAT_PID:0,MP2T_PACKET_LENGTH:188,TransportPacketStream:Gf,TransportParseStream:af,ElementaryStream:Wf,TimestampRolloverStream:Fm,CaptionStream:Hf.CaptionStream,Cea608Stream:Hf.Cea608Stream,MetadataStream:Nm};for(var qf in Ja)Ja.hasOwnProperty(qf)&&(vp[qf]=Ja[qf]);var $f,qo=vp,gp=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];($f=function(){var R;$f.prototype.init.call(this),this.push=function(G){var X,J,nt,ut,_t,bt,xt=0,Ft=0;if(G.type==="audio")for(R?(ut=R,(R=new Uint8Array(ut.byteLength+G.data.byteLength)).set(ut),R.set(G.data,ut.byteLength)):R=G.data;xt+5<R.length;)if(R[xt]===255&&(246&R[xt+1])==240){if(J=2*(1&~R[xt+1]),X=(3&R[xt+3])<<11|R[xt+4]<<3|(224&R[xt+5])>>5,bt=9e4*(_t=1024*(1+(3&R[xt+6])))/gp[(60&R[xt+2])>>>2],nt=xt+X,R.byteLength<nt)return;if(this.trigger("data",{pts:G.pts+Ft*bt,dts:G.dts+Ft*bt,sampleCount:_t,audioobjecttype:1+(R[xt+2]>>>6&3),channelcount:(1&R[xt+2])<<2|(192&R[xt+3])>>>6,samplerate:gp[(60&R[xt+2])>>>2],samplingfrequencyindex:(60&R[xt+2])>>>2,samplesize:16,data:R.subarray(xt+7+J,nt)}),R.byteLength===nt)return void(R=void 0);Ft++,R=R.subarray(nt)}else xt++},this.flush=function(){this.trigger("done")}}).prototype=new va;var Kf,of,yp,_p=$f,Vm=function(R){var G=R.byteLength,X=0,J=0;this.length=function(){return 8*G},this.bitsAvailable=function(){return 8*G+J},this.loadWord=function(){var nt=R.byteLength-G,ut=new Uint8Array(4),_t=Math.min(4,G);if(_t===0)throw new Error("no bytes available");ut.set(R.subarray(nt,nt+_t)),X=new DataView(ut.buffer).getUint32(0),J=8*_t,G-=_t},this.skipBits=function(nt){var ut;J>nt?(X<<=nt,J-=nt):(nt-=J,nt-=8*(ut=Math.floor(nt/8)),G-=ut,this.loadWord(),X<<=nt,J-=nt)},this.readBits=function(nt){var ut=Math.min(J,nt),_t=X>>>32-ut;return(J-=ut)>0?X<<=ut:G>0&&this.loadWord(),(ut=nt-ut)>0?_t<<ut|this.readBits(ut):_t},this.skipLeadingZeros=function(){var nt;for(nt=0;nt<J;++nt)if((X&2147483648>>>nt)!=0)return X<<=nt,J-=nt,nt;return this.loadWord(),nt+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var nt=this.skipLeadingZeros();return this.readBits(nt+1)-1},this.readExpGolomb=function(){var nt=this.readUnsignedExpGolomb();return 1&nt?1+nt>>>1:-1*(nt>>>1)},this.readBoolean=function(){return this.readBits(1)===1},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};(of=function(){var R,G,X=0;of.prototype.init.call(this),this.push=function(J){var nt;for(G?((nt=new Uint8Array(G.byteLength+J.data.byteLength)).set(G),nt.set(J.data,G.byteLength),G=nt):G=J.data;X<G.byteLength-3;X++)if(G[X+2]===1){R=X+5;break}for(;R<G.byteLength;)switch(G[R]){case 0:if(G[R-1]!==0){R+=2;break}if(G[R-2]!==0){R++;break}X+3!==R-2&&this.trigger("data",G.subarray(X+3,R-2));do R++;while(G[R]!==1&&R<G.length);X=R-2,R+=3;break;case 1:if(G[R-1]!==0||G[R-2]!==0){R+=3;break}this.trigger("data",G.subarray(X+3,R-2)),X=R-2,R+=3;break;default:R+=3}G=G.subarray(X),R-=X,X=0},this.flush=function(){G&&G.byteLength>3&&this.trigger("data",G.subarray(X+3)),G=null,X=0,this.trigger("done")}}).prototype=new va,yp={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},(Kf=function(){var R,G,X,J,nt,ut,_t,bt=new of;Kf.prototype.init.call(this),R=this,this.push=function(xt){xt.type==="video"&&(G=xt.trackId,X=xt.pts,J=xt.dts,bt.push(xt))},bt.on("data",function(xt){var Ft={trackId:G,pts:X,dts:J,data:xt};switch(31&xt[0]){case 5:Ft.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:Ft.nalUnitType="sei_rbsp",Ft.escapedRBSP=nt(xt.subarray(1));break;case 7:Ft.nalUnitType="seq_parameter_set_rbsp",Ft.escapedRBSP=nt(xt.subarray(1)),Ft.config=ut(Ft.escapedRBSP);break;case 8:Ft.nalUnitType="pic_parameter_set_rbsp";break;case 9:Ft.nalUnitType="access_unit_delimiter_rbsp"}R.trigger("data",Ft)}),bt.on("done",function(){R.trigger("done")}),this.flush=function(){bt.flush()},_t=function(xt,Ft){var je,De=8,bn=8;for(je=0;je<xt;je++)bn!==0&&(bn=(De+Ft.readExpGolomb()+256)%256),De=bn===0?De:bn},nt=function(xt){for(var Ft,je,De=xt.byteLength,bn=[],kn=1;kn<De-2;)xt[kn]===0&&xt[kn+1]===0&&xt[kn+2]===3?(bn.push(kn+2),kn+=2):kn++;if(bn.length===0)return xt;Ft=De-bn.length,je=new Uint8Array(Ft);var Un=0;for(kn=0;kn<Ft;Un++,kn++)Un===bn[0]&&(Un++,bn.shift()),je[kn]=xt[Un];return je},ut=function(xt){var Ft,je,De,bn,kn,Un,Gn,ga,ei,Rs,El,or,fi,Is=0,Cl=0,Al=0,Tc=0,jl=1;if(je=(Ft=new Vm(xt)).readUnsignedByte(),bn=Ft.readUnsignedByte(),De=Ft.readUnsignedByte(),Ft.skipUnsignedExpGolomb(),yp[je]&&((kn=Ft.readUnsignedExpGolomb())===3&&Ft.skipBits(1),Ft.skipUnsignedExpGolomb(),Ft.skipUnsignedExpGolomb(),Ft.skipBits(1),Ft.readBoolean()))for(El=kn!==3?8:12,fi=0;fi<El;fi++)Ft.readBoolean()&&_t(fi<6?16:64,Ft);if(Ft.skipUnsignedExpGolomb(),(Un=Ft.readUnsignedExpGolomb())===0)Ft.readUnsignedExpGolomb();else if(Un===1)for(Ft.skipBits(1),Ft.skipExpGolomb(),Ft.skipExpGolomb(),Gn=Ft.readUnsignedExpGolomb(),fi=0;fi<Gn;fi++)Ft.skipExpGolomb();if(Ft.skipUnsignedExpGolomb(),Ft.skipBits(1),ga=Ft.readUnsignedExpGolomb(),ei=Ft.readUnsignedExpGolomb(),(Rs=Ft.readBits(1))===0&&Ft.skipBits(1),Ft.skipBits(1),Ft.readBoolean()&&(Is=Ft.readUnsignedExpGolomb(),Cl=Ft.readUnsignedExpGolomb(),Al=Ft.readUnsignedExpGolomb(),Tc=Ft.readUnsignedExpGolomb()),Ft.readBoolean()&&Ft.readBoolean()){switch(Ft.readUnsignedByte()){case 1:or=[1,1];break;case 2:or=[12,11];break;case 3:or=[10,11];break;case 4:or=[16,11];break;case 5:or=[40,33];break;case 6:or=[24,11];break;case 7:or=[20,11];break;case 8:or=[32,11];break;case 9:or=[80,33];break;case 10:or=[18,11];break;case 11:or=[15,11];break;case 12:or=[64,33];break;case 13:or=[160,99];break;case 14:or=[4,3];break;case 15:or=[3,2];break;case 16:or=[2,1];break;case 255:or=[Ft.readUnsignedByte()<<8|Ft.readUnsignedByte(),Ft.readUnsignedByte()<<8|Ft.readUnsignedByte()]}or&&(jl=or[0]/or[1])}return{profileIdc:je,levelIdc:De,profileCompatibility:bn,width:Math.ceil((16*(ga+1)-2*Is-2*Cl)*jl),height:(2-Rs)*(ei+1)*16-2*Al-2*Tc}}}).prototype=new va;var Xf,Hm={H264Stream:Kf,NalByteStream:of},zm=function(R){return R[0]==="I".charCodeAt(0)&&R[1]==="D".charCodeAt(0)&&R[2]==="3".charCodeAt(0)},Gm=function(R,G){var X=R[G+6]<<21|R[G+7]<<14|R[G+8]<<7|R[G+9];return(16&R[G+5])>>4?X+20:X+10},Wm=function(R,G){var X=(224&R[G+5])>>5,J=R[G+4]<<3;return 6144&R[G+3]|J|X};(Xf=function(){var R=new Uint8Array,G=0;Xf.prototype.init.call(this),this.setTimestamp=function(X){G=X},this.push=function(X){var J,nt,ut,_t,bt=0,xt=0;for(R.length?(_t=R.length,(R=new Uint8Array(X.byteLength+_t)).set(R.subarray(0,_t)),R.set(X,_t)):R=X;R.length-xt>=3;)if(R[xt]!=="I".charCodeAt(0)||R[xt+1]!=="D".charCodeAt(0)||R[xt+2]!=="3".charCodeAt(0))if((255&R[xt])!=255||(240&R[xt+1])!=240)xt++;else{if(R.length-xt<7||xt+(bt=Wm(R,xt))>R.length)break;ut={type:"audio",data:R.subarray(xt,xt+bt),pts:G,dts:G},this.trigger("data",ut),xt+=bt}else{if(R.length-xt<10||xt+(bt=Gm(R,xt))>R.length)break;nt={type:"timed-metadata",data:R.subarray(xt,xt+bt)},this.trigger("data",nt),xt+=bt}J=R.length-xt,R=J>0?R.subarray(xt):new Uint8Array}}).prototype=new va;var sf,Cd,Yf,Ad,qm=Xf,$m=Hm.H264Stream,Km=zm,Jf=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],Zf=["width","height","profileIdc","levelIdc","profileCompatibility"],bp=function(R,G){var X;if(R.length!==G.length)return!1;for(X=0;X<R.length;X++)if(R[X]!==G[X])return!1;return!0},Tp=function(R,G,X,J,nt,ut){return{start:{dts:R,pts:R+(X-G)},end:{dts:R+(J-G),pts:R+(nt-X)},prependedContentDuration:ut,baseMediaDecodeTime:R}};(Cd=function(R,G){var X=[],J=0,nt=0,ut=0,_t=1/0;G=G||{},Cd.prototype.init.call(this),this.push=function(bt){Vf(R,bt),R&&Jf.forEach(function(xt){R[xt]=bt[xt]}),X.push(bt)},this.setEarliestDts=function(bt){nt=bt-R.timelineStartInfo.baseMediaDecodeTime},this.setVideoBaseMediaDecodeTime=function(bt){_t=bt},this.setAudioAppendStart=function(bt){ut=bt},this.flush=function(){var bt,xt,Ft,je;X.length!==0?(bt=Am(X,R,nt),R.baseMediaDecodeTime=dp(R,G.keepOriginalTimestamps),Cm(R,bt,ut,_t),R.samples=jm(bt),Ft=td.mdat(xm(bt)),X=[],xt=td.moof(J,[R]),je=new Uint8Array(xt.byteLength+Ft.byteLength),J++,je.set(xt),je.set(Ft,xt.byteLength),Ed(R),this.trigger("data",{track:R,boxes:je}),this.trigger("done","AudioSegmentStream")):this.trigger("done","AudioSegmentStream")}}).prototype=new va,(sf=function(R,G){var X,J,nt=0,ut=[],_t=[];G=G||{},sf.prototype.init.call(this),delete R.minPTS,this.gopCache_=[],this.push=function(bt){Vf(R,bt),bt.nalUnitType!=="seq_parameter_set_rbsp"||X||(X=bt.config,R.sps=[bt.data],Zf.forEach(function(xt){R[xt]=X[xt]},this)),bt.nalUnitType!=="pic_parameter_set_rbsp"||J||(J=bt.data,R.pps=[bt.data]),ut.push(bt)},this.flush=function(){for(var bt,xt,Ft,je,De,bn,kn,Un,Gn=0;ut.length&&ut[0].nalUnitType!=="access_unit_delimiter_rbsp";)ut.shift();if(ut.length===0)return this.resetStream_(),void this.trigger("done","VideoSegmentStream");if(bt=ym(ut),(Ft=_m(bt))[0][0].keyFrame||((xt=this.getGopForFusion_(ut[0],R))?(Gn=xt.duration,Ft.unshift(xt),Ft.byteLength+=xt.byteLength,Ft.nalCount+=xt.nalCount,Ft.pts=xt.pts,Ft.dts=xt.dts,Ft.duration+=xt.duration):Ft=bm(Ft)),_t.length){var ga;if(!(ga=G.alignGopsAtEnd?this.alignGopsAtEnd_(Ft):this.alignGopsAtStart_(Ft)))return this.gopCache_.unshift({gop:Ft.pop(),pps:R.pps,sps:R.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),ut=[],this.resetStream_(),void this.trigger("done","VideoSegmentStream");Ed(R),Ft=ga}Vf(R,Ft),R.samples=Tm(Ft),De=td.mdat(Sm(Ft)),R.baseMediaDecodeTime=dp(R,G.keepOriginalTimestamps),this.trigger("processedGopsInfo",Ft.map(function(ei){return{pts:ei.pts,dts:ei.dts,byteLength:ei.byteLength}})),kn=Ft[0],Un=Ft[Ft.length-1],this.trigger("segmentTimingInfo",Tp(R.baseMediaDecodeTime,kn.dts,kn.pts,Un.dts+Un.duration,Un.pts+Un.duration,Gn)),this.gopCache_.unshift({gop:Ft.pop(),pps:R.pps,sps:R.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),ut=[],this.trigger("baseMediaDecodeTime",R.baseMediaDecodeTime),this.trigger("timelineStartInfo",R.timelineStartInfo),je=td.moof(nt,[R]),bn=new Uint8Array(je.byteLength+De.byteLength),nt++,bn.set(je),bn.set(De,je.byteLength),this.trigger("data",{track:R,boxes:bn}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.resetStream_=function(){Ed(R),X=void 0,J=void 0},this.getGopForFusion_=function(bt){var xt,Ft,je,De,bn,kn=1/0;for(bn=0;bn<this.gopCache_.length;bn++)je=(De=this.gopCache_[bn]).gop,R.pps&&bp(R.pps[0],De.pps[0])&&R.sps&&bp(R.sps[0],De.sps[0])&&(je.dts<R.timelineStartInfo.dts||(xt=bt.dts-je.dts-je.duration)>=-1e4&&xt<=45e3&&(!Ft||kn>xt)&&(Ft=De,kn=xt));return Ft?Ft.gop:null},this.alignGopsAtStart_=function(bt){var xt,Ft,je,De,bn,kn,Un,Gn;for(bn=bt.byteLength,kn=bt.nalCount,Un=bt.duration,xt=Ft=0;xt<_t.length&&Ft<bt.length&&(je=_t[xt],De=bt[Ft],je.pts!==De.pts);)De.pts>je.pts?xt++:(Ft++,bn-=De.byteLength,kn-=De.nalCount,Un-=De.duration);return Ft===0?bt:Ft===bt.length?null:((Gn=bt.slice(Ft)).byteLength=bn,Gn.duration=Un,Gn.nalCount=kn,Gn.pts=Gn[0].pts,Gn.dts=Gn[0].dts,Gn)},this.alignGopsAtEnd_=function(bt){var xt,Ft,je,De,bn,kn,Un;for(xt=_t.length-1,Ft=bt.length-1,bn=null,kn=!1;xt>=0&&Ft>=0;){if(je=_t[xt],De=bt[Ft],je.pts===De.pts){kn=!0;break}je.pts>De.pts?xt--:(xt===_t.length-1&&(bn=Ft),Ft--)}if(!kn&&bn===null)return null;if((Un=kn?Ft:bn)===0)return bt;var Gn=bt.slice(Un),ga=Gn.reduce(function(ei,Rs){return ei.byteLength+=Rs.byteLength,ei.duration+=Rs.duration,ei.nalCount+=Rs.nalCount,ei},{byteLength:0,duration:0,nalCount:0});return Gn.byteLength=ga.byteLength,Gn.duration=ga.duration,Gn.nalCount=ga.nalCount,Gn.pts=Gn[0].pts,Gn.dts=Gn[0].dts,Gn},this.alignGopsWith=function(bt){_t=bt}}).prototype=new va,(Ad=function(R,G){this.numberOfTracks=0,this.metadataStream=G,(R=R||{}).remux!==void 0?this.remuxTracks=!!R.remux:this.remuxTracks=!0,typeof R.keepOriginalTimestamps=="boolean"&&(this.keepOriginalTimestamps=R.keepOriginalTimestamps),this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,Ad.prototype.init.call(this),this.push=function(X){return X.text?this.pendingCaptions.push(X):X.frames?this.pendingMetadata.push(X):(this.pendingTracks.push(X.track),this.pendingBoxes.push(X.boxes),this.pendingBytes+=X.boxes.byteLength,X.track.type==="video"&&(this.videoTrack=X.track),void(X.track.type==="audio"&&(this.audioTrack=X.track)))}}).prototype=new va,Ad.prototype.flush=function(R){var G,X,J,nt,ut=0,_t={captions:[],captionStreams:{},metadata:[],info:{}},bt=0;if(this.pendingTracks.length<this.numberOfTracks){if(R!=="VideoSegmentStream"&&R!=="AudioSegmentStream"||this.remuxTracks)return;if(this.pendingTracks.length===0)return void(++this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0))}for(this.videoTrack?(bt=this.videoTrack.timelineStartInfo.pts,Zf.forEach(function(xt){_t.info[xt]=this.videoTrack[xt]},this)):this.audioTrack&&(bt=this.audioTrack.timelineStartInfo.pts,Jf.forEach(function(xt){_t.info[xt]=this.audioTrack[xt]},this)),this.pendingTracks.length===1?_t.type=this.pendingTracks[0].type:_t.type="combined",this.emittedTracks+=this.pendingTracks.length,J=td.initSegment(this.pendingTracks),_t.initSegment=new Uint8Array(J.byteLength),_t.initSegment.set(J),_t.data=new Uint8Array(this.pendingBytes),nt=0;nt<this.pendingBoxes.length;nt++)_t.data.set(this.pendingBoxes[nt],ut),ut+=this.pendingBoxes[nt].byteLength;for(nt=0;nt<this.pendingCaptions.length;nt++)(G=this.pendingCaptions[nt]).startTime=G.startPts,this.keepOriginalTimestamps||(G.startTime-=bt),G.startTime/=9e4,G.endTime=G.endPts,this.keepOriginalTimestamps||(G.endTime-=bt),G.endTime/=9e4,_t.captionStreams[G.stream]=!0,_t.captions.push(G);for(nt=0;nt<this.pendingMetadata.length;nt++)(X=this.pendingMetadata[nt]).cueTime=X.pts,this.keepOriginalTimestamps||(X.cueTime-=bt),X.cueTime/=9e4,_t.metadata.push(X);_t.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",_t),this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},(Yf=function(R){var G,X,J=this,nt=!0;Yf.prototype.init.call(this),R=R||{},this.baseMediaDecodeTime=R.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var ut={};this.transmuxPipeline_=ut,ut.type="aac",ut.metadataStream=new qo.MetadataStream,ut.aacStream=new qm,ut.audioTimestampRolloverStream=new qo.TimestampRolloverStream("audio"),ut.timedMetadataTimestampRolloverStream=new qo.TimestampRolloverStream("timed-metadata"),ut.adtsStream=new _p,ut.coalesceStream=new Ad(R,ut.metadataStream),ut.headOfPipeline=ut.aacStream,ut.aacStream.pipe(ut.audioTimestampRolloverStream).pipe(ut.adtsStream),ut.aacStream.pipe(ut.timedMetadataTimestampRolloverStream).pipe(ut.metadataStream).pipe(ut.coalesceStream),ut.metadataStream.on("timestamp",function(_t){ut.aacStream.setTimestamp(_t.timeStamp)}),ut.aacStream.on("data",function(_t){_t.type!=="timed-metadata"||ut.audioSegmentStream||(X=X||{timelineStartInfo:{baseMediaDecodeTime:J.baseMediaDecodeTime},codec:"adts",type:"audio"},ut.coalesceStream.numberOfTracks++,ut.audioSegmentStream=new Cd(X,R),ut.adtsStream.pipe(ut.audioSegmentStream).pipe(ut.coalesceStream))}),ut.coalesceStream.on("data",this.trigger.bind(this,"data")),ut.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setupTsPipeline=function(){var ut={};this.transmuxPipeline_=ut,ut.type="ts",ut.metadataStream=new qo.MetadataStream,ut.packetStream=new qo.TransportPacketStream,ut.parseStream=new qo.TransportParseStream,ut.elementaryStream=new qo.ElementaryStream,ut.videoTimestampRolloverStream=new qo.TimestampRolloverStream("video"),ut.audioTimestampRolloverStream=new qo.TimestampRolloverStream("audio"),ut.timedMetadataTimestampRolloverStream=new qo.TimestampRolloverStream("timed-metadata"),ut.adtsStream=new _p,ut.h264Stream=new $m,ut.captionStream=new qo.CaptionStream,ut.coalesceStream=new Ad(R,ut.metadataStream),ut.headOfPipeline=ut.packetStream,ut.packetStream.pipe(ut.parseStream).pipe(ut.elementaryStream),ut.elementaryStream.pipe(ut.videoTimestampRolloverStream).pipe(ut.h264Stream),ut.elementaryStream.pipe(ut.audioTimestampRolloverStream).pipe(ut.adtsStream),ut.elementaryStream.pipe(ut.timedMetadataTimestampRolloverStream).pipe(ut.metadataStream).pipe(ut.coalesceStream),ut.h264Stream.pipe(ut.captionStream).pipe(ut.coalesceStream),ut.elementaryStream.on("data",function(_t){var bt;if(_t.type==="metadata"){for(bt=_t.tracks.length;bt--;)G||_t.tracks[bt].type!=="video"?X||_t.tracks[bt].type!=="audio"||((X=_t.tracks[bt]).timelineStartInfo.baseMediaDecodeTime=J.baseMediaDecodeTime):(G=_t.tracks[bt]).timelineStartInfo.baseMediaDecodeTime=J.baseMediaDecodeTime;G&&!ut.videoSegmentStream&&(ut.coalesceStream.numberOfTracks++,ut.videoSegmentStream=new sf(G,R),ut.videoSegmentStream.on("timelineStartInfo",function(xt){X&&(X.timelineStartInfo=xt,ut.audioSegmentStream.setEarliestDts(xt.dts))}),ut.videoSegmentStream.on("processedGopsInfo",J.trigger.bind(J,"gopInfo")),ut.videoSegmentStream.on("segmentTimingInfo",J.trigger.bind(J,"videoSegmentTimingInfo")),ut.videoSegmentStream.on("baseMediaDecodeTime",function(xt){X&&ut.audioSegmentStream.setVideoBaseMediaDecodeTime(xt)}),ut.h264Stream.pipe(ut.videoSegmentStream).pipe(ut.coalesceStream)),X&&!ut.audioSegmentStream&&(ut.coalesceStream.numberOfTracks++,ut.audioSegmentStream=new Cd(X,R),ut.adtsStream.pipe(ut.audioSegmentStream).pipe(ut.coalesceStream))}}),ut.coalesceStream.on("data",this.trigger.bind(this,"data")),ut.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setBaseMediaDecodeTime=function(ut){var _t=this.transmuxPipeline_;R.keepOriginalTimestamps||(this.baseMediaDecodeTime=ut),X&&(X.timelineStartInfo.dts=void 0,X.timelineStartInfo.pts=void 0,Ed(X),R.keepOriginalTimestamps||(X.timelineStartInfo.baseMediaDecodeTime=ut),_t.audioTimestampRolloverStream&&_t.audioTimestampRolloverStream.discontinuity()),G&&(_t.videoSegmentStream&&(_t.videoSegmentStream.gopCache_=[],_t.videoTimestampRolloverStream.discontinuity()),G.timelineStartInfo.dts=void 0,G.timelineStartInfo.pts=void 0,Ed(G),_t.captionStream.reset(),R.keepOriginalTimestamps||(G.timelineStartInfo.baseMediaDecodeTime=ut)),_t.timedMetadataTimestampRolloverStream&&_t.timedMetadataTimestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(ut){X&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(ut)},this.alignGopsWith=function(ut){G&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(ut)},this.push=function(ut){if(nt){var _t=Km(ut);_t&&this.transmuxPipeline_.type!=="aac"?this.setupAacPipeline():_t||this.transmuxPipeline_.type==="ts"||this.setupTsPipeline(),nt=!1}this.transmuxPipeline_.headOfPipeline.push(ut)},this.flush=function(){nt=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}}).prototype=new va;var Pa,Sp,Qf={Transmuxer:Yf,VideoSegmentStream:sf,AudioSegmentStream:Cd,AUDIO_PROPERTIES:Jf,VIDEO_PROPERTIES:Zf,generateVideoSegmentTimingInfo:Tp},uf=yc.parseType,To=function(R){return new Date(1e3*R-20828448e5)},wp=function(R){return{isLeading:(12&R[0])>>>2,dependsOn:3&R[0],isDependedOn:(192&R[1])>>>6,hasRedundancy:(48&R[1])>>>4,paddingValue:(14&R[1])>>>1,isNonSyncSample:1&R[1],degradationPriority:R[2]<<8|R[3]}},Xm=function(R){var G,X,J=new DataView(R.buffer,R.byteOffset,R.byteLength),nt=[];for(G=0;G+4<R.length;G+=X)if(X=J.getUint32(G),G+=4,X<=0)nt.push("<span style='color:red;'>MALFORMED DATA</span>");else switch(31&R[G]){case 1:nt.push("slice_layer_without_partitioning_rbsp");break;case 5:nt.push("slice_layer_without_partitioning_rbsp_idr");break;case 6:nt.push("sei_rbsp");break;case 7:nt.push("seq_parameter_set_rbsp");break;case 8:nt.push("pic_parameter_set_rbsp");break;case 9:nt.push("access_unit_delimiter_rbsp");break;default:nt.push("UNKNOWN NAL - "+R[G]&31)}return nt},bc={avc1:function(R){var G=new DataView(R.buffer,R.byteOffset,R.byteLength);return{dataReferenceIndex:G.getUint16(6),width:G.getUint16(24),height:G.getUint16(26),horizresolution:G.getUint16(28)+G.getUint16(30)/16,vertresolution:G.getUint16(32)+G.getUint16(34)/16,frameCount:G.getUint16(40),depth:G.getUint16(74),config:Pa(R.subarray(78,R.byteLength))}},avcC:function(R){var G,X,J,nt,ut=new DataView(R.buffer,R.byteOffset,R.byteLength),_t={configurationVersion:R[0],avcProfileIndication:R[1],profileCompatibility:R[2],avcLevelIndication:R[3],lengthSizeMinusOne:3&R[4],sps:[],pps:[]},bt=31&R[5];for(J=6,nt=0;nt<bt;nt++)X=ut.getUint16(J),J+=2,_t.sps.push(new Uint8Array(R.subarray(J,J+X))),J+=X;for(G=R[J],J++,nt=0;nt<G;nt++)X=ut.getUint16(J),J+=2,_t.pps.push(new Uint8Array(R.subarray(J,J+X))),J+=X;return _t},btrt:function(R){var G=new DataView(R.buffer,R.byteOffset,R.byteLength);return{bufferSizeDB:G.getUint32(0),maxBitrate:G.getUint32(4),avgBitrate:G.getUint32(8)}},esds:function(R){return{version:R[0],flags:new Uint8Array(R.subarray(1,4)),esId:R[6]<<8|R[7],streamPriority:31&R[8],decoderConfig:{objectProfileIndication:R[11],streamType:R[12]>>>2&63,bufferSize:R[13]<<16|R[14]<<8|R[15],maxBitrate:R[16]<<24|R[17]<<16|R[18]<<8|R[19],avgBitrate:R[20]<<24|R[21]<<16|R[22]<<8|R[23],decoderConfigDescriptor:{tag:R[24],length:R[25],audioObjectType:R[26]>>>3&31,samplingFrequencyIndex:(7&R[26])<<1|R[27]>>>7&1,channelConfiguration:R[27]>>>3&15}}}},ftyp:function(R){for(var G=new DataView(R.buffer,R.byteOffset,R.byteLength),X={majorBrand:uf(R.subarray(0,4)),minorVersion:G.getUint32(4),compatibleBrands:[]},J=8;J<R.byteLength;)X.compatibleBrands.push(uf(R.subarray(J,J+4))),J+=4;return X},dinf:function(R){return{boxes:Pa(R)}},dref:function(R){return{version:R[0],flags:new Uint8Array(R.subarray(1,4)),dataReferences:Pa(R.subarray(8))}},hdlr:function(R){var G={version:new DataView(R.buffer,R.byteOffset,R.byteLength).getUint8(0),flags:new Uint8Array(R.subarray(1,4)),handlerType:uf(R.subarray(8,12)),name:""},X=8;for(X=24;X<R.byteLength;X++){if(R[X]===0){X++;break}G.name+=String.fromCharCode(R[X])}return G.name=decodeURIComponent(escape(G.name)),G},mdat:function(R){return{byteLength:R.byteLength,nals:Xm(R)}},mdhd:function(R){var G,X=new DataView(R.buffer,R.byteOffset,R.byteLength),J=4,nt={version:X.getUint8(0),flags:new Uint8Array(R.subarray(1,4)),language:""};return nt.version===1?(J+=4,nt.creationTime=To(X.getUint32(J)),J+=8,nt.modificationTime=To(X.getUint32(J)),J+=4,nt.timescale=X.getUint32(J),J+=8,nt.duration=X.getUint32(J)):(nt.creationTime=To(X.getUint32(J)),J+=4,nt.modificationTime=To(X.getUint32(J)),J+=4,nt.timescale=X.getUint32(J),J+=4,nt.duration=X.getUint32(J)),J+=4,G=X.getUint16(J),nt.language+=String.fromCharCode(96+(G>>10)),nt.language+=String.fromCharCode(96+((992&G)>>5)),nt.language+=String.fromCharCode(96+(31&G)),nt},mdia:function(R){return{boxes:Pa(R)}},mfhd:function(R){return{version:R[0],flags:new Uint8Array(R.subarray(1,4)),sequenceNumber:R[4]<<24|R[5]<<16|R[6]<<8|R[7]}},minf:function(R){return{boxes:Pa(R)}},mp4a:function(R){var G=new DataView(R.buffer,R.byteOffset,R.byteLength),X={dataReferenceIndex:G.getUint16(6),channelcount:G.getUint16(16),samplesize:G.getUint16(18),samplerate:G.getUint16(24)+G.getUint16(26)/65536};return R.byteLength>28&&(X.streamDescriptor=Pa(R.subarray(28))[0]),X},moof:function(R){return{boxes:Pa(R)}},moov:function(R){return{boxes:Pa(R)}},mvex:function(R){return{boxes:Pa(R)}},mvhd:function(R){var G=new DataView(R.buffer,R.byteOffset,R.byteLength),X=4,J={version:G.getUint8(0),flags:new Uint8Array(R.subarray(1,4))};return J.version===1?(X+=4,J.creationTime=To(G.getUint32(X)),X+=8,J.modificationTime=To(G.getUint32(X)),X+=4,J.timescale=G.getUint32(X),X+=8,J.duration=G.getUint32(X)):(J.creationTime=To(G.getUint32(X)),X+=4,J.modificationTime=To(G.getUint32(X)),X+=4,J.timescale=G.getUint32(X),X+=4,J.duration=G.getUint32(X)),X+=4,J.rate=G.getUint16(X)+G.getUint16(X+2)/16,X+=4,J.volume=G.getUint8(X)+G.getUint8(X+1)/8,X+=2,X+=2,X+=8,J.matrix=new Uint32Array(R.subarray(X,X+36)),X+=36,X+=24,J.nextTrackId=G.getUint32(X),J},pdin:function(R){var G=new DataView(R.buffer,R.byteOffset,R.byteLength);return{version:G.getUint8(0),flags:new Uint8Array(R.subarray(1,4)),rate:G.getUint32(4),initialDelay:G.getUint32(8)}},sdtp:function(R){var G,X={version:R[0],flags:new Uint8Array(R.subarray(1,4)),samples:[]};for(G=4;G<R.byteLength;G++)X.samples.push({dependsOn:(48&R[G])>>4,isDependedOn:(12&R[G])>>2,hasRedundancy:3&R[G]});return X},sidx:function(R){var G,X=new DataView(R.buffer,R.byteOffset,R.byteLength),J={version:R[0],flags:new Uint8Array(R.subarray(1,4)),references:[],referenceId:X.getUint32(4),timescale:X.getUint32(8),earliestPresentationTime:X.getUint32(12),firstOffset:X.getUint32(16)},nt=X.getUint16(22);for(G=24;nt;G+=12,nt--)J.references.push({referenceType:(128&R[G])>>>7,referencedSize:2147483647&X.getUint32(G),subsegmentDuration:X.getUint32(G+4),startsWithSap:!!(128&R[G+8]),sapType:(112&R[G+8])>>>4,sapDeltaTime:268435455&X.getUint32(G+8)});return J},smhd:function(R){return{version:R[0],flags:new Uint8Array(R.subarray(1,4)),balance:R[4]+R[5]/256}},stbl:function(R){return{boxes:Pa(R)}},stco:function(R){var G,X=new DataView(R.buffer,R.byteOffset,R.byteLength),J={version:R[0],flags:new Uint8Array(R.subarray(1,4)),chunkOffsets:[]},nt=X.getUint32(4);for(G=8;nt;G+=4,nt--)J.chunkOffsets.push(X.getUint32(G));return J},stsc:function(R){var G,X=new DataView(R.buffer,R.byteOffset,R.byteLength),J=X.getUint32(4),nt={version:R[0],flags:new Uint8Array(R.subarray(1,4)),sampleToChunks:[]};for(G=8;J;G+=12,J--)nt.sampleToChunks.push({firstChunk:X.getUint32(G),samplesPerChunk:X.getUint32(G+4),sampleDescriptionIndex:X.getUint32(G+8)});return nt},stsd:function(R){return{version:R[0],flags:new Uint8Array(R.subarray(1,4)),sampleDescriptions:Pa(R.subarray(8))}},stsz:function(R){var G,X=new DataView(R.buffer,R.byteOffset,R.byteLength),J={version:R[0],flags:new Uint8Array(R.subarray(1,4)),sampleSize:X.getUint32(4),entries:[]};for(G=12;G<R.byteLength;G+=4)J.entries.push(X.getUint32(G));return J},stts:function(R){var G,X=new DataView(R.buffer,R.byteOffset,R.byteLength),J={version:R[0],flags:new Uint8Array(R.subarray(1,4)),timeToSamples:[]},nt=X.getUint32(4);for(G=8;nt;G+=8,nt--)J.timeToSamples.push({sampleCount:X.getUint32(G),sampleDelta:X.getUint32(G+4)});return J},styp:function(R){return bc.ftyp(R)},tfdt:function(R){var G={version:R[0],flags:new Uint8Array(R.subarray(1,4)),baseMediaDecodeTime:R[4]<<24|R[5]<<16|R[6]<<8|R[7]};return G.version===1&&(G.baseMediaDecodeTime*=Math.pow(2,32),G.baseMediaDecodeTime+=R[8]<<24|R[9]<<16|R[10]<<8|R[11]),G},tfhd:function(R){var G,X=new DataView(R.buffer,R.byteOffset,R.byteLength),J={version:R[0],flags:new Uint8Array(R.subarray(1,4)),trackId:X.getUint32(4)},nt=1&J.flags[2],ut=2&J.flags[2],_t=8&J.flags[2],bt=16&J.flags[2],xt=32&J.flags[2],Ft=65536&J.flags[0],je=131072&J.flags[0];return G=8,nt&&(G+=4,J.baseDataOffset=X.getUint32(12),G+=4),ut&&(J.sampleDescriptionIndex=X.getUint32(G),G+=4),_t&&(J.defaultSampleDuration=X.getUint32(G),G+=4),bt&&(J.defaultSampleSize=X.getUint32(G),G+=4),xt&&(J.defaultSampleFlags=X.getUint32(G)),Ft&&(J.durationIsEmpty=!0),!nt&&je&&(J.baseDataOffsetIsMoof=!0),J},tkhd:function(R){var G=new DataView(R.buffer,R.byteOffset,R.byteLength),X=4,J={version:G.getUint8(0),flags:new Uint8Array(R.subarray(1,4))};return J.version===1?(X+=4,J.creationTime=To(G.getUint32(X)),X+=8,J.modificationTime=To(G.getUint32(X)),X+=4,J.trackId=G.getUint32(X),X+=4,X+=8,J.duration=G.getUint32(X)):(J.creationTime=To(G.getUint32(X)),X+=4,J.modificationTime=To(G.getUint32(X)),X+=4,J.trackId=G.getUint32(X),X+=4,X+=4,J.duration=G.getUint32(X)),X+=4,X+=8,J.layer=G.getUint16(X),X+=2,J.alternateGroup=G.getUint16(X),X+=2,J.volume=G.getUint8(X)+G.getUint8(X+1)/8,X+=2,X+=2,J.matrix=new Uint32Array(R.subarray(X,X+36)),X+=36,J.width=G.getUint16(X)+G.getUint16(X+2)/16,X+=4,J.height=G.getUint16(X)+G.getUint16(X+2)/16,J},traf:function(R){return{boxes:Pa(R)}},trak:function(R){return{boxes:Pa(R)}},trex:function(R){var G=new DataView(R.buffer,R.byteOffset,R.byteLength);return{version:R[0],flags:new Uint8Array(R.subarray(1,4)),trackId:G.getUint32(4),defaultSampleDescriptionIndex:G.getUint32(8),defaultSampleDuration:G.getUint32(12),defaultSampleSize:G.getUint32(16),sampleDependsOn:3&R[20],sampleIsDependedOn:(192&R[21])>>6,sampleHasRedundancy:(48&R[21])>>4,samplePaddingValue:(14&R[21])>>1,sampleIsDifferenceSample:!!(1&R[21]),sampleDegradationPriority:G.getUint16(22)}},trun:function(R){var G,X={version:R[0],flags:new Uint8Array(R.subarray(1,4)),samples:[]},J=new DataView(R.buffer,R.byteOffset,R.byteLength),nt=1&X.flags[2],ut=4&X.flags[2],_t=1&X.flags[1],bt=2&X.flags[1],xt=4&X.flags[1],Ft=8&X.flags[1],je=J.getUint32(4),De=8;for(nt&&(X.dataOffset=J.getInt32(De),De+=4),ut&&je&&(G={flags:wp(R.subarray(De,De+4))},De+=4,_t&&(G.duration=J.getUint32(De),De+=4),bt&&(G.size=J.getUint32(De),De+=4),Ft&&(G.compositionTimeOffset=J.getUint32(De),De+=4),X.samples.push(G),je--);je--;)G={},_t&&(G.duration=J.getUint32(De),De+=4),bt&&(G.size=J.getUint32(De),De+=4),xt&&(G.flags=wp(R.subarray(De,De+4)),De+=4),Ft&&(G.compositionTimeOffset=J.getUint32(De),De+=4),X.samples.push(G);return X},"url ":function(R){return{version:R[0],flags:new Uint8Array(R.subarray(1,4))}},vmhd:function(R){var G=new DataView(R.buffer,R.byteOffset,R.byteLength);return{version:R[0],flags:new Uint8Array(R.subarray(1,4)),graphicsmode:G.getUint16(4),opcolor:new Uint16Array([G.getUint16(6),G.getUint16(8),G.getUint16(10)])}}},th={inspect:Pa=function(R){for(var G,X,J,nt,ut,_t=0,bt=[],xt=new ArrayBuffer(R.length),Ft=new Uint8Array(xt),je=0;je<R.length;++je)Ft[je]=R[je];for(G=new DataView(xt);_t<R.byteLength;)X=G.getUint32(_t),J=uf(R.subarray(_t+4,_t+8)),nt=X>1?_t+X:R.byteLength,(ut=(bc[J]||function(De){return{data:De}})(R.subarray(_t+8,nt))).size=X,ut.type=J,bt.push(ut),_t=nt;return bt},textify:Sp=function(R,G){var X;return G=G||0,X=new Array(2*G+1).join(" "),R.map(function(J,nt){return X+J.type+`
`+Object.keys(J).filter(function(ut){return ut!=="type"&&ut!=="boxes"}).map(function(ut){var _t=X+"  "+ut+": ",bt=J[ut];if(bt instanceof Uint8Array||bt instanceof Uint32Array){var xt=Array.prototype.slice.call(new Uint8Array(bt.buffer,bt.byteOffset,bt.byteLength)).map(function(Ft){return" "+("00"+Ft.toString(16)).slice(-2)}).join("").match(/.{1,24}/g);return xt?xt.length===1?_t+"<"+xt.join("").slice(1)+">":_t+`<
`+xt.map(function(Ft){return X+"  "+Ft}).join(`
`)+`
`+X+"  >":_t+"<>"}return _t+JSON.stringify(bt,null,2).split(`
`).map(function(Ft,je){return je===0?Ft:X+"  "+Ft}).join(`
`)}).join(`
`)+(J.boxes?`
`+Sp(J.boxes,G+1):"")}).join(`
`)},parseTfdt:bc.tfdt,parseHdlr:bc.hdlr,parseTfhd:bc.tfhd,parseTrun:bc.trun,parseSidx:bc.sidx},Ym=Rm,Jm=Hf.CaptionStream,Zm=function(R,G){for(var X=R,J=0;J<G.length;J++){var nt=G[J];if(X<nt.size)return nt;X-=nt.size}return null},Qm=function(R,G){var X=yc.findBox(R,["moof","traf"]),J=yc.findBox(R,["mdat"]),nt={},ut=[];return J.forEach(function(_t,bt){var xt=X[bt];ut.push({mdat:_t,traf:xt})}),ut.forEach(function(_t){var bt,xt,Ft=_t.mdat,je=_t.traf,De=yc.findBox(je,["tfhd"]),bn=th.parseTfhd(De[0]),kn=bn.trackId,Un=yc.findBox(je,["tfdt"]),Gn=Un.length>0?th.parseTfdt(Un[0]).baseMediaDecodeTime:0,ga=yc.findBox(je,["trun"]);G===kn&&ga.length>0&&(bt=function(ei,Rs,El){var or=Rs,fi=El.defaultSampleDuration||0,Is=El.defaultSampleSize||0,Cl=El.trackId,Al=[];return ei.forEach(function(Tc){var jl=th.parseTrun(Tc).samples;jl.forEach(function(ea){ea.duration===void 0&&(ea.duration=fi),ea.size===void 0&&(ea.size=Is),ea.trackId=Cl,ea.dts=or,ea.compositionTimeOffset===void 0&&(ea.compositionTimeOffset=0),ea.pts=or+ea.compositionTimeOffset,or+=ea.duration}),Al=Al.concat(jl)}),Al}(ga,Gn,bn),xt=function(ei,Rs,El){var or,fi,Is,Cl,Al=new DataView(ei.buffer,ei.byteOffset,ei.byteLength),Tc=[];for(fi=0;fi+4<ei.length;fi+=Is)if(Is=Al.getUint32(fi),fi+=4,!(Is<=0))switch(31&ei[fi]){case 6:var jl=ei.subarray(fi+1,fi+1+Is),ea=Zm(fi,Rs);or={nalUnitType:"sei_rbsp",size:Is,data:jl,escapedRBSP:Ym(jl),trackId:El},ea?(or.pts=ea.pts,or.dts=ea.dts,Cl=ea):(or.pts=Cl.pts,or.dts=Cl.dts),Tc.push(or)}return Tc}(Ft,bt,kn),nt[kn]||(nt[kn]=[]),nt[kn]=nt[kn].concat(xt))}),nt},tv={generator:td,probe:yc,Transmuxer:Qf.Transmuxer,AudioSegmentStream:Qf.AudioSegmentStream,VideoSegmentStream:Qf.VideoSegmentStream,CaptionParser:function(){var R,G,X,J,nt,ut=!1;this.isInitialized=function(){return ut},this.init=function(){R=new Jm,ut=!0,R.on("data",function(_t){_t.startTime=_t.startPts/J,_t.endTime=_t.endPts/J,nt.captions.push(_t),nt.captionStreams[_t.stream]=!0})},this.isNewInit=function(_t,bt){return!(_t&&_t.length===0||bt&&typeof bt=="object"&&Object.keys(bt).length===0||X===_t[0]&&J===bt[X])},this.parse=function(_t,bt,xt){var Ft;if(!this.isInitialized()||!bt||!xt)return null;if(this.isNewInit(bt,xt))X=bt[0],J=xt[X];else if(!X||!J)return G.push(_t),null;for(;G.length>0;){var je=G.shift();this.parse(je,bt,xt)}return(Ft=function(De,bn,kn){return bn?{seiNals:Qm(De,bn)[bn],timescale:kn}:null}(_t,X,J))!==null&&Ft.seiNals?(this.pushNals(Ft.seiNals),this.flushStream(),nt):null},this.pushNals=function(_t){if(!this.isInitialized()||!_t||_t.length===0)return null;_t.forEach(function(bt){R.push(bt)})},this.flushStream=function(){if(!this.isInitialized())return null;R.flush()},this.clearParsedCaptions=function(){nt.captions=[],nt.captionStreams={}},this.resetCaptionStream=function(){if(!this.isInitialized())return null;R.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){G=[],X=null,J=null,nt?this.clearParsedCaptions():nt={captions:[],captionStreams:{}},this.resetCaptionStream()},this.reset()}},ev=function(){function R(G,X){for(var J=0;J<X.length;J++){var nt=X[J];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(G,nt.key,nt)}}return function(G,X,J){return X&&R(G.prototype,X),J&&R(G,J),G}}(),kp=function(){function R(G,X){(function(J,nt){if(!(J instanceof nt))throw new TypeError("Cannot call a class as a function")})(this,R),this.options=X||{},this.self=G,this.init()}return ev(R,[{key:"init",value:function(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new tv.Transmuxer(this.options),function(G,X){X.on("data",function(J){var nt=J.initSegment;J.initSegment={data:nt.buffer,byteOffset:nt.byteOffset,byteLength:nt.byteLength};var ut=J.data;J.data=ut.buffer,G.postMessage({action:"data",segment:J,byteOffset:ut.byteOffset,byteLength:ut.byteLength},[J.data])}),X.captionStream&&X.captionStream.on("data",function(J){G.postMessage({action:"caption",data:J})}),X.on("done",function(J){G.postMessage({action:"done"})}),X.on("gopInfo",function(J){G.postMessage({action:"gopInfo",gopInfo:J})}),X.on("videoSegmentTimingInfo",function(J){G.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:J})})}(this.self,this.transmuxer)}},{key:"push",value:function(G){var X=new Uint8Array(G.data,G.byteOffset,G.byteLength);this.transmuxer.push(X)}},{key:"reset",value:function(){this.init()}},{key:"setTimestampOffset",value:function(G){var X=G.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(9e4*X))}},{key:"setAudioAppendStart",value:function(G){this.transmuxer.setAudioAppendStart(Math.ceil(9e4*G.appendStart))}},{key:"flush",value:function(G){this.transmuxer.flush()}},{key:"resetCaptions",value:function(){this.transmuxer.resetCaptions()}},{key:"alignGopsWith",value:function(G){this.transmuxer.alignGopsWith(G.gopsToAlignWith.slice())}}]),R}();new function(R){R.onmessage=function(G){G.data.action==="init"&&G.data.options?this.messageHandlers=new kp(R,G.data.options):(this.messageHandlers||(this.messageHandlers=new kp(R)),G.data&&G.data.action&&G.data.action!=="init"&&this.messageHandlers[G.data.action]&&this.messageHandlers[G.data.action](G.data))}}(e)})()}),Ah={videoCodec:"avc1",videoObjectTypeIndicator:".4d400d",audioProfile:"2"},jh=function(n){return n.map(function(i){return i.replace(/avc1\.(\d+)\.(\d+)/i,function(e,t,r){return"avc1."+("00"+Number(t).toString(16)).slice(-2)+"00"+("00"+Number(r).toString(16)).slice(-2)})})},Td=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",i={codecCount:0},e=void 0;return i.codecCount=n.split(",").length,i.codecCount=i.codecCount||2,(e=/(^|\s|,)+(avc[13])([^ ,]*)/i.exec(n))&&(i.videoCodec=e[2],i.videoObjectTypeIndicator=e[3]),i.audioProfile=/(^|\s|,)+mp4a.[0-9A-Fa-f]+\.([0-9A-Fa-f]+)/i.exec(n),i.audioProfile=i.audioProfile&&i.audioProfile[2],i},xf=function(n,i,e){return n+"/"+i+'; codecs="'+e.filter(function(t){return!!t}).join(", ")+'"'},Gp=function(n,i){var e=function(tt){return tt.segments&&tt.segments.length&&tt.segments[0].map?"mp4":"mp2t"}(i),t=function(tt){var ft=tt.attributes||{};return ft.CODECS?Td(ft.CODECS):Ah}(i),r=i.attributes||{},a=!0,f=!1;if(!i)return[];if(n.mediaGroups.AUDIO&&r.AUDIO){var y=n.mediaGroups.AUDIO[r.AUDIO];if(y){for(var j in f=!0,a=!1,y)if(!y[j].uri&&!y[j].playlists){a=!0;break}}}f&&!t.audioProfile&&(a||(t.audioProfile=function(tt,ft){if(!tt.mediaGroups.AUDIO||!ft)return null;var dt=tt.mediaGroups.AUDIO[ft];if(!dt)return null;for(var At in dt){var St=dt[At];if(St.default&&St.playlists)return Td(St.playlists[0].attributes.CODECS).audioProfile}return null}(n,r.AUDIO)),t.audioProfile||(Et.log.warn("Multiple audio tracks present but no audio codec string is specified. Attempting to use the default audio codec (mp4a.40.2)"),t.audioProfile=Ah.audioProfile));var D={};t.videoCodec&&(D.video=""+t.videoCodec+t.videoObjectTypeIndicator),t.audioProfile&&(D.audio="mp4a.40."+t.audioProfile);var F=xf("audio",e,[D.audio]),q=xf("video",e,[D.video]),Y=xf("video",e,[D.video,D.audio]);return f?!a&&D.video?[q,F]:a||D.video?[Y,F]:[F,F]:D.video?[Y]:[F]},xh=function(n){return/mp4a\.\d+.\d+/i.test(n)},Oh=function(n){return/avc1\.[\da-f]+/i.test(n)},Wp=function(n,i,e){if(i==null||!n.length)return[];var t=Math.ceil(9e4*(i-e+3)),r=void 0;for(r=0;r<n.length&&!(n[r].pts>t);r++);return n.slice(r)},qp=function(n){function i(e,t){bo(this,i);var r=Ls(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,Et.EventTarget));r.timestampOffset_=0,r.pendingBuffers_=[],r.bufferUpdating_=!1,r.mediaSource_=e,r.codecs_=t,r.audioCodec_=null,r.videoCodec_=null,r.audioDisabled_=!1,r.appendAudioInitSegment_=!0,r.gopBuffer_=[],r.timeMapping_=0,r.safeAppend_=Et.browser.IE_VERSION>=11;var a={remux:!1,alignGopsAtEnd:r.safeAppend_};return r.codecs_.forEach(function(f){xh(f)?r.audioCodec_=f:Oh(f)&&(r.videoCodec_=f)}),r.transmuxer_=new zp,r.transmuxer_.postMessage({action:"init",options:a}),r.transmuxer_.onmessage=function(f){return f.data.action==="data"?r.data_(f):f.data.action==="done"?r.done_(f):f.data.action==="gopInfo"?r.appendGopInfo_(f):f.data.action==="videoSegmentTimingInfo"?r.videoSegmentTimingInfo_(f.data.videoSegmentTimingInfo):void 0},Object.defineProperty(r,"timestampOffset",{get:function(){return this.timestampOffset_},set:function(f){typeof f=="number"&&f>=0&&(this.timestampOffset_=f,this.appendAudioInitSegment_=!0,this.gopBuffer_.length=0,this.timeMapping_=0,this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:f}))}}),Object.defineProperty(r,"appendWindowStart",{get:function(){return(this.videoBuffer_||this.audioBuffer_).appendWindowStart},set:function(f){this.videoBuffer_&&(this.videoBuffer_.appendWindowStart=f),this.audioBuffer_&&(this.audioBuffer_.appendWindowStart=f)}}),Object.defineProperty(r,"updating",{get:function(){return!!(this.bufferUpdating_||!this.audioDisabled_&&this.audioBuffer_&&this.audioBuffer_.updating||this.videoBuffer_&&this.videoBuffer_.updating)}}),Object.defineProperty(r,"buffered",{get:function(){return function(f,y,j){var D=null,F=null,q=0,Y=[],tt=[];if(!f&&!y)return Et.createTimeRange();if(!f)return y.buffered;if(!y||j)return f.buffered;if(f.buffered.length===0&&y.buffered.length===0)return Et.createTimeRange();for(var ft=f.buffered,dt=y.buffered,At=ft.length;At--;)Y.push({time:ft.start(At),type:"start"}),Y.push({time:ft.end(At),type:"end"});for(At=dt.length;At--;)Y.push({time:dt.start(At),type:"start"}),Y.push({time:dt.end(At),type:"end"});for(Y.sort(function(St,kt){return St.time-kt.time}),At=0;At<Y.length;At++)Y[At].type==="start"?++q==2&&(D=Y[At].time):Y[At].type==="end"&&--q==1&&(F=Y[At].time),D!==null&&F!==null&&(tt.push([D,F]),D=null,F=null);return Et.createTimeRanges(tt)}(this.videoBuffer_,this.audioBuffer_,this.audioDisabled_)}}),r}return xu(i,n),Go(i,[{key:"data_",value:function(e){var t=e.data.segment;t.data=new Uint8Array(t.data,e.data.byteOffset,e.data.byteLength),t.initSegment=new Uint8Array(t.initSegment.data,t.initSegment.byteOffset,t.initSegment.byteLength),function(r,a,f){var y=a.player_;if(f.captions&&f.captions.length){for(var j in r.inbandTextTracks_||(r.inbandTextTracks_={}),f.captionStreams)if(!r.inbandTextTracks_[j]){y.tech_.trigger({type:"usage",name:"hls-608"});var D=y.textTracks().getTrackById(j);r.inbandTextTracks_[j]=D||y.addRemoteTextTrack({kind:"captions",id:j,label:j},!1).track}}f.metadata&&f.metadata.length&&!r.metadataTrack_&&(r.metadataTrack_=y.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,r.metadataTrack_.inBandMetadataTrackDispatchType=f.metadata.dispatchType)}(this,this.mediaSource_,t),this.pendingBuffers_.push(t)}},{key:"done_",value:function(e){this.mediaSource_.readyState!=="closed"?this.processPendingSegments_():this.pendingBuffers_.length=0}},{key:"videoSegmentTimingInfo_",value:function(e){var t={start:{decode:e.start.dts/9e4,presentation:e.start.pts/9e4},end:{decode:e.end.dts/9e4,presentation:e.end.pts/9e4},baseMediaDecodeTime:e.baseMediaDecodeTime/9e4};e.prependedContentDuration&&(t.prependedContentDuration=e.prependedContentDuration/9e4),this.trigger({type:"videoSegmentTimingInfo",videoSegmentTimingInfo:t})}},{key:"createRealSourceBuffers_",value:function(){var e=this,t=["audio","video"];t.forEach(function(r){if(e[r+"Codec_"]&&!e[r+"Buffer_"]){var a=null;if(e.mediaSource_[r+"Buffer_"])(a=e.mediaSource_[r+"Buffer_"]).updating=!1;else{var f=r+'/mp4;codecs="'+e[r+"Codec_"]+'"';a=function(y,j){var D=y.addSourceBuffer(j),F=Object.create(null);for(var q in F.updating=!1,F.realBuffer_=D,D)(function(Y){typeof D[Y]=="function"?F[Y]=function(){return D[Y].apply(D,arguments)}:F[Y]===void 0&&Object.defineProperty(F,Y,{get:function(){return D[Y]},set:function(tt){return D[Y]=tt}})})(q);return F}(e.mediaSource_.nativeMediaSource_,f),e.mediaSource_[r+"Buffer_"]=a}e[r+"Buffer_"]=a,["update","updatestart","updateend"].forEach(function(y){a.addEventListener(y,function(){if(r!=="audio"||!e.audioDisabled_)return y==="updateend"&&(e[r+"Buffer_"].updating=!1),t.every(function(j){return!(j!=="audio"||!e.audioDisabled_)||r===j||!e[j+"Buffer_"]||!e[j+"Buffer_"].updating})?e.trigger(y):void 0})})}})}},{key:"appendBuffer",value:function(e){if(this.bufferUpdating_=!0,this.audioBuffer_&&this.audioBuffer_.buffered.length){var t=this.audioBuffer_.buffered;this.transmuxer_.postMessage({action:"setAudioAppendStart",appendStart:t.end(t.length-1)})}this.videoBuffer_&&this.transmuxer_.postMessage({action:"alignGopsWith",gopsToAlignWith:Wp(this.gopBuffer_,this.mediaSource_.player_?this.mediaSource_.player_.currentTime():null,this.timeMapping_)}),this.transmuxer_.postMessage({action:"push",data:e.buffer,byteOffset:e.byteOffset,byteLength:e.byteLength},[e.buffer]),this.transmuxer_.postMessage({action:"flush"})}},{key:"appendGopInfo_",value:function(e){this.gopBuffer_=function(t,r,a){if(!r.length)return t;if(a)return r.slice();for(var f=r[0].pts,y=0;y<t.length&&!(t[y].pts>=f);y++);return t.slice(0,y).concat(r)}(this.gopBuffer_,e.data.gopInfo,this.safeAppend_)}},{key:"remove",value:function(e,t){if(this.videoBuffer_&&(this.videoBuffer_.updating=!0,this.videoBuffer_.remove(e,t),this.gopBuffer_=function(a,f,y,j){for(var D=Math.ceil(9e4*(f-j)),F=Math.ceil(9e4*(y-j)),q=a.slice(),Y=a.length;Y--&&!(a[Y].pts<=F););if(Y===-1)return q;for(var tt=Y+1;tt--&&!(a[tt].pts<=D););return tt=Math.max(tt,0),q.splice(tt,Y-tt+1),q}(this.gopBuffer_,e,t,this.timeMapping_)),!this.audioDisabled_&&this.audioBuffer_&&(this.audioBuffer_.updating=!0,this.audioBuffer_.remove(e,t)),Jc(e,t,this.metadataTrack_),this.inbandTextTracks_)for(var r in this.inbandTextTracks_)Jc(e,t,this.inbandTextTracks_[r])}},{key:"processPendingSegments_",value:function(){var e={video:{segments:[],bytes:0},audio:{segments:[],bytes:0},captions:[],metadata:[]};e=this.pendingBuffers_.reduce(function(r,a){var f=a.type,y=a.data,j=a.initSegment;return r[f].segments.push(y),r[f].bytes+=y.byteLength,r[f].initSegment=j,a.captions&&(r.captions=r.captions.concat(a.captions)),a.info&&(r[f].info=a.info),a.metadata&&(r.metadata=r.metadata.concat(a.metadata)),r},e),this.videoBuffer_||this.audioBuffer_||(e.video.bytes===0&&(this.videoCodec_=null),e.audio.bytes===0&&(this.audioCodec_=null),this.createRealSourceBuffers_()),e.audio.info&&this.mediaSource_.trigger({type:"audioinfo",info:e.audio.info}),e.video.info&&this.mediaSource_.trigger({type:"videoinfo",info:e.video.info}),this.appendAudioInitSegment_&&(!this.audioDisabled_&&this.audioBuffer_&&(e.audio.segments.unshift(e.audio.initSegment),e.audio.bytes+=e.audio.initSegment.byteLength),this.appendAudioInitSegment_=!1);var t=!1;this.videoBuffer_&&e.video.bytes?(e.video.segments.unshift(e.video.initSegment),e.video.bytes+=e.video.initSegment.byteLength,this.concatAndAppendSegments_(e.video,this.videoBuffer_)):!this.videoBuffer_||!this.audioDisabled_&&this.audioBuffer_||(t=!0),Fp(this,e.captions,e.metadata),!this.audioDisabled_&&this.audioBuffer_&&this.concatAndAppendSegments_(e.audio,this.audioBuffer_),this.pendingBuffers_.length=0,t&&this.trigger("updateend"),this.bufferUpdating_=!1}},{key:"concatAndAppendSegments_",value:function(e,t){var r=0,a=void 0;if(e.bytes){a=new Uint8Array(e.bytes),e.segments.forEach(function(f){a.set(f,r),r+=f.byteLength});try{t.updating=!0,t.appendBuffer(a)}catch(f){this.mediaSource_.player_&&this.mediaSource_.player_.error({code:-3,type:"APPEND_BUFFER_ERR",message:f.message,originalError:f})}}}},{key:"abort",value:function(){this.videoBuffer_&&this.videoBuffer_.abort(),!this.audioDisabled_&&this.audioBuffer_&&this.audioBuffer_.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"reset"}),this.pendingBuffers_.length=0,this.bufferUpdating_=!1}}]),i}(Et.EventTarget),Of=function(n){function i(){bo(this,i);var e=Ls(this,(i.__proto__||Object.getPrototypeOf(i)).call(this)),t=void 0;for(t in e.nativeMediaSource_=new x.MediaSource,e.nativeMediaSource_)t==="handle"||t in i.prototype||typeof e.nativeMediaSource_[t]!="function"||(e[t]=e.nativeMediaSource_[t].bind(e.nativeMediaSource_));return e.duration_=NaN,Object.defineProperty(e,"duration",{get:function(){return this.duration_===1/0?this.duration_:this.nativeMediaSource_.duration},set:function(r){this.duration_=r,r===1/0||(this.nativeMediaSource_.duration=r)}}),Object.defineProperty(e,"seekable",{get:function(){return this.duration_===1/0?Et.createTimeRanges([[0,this.nativeMediaSource_.duration]]):this.nativeMediaSource_.seekable}}),Object.defineProperty(e,"readyState",{get:function(){return this.nativeMediaSource_.readyState}}),Object.defineProperty(e,"activeSourceBuffers",{get:function(){return this.activeSourceBuffers_}}),e.sourceBuffers=[],e.activeSourceBuffers_=[],e.updateActiveSourceBuffers_=function(){if(e.activeSourceBuffers_.length=0,e.sourceBuffers.length===1){var r=e.sourceBuffers[0];return r.appendAudioInitSegment_=!0,r.audioDisabled_=!r.audioCodec_,void e.activeSourceBuffers_.push(r)}for(var a=!1,f=!0,y=0;y<e.player_.audioTracks().length;y++){var j=e.player_.audioTracks()[y];if(j.enabled&&j.kind!=="main"){a=!0,f=!1;break}}e.sourceBuffers.forEach(function(D,F){if(D.appendAudioInitSegment_=!0,D.videoCodec_&&D.audioCodec_)D.audioDisabled_=a;else if(D.videoCodec_&&!D.audioCodec_)D.audioDisabled_=!0,f=!1;else if(!D.videoCodec_&&D.audioCodec_&&(D.audioDisabled_=F?f:!f,D.audioDisabled_))return;e.activeSourceBuffers_.push(D)})},e.onPlayerMediachange_=function(){e.sourceBuffers.forEach(function(r){r.appendAudioInitSegment_=!0})},e.onHlsReset_=function(){e.sourceBuffers.forEach(function(r){r.transmuxer_&&r.transmuxer_.postMessage({action:"resetCaptions"})})},e.onHlsSegmentTimeMapping_=function(r){e.sourceBuffers.forEach(function(a){return a.timeMapping_=r.mapping})},["sourceopen","sourceclose","sourceended"].forEach(function(r){this.nativeMediaSource_.addEventListener(r,this.trigger.bind(this))},e),e.on("sourceopen",function(r){var a=V.querySelector('[src="'+e.url_+'"]');a&&(e.player_=Et(a.parentNode),e.player_&&(e.player_.tech_.on("hls-reset",e.onHlsReset_),e.player_.tech_.on("hls-segment-time-mapping",e.onHlsSegmentTimeMapping_),e.player_.audioTracks&&e.player_.audioTracks()&&(e.player_.audioTracks().on("change",e.updateActiveSourceBuffers_),e.player_.audioTracks().on("addtrack",e.updateActiveSourceBuffers_),e.player_.audioTracks().on("removetrack",e.updateActiveSourceBuffers_)),e.player_.on("mediachange",e.onPlayerMediachange_)))}),e.on("sourceended",function(r){for(var a=kh(e.duration),f=0;f<e.sourceBuffers.length;f++){var y=e.sourceBuffers[f],j=y.metadataTrack_&&y.metadataTrack_.cues;j&&j.length&&(j[j.length-1].endTime=a)}}),e.on("sourceclose",function(r){this.sourceBuffers.forEach(function(a){a.transmuxer_&&a.transmuxer_.terminate()}),this.sourceBuffers.length=0,this.player_&&(this.player_.audioTracks&&this.player_.audioTracks()&&(this.player_.audioTracks().off("change",this.updateActiveSourceBuffers_),this.player_.audioTracks().off("addtrack",this.updateActiveSourceBuffers_),this.player_.audioTracks().off("removetrack",this.updateActiveSourceBuffers_)),this.player_.el_&&this.player_.off("mediachange",this.onPlayerMediachange_),this.player_.tech_&&this.player_.tech_.el_&&(this.player_.tech_.off("hls-reset",this.onHlsReset_),this.player_.tech_.off("hls-segment-time-mapping",this.onHlsSegmentTimeMapping_)))}),e}return xu(i,n),Go(i,[{key:"addSeekableRange_",value:function(e,t){var r=void 0;if(this.duration!==1/0)throw(r=new Error("MediaSource.addSeekableRange() can only be invoked when the duration is Infinity")).name="InvalidStateError",r.code=11,r;(t>this.nativeMediaSource_.duration||isNaN(this.nativeMediaSource_.duration))&&(this.nativeMediaSource_.duration=t)}},{key:"addSourceBuffer",value:function(e){var t=void 0,r=function(f){var y={type:"",parameters:{}},j=f.trim().split(";");return y.type=j.shift().trim(),j.forEach(function(D){var F=D.trim().split("=");if(F.length>1){var q=F[0].replace(/"/g,"").trim(),Y=F[1].replace(/"/g,"").trim();y.parameters[q]=Y}}),y}(e);if(/^(video|audio)\/mp2t$/i.test(r.type)){var a=[];r.parameters&&r.parameters.codecs&&(a=r.parameters.codecs.split(","),a=(a=jh(a)).filter(function(f){return xh(f)||Oh(f)})),a.length===0&&(a=["avc1.4d400d","mp4a.40.2"]),t=new qp(this,a),this.sourceBuffers.length!==0&&(this.sourceBuffers[0].createRealSourceBuffers_(),t.createRealSourceBuffers_(),this.sourceBuffers[0].audioDisabled_=!0)}else t=this.nativeMediaSource_.addSourceBuffer(e);return this.sourceBuffers.push(t),t}}]),i}(Et.EventTarget),Lh=0;Et.mediaSources={};var Ph=function(n,i){var e=Et.mediaSources[n];if(!e)throw new Error("Media Source not found (Video.js)");e.trigger({type:"sourceopen",swfId:i})},Lf=function(){return!!x.MediaSource&&!!x.MediaSource.isTypeSupported&&x.MediaSource.isTypeSupported('video/mp4;codecs="avc1.4d400d,mp4a.40.2"')},Sd=function(){if(this.MediaSource={open:Ph,supportsNativeMediaSources:Lf},Lf())return new Of;throw new Error("Cannot use create a virtual MediaSource for this video")};Sd.open=Ph,Sd.supportsNativeMediaSources=Lf;var Rh={createObjectURL:function(n){var i=void 0;return n instanceof Of?(i=x.URL.createObjectURL(n.nativeMediaSource_),n.url_=i,i):n instanceof Of?(i="blob:vjs-media-source/"+Lh,Lh++,Et.mediaSources[i]=n,i):(i=x.URL.createObjectURL(n),n.url_=i,i)}};Et.MediaSource=Sd,Et.URL=Rh;var $p=Et.EventTarget,Ih=Et.mergeOptions,Dh=function(n,i){for(var e=void 0,t=Ih(n,{duration:i.duration,minimumUpdatePeriod:i.minimumUpdatePeriod}),r=0;r<i.playlists.length;r++){var a=Sf(t,i.playlists[r]);a?t=a:e=!0}return $d(i,function(f,y,j,D){if(f.playlists&&f.playlists.length){var F=f.playlists[0].uri,q=Sf(t,f.playlists[0]);q&&((t=q).mediaGroups[y][j][D].playlists[0]=t.playlists[F],e=!1)}}),e?null:t},Pf=function(n){var i=n.byterange.offset+n.byterange.length-1;return n.uri+"-"+n.byterange.offset+"-"+i},Kp=function(n,i){return(Boolean(!n.map&&!i.map)||Boolean(n.map&&i.map&&n.map.byterange.offset===i.map.byterange.offset&&n.map.byterange.length===i.map.byterange.length))&&n.uri===i.uri&&n.byterange.offset===i.byterange.offset&&n.byterange.length===i.byterange.length},Mh=function(n,i){var e={};for(var t in n){var r=n[t].sidx;if(r){var a=Pf(r);if(!i[a])break;var f=i[a].sidxInfo;Kp(f,r)&&(e[a]=i[a])}}return e},Uh=function(n,i,e,t,r){var a={uri:qd(t.handleManifestRedirects,n.resolvedUri),byterange:n.byterange,playlist:i};return e(Et.mergeOptions(a,{responseType:"arraybuffer",headers:Ef(a)}),r)},Rf=function(n){function i(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=arguments[3];bo(this,i);var f=Ls(this,(i.__proto__||Object.getPrototypeOf(i)).call(this)),y=r.withCredentials,j=y!==void 0&&y,D=r.handleManifestRedirects,F=D!==void 0&&D;if(f.hls_=t,f.withCredentials=j,f.handleManifestRedirects=F,!e)throw new Error("A non-empty playlist URL or playlist is required");return f.on("minimumUpdatePeriod",function(){f.refreshXml_()}),f.on("mediaupdatetimeout",function(){f.refreshMedia_(f.media().uri)}),f.state="HAVE_NOTHING",f.loadedPlaylists_={},typeof e=="string"?(f.srcUrl=e,f.sidxMapping_={},Ls(f)):(f.setupChildLoader(a,e),f)}return xu(i,n),Go(i,[{key:"setupChildLoader",value:function(e,t){this.masterPlaylistLoader_=e,this.childPlaylist_=t}},{key:"dispose",value:function(){this.stopRequest(),this.loadedPlaylists_={},x.clearTimeout(this.minimumUpdatePeriodTimeout_),x.clearTimeout(this.mediaRequest_),x.clearTimeout(this.mediaUpdateTimeout)}},{key:"hasPendingRequest",value:function(){return this.request||this.mediaRequest_}},{key:"stopRequest",value:function(){if(this.request){var e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}},{key:"sidxRequestFinished_",value:function(e,t,r,a){var f=this;return function(y,j){if(f.request){if(f.request=null,y)return f.error={status:j.status,message:"DASH playlist request error at URL: "+e.uri,response:j.response,code:2},r&&(f.state=r),f.trigger("error"),a(t,null);var D=new Uint8Array(j.response),F=Yn.parseSidx(D.subarray(8));return a(t,F)}}}},{key:"media",value:function(e){var t=this;if(!e)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);var r=this.state;if(typeof e=="string"){if(!this.master.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.master.playlists[e]}var a=!this.media_||e.uri!==this.media_.uri;if(a&&this.loadedPlaylists_[e.uri]&&this.loadedPlaylists_[e.uri].endList)return this.state="HAVE_METADATA",this.media_=e,void(a&&(this.trigger("mediachanging"),this.trigger("mediachange")));if(a){if(this.media_&&this.trigger("mediachanging"),!e.sidx)return void(this.mediaRequest_=x.setTimeout(this.haveMetadata.bind(this,{startingState:r,playlist:e}),0));var f=void 0,y=void 0;this.masterPlaylistLoader_?(f=this.masterPlaylistLoader_.master,y=this.masterPlaylistLoader_.sidxMapping_):(f=this.master,y=this.sidxMapping_);var j=Pf(e.sidx);y[j]={sidxInfo:e.sidx},this.request=Uh(e.sidx,e,this.hls_.xhr,{handleManifestRedirects:this.handleManifestRedirects},this.sidxRequestFinished_(e,f,r,function(D,F){if(!D||!F)throw new Error("failed to request sidx");y[j].sidx=F,t.haveMetadata({startingState:r,playlist:D.playlists[e.uri]})}))}}},{key:"haveMetadata",value:function(e){var t=e.startingState,r=e.playlist;this.state="HAVE_METADATA",this.loadedPlaylists_[r.uri]=r,this.mediaRequest_=null,this.refreshMedia_(r.uri),t==="HAVE_MASTER"?this.trigger("loadedmetadata"):this.trigger("mediachange")}},{key:"pause",value:function(){this.stopRequest(),x.clearTimeout(this.mediaUpdateTimeout),x.clearTimeout(this.minimumUpdatePeriodTimeout_),this.state==="HAVE_NOTHING"&&(this.started=!1)}},{key:"load",value:function(e){var t=this;x.clearTimeout(this.mediaUpdateTimeout),x.clearTimeout(this.minimumUpdatePeriodTimeout_);var r=this.media();if(e){var a=r?r.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=x.setTimeout(function(){return t.load()},a)}else this.started?this.trigger("loadedplaylist"):this.start()}},{key:"parseMasterXml",value:function(){var e=ye(this.masterXml_,{manifestUri:this.srcUrl,clientOffset:this.clientOffset_,sidxMapping:this.sidxMapping_});e.uri=this.srcUrl;for(var t=0;t<e.playlists.length;t++){var r="placeholder-uri-"+t;e.playlists[t].uri=r,e.playlists[r]=e.playlists[t]}return $d(e,function(a,f,y,j){if(a.playlists&&a.playlists.length){var D="placeholder-uri-"+f+"-"+y+"-"+j;a.playlists[0].uri=D,e.playlists[D]=a.playlists[0]}}),ih(e),ah(e),e}},{key:"start",value:function(){var e=this;this.started=!0,this.masterPlaylistLoader_?this.mediaRequest_=x.setTimeout(this.haveMaster_.bind(this),0):this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},function(t,r){if(e.request){if(e.request=null,t)return e.error={status:r.status,message:"DASH playlist request error at URL: "+e.srcUrl,responseText:r.responseText,code:2},e.state==="HAVE_NOTHING"&&(e.started=!1),e.trigger("error");e.masterXml_=r.responseText,r.responseHeaders&&r.responseHeaders.date?e.masterLoaded_=Date.parse(r.responseHeaders.date):e.masterLoaded_=Date.now(),e.srcUrl=qd(e.handleManifestRedirects,e.srcUrl,r),e.syncClientServerClock_(e.onClientServerClockSync_.bind(e))}})}},{key:"syncClientServerClock_",value:function(e){var t=this,r=Ve(this.masterXml_);return r===null?(this.clientOffset_=this.masterLoaded_-Date.now(),e()):r.method==="DIRECT"?(this.clientOffset_=r.value-Date.now(),e()):void(this.request=this.hls_.xhr({uri:mc(this.srcUrl,r.value),method:r.method,withCredentials:this.withCredentials},function(a,f){if(t.request){if(a)return t.clientOffset_=t.masterLoaded_-Date.now(),e();var y;y=r.method==="HEAD"?f.responseHeaders&&f.responseHeaders.date?Date.parse(f.responseHeaders.date):t.masterLoaded_:Date.parse(f.responseText),t.clientOffset_=y-Date.now(),e()}}))}},{key:"haveMaster_",value:function(){this.state="HAVE_MASTER",this.mediaRequest_=null,this.masterPlaylistLoader_?this.media_||this.media(this.childPlaylist_):(this.master=this.parseMasterXml(),this.trigger("loadedplaylist"))}},{key:"onClientServerClockSync_",value:function(){var e=this;this.haveMaster_(),this.hasPendingRequest()||this.media_||this.media(this.master.playlists[0]),this.master&&this.master.minimumUpdatePeriod&&(this.minimumUpdatePeriodTimeout_=x.setTimeout(function(){e.trigger("minimumUpdatePeriod")},this.master.minimumUpdatePeriod))}},{key:"refreshXml_",value:function(){var e=this;this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},function(t,r){if(e.request){if(e.request=null,t)return e.error={status:r.status,message:"DASH playlist request error at URL: "+e.srcUrl,responseText:r.responseText,code:2},e.state==="HAVE_NOTHING"&&(e.started=!1),e.trigger("error");e.masterXml_=r.responseText,e.sidxMapping_=function(D,F,q,Y){var tt=ye(D,{manifestUri:F,clientOffset:q}),ft=Mh(tt.playlists,Y);return $d(tt,function(dt,At,St,kt){if(dt.playlists&&dt.playlists.length){var ee=dt.playlists;ft=Ih(ft,Mh(ee,Y))}}),ft}(e.masterXml_,e.srcUrl,e.clientOffset_,e.sidxMapping_);var a=e.parseMasterXml(),f=Dh(e.master,a);if(f){var y=Pf(e.media().sidx);if(e.sidxMapping_[y])e.master=f;else{var j=e.media();e.request=Uh(j.sidx,j,e.hls_.xhr,{handleManifestRedirects:e.handleManifestRedirects},e.sidxRequestFinished_(j,a,e.state,function(D,F){if(!D||!F)throw new Error("failed to request sidx on minimumUpdatePeriod");e.sidxMapping_[y].sidx=F,e.minimumUpdatePeriodTimeout_=x.setTimeout(function(){e.trigger("minimumUpdatePeriod")},e.master.minimumUpdatePeriod),e.refreshMedia_(e.media().uri)}))}}e.minimumUpdatePeriodTimeout_=x.setTimeout(function(){e.trigger("minimumUpdatePeriod")},e.master.minimumUpdatePeriod)}})}},{key:"refreshMedia_",value:function(e){var t=this;if(!e)throw new Error("refreshMedia_ must take a media uri");var r=void 0,a=void 0;this.masterPlaylistLoader_?(r=this.masterPlaylistLoader_.master,a=this.masterPlaylistLoader_.parseMasterXml()):(r=this.master,a=this.parseMasterXml());var f=Dh(r,a);f?(this.masterPlaylistLoader_?this.masterPlaylistLoader_.master=f:this.master=f,this.media_=f.playlists[e]):(this.media_=a.playlists[e],this.trigger("playlistunchanged")),this.media().endList||(this.mediaUpdateTimeout=x.setTimeout(function(){t.trigger("mediaupdatetimeout")},oh(this.media(),!!f))),this.trigger("loadedplaylist")}}]),i}($p),wd=function(n){return Et.log.debug?Et.log.debug.bind(Et,"VHS:",n+" >"):function(){}},Xp=function(){function n(i,e,t,r){bo(this,n),this.callbacks_=[],this.pendingCallback_=null,this.timestampOffset_=0,this.mediaSource=i,this.processedAppend_=!1,this.type_=t,this.mimeType_=e,this.logger_=wd("SourceUpdater["+t+"]["+e+"]"),i.readyState==="closed"?i.addEventListener("sourceopen",this.createSourceBuffer_.bind(this,e,r)):this.createSourceBuffer_(e,r)}return Go(n,[{key:"createSourceBuffer_",value:function(i,e){var t=this;this.sourceBuffer_=this.mediaSource.addSourceBuffer(i),this.logger_("created SourceBuffer"),e&&(e.trigger("sourcebufferadded"),this.mediaSource.sourceBuffers.length<2)?e.on("sourcebufferadded",function(){t.start_()}):this.start_()}},{key:"start_",value:function(){var i=this;this.started_=!0,this.onUpdateendCallback_=function(){var e=i.pendingCallback_;i.pendingCallback_=null,i.sourceBuffer_.removing=!1,i.logger_("buffered ["+Cf(i.buffered())+"]"),e&&e(),i.runCallback_()},this.sourceBuffer_.addEventListener("updateend",this.onUpdateendCallback_),this.runCallback_()}},{key:"abort",value:function(i){var e=this;this.processedAppend_&&this.queueCallback_(function(){e.sourceBuffer_.abort()},i)}},{key:"appendBuffer",value:function(i,e){var t=this;this.processedAppend_=!0,this.queueCallback_(function(){i.videoSegmentTimingInfoCallback&&t.sourceBuffer_.addEventListener("videoSegmentTimingInfo",i.videoSegmentTimingInfoCallback),t.sourceBuffer_.appendBuffer(i.bytes)},function(){i.videoSegmentTimingInfoCallback&&t.sourceBuffer_.removeEventListener("videoSegmentTimingInfo",i.videoSegmentTimingInfoCallback),e()})}},{key:"buffered",value:function(){return this.sourceBuffer_?this.sourceBuffer_.buffered:Et.createTimeRanges()}},{key:"remove",value:function(i,e){var t=this,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:vi;this.processedAppend_&&this.queueCallback_(function(){t.logger_("remove ["+i+" => "+e+"]"),t.sourceBuffer_.removing=!0,t.sourceBuffer_.remove(i,e)},r)}},{key:"updating",value:function(){return!this.sourceBuffer_||this.sourceBuffer_.updating||!!this.pendingCallback_&&this.pendingCallback_!==vi}},{key:"timestampOffset",value:function(i){var e=this;return i!==void 0&&(this.queueCallback_(function(){e.sourceBuffer_.timestampOffset=i,e.runCallback_()}),this.timestampOffset_=i),this.timestampOffset_}},{key:"queueCallback_",value:function(i,e){this.callbacks_.push([i.bind(this),e]),this.runCallback_()}},{key:"runCallback_",value:function(){var i=void 0;!this.updating()&&this.callbacks_.length&&this.started_&&(i=this.callbacks_.shift(),this.pendingCallback_=i[1],i[0]())}},{key:"dispose",value:function(){var i=this,e=function t(){i.sourceBuffer_&&i.mediaSource.readyState==="open"&&i.sourceBuffer_.abort(),i.sourceBuffer_.removeEventListener("updateend",t)};this.sourceBuffer_.removeEventListener("updateend",this.onUpdateendCallback_),this.sourceBuffer_.removing?this.sourceBuffer_.addEventListener("updateend",e):e()}}]),n}(),Ya={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,BUFFER_LOW_WATER_LINE_RATE:1},Jd=2,Bh=-101,Nh=-102,Fh=function(n){n.forEach(function(i){i.abort()})},If=function(n,i){return i.timedout?{status:i.status,message:"HLS request timed-out at URL: "+i.uri,code:Bh,xhr:i}:i.aborted?{status:i.status,message:"HLS request aborted at URL: "+i.uri,code:Nh,xhr:i}:n?{status:i.status,message:"HLS request errored at URL: "+i.uri,code:Jd,xhr:i}:null},Yp=function(n,i,e){var t=0,r=!1;return function(a,f){if(!r)return a?(r=!0,Fh(n),e(a,f)):(t+=1)===n.length?(f.endOfAllRequests=Date.now(),f.encryptedBytes?function(y,j,D){var F;y.addEventListener("message",function q(Y){if(Y.data.source===j.requestId){y.removeEventListener("message",q);var tt=Y.data.decrypted;return j.bytes=new Uint8Array(tt.bytes,tt.byteOffset,tt.byteLength),D(null,j)}}),F=j.key.bytes.slice?j.key.bytes.slice():new Uint32Array(Array.prototype.slice.call(j.key.bytes)),y.postMessage(gh({source:j.requestId,encrypted:j.encryptedBytes,key:F,iv:j.key.iv}),[j.encryptedBytes.buffer,F.buffer])}(i,f,e):e(null,f)):void 0}},Jp=function(n,i){return function(e){return n.stats=Et.mergeOptions(n.stats,function(t){var r=t.target,a={bandwidth:1/0,bytesReceived:0,roundTripTime:Date.now()-r.requestTime||0};return a.bytesReceived=t.loaded,a.bandwidth=Math.floor(a.bytesReceived/a.roundTripTime*8*1e3),a}(e)),!n.stats.firstBytesReceivedAt&&n.stats.bytesReceived&&(n.stats.firstBytesReceivedAt=Date.now()),i(e,n)}},Zp=function(n,i,e,t,r,a,f){var y=[],j=Yp(y,e,f);if(r.key&&!r.key.bytes){var D=Et.mergeOptions(i,{uri:r.key.resolvedUri,responseType:"arraybuffer"}),F=function(kt,ee){return function(ie,Ie){var Fe=Ie.response,Ye=If(ie,Ie);if(Ye)return ee(Ye,kt);if(Fe.byteLength!==16)return ee({status:Ie.status,message:"Invalid HLS key at URL: "+Ie.uri,code:Jd,xhr:Ie},kt);var an=new DataView(Fe);return kt.key.bytes=new Uint32Array([an.getUint32(0),an.getUint32(4),an.getUint32(8),an.getUint32(12)]),ee(null,kt)}}(r,j),q=n(D,F);y.push(q)}if(r.map&&!r.map.bytes){var Y=Et.mergeOptions(i,{uri:r.map.resolvedUri,responseType:"arraybuffer",headers:Ef(r.map)}),tt=function(kt,ee,ie){return function(Ie,Fe){var Ye=Fe.response,an=If(Ie,Fe);return an?ie(an,kt):Ye.byteLength===0?ie({status:Fe.status,message:"Empty HLS segment content at URL: "+Fe.uri,code:Jd,xhr:Fe},kt):(kt.map.bytes=new Uint8Array(Fe.response),ee&&!ee.isInitialized()&&ee.init(),kt.map.timescales=Ca.timescale(kt.map.bytes),kt.map.videoTrackIds=Ca.videoTrackIds(kt.map.bytes),ie(null,kt))}}(r,t,j),ft=n(Y,tt);y.push(ft)}var dt=Et.mergeOptions(i,{uri:r.resolvedUri,responseType:"arraybuffer",headers:Ef(r)}),At=function(kt,ee,ie){return function(Ie,Fe){var Ye=Fe.response,an=If(Ie,Fe),Me=void 0;return an?ie(an,kt):Ye.byteLength===0?ie({status:Fe.status,message:"Empty HLS segment content at URL: "+Fe.uri,code:Jd,xhr:Fe},kt):(kt.stats=function(Lr){return{bandwidth:Lr.bandwidth,bytesReceived:Lr.bytesReceived||0,roundTripTime:Lr.roundTripTime||0}}(Fe),kt.key?kt.encryptedBytes=new Uint8Array(Fe.response):kt.bytes=new Uint8Array(Fe.response),ee&&kt.map&&kt.map.bytes&&(ee.isInitialized()||ee.init(),(Me=ee.parse(kt.bytes,kt.map.videoTrackIds,kt.map.timescales))&&Me.captions&&(kt.captionStreams=Me.captionStreams,kt.fmp4Captions=Me.captions)),ie(null,kt))}}(r,t,j),St=n(dt,At);return St.addEventListener("progress",Jp(r,a)),y.push(St),function(){return Fh(y)}},Vh=function(n,i){var e=void 0;return n&&(e=x.getComputedStyle(n))?e[i]:""},kd=function(n,i){var e=n.slice();n.sort(function(t,r){var a=i(t,r);return a===0?e.indexOf(t)-e.indexOf(r):a})},Df=function(n,i){var e=void 0,t=void 0;return n.attributes.BANDWIDTH&&(e=n.attributes.BANDWIDTH),e=e||x.Number.MAX_VALUE,i.attributes.BANDWIDTH&&(t=i.attributes.BANDWIDTH),e-(t=t||x.Number.MAX_VALUE)},Qp=function(n,i,e){if(!n||!i)return!1;var t=e===n.segments.length;return n.endList&&i.readyState==="open"&&t},Hh=function(n){return typeof n=="number"&&isFinite(n)},Mf=function(n){function i(e){bo(this,i);var t=Ls(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));if(!e)throw new TypeError("Initialization settings are required");if(typeof e.currentTime!="function")throw new TypeError("No currentTime getter specified");if(!e.mediaSource)throw new TypeError("No MediaSource specified");return t.bandwidth=e.bandwidth,t.throughput={rate:0,count:0},t.roundTrip=NaN,t.resetStats_(),t.mediaIndex=null,t.hasPlayed_=e.hasPlayed,t.currentTime_=e.currentTime,t.seekable_=e.seekable,t.seeking_=e.seeking,t.duration_=e.duration,t.mediaSource_=e.mediaSource,t.hls_=e.hls,t.loaderType_=e.loaderType,t.startingMedia_=void 0,t.segmentMetadataTrack_=e.segmentMetadataTrack,t.goalBufferLength_=e.goalBufferLength,t.sourceType_=e.sourceType,t.inbandTextTracks_=e.inbandTextTracks,t.state_="INIT",t.checkBufferTimeout_=null,t.error_=void 0,t.currentTimeline_=-1,t.pendingSegment_=null,t.mimeType_=null,t.sourceUpdater_=null,t.xhrOptions_=null,t.activeInitSegmentId_=null,t.initSegments_={},t.cacheEncryptionKeys_=e.cacheEncryptionKeys,t.keyCache_={},t.loaderType_==="main"?t.captionParser_=new Os:t.captionParser_=null,t.decrypter_=e.decrypter,t.syncController_=e.syncController,t.syncPoint_={segmentIndex:0,time:0},t.syncController_.on("syncinfoupdate",function(){return t.trigger("syncinfoupdate")}),t.mediaSource_.addEventListener("sourceopen",function(){return t.ended_=!1}),t.fetchAtBuffer_=!1,t.logger_=wd("SegmentLoader["+t.loaderType_+"]"),Object.defineProperty(t,"state",{get:function(){return this.state_},set:function(r){r!==this.state_&&(this.logger_(this.state_+" -> "+r),this.state_=r)}}),t}return xu(i,n),Go(i,[{key:"resetStats_",value:function(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0}},{key:"dispose",value:function(){this.state="DISPOSED",this.pause(),this.abort_(),this.sourceUpdater_&&this.sourceUpdater_.dispose(),this.resetStats_(),this.captionParser_&&this.captionParser_.reset()}},{key:"abort",value:function(){this.state==="WAITING"?(this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()):this.pendingSegment_&&(this.pendingSegment_=null)}},{key:"abort_",value:function(){this.pendingSegment_&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null}},{key:"error",value:function(e){return e!==void 0&&(this.error_=e),this.pendingSegment_=null,this.error_}},{key:"endOfStream",value:function(){this.ended_=!0,this.pause(),this.trigger("ended")}},{key:"buffered_",value:function(){return this.sourceUpdater_?this.sourceUpdater_.buffered():Et.createTimeRanges()}},{key:"initSegment",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(!e)return null;var r=Yd(e),a=this.initSegments_[r];return t&&!a&&e.bytes&&(this.initSegments_[r]=a={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:e.bytes,timescales:e.timescales,videoTrackIds:e.videoTrackIds}),a||e}},{key:"segmentKey",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(!e)return null;var r=yh(e),a=this.keyCache_[r];this.cacheEncryptionKeys_&&t&&!a&&e.bytes&&(this.keyCache_[r]=a={resolvedUri:e.resolvedUri,bytes:e.bytes});var f={resolvedUri:(a||e).resolvedUri};return a&&(f.bytes=a.bytes),f}},{key:"couldBeginLoading_",value:function(){return this.playlist_&&(this.sourceUpdater_||this.mimeType_&&this.state==="INIT")&&!this.paused()}},{key:"load",value:function(){if(this.monitorBuffer_(),this.playlist_){if(this.syncController_.setDateTimeMapping(this.playlist_),this.state==="INIT"&&this.couldBeginLoading_())return this.init_();!this.couldBeginLoading_()||this.state!=="READY"&&this.state!=="INIT"||(this.state="READY")}}},{key:"init_",value:function(){return this.state="READY",this.sourceUpdater_=new Xp(this.mediaSource_,this.mimeType_,this.loaderType_,this.sourceBufferEmitter_),this.resetEverything(),this.monitorBuffer_()}},{key:"playlist",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e){var r=this.playlist_,a=this.pendingSegment_;this.playlist_=e,this.xhrOptions_=t,this.hasPlayed_()||(e.syncInfo={mediaSequence:e.mediaSequence,time:0});var f=null;if(r&&(r.id?f=r.id:r.uri&&(f=r.uri)),this.logger_("playlist update ["+f+" => "+(e.id||e.uri)+"]"),this.trigger("syncinfoupdate"),this.state==="INIT"&&this.couldBeginLoading_())return this.init_();if(!r||r.uri!==e.uri)return void(this.mediaIndex!==null&&this.resyncLoader());var y=e.mediaSequence-r.mediaSequence;this.logger_("live window shift ["+y+"]"),this.mediaIndex!==null&&(this.mediaIndex-=y),a&&(a.mediaIndex-=y,a.mediaIndex>=0&&(a.segment=e.segments[a.mediaIndex])),this.syncController_.saveExpiredSegmentInfo(r,e)}}},{key:"pause",value:function(){this.checkBufferTimeout_&&(x.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)}},{key:"paused",value:function(){return this.checkBufferTimeout_===null}},{key:"mimeType",value:function(e,t){this.mimeType_||(this.mimeType_=e,this.sourceBufferEmitter_=t,this.state==="INIT"&&this.couldBeginLoading_()&&this.init_())}},{key:"resetEverything",value:function(e){this.ended_=!1,this.resetLoader(),this.remove(0,this.duration_(),e),this.captionParser_&&this.captionParser_.clearAllCaptions(),this.trigger("reseteverything")}},{key:"resetLoader",value:function(){this.fetchAtBuffer_=!1,this.resyncLoader()}},{key:"resyncLoader",value:function(){this.mediaIndex=null,this.syncPoint_=null,this.abort()}},{key:"remove",value:function(e,t,r){if(this.sourceUpdater_&&this.sourceUpdater_.remove(e,t,r),Jc(e,t,this.segmentMetadataTrack_),this.inbandTextTracks_)for(var a in this.inbandTextTracks_)Jc(e,t,this.inbandTextTracks_[a])}},{key:"monitorBuffer_",value:function(){this.checkBufferTimeout_&&x.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=x.setTimeout(this.monitorBufferTick_.bind(this),1)}},{key:"monitorBufferTick_",value:function(){this.state==="READY"&&this.fillBuffer_(),this.checkBufferTimeout_&&x.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=x.setTimeout(this.monitorBufferTick_.bind(this),500)}},{key:"fillBuffer_",value:function(){if(!this.sourceUpdater_.updating()){this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_()));var e=this.checkBuffer_(this.buffered_(),this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_);if(e)return this.isEndOfStream_(e.mediaIndex)?void this.endOfStream():void((e.mediaIndex!==this.playlist_.segments.length-1||this.mediaSource_.readyState!=="ended"||this.seeking_())&&(e.timeline!==this.currentTimeline_&&(this.syncController_.reset(),e.timestampOffset=e.startOfSegment,this.captionParser_&&this.captionParser_.clearAllCaptions()),this.loadSegment_(e)))}}},{key:"isEndOfStream_",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.playlist_;return Qp(t,this.mediaSource_,e)&&!this.sourceUpdater_.updating()}},{key:"checkBuffer_",value:function(e,t,r,a,f,y){var j=0,D=void 0;e.length&&(j=e.end(e.length-1));var F=Math.max(0,j-f);if(!t.segments.length||F>=this.goalBufferLength_()||!a&&F>=1)return null;if(y===null)return r=this.getSyncSegmentCandidate_(t),this.generateSegmentInfo_(t,r,null,!0);if(r!==null){var q=t.segments[r];return D=q&&q.end?q.end:j,this.generateSegmentInfo_(t,r+1,D,!1)}if(this.fetchAtBuffer_){var Y=xa.getMediaInfoForTime(t,j,y.segmentIndex,y.time);r=Y.mediaIndex,D=Y.startTime}else{var tt=xa.getMediaInfoForTime(t,f,y.segmentIndex,y.time);r=tt.mediaIndex,D=tt.startTime}return this.generateSegmentInfo_(t,r,D,!1)}},{key:"getSyncSegmentCandidate_",value:function(e){var t=this;if(this.currentTimeline_===-1)return 0;var r=e.segments.map(function(a,f){return{timeline:a.timeline,segmentIndex:f}}).filter(function(a){return a.timeline===t.currentTimeline_});return r.length?r[Math.min(r.length-1,1)].segmentIndex:Math.max(e.segments.length-1,0)}},{key:"generateSegmentInfo_",value:function(e,t,r,a){if(t<0||t>=e.segments.length)return null;var f=e.segments[t];return{requestId:"segment-loader-"+Math.random(),uri:f.resolvedUri,mediaIndex:t,isSyncRequest:a,startOfSegment:r,playlist:e,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:f.timeline,duration:f.duration,segment:f}}},{key:"abortRequestEarly_",value:function(e){if(this.hls_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH||Date.now()-(e.firstBytesReceivedAt||Date.now())<1e3)return!1;var t=this.currentTime_(),r=e.bandwidth,a=this.pendingSegment_.duration,f=xa.estimateSegmentRequestTime(a,r,this.playlist_,e.bytesReceived),y=function(q,Y){var tt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return((q.length?q.end(q.length-1):0)-Y)/tt}(this.buffered_(),t,this.hls_.tech_.playbackRate())-1;if(f<=y)return!1;var j=function(q){var Y=q.master,tt=q.currentTime,ft=q.bandwidth,dt=q.duration,At=q.segmentDuration,St=q.timeUntilRebuffer,kt=q.currentTimeline,ee=q.syncController,ie=Y.playlists.filter(function(an){return!xa.isIncompatible(an)}),Ie=ie.filter(xa.isEnabled);Ie.length||(Ie=ie.filter(function(an){return!xa.isDisabled(an)}));var Fe=Ie.filter(xa.hasAttribute.bind(null,"BANDWIDTH")).map(function(an){var Me=ee.getSyncPoint(an,dt,kt,tt)?1:2;return{playlist:an,rebufferingImpact:xa.estimateSegmentRequestTime(At,ft,an)*Me-St}}),Ye=Fe.filter(function(an){return an.rebufferingImpact<=0});return kd(Ye,function(an,Me){return Df(Me.playlist,an.playlist)}),Ye.length?Ye[0]:(kd(Fe,function(an,Me){return an.rebufferingImpact-Me.rebufferingImpact}),Fe[0]||null)}({master:this.hls_.playlists.master,currentTime:t,bandwidth:r,duration:this.duration_(),segmentDuration:a,timeUntilRebuffer:y,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(j){var D=f-y-j.rebufferingImpact,F=.5;return y<=1/30&&(F=1),!(!j.playlist||j.playlist.uri===this.playlist_.uri||D<F)&&(this.bandwidth=j.playlist.attributes.BANDWIDTH*Ya.BANDWIDTH_VARIANCE+1,this.abort(),this.trigger("earlyabort"),!0)}}},{key:"handleProgress_",value:function(e,t){this.pendingSegment_&&t.requestId===this.pendingSegment_.requestId&&!this.abortRequestEarly_(t.stats)&&this.trigger("progress")}},{key:"loadSegment_",value:function(e){this.state="WAITING",this.pendingSegment_=e,this.trimBackBuffer_(e),e.abortRequests=Zp(this.hls_.xhr,this.xhrOptions_,this.decrypter_,this.captionParser_,this.createSimplifiedSegmentObj_(e),this.handleProgress_.bind(this),this.segmentRequestFinished_.bind(this))}},{key:"trimBackBuffer_",value:function(e){var t=function(r,a,f){var y;return y=r.length&&r.start(0)>0&&r.start(0)<a?r.start(0):a-30,Math.min(y,a-f)}(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);t>0&&this.remove(0,t)}},{key:"createSimplifiedSegmentObj_",value:function(e){var t=e.segment,r={resolvedUri:t.resolvedUri,byterange:t.byterange,requestId:e.requestId};if(t.key){var a=t.key.iv||new Uint32Array([0,0,0,e.mediaIndex+e.playlist.mediaSequence]);r.key=this.segmentKey(t.key),r.key.iv=a}return t.map&&(r.map=this.initSegment(t.map)),r}},{key:"segmentRequestFinished_",value:function(e,t){if(this.mediaRequests+=1,t.stats&&(this.mediaBytesTransferred+=t.stats.bytesReceived,this.mediaTransferDuration+=t.stats.roundTripTime),this.pendingSegment_){if(t.requestId===this.pendingSegment_.requestId){if(e)return this.pendingSegment_=null,this.state="READY",e.code===Nh?void(this.mediaRequestsAborted+=1):(this.pause(),e.code===Bh?(this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,void this.trigger("bandwidthupdate")):(this.mediaRequestsErrored+=1,this.error(e),void this.trigger("error")));this.bandwidth=t.stats.bandwidth,this.roundTrip=t.stats.roundTripTime,t.map&&(t.map=this.initSegment(t.map,!0)),t.key&&this.segmentKey(t.key,!0),this.processSegmentResponse_(t)}}else this.mediaRequestsAborted+=1}},{key:"processSegmentResponse_",value:function(e){var t=this.pendingSegment_;t.bytes=e.bytes,e.map&&(t.segment.map.bytes=e.map.bytes),t.endOfAllRequests=e.endOfAllRequests,e.fmp4Captions&&(function(r,a,f){for(var y in f)if(!r[y]){a.trigger({type:"usage",name:"hls-608"});var j=a.textTracks().getTrackById(y);r[y]=j||a.addRemoteTextTrack({kind:"captions",id:y,label:y},!1).track}}(this.inbandTextTracks_,this.hls_.tech_,e.captionStreams),function(r){var a=r.inbandTextTracks,f=r.captionArray,y=r.timestampOffset;if(f){var j=window.WebKitDataCue||window.VTTCue;f.forEach(function(D){var F=D.stream,q=D.startTime,Y=D.endTime;a[F]&&(q+=y,Y+=y,a[F].addCue(new j(q,Y,D.text)))})}}({inbandTextTracks:this.inbandTextTracks_,captionArray:e.fmp4Captions,timestampOffset:0}),this.captionParser_&&this.captionParser_.clearParsedCaptions()),this.handleSegment_()}},{key:"handleSegment_",value:function(){var e=this;if(this.pendingSegment_){var t=this.pendingSegment_,r=t.segment,a=this.syncController_.probeSegmentInfo(t);this.startingMedia_===void 0&&a&&(a.containsAudio||a.containsVideo)&&(this.startingMedia_={containsAudio:a.containsAudio,containsVideo:a.containsVideo});var f=function(F,q,Y){return F==="main"&&q&&Y?Y.containsAudio||Y.containsVideo?q.containsVideo&&!Y.containsVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!q.containsVideo&&Y.containsVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null:"Neither audio nor video found in segment.":null}(this.loaderType_,this.startingMedia_,a);if(f)return this.error({message:f,blacklistDuration:1/0}),void this.trigger("error");if(t.isSyncRequest)return this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY");t.timestampOffset!==null&&t.timestampOffset!==this.sourceUpdater_.timestampOffset()&&(this.sourceUpdater_.timestampOffset(t.timestampOffset),this.trigger("timestampoffset"));var y=this.syncController_.mappingForTimeline(t.timeline);if(y!==null&&this.trigger({type:"segmenttimemapping",mapping:y}),this.state="APPENDING",r.map){var j=Yd(r.map);if(!this.activeInitSegmentId_||this.activeInitSegmentId_!==j){var D=this.initSegment(r.map);this.sourceUpdater_.appendBuffer({bytes:D.bytes},function(){e.activeInitSegmentId_=j})}}t.byteLength=t.bytes.byteLength,typeof r.start=="number"&&typeof r.end=="number"?this.mediaSecondsLoaded+=r.end-r.start:this.mediaSecondsLoaded+=r.duration,this.logger_(function(F){var q=F.segment,Y=q.start,tt=q.end,ft=F.playlist,dt=ft.mediaSequence,At=ft.id,St=ft.segments,kt=St===void 0?[]:St,ee=F.mediaIndex,ie=F.timeline;return["appending ["+ee+"] of ["+dt+", "+(dt+kt.length)+"] from playlist ["+At+"]","["+Y+" => "+tt+"] in timeline ["+ie+"]"].join(" ")}(t)),this.sourceUpdater_.appendBuffer({bytes:t.bytes,videoSegmentTimingInfoCallback:this.handleVideoSegmentTimingInfo_.bind(this,t.requestId)},this.handleUpdateEnd_.bind(this))}else this.state="READY"}},{key:"handleVideoSegmentTimingInfo_",value:function(e,t){if(this.pendingSegment_&&e===this.pendingSegment_.requestId){var r=this.pendingSegment_.segment;r.videoTimingInfo||(r.videoTimingInfo={}),r.videoTimingInfo.transmuxerPrependedSeconds=t.videoSegmentTimingInfo.prependedContentDuration||0,r.videoTimingInfo.transmuxedPresentationStart=t.videoSegmentTimingInfo.start.presentation,r.videoTimingInfo.transmuxedPresentationEnd=t.videoSegmentTimingInfo.end.presentation,r.videoTimingInfo.baseMediaDecodeTime=t.videoSegmentTimingInfo.baseMediaDecodeTime}}},{key:"handleUpdateEnd_",value:function(){if(!this.pendingSegment_)return this.state="READY",void(this.paused()||this.monitorBuffer_());var e=this.pendingSegment_,t=e.segment,r=this.mediaIndex!==null;this.pendingSegment_=null,this.recordThroughput_(e),this.addSegmentMetadataCue_(e),this.state="READY",this.mediaIndex=e.mediaIndex,this.fetchAtBuffer_=!0,this.currentTimeline_=e.timeline,this.trigger("syncinfoupdate"),t.end&&this.currentTime_()-t.end>3*e.playlist.targetDuration?this.resetEverything():(r&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.isEndOfStream_(e.mediaIndex+1,e.playlist)&&this.endOfStream(),this.paused()||this.monitorBuffer_())}},{key:"recordThroughput_",value:function(e){var t=this.throughput.rate,r=Date.now()-e.endOfAllRequests+1,a=Math.floor(e.byteLength/r*8*1e3);this.throughput.rate+=(a-t)/++this.throughput.count}},{key:"addSegmentMetadataCue_",value:function(e){if(this.segmentMetadataTrack_){var t=e.segment,r=t.start,a=t.end;if(Hh(r)&&Hh(a)){Jc(r,a,this.segmentMetadataTrack_);var f=x.WebKitDataCue||x.VTTCue,y={custom:t.custom,dateTimeObject:t.dateTimeObject,dateTimeString:t.dateTimeString,bandwidth:e.playlist.attributes.BANDWIDTH,resolution:e.playlist.attributes.RESOLUTION,codecs:e.playlist.attributes.CODECS,byteLength:e.byteLength,uri:e.uri,timeline:e.timeline,playlist:e.playlist.uri,start:r,end:a},j=new f(r,a,JSON.stringify(y));j.value=y,this.segmentMetadataTrack_.addCue(j)}}}}]),i}(Et.EventTarget),zh=function(n){return decodeURIComponent(escape(String.fromCharCode.apply(null,n)))},Gh=new Uint8Array(`

`.split("").map(function(n){return n.charCodeAt(0)})),tm=function(n){function i(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};bo(this,i);var r=Ls(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,e,t));return r.mediaSource_=null,r.subtitlesTrack_=null,r}return xu(i,n),Go(i,[{key:"buffered_",value:function(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues.length)return Et.createTimeRanges();var e=this.subtitlesTrack_.cues,t=e[0].startTime,r=e[e.length-1].startTime;return Et.createTimeRanges([[t,r]])}},{key:"initSegment",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(!e)return null;var r=Yd(e),a=this.initSegments_[r];if(t&&!a&&e.bytes){var f=Gh.byteLength+e.bytes.byteLength,y=new Uint8Array(f);y.set(e.bytes),y.set(Gh,e.bytes.byteLength),this.initSegments_[r]=a={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:y}}return a||e}},{key:"couldBeginLoading_",value:function(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()}},{key:"init_",value:function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}},{key:"track",value:function(e){return e===void 0||(this.subtitlesTrack_=e,this.state==="INIT"&&this.couldBeginLoading_()&&this.init_()),this.subtitlesTrack_}},{key:"remove",value:function(e,t){Jc(e,t,this.subtitlesTrack_)}},{key:"fillBuffer_",value:function(){var e=this;this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_()));var t=this.checkBuffer_(this.buffered_(),this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_);if(t=this.skipEmptySegments_(t)){if(this.syncController_.timestampOffsetForTimeline(t.timeline)===null)return this.syncController_.one("timestampoffset",function(){e.state="READY",e.paused()||e.monitorBuffer_()}),void(this.state="WAITING_ON_TIMELINE");this.loadSegment_(t)}}},{key:"skipEmptySegments_",value:function(e){for(;e&&e.segment.empty;)e=this.generateSegmentInfo_(e.playlist,e.mediaIndex+1,e.startOfSegment+e.duration,e.isSyncRequest);return e}},{key:"handleSegment_",value:function(){var e=this;if(this.pendingSegment_&&this.subtitlesTrack_){this.state="APPENDING";var t=this.pendingSegment_,r=t.segment;if(typeof x.WebVTT!="function"&&this.subtitlesTrack_&&this.subtitlesTrack_.tech_){var a=void 0,f=function(){e.subtitlesTrack_.tech_.off("vttjsloaded",a),e.error({message:"Error loading vtt.js"}),e.state="READY",e.pause(),e.trigger("error")};return a=function(){e.subtitlesTrack_.tech_.off("vttjserror",f),e.handleSegment_()},this.state="WAITING_ON_VTTJS",this.subtitlesTrack_.tech_.one("vttjsloaded",a),void this.subtitlesTrack_.tech_.one("vttjserror",f)}r.requested=!0;try{this.parseVTTCues_(t)}catch(y){return this.error({message:y.message}),this.state="READY",this.pause(),this.trigger("error")}if(this.updateTimeMapping_(t,this.syncController_.timelines[t.timeline],this.playlist_),t.isSyncRequest)return this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY");t.byteLength=t.bytes.byteLength,this.mediaSecondsLoaded+=r.duration,t.cues.length&&this.remove(t.cues[0].endTime,t.cues[t.cues.length-1].endTime),t.cues.forEach(function(y){e.subtitlesTrack_.addCue(y)}),this.handleUpdateEnd_()}else this.state="READY"}},{key:"parseVTTCues_",value:function(e){var t=void 0,r=!1;typeof x.TextDecoder=="function"?t=new x.TextDecoder("utf8"):(t=x.WebVTT.StringDecoder(),r=!0);var a=new x.WebVTT.Parser(x,x.vttjs,t);if(e.cues=[],e.timestampmap={MPEGTS:0,LOCAL:0},a.oncue=e.cues.push.bind(e.cues),a.ontimestampmap=function(j){return e.timestampmap=j},a.onparsingerror=function(j){Et.log.warn("Error encountered when parsing cues: "+j.message)},e.segment.map){var f=e.segment.map.bytes;r&&(f=zh(f)),a.parse(f)}var y=e.bytes;r&&(y=zh(y)),a.parse(y),a.flush()}},{key:"updateTimeMapping_",value:function(e,t,r){var a=e.segment;if(t){if(!e.cues.length)return void(a.empty=!0);var f=e.timestampmap,y=f.MPEGTS/9e4-f.LOCAL+t.mapping;if(e.cues.forEach(function(F){F.startTime+=y,F.endTime+=y}),!r.syncInfo){var j=e.cues[0].startTime,D=e.cues[e.cues.length-1].startTime;r.syncInfo={mediaSequence:r.mediaSequence+e.mediaIndex,time:Math.min(j,D-a.duration)}}}}}]),i}(Mf),em=function(n,i){for(var e=n.cues,t=0;t<e.length;t++){var r=e[t];if(i>=r.adStartTime&&i<=r.adEndTime)return r}return null},nm=function(n,i){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(n.segments)for(var t=e,r=void 0,a=0;a<n.segments.length;a++){var f=n.segments[a];if(r||(r=em(i,t+f.duration/2)),r){if("cueIn"in f){r.endTime=t,r.adEndTime=t,t+=f.duration,r=null;continue}if(t<r.endTime){t+=f.duration;continue}r.endTime+=f.duration}else if("cueOut"in f&&((r=new x.VTTCue(t,t+f.duration,f.cueOut)).adStartTime=t,r.adEndTime=t+parseFloat(f.cueOut),i.addCue(r)),"cueOutCont"in f){var y=void 0,j=void 0,D=f.cueOutCont.split("/").map(parseFloat),F=Ap(D,2);y=F[0],j=F[1],(r=new x.VTTCue(t,t+f.duration,"")).adStartTime=t-y,r.adEndTime=r.adStartTime+j,i.addCue(r)}t+=f.duration}},rm=Wd,Wh=[{name:"VOD",run:function(n,i,e,t,r){return e!==1/0?{time:0,segmentIndex:0}:null}},{name:"ProgramDateTime",run:function(n,i,e,t,r){if(!n.datetimeToDisplayTime)return null;var a=i.segments||[],f=null,y=null;r=r||0;for(var j=0;j<a.length;j++){var D=a[j];if(D.dateTimeObject){var F=D.dateTimeObject.getTime()/1e3+n.datetimeToDisplayTime,q=Math.abs(r-F);if(y!==null&&(q===0||y<q))break;y=q,f={time:F,segmentIndex:j}}}return f}},{name:"Segment",run:function(n,i,e,t,r){var a=i.segments||[],f=null,y=null;r=r||0;for(var j=0;j<a.length;j++){var D=a[j];if(D.timeline===t&&D.start!==void 0){var F=Math.abs(r-D.start);if(y!==null&&y<F)break;(!f||y===null||y>=F)&&(y=F,f={time:D.start,segmentIndex:j})}}return f}},{name:"Discontinuity",run:function(n,i,e,t,r){var a=null;if(r=r||0,i.discontinuityStarts&&i.discontinuityStarts.length)for(var f=null,y=0;y<i.discontinuityStarts.length;y++){var j=i.discontinuityStarts[y],D=i.discontinuitySequence+y+1,F=n.discontinuities[D];if(F){var q=Math.abs(r-F.time);if(f!==null&&f<q)break;(!a||f===null||f>=q)&&(f=q,a={time:F.time,segmentIndex:j})}}return a}},{name:"Playlist",run:function(n,i,e,t,r){return i.syncInfo?{time:i.syncInfo.time,segmentIndex:i.syncInfo.mediaSequence-i.mediaSequence}:null}}],im=function(n){function i(){bo(this,i);var e=Ls(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return e.inspectCache_=void 0,e.timelines=[],e.discontinuities=[],e.datetimeToDisplayTime=null,e.logger_=wd("SyncController"),e}return xu(i,n),Go(i,[{key:"getSyncPoint",value:function(e,t,r,a){var f=this.runStrategies_(e,t,r,a);return f.length?this.selectSyncPoint_(f,{key:"time",value:a}):null}},{key:"getExpiredTime",value:function(e,t){if(!e||!e.segments)return null;var r=this.runStrategies_(e,t,e.discontinuitySequence,0);if(!r.length)return null;var a=this.selectSyncPoint_(r,{key:"segmentIndex",value:0});return a.segmentIndex>0&&(a.time*=-1),Math.abs(a.time+bd(e,a.segmentIndex,0))}},{key:"runStrategies_",value:function(e,t,r,a){for(var f=[],y=0;y<Wh.length;y++){var j=Wh[y],D=j.run(this,e,t,r,a);D&&(D.strategy=j.name,f.push({strategy:j.name,syncPoint:D}))}return f}},{key:"selectSyncPoint_",value:function(e,t){for(var r=e[0].syncPoint,a=Math.abs(e[0].syncPoint[t.key]-t.value),f=e[0].strategy,y=1;y<e.length;y++){var j=Math.abs(e[y].syncPoint[t.key]-t.value);j<a&&(a=j,r=e[y].syncPoint,f=e[y].strategy)}return this.logger_("syncPoint for ["+t.key+": "+t.value+"] chosen with strategy ["+f+"]: [time:"+r.time+", segmentIndex:"+r.segmentIndex+"]"),r}},{key:"saveExpiredSegmentInfo",value:function(e,t){for(var r=t.mediaSequence-e.mediaSequence-1;r>=0;r--){var a=e.segments[r];if(a&&a.start!==void 0){t.syncInfo={mediaSequence:e.mediaSequence+r,time:a.start},this.logger_("playlist refresh sync: [time:"+t.syncInfo.time+", mediaSequence: "+t.syncInfo.mediaSequence+"]"),this.trigger("syncinfoupdate");break}}}},{key:"setDateTimeMapping",value:function(e){if(!this.datetimeToDisplayTime&&e.segments&&e.segments.length&&e.segments[0].dateTimeObject){var t=e.segments[0].dateTimeObject.getTime()/1e3;this.datetimeToDisplayTime=-t}}},{key:"reset",value:function(){this.inspectCache_=void 0}},{key:"probeSegmentInfo",value:function(e){var t,r=e.segment,a=e.playlist;return(t=r.map?this.probeMp4Segment_(e):this.probeTsSegment_(e))&&this.calculateSegmentTimeMapping_(e,t)&&(this.saveDiscontinuitySyncInfo_(e),a.syncInfo||(a.syncInfo={mediaSequence:a.mediaSequence+e.mediaIndex,time:r.start})),t}},{key:"probeMp4Segment_",value:function(e){var t=e.segment,r=Ca.timescale(t.map.bytes),a=Ca.startTime(r,e.bytes);return e.timestampOffset!==null&&(e.timestampOffset-=a),{start:a,end:a+t.duration}}},{key:"probeTsSegment_",value:function(e){var t=rm(e.bytes,this.inspectCache_),r=void 0,a=void 0;return t?(t.video&&t.video.length===2?(this.inspectCache_=t.video[1].dts,r=t.video[0].dtsTime,a=t.video[1].dtsTime):t.audio&&t.audio.length===2&&(this.inspectCache_=t.audio[1].dts,r=t.audio[0].dtsTime,a=t.audio[1].dtsTime),{start:r,end:a,containsVideo:t.video&&t.video.length===2,containsAudio:t.audio&&t.audio.length===2}):null}},{key:"timestampOffsetForTimeline",value:function(e){return this.timelines[e]===void 0?null:this.timelines[e].time}},{key:"mappingForTimeline",value:function(e){return this.timelines[e]===void 0?null:this.timelines[e].mapping}},{key:"calculateSegmentTimeMapping_",value:function(e,t){var r=e.segment,a=this.timelines[e.timeline];if(e.timestampOffset!==null)a={time:e.startOfSegment,mapping:e.startOfSegment-t.start},this.timelines[e.timeline]=a,this.trigger("timestampoffset"),this.logger_("time mapping for timeline "+e.timeline+": [time: "+a.time+"] [mapping: "+a.mapping+"]"),r.start=e.startOfSegment,r.end=t.end+a.mapping;else{if(!a)return!1;r.start=t.start+a.mapping,r.end=t.end+a.mapping}return!0}},{key:"saveDiscontinuitySyncInfo_",value:function(e){var t=e.playlist,r=e.segment;if(r.discontinuity)this.discontinuities[r.timeline]={time:r.start,accuracy:0};else if(t.discontinuityStarts&&t.discontinuityStarts.length)for(var a=0;a<t.discontinuityStarts.length;a++){var f=t.discontinuityStarts[a],y=t.discontinuitySequence+a+1,j=f-e.mediaIndex,D=Math.abs(j);if(!this.discontinuities[y]||this.discontinuities[y].accuracy>D){var F;F=j<0?r.start-bd(t,e.mediaIndex,f):r.end+bd(t,e.mediaIndex+1,f),this.discontinuities[y]={time:F,accuracy:D}}}}}]),i}(Et.EventTarget),am=new Vi("./decrypter-worker.worker.js",function(n,i){var e=this;(function(){var t=function(q,Y){if(!(q instanceof Y))throw new TypeError("Cannot call a class as a function")},r=function(){function q(Y,tt){for(var ft=0;ft<tt.length;ft++){var dt=tt[ft];dt.enumerable=dt.enumerable||!1,dt.configurable=!0,"value"in dt&&(dt.writable=!0),Object.defineProperty(Y,dt.key,dt)}}return function(Y,tt,ft){return tt&&q(Y.prototype,tt),ft&&q(Y,ft),Y}}(),a=null,f=function(){function q(Y){t(this,q),a||(a=function(){var Fe=[[[],[],[],[],[]],[[],[],[],[],[]]],Ye=Fe[0],an=Fe[1],Me=Ye[4],Lr=an[4],mn=void 0,Br=void 0,Wr=void 0,Di=[],La=[],fr=void 0,Ps=void 0,ta=void 0,Ou=void 0,gc=void 0;for(mn=0;mn<256;mn++)La[(Di[mn]=mn<<1^283*(mn>>7))^mn]=mn;for(Br=Wr=0;!Me[Br];Br^=fr||1,Wr=La[Wr]||1)for(ta=(ta=Wr^Wr<<1^Wr<<2^Wr<<3^Wr<<4)>>8^255&ta^99,Me[Br]=ta,Lr[ta]=Br,gc=16843009*Di[Ps=Di[fr=Di[Br]]]^65537*Ps^257*fr^16843008*Br,Ou=257*Di[ta]^16843008*ta,mn=0;mn<4;mn++)Ye[mn][Br]=Ou=Ou<<24^Ou>>>8,an[mn][ta]=gc=gc<<24^gc>>>8;for(mn=0;mn<5;mn++)Ye[mn]=Ye[mn].slice(0),an[mn]=an[mn].slice(0);return Fe}()),this._tables=[[a[0][0].slice(),a[0][1].slice(),a[0][2].slice(),a[0][3].slice(),a[0][4].slice()],[a[1][0].slice(),a[1][1].slice(),a[1][2].slice(),a[1][3].slice(),a[1][4].slice()]];var tt=void 0,ft=void 0,dt=void 0,At=void 0,St=void 0,kt=this._tables[0][4],ee=this._tables[1],ie=Y.length,Ie=1;if(ie!==4&&ie!==6&&ie!==8)throw new Error("Invalid aes key size");for(At=Y.slice(0),St=[],this._key=[At,St],tt=ie;tt<4*ie+28;tt++)dt=At[tt-1],(tt%ie==0||ie===8&&tt%ie==4)&&(dt=kt[dt>>>24]<<24^kt[dt>>16&255]<<16^kt[dt>>8&255]<<8^kt[255&dt],tt%ie==0&&(dt=dt<<8^dt>>>24^Ie<<24,Ie=Ie<<1^283*(Ie>>7))),At[tt]=At[tt-ie]^dt;for(ft=0;tt;ft++,tt--)dt=At[3&ft?tt:tt-4],St[ft]=tt<=4||ft<4?dt:ee[0][kt[dt>>>24]]^ee[1][kt[dt>>16&255]]^ee[2][kt[dt>>8&255]]^ee[3][kt[255&dt]]}return q.prototype.decrypt=function(Y,tt,ft,dt,At,St){var kt=this._key[1],ee=Y^kt[0],ie=dt^kt[1],Ie=ft^kt[2],Fe=tt^kt[3],Ye=void 0,an=void 0,Me=void 0,Lr=kt.length/4-2,mn=void 0,Br=4,Wr=this._tables[1],Di=Wr[0],La=Wr[1],fr=Wr[2],Ps=Wr[3],ta=Wr[4];for(mn=0;mn<Lr;mn++)Ye=Di[ee>>>24]^La[ie>>16&255]^fr[Ie>>8&255]^Ps[255&Fe]^kt[Br],an=Di[ie>>>24]^La[Ie>>16&255]^fr[Fe>>8&255]^Ps[255&ee]^kt[Br+1],Me=Di[Ie>>>24]^La[Fe>>16&255]^fr[ee>>8&255]^Ps[255&ie]^kt[Br+2],Fe=Di[Fe>>>24]^La[ee>>16&255]^fr[ie>>8&255]^Ps[255&Ie]^kt[Br+3],Br+=4,ee=Ye,ie=an,Ie=Me;for(mn=0;mn<4;mn++)At[(3&-mn)+St]=ta[ee>>>24]<<24^ta[ie>>16&255]<<16^ta[Ie>>8&255]<<8^ta[255&Fe]^kt[Br++],Ye=ee,ee=ie,ie=Ie,Ie=Fe,Fe=Ye},q}(),y=function(){function q(){t(this,q),this.listeners={}}return q.prototype.on=function(Y,tt){this.listeners[Y]||(this.listeners[Y]=[]),this.listeners[Y].push(tt)},q.prototype.off=function(Y,tt){if(!this.listeners[Y])return!1;var ft=this.listeners[Y].indexOf(tt);return this.listeners[Y].splice(ft,1),ft>-1},q.prototype.trigger=function(Y){var tt=this.listeners[Y];if(tt)if(arguments.length===2)for(var ft=tt.length,dt=0;dt<ft;++dt)tt[dt].call(this,arguments[1]);else for(var At=Array.prototype.slice.call(arguments,1),St=tt.length,kt=0;kt<St;++kt)tt[kt].apply(this,At)},q.prototype.dispose=function(){this.listeners={}},q.prototype.pipe=function(Y){this.on("data",function(tt){Y.push(tt)})},q}(),j=function(q){function Y(){t(this,Y);var tt=function(ft,dt){if(!ft)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!dt||typeof dt!="object"&&typeof dt!="function"?ft:dt}(this,q.call(this,y));return tt.jobs=[],tt.delay=1,tt.timeout_=null,tt}return function(tt,ft){if(typeof ft!="function"&&ft!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof ft);tt.prototype=Object.create(ft&&ft.prototype,{constructor:{value:tt,enumerable:!1,writable:!0,configurable:!0}}),ft&&(Object.setPrototypeOf?Object.setPrototypeOf(tt,ft):tt.__proto__=ft)}(Y,q),Y.prototype.processJob_=function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null},Y.prototype.push=function(tt){this.jobs.push(tt),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},Y}(y),D=function(q){return q<<24|(65280&q)<<8|(16711680&q)>>8|q>>>24},F=function(){function q(Y,tt,ft,dt){t(this,q);var At=q.STEP,St=new Int32Array(Y.buffer),kt=new Uint8Array(Y.byteLength),ee=0;for(this.asyncStream_=new j,this.asyncStream_.push(this.decryptChunk_(St.subarray(ee,ee+At),tt,ft,kt)),ee=At;ee<St.length;ee+=At)ft=new Uint32Array([D(St[ee-4]),D(St[ee-3]),D(St[ee-2]),D(St[ee-1])]),this.asyncStream_.push(this.decryptChunk_(St.subarray(ee,ee+At),tt,ft,kt));this.asyncStream_.push(function(){dt(null,function(ie){return ie.subarray(0,ie.byteLength-ie[ie.byteLength-1])}(kt))})}return q.prototype.decryptChunk_=function(Y,tt,ft,dt){return function(){var At=function(St,kt,ee){var ie=new Int32Array(St.buffer,St.byteOffset,St.byteLength>>2),Ie=new f(Array.prototype.slice.call(kt)),Fe=new Uint8Array(St.byteLength),Ye=new Int32Array(Fe.buffer),an=void 0,Me=void 0,Lr=void 0,mn=void 0,Br=void 0,Wr=void 0,Di=void 0,La=void 0,fr=void 0;for(an=ee[0],Me=ee[1],Lr=ee[2],mn=ee[3],fr=0;fr<ie.length;fr+=4)Br=D(ie[fr]),Wr=D(ie[fr+1]),Di=D(ie[fr+2]),La=D(ie[fr+3]),Ie.decrypt(Br,Wr,Di,La,Ye,fr),Ye[fr]=D(Ye[fr]^an),Ye[fr+1]=D(Ye[fr+1]^Me),Ye[fr+2]=D(Ye[fr+2]^Lr),Ye[fr+3]=D(Ye[fr+3]^mn),an=Br,Me=Wr,Lr=Di,mn=La;return Fe}(Y,tt,ft);dt.set(At,Y.byteOffset)}},r(q,null,[{key:"STEP",get:function(){return 32e3}}]),q}();new function(q){q.onmessage=function(Y){var tt=Y.data,ft=new Uint8Array(tt.encrypted.bytes,tt.encrypted.byteOffset,tt.encrypted.byteLength),dt=new Uint32Array(tt.key.bytes,tt.key.byteOffset,tt.key.byteLength/4),At=new Uint32Array(tt.iv.bytes,tt.iv.byteOffset,tt.iv.byteLength/4);new F(ft,dt,At,function(St,kt){q.postMessage(function(ee){var ie={};return Object.keys(ee).forEach(function(Ie){var Fe=ee[Ie];ArrayBuffer.isView(Fe)?ie[Ie]={bytes:Fe.buffer,byteOffset:Fe.byteOffset,byteLength:Fe.byteLength}:ie[Ie]=Fe}),ie}({source:tt.source,decrypted:kt}),[kt.buffer])})}}(e)})()}),om=function(n){var i=n.default?"main":"alternative";return n.characteristics&&n.characteristics.indexOf("public.accessibility.describes-video")>=0&&(i="main-desc"),i},Zd=function(n,i){n.abort(),n.pause(),i&&i.activePlaylistLoader&&(i.activePlaylistLoader.pause(),i.activePlaylistLoader=null)},Uf=function(n,i){i.activePlaylistLoader=n,n.load()},Qd={AUDIO:function(n,i){return function(){var e=i.segmentLoaders[n],t=i.mediaTypes[n],r=i.blacklistCurrentPlaylist;Zd(e,t);var a=t.activeTrack(),f=t.activeGroup(),y=(f.filter(function(F){return F.default})[0]||f[0]).id,j=t.tracks[y];if(a!==j){for(var D in Et.log.warn("Problem encountered loading the alternate audio track.Switching back to default."),t.tracks)t.tracks[D].enabled=t.tracks[D]===j;t.onTrackChanged()}else r({message:"Problem encountered loading the default audio track."})}},SUBTITLES:function(n,i){return function(){var e=i.segmentLoaders[n],t=i.mediaTypes[n];Et.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track."),Zd(e,t);var r=t.activeTrack();r&&(r.mode="disabled"),t.onTrackChanged()}}},qh={AUDIO:function(n,i,e){if(i){var t=e.tech,r=e.requestOptions,a=e.segmentLoaders[n];i.on("loadedmetadata",function(){var f=i.media();a.playlist(f,r),(!t.paused()||f.endList&&t.preload()!=="none")&&a.load()}),i.on("loadedplaylist",function(){a.playlist(i.media(),r),t.paused()||a.load()}),i.on("error",Qd[n](n,e))}},SUBTITLES:function(n,i,e){var t=e.tech,r=e.requestOptions,a=e.segmentLoaders[n],f=e.mediaTypes[n];i.on("loadedmetadata",function(){var y=i.media();a.playlist(y,r),a.track(f.activeTrack()),(!t.paused()||y.endList&&t.preload()!=="none")&&a.load()}),i.on("loadedplaylist",function(){a.playlist(i.media(),r),t.paused()||a.load()}),i.on("error",Qd[n](n,e))}},sm={AUDIO:function(n,i){var e=i.hls,t=i.sourceType,r=i.segmentLoaders[n],a=i.requestOptions,f=i.master.mediaGroups,y=i.mediaTypes[n],j=y.groups,D=y.tracks,F=i.masterPlaylistLoader;for(var q in f[n]&&Object.keys(f[n]).length!==0||(f[n]={main:{default:{default:!0}}}),f[n])for(var Y in j[q]||(j[q]=[]),f[n][q]){var tt,ft=f[n][q][Y];if(tt=ft.resolvedUri?new Kd(ft.resolvedUri,e,a):ft.playlists&&t==="dash"?new Rf(ft.playlists[0],e,a,F):null,ft=Et.mergeOptions({id:Y,playlistLoader:tt},ft),qh[n](n,ft.playlistLoader,i),j[q].push(ft),D[Y]===void 0){var dt=new Et.AudioTrack({id:Y,kind:om(ft),enabled:!1,language:ft.language,default:ft.default,label:Y});D[Y]=dt}}r.on("error",Qd[n](n,i))},SUBTITLES:function(n,i){var e=i.tech,t=i.hls,r=i.sourceType,a=i.segmentLoaders[n],f=i.requestOptions,y=i.master.mediaGroups,j=i.mediaTypes[n],D=j.groups,F=j.tracks,q=i.masterPlaylistLoader;for(var Y in y[n])for(var tt in D[Y]||(D[Y]=[]),y[n][Y])if(!y[n][Y][tt].forced){var ft=y[n][Y][tt],dt=void 0;if(r==="hls"?dt=new Kd(ft.resolvedUri,t,f):r==="dash"&&(dt=new Rf(ft.playlists[0],t,f,q)),ft=Et.mergeOptions({id:tt,playlistLoader:dt},ft),qh[n](n,ft.playlistLoader,i),D[Y].push(ft),F[tt]===void 0){var At=e.addRemoteTextTrack({id:tt,kind:"subtitles",default:ft.default&&ft.autoselect,language:ft.language,label:tt},!1).track;F[tt]=At}}a.on("error",Qd[n](n,i))},"CLOSED-CAPTIONS":function(n,i){var e=i.tech,t=i.master.mediaGroups,r=i.mediaTypes[n],a=r.groups,f=r.tracks;for(var y in t[n])for(var j in a[y]||(a[y]=[]),t[n][y]){var D=t[n][y][j];if(D.instreamId.match(/CC\d/)&&(a[y].push(Et.mergeOptions({id:j},D)),f[j]===void 0)){var F=e.addRemoteTextTrack({id:D.instreamId,kind:"captions",default:D.default&&D.autoselect,language:D.language,label:j},!1).track;f[j]=F}}}},um={AUDIO:function(n,i){return function(){var e=i.mediaTypes[n].tracks;for(var t in e)if(e[t].enabled)return e[t];return null}},SUBTITLES:function(n,i){return function(){var e=i.mediaTypes[n].tracks;for(var t in e)if(e[t].mode==="showing")return e[t];return null}}},lm=function(n){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(D){sm[D](D,n)});var i=n.mediaTypes,e=n.masterPlaylistLoader,t=n.tech,r=n.hls;["AUDIO","SUBTITLES"].forEach(function(D){i[D].activeGroup=function(F,q){return function(Y){var tt=q.masterPlaylistLoader,ft=q.mediaTypes[F].groups,dt=tt.media();if(!dt)return null;var At=null;return dt.attributes[F]&&(At=ft[dt.attributes[F]]),At=At||ft.main,Y===void 0?At:Y===null?null:At.filter(function(St){return St.id===Y.id})[0]||null}}(D,n),i[D].activeTrack=um[D](D,n),i[D].onGroupChanged=function(F,q){return function(){var Y=q.segmentLoaders,tt=Y[F],ft=Y.main,dt=q.mediaTypes[F],At=dt.activeTrack(),St=dt.activeGroup(At),kt=dt.activePlaylistLoader;if(Zd(tt,dt),St){if(!St.playlistLoader)return void(kt&&ft.resetEverything());tt.resyncLoader(),Uf(St.playlistLoader,dt)}}}(D,n),i[D].onTrackChanged=function(F,q){return function(){var Y=q.segmentLoaders,tt=Y[F],ft=Y.main,dt=q.mediaTypes[F],At=dt.activeTrack(),St=dt.activeGroup(At),kt=dt.activePlaylistLoader;if(Zd(tt,dt),St){if(!St.playlistLoader)return void ft.resetEverything();if(kt===St.playlistLoader)return void Uf(St.playlistLoader,dt);tt.track&&tt.track(At),tt.resetEverything(),Uf(St.playlistLoader,dt)}}}(D,n)});var a=i.AUDIO.activeGroup(),f=(a.filter(function(D){return D.default})[0]||a[0]).id;i.AUDIO.tracks[f].enabled=!0,i.AUDIO.onTrackChanged(),e.on("mediachange",function(){["AUDIO","SUBTITLES"].forEach(function(D){return i[D].onGroupChanged()})});var y=function(){i.AUDIO.onTrackChanged(),t.trigger({type:"usage",name:"hls-audio-change"})};for(var j in t.audioTracks().addEventListener("change",y),t.remoteTextTracks().addEventListener("change",i.SUBTITLES.onTrackChanged),r.on("dispose",function(){t.audioTracks().removeEventListener("change",y),t.remoteTextTracks().removeEventListener("change",i.SUBTITLES.onTrackChanged)}),t.clearTracks("audio"),i.AUDIO.tracks)t.audioTracks().addTrack(i.AUDIO.tracks[j])},Sl=void 0,cm=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred"],dm=function(n){return this.audioSegmentLoader_[n]+this.mainSegmentLoader_[n]},fm=function(n){function i(e){bo(this,i);var t=Ls(this,(i.__proto__||Object.getPrototypeOf(i)).call(this)),r=e.url,a=e.handleManifestRedirects,f=e.withCredentials,y=e.tech,j=e.bandwidth,D=e.externHls,F=e.useCueTags,q=e.blacklistDuration,Y=e.enableLowInitialPlaylist,tt=e.sourceType,ft=e.seekTo,dt=e.cacheEncryptionKeys;if(!r)throw new Error("A non-empty playlist URL is required");Sl=D,t.withCredentials=f,t.tech_=y,t.hls_=y.hls,t.seekTo_=ft,t.sourceType_=tt,t.useCueTags_=F,t.blacklistDuration=q,t.enableLowInitialPlaylist=Y,t.useCueTags_&&(t.cueTagsTrack_=t.tech_.addTextTrack("metadata","ad-cues"),t.cueTagsTrack_.inBandMetadataTrackDispatchType=""),t.requestOptions_={withCredentials:f,handleManifestRedirects:a,timeout:null},t.mediaTypes_=function(){var St={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(kt){St[kt]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:vi,activeTrack:vi,onGroupChanged:vi,onTrackChanged:vi}}),St}(),t.mediaSource=new Et.MediaSource,t.mediaSource.addEventListener("sourceopen",t.handleSourceOpen_.bind(t)),t.seekable_=Et.createTimeRanges(),t.hasPlayed_=function(){return!1},t.syncController_=new im(e),t.segmentMetadataTrack_=y.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,t.decrypter_=new am,t.inbandTextTracks_={};var At={hls:t.hls_,mediaSource:t.mediaSource,currentTime:t.tech_.currentTime.bind(t.tech_),seekable:function(){return t.seekable()},seeking:function(){return t.tech_.seeking()},duration:function(){return t.mediaSource.duration},hasPlayed:function(){return t.hasPlayed_()},goalBufferLength:function(){return t.goalBufferLength()},bandwidth:j,syncController:t.syncController_,decrypter:t.decrypter_,sourceType:t.sourceType_,inbandTextTracks:t.inbandTextTracks_,cacheEncryptionKeys:dt};return t.masterPlaylistLoader_=t.sourceType_==="dash"?new Rf(r,t.hls_,t.requestOptions_):new Kd(r,t.hls_,t.requestOptions_),t.setupMasterPlaylistLoaderListeners_(),t.mainSegmentLoader_=new Mf(Et.mergeOptions(At,{segmentMetadataTrack:t.segmentMetadataTrack_,loaderType:"main"}),e),t.audioSegmentLoader_=new Mf(Et.mergeOptions(At,{loaderType:"audio"}),e),t.subtitleSegmentLoader_=new tm(Et.mergeOptions(At,{loaderType:"vtt"}),e),t.setupSegmentLoaderListeners_(),cm.forEach(function(St){t[St+"_"]=dm.bind(t,St)}),t.logger_=wd("MPC"),t.masterPlaylistLoader_.load(),t}return xu(i,n),Go(i,[{key:"setupMasterPlaylistLoaderListeners_",value:function(){var e=this;this.masterPlaylistLoader_.on("loadedmetadata",function(){var t=e.masterPlaylistLoader_.media(),r=1.5*t.targetDuration*1e3;kf(e.masterPlaylistLoader_.master,e.masterPlaylistLoader_.media())?e.requestOptions_.timeout=0:e.requestOptions_.timeout=r,t.endList&&e.tech_.preload()!=="none"&&(e.mainSegmentLoader_.playlist(t,e.requestOptions_),e.mainSegmentLoader_.load()),lm({sourceType:e.sourceType_,segmentLoaders:{AUDIO:e.audioSegmentLoader_,SUBTITLES:e.subtitleSegmentLoader_,main:e.mainSegmentLoader_},tech:e.tech_,requestOptions:e.requestOptions_,masterPlaylistLoader:e.masterPlaylistLoader_,hls:e.hls_,master:e.master(),mediaTypes:e.mediaTypes_,blacklistCurrentPlaylist:e.blacklistCurrentPlaylist.bind(e)}),e.triggerPresenceUsage_(e.master(),t);try{e.setupSourceBuffers_()}catch(a){return Et.log.warn("Failed to create SourceBuffers",a),e.mediaSource.endOfStream("decode")}e.setupFirstPlay(),!e.mediaTypes_.AUDIO.activePlaylistLoader||e.mediaTypes_.AUDIO.activePlaylistLoader.media()?e.trigger("selectedinitialmedia"):e.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",function(){e.trigger("selectedinitialmedia")})}),this.masterPlaylistLoader_.on("loadedplaylist",function(){var t=e.masterPlaylistLoader_.media();if(!t){e.excludeUnsupportedVariants_();var r=void 0;return e.enableLowInitialPlaylist&&(r=e.selectInitialPlaylist()),r||(r=e.selectPlaylist()),e.initialMedia_=r,void e.masterPlaylistLoader_.media(e.initialMedia_)}if(e.useCueTags_&&e.updateAdCues_(t),e.mainSegmentLoader_.playlist(t,e.requestOptions_),e.updateDuration(),e.tech_.paused()||(e.mainSegmentLoader_.load(),e.audioSegmentLoader_&&e.audioSegmentLoader_.load()),!t.endList){var a=function(){var f=e.seekable();f.length!==0&&e.mediaSource.addSeekableRange_(f.start(0),f.end(0))};e.duration()!==1/0?e.tech_.one("durationchange",function f(){e.duration()===1/0?a():e.tech_.one("durationchange",f)}):a()}}),this.masterPlaylistLoader_.on("error",function(){e.blacklistCurrentPlaylist(e.masterPlaylistLoader_.error)}),this.masterPlaylistLoader_.on("mediachanging",function(){e.mainSegmentLoader_.abort(),e.mainSegmentLoader_.pause()}),this.masterPlaylistLoader_.on("mediachange",function(){var t=e.masterPlaylistLoader_.media(),r=1.5*t.targetDuration*1e3;kf(e.masterPlaylistLoader_.master,e.masterPlaylistLoader_.media())?e.requestOptions_.timeout=0:e.requestOptions_.timeout=r,e.mainSegmentLoader_.playlist(t,e.requestOptions_),e.mainSegmentLoader_.load(),e.tech_.trigger({type:"mediachange",bubbles:!0})}),this.masterPlaylistLoader_.on("playlistunchanged",function(){var t=e.masterPlaylistLoader_.media();e.stuckAtPlaylistEnd_(t)&&(e.blacklistCurrentPlaylist({message:"Playlist no longer updating."}),e.tech_.trigger("playliststuck"))}),this.masterPlaylistLoader_.on("renditiondisabled",function(){e.tech_.trigger({type:"usage",name:"hls-rendition-disabled"})}),this.masterPlaylistLoader_.on("renditionenabled",function(){e.tech_.trigger({type:"usage",name:"hls-rendition-enabled"})})}},{key:"triggerPresenceUsage_",value:function(e,t){var r=e.mediaGroups||{},a=!0,f=Object.keys(r.AUDIO);for(var y in r.AUDIO)for(var j in r.AUDIO[y])r.AUDIO[y][j].uri||(a=!1);a&&this.tech_.trigger({type:"usage",name:"hls-demuxed"}),Object.keys(r.SUBTITLES).length&&this.tech_.trigger({type:"usage",name:"hls-webvtt"}),Sl.Playlist.isAes(t)&&this.tech_.trigger({type:"usage",name:"hls-aes"}),Sl.Playlist.isFmp4(t)&&this.tech_.trigger({type:"usage",name:"hls-fmp4"}),f.length&&Object.keys(r.AUDIO[f[0]]).length>1&&this.tech_.trigger({type:"usage",name:"hls-alternate-audio"}),this.useCueTags_&&this.tech_.trigger({type:"usage",name:"hls-playlist-cue-tags"})}},{key:"setupSegmentLoaderListeners_",value:function(){var e=this;this.mainSegmentLoader_.on("bandwidthupdate",function(){var t=e.selectPlaylist(),r=e.masterPlaylistLoader_.media(),a=e.tech_.buffered(),f=a.length?a.end(a.length-1)-e.tech_.currentTime():0,y=e.bufferLowWaterLine();(!r.endList||e.duration()<Ya.MAX_BUFFER_LOW_WATER_LINE||t.attributes.BANDWIDTH<r.attributes.BANDWIDTH||f>=y)&&e.masterPlaylistLoader_.media(t),e.tech_.trigger("bandwidthupdate")}),this.mainSegmentLoader_.on("progress",function(){e.trigger("progress")}),this.mainSegmentLoader_.on("error",function(){e.blacklistCurrentPlaylist(e.mainSegmentLoader_.error())}),this.mainSegmentLoader_.on("syncinfoupdate",function(){e.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("timestampoffset",function(){e.tech_.trigger({type:"usage",name:"hls-timestamp-offset"})}),this.audioSegmentLoader_.on("syncinfoupdate",function(){e.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("ended",function(){e.onEndOfStream()}),this.mainSegmentLoader_.on("earlyabort",function(){e.blacklistCurrentPlaylist({message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},120)}),this.mainSegmentLoader_.on("reseteverything",function(){e.tech_.trigger("hls-reset")}),this.mainSegmentLoader_.on("segmenttimemapping",function(t){e.tech_.trigger({type:"hls-segment-time-mapping",mapping:t.mapping})}),this.audioSegmentLoader_.on("ended",function(){e.onEndOfStream()})}},{key:"mediaSecondsLoaded_",value:function(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)}},{key:"load",value:function(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()}},{key:"smoothQualityChange_",value:function(){var e=this.selectPlaylist();e!==this.masterPlaylistLoader_.media()&&(this.masterPlaylistLoader_.media(e),this.mainSegmentLoader_.resetLoader())}},{key:"fastQualityChange_",value:function(){var e=this,t=this.selectPlaylist();t!==this.masterPlaylistLoader_.media()&&(this.masterPlaylistLoader_.media(t),this.mainSegmentLoader_.resetEverything(function(){Et.browser.IE_VERSION||Et.browser.IS_EDGE?e.tech_.setCurrentTime(e.tech_.currentTime()+.04):e.tech_.setCurrentTime(e.tech_.currentTime())}))}},{key:"play",value:function(){if(!this.setupFirstPlay()){this.tech_.ended()&&this.seekTo_(0),this.hasPlayed_()&&this.load();var e=this.tech_.seekable();return this.tech_.duration()===1/0&&this.tech_.currentTime()<e.start(0)?this.seekTo_(e.end(e.length-1)):void 0}}},{key:"setupFirstPlay",value:function(){var e=this,t=this.masterPlaylistLoader_.media();if(!t||this.tech_.paused()||this.hasPlayed_())return!1;if(!t.endList){var r=this.seekable();if(!r.length)return!1;if(Et.browser.IE_VERSION&&this.tech_.readyState()===0)return this.tech_.one("loadedmetadata",function(){e.trigger("firstplay"),e.seekTo_(r.end(0)),e.hasPlayed_=function(){return!0}}),!1;this.trigger("firstplay"),this.seekTo_(r.end(0))}return this.hasPlayed_=function(){return!0},this.load(),!0}},{key:"handleSourceOpen_",value:function(){try{this.setupSourceBuffers_()}catch(t){return Et.log.warn("Failed to create Source Buffers",t),this.mediaSource.endOfStream("decode")}if(this.tech_.autoplay()){var e=this.tech_.play();e!==void 0&&typeof e.then=="function"&&e.then(null,function(t){})}this.trigger("sourceopen")}},{key:"onEndOfStream",value:function(){var e=this.mainSegmentLoader_.ended_;if(this.mediaTypes_.AUDIO.activePlaylistLoader&&(e=!this.mainSegmentLoader_.startingMedia_||this.mainSegmentLoader_.startingMedia_.containsVideo?e&&this.audioSegmentLoader_.ended_:this.audioSegmentLoader_.ended_),e){this.logger_("calling mediaSource.endOfStream()");try{this.mediaSource.endOfStream()}catch(t){Et.log.warn("Failed to call media source endOfStream",t)}}}},{key:"stuckAtPlaylistEnd_",value:function(e){if(!this.seekable().length)return!1;var t=this.syncController_.getExpiredTime(e,this.mediaSource.duration);if(t===null)return!1;var r=Sl.Playlist.playlistEnd(e,t),a=this.tech_.currentTime(),f=this.tech_.buffered();if(!f.length)return r-a<=.1;var y=f.end(f.length-1);return y-a<=.1&&r-y<=.1}},{key:"blacklistCurrentPlaylist",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments[1],r=void 0,a=void 0;if(r=e.playlist||this.masterPlaylistLoader_.media(),t=t||e.blacklistDuration||this.blacklistDuration,!r){this.error=e;try{return this.mediaSource.endOfStream("network")}catch(j){return this.trigger("error")}}var f=this.masterPlaylistLoader_.master.playlists.filter(Xd).length===1,y=this.masterPlaylistLoader_.master.playlists;return y.length===1?(Et.log.warn("Problem encountered with the current HLS playlist. Trying again since it is the only playlist."),this.tech_.trigger("retryplaylist"),this.masterPlaylistLoader_.load(f)):(f&&(Et.log.warn("Removing all playlists from the blacklist because the last rendition is about to be blacklisted."),y.forEach(function(j){j.excludeUntil!==1/0&&delete j.excludeUntil}),this.tech_.trigger("retryplaylist")),r.excludeUntil=Date.now()+1e3*t,this.tech_.trigger("blacklistplaylist"),this.tech_.trigger({type:"usage",name:"hls-rendition-blacklisted"}),a=this.selectPlaylist(),Et.log.warn("Problem encountered with the current HLS playlist."+(e.message?" "+e.message:"")+" Switching to another playlist."),this.masterPlaylistLoader_.media(a,f))}},{key:"pauseLoading",value:function(){this.mainSegmentLoader_.pause(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.pause(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.pause()}},{key:"setCurrentTime",value:function(e){var t=Th(this.tech_.buffered(),e);return this.masterPlaylistLoader_&&this.masterPlaylistLoader_.media()&&this.masterPlaylistLoader_.media().segments?t&&t.length?e:(this.mainSegmentLoader_.resetEverything(),this.mainSegmentLoader_.abort(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.resetEverything(),this.audioSegmentLoader_.abort()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.resetEverything(),this.subtitleSegmentLoader_.abort()),void this.load()):0}},{key:"duration",value:function(){return this.masterPlaylistLoader_?this.mediaSource?this.mediaSource.duration:Sl.Playlist.duration(this.masterPlaylistLoader_.media()):0}},{key:"seekable",value:function(){return this.seekable_}},{key:"onSyncInfoUpdate_",value:function(){var e=void 0,t=void 0;if(this.masterPlaylistLoader_){var r=this.masterPlaylistLoader_.media();if(r){var a=this.syncController_.getExpiredTime(r,this.mediaSource.duration);if(a!==null&&(e=Sl.Playlist.seekable(r,a)).length!==0){if(this.mediaTypes_.AUDIO.activePlaylistLoader&&(r=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),(a=this.syncController_.getExpiredTime(r,this.mediaSource.duration))===null||(t=Sl.Playlist.seekable(r,a)).length===0))return;var f=void 0,y=void 0;this.seekable_&&this.seekable_.length&&(f=this.seekable_.end(0),y=this.seekable_.start(0)),t?t.start(0)>e.end(0)||e.start(0)>t.end(0)?this.seekable_=e:this.seekable_=Et.createTimeRanges([[t.start(0)>e.start(0)?t.start(0):e.start(0),t.end(0)<e.end(0)?t.end(0):e.end(0)]]):this.seekable_=e,this.seekable_&&this.seekable_.length&&this.seekable_.end(0)===f&&this.seekable_.start(0)===y||(this.logger_("seekable updated ["+Cf(this.seekable_)+"]"),this.tech_.trigger("seekablechanged"))}}}}},{key:"updateDuration",value:function(){var e=this,t=this.mediaSource.duration,r=Sl.Playlist.duration(this.masterPlaylistLoader_.media()),a=this.tech_.buffered(),f=function y(){e.logger_("Setting duration from "+e.mediaSource.duration+" => "+r);try{e.mediaSource.duration=r}catch(j){Et.log.warn("Failed to set media source duration",j)}e.tech_.trigger("durationchange"),e.mediaSource.removeEventListener("sourceopen",y)};a.length>0&&(r=Math.max(r,a.end(a.length-1))),t!==r&&(this.mediaSource.readyState!=="open"?this.mediaSource.addEventListener("sourceopen",f):f())}},{key:"dispose",value:function(){var e=this;this.decrypter_.terminate(),this.masterPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),["AUDIO","SUBTITLES"].forEach(function(t){var r=e.mediaTypes_[t].groups;for(var a in r)r[a].forEach(function(f){f.playlistLoader&&f.playlistLoader.dispose()})}),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose()}},{key:"master",value:function(){return this.masterPlaylistLoader_.master}},{key:"media",value:function(){return this.masterPlaylistLoader_.media()||this.initialMedia_}},{key:"setupSourceBuffers_",value:function(){var e=this.masterPlaylistLoader_.media(),t=void 0;if(e&&this.mediaSource.readyState==="open"){if((t=Gp(this.masterPlaylistLoader_.master,e)).length<1)return this.error="No compatible SourceBuffer configuration for the variant stream:"+e.resolvedUri,this.mediaSource.endOfStream("decode");this.configureLoaderMimeTypes_(t),this.excludeIncompatibleVariants_(e)}}},{key:"configureLoaderMimeTypes_",value:function(e){var t=e.length>1&&e[0].indexOf(",")===-1&&e[0]!==e[1]?new Et.EventTarget:null;this.mainSegmentLoader_.mimeType(e[0],t),e[1]&&this.audioSegmentLoader_.mimeType(e[1],t)}},{key:"excludeUnsupportedVariants_",value:function(){this.master().playlists.forEach(function(e){e.attributes.CODECS&&x.MediaSource&&x.MediaSource.isTypeSupported&&!x.MediaSource.isTypeSupported('video/mp4; codecs="'+function(t){return t.replace(/avc1\.(\d+)\.(\d+)/i,function(r){return jh([r])[0]})}(e.attributes.CODECS)+'"')&&(e.excludeUntil=1/0)})}},{key:"excludeIncompatibleVariants_",value:function(e){var t=2,r=null,a=void 0;e.attributes.CODECS&&(a=Td(e.attributes.CODECS),r=a.videoCodec,t=a.codecCount),this.master().playlists.forEach(function(f){var y={codecCount:2,videoCodec:null};f.attributes.CODECS&&(y=Td(f.attributes.CODECS)),y.codecCount!==t&&(f.excludeUntil=1/0),y.videoCodec!==r&&(f.excludeUntil=1/0)})}},{key:"updateAdCues_",value:function(e){var t=0,r=this.seekable();r.length&&(t=r.start(0)),nm(e,this.cueTagsTrack_,t)}},{key:"goalBufferLength",value:function(){var e=this.tech_.currentTime(),t=Ya.GOAL_BUFFER_LENGTH,r=Ya.GOAL_BUFFER_LENGTH_RATE,a=Math.max(t,Ya.MAX_GOAL_BUFFER_LENGTH);return Math.min(t+e*r,a)}},{key:"bufferLowWaterLine",value:function(){var e=this.tech_.currentTime(),t=Ya.BUFFER_LOW_WATER_LINE,r=Ya.BUFFER_LOW_WATER_LINE_RATE,a=Math.max(t,Ya.MAX_BUFFER_LOW_WATER_LINE);return Math.min(t+e*r,a)}}]),i}(Et.EventTarget),hm=function n(i,e,t){bo(this,n);var r=i.masterPlaylistController_,a=r[(i.options_.smoothQualityChange?"smooth":"fast")+"QualityChange_"].bind(r);if(e.attributes.RESOLUTION){var f=e.attributes.RESOLUTION;this.width=f.width,this.height=f.height}this.bandwidth=e.attributes.BANDWIDTH,this.id=t,this.enabled=function(y,j,D){return function(F){var q=y.master.playlists[j],Y=wf(q),tt=Xd(q);return F===void 0?tt:(F?delete q.disabled:q.disabled=!0,F===tt||Y||(D(),F?y.trigger("renditionenabled"):y.trigger("renditiondisabled")),F)}}(i.playlists,e.uri,a)},$h=["seeking","seeked","pause","playing","error"],pm=function(){function n(i){var e=this;bo(this,n),this.tech_=i.tech,this.seekable=i.seekable,this.seekTo=i.seekTo,this.allowSeeksWithinUnsafeLiveWindow=i.allowSeeksWithinUnsafeLiveWindow,this.media=i.media,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.timer_=null,this.checkCurrentTimeTimeout_=null,this.logger_=wd("PlaybackWatcher"),this.logger_("initialize");var t=function(){return e.monitorCurrentTime_()},r=function(){return e.techWaiting_()},a=function(){return e.cancelTimer_()},f=function(){return e.fixesBadSeeks_()};this.tech_.on("seekablechanged",f),this.tech_.on("waiting",r),this.tech_.on($h,a),this.tech_.on("canplay",t),this.dispose=function(){e.logger_("dispose"),e.tech_.off("seekablechanged",f),e.tech_.off("waiting",r),e.tech_.off($h,a),e.tech_.off("canplay",t),e.checkCurrentTimeTimeout_&&x.clearTimeout(e.checkCurrentTimeTimeout_),e.cancelTimer_()}}return Go(n,[{key:"monitorCurrentTime_",value:function(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&x.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=x.setTimeout(this.monitorCurrentTime_.bind(this),250)}},{key:"checkCurrentTime_",value:function(){if(this.tech_.seeking()&&this.fixesBadSeeks_())return this.consecutiveUpdates=0,void(this.lastRecordedTime=this.tech_.currentTime());if(!this.tech_.paused()&&!this.tech_.seeking()){var i=this.tech_.currentTime(),e=this.tech_.buffered();if(this.lastRecordedTime===i&&(!e.length||i+.1>=e.end(e.length-1)))return this.techWaiting_();this.consecutiveUpdates>=5&&i===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):i===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=i)}}},{key:"cancelTimer_",value:function(){this.consecutiveUpdates=0,this.timer_&&(this.logger_("cancelTimer_"),clearTimeout(this.timer_)),this.timer_=null}},{key:"fixesBadSeeks_",value:function(){if(!this.tech_.seeking())return!1;var i=this.seekable(),e=this.tech_.currentTime(),t=void 0;return this.afterSeekableWindow_(i,e,this.media(),this.allowSeeksWithinUnsafeLiveWindow)&&(t=i.end(i.length-1)),this.beforeSeekableWindow_(i,e)&&(t=i.start(0)+.1),t!==void 0&&(this.logger_("Trying to seek outside of seekable at time "+e+" with seekable range "+Cf(i)+". Seeking to "+t+"."),this.seekTo(t),!0)}},{key:"waiting_",value:function(){if(!this.techWaiting_()){var i=this.tech_.currentTime(),e=this.tech_.buffered(),t=Th(e,i);return t.length&&i+3<=t.end(0)?(this.cancelTimer_(),this.seekTo(i),this.logger_("Stopped at "+i+" while inside a buffered region ["+t.start(0)+" -> "+t.end(0)+"]. Attempting to resume playback by seeking to the current time."),void this.tech_.trigger({type:"usage",name:"hls-unknown-waiting"})):void 0}}},{key:"techWaiting_",value:function(){var i=this.seekable(),e=this.tech_.currentTime();if(this.tech_.seeking()&&this.fixesBadSeeks_()||this.tech_.seeking()||this.timer_!==null)return!0;if(this.beforeSeekableWindow_(i,e)){var t=i.end(i.length-1);return this.logger_("Fell out of live window at time "+e+". Seeking to live point (seekable end) "+t),this.cancelTimer_(),this.seekTo(t),this.tech_.trigger({type:"usage",name:"hls-live-resync"}),!0}var r=this.tech_.buffered(),a=Sh(r,e);if(this.videoUnderflow_(a,r,e))return this.cancelTimer_(),this.seekTo(e),this.tech_.trigger({type:"usage",name:"hls-video-underflow"}),!0;if(a.length>0){var f=a.start(0)-e;return this.logger_("Stopped at "+e+", setting timer for "+f+", seeking to "+a.start(0)),this.timer_=setTimeout(this.skipTheGap_.bind(this),1e3*f,e),!0}return!1}},{key:"afterSeekableWindow_",value:function(i,e,t){var r=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(!i.length)return!1;var a=i.end(i.length-1)+.1;return!t.endList&&r&&(a=i.end(i.length-1)+3*t.targetDuration),e>a}},{key:"beforeSeekableWindow_",value:function(i,e){return!!(i.length&&i.start(0)>0&&e<i.start(0)-.1)}},{key:"videoUnderflow_",value:function(i,e,t){if(i.length===0){var r=this.gapFromVideoUnderflow_(e,t);if(r)return this.logger_("Encountered a gap in video from "+r.start+" to "+r.end+". Seeking to current time "+t),!0}return!1}},{key:"skipTheGap_",value:function(i){var e=this.tech_.buffered(),t=this.tech_.currentTime(),r=Sh(e,t);this.cancelTimer_(),r.length!==0&&t===i&&(this.logger_("skipTheGap_:","currentTime:",t,"scheduled currentTime:",i,"nextRange start:",r.start(0)),this.seekTo(r.start(0)+1/30),this.tech_.trigger({type:"usage",name:"hls-gap-skip"}))}},{key:"gapFromVideoUnderflow_",value:function(i,e){for(var t=function(y){if(y.length<2)return Et.createTimeRanges();for(var j=[],D=1;D<y.length;D++){var F=y.end(D-1),q=y.start(D);j.push([F,q])}return Et.createTimeRanges(j)}(i),r=0;r<t.length;r++){var a=t.start(r),f=t.end(r);if(e-a<4&&e-a>2)return{start:a,end:f}}return null}}]),n}(),mm={errorInterval:30,getSource:function(n){return n(this.tech({IWillNotUseThisInPlugins:!0}).currentSource_)}},Kh=function(n){(function i(e,t){var r=0,a=0,f=Et.mergeOptions(mm,t);e.ready(function(){e.trigger({type:"usage",name:"hls-error-reload-initialized"})});var y=function(){a&&e.currentTime(a)},j=function(q){q!=null&&(a=e.duration()!==1/0&&e.currentTime()||0,e.one("loadedmetadata",y),e.src(q),e.trigger({type:"usage",name:"hls-error-reload"}),e.play())},D=function(){return Date.now()-r<1e3*f.errorInterval?void e.trigger({type:"usage",name:"hls-error-reload-canceled"}):f.getSource&&typeof f.getSource=="function"?(r=Date.now(),f.getSource.call(e,j)):void Et.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!")},F=function q(){e.off("loadedmetadata",y),e.off("error",D),e.off("dispose",q)};e.on("error",D),e.on("dispose",F),e.reloadSourceOnError=function(q){F(),i(e,q)}})(this,n)};Et.use("*",function(n){return{setSource:function(i,e){e(null,i)},setCurrentTime:function(i){return n.vhs&&n.currentSource().src===n.vhs.source_.src&&n.vhs.setCurrentTime(i),i},play:function(){n.vhs&&n.currentSource().src===n.vhs.source_.src&&n.vhs.setCurrentTime(n.tech_.currentTime())}}});var Oa={PlaylistLoader:Kd,Playlist:xa,Decrypter:Cp,AsyncStream:nh,decrypt:rh,utils:Up,STANDARD_PLAYLIST_SELECTOR:function(){return function(n,i,e,t,r){var a=n.playlists.map(function(kt){var ee,ie;return ee=kt.attributes.RESOLUTION&&kt.attributes.RESOLUTION.width,ie=kt.attributes.RESOLUTION&&kt.attributes.RESOLUTION.height,{bandwidth:kt.attributes.BANDWIDTH||x.Number.MAX_VALUE,width:ee,height:ie,playlist:kt}});kd(a,function(kt,ee){return kt.bandwidth-ee.bandwidth});var f=(a=a.filter(function(kt){return!xa.isIncompatible(kt.playlist)})).filter(function(kt){return xa.isEnabled(kt.playlist)});f.length||(f=a.filter(function(kt){return!xa.isDisabled(kt.playlist)}));var y=f.filter(function(kt){return kt.bandwidth*Ya.BANDWIDTH_VARIANCE<i}),j=y[y.length-1],D=y.filter(function(kt){return kt.bandwidth===j.bandwidth})[0];if(r===!1){var F=D||f[0]||a[0];return F?F.playlist:null}var q=y.filter(function(kt){return kt.width&&kt.height});kd(q,function(kt,ee){return kt.width-ee.width});var Y=q.filter(function(kt){return kt.width===e&&kt.height===t});j=Y[Y.length-1];var tt=Y.filter(function(kt){return kt.bandwidth===j.bandwidth})[0],ft=void 0,dt=void 0,At=void 0;tt||(dt=(ft=q.filter(function(kt){return kt.width>e||kt.height>t})).filter(function(kt){return kt.width===ft[0].width&&kt.height===ft[0].height}),j=dt[dt.length-1],At=dt.filter(function(kt){return kt.bandwidth===j.bandwidth})[0]);var St=At||tt||D||f[0]||a[0];return St?St.playlist:null}(this.playlists.master,this.systemBandwidth,parseInt(Vh(this.tech_.el(),"width"),10),parseInt(Vh(this.tech_.el(),"height"),10),this.limitRenditionByPlayerDimensions)},INITIAL_PLAYLIST_SELECTOR:function(){var n=this.playlists.master.playlists.filter(xa.isEnabled);return kd(n,function(i,e){return Df(i,e)}),n.filter(function(i){return Td(i.attributes.CODECS).videoCodec})[0]||null},comparePlaylistBandwidth:Df,comparePlaylistResolution:function(n,i){var e=void 0,t=void 0;return n.attributes.RESOLUTION&&n.attributes.RESOLUTION.width&&(e=n.attributes.RESOLUTION.width),e=e||x.Number.MAX_VALUE,i.attributes.RESOLUTION&&i.attributes.RESOLUTION.width&&(t=i.attributes.RESOLUTION.width),e===(t=t||x.Number.MAX_VALUE)&&n.attributes.BANDWIDTH&&i.attributes.BANDWIDTH?n.attributes.BANDWIDTH-i.attributes.BANDWIDTH:e-t},xhr:vh()};["GOAL_BUFFER_LENGTH","MAX_GOAL_BUFFER_LENGTH","GOAL_BUFFER_LENGTH_RATE","BUFFER_LOW_WATER_LINE","MAX_BUFFER_LOW_WATER_LINE","BUFFER_LOW_WATER_LINE_RATE","BANDWIDTH_VARIANCE"].forEach(function(n){Object.defineProperty(Oa,n,{get:function(){return Et.log.warn("using Hls."+n+" is UNSAFE be sure you know what you are doing"),Ya[n]},set:function(i){Et.log.warn("using Hls."+n+" is UNSAFE be sure you know what you are doing"),typeof i!="number"||i<0?Et.log.warn("value of Hls."+n+" must be greater than or equal to 0"):Ya[n]=i}})});var Xh=function(n){return/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i.test(n)?"hls":/^application\/dash\+xml/i.test(n)?"dash":null},Yh=function(n,i){for(var e=i.media(),t=-1,r=0;r<n.length;r++)if(n[r].id===e.uri){t=r;break}n.selectedIndex_=t,n.trigger({selectedIndex:t,type:"change"})};Oa.canPlaySource=function(){return Et.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var vm=function(n){if(n.options_.sourceType==="dash"){var i=Et.players[n.tech_.options_.playerId];if(i.eme){var e=function(t,r,a){if(!t)return t;var f={};for(var y in t)f[y]={audioContentType:'audio/mp4; codecs="'+a.attributes.CODECS+'"',videoContentType:'video/mp4; codecs="'+r.attributes.CODECS+'"'},r.contentProtection&&r.contentProtection[y]&&r.contentProtection[y].pssh&&(f[y].pssh=r.contentProtection[y].pssh),typeof t[y]=="string"&&(f[y].url=t[y]);return Et.mergeOptions(t,f)}(n.source_.keySystems,n.playlists.media(),n.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader.media());e&&(i.currentSource().keySystems=e,i.eme.initializeMediaKeys&&i.eme.initializeMediaKeys())}}},Jh=function(){if(!window.localStorage)return null;var n=window.localStorage.getItem("videojs-vhs");if(!n)return null;try{return JSON.parse(n)}catch(i){return null}};Oa.supportsNativeHls=function(){var n=V.createElement("video");return!!Et.getTech("Html5").isSupported()&&["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"].some(function(i){return/maybe|probably/i.test(n.canPlayType(i))})}(),Oa.supportsNativeDash=!!Et.getTech("Html5").isSupported()&&/maybe|probably/i.test(V.createElement("video").canPlayType("application/dash+xml")),Oa.supportsTypeNatively=function(n){return n==="hls"?Oa.supportsNativeHls:n==="dash"&&Oa.supportsNativeDash},Oa.isSupported=function(){return Et.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var Zh=function(n){function i(e,t,r){bo(this,i);var a=Ls(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,t,r.hls));if(t.options_&&t.options_.playerId){var f=Et(t.options_.playerId);f.hasOwnProperty("hls")||Object.defineProperty(f,"hls",{get:function(){return Et.log.warn("player.hls is deprecated. Use player.tech().hls instead."),t.trigger({type:"usage",name:"hls-player-access"}),a},configurable:!0}),f.vhs=a,f.dash=a,a.player_=f}if(a.tech_=t,a.source_=e,a.stats={},a.setOptions_(),a.options_.overrideNative&&t.overrideNativeAudioTracks&&t.overrideNativeVideoTracks)t.overrideNativeAudioTracks(!0),t.overrideNativeVideoTracks(!0);else if(a.options_.overrideNative&&(t.featuresNativeVideoTracks||t.featuresNativeAudioTracks))throw new Error("Overriding native HLS requires emulated tracks. See https://git.io/vMpjB");return a.on(V,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],function(y){var j=V.fullscreenElement||V.webkitFullscreenElement||V.mozFullScreenElement||V.msFullscreenElement;j&&j.contains(a.tech_.el())&&a.masterPlaylistController_.smoothQualityChange_()}),a.on(a.tech_,"seeking",function(){this.tech_.currentTime()===0&&this.tech_.player_.loop()&&this.setCurrentTime(0)}),a.on(a.tech_,"error",function(){this.masterPlaylistController_&&this.masterPlaylistController_.pauseLoading()}),a.on(a.tech_,"play",a.play),a}return xu(i,n),Go(i,[{key:"setOptions_",value:function(){var e=this;if(this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.handleManifestRedirects=this.options_.handleManifestRedirects||!1,this.options_.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions!==!1,this.options_.smoothQualityChange=this.options_.smoothQualityChange||!1,this.options_.useBandwidthFromLocalStorage=this.source_.useBandwidthFromLocalStorage!==void 0?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,typeof this.options_.blacklistDuration!="number"&&(this.options_.blacklistDuration=300),typeof this.options_.bandwidth!="number"&&this.options_.useBandwidthFromLocalStorage){var t=Jh();t&&t.bandwidth&&(this.options_.bandwidth=t.bandwidth,this.tech_.trigger({type:"usage",name:"hls-bandwidth-from-local-storage"})),t&&t.throughput&&(this.options_.throughput=t.throughput,this.tech_.trigger({type:"usage",name:"hls-throughput-from-local-storage"}))}typeof this.options_.bandwidth!="number"&&(this.options_.bandwidth=Ya.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===Ya.INITIAL_BANDWIDTH,["withCredentials","limitRenditionByPlayerDimensions","bandwidth","smoothQualityChange","customTagParsers","customTagMappers","handleManifestRedirects","cacheEncryptionKeys"].forEach(function(r){e.source_[r]!==void 0&&(e.options_[r]=e.source_[r])}),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions}},{key:"src",value:function(e,t){var r=this;e&&(this.setOptions_(),this.options_.url=this.source_.src,this.options_.tech=this.tech_,this.options_.externHls=Oa,this.options_.sourceType=Xh(t),this.options_.seekTo=function(a){r.tech_.setCurrentTime(a),r.setCurrentTime(a)},this.masterPlaylistController_=new fm(this.options_),this.playbackWatcher_=new pm(Et.mergeOptions(this.options_,{seekable:function(){return r.seekable()},media:function(){return r.masterPlaylistController_.media()}})),this.masterPlaylistController_.on("error",function(){Et.players[r.tech_.options_.playerId].error(r.masterPlaylistController_.error)}),this.masterPlaylistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):Oa.STANDARD_PLAYLIST_SELECTOR.bind(this),this.masterPlaylistController_.selectInitialPlaylist=Oa.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.masterPlaylistController_.masterPlaylistLoader_,this.mediaSource=this.masterPlaylistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get:function(){return this.masterPlaylistController_.selectPlaylist},set:function(a){this.masterPlaylistController_.selectPlaylist=a.bind(this)}},throughput:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate},set:function(a){this.masterPlaylistController_.mainSegmentLoader_.throughput.rate=a,this.masterPlaylistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.bandwidth},set:function(a){this.masterPlaylistController_.mainSegmentLoader_.bandwidth=a,this.masterPlaylistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get:function(){var a,f=1/(this.bandwidth||1);return a=this.throughput>0?1/this.throughput:0,Math.floor(1/(f+a))},set:function(){Et.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:function(){return r.bandwidth||0},enumerable:!0},mediaRequests:{get:function(){return r.masterPlaylistController_.mediaRequests_()||0},enumerable:!0},mediaRequestsAborted:{get:function(){return r.masterPlaylistController_.mediaRequestsAborted_()||0},enumerable:!0},mediaRequestsTimedout:{get:function(){return r.masterPlaylistController_.mediaRequestsTimedout_()||0},enumerable:!0},mediaRequestsErrored:{get:function(){return r.masterPlaylistController_.mediaRequestsErrored_()||0},enumerable:!0},mediaTransferDuration:{get:function(){return r.masterPlaylistController_.mediaTransferDuration_()||0},enumerable:!0},mediaBytesTransferred:{get:function(){return r.masterPlaylistController_.mediaBytesTransferred_()||0},enumerable:!0},mediaSecondsLoaded:{get:function(){return r.masterPlaylistController_.mediaSecondsLoaded_()||0},enumerable:!0},buffered:{get:function(){return wh(r.tech_.buffered())},enumerable:!0},currentTime:{get:function(){return r.tech_.currentTime()},enumerable:!0},currentSource:{get:function(){return r.tech_.currentSource_},enumerable:!0},currentTech:{get:function(){return r.tech_.name_},enumerable:!0},duration:{get:function(){return r.tech_.duration()},enumerable:!0},master:{get:function(){return r.playlists.master},enumerable:!0},playerDimensions:{get:function(){return r.tech_.currentDimensions()},enumerable:!0},seekable:{get:function(){return wh(r.tech_.seekable())},enumerable:!0},timestamp:{get:function(){return Date.now()},enumerable:!0},videoPlaybackQuality:{get:function(){return r.tech_.getVideoPlaybackQuality()},enumerable:!0}}),this.tech_.one("canplay",this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_)),this.tech_.on("bandwidthupdate",function(){r.options_.useBandwidthFromLocalStorage&&function(a){if(!window.localStorage)return!1;var f=Jh();f=f?Et.mergeOptions(f,a):a;try{window.localStorage.setItem("videojs-vhs",JSON.stringify(f))}catch(y){return!1}}({bandwidth:r.bandwidth,throughput:Math.round(r.throughput)})}),this.masterPlaylistController_.on("selectedinitialmedia",function(){(function(a){var f=a.playlists;a.representations=function(){return f.master.playlists.filter(function(y){return!wf(y)}).map(function(y,j){return new hm(a,y,y.uri)})}})(r),vm(r)}),this.on(this.masterPlaylistController_,"progress",function(){this.tech_.trigger("progress")}),this.tech_.ready(function(){return r.setupQualityLevels_()}),this.tech_.el()&&this.tech_.src(Et.URL.createObjectURL(this.masterPlaylistController_.mediaSource)))}},{key:"setupQualityLevels_",value:function(){var e=this,t=Et.players[this.tech_.options_.playerId];t&&t.qualityLevels&&(this.qualityLevels_=t.qualityLevels(),this.masterPlaylistController_.on("selectedinitialmedia",function(){(function(r,a){a.representations().forEach(function(f){r.addQualityLevel(f)}),Yh(r,a.playlists)})(e.qualityLevels_,e)}),this.playlists.on("mediachange",function(){Yh(e.qualityLevels_,e.playlists)}))}},{key:"play",value:function(){this.masterPlaylistController_.play()}},{key:"setCurrentTime",value:function(e){this.masterPlaylistController_.setCurrentTime(e)}},{key:"duration",value:function(){return this.masterPlaylistController_.duration()}},{key:"seekable",value:function(){return this.masterPlaylistController_.seekable()}},{key:"dispose",value:function(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.masterPlaylistController_&&this.masterPlaylistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.player_&&(delete this.player_.vhs,delete this.player_.dash,delete this.player_.hls),this.tech_&&this.tech_.hls&&delete this.tech_.hls,function e(t,r,a){t===null&&(t=Function.prototype);var f=Object.getOwnPropertyDescriptor(t,r);if(f===void 0){var y=Object.getPrototypeOf(t);return y===null?void 0:e(y,r,a)}if("value"in f)return f.value;var j=f.get;return j!==void 0?j.call(a):void 0}(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"dispose",this).call(this)}},{key:"convertToProgramTime",value:function(e,t){return Bp({playlist:this.masterPlaylistController_.media(),time:e,callback:t})}},{key:"seekToProgramTime",value:function(e,t){var r=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:2;return Np({programTime:e,playlist:this.masterPlaylistController_.media(),retryCount:a,pauseAfterSeek:r,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:t})}}]),i}(Et.getComponent("Component")),Bf={name:"videojs-http-streaming",VERSION:"1.10.3",canHandleSource:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e=Et.mergeOptions(Et.options,i);return Bf.canPlayType(n.type,e)},handleSource:function(n,i){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},t=Et.mergeOptions(Et.options,e);return i.hls=new Zh(n,i,t),i.hls.xhr=vh(),i.hls.src(n.src,n.type),i.hls},canPlayType:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e=Et.mergeOptions(Et.options,i),t=e.hls.overrideNative,r=Xh(n);return!r||Oa.supportsTypeNatively(r)&&!t?"":"maybe"}};return Et.MediaSource!==void 0&&Et.URL!==void 0||(Et.MediaSource=Sd,Et.URL=Rh),Sd.supportsNativeMediaSources()&&Et.getTech("Html5").registerSourceHandler(Bf,0),Et.HlsHandler=Zh,Et.HlsSourceHandler=Bf,Et.Hls=Oa,Et.use||Et.registerComponent("Hls",Oa),Et.options.hls=Et.options.hls||{},Et.registerPlugin?Et.registerPlugin("reloadSourceOnError",Kh):Et.plugin("reloadSourceOnError",Kh),Et}),function(x,V){typeof exports=="object"&&typeof module!="undefined"?module.exports=V(require("video.js")):typeof define=="function"&&define.amd?define(["video.js"],V):x.videojsSnapshot=V(x.videojs)}(this,function(x){"use strict";x="default"in x?x.default:x;var V=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};return function(o,d){return o(d={exports:{}}),d.exports}(function(o){(function(d,g){o.exports?o.exports=g(x):d.returnExports=g(d.videojs)})(V,function(d){var g,v,u={},c=d.registerPlugin||d.plugin,p=d.getComponent("Component"),l=d.getComponent("Button");d.SnapshoterBaseComponent=d.extend(p,{constructor:function(S,w){p.call(this,S,w)},dispose:function(){}}),d.SnapshoterComponent=d.extend(d.SnapshoterBaseComponent,{constructor:function(S,w){p.call(this,S,w),this.loadOptions(),this.resetState(),this.player().one("ready",this.setupUI.bind(this));var C=d.ImageCaptureEngine;try{this.engine=new C(this.player())}catch(b){throw new Error("Could not load "+d.ImageCaptureEngine+" plugin")}},loadOptions:function(){},setupUI:function(){for(var S=this.player().controlBar.children().length,w=S-1;w>=0;w--)if(this.player().controlBar.children()[w].name_=="FullscreenToggle"){S=w;break}this.player().controlBar.addChild(this.player().cameraButton,{},S),this.player().options_.controls&&(this.player().controlBar.show(),this.player().controlBar.el().style.display="flex")},isSnapshoting:function(){return this._snapshoting},isProcessing:function(){return this._processing},isDestroyed:function(){return this.player()&&this.player().children()===null},start:function(){this.isProcessing()||(this._snapshoting=!0,this._processing=!0,this.player().controlBar.playToggle.hide(),this.createSnapshot())},stop:function(){this.isProcessing()&&(this._snapshoting=!1,this._processing=!1),this.player().controlBar.playToggle.show()},destroy:function(){this.stop(),this.player().dispose(),this.resetState()},reset:function(){this.stop(),this.loadOptions(),this.resetState(),this.player().reset(),this.player().snapshotCanvas.hide(),this.player().cameraButton.hide()},resetState:function(){this._snapshoting=!1,this._processing=!1},createSnapshot:function(){var S=this;this.captureFrame().then(function(w){S.player().trigger("snap",w),S.stop()}).catch(function(w){console.log(w),S.player().trigger("snap",""),S.stop()})},retrySnapshot:function(){this._processing=!1,this.player().snapshotCanvas.hide()},captureFrame:function(){var S=this,w=this.player().snapshotCanvas.el().firstChild;return w.width=this.player().videoWidth(),w.height=this.player().videoHeight(),new Promise(function(C,b){try{return C(S.engine.imageCaptureByIdAndCanvasDom(S.player().id(),w))}catch(E){return b(E)}})}}),v=d.extend(p),(g=d.extend(l,{constructor:function(S,w){l.call(this,S,w),this.on("click",this.onClick),this.on("tap",this.onClick)}})).prototype.onClick=function(S){S.stopImmediatePropagation();var w=this.player().snapshoter;w.isProcessing()?(w.retrySnapshot(),this.onStop()):w.start()},g.prototype.onStart=function(){this.removeClass("vjs-icon-photo-camera"),this.addClass("vjs-icon-photo-retry"),this.el().firstChild.firstChild.innerHTML=this.localize("Retry")},g.prototype.onStop=function(){this.removeClass("vjs-icon-photo-retry"),this.addClass("vjs-icon-photo-camera"),this.el().firstChild.firstChild.innerHTML=this.localize("Image")};var _=function(S,w,C){var b={className:"vjs-"+S+"-control vjs-control vjs-button",innerHTML:'<span aria-hidden="true" class="vjs-icon-'+C+'"></span><span class="vjs-control-text" aria-live="polite">'+w+"</span>"},E={title:w,type:"button","aria-disabled":"false"};return p.prototype.createEl("button",b,E)},T=function(S){var w={className:"vjs-"+S+"-canvas",innerHTML:"<canvas></canvas>"};return p.prototype.createEl("div",w)},k=function(S){var w=this,C=d.mergeOptions(u,S),b=this;b.ready(function(){(function(E,A){E.addClass("vjs-snapshot")})(w,d.mergeOptions(u,S))}),b.on("play",function(){try{b.tech_.el_.setAttribute("crossorigin","anonymous")}catch(E){}}),b.snapshoter=new d.SnapshoterComponent(this,{options:C}),b.addChild(b.snapshoter),b.snapshotCanvas=new v(b,{el:T("snapshot")}),b.snapshotCanvas.hide(),b.snapshoter.addChild(b.snapshotCanvas),b.cameraButton=new g(b,{el:_("snapshot",b.localize("Snapshot"),"spinner"),name:"SnapButton"}),b.cameraButton.show()};return c("snapshot",k),k}),function(d,g){o.exports?o.exports=g(x):d.returnExports=g(d.videojs)}(V,function(d){var g=d.getComponent("Component");d.ImageCaptureEngine=d.extend(g,{constructor:function(v,u){g.call(this,v,u)},formatTag:function(v){if(v&&(v=v.trim()).length!==0)return v},getDomByIdAndTag:function(v,u){u=this.formatTag(u);var c=document.getElementById(v);if(u&&u.trim().length!==0)return c.tagName.toUpperCase()===u.toUpperCase()?c:c.getElementsByTagName(u)[0]},getScreenContainerDomByIdAndTag:function(v,u){return(u=this.formatTag(u))?this.getDomByIdAndTag(v,u):this.getDomByIdAndTag(v,"object")||this.getDomByIdAndTag(v,"video")},drawCanvas:function(v,u){v.width=u.videoWidth,v.height=u.videoHeight,v.getContext("2d").drawImage(u,0,0,v.width,v.height)},imageCaptureByDom:function(v,u){var c;return v&&v.tagName.toUpperCase()==="object".toUpperCase()?c=v.vjs_snap():(this.drawCanvas(u,v),c=u.toDataURL("image/png")),c},imageCaptureById:function(v,u){return this.imageCaptureByDom(this.getScreenContainerDomByIdAndTag(v),this.getDomByIdAndTag(u,"canvas"))},imageCaptureByIdAndCanvasDom:function(v,u){return this.imageCaptureByDom(this.getScreenContainerDomByIdAndTag(v),u)}})})})}),function(x){typeof exports=="object"&&typeof module!="undefined"?module.exports=x():typeof define=="function"&&define.amd?define([],x):(typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:this).flvjs=x()}(function(){return function x(V,o,d){function g(c,p){if(!o[c]){if(!V[c]){var l=typeof require=="function"&&require;if(!p&&l)return l(c,!0);if(v)return v(c,!0);var _=new Error("Cannot find module '"+c+"'");throw _.code="MODULE_NOT_FOUND",_}var T=o[c]={exports:{}};V[c][0].call(T.exports,function(k){return g(V[c][1][k]||k)},T,T.exports,x,V,o,d)}return o[c].exports}for(var v=typeof require=="function"&&require,u=0;u<d.length;u++)g(d[u]);return g}({1:[function(x,V,o){(function(d,g){(function(v,u){typeof o=="object"&&V!==void 0?V.exports=u():v.ES6Promise=u()})(this,function(){"use strict";function v(ht){return typeof ht=="function"}function u(){var ht=setTimeout;return function(){return ht(c,1)}}function c(){for(var ht=0;ht<H;ht+=2)(0,Rt[ht])(Rt[ht+1]),Rt[ht]=void 0,Rt[ht+1]=void 0;H=0}function p(ht,pt){var Bt=this,Ot=new this.constructor(_);Ot[ae]===void 0&&z(Ot);var zt=Bt._state;if(zt){var se=arguments[zt-1];ct(function(){return P(zt,Ot,se,Bt._result)})}else E(Bt,Ot,ht,pt);return Ot}function l(ht){if(ht&&typeof ht=="object"&&ht.constructor===this)return ht;var pt=new this(_);return S(pt,ht),pt}function _(){}function T(ht){try{return ht.then}catch(pt){return lt.error=pt,lt}}function k(ht,pt,Bt){pt.constructor===ht.constructor&&Bt===p&&pt.constructor.resolve===l?function(Ot,zt){zt._state===U?C(Ot,zt._result):zt._state===ot?b(Ot,zt._result):E(zt,void 0,function(se){return S(Ot,se)},function(se){return b(Ot,se)})}(ht,pt):Bt===lt?(b(ht,lt.error),lt.error=null):Bt===void 0?C(ht,pt):v(Bt)?function(Ot,zt,se){ct(function(Oe){var le=!1,Qt=function(Ke,Ee,Je,Te){try{Ke.call(Ee,Je,Te)}catch(zn){return zn}}(se,zt,function(Ke){le||(le=!0,zt!==Ke?S(Oe,Ke):C(Oe,Ke))},function(Ke){le||(le=!0,b(Oe,Ke))},Oe._label);!le&&Qt&&(le=!0,b(Oe,Qt))},Ot)}(ht,pt,Bt):C(ht,pt)}function S(ht,pt){ht===pt?b(ht,new TypeError("You cannot resolve a promise with itself")):function(Bt){var Ot=typeof Bt;return Bt!==null&&(Ot==="object"||Ot==="function")}(pt)?k(ht,pt,T(pt)):C(ht,pt)}function w(ht){ht._onerror&&ht._onerror(ht._result),A(ht)}function C(ht,pt){ht._state===Ut&&(ht._result=pt,ht._state=U,ht._subscribers.length!==0&&ct(A,ht))}function b(ht,pt){ht._state===Ut&&(ht._state=ot,ht._result=pt,ct(w,ht))}function E(ht,pt,Bt,Ot){var zt=ht._subscribers,se=zt.length;ht._onerror=null,zt[se]=pt,zt[se+U]=Bt,zt[se+ot]=Ot,se===0&&ht._state&&ct(A,ht)}function A(ht){var pt=ht._subscribers,Bt=ht._state;if(pt.length!==0){for(var Ot=void 0,zt=void 0,se=ht._result,Oe=0;Oe<pt.length;Oe+=3)Ot=pt[Oe],zt=pt[Oe+Bt],Ot?P(Bt,Ot,zt,se):zt(se);ht._subscribers.length=0}}function P(ht,pt,Bt,Ot){var zt=v(Bt),se=void 0,Oe=void 0,le=void 0,Qt=void 0;if(zt){if((se=function(Ke,Ee){try{return Ke(Ee)}catch(Je){return lt.error=Je,lt}}(Bt,Ot))===lt?(Qt=!0,Oe=se.error,se.error=null):le=!0,pt===se)return void b(pt,new TypeError("A promises callback cannot return that same promise."))}else se=Ot,le=!0;pt._state!==Ut||(zt&&le?S(pt,se):Qt?b(pt,Oe):ht===U?C(pt,se):ht===ot&&b(pt,se))}function z(ht){ht[ae]=gt++,ht._state=void 0,ht._result=void 0,ht._subscribers=[]}var B=Array.isArray?Array.isArray:function(ht){return Object.prototype.toString.call(ht)==="[object Array]"},H=0,K=void 0,Q=void 0,ct=function(ht,pt){Rt[H]=ht,Rt[H+1]=pt,(H+=2)===2&&(Q?Q(c):qt())},mt=typeof window!="undefined"?window:void 0,It=mt||{},Dt=It.MutationObserver||It.WebKitMutationObserver,Wt=typeof self=="undefined"&&d!==void 0&&{}.toString.call(d)==="[object process]",Zt=typeof Uint8ClampedArray!="undefined"&&typeof importScripts!="undefined"&&typeof MessageChannel!="undefined",Rt=new Array(1e3),qt=void 0;qt=Wt?function(){return d.nextTick(c)}:Dt?function(){var ht=0,pt=new Dt(c),Bt=document.createTextNode("");return pt.observe(Bt,{characterData:!0}),function(){Bt.data=ht=++ht%2}}():Zt?function(){var ht=new MessageChannel;return ht.port1.onmessage=c,function(){return ht.port2.postMessage(0)}}():mt===void 0&&typeof x=="function"?function(){try{var ht=Function("return this")().require("vertx");return(K=ht.runOnLoop||ht.runOnContext)!==void 0?function(){K(c)}:u()}catch(pt){return u()}}():u();var ae=Math.random().toString(36).substring(2),Ut=void 0,U=1,ot=2,lt={error:null},gt=0,Lt=function(){function ht(pt,Bt){this._instanceConstructor=pt,this.promise=new pt(_),this.promise[ae]||z(this.promise),B(Bt)?(this.length=Bt.length,this._remaining=Bt.length,this._result=new Array(this.length),this.length===0?C(this.promise,this._result):(this.length=this.length||0,this._enumerate(Bt),this._remaining===0&&C(this.promise,this._result))):b(this.promise,new Error("Array Methods must be provided an Array"))}return ht.prototype._enumerate=function(pt){for(var Bt=0;this._state===Ut&&Bt<pt.length;Bt++)this._eachEntry(pt[Bt],Bt)},ht.prototype._eachEntry=function(pt,Bt){var Ot=this._instanceConstructor,zt=Ot.resolve;if(zt===l){var se=T(pt);if(se===p&&pt._state!==Ut)this._settledAt(pt._state,Bt,pt._result);else if(typeof se!="function")this._remaining--,this._result[Bt]=pt;else if(Ot===vt){var Oe=new Ot(_);k(Oe,pt,se),this._willSettleAt(Oe,Bt)}else this._willSettleAt(new Ot(function(le){return le(pt)}),Bt)}else this._willSettleAt(zt(pt),Bt)},ht.prototype._settledAt=function(pt,Bt,Ot){var zt=this.promise;zt._state===Ut&&(this._remaining--,pt===ot?b(zt,Ot):this._result[Bt]=Ot),this._remaining===0&&C(zt,this._result)},ht.prototype._willSettleAt=function(pt,Bt){var Ot=this;E(pt,void 0,function(zt){return Ot._settledAt(U,Bt,zt)},function(zt){return Ot._settledAt(ot,Bt,zt)})},ht}(),vt=function(){function ht(pt){this[ae]=gt++,this._result=this._state=void 0,this._subscribers=[],_!==pt&&(typeof pt!="function"&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof ht?function(Bt,Ot){try{Ot(function(zt){S(Bt,zt)},function(zt){b(Bt,zt)})}catch(zt){b(Bt,zt)}}(this,pt):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return ht.prototype.catch=function(pt){return this.then(null,pt)},ht.prototype.finally=function(pt){var Bt=this,Ot=Bt.constructor;return v(pt)?Bt.then(function(zt){return Ot.resolve(pt()).then(function(){return zt})},function(zt){return Ot.resolve(pt()).then(function(){throw zt})}):Bt.then(pt,pt)},ht}();return vt.prototype.then=p,vt.all=function(ht){return new Lt(this,ht).promise},vt.race=function(ht){var pt=this;return new pt(B(ht)?function(Bt,Ot){for(var zt=ht.length,se=0;se<zt;se++)pt.resolve(ht[se]).then(Bt,Ot)}:function(Bt,Ot){return Ot(new TypeError("You must pass an array to race."))})},vt.resolve=l,vt.reject=function(ht){var pt=new this(_);return b(pt,ht),pt},vt._setScheduler=function(ht){Q=ht},vt._setAsap=function(ht){ct=ht},vt._asap=ct,vt.polyfill=function(){var ht=void 0;if(g!==void 0)ht=g;else if(typeof self!="undefined")ht=self;else try{ht=Function("return this")()}catch(Ot){throw new Error("polyfill failed because global object is unavailable in this environment")}var pt=ht.Promise;if(pt){var Bt=null;try{Bt=Object.prototype.toString.call(pt.resolve())}catch(Ot){}if(Bt==="[object Promise]"&&!pt.cast)return}ht.Promise=vt},vt.Promise=vt,vt})}).call(this,x("_process"),typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{_process:3}],2:[function(x,V,o){function d(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function g(c){return typeof c=="function"}function v(c){return typeof c=="object"&&c!==null}function u(c){return c===void 0}V.exports=d,d.EventEmitter=d,d.prototype._events=void 0,d.prototype._maxListeners=void 0,d.defaultMaxListeners=10,d.prototype.setMaxListeners=function(c){if(!function(p){return typeof p=="number"}(c)||c<0||isNaN(c))throw TypeError("n must be a positive number");return this._maxListeners=c,this},d.prototype.emit=function(c){var p,l,_,T,k,S;if(this._events||(this._events={}),c==="error"&&(!this._events.error||v(this._events.error)&&!this._events.error.length)){if((p=arguments[1])instanceof Error)throw p;var w=new Error('Uncaught, unspecified "error" event. ('+p+")");throw w.context=p,w}if(u(l=this._events[c]))return!1;if(g(l))switch(arguments.length){case 1:l.call(this);break;case 2:l.call(this,arguments[1]);break;case 3:l.call(this,arguments[1],arguments[2]);break;default:T=Array.prototype.slice.call(arguments,1),l.apply(this,T)}else if(v(l))for(T=Array.prototype.slice.call(arguments,1),_=(S=l.slice()).length,k=0;k<_;k++)S[k].apply(this,T);return!0},d.prototype.addListener=function(c,p){var l;if(!g(p))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",c,g(p.listener)?p.listener:p),this._events[c]?v(this._events[c])?this._events[c].push(p):this._events[c]=[this._events[c],p]:this._events[c]=p,v(this._events[c])&&!this._events[c].warned&&(l=u(this._maxListeners)?d.defaultMaxListeners:this._maxListeners)&&l>0&&this._events[c].length>l&&(this._events[c].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[c].length),typeof console.trace=="function"&&console.trace()),this},d.prototype.on=d.prototype.addListener,d.prototype.once=function(c,p){function l(){this.removeListener(c,l),_||(_=!0,p.apply(this,arguments))}if(!g(p))throw TypeError("listener must be a function");var _=!1;return l.listener=p,this.on(c,l),this},d.prototype.removeListener=function(c,p){var l,_,T,k;if(!g(p))throw TypeError("listener must be a function");if(!this._events||!this._events[c])return this;if(T=(l=this._events[c]).length,_=-1,l===p||g(l.listener)&&l.listener===p)delete this._events[c],this._events.removeListener&&this.emit("removeListener",c,p);else if(v(l)){for(k=T;k-- >0;)if(l[k]===p||l[k].listener&&l[k].listener===p){_=k;break}if(_<0)return this;l.length===1?(l.length=0,delete this._events[c]):l.splice(_,1),this._events.removeListener&&this.emit("removeListener",c,p)}return this},d.prototype.removeAllListeners=function(c){var p,l;if(!this._events)return this;if(!this._events.removeListener)return arguments.length===0?this._events={}:this._events[c]&&delete this._events[c],this;if(arguments.length===0){for(p in this._events)p!=="removeListener"&&this.removeAllListeners(p);return this.removeAllListeners("removeListener"),this._events={},this}if(g(l=this._events[c]))this.removeListener(c,l);else if(l)for(;l.length;)this.removeListener(c,l[l.length-1]);return delete this._events[c],this},d.prototype.listeners=function(c){return this._events&&this._events[c]?g(this._events[c])?[this._events[c]]:this._events[c].slice():[]},d.prototype.listenerCount=function(c){if(this._events){var p=this._events[c];if(g(p))return 1;if(p)return p.length}return 0},d.listenerCount=function(c,p){return c.listenerCount(p)}},{}],3:[function(x,V,o){function d(){throw new Error("setTimeout has not been defined")}function g(){throw new Error("clearTimeout has not been defined")}function v(E){if(_===setTimeout)return setTimeout(E,0);if((_===d||!_)&&setTimeout)return _=setTimeout,setTimeout(E,0);try{return _(E,0)}catch(A){try{return _.call(null,E,0)}catch(P){return _.call(this,E,0)}}}function u(){C&&S&&(C=!1,S.length?w=S.concat(w):b=-1,w.length&&c())}function c(){if(!C){var E=v(u);C=!0;for(var A=w.length;A;){for(S=w,w=[];++b<A;)S&&S[b].run();b=-1,A=w.length}S=null,C=!1,function(P){if(T===clearTimeout)return clearTimeout(P);if((T===g||!T)&&clearTimeout)return T=clearTimeout,clearTimeout(P);try{T(P)}catch(z){try{return T.call(null,P)}catch(B){return T.call(this,P)}}}(E)}}function p(E,A){this.fun=E,this.array=A}function l(){}var _,T,k=V.exports={};(function(){try{_=typeof setTimeout=="function"?setTimeout:d}catch(E){_=d}try{T=typeof clearTimeout=="function"?clearTimeout:g}catch(E){T=g}})();var S,w=[],C=!1,b=-1;k.nextTick=function(E){var A=new Array(arguments.length-1);if(arguments.length>1)for(var P=1;P<arguments.length;P++)A[P-1]=arguments[P];w.push(new p(E,A)),w.length!==1||C||v(c)},p.prototype.run=function(){this.fun.apply(null,this.array)},k.title="browser",k.browser=!0,k.env={},k.argv=[],k.version="",k.versions={},k.on=l,k.addListener=l,k.once=l,k.off=l,k.removeListener=l,k.removeAllListeners=l,k.emit=l,k.prependListener=l,k.prependOnceListener=l,k.listeners=function(E){return[]},k.binding=function(E){throw new Error("process.binding is not supported")},k.cwd=function(){return"/"},k.chdir=function(E){throw new Error("process.chdir is not supported")},k.umask=function(){return 0}},{}],4:[function(x,V,o){var d=arguments[3],g=arguments[4],v=arguments[5],u=JSON.stringify;V.exports=function(c,p){for(var l,_=Object.keys(v),T=0,k=_.length;T<k;T++){var S=_[T],w=v[S].exports;if(w===c||w&&w.default===c){l=S;break}}if(!l){l=Math.floor(Math.pow(16,8)*Math.random()).toString(16);var C={};for(T=0,k=_.length;T<k;T++)C[S=_[T]]=S;g[l]=["function(require,module,exports){"+c+"(self); }",C]}var b=Math.floor(Math.pow(16,8)*Math.random()).toString(16),E={};E[l]=l,g[b]=["function(require,module,exports){var f = require("+u(l)+");(f.default ? f.default : f)(self);}",E];var A={};(function Q(ct){for(var mt in A[ct]=!0,g[ct][1]){var It=g[ct][1][mt];A[It]||Q(It)}})(b);var P="("+d+")({"+Object.keys(A).map(function(Q){return u(Q)+":["+g[Q][0]+","+u(g[Q][1])+"]"}).join(",")+"},{},["+u(b)+"])",z=window.URL||window.webkitURL||window.mozURL||window.msURL,B=new Blob([P],{type:"text/javascript"});if(p&&p.bare)return B;var H=z.createObjectURL(B),K=new Worker(H);return K.objectURL=H,K}},{}],5:[function(x,V,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.createDefaultConfig=function(){return Object.assign({},d)};var d=o.defaultConfig={enableWorker:!1,enableStashBuffer:!0,stashInitialSize:void 0,isLive:!1,lazyLoad:!0,lazyLoadMaxDuration:180,lazyLoadRecoverDuration:30,deferLoadAfterSourceOpen:!0,autoCleanupMaxBackwardDuration:180,autoCleanupMinBackwardDuration:120,statisticsInfoReportInterval:600,fixAudioTimestampGap:!0,accurateSeek:!1,seekType:"range",seekParamStart:"bstart",seekParamEnd:"bend",rangeLoadZeroStart:!1,customSeekHandler:void 0,reuseRedirectedURL:!1,headers:void 0,customLoader:void 0}},{}],6:[function(x,V,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var d=function(){function c(p,l){for(var _=0;_<l.length;_++){var T=l[_];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(p,T.key,T)}}return function(p,l,_){return l&&c(p.prototype,l),_&&c(p,_),p}}(),g=function(c){return c&&c.__esModule?c:{default:c}}(x("../io/io-controller.js")),v=x("../config.js"),u=function(){function c(){(function(p,l){if(!(p instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c)}return d(c,null,[{key:"supportMSEH264Playback",value:function(){return window.MediaSource&&window.MediaSource.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"')}},{key:"supportNetworkStreamIO",value:function(){var p=new g.default({},(0,v.createDefaultConfig)()),l=p.loaderType;return p.destroy(),l=="fetch-stream-loader"||l=="xhr-moz-chunked-loader"}},{key:"getNetworkLoaderTypeName",value:function(){var p=new g.default({},(0,v.createDefaultConfig)()),l=p.loaderType;return p.destroy(),l}},{key:"supportNativeMediaPlayback",value:function(p){c.videoElement==null&&(c.videoElement=window.document.createElement("video"));var l=c.videoElement.canPlayType(p);return l==="probably"||l=="maybe"}},{key:"getFeatureList",value:function(){var p={mseFlvPlayback:!1,mseLiveFlvPlayback:!1,networkStreamIO:!1,networkLoaderName:"",nativeMP4H264Playback:!1,nativeMP4H265Playback:!1,nativeWebmVP8Playback:!1,nativeWebmVP9Playback:!1};return p.mseFlvPlayback=c.supportMSEH264Playback(),p.networkStreamIO=c.supportNetworkStreamIO(),p.networkLoaderName=c.getNetworkLoaderTypeName(),p.mseLiveFlvPlayback=p.mseFlvPlayback&&p.networkStreamIO,p.nativeMP4H264Playback=c.supportNativeMediaPlayback('video/mp4; codecs="avc1.42001E, mp4a.40.2"'),p.nativeMP4H265Playback=c.supportNativeMediaPlayback('video/mp4; codecs="hvc1.1.6.L93.B0, mp4a.40.2"'),p.nativeWebmVP8Playback=c.supportNativeMediaPlayback('video/webm; codecs="vp8.0, vorbis"'),p.nativeWebmVP9Playback=c.supportNativeMediaPlayback('video/webm; codecs="vp9"'),p}}]),c}();o.default=u},{"../config.js":5,"../io/io-controller.js":23}],7:[function(x,V,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var d=function(){function v(u,c){for(var p=0;p<c.length;p++){var l=c[p];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(u,l.key,l)}}return function(u,c,p){return c&&v(u.prototype,c),p&&v(u,p),u}}(),g=function(){function v(){(function(u,c){if(!(u instanceof c))throw new TypeError("Cannot call a class as a function")})(this,v),this.mimeType=null,this.duration=null,this.hasAudio=null,this.hasVideo=null,this.audioCodec=null,this.videoCodec=null,this.audioDataRate=null,this.videoDataRate=null,this.audioSampleRate=null,this.audioChannelCount=null,this.width=null,this.height=null,this.fps=null,this.profile=null,this.level=null,this.refFrames=null,this.chromaFormat=null,this.sarNum=null,this.sarDen=null,this.metadata=null,this.segments=null,this.segmentCount=null,this.hasKeyframesIndex=null,this.keyframesIndex=null}return d(v,[{key:"isComplete",value:function(){var u=this.hasAudio===!1||this.hasAudio===!0&&this.audioCodec,c=this.hasVideo===!1||this.hasVideo===!0&&this.videoCodec;return u&&c}},{key:"isSeekable",value:function(){return this.hasKeyframesIndex===!0}},{key:"getNearestKeyframe",value:function(u){if(this.keyframesIndex==null)return null;var c=this.keyframesIndex,p=this._search(c.times,u);return{index:p,milliseconds:c.times[p],fileposition:c.filepositions[p]}}},{key:"_search",value:function(u,c){var p=0,l=u.length-1,_=0,T=0,k=l;for(c<u[0]&&(p=0,T=k+1);T<=k;){if((_=T+Math.floor((k-T)/2))===l||c>=u[_]&&c<u[_+1]){p=_;break}u[_]<c?T=_+1:k=_-1}return p}}]),v}();o.default=g},{}],8:[function(x,V,o){"use strict";function d(v,u){if(!(v instanceof u))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(o,"__esModule",{value:!0});var g=function(){function v(u,c){for(var p=0;p<c.length;p++){var l=c[p];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(u,l.key,l)}}return function(u,c,p){return c&&v(u.prototype,c),p&&v(u,p),u}}();o.SampleInfo=function v(u,c,p,l,_){d(this,v),this.dts=u,this.pts=c,this.duration=p,this.originalDts=l,this.isSyncPoint=_,this.fileposition=null},o.MediaSegmentInfo=function(){function v(){d(this,v),this.beginDts=0,this.endDts=0,this.beginPts=0,this.endPts=0,this.originalBeginDts=0,this.originalEndDts=0,this.syncPoints=[],this.firstSample=null,this.lastSample=null}return g(v,[{key:"appendSyncPoint",value:function(u){u.isSyncPoint=!0,this.syncPoints.push(u)}}]),v}(),o.IDRSampleList=function(){function v(){d(this,v),this._list=[]}return g(v,[{key:"clear",value:function(){this._list=[]}},{key:"appendArray",value:function(u){var c=this._list;u.length!==0&&(c.length>0&&u[0].originalDts<c[c.length-1].originalDts&&this.clear(),Array.prototype.push.apply(c,u))}},{key:"getLastSyncPointBeforeDts",value:function(u){if(this._list.length==0)return null;var c=this._list,p=0,l=c.length-1,_=0,T=0,k=l;for(u<c[0].dts&&(p=0,T=k+1);T<=k;){if((_=T+Math.floor((k-T)/2))===l||u>=c[_].dts&&u<c[_+1].dts){p=_;break}c[_].dts<u?T=_+1:k=_-1}return this._list[p]}}]),v}(),o.MediaSegmentInfoList=function(){function v(u){d(this,v),this._type=u,this._list=[],this._lastAppendLocation=-1}return g(v,[{key:"isEmpty",value:function(){return this._list.length===0}},{key:"clear",value:function(){this._list=[],this._lastAppendLocation=-1}},{key:"_searchNearestSegmentBefore",value:function(u){var c=this._list;if(c.length===0)return-2;var p=c.length-1,l=0,_=0,T=p,k=0;if(u<c[0].originalBeginDts)return-1;for(;_<=T;){if((l=_+Math.floor((T-_)/2))===p||u>c[l].lastSample.originalDts&&u<c[l+1].originalBeginDts){k=l;break}c[l].originalBeginDts<u?_=l+1:T=l-1}return k}},{key:"_searchNearestSegmentAfter",value:function(u){return this._searchNearestSegmentBefore(u)+1}},{key:"append",value:function(u){var c=this._list,p=u,l=this._lastAppendLocation,_=0;l!==-1&&l<c.length&&p.originalBeginDts>=c[l].lastSample.originalDts&&(l===c.length-1||l<c.length-1&&p.originalBeginDts<c[l+1].originalBeginDts)?_=l+1:c.length>0&&(_=this._searchNearestSegmentBefore(p.originalBeginDts)+1),this._lastAppendLocation=_,this._list.splice(_,0,p)}},{key:"getLastSegmentBefore",value:function(u){var c=this._searchNearestSegmentBefore(u);return c>=0?this._list[c]:null}},{key:"getLastSampleBefore",value:function(u){var c=this.getLastSegmentBefore(u);return c!=null?c.lastSample:null}},{key:"getLastSyncPointBefore",value:function(u){for(var c=this._searchNearestSegmentBefore(u),p=this._list[c].syncPoints;p.length===0&&c>0;)c--,p=this._list[c].syncPoints;return p.length>0?p[p.length-1]:null}},{key:"type",get:function(){return this._type}},{key:"length",get:function(){return this._list.length}}]),v}()},{}],9:[function(x,V,o){"use strict";function d(k){return k&&k.__esModule?k:{default:k}}Object.defineProperty(o,"__esModule",{value:!0});var g=function(){function k(S,w){for(var C=0;C<w.length;C++){var b=w[C];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(S,b.key,b)}}return function(S,w,C){return w&&k(S.prototype,w),C&&k(S,C),S}}(),v=d(x("events")),u=d(x("../utils/logger.js")),c=d(x("../utils/browser.js")),p=d(x("./mse-events.js")),l=x("./media-segment-info.js"),_=x("../utils/exception.js"),T=function(){function k(S){(function(w,C){if(!(w instanceof C))throw new TypeError("Cannot call a class as a function")})(this,k),this.TAG="MSEController",this._config=S,this._emitter=new v.default,this._config.isLive&&this._config.autoCleanupSourceBuffer==null&&(this._config.autoCleanupSourceBuffer=!0),this.e={onSourceOpen:this._onSourceOpen.bind(this),onSourceEnded:this._onSourceEnded.bind(this),onSourceClose:this._onSourceClose.bind(this),onSourceBufferError:this._onSourceBufferError.bind(this),onSourceBufferUpdateEnd:this._onSourceBufferUpdateEnd.bind(this)},this._mediaSource=null,this._mediaSourceObjectURL=null,this._mediaElement=null,this._isBufferFull=!1,this._hasPendingEos=!1,this._requireSetMediaDuration=!1,this._pendingMediaDuration=0,this._pendingSourceBufferInit=[],this._mimeTypes={video:null,audio:null},this._sourceBuffers={video:null,audio:null},this._lastInitSegments={video:null,audio:null},this._pendingSegments={video:[],audio:[]},this._pendingRemoveRanges={video:[],audio:[]},this._idrList=new l.IDRSampleList}return g(k,[{key:"destroy",value:function(){(this._mediaElement||this._mediaSource)&&this.detachMediaElement(),this.e=null,this._emitter&&this._emitter.removeAllListeners(),this._emitter=null}},{key:"on",value:function(S,w){this._emitter.addListener(S,w)}},{key:"off",value:function(S,w){this._emitter.removeListener(S,w)}},{key:"attachMediaElement",value:function(S){if(this._mediaSource)throw new _.IllegalStateException("MediaSource has been attached to an HTMLMediaElement!");var w=this._mediaSource=new window.MediaSource;w.addEventListener("sourceopen",this.e.onSourceOpen),w.addEventListener("sourceended",this.e.onSourceEnded),w.addEventListener("sourceclose",this.e.onSourceClose),this._mediaElement=S,this._mediaSourceObjectURL=window.URL.createObjectURL(this._mediaSource),S.src=this._mediaSourceObjectURL}},{key:"detachMediaElement",value:function(){if(this._mediaSource){var S=this._mediaSource;for(var w in this._sourceBuffers){var C=this._pendingSegments[w];C.splice(0,C.length),this._pendingSegments[w]=null,this._pendingRemoveRanges[w]=null,this._lastInitSegments[w]=null;var b=this._sourceBuffers[w];if(b){if(S.readyState!=="closed"){try{S.removeSourceBuffer(b)}catch(E){u.default.e(this.TAG,E.message)}b.removeEventListener("error",this.e.onSourceBufferError),b.removeEventListener("updateend",this.e.onSourceBufferUpdateEnd)}this._mimeTypes[w]=null,this._sourceBuffers[w]=null}}if(S.readyState==="open")try{S.endOfStream()}catch(E){u.default.e(this.TAG,E.message)}S.removeEventListener("sourceopen",this.e.onSourceOpen),S.removeEventListener("sourceended",this.e.onSourceEnded),S.removeEventListener("sourceclose",this.e.onSourceClose),this._pendingSourceBufferInit=[],this._isBufferFull=!1,this._idrList.clear(),this._mediaSource=null}this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src"),this._mediaElement=null),this._mediaSourceObjectURL&&(window.URL.revokeObjectURL(this._mediaSourceObjectURL),this._mediaSourceObjectURL=null)}},{key:"appendInitSegment",value:function(S,w){if(!this._mediaSource||this._mediaSource.readyState!=="open")return this._pendingSourceBufferInit.push(S),void this._pendingSegments[S.type].push(S);var C=S,b=""+C.container;C.codec&&C.codec.length>0&&(b+=";codecs="+C.codec);var E=!1;if(u.default.v(this.TAG,"Received Initialization Segment, mimeType: "+b),this._lastInitSegments[C.type]=C,b!==this._mimeTypes[C.type]){if(this._mimeTypes[C.type])u.default.v(this.TAG,"Notice: "+C.type+" mimeType changed, origin: "+this._mimeTypes[C.type]+", target: "+b);else{E=!0;try{var A=this._sourceBuffers[C.type]=this._mediaSource.addSourceBuffer(b);A.addEventListener("error",this.e.onSourceBufferError),A.addEventListener("updateend",this.e.onSourceBufferUpdateEnd)}catch(P){return u.default.e(this.TAG,P.message),void this._emitter.emit(p.default.ERROR,{code:P.code,msg:P.message})}}this._mimeTypes[C.type]=b}w||this._pendingSegments[C.type].push(C),E||this._sourceBuffers[C.type]&&!this._sourceBuffers[C.type].updating&&this._doAppendSegments(),c.default.safari&&C.container==="audio/mpeg"&&C.mediaDuration>0&&(this._requireSetMediaDuration=!0,this._pendingMediaDuration=C.mediaDuration/1e3,this._updateMediaSourceDuration())}},{key:"appendMediaSegment",value:function(S){var w=S;this._pendingSegments[w.type].push(w),this._config.autoCleanupSourceBuffer&&this._needCleanupSourceBuffer()&&this._doCleanupSourceBuffer();var C=this._sourceBuffers[w.type];!C||C.updating||this._hasPendingRemoveRanges()||this._doAppendSegments()}},{key:"seek",value:function(S){for(var w in this._sourceBuffers)if(this._sourceBuffers[w]){var C=this._sourceBuffers[w];if(this._mediaSource.readyState==="open")try{C.abort()}catch(B){u.default.e(this.TAG,B.message)}this._idrList.clear();var b=this._pendingSegments[w];if(b.splice(0,b.length),this._mediaSource.readyState!=="closed"){for(var E=0;E<C.buffered.length;E++){var A=C.buffered.start(E),P=C.buffered.end(E);this._pendingRemoveRanges[w].push({start:A,end:P})}if(C.updating||this._doRemoveRanges(),c.default.safari){var z=this._lastInitSegments[w];z&&(this._pendingSegments[w].push(z),C.updating||this._doAppendSegments())}}}}},{key:"endOfStream",value:function(){var S=this._mediaSource,w=this._sourceBuffers;S&&S.readyState==="open"?w.video&&w.video.updating||w.audio&&w.audio.updating?this._hasPendingEos=!0:(this._hasPendingEos=!1,S.endOfStream()):S&&S.readyState==="closed"&&this._hasPendingSegments()&&(this._hasPendingEos=!0)}},{key:"getNearestKeyframe",value:function(S){return this._idrList.getLastSyncPointBeforeDts(S)}},{key:"_needCleanupSourceBuffer",value:function(){if(!this._config.autoCleanupSourceBuffer)return!1;var S=this._mediaElement.currentTime;for(var w in this._sourceBuffers){var C=this._sourceBuffers[w];if(C){var b=C.buffered;if(b.length>=1&&S-b.start(0)>=this._config.autoCleanupMaxBackwardDuration)return!0}}return!1}},{key:"_doCleanupSourceBuffer",value:function(){var S=this._mediaElement.currentTime;for(var w in this._sourceBuffers){var C=this._sourceBuffers[w];if(C){for(var b=C.buffered,E=!1,A=0;A<b.length;A++){var P=b.start(A),z=b.end(A);if(P<=S&&S<z+3){if(S-P>=this._config.autoCleanupMaxBackwardDuration){E=!0;var B=S-this._config.autoCleanupMinBackwardDuration;this._pendingRemoveRanges[w].push({start:P,end:B})}}else z<S&&(E=!0,this._pendingRemoveRanges[w].push({start:P,end:z}))}E&&!C.updating&&this._doRemoveRanges()}}}},{key:"_updateMediaSourceDuration",value:function(){var S=this._sourceBuffers;if(this._mediaElement.readyState!==0&&this._mediaSource.readyState==="open"&&!(S.video&&S.video.updating||S.audio&&S.audio.updating)){var w=this._mediaSource.duration,C=this._pendingMediaDuration;C>0&&(isNaN(w)||C>w)&&(u.default.v(this.TAG,"Update MediaSource duration from "+w+" to "+C),this._mediaSource.duration=C),this._requireSetMediaDuration=!1,this._pendingMediaDuration=0}}},{key:"_doRemoveRanges",value:function(){for(var S in this._pendingRemoveRanges)if(this._sourceBuffers[S]&&!this._sourceBuffers[S].updating)for(var w=this._sourceBuffers[S],C=this._pendingRemoveRanges[S];C.length&&!w.updating;){var b=C.shift();w.remove(b.start,b.end)}}},{key:"_doAppendSegments",value:function(){var S=this._pendingSegments;for(var w in S)if(this._sourceBuffers[w]&&!this._sourceBuffers[w].updating&&S[w].length>0){var C=S[w].shift();if(C.timestampOffset){var b=this._sourceBuffers[w].timestampOffset,E=C.timestampOffset/1e3;Math.abs(b-E)>.1&&(u.default.v(this.TAG,"Update MPEG audio timestampOffset from "+b+" to "+E),this._sourceBuffers[w].timestampOffset=E),delete C.timestampOffset}if(!C.data||C.data.byteLength===0)continue;try{this._sourceBuffers[w].appendBuffer(C.data),this._isBufferFull=!1,w==="video"&&C.hasOwnProperty("info")&&this._idrList.appendArray(C.info.syncPoints)}catch(A){this._pendingSegments[w].unshift(C),A.code===22?(this._isBufferFull||this._emitter.emit(p.default.BUFFER_FULL),this._isBufferFull=!0):(u.default.e(this.TAG,w,A.message),this._emitter.emit(p.default.ERROR,{code:A.code,msg:A.message}))}}}},{key:"_onSourceOpen",value:function(){if(u.default.v(this.TAG,"MediaSource onSourceOpen"),this._mediaSource.removeEventListener("sourceopen",this.e.onSourceOpen),this._pendingSourceBufferInit.length>0)for(var S=this._pendingSourceBufferInit;S.length;){var w=S.shift();this.appendInitSegment(w,!0)}this._hasPendingSegments()&&this._doAppendSegments(),this._emitter.emit(p.default.SOURCE_OPEN)}},{key:"_onSourceEnded",value:function(){u.default.v(this.TAG,"MediaSource onSourceEnded")}},{key:"_onSourceClose",value:function(){u.default.v(this.TAG,"MediaSource onSourceClose"),this._mediaSource&&this.e!=null&&(this._mediaSource.removeEventListener("sourceopen",this.e.onSourceOpen),this._mediaSource.removeEventListener("sourceended",this.e.onSourceEnded),this._mediaSource.removeEventListener("sourceclose",this.e.onSourceClose))}},{key:"_hasPendingSegments",value:function(){var S=this._pendingSegments;return S.video&&S.video.length>0||S.audio&&S.audio.length>0}},{key:"_hasPendingRemoveRanges",value:function(){var S=this._pendingRemoveRanges;return S.video&&S.video.length>0||S.audio&&S.audio.length>0}},{key:"_onSourceBufferUpdateEnd",value:function(){this._requireSetMediaDuration?this._updateMediaSourceDuration():this._hasPendingRemoveRanges()?this._doRemoveRanges():this._hasPendingSegments()?this._doAppendSegments():this._hasPendingEos&&this.endOfStream(),this._emitter.emit(p.default.UPDATE_END)}},{key:"_onSourceBufferError",value:function(S){u.default.e(this.TAG,"SourceBuffer Error: "+S)}}]),k}();o.default=T},{"../utils/browser.js":39,"../utils/exception.js":40,"../utils/logger.js":41,"./media-segment-info.js":8,"./mse-events.js":10,events:2}],10:[function(x,V,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default={ERROR:"error",SOURCE_OPEN:"source_open",UPDATE_END:"update_end",BUFFER_FULL:"buffer_full"}},{}],11:[function(x,V,o){"use strict";function d(S){return S&&S.__esModule?S:{default:S}}Object.defineProperty(o,"__esModule",{value:!0});var g=function(){function S(w,C){for(var b=0;b<C.length;b++){var E=C[b];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(w,E.key,E)}}return function(w,C,b){return C&&S(w.prototype,C),b&&S(w,b),w}}(),v=d(x("events")),u=d(x("../utils/logger.js")),c=d(x("../utils/logging-control.js")),p=d(x("./transmuxing-controller.js")),l=d(x("./transmuxing-events.js")),_=d(x("./transmuxing-worker.js")),T=d(x("./media-info.js")),k=function(){function S(w,C){if(function(A,P){if(!(A instanceof P))throw new TypeError("Cannot call a class as a function")}(this,S),this.TAG="Transmuxer",this._emitter=new v.default,C.enableWorker&&typeof Worker!="undefined")try{var b=x("webworkify");this._worker=b(_.default),this._workerDestroying=!1,this._worker.addEventListener("message",this._onWorkerMessage.bind(this)),this._worker.postMessage({cmd:"init",param:[w,C]}),this.e={onLoggingConfigChanged:this._onLoggingConfigChanged.bind(this)},c.default.registerListener(this.e.onLoggingConfigChanged),this._worker.postMessage({cmd:"logging_config",param:c.default.getConfig()})}catch(A){u.default.e(this.TAG,"Error while initialize transmuxing worker, fallback to inline transmuxing"),this._worker=null,this._controller=new p.default(w,C)}else this._controller=new p.default(w,C);if(this._controller){var E=this._controller;E.on(l.default.IO_ERROR,this._onIOError.bind(this)),E.on(l.default.DEMUX_ERROR,this._onDemuxError.bind(this)),E.on(l.default.INIT_SEGMENT,this._onInitSegment.bind(this)),E.on(l.default.MEDIA_SEGMENT,this._onMediaSegment.bind(this)),E.on(l.default.LOADING_COMPLETE,this._onLoadingComplete.bind(this)),E.on(l.default.RECOVERED_EARLY_EOF,this._onRecoveredEarlyEof.bind(this)),E.on(l.default.MEDIA_INFO,this._onMediaInfo.bind(this)),E.on(l.default.METADATA_ARRIVED,this._onMetaDataArrived.bind(this)),E.on(l.default.SCRIPTDATA_ARRIVED,this._onScriptDataArrived.bind(this)),E.on(l.default.STATISTICS_INFO,this._onStatisticsInfo.bind(this)),E.on(l.default.RECOMMEND_SEEKPOINT,this._onRecommendSeekpoint.bind(this))}}return g(S,[{key:"destroy",value:function(){this._worker?this._workerDestroying||(this._workerDestroying=!0,this._worker.postMessage({cmd:"destroy"}),c.default.removeListener(this.e.onLoggingConfigChanged),this.e=null):(this._controller.destroy(),this._controller=null),this._emitter&&this._emitter.removeAllListeners(),this._emitter=null}},{key:"on",value:function(w,C){this._emitter.addListener(w,C)}},{key:"off",value:function(w,C){this._emitter.removeListener(w,C)}},{key:"hasWorker",value:function(){return this._worker!=null}},{key:"open",value:function(){this._worker?this._worker.postMessage({cmd:"start"}):this._controller.start()}},{key:"close",value:function(){this._worker?this._worker.postMessage({cmd:"stop"}):this._controller.stop()}},{key:"seek",value:function(w){this._worker?this._worker.postMessage({cmd:"seek",param:w}):this._controller.seek(w)}},{key:"pause",value:function(){this._worker?this._worker.postMessage({cmd:"pause"}):this._controller.pause()}},{key:"resume",value:function(){this._worker?this._worker.postMessage({cmd:"resume"}):this._controller.resume()}},{key:"_onInitSegment",value:function(w,C){var b=this;Promise.resolve().then(function(){b._emitter.emit(l.default.INIT_SEGMENT,w,C)}).catch(function(){})}},{key:"_onMediaSegment",value:function(w,C){var b=this;Promise.resolve().then(function(){b._emitter.emit(l.default.MEDIA_SEGMENT,w,C)}).catch(function(){})}},{key:"_onLoadingComplete",value:function(){var w=this;Promise.resolve().then(function(){w._emitter.emit(l.default.LOADING_COMPLETE)}).catch(function(){})}},{key:"_onRecoveredEarlyEof",value:function(){var w=this;Promise.resolve().then(function(){w._emitter.emit(l.default.RECOVERED_EARLY_EOF)}).catch(function(){})}},{key:"_onMediaInfo",value:function(w){var C=this;Promise.resolve().then(function(){C._emitter.emit(l.default.MEDIA_INFO,w)}).catch(function(){})}},{key:"_onMetaDataArrived",value:function(w){var C=this;Promise.resolve().then(function(){C._emitter.emit(l.default.METADATA_ARRIVED,w)}).catch(function(){})}},{key:"_onScriptDataArrived",value:function(w){var C=this;Promise.resolve().then(function(){C._emitter.emit(l.default.SCRIPTDATA_ARRIVED,w)}).catch(function(){})}},{key:"_onStatisticsInfo",value:function(w){var C=this;Promise.resolve().then(function(){C._emitter.emit(l.default.STATISTICS_INFO,w)}).catch(function(){})}},{key:"_onIOError",value:function(w,C){var b=this;Promise.resolve().then(function(){b._emitter.emit(l.default.IO_ERROR,w,C)}).catch(function(){})}},{key:"_onDemuxError",value:function(w,C){var b=this;Promise.resolve().then(function(){b._emitter.emit(l.default.DEMUX_ERROR,w,C)}).catch(function(){})}},{key:"_onRecommendSeekpoint",value:function(w){var C=this;Promise.resolve().then(function(){C._emitter.emit(l.default.RECOMMEND_SEEKPOINT,w)}).catch(function(){})}},{key:"_onLoggingConfigChanged",value:function(w){this._worker&&this._worker.postMessage({cmd:"logging_config",param:w})}},{key:"_onWorkerMessage",value:function(w){var C=w.data,b=C.data;if(C.msg==="destroyed"||this._workerDestroying)return this._workerDestroying=!1,this._worker.terminate(),void(this._worker=null);switch(C.msg){case l.default.INIT_SEGMENT:case l.default.MEDIA_SEGMENT:this._emitter.emit(C.msg,b.type,b.data);break;case l.default.LOADING_COMPLETE:case l.default.RECOVERED_EARLY_EOF:this._emitter.emit(C.msg);break;case l.default.MEDIA_INFO:Object.setPrototypeOf(b,T.default.prototype),this._emitter.emit(C.msg,b);break;case l.default.METADATA_ARRIVED:case l.default.SCRIPTDATA_ARRIVED:case l.default.STATISTICS_INFO:this._emitter.emit(C.msg,b);break;case l.default.IO_ERROR:case l.default.DEMUX_ERROR:this._emitter.emit(C.msg,b.type,b.info);break;case l.default.RECOMMEND_SEEKPOINT:this._emitter.emit(C.msg,b);break;case"logcat_callback":u.default.emitter.emit("log",b.type,b.logcat)}}}]),S}();o.default=k},{"../utils/logger.js":41,"../utils/logging-control.js":42,"./media-info.js":7,"./transmuxing-controller.js":12,"./transmuxing-events.js":13,"./transmuxing-worker.js":14,events:2,webworkify:4}],12:[function(x,V,o){"use strict";function d(C){return C&&C.__esModule?C:{default:C}}Object.defineProperty(o,"__esModule",{value:!0});var g=function(){function C(b,E){for(var A=0;A<E.length;A++){var P=E[A];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(b,P.key,P)}}return function(b,E,A){return E&&C(b.prototype,E),A&&C(b,A),b}}(),v=d(x("events")),u=d(x("../utils/logger.js")),c=d(x("../utils/browser.js")),p=d(x("./media-info.js")),l=d(x("../demux/flv-demuxer.js")),_=d(x("../remux/mp4-remuxer.js")),T=d(x("../demux/demux-errors.js")),k=d(x("../io/io-controller.js")),S=d(x("./transmuxing-events.js")),w=(x("../io/loader.js"),function(){function C(b,E){(function(P,z){if(!(P instanceof z))throw new TypeError("Cannot call a class as a function")})(this,C),this.TAG="TransmuxingController",this._emitter=new v.default,this._config=E,b.segments||(b.segments=[{duration:b.duration,filesize:b.filesize,url:b.url}]),typeof b.cors!="boolean"&&(b.cors=!0),typeof b.withCredentials!="boolean"&&(b.withCredentials=!1),this._mediaDataSource=b,this._currentSegmentIndex=0;var A=0;this._mediaDataSource.segments.forEach(function(P){P.timestampBase=A,A+=P.duration,P.cors=b.cors,P.withCredentials=b.withCredentials,E.referrerPolicy&&(P.referrerPolicy=E.referrerPolicy)}),isNaN(A)||this._mediaDataSource.duration===A||(this._mediaDataSource.duration=A),this._mediaInfo=null,this._demuxer=null,this._remuxer=null,this._ioctl=null,this._pendingSeekTime=null,this._pendingResolveSeekPoint=null,this._statisticsReporter=null}return g(C,[{key:"destroy",value:function(){this._mediaInfo=null,this._mediaDataSource=null,this._statisticsReporter&&this._disableStatisticsReporter(),this._ioctl&&(this._ioctl.destroy(),this._ioctl=null),this._demuxer&&(this._demuxer.destroy(),this._demuxer=null),this._remuxer&&(this._remuxer.destroy(),this._remuxer=null),this._emitter&&this._emitter.removeAllListeners(),this._emitter=null}},{key:"on",value:function(b,E){this._emitter.addListener(b,E)}},{key:"off",value:function(b,E){this._emitter.removeListener(b,E)}},{key:"start",value:function(){this._loadSegment(0),this._enableStatisticsReporter()}},{key:"_loadSegment",value:function(b,E){this._currentSegmentIndex=b;var A=this._mediaDataSource.segments[b],P=this._ioctl=new k.default(A,this._config,b);P.onError=this._onIOException.bind(this),P.onSeeked=this._onIOSeeked.bind(this),P.onComplete=this._onIOComplete.bind(this),P.onRedirect=this._onIORedirect.bind(this),P.onRecoveredEarlyEof=this._onIORecoveredEarlyEof.bind(this),E?this._demuxer.bindDataSource(this._ioctl):P.onDataArrival=this._onInitChunkArrival.bind(this),P.open(E)}},{key:"stop",value:function(){this._internalAbort(),this._disableStatisticsReporter()}},{key:"_internalAbort",value:function(){this._ioctl&&(this._ioctl.destroy(),this._ioctl=null)}},{key:"pause",value:function(){this._ioctl&&this._ioctl.isWorking()&&(this._ioctl.pause(),this._disableStatisticsReporter())}},{key:"resume",value:function(){this._ioctl&&this._ioctl.isPaused()&&(this._ioctl.resume(),this._enableStatisticsReporter())}},{key:"seek",value:function(b){if(this._mediaInfo!=null&&this._mediaInfo.isSeekable()){var E=this._searchSegmentIndexContains(b);if(E===this._currentSegmentIndex){var A=this._mediaInfo.segments[E];if(A==null)this._pendingSeekTime=b;else{var P=A.getNearestKeyframe(b);this._remuxer.seek(P.milliseconds),this._ioctl.seek(P.fileposition),this._pendingResolveSeekPoint=P.milliseconds}}else{var z=this._mediaInfo.segments[E];if(z==null)this._pendingSeekTime=b,this._internalAbort(),this._remuxer.seek(),this._remuxer.insertDiscontinuity(),this._loadSegment(E);else{var B=z.getNearestKeyframe(b);this._internalAbort(),this._remuxer.seek(b),this._remuxer.insertDiscontinuity(),this._demuxer.resetMediaInfo(),this._demuxer.timestampBase=this._mediaDataSource.segments[E].timestampBase,this._loadSegment(E,B.fileposition),this._pendingResolveSeekPoint=B.milliseconds,this._reportSegmentMediaInfo(E)}}this._enableStatisticsReporter()}}},{key:"_searchSegmentIndexContains",value:function(b){for(var E=this._mediaDataSource.segments,A=E.length-1,P=0;P<E.length;P++)if(b<E[P].timestampBase){A=P-1;break}return A}},{key:"_onInitChunkArrival",value:function(b,E){var A=this,P=null,z=0;if(E>0)this._demuxer.bindDataSource(this._ioctl),this._demuxer.timestampBase=this._mediaDataSource.segments[this._currentSegmentIndex].timestampBase,z=this._demuxer.parseChunks(b,E);else if((P=l.default.probe(b)).match){this._demuxer=new l.default(P,this._config),this._remuxer||(this._remuxer=new _.default(this._config));var B=this._mediaDataSource;B.duration==null||isNaN(B.duration)||(this._demuxer.overridedDuration=B.duration),typeof B.hasAudio=="boolean"&&(this._demuxer.overridedHasAudio=B.hasAudio),typeof B.hasVideo=="boolean"&&(this._demuxer.overridedHasVideo=B.hasVideo),this._demuxer.timestampBase=B.segments[this._currentSegmentIndex].timestampBase,this._demuxer.onError=this._onDemuxException.bind(this),this._demuxer.onMediaInfo=this._onMediaInfo.bind(this),this._demuxer.onMetaDataArrived=this._onMetaDataArrived.bind(this),this._demuxer.onScriptDataArrived=this._onScriptDataArrived.bind(this),this._remuxer.bindDataSource(this._demuxer.bindDataSource(this._ioctl)),this._remuxer.onInitSegment=this._onRemuxerInitSegmentArrival.bind(this),this._remuxer.onMediaSegment=this._onRemuxerMediaSegmentArrival.bind(this),z=this._demuxer.parseChunks(b,E)}else P=null,u.default.e(this.TAG,"Non-FLV, Unsupported media type!"),Promise.resolve().then(function(){A._internalAbort()}),this._emitter.emit(S.default.DEMUX_ERROR,T.default.FORMAT_UNSUPPORTED,"Non-FLV, Unsupported media type"),z=0;return z}},{key:"_onMediaInfo",value:function(b){var E=this;this._mediaInfo==null&&(this._mediaInfo=Object.assign({},b),this._mediaInfo.keyframesIndex=null,this._mediaInfo.segments=[],this._mediaInfo.segmentCount=this._mediaDataSource.segments.length,Object.setPrototypeOf(this._mediaInfo,p.default.prototype));var A=Object.assign({},b);Object.setPrototypeOf(A,p.default.prototype),this._mediaInfo.segments[this._currentSegmentIndex]=A,this._reportSegmentMediaInfo(this._currentSegmentIndex),this._pendingSeekTime!=null&&Promise.resolve().then(function(){var P=E._pendingSeekTime;E._pendingSeekTime=null,E.seek(P)})}},{key:"_onMetaDataArrived",value:function(b){this._emitter.emit(S.default.METADATA_ARRIVED,b)}},{key:"_onScriptDataArrived",value:function(b){this._emitter.emit(S.default.SCRIPTDATA_ARRIVED,b)}},{key:"_onIOSeeked",value:function(){this._remuxer.insertDiscontinuity()}},{key:"_onIOComplete",value:function(b){var E=b+1;E<this._mediaDataSource.segments.length?(this._internalAbort(),this._remuxer&&this._remuxer.flushStashedSamples(),this._loadSegment(E)):(this._remuxer&&this._remuxer.flushStashedSamples(),this._emitter.emit(S.default.LOADING_COMPLETE),this._disableStatisticsReporter())}},{key:"_onIORedirect",value:function(b){var E=this._ioctl.extraData;this._mediaDataSource.segments[E].redirectedURL=b}},{key:"_onIORecoveredEarlyEof",value:function(){this._emitter.emit(S.default.RECOVERED_EARLY_EOF)}},{key:"_onIOException",value:function(b,E){u.default.e(this.TAG,"IOException: type = "+b+", code = "+E.code+", msg = "+E.msg),this._emitter.emit(S.default.IO_ERROR,b,E),this._disableStatisticsReporter()}},{key:"_onDemuxException",value:function(b,E){u.default.e(this.TAG,"DemuxException: type = "+b+", info = "+E),this._emitter.emit(S.default.DEMUX_ERROR,b,E)}},{key:"_onRemuxerInitSegmentArrival",value:function(b,E){this._emitter.emit(S.default.INIT_SEGMENT,b,E)}},{key:"_onRemuxerMediaSegmentArrival",value:function(b,E){if(this._pendingSeekTime==null&&(this._emitter.emit(S.default.MEDIA_SEGMENT,b,E),this._pendingResolveSeekPoint!=null&&b==="video")){var A=E.info.syncPoints,P=this._pendingResolveSeekPoint;this._pendingResolveSeekPoint=null,c.default.safari&&A.length>0&&A[0].originalDts===P&&(P=A[0].pts),this._emitter.emit(S.default.RECOMMEND_SEEKPOINT,P)}}},{key:"_enableStatisticsReporter",value:function(){this._statisticsReporter==null&&(this._statisticsReporter=self.setInterval(this._reportStatisticsInfo.bind(this),this._config.statisticsInfoReportInterval))}},{key:"_disableStatisticsReporter",value:function(){this._statisticsReporter&&(self.clearInterval(this._statisticsReporter),this._statisticsReporter=null)}},{key:"_reportSegmentMediaInfo",value:function(b){var E=this._mediaInfo.segments[b],A=Object.assign({},E);A.duration=this._mediaInfo.duration,A.segmentCount=this._mediaInfo.segmentCount,delete A.segments,delete A.keyframesIndex,this._emitter.emit(S.default.MEDIA_INFO,A)}},{key:"_reportStatisticsInfo",value:function(){var b={};b.url=this._ioctl.currentURL,b.hasRedirect=this._ioctl.hasRedirect,b.hasRedirect&&(b.redirectedURL=this._ioctl.currentRedirectedURL),b.speed=this._ioctl.currentSpeed,b.loaderType=this._ioctl.loaderType,b.currentSegmentIndex=this._currentSegmentIndex,b.totalSegmentCount=this._mediaDataSource.segments.length,this._emitter.emit(S.default.STATISTICS_INFO,b)}}]),C}());o.default=w},{"../demux/demux-errors.js":16,"../demux/flv-demuxer.js":18,"../io/io-controller.js":23,"../io/loader.js":24,"../remux/mp4-remuxer.js":38,"../utils/browser.js":39,"../utils/logger.js":41,"./media-info.js":7,"./transmuxing-events.js":13,events:2}],13:[function(x,V,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default={IO_ERROR:"io_error",DEMUX_ERROR:"demux_error",INIT_SEGMENT:"init_segment",MEDIA_SEGMENT:"media_segment",LOADING_COMPLETE:"loading_complete",RECOVERED_EARLY_EOF:"recovered_early_eof",MEDIA_INFO:"media_info",METADATA_ARRIVED:"metadata_arrived",SCRIPTDATA_ARRIVED:"scriptdata_arrived",STATISTICS_INFO:"statistics_info",RECOMMEND_SEEKPOINT:"recommend_seekpoint"}},{}],14:[function(x,V,o){"use strict";function d(l){return l&&l.__esModule?l:{default:l}}Object.defineProperty(o,"__esModule",{value:!0});var g=(d(x("../utils/logger.js")),x("../utils/logging-control.js")),v=d(g),u=d(x("../utils/polyfill.js")),c=d(x("./transmuxing-controller.js")),p=d(x("./transmuxing-events.js"));o.default=function(l){function _(K,Q){var ct={msg:p.default.INIT_SEGMENT,data:{type:K,data:Q}};l.postMessage(ct,[Q.data])}function T(K,Q){var ct={msg:p.default.MEDIA_SEGMENT,data:{type:K,data:Q}};l.postMessage(ct,[Q.data])}function k(){var K={msg:p.default.LOADING_COMPLETE};l.postMessage(K)}function S(){var K={msg:p.default.RECOVERED_EARLY_EOF};l.postMessage(K)}function w(K){var Q={msg:p.default.MEDIA_INFO,data:K};l.postMessage(Q)}function C(K){var Q={msg:p.default.METADATA_ARRIVED,data:K};l.postMessage(Q)}function b(K){var Q={msg:p.default.SCRIPTDATA_ARRIVED,data:K};l.postMessage(Q)}function E(K){var Q={msg:p.default.STATISTICS_INFO,data:K};l.postMessage(Q)}function A(K,Q){l.postMessage({msg:p.default.IO_ERROR,data:{type:K,info:Q}})}function P(K,Q){l.postMessage({msg:p.default.DEMUX_ERROR,data:{type:K,info:Q}})}function z(K){l.postMessage({msg:p.default.RECOMMEND_SEEKPOINT,data:K})}var B=null,H=function(K,Q){l.postMessage({msg:"logcat_callback",data:{type:K,logcat:Q}})}.bind(this);u.default.install(),l.addEventListener("message",function(K){switch(K.data.cmd){case"init":(B=new c.default(K.data.param[0],K.data.param[1])).on(p.default.IO_ERROR,A.bind(this)),B.on(p.default.DEMUX_ERROR,P.bind(this)),B.on(p.default.INIT_SEGMENT,_.bind(this)),B.on(p.default.MEDIA_SEGMENT,T.bind(this)),B.on(p.default.LOADING_COMPLETE,k.bind(this)),B.on(p.default.RECOVERED_EARLY_EOF,S.bind(this)),B.on(p.default.MEDIA_INFO,w.bind(this)),B.on(p.default.METADATA_ARRIVED,C.bind(this)),B.on(p.default.SCRIPTDATA_ARRIVED,b.bind(this)),B.on(p.default.STATISTICS_INFO,E.bind(this)),B.on(p.default.RECOMMEND_SEEKPOINT,z.bind(this));break;case"destroy":B&&(B.destroy(),B=null),l.postMessage({msg:"destroyed"});break;case"start":B.start();break;case"stop":B.stop();break;case"seek":B.seek(K.data.param);break;case"pause":B.pause();break;case"resume":B.resume();break;case"logging_config":var Q=K.data.param;v.default.applyConfig(Q),Q.enableCallback===!0?v.default.addLogListener(H):v.default.removeLogListener(H)}})}},{"../utils/logger.js":41,"../utils/logging-control.js":42,"../utils/polyfill.js":43,"./transmuxing-controller.js":12,"./transmuxing-events.js":13}],15:[function(x,V,o){"use strict";function d(_){return _&&_.__esModule?_:{default:_}}Object.defineProperty(o,"__esModule",{value:!0});var g=function(){function _(T,k){for(var S=0;S<k.length;S++){var w=k[S];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(T,w.key,w)}}return function(T,k,S){return k&&_(T.prototype,k),S&&_(T,S),T}}(),v=d(x("../utils/logger.js")),u=d(x("../utils/utf8-conv.js")),c=x("../utils/exception.js"),p=function(){var _=new ArrayBuffer(2);return new DataView(_).setInt16(0,256,!0),new Int16Array(_)[0]===256}(),l=function(){function _(){(function(T,k){if(!(T instanceof k))throw new TypeError("Cannot call a class as a function")})(this,_)}return g(_,null,[{key:"parseScriptData",value:function(T,k,S){var w={};try{var C=_.parseValue(T,k,S),b=_.parseValue(T,k+C.size,S-C.size);w[C.data]=b.data}catch(E){}return w}},{key:"parseObject",value:function(T,k,S){if(S<3)throw new c.IllegalStateException("Data not enough when parse ScriptDataObject");var w=_.parseString(T,k,S),C=_.parseValue(T,k+w.size,S-w.size),b=C.objectEnd;return{data:{name:w.data,value:C.data},size:w.size+C.size,objectEnd:b}}},{key:"parseVariable",value:function(T,k,S){return _.parseObject(T,k,S)}},{key:"parseString",value:function(T,k,S){if(S<2)throw new c.IllegalStateException("Data not enough when parse String");var w=new DataView(T,k,S).getUint16(0,!p);return{data:w>0?(0,u.default)(new Uint8Array(T,k+2,w)):"",size:2+w}}},{key:"parseLongString",value:function(T,k,S){if(S<4)throw new c.IllegalStateException("Data not enough when parse LongString");var w=new DataView(T,k,S).getUint32(0,!p);return{data:w>0?(0,u.default)(new Uint8Array(T,k+4,w)):"",size:4+w}}},{key:"parseDate",value:function(T,k,S){if(S<10)throw new c.IllegalStateException("Data size invalid when parse Date");var w=new DataView(T,k,S),C=w.getFloat64(0,!p);return C+=60*w.getInt16(8,!p)*1e3,{data:new Date(C),size:10}}},{key:"parseValue",value:function(T,k,S){if(S<1)throw new c.IllegalStateException("Data not enough when parse Value");var w=new DataView(T,k,S),C=1,b=w.getUint8(0),E=void 0,A=!1;try{switch(b){case 0:E=w.getFloat64(1,!p),C+=8;break;case 1:E=!!w.getUint8(1),C+=1;break;case 2:var P=_.parseString(T,k+1,S-1);E=P.data,C+=P.size;break;case 3:E={};var z=0;for((16777215&w.getUint32(S-4,!p))==9&&(z=3);C<S-4;){var B=_.parseObject(T,k+C,S-C-z);if(B.objectEnd)break;E[B.data.name]=B.data.value,C+=B.size}C<=S-3&&(16777215&w.getUint32(C-1,!p))==9&&(C+=3);break;case 8:E={},C+=4;var H=0;for((16777215&w.getUint32(S-4,!p))==9&&(H=3);C<S-8;){var K=_.parseVariable(T,k+C,S-C-H);if(K.objectEnd)break;E[K.data.name]=K.data.value,C+=K.size}C<=S-3&&(16777215&w.getUint32(C-1,!p))==9&&(C+=3);break;case 9:E=void 0,C=1,A=!0;break;case 10:E=[];var Q=w.getUint32(1,!p);C+=4;for(var ct=0;ct<Q;ct++){var mt=_.parseValue(T,k+C,S-C);E.push(mt.data),C+=mt.size}break;case 11:var It=_.parseDate(T,k+1,S-1);E=It.data,C+=It.size;break;case 12:var Dt=_.parseString(T,k+1,S-1);E=Dt.data,C+=Dt.size;break;default:C=S,v.default.w("AMF","Unsupported AMF value type "+b)}}catch(Wt){v.default.e("AMF",Wt.toString())}return{data:E,size:C,objectEnd:A}}}]),_}();o.default=l},{"../utils/exception.js":40,"../utils/logger.js":41,"../utils/utf8-conv.js":44}],16:[function(x,V,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default={OK:"OK",FORMAT_ERROR:"FormatError",FORMAT_UNSUPPORTED:"FormatUnsupported",CODEC_UNSUPPORTED:"CodecUnsupported"}},{}],17:[function(x,V,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var d=function(){function u(c,p){for(var l=0;l<p.length;l++){var _=p[l];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(c,_.key,_)}}return function(c,p,l){return p&&u(c.prototype,p),l&&u(c,l),c}}(),g=x("../utils/exception.js"),v=function(){function u(c){(function(p,l){if(!(p instanceof l))throw new TypeError("Cannot call a class as a function")})(this,u),this.TAG="ExpGolomb",this._buffer=c,this._buffer_index=0,this._total_bytes=c.byteLength,this._total_bits=8*c.byteLength,this._current_word=0,this._current_word_bits_left=0}return d(u,[{key:"destroy",value:function(){this._buffer=null}},{key:"_fillCurrentWord",value:function(){var c=this._total_bytes-this._buffer_index;if(c<=0)throw new g.IllegalStateException("ExpGolomb: _fillCurrentWord() but no bytes available");var p=Math.min(4,c),l=new Uint8Array(4);l.set(this._buffer.subarray(this._buffer_index,this._buffer_index+p)),this._current_word=new DataView(l.buffer).getUint32(0,!1),this._buffer_index+=p,this._current_word_bits_left=8*p}},{key:"readBits",value:function(c){if(c>32)throw new g.InvalidArgumentException("ExpGolomb: readBits() bits exceeded max 32bits!");if(c<=this._current_word_bits_left){var p=this._current_word>>>32-c;return this._current_word<<=c,this._current_word_bits_left-=c,p}var l=this._current_word_bits_left?this._current_word:0;l>>>=32-this._current_word_bits_left;var _=c-this._current_word_bits_left;this._fillCurrentWord();var T=Math.min(_,this._current_word_bits_left),k=this._current_word>>>32-T;return this._current_word<<=T,this._current_word_bits_left-=T,l<<T|k}},{key:"readBool",value:function(){return this.readBits(1)===1}},{key:"readByte",value:function(){return this.readBits(8)}},{key:"_skipLeadingZero",value:function(){var c=void 0;for(c=0;c<this._current_word_bits_left;c++)if((this._current_word&2147483648>>>c)!=0)return this._current_word<<=c,this._current_word_bits_left-=c,c;return this._fillCurrentWord(),c+this._skipLeadingZero()}},{key:"readUEG",value:function(){var c=this._skipLeadingZero();return this.readBits(c+1)-1}},{key:"readSEG",value:function(){var c=this.readUEG();return 1&c?c+1>>>1:-1*(c>>>1)}}]),u}();o.default=v},{"../utils/exception.js":40}],18:[function(x,V,o){"use strict";function d(w){return w&&w.__esModule?w:{default:w}}Object.defineProperty(o,"__esModule",{value:!0});var g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},v=function(){function w(C,b){for(var E=0;E<b.length;E++){var A=b[E];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(C,A.key,A)}}return function(C,b,E){return b&&w(C.prototype,b),E&&w(C,E),C}}(),u=d(x("../utils/logger.js")),c=d(x("./amf-parser.js")),p=d(x("./sps-parser.js")),l=d(x("./hevc-sps-parser.js")),_=d(x("./demux-errors.js")),T=d(x("../core/media-info.js")),k=x("../utils/exception.js"),S=function(){function w(C,b){(function(E,A){if(!(E instanceof A))throw new TypeError("Cannot call a class as a function")})(this,w),this.TAG="FLVDemuxer",this._config=b,this._onError=null,this._onMediaInfo=null,this._onMetaDataArrived=null,this._onScriptDataArrived=null,this._onTrackMetadata=null,this._onDataAvailable=null,this._dataOffset=C.dataOffset,this._firstParse=!0,this._dispatch=!1,this._hasAudio=C.hasAudioTrack,this._hasVideo=C.hasVideoTrack,this._hasAudioFlagOverrided=!1,this._hasVideoFlagOverrided=!1,this._audioInitialMetadataDispatched=!1,this._videoInitialMetadataDispatched=!1,this._mediaInfo=new T.default,this._mediaInfo.hasAudio=this._hasAudio,this._mediaInfo.hasVideo=this._hasVideo,this._metadata=null,this._audioMetadata=null,this._videoMetadata=null,this._naluLengthSize=4,this._timestampBase=0,this._timescale=1e3,this._duration=0,this._durationOverrided=!1,this._referenceFrameRate={fixed:!0,fps:23.976,fps_num:23976,fps_den:1e3},this._flvSoundRateTable=[5500,11025,22050,44100,48e3],this._mpegSamplingRates=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],this._mpegAudioV10SampleRateTable=[44100,48e3,32e3,0],this._mpegAudioV20SampleRateTable=[22050,24e3,16e3,0],this._mpegAudioV25SampleRateTable=[11025,12e3,8e3,0],this._mpegAudioL1BitRateTable=[0,32,64,96,128,160,192,224,256,288,320,352,384,416,448,-1],this._mpegAudioL2BitRateTable=[0,32,48,56,64,80,96,112,128,160,192,224,256,320,384,-1],this._mpegAudioL3BitRateTable=[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320,-1],this._videoTrack={type:"video",id:1,sequenceNumber:0,samples:[],length:0},this._audioTrack={type:"audio",id:2,sequenceNumber:0,samples:[],length:0},this._littleEndian=function(){var E=new ArrayBuffer(2);return new DataView(E).setInt16(0,256,!0),new Int16Array(E)[0]===256}()}return v(w,[{key:"destroy",value:function(){this._mediaInfo=null,this._metadata=null,this._audioMetadata=null,this._videoMetadata=null,this._videoTrack=null,this._audioTrack=null,this._onError=null,this._onMediaInfo=null,this._onMetaDataArrived=null,this._onScriptDataArrived=null,this._onTrackMetadata=null,this._onDataAvailable=null}},{key:"bindDataSource",value:function(C){return C.onDataArrival=this.parseChunks.bind(this),this}},{key:"resetMediaInfo",value:function(){this._mediaInfo=new T.default}},{key:"_isInitialMetadataDispatched",value:function(){return this._hasAudio&&this._hasVideo?this._audioInitialMetadataDispatched&&this._videoInitialMetadataDispatched:this._hasAudio&&!this._hasVideo?this._audioInitialMetadataDispatched:!(this._hasAudio||!this._hasVideo)&&this._videoInitialMetadataDispatched}},{key:"parseChunks",value:function(C,b){if(!(this._onError&&this._onMediaInfo&&this._onTrackMetadata&&this._onDataAvailable))throw new k.IllegalStateException("Flv: onError & onMediaInfo & onTrackMetadata & onDataAvailable callback must be specified");var E=0,A=this._littleEndian;if(b===0){if(!(C.byteLength>13))return 0;E=w.probe(C).dataOffset}for(this._firstParse&&(this._firstParse=!1,b+E!==this._dataOffset&&u.default.w(this.TAG,"First time parsing but chunk byteStart invalid!"),new DataView(C,E).getUint32(0,!A)!==0&&u.default.w(this.TAG,"PrevTagSize0 !== 0 !!!"),E+=4);E<C.byteLength;){this._dispatch=!0;var P=new DataView(C,E);if(E+11+4>C.byteLength)break;var z=P.getUint8(0),B=16777215&P.getUint32(0,!A);if(E+11+B+4>C.byteLength)break;if(z===8||z===9||z===18){var H=P.getUint8(4),K=P.getUint8(5),Q=P.getUint8(6)|K<<8|H<<16|P.getUint8(7)<<24;(16777215&P.getUint32(7,!A))!=0&&u.default.w(this.TAG,"Meet tag which has StreamID != 0!");var ct=E+11;switch(z){case 8:this._parseAudioData(C,ct,B,Q);break;case 9:this._parseVideoData(C,ct,B,Q,b+E);break;case 18:this._parseScriptData(C,ct,B)}var mt=P.getUint32(11+B,!A);mt!==11+B&&u.default.w(this.TAG,"Invalid PrevTagSize "+mt),E+=11+B+4}else u.default.w(this.TAG,"Unsupported tag type "+z+", skipped"),E+=11+B+4}return this._isInitialMetadataDispatched()&&this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack),E}},{key:"_parseScriptData",value:function(C,b,E){var A=c.default.parseScriptData(C,b,E);if(A.hasOwnProperty("onMetaData")){if(A.onMetaData==null||g(A.onMetaData)!=="object")return void u.default.w(this.TAG,"Invalid onMetaData structure!");this._metadata&&u.default.w(this.TAG,"Found another onMetaData tag!"),this._metadata=A;var P=this._metadata.onMetaData;if(this._onMetaDataArrived&&this._onMetaDataArrived(Object.assign({},P)),typeof P.hasAudio=="boolean"&&this._hasAudioFlagOverrided===!1&&(this._hasAudio=P.hasAudio,this._mediaInfo.hasAudio=this._hasAudio),typeof P.hasVideo=="boolean"&&this._hasVideoFlagOverrided===!1&&(this._hasVideo=P.hasVideo,this._mediaInfo.hasVideo=this._hasVideo),typeof P.audiodatarate=="number"&&(this._mediaInfo.audioDataRate=P.audiodatarate),typeof P.videodatarate=="number"&&(this._mediaInfo.videoDataRate=P.videodatarate),typeof P.width=="number"&&(this._mediaInfo.width=P.width),typeof P.height=="number"&&(this._mediaInfo.height=P.height),typeof P.duration=="number"){if(!this._durationOverrided){var z=Math.floor(P.duration*this._timescale);this._duration=z,this._mediaInfo.duration=z}}else this._mediaInfo.duration=0;if(typeof P.framerate=="number"){var B=Math.floor(1e3*P.framerate);if(B>0){var H=B/1e3;this._referenceFrameRate.fixed=!0,this._referenceFrameRate.fps=H,this._referenceFrameRate.fps_num=B,this._referenceFrameRate.fps_den=1e3,this._mediaInfo.fps=H}}if(g(P.keyframes)==="object"){this._mediaInfo.hasKeyframesIndex=!0;var K=P.keyframes;this._mediaInfo.keyframesIndex=this._parseKeyframesIndex(K),P.keyframes=null}else this._mediaInfo.hasKeyframesIndex=!1;this._dispatch=!1,this._mediaInfo.metadata=P,u.default.v(this.TAG,"Parsed onMetaData"),this._mediaInfo.isComplete()&&this._onMediaInfo(this._mediaInfo)}Object.keys(A).length>0&&this._onScriptDataArrived&&this._onScriptDataArrived(Object.assign({},A))}},{key:"_parseKeyframesIndex",value:function(C){for(var b=[],E=[],A=1;A<C.times.length;A++){var P=this._timestampBase+Math.floor(1e3*C.times[A]);b.push(P),E.push(C.filepositions[A])}return{times:b,filepositions:E}}},{key:"_parseAudioData",value:function(C,b,E,A){if(E<=1)u.default.w(this.TAG,"Flv: Invalid audio packet, missing SoundData payload!");else if(this._hasAudioFlagOverrided!==!0||this._hasAudio!==!1){var P=(this._littleEndian,new DataView(C,b,E)).getUint8(0),z=P>>>4;if(z!==2&&z!==10)return void this._onError(_.default.CODEC_UNSUPPORTED,"Flv: Unsupported audio codec idx: "+z);var B,H=(12&P)>>>2;if(!(H>=0&&H<=4))return void this._onError(_.default.FORMAT_ERROR,"Flv: Invalid audio sample rate idx: "+H);B=this._flvSoundRateTable[H];var K=1&P,Q=this._audioMetadata,ct=this._audioTrack;if(Q||(this._hasAudio===!1&&this._hasAudioFlagOverrided===!1&&(this._hasAudio=!0,this._mediaInfo.hasAudio=!0),(Q=this._audioMetadata={}).type="audio",Q.id=ct.id,Q.timescale=this._timescale,Q.duration=this._duration,Q.audioSampleRate=B,Q.channelCount=K===0?1:2),z===10){var mt=this._parseAACAudioData(C,b+1,E-1);if(mt==null)return;if(mt.packetType===0){if(Q.config)return void u.default.w(this.TAG,"Found another AudioSpecificConfig!");var It=mt.data;Q.audioSampleRate=It.samplingRate,Q.channelCount=It.channelCount,Q.codec=It.codec,Q.originalCodec=It.originalCodec,Q.config=It.config,Q.refSampleDuration=1024/Q.audioSampleRate*Q.timescale,u.default.v(this.TAG,"Parsed AudioSpecificConfig"),this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack):this._audioInitialMetadataDispatched=!0,this._dispatch=!1,this._onTrackMetadata("audio",Q);var Dt=this._mediaInfo;Dt.audioCodec=Q.originalCodec,Dt.audioSampleRate=Q.audioSampleRate,Dt.audioChannelCount=Q.channelCount,Dt.hasVideo?Dt.videoCodec!=null&&(Dt.mimeType='video/x-flv; codecs="'+Dt.videoCodec+","+Dt.audioCodec+'"'):Dt.mimeType='video/x-flv; codecs="'+Dt.audioCodec+'"',Dt.isComplete()&&this._onMediaInfo(Dt)}else if(mt.packetType===1){var Wt=this._timestampBase+A,Zt={unit:mt.data,length:mt.data.byteLength,dts:Wt,pts:Wt};ct.samples.push(Zt),ct.length+=mt.data.length}else u.default.e(this.TAG,"Flv: Unsupported AAC data type "+mt.packetType)}else if(z===2){if(!Q.codec){var Rt=this._parseMP3AudioData(C,b+1,E-1,!0);if(Rt==null)return;Q.audioSampleRate=Rt.samplingRate,Q.channelCount=Rt.channelCount,Q.codec=Rt.codec,Q.originalCodec=Rt.originalCodec,Q.refSampleDuration=1152/Q.audioSampleRate*Q.timescale,u.default.v(this.TAG,"Parsed MPEG Audio Frame Header"),this._audioInitialMetadataDispatched=!0,this._onTrackMetadata("audio",Q);var qt=this._mediaInfo;qt.audioCodec=Q.codec,qt.audioSampleRate=Q.audioSampleRate,qt.audioChannelCount=Q.channelCount,qt.audioDataRate=Rt.bitRate,qt.hasVideo?qt.videoCodec!=null&&(qt.mimeType='video/x-flv; codecs="'+qt.videoCodec+","+qt.audioCodec+'"'):qt.mimeType='video/x-flv; codecs="'+qt.audioCodec+'"',qt.isComplete()&&this._onMediaInfo(qt)}var ae=this._parseMP3AudioData(C,b+1,E-1,!1);if(ae==null)return;var Ut=this._timestampBase+A,U={unit:ae,length:ae.byteLength,dts:Ut,pts:Ut};ct.samples.push(U),ct.length+=ae.length}}}},{key:"_parseAACAudioData",value:function(C,b,E){if(!(E<=1)){var A={},P=new Uint8Array(C,b,E);return A.packetType=P[0],P[0]===0?A.data=this._parseAACAudioSpecificConfig(C,b+1,E-1):A.data=P.subarray(1),A}u.default.w(this.TAG,"Flv: Invalid AAC packet, missing AACPacketType or/and Data!")}},{key:"_parseAACAudioSpecificConfig",value:function(C,b,E){var A,P,z=new Uint8Array(C,b,E),B=null,H=0,K=null;if(H=A=z[0]>>>3,(P=(7&z[0])<<1|z[1]>>>7)<0||P>=this._mpegSamplingRates.length)this._onError(_.default.FORMAT_ERROR,"Flv: AAC invalid sampling frequency index!");else{var Q=this._mpegSamplingRates[P],ct=(120&z[1])>>>3;if(!(ct<0||ct>=8)){H===5&&(K=(7&z[1])<<1|z[2]>>>7,z[2]);var mt=self.navigator.userAgent.toLowerCase();return mt.indexOf("firefox")!==-1?P>=6?(H=5,B=new Array(4),K=P-3):(H=2,B=new Array(2),K=P):mt.indexOf("android")!==-1?(H=2,B=new Array(2),K=P):(H=5,K=P,B=new Array(4),P>=6?K=P-3:ct===1&&(H=2,B=new Array(2),K=P)),B[0]=H<<3,B[0]|=(15&P)>>>1,B[1]=(15&P)<<7,B[1]|=(15&ct)<<3,H===5&&(B[1]|=(15&K)>>>1,B[2]=(1&K)<<7,B[2]|=8,B[3]=0),{config:B,samplingRate:Q,channelCount:ct,codec:"mp4a.40."+H,originalCodec:"mp4a.40."+A}}this._onError(_.default.FORMAT_ERROR,"Flv: AAC invalid channel configuration")}}},{key:"_parseMP3AudioData",value:function(C,b,E,A){if(!(E<4)){var P=(this._littleEndian,new Uint8Array(C,b,E)),z=null;if(A){if(P[0]!==255)return;var B=P[1]>>>3&3,H=(6&P[1])>>1,K=(240&P[2])>>>4,Q=(12&P[2])>>>2,ct=(P[3]>>>6&3)!=3?2:1,mt=0,It=0;switch(B){case 0:mt=this._mpegAudioV25SampleRateTable[Q];break;case 2:mt=this._mpegAudioV20SampleRateTable[Q];break;case 3:mt=this._mpegAudioV10SampleRateTable[Q]}switch(H){case 1:K<this._mpegAudioL3BitRateTable.length&&(It=this._mpegAudioL3BitRateTable[K]);break;case 2:K<this._mpegAudioL2BitRateTable.length&&(It=this._mpegAudioL2BitRateTable[K]);break;case 3:K<this._mpegAudioL1BitRateTable.length&&(It=this._mpegAudioL1BitRateTable[K])}z={bitRate:It,samplingRate:mt,channelCount:ct,codec:"mp3",originalCodec:"mp3"}}else z=P;return z}u.default.w(this.TAG,"Flv: Invalid MP3 packet, header missing!")}},{key:"_parseVideoData",value:function(C,b,E,A,P){if(E<=1)u.default.w(this.TAG,"Flv: Invalid video packet, missing VideoData payload!");else if(this._hasVideoFlagOverrided!==!0||this._hasVideo!==!1){var z=new Uint8Array(C,b,E)[0],B=(240&z)>>>4,H=15&z;if(H!==7&&H!==12)return void this._onError(_.default.CODEC_UNSUPPORTED,"Flv: Unsupported codec in video frame: "+H);H===7?this._parseAVCVideoPacket(C,b+1,E-1,A,P,B):H===12&&this._parseHVCVideoPacket(C,b+1,E-1,A,P,B)}}},{key:"_parseAVCVideoPacket",value:function(C,b,E,A,P,z){if(E<4)u.default.w(this.TAG,"Flv: Invalid AVC packet, missing AVCPacketType or/and CompositionTime");else{var B=this._littleEndian,H=new DataView(C,b,E),K=H.getUint8(0),Q=(16777215&H.getUint32(0,!B))<<8>>8;if(K===0)this._parseAVCDecoderConfigurationRecord(C,b+4,E-4);else if(K===1)this._parseAVCVideoData(C,b+4,E-4,A,P,z,Q);else if(K!==2)return void this._onError(_.default.FORMAT_ERROR,"Flv: Invalid video packet type "+K)}}},{key:"_parseAVCDecoderConfigurationRecord",value:function(C,b,E){if(E<7)u.default.w(this.TAG,"Flv: Invalid AVCDecoderConfigurationRecord, lack of data!");else{var A=this._videoMetadata,P=this._videoTrack,z=this._littleEndian,B=new DataView(C,b,E);if(A){if(A.avcc!==void 0)return void u.default.w(this.TAG,"Found another AVCDecoderConfigurationRecord!")}else this._hasVideo===!1&&this._hasVideoFlagOverrided===!1&&(this._hasVideo=!0,this._mediaInfo.hasVideo=!0),(A=this._videoMetadata={}).type="video",A.id=P.id,A.timescale=this._timescale,A.duration=this._duration;var H=B.getUint8(0),K=B.getUint8(1);if(B.getUint8(2),B.getUint8(3),H===1&&K!==0)if(this._naluLengthSize=1+(3&B.getUint8(4)),this._naluLengthSize===3||this._naluLengthSize===4){var Q=31&B.getUint8(5);if(Q!==0){Q>1&&u.default.w(this.TAG,"Flv: Strange AVCDecoderConfigurationRecord: SPS Count = "+Q);for(var ct=6,mt=0;mt<Q;mt++){var It=B.getUint16(ct,!z);if(ct+=2,It!==0){var Dt=new Uint8Array(C,b+ct,It);ct+=It;var Wt=p.default.parseSPS(Dt);if(mt===0){A.codecWidth=Wt.codec_size.width,A.codecHeight=Wt.codec_size.height,A.presentWidth=Wt.present_size.width,A.presentHeight=Wt.present_size.height,A.profile=Wt.profile_string,A.level=Wt.level_string,A.bitDepth=Wt.bit_depth,A.chromaFormat=Wt.chroma_format,A.sarRatio=Wt.sar_ratio,A.frameRate=Wt.frame_rate,Wt.frame_rate.fixed!==!1&&Wt.frame_rate.fps_num!==0&&Wt.frame_rate.fps_den!==0||(A.frameRate=this._referenceFrameRate);var Zt=A.frameRate.fps_den,Rt=A.frameRate.fps_num;A.refSampleDuration=A.timescale*(Zt/Rt);for(var qt=Dt.subarray(1,4),ae="avc1.",Ut=0;Ut<3;Ut++){var U=qt[Ut].toString(16);U.length<2&&(U="0"+U),ae+=U}A.codec=ae;var ot=this._mediaInfo;ot.width=A.codecWidth,ot.height=A.codecHeight,ot.fps=A.frameRate.fps,ot.profile=A.profile,ot.level=A.level,ot.refFrames=Wt.ref_frames,ot.chromaFormat=Wt.chroma_format_string,ot.sarNum=A.sarRatio.width,ot.sarDen=A.sarRatio.height,ot.videoCodec=ae,ot.hasAudio?ot.audioCodec!=null&&(ot.mimeType='video/x-flv; codecs="'+ot.videoCodec+","+ot.audioCodec+'"'):ot.mimeType='video/x-flv; codecs="'+ot.videoCodec+'"',ot.isComplete()&&this._onMediaInfo(ot)}}}var lt=B.getUint8(ct);if(lt!==0){lt>1&&u.default.w(this.TAG,"Flv: Strange AVCDecoderConfigurationRecord: PPS Count = "+lt),ct++;for(var gt=0;gt<lt;gt++){var Lt=B.getUint16(ct,!z);ct+=2,Lt!==0&&(ct+=Lt)}A.avcc=new Uint8Array(E),A.avcc.set(new Uint8Array(C,b,E),0),u.default.v(this.TAG,"Parsed AVCDecoderConfigurationRecord"),this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack):this._videoInitialMetadataDispatched=!0,this._dispatch=!1,this._onTrackMetadata("video",A)}else this._onError(_.default.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord: No PPS")}else this._onError(_.default.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord: No SPS")}else this._onError(_.default.FORMAT_ERROR,"Flv: Strange NaluLengthSizeMinusOne: "+(this._naluLengthSize-1));else this._onError(_.default.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord")}}},{key:"_parseAVCVideoData",value:function(C,b,E,A,P,z,B){for(var H=this._littleEndian,K=new DataView(C,b,E),Q=[],ct=0,mt=0,It=this._naluLengthSize,Dt=this._timestampBase+A,Wt=z===1;mt<E;){if(mt+4>=E){u.default.w(this.TAG,"Malformed Nalu near timestamp "+Dt+", offset = "+mt+", dataSize = "+E);break}var Zt=K.getUint32(mt,!H);if(It===3&&(Zt>>>=8),Zt>E-It)return void u.default.w(this.TAG,"Malformed Nalus near timestamp "+Dt+", NaluSize > DataSize!");var Rt=31&K.getUint8(mt+It);Rt===5&&(Wt=!0);var qt=new Uint8Array(C,b+mt,It+Zt),ae={type:Rt,data:qt};Q.push(ae),ct+=qt.byteLength,mt+=It+Zt}if(Q.length){var Ut=this._videoTrack,U={units:Q,length:ct,isKeyframe:Wt,dts:Dt,cts:B,pts:Dt+B};Wt&&(U.fileposition=P),Ut.samples.push(U),Ut.length+=ct}}},{key:"_parseHVCVideoPacket",value:function(C,b,E,A,P,z){if(E<4)u.default.w(this.TAG,"Flv: Invalid HVC packet, missing HVCPacketType or/and CompositionTime");else{var B=this._littleEndian,H=new DataView(C,b,E),K=H.getUint8(0),Q=(16777215&H.getUint32(0,!B))<<8>>8;if(K===0)this._parseHVCDecoderConfigurationRecord(C,b+4,E-4);else if(K===1)this._parseHVCVideoData(C,b+4,E-4,A,P,z,Q);else if(K!==2)return void this._onError(_.default.FORMAT_ERROR,"Flv: Invalid video packet type "+K)}}},{key:"_parseHVCDecoderConfigurationRecord",value:function(C,b,E){if(E<23)u.default.w(this.TAG,"Flv: Invalid HVCDecoderConfigurationRecord, lack of data!");else{var A=this._videoMetadata,P=this._videoTrack,z=this._littleEndian,B=new DataView(C,b,E);if(A){if(A.avcc!==void 0)return void u.default.w(this.TAG,"Found another HVCDecoderConfigurationRecord!")}else this._hasVideo===!1&&this._hasVideoFlagOverrided===!1&&(this._hasVideo=!0,this._mediaInfo.hasVideo=!0),(A=this._videoMetadata={}).type="video",A.id=P.id,A.timescale=this._timescale,A.duration=this._duration;if(B.getUint8(0)===1)if(this._naluLengthSize=1+(3&B.getUint8(21)),this._naluLengthSize===3||this._naluLengthSize===4){for(var H,K,Q,ct=B.getUint8(22),mt=23,It=[],Dt=0;Dt<ct;Dt++){var Wt=63&B.getUint8(mt++),Zt=B.getUint16(mt,!z);if(mt+=2,Zt!==0){switch(Wt){case 32:H+=Zt;break;case 33:K+=Zt;break;case 34:Q+=Zt}for(var Rt=0;Rt<Zt;Rt++){var qt=B.getUint16(mt,!z);if(mt+=2,qt!==0){if(Wt===33){var ae=new Uint8Array(C,b+mt,qt);It.push(ae)}mt+=qt}}}}if(H!==0)if(H>1&&u.default.w(this.TAG,"Flv: Strange HVCDecoderConfigurationRecord: VPS Count = "+H),K!==0)if(K>1&&u.default.w(this.TAG,"Flv: Strange HVCDecoderConfigurationRecord: SPS Count = "+K),Q!==0){Q>1&&u.default.w(this.TAG,"Flv: Strange HVCDecoderConfigurationRecord: PPS Count = "+K),ae=It[0];var Ut=l.default.parseSPS(ae);A.codecWidth=Ut.codec_size.width,A.codecHeight=Ut.codec_size.height,A.presentWidth=Ut.present_size.width,A.presentHeight=Ut.present_size.height,A.profile=Ut.profile_string,A.level=Ut.level_string,A.profile_idc=Ut.profile_idc,A.level_idc=Ut.level_idc,A.bitDepth=Ut.bit_depth,A.chromaFormat=Ut.chroma_format,A.sarRatio=Ut.sar_ratio,A.frameRate=Ut.frame_rate,Ut.frame_rate.fixed!==!1&&Ut.frame_rate.fps_num!==0&&Ut.frame_rate.fps_den!==0||(A.frameRate=this._referenceFrameRate);var U=A.frameRate.fps_den,ot=A.frameRate.fps_num;A.refSampleDuration=A.timescale*(U/ot);var lt="hvc1."+A.profile_idc+".1.L"+A.level_idc+".B0";A.codec=lt;var gt=this._mediaInfo;gt.width=A.codecWidth,gt.height=A.codecHeight,gt.fps=A.frameRate.fps,gt.profile=A.profile,gt.level=A.level,gt.refFrames=Ut.ref_frames,gt.chromaFormat=Ut.chroma_format_string,gt.sarNum=A.sarRatio.width,gt.sarDen=A.sarRatio.height,gt.videoCodec=lt,gt.hasAudio?gt.audioCodec!=null&&(gt.mimeType='video/x-flv; codecs="'+gt.videoCodec+","+gt.audioCodec+'"'):gt.mimeType='video/x-flv; codecs="'+gt.videoCodec+'"',gt.isComplete()&&this._onMediaInfo(gt),A.avcc=new Uint8Array(E),A.avcc.set(new Uint8Array(C,b,E),0),u.default.v(this.TAG,"Parsed HVCDecoderConfigurationRecord"),this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack):this._videoInitialMetadataDispatched=!0,this._dispatch=!1,this._onTrackMetadata("video",A)}else this._onError(_.default.FORMAT_ERROR,"Flv: Invalid HVCDecoderConfigurationRecord: No PPS");else this._onError(_.default.FORMAT_ERROR,"Flv: Invalid HVCDecoderConfigurationRecord: No SPS");else this._onError(_.default.FORMAT_ERROR,"Flv: Invalid HVCDecoderConfigurationRecord: No VPS")}else this._onError(_.default.FORMAT_ERROR,"Flv: Strange NaluLengthSizeMinusOne: "+(this._naluLengthSize-1));else this._onError(_.default.FORMAT_ERROR,"Flv: Invalid HVCDecoderConfigurationRecord")}}},{key:"_parseHVCVideoData",value:function(C,b,E,A,P,z,B){for(var H=this._littleEndian,K=new DataView(C,b,E),Q=[],ct=0,mt=0,It=this._naluLengthSize,Dt=this._timestampBase+A,Wt=z===1;mt<E;){if(mt+4>=E){u.default.w(this.TAG,"Malformed Nalu near timestamp "+Dt+", offset = "+mt+", dataSize = "+E);break}var Zt=K.getUint32(mt,!H);if(It===3&&(Zt>>>=8),Zt>E-It)return void u.default.w(this.TAG,"Malformed Nalus near timestamp "+Dt+", NaluSize > DataSize!");var Rt=K.getUint8(mt+It)>>1&63;Rt>=16&&Rt<=23&&(Wt=!0);var qt=new Uint8Array(C,b+mt,It+Zt),ae={type:Rt,data:qt};Q.push(ae),ct+=qt.byteLength,mt+=It+Zt}if(Q.length){var Ut=this._videoTrack,U={units:Q,length:ct,isKeyframe:Wt,dts:Dt,cts:B,pts:Dt+B};Wt&&(U.fileposition=P),Ut.samples.push(U),Ut.length+=ct}}},{key:"onTrackMetadata",get:function(){return this._onTrackMetadata},set:function(C){this._onTrackMetadata=C}},{key:"onMediaInfo",get:function(){return this._onMediaInfo},set:function(C){this._onMediaInfo=C}},{key:"onMetaDataArrived",get:function(){return this._onMetaDataArrived},set:function(C){this._onMetaDataArrived=C}},{key:"onScriptDataArrived",get:function(){return this._onScriptDataArrived},set:function(C){this._onScriptDataArrived=C}},{key:"onError",get:function(){return this._onError},set:function(C){this._onError=C}},{key:"onDataAvailable",get:function(){return this._onDataAvailable},set:function(C){this._onDataAvailable=C}},{key:"timestampBase",get:function(){return this._timestampBase},set:function(C){this._timestampBase=C}},{key:"overridedDuration",get:function(){return this._duration},set:function(C){this._durationOverrided=!0,this._duration=C,this._mediaInfo.duration=C}},{key:"overridedHasAudio",set:function(C){this._hasAudioFlagOverrided=!0,this._hasAudio=C,this._mediaInfo.hasAudio=C}},{key:"overridedHasVideo",set:function(C){this._hasVideoFlagOverrided=!0,this._hasVideo=C,this._mediaInfo.hasVideo=C}}],[{key:"probe",value:function(C){var b=new Uint8Array(C),E={match:!1};if(b[0]!==70||b[1]!==76||b[2]!==86||b[3]!==1)return E;var A=(4&b[4])>>>2!=0,P=(1&b[4])!=0,z=function(B,H){return B[H]<<24|B[H+1]<<16|B[H+2]<<8|B[H+3]}(b,5);return z<9?E:{match:!0,consumed:z,dataOffset:z,hasAudioTrack:A,hasVideoTrack:P}}}]),w}();o.default=S},{"../core/media-info.js":7,"../utils/exception.js":40,"../utils/logger.js":41,"./amf-parser.js":15,"./demux-errors.js":16,"./sps-parser.js":19,"./hevc-sps-parser.js":45}],19:[function(x,V,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var d=function(){function u(c,p){for(var l=0;l<p.length;l++){var _=p[l];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(c,_.key,_)}}return function(c,p,l){return p&&u(c.prototype,p),l&&u(c,l),c}}(),g=function(u){return u&&u.__esModule?u:{default:u}}(x("./exp-golomb.js")),v=function(){function u(){(function(c,p){if(!(c instanceof p))throw new TypeError("Cannot call a class as a function")})(this,u)}return d(u,null,[{key:"_ebsp2rbsp",value:function(c){for(var p=c,l=p.byteLength,_=new Uint8Array(l),T=0,k=0;k<l;k++)k>=2&&p[k]===3&&p[k-1]===0&&p[k-2]===0||(_[T]=p[k],T++);return new Uint8Array(_.buffer,0,T)}},{key:"parseSPS",value:function(c){var p=u._ebsp2rbsp(c),l=new g.default(p);l.readByte();var _=l.readByte();l.readByte();var T=l.readByte();l.readUEG();var k=u.getProfileString(_),S=u.getLevelString(T),w=1,C=420,b=8;if((_===100||_===110||_===122||_===244||_===44||_===83||_===86||_===118||_===128||_===138||_===144)&&((w=l.readUEG())===3&&l.readBits(1),w<=3&&(C=[0,420,422,444][w]),b=l.readUEG()+8,l.readUEG(),l.readBits(1),l.readBool()))for(var E=w!==3?8:12,A=0;A<E;A++)l.readBool()&&(A<6?u._skipScalingList(l,16):u._skipScalingList(l,64));l.readUEG();var P=l.readUEG();if(P===0)l.readUEG();else if(P===1){l.readBits(1),l.readSEG(),l.readSEG();for(var z=l.readUEG(),B=0;B<z;B++)l.readSEG()}var H=l.readUEG();l.readBits(1);var K=l.readUEG(),Q=l.readUEG(),ct=l.readBits(1);ct===0&&l.readBits(1),l.readBits(1);var mt=0,It=0,Dt=0,Wt=0;l.readBool()&&(mt=l.readUEG(),It=l.readUEG(),Dt=l.readUEG(),Wt=l.readUEG());var Zt=1,Rt=1,qt=0,ae=!0,Ut=0,U=0;if(l.readBool()){if(l.readBool()){var ot=l.readByte();ot>0&&ot<16?(Zt=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2][ot-1],Rt=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1][ot-1]):ot===255&&(Zt=l.readByte()<<8|l.readByte(),Rt=l.readByte()<<8|l.readByte())}if(l.readBool()&&l.readBool(),l.readBool()&&(l.readBits(4),l.readBool()&&l.readBits(24)),l.readBool()&&(l.readUEG(),l.readUEG()),l.readBool()){var lt=l.readBits(32),gt=l.readBits(32);ae=l.readBool(),qt=(Ut=gt)/(U=2*lt)}}var Lt=1;Zt===1&&Rt===1||(Lt=Zt/Rt);var vt=0,ht=0;w===0?(vt=1,ht=2-ct):(vt=w===3?1:2,ht=(w===1?2:1)*(2-ct));var pt=16*(K+1),Bt=16*(Q+1)*(2-ct);pt-=(mt+It)*vt,Bt-=(Dt+Wt)*ht;var Ot=Math.ceil(pt*Lt);return l.destroy(),l=null,{profile_string:k,level_string:S,bit_depth:b,ref_frames:H,chroma_format:C,chroma_format_string:u.getChromaFormatString(C),frame_rate:{fixed:ae,fps:qt,fps_den:U,fps_num:Ut},sar_ratio:{width:Zt,height:Rt},codec_size:{width:pt,height:Bt},present_size:{width:Ot,height:Bt}}}},{key:"_skipScalingList",value:function(c,p){for(var l=8,_=8,T=0;T<p;T++)_!==0&&(_=(l+c.readSEG()+256)%256),l=_===0?l:_}},{key:"getProfileString",value:function(c){switch(c){case 66:return"Baseline";case 77:return"Main";case 88:return"Extended";case 100:return"High";case 110:return"High10";case 122:return"High422";case 244:return"High444";default:return"Unknown"}}},{key:"getLevelString",value:function(c){return(c/10).toFixed(1)}},{key:"getChromaFormatString",value:function(c){switch(c){case 420:return"4:2:0";case 422:return"4:2:2";case 444:return"4:4:4";default:return"Unknown"}}}]),u}();o.default=v},{"./exp-golomb.js":17}],45:[function(x,V,o){"use strict";function d(p){return p&&p.__esModule?p:{default:p}}Object.defineProperty(o,"__esModule",{value:!0});var g=function(){function p(l,_){for(var T=0;T<_.length;T++){var k=_[T];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(l,k.key,k)}}return function(l,_,T){return _&&p(l.prototype,_),T&&p(l,T),l}}(),v=d(x("./exp-golomb.js")),u=d(x("./sps-parser.js")),c=function(){function p(){(function(l,_){if(!(l instanceof _))throw new TypeError("Cannot call a class as a function")})(this,p)}return g(p,null,[{key:"parseSPS",value:function(l){var _=u.default._ebsp2rbsp(l),T=new v.default(_),k={};T.readBits(16),T.readBits(4);var S=T.readBits(3);T.readBits(1),p._hvcc_parse_ptl(T,k,S),T.readUEG();var w=0,C=T.readUEG();C==3&&(w=T.readBits(1)),k.sar_width=k.sar_height=1,k.conf_win_left_offset=k.conf_win_right_offset=k.conf_win_top_offset=k.conf_win_bottom_offset=0,k.def_disp_win_left_offset=k.def_disp_win_right_offset=k.def_disp_win_top_offset=k.def_disp_win_bottom_offset=0;var b=T.readUEG(),E=T.readUEG();T.readBits(1)&&(k.conf_win_left_offset=T.readUEG(),k.conf_win_right_offset=T.readUEG(),k.conf_win_top_offset=T.readUEG(),k.conf_win_bottom_offset=T.readUEG(),k.default_display_window_flag===1&&(k.conf_win_left_offset,k.def_disp_win_left_offset,k.conf_win_right_offset,k.def_disp_win_right_offset,k.conf_win_top_offset,k.def_disp_win_top_offset,k.conf_win_bottom_offset,k.def_disp_win_bottom_offset));var A=T.readUEG()+8;T.readUEG();for(var P=T.readUEG(),z=T.readBits(1)?0:S;z<=S;z++)p._skip_sub_layer_ordering_info(T);T.readUEG(),T.readUEG(),T.readUEG(),T.readUEG(),T.readUEG(),T.readUEG(),T.readBits(1)&&T.readBits(1)&&p._skip_scaling_list_data(T),T.readBits(1),T.readBits(1),T.readBits(1)&&(T.readBits(4),T.readBits(4),T.readUEG(),T.readUEG(),T.readBits(1));var B=[],H=T.readUEG();for(z=0;z<H;z++){var K=p._parse_rps(T,z,H,B);if(K<0)return K}if(T.readBits(1)){var Q=T.readUEG();for(z=0;z<Q;z++){var ct=Math.min(P+4,16);if(ct>32){for(var mt=ct/32,It=ct%32,Dt=0;Dt<mt;Dt++)T.readBits(32);T.readBits(It)}else T.readBits(ct);T.readBits(1)}}T.readBits(1),T.readBits(1),T.readBits(1)&&p._hvcc_parse_vui(T,k,S);var Wt=p.getProfileString(k.profile_idc),Zt=p.getLevelString(k.level_idc),Rt=1;k.sar_width===1&&k.sar_height===1||(Rt=k.sar_width/k.sar_height);var qt=b,ae=E,Ut=C===1&&w===0?2:1;qt-=(C!==1&&C!=2||w!==0?1:2)*(k.conf_win_left_offset+k.conf_win_right_offset),ae-=Ut*(k.conf_win_top_offset+k.conf_win_bottom_offset);var U=Math.ceil(qt*Rt);return T.destroy(),T=null,{profile_string:Wt,level_string:Zt,profile_idc:k.profile_idc,level_idc:k.level_idc,bit_depth:A,ref_frames:1,chroma_format:C,chroma_format_string:p.getChromaFormatString(C),frame_rate:{fixed:k.fps_fixed,fps:k.fps,fps_den:k.fps_den,fps_num:k.fps_num},sar_ratio:{width:k.sar_width,height:k.sar_height},codec_size:{width:qt,height:ae},present_size:{width:U,height:ae}}}},{key:"_hvcc_parse_ptl",value:function(l,_,T){l.readBits(2);var k=l.readBits(1),S=l.readBits(5);l.readBits(32),l.readBits(32),l.readBits(16);var w=l.readByte();_.tier_flag===void 0||_.level_idc===void 0||_.tier_flag<k?_.level_idc=w:_.level_idc=Math.max(_.level_idc,w),_.profile_idc=Math.max(_.profile_idc===void 0?0:_.profile_idc,S);for(var C=[],b=[],E=0;E<T;E++)C.push(l.readBits(1)),b.push(l.readBits(1));if(T>0)for(E=T;E<8;E++)l.readBits(2);for(E=0;E<T;E++)C[E]&&(l.readBits(32),l.readBits(32),l.readBits(24)),b[E]&&l.readByte()}},{key:"_parse_rps",value:function(l,_,T,k){if(_&&l.readBits(1)){if(_>=T)return-1;l.readBits(1),l.readUEG(),k[_]=0;for(var S=0;S<=k[_-1];S++){var w=0,C=l.readBits(1);C||(w=l.readBits(1)),(C||w)&&k[_]++}}else{var b=l.readUEG(),E=l.readUEG();for(k[_]=b+E,S=0;S<b;S++)l.readUEG(),l.readBits(1);for(S=0;S<E;S++)l.readUEG(),l.readBits(1)}return 0}},{key:"_hvcc_parse_vui",value:function(l,_,T){l.readBits(1)&&l.readByte()==255&&(_.sar_width=l.readBits(16),_.sar_height=l.readBits(16)),l.readBits(1)&&l.readBits(1),l.readBits(1)&&(l.readBits(4),l.readBits(1)&&l.readBits(24)),l.readBits(1)&&(l.readUEG(),l.readUEG()),l.readBits(3),_.default_display_window_flag=l.readBits(1),_.default_display_window_flag&&(_.def_disp_win_left_offset=l.readUEG(),_.def_disp_win_right_offset=l.readUEG(),_.def_disp_win_top_offset=l.readUEG(),_.def_disp_win_bottom_offset=l.readUEG()),l.readBits(1)&&(p._skip_timing_info(l,_),l.readBits(1)&&p._skip_hrd_parameters(l,_,1,T)),l.readBits(1)&&(l.readBits(3),l.readUEG(),l.readUEG(),l.readUEG(),l.readUEG(),l.readUEG())}},{key:"_skip_sub_layer_ordering_info",value:function(l,_){l.readUEG(),l.readUEG(),l.readUEG()}},{key:"_skip_scaling_list_data",value:function(l){for(var _=0;_<4;_++)for(var T=0;T<(_==3?2:6);T++)if(l.readBits(1)){var k=Math.min(64,1<<4+(_<<1));_>1&&l.readSEG();for(var S=0;S<k;S++)l.readSEG()}else l.readUEG()}},{key:"_skip_sub_layer_hrd_parameters",value:function(l,_,T){for(var k=0;k<=_;k++)l.readUEG(),l.readUEG(),T&&(l.readUEG(),l.readUEG()),l.readBits(1)}},{key:"_skip_timing_info",value:function(l,_){_.fps_den=l.readBits(32),_.fps_num=l.readBits(32),_.fps_den>0&&(_.fps=_.fps_num/_.fps_den);var T=0;l.readBits(1)&&(T=l.readUEG())>=0&&(_.fps/=T+1)}},{key:"_skip_hrd_parameters",value:function(l,_,T){var k=0,S=0;if(_&&(k=l.readBits(1),S=l.readBits(1),k||S)){var w=l.readBits(1);w&&l.readBits(19),l.readByte(),w&&l.readBits(4),l.readBits(15)}for(var C=0;C<=T;C++){var b=0,E=0,A=0,P=l.readBits(1);hvcc.fps_fixed=P,P||(A=l.readBits(1)),A?l.readUEG():E=l.readBits(1),E||(b=l.readUEG(l)),k&&p._skip_sub_layer_hrd_parameters(l,b,0),S&&p._skip_sub_layer_hrd_parameters(l,b,0)}}},{key:"getProfileString",value:function(l){switch(l){case 1:return"Main";case 2:return"Main10";case 3:return"MainSP";case 4:return"Rext";case 9:return"SCC";default:return"Unknown"}}},{key:"getLevelString",value:function(l){return(l/10).toFixed(1)}},{key:"getChromaFormatString",value:function(l){switch(l){case 0:return"4:0:0";case 1:return"4:2:0";case 2:return"4:2:2";case 3:return"4:4:4";default:return"Unknown"}}}]),p}();o.default=c},{"./exp-golomb.js":17,"./sps-parser.js":19}],20:[function(x,V,o){"use strict";function d(C){return C&&C.__esModule?C:{default:C}}Object.defineProperty(o,"__esModule",{value:!0});var g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C},v=d(x("./utils/polyfill.js")),u=d(x("./core/features.js")),c=x("./io/loader.js"),p=d(x("./player/flv-player.js")),l=d(x("./player/native-player.js")),_=d(x("./player/player-events.js")),T=x("./player/player-errors.js"),k=d(x("./utils/logging-control.js")),S=x("./utils/exception.js");v.default.install();var w={createPlayer:function(C,b){var E=C;if(E==null||(E===void 0?"undefined":g(E))!=="object")throw new S.InvalidArgumentException("MediaDataSource must be an javascript object!");if(!E.hasOwnProperty("type"))throw new S.InvalidArgumentException("MediaDataSource must has type field to indicate video file type!");switch(E.type){case"flv":return new p.default(E,b);default:return new l.default(E,b)}},isSupported:function(){return u.default.supportMSEH264Playback()},getFeatureList:function(){return u.default.getFeatureList()}};w.BaseLoader=c.BaseLoader,w.LoaderStatus=c.LoaderStatus,w.LoaderErrors=c.LoaderErrors,w.Events=_.default,w.ErrorTypes=T.ErrorTypes,w.ErrorDetails=T.ErrorDetails,w.FlvPlayer=p.default,w.NativePlayer=l.default,w.LoggingControl=k.default,w.reconnect=!1,Object.defineProperty(w,"version",{enumerable:!0,get:function(){return"1.4.2"}}),o.default=w},{"./core/features.js":6,"./io/loader.js":24,"./player/flv-player.js":32,"./player/native-player.js":33,"./player/player-errors.js":34,"./player/player-events.js":35,"./utils/exception.js":40,"./utils/logging-control.js":42,"./utils/polyfill.js":43}],21:[function(x,V,o){"use strict";V.exports=x("./flv.js").default},{"./flv.js":20}],22:[function(x,V,o){"use strict";function d(T){return T&&T.__esModule?T:{default:T}}Object.defineProperty(o,"__esModule",{value:!0});var g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T},v=function(){function T(k,S){for(var w=0;w<S.length;w++){var C=S[w];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(k,C.key,C)}}return function(k,S,w){return S&&T(k.prototype,S),w&&T(k,w),k}}(),u=(d(x("../utils/logger.js")),x("../utils/browser.js")),c=d(u),p=x("./loader.js"),l=x("../utils/exception.js"),_=function(T){function k(S,w){(function(b,E){if(!(b instanceof E))throw new TypeError("Cannot call a class as a function")})(this,k);var C=function(b,E){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!E||typeof E!="object"&&typeof E!="function"?b:E}(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,"fetch-stream-loader"));return C.TAG="FetchStreamLoader",C._seekHandler=S,C._config=w,C._needStash=!0,C._requestAbort=!1,C._contentLength=null,C._receivedLength=0,C}return function(S,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);S.prototype=Object.create(w&&w.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(S,w):S.__proto__=w)}(k,T),v(k,null,[{key:"isSupported",value:function(){try{var S=c.default.msedge&&c.default.version.minor>=15048,w=!c.default.msedge||S;return self.fetch&&self.ReadableStream&&w}catch(C){return!1}}}]),v(k,[{key:"destroy",value:function(){this.isWorking()&&this.abort(),function S(w,C,b){w===null&&(w=Function.prototype);var E=Object.getOwnPropertyDescriptor(w,C);if(E===void 0){var A=Object.getPrototypeOf(w);return A===null?void 0:S(A,C,b)}if("value"in E)return E.value;var P=E.get;return P!==void 0?P.call(b):void 0}(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"destroy",this).call(this)}},{key:"open",value:function(S,w){var C=this;this._dataSource=S,this._range=w;var b=S.url;this._config.reuseRedirectedURL&&S.redirectedURL!=null&&(b=S.redirectedURL);var E=this._seekHandler.getConfig(b,w),A=new self.Headers;if(g(E.headers)==="object"){var P=E.headers;for(var z in P)P.hasOwnProperty(z)&&A.append(z,P[z])}var B={method:"GET",headers:A,mode:"cors",cache:"default",referrerPolicy:"no-referrer-when-downgrade"};if(g(this._config.headers)==="object")for(var H in this._config.headers)A.append(H,this._config.headers[H]);S.cors===!1&&(B.mode="same-origin"),S.withCredentials&&(B.credentials="include"),S.referrerPolicy&&(B.referrerPolicy=S.referrerPolicy),this._status=p.LoaderStatus.kConnecting,self.fetch(E.url,B).then(function(K){if(C._requestAbort){try{var Q=K.body.getReader();Q&&Q.cancel()}catch(It){}return C._requestAbort=!1,void(C._status=p.LoaderStatus.kIdle)}if(K.ok&&K.status>=200&&K.status<=299){if(K.url!==E.url&&C._onURLRedirect){var ct=C._seekHandler.removeURLParameters(K.url);C._onURLRedirect(ct)}var mt=K.headers.get("Content-Length");return mt!=null&&(C._contentLength=parseInt(mt),C._contentLength!==0&&C._onContentLengthKnown&&C._onContentLengthKnown(C._contentLength)),C._pump.call(C,K.body.getReader())}if(C._status=p.LoaderStatus.kError,!C._onError)throw new l.RuntimeException("FetchStreamLoader: Http code invalid, "+K.status+" "+K.statusText);C._onError(p.LoaderErrors.HTTP_STATUS_CODE_INVALID,{code:K.status,msg:K.statusText})}).catch(function(K){if(C._status=p.LoaderStatus.kError,!C._onError)throw K;C._onError(p.LoaderErrors.EXCEPTION,{code:-1,msg:K.message})})}},{key:"abort",value:function(){this._requestAbort=!0}},{key:"_pump",value:function(S){var w=this;return S.read().then(function(C){if(C.done)if(w._contentLength!==null&&w._receivedLength<w._contentLength){w._status=p.LoaderStatus.kError;var b=p.LoaderErrors.EARLY_EOF,E={code:-1,msg:"Fetch stream meet Early-EOF"};if(!w._onError)throw new l.RuntimeException(E.msg);w._onError(b,E)}else w._status=p.LoaderStatus.kComplete,w._onComplete&&w._onComplete(w._range.from,w._range.from+w._receivedLength-1);else{if(w._requestAbort===!0)return w._requestAbort=!1,w._status=p.LoaderStatus.kComplete,S.cancel();w._status=p.LoaderStatus.kBuffering;var A=C.value.buffer,P=w._range.from+w._receivedLength;w._receivedLength+=A.byteLength,w._onDataArrival&&w._onDataArrival(A,P,w._receivedLength),w._pump(S)}}).catch(function(C){if(C.code!==11||!c.default.msedge){w._status=p.LoaderStatus.kError;var b=0,E=null;if(C.code!==19&&C.message!=="network error"||!(w._contentLength===null||w._contentLength!==null&&w._receivedLength<w._contentLength)?(b=p.LoaderErrors.EXCEPTION,E={code:C.code,msg:C.message}):(b=p.LoaderErrors.EARLY_EOF,E={code:C.code,msg:"Fetch stream meet Early-EOF"}),!w._onError)throw new l.RuntimeException(E.msg);w._onError(b,E)}})}}]),k}(p.BaseLoader);o.default=_},{"../utils/browser.js":39,"../utils/exception.js":40,"../utils/logger.js":41,"./loader.js":24}],23:[function(x,V,o){"use strict";function d(E){return E&&E.__esModule?E:{default:E}}Object.defineProperty(o,"__esModule",{value:!0});var g=function(){function E(A,P){for(var z=0;z<P.length;z++){var B=P[z];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(A,B.key,B)}}return function(A,P,z){return P&&E(A.prototype,P),z&&E(A,z),A}}(),v=d(x("../utils/logger.js")),u=d(x("./speed-sampler.js")),c=x("./loader.js"),p=d(x("./fetch-stream-loader.js")),l=d(x("./xhr-moz-chunked-loader.js")),_=(d(x("./xhr-msstream-loader.js")),x("./xhr-range-loader.js")),T=d(_),k=d(x("./websocket-loader.js")),S=d(x("./range-seek-handler.js")),w=d(x("./param-seek-handler.js")),C=x("../utils/exception.js"),b=function(){function E(A,P,z){(function(B,H){if(!(B instanceof H))throw new TypeError("Cannot call a class as a function")})(this,E),this.TAG="IOController",this._config=P,this._extraData=z,this._stashInitialSize=393216,P.stashInitialSize!=null&&P.stashInitialSize>0&&(this._stashInitialSize=P.stashInitialSize),this._stashUsed=0,this._stashSize=this._stashInitialSize,this._bufferSize=3145728,this._stashBuffer=new ArrayBuffer(this._bufferSize),this._stashByteStart=0,this._enableStash=!0,P.enableStashBuffer===!1&&(this._enableStash=!1),this._loader=null,this._loaderClass=null,this._seekHandler=null,this._dataSource=A,this._isWebSocketURL=/wss?:\/\/(.+?)/.test(A.url),this._refTotalLength=A.filesize?A.filesize:null,this._totalLength=this._refTotalLength,this._fullRequestFlag=!1,this._currentRange=null,this._redirectedURL=null,this._speedNormalized=0,this._speedSampler=new u.default,this._speedNormalizeList=[64,128,256,384,512,768,1024,1536,2048,3072,4096],this._isEarlyEofReconnecting=!1,this._paused=!1,this._resumeFrom=0,this._onDataArrival=null,this._onSeeked=null,this._onError=null,this._onComplete=null,this._onRedirect=null,this._onRecoveredEarlyEof=null,this._selectSeekHandler(),this._selectLoader(),this._createLoader()}return g(E,[{key:"destroy",value:function(){this._loader.isWorking()&&this._loader.abort(),this._loader.destroy(),this._loader=null,this._loaderClass=null,this._dataSource=null,this._stashBuffer=null,this._stashUsed=this._stashSize=this._bufferSize=this._stashByteStart=0,this._currentRange=null,this._speedSampler=null,this._isEarlyEofReconnecting=!1,this._onDataArrival=null,this._onSeeked=null,this._onError=null,this._onComplete=null,this._onRedirect=null,this._onRecoveredEarlyEof=null,this._extraData=null}},{key:"isWorking",value:function(){return this._loader&&this._loader.isWorking()&&!this._paused}},{key:"isPaused",value:function(){return this._paused}},{key:"_selectSeekHandler",value:function(){var A=this._config;if(A.seekType==="range")this._seekHandler=new S.default(this._config.rangeLoadZeroStart);else if(A.seekType==="param"){var P=A.seekParamStart||"bstart",z=A.seekParamEnd||"bend";this._seekHandler=new w.default(P,z)}else{if(A.seekType!=="custom")throw new C.InvalidArgumentException("Invalid seekType in config: "+A.seekType);if(typeof A.customSeekHandler!="function")throw new C.InvalidArgumentException("Custom seekType specified in config but invalid customSeekHandler!");this._seekHandler=new A.customSeekHandler}}},{key:"_selectLoader",value:function(){if(this._config.customLoader!=null)this._loaderClass=this._config.customLoader;else if(this._isWebSocketURL)this._loaderClass=k.default;else if(p.default.isSupported())this._loaderClass=p.default;else if(l.default.isSupported())this._loaderClass=l.default;else{if(!T.default.isSupported())throw new C.RuntimeException("Your browser doesn't support xhr with arraybuffer responseType!");this._loaderClass=T.default}}},{key:"_createLoader",value:function(){this._loader=new this._loaderClass(this._seekHandler,this._config),this._loader.needStashBuffer===!1&&(this._enableStash=!1),this._loader.onContentLengthKnown=this._onContentLengthKnown.bind(this),this._loader.onURLRedirect=this._onURLRedirect.bind(this),this._loader.onDataArrival=this._onLoaderChunkArrival.bind(this),this._loader.onComplete=this._onLoaderComplete.bind(this),this._loader.onError=this._onLoaderError.bind(this)}},{key:"open",value:function(A){this._currentRange={from:0,to:-1},A&&(this._currentRange.from=A),this._speedSampler.reset(),A||(this._fullRequestFlag=!0),this._loader.open(this._dataSource,Object.assign({},this._currentRange))}},{key:"abort",value:function(){this._loader.abort(),this._paused&&(this._paused=!1,this._resumeFrom=0)}},{key:"pause",value:function(){this.isWorking()&&(this._loader.abort(),this._stashUsed!==0?(this._resumeFrom=this._stashByteStart,this._currentRange.to=this._stashByteStart-1):this._resumeFrom=this._currentRange.to+1,this._stashUsed=0,this._stashByteStart=0,this._paused=!0)}},{key:"resume",value:function(){if(this._paused){this._paused=!1;var A=this._resumeFrom;this._resumeFrom=0,this._internalSeek(A,!0)}}},{key:"seek",value:function(A){this._paused=!1,this._stashUsed=0,this._stashByteStart=0,this._internalSeek(A,!0)}},{key:"_internalSeek",value:function(A,P){this._loader.isWorking()&&this._loader.abort(),this._flushStashBuffer(P),this._loader.destroy(),this._loader=null;var z={from:A,to:-1};this._currentRange={from:z.from,to:-1},this._speedSampler.reset(),this._stashSize=this._stashInitialSize,this._createLoader(),this._loader.open(this._dataSource,z),this._onSeeked&&this._onSeeked()}},{key:"updateUrl",value:function(A){if(!A||typeof A!="string"||A.length===0)throw new C.InvalidArgumentException("Url must be a non-empty string!");this._dataSource.url=A}},{key:"_expandBuffer",value:function(A){for(var P=this._stashSize;P+1048576<A;)P*=2;if((P+=1048576)!==this._bufferSize){var z=new ArrayBuffer(P);if(this._stashUsed>0){var B=new Uint8Array(this._stashBuffer,0,this._stashUsed);new Uint8Array(z,0,P).set(B,0)}this._stashBuffer=z,this._bufferSize=P}}},{key:"_normalizeSpeed",value:function(A){var P=this._speedNormalizeList,z=P.length-1,B=0,H=0,K=z;if(A<P[0])return P[0];for(;H<=K;){if((B=H+Math.floor((K-H)/2))===z||A>=P[B]&&A<P[B+1])return P[B];P[B]<A?H=B+1:K=B-1}}},{key:"_adjustStashSize",value:function(A){var P=0;(P=this._config.isLive||A<512?A:A>=512&&A<=1024?Math.floor(1.5*A):2*A)>8192&&(P=8192);var z=1024*P+1048576;this._bufferSize<z&&this._expandBuffer(z),this._stashSize=1024*P}},{key:"_dispatchChunks",value:function(A,P){return this._currentRange.to=P+A.byteLength-1,this._onDataArrival(A,P)}},{key:"_onURLRedirect",value:function(A){this._redirectedURL=A,this._onRedirect&&this._onRedirect(A)}},{key:"_onContentLengthKnown",value:function(A){A&&this._fullRequestFlag&&(this._totalLength=A,this._fullRequestFlag=!1)}},{key:"_onLoaderChunkArrival",value:function(A,P,z){if(!this._onDataArrival)throw new C.IllegalStateException("IOController: No existing consumer (onDataArrival) callback!");if(!this._paused){this._isEarlyEofReconnecting&&(this._isEarlyEofReconnecting=!1,this._onRecoveredEarlyEof&&this._onRecoveredEarlyEof()),this._speedSampler.addBytes(A.byteLength);var B=this._speedSampler.lastSecondKBps;if(B!==0){var H=this._normalizeSpeed(B);this._speedNormalized!==H&&(this._speedNormalized=H,this._adjustStashSize(H))}if(this._enableStash)if(this._stashUsed===0&&this._stashByteStart===0&&(this._stashByteStart=P),this._stashUsed+A.byteLength<=this._stashSize)new Uint8Array(this._stashBuffer,0,this._stashSize).set(new Uint8Array(A),this._stashUsed),this._stashUsed+=A.byteLength;else{var K=new Uint8Array(this._stashBuffer,0,this._bufferSize);if(this._stashUsed>0){var Q=this._stashBuffer.slice(0,this._stashUsed),ct=this._dispatchChunks(Q,this._stashByteStart);if(ct<Q.byteLength){if(ct>0){var mt=new Uint8Array(Q,ct);K.set(mt,0),this._stashUsed=mt.byteLength,this._stashByteStart+=ct}}else this._stashUsed=0,this._stashByteStart+=ct;this._stashUsed+A.byteLength>this._bufferSize&&(this._expandBuffer(this._stashUsed+A.byteLength),K=new Uint8Array(this._stashBuffer,0,this._bufferSize)),K.set(new Uint8Array(A),this._stashUsed),this._stashUsed+=A.byteLength}else{var It=this._dispatchChunks(A,P);if(It<A.byteLength){var Dt=A.byteLength-It;Dt>this._bufferSize&&(this._expandBuffer(Dt),K=new Uint8Array(this._stashBuffer,0,this._bufferSize)),K.set(new Uint8Array(A,It),0),this._stashUsed+=Dt,this._stashByteStart=P+It}}}else if(this._stashUsed===0){var Wt=this._dispatchChunks(A,P);if(Wt<A.byteLength){var Zt=A.byteLength-Wt;Zt>this._bufferSize&&this._expandBuffer(Zt),new Uint8Array(this._stashBuffer,0,this._bufferSize).set(new Uint8Array(A,Wt),0),this._stashUsed+=Zt,this._stashByteStart=P+Wt}}else{this._stashUsed+A.byteLength>this._bufferSize&&this._expandBuffer(this._stashUsed+A.byteLength);var Rt=new Uint8Array(this._stashBuffer,0,this._bufferSize);Rt.set(new Uint8Array(A),this._stashUsed),this._stashUsed+=A.byteLength;var qt=this._dispatchChunks(this._stashBuffer.slice(0,this._stashUsed),this._stashByteStart);if(qt<this._stashUsed&&qt>0){var ae=new Uint8Array(this._stashBuffer,qt);Rt.set(ae,0)}this._stashUsed-=qt,this._stashByteStart+=qt}}}},{key:"_flushStashBuffer",value:function(A){if(this._stashUsed>0){var P=this._stashBuffer.slice(0,this._stashUsed),z=this._dispatchChunks(P,this._stashByteStart),B=P.byteLength-z;if(z<P.byteLength){if(!A){if(z>0){var H=new Uint8Array(this._stashBuffer,0,this._bufferSize),K=new Uint8Array(P,z);H.set(K,0),this._stashUsed=K.byteLength,this._stashByteStart+=z}return 0}v.default.w(this.TAG,B+" bytes unconsumed data remain when flush buffer, dropped")}return this._stashUsed=0,this._stashByteStart=0,B}return 0}},{key:"_onLoaderComplete",value:function(A,P){this._flushStashBuffer(!0),this._onComplete&&this._onComplete(this._extraData)}},{key:"_onLoaderError",value:function(A,P){switch(v.default.e(this.TAG,"Loader error, code = "+P.code+", msg = "+P.msg),this._flushStashBuffer(!1),this._isEarlyEofReconnecting&&(this._isEarlyEofReconnecting=!1,A=c.LoaderErrors.UNRECOVERABLE_EARLY_EOF),A){case c.LoaderErrors.EARLY_EOF:if(!this._config.isLive&&this._totalLength){var z=this._currentRange.to+1;return void(z<this._totalLength&&(v.default.w(this.TAG,"Connection lost, trying reconnect..."),this._isEarlyEofReconnecting=!0,this._internalSeek(z,!1)))}A=c.LoaderErrors.UNRECOVERABLE_EARLY_EOF;break;case c.LoaderErrors.UNRECOVERABLE_EARLY_EOF:case c.LoaderErrors.CONNECTING_TIMEOUT:case c.LoaderErrors.HTTP_STATUS_CODE_INVALID:case c.LoaderErrors.EXCEPTION:}if(!this._onError)throw new C.RuntimeException("IOException: "+P.msg);this._onError(A,P)}},{key:"status",get:function(){return this._loader.status}},{key:"extraData",get:function(){return this._extraData},set:function(A){this._extraData=A}},{key:"onDataArrival",get:function(){return this._onDataArrival},set:function(A){this._onDataArrival=A}},{key:"onSeeked",get:function(){return this._onSeeked},set:function(A){this._onSeeked=A}},{key:"onError",get:function(){return this._onError},set:function(A){this._onError=A}},{key:"onComplete",get:function(){return this._onComplete},set:function(A){this._onComplete=A}},{key:"onRedirect",get:function(){return this._onRedirect},set:function(A){this._onRedirect=A}},{key:"onRecoveredEarlyEof",get:function(){return this._onRecoveredEarlyEof},set:function(A){this._onRecoveredEarlyEof=A}},{key:"currentURL",get:function(){return this._dataSource.url}},{key:"hasRedirect",get:function(){return this._redirectedURL!=null||this._dataSource.redirectedURL!=null}},{key:"currentRedirectedURL",get:function(){return this._redirectedURL||this._dataSource.redirectedURL}},{key:"currentSpeed",get:function(){return this._loaderClass===T.default?this._loader.currentSpeed:this._speedSampler.lastSecondKBps}},{key:"loaderType",get:function(){return this._loader.type}}]),E}();o.default=b},{"../utils/exception.js":40,"../utils/logger.js":41,"./fetch-stream-loader.js":22,"./loader.js":24,"./param-seek-handler.js":25,"./range-seek-handler.js":26,"./speed-sampler.js":27,"./websocket-loader.js":28,"./xhr-moz-chunked-loader.js":29,"./xhr-msstream-loader.js":30,"./xhr-range-loader.js":31}],24:[function(x,V,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.BaseLoader=o.LoaderErrors=o.LoaderStatus=void 0;var d=function(){function u(c,p){for(var l=0;l<p.length;l++){var _=p[l];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(c,_.key,_)}}return function(c,p,l){return p&&u(c.prototype,p),l&&u(c,l),c}}(),g=x("../utils/exception.js"),v=o.LoaderStatus={kIdle:0,kConnecting:1,kBuffering:2,kError:3,kComplete:4};o.LoaderErrors={OK:"OK",EXCEPTION:"Exception",HTTP_STATUS_CODE_INVALID:"HttpStatusCodeInvalid",CONNECTING_TIMEOUT:"ConnectingTimeout",EARLY_EOF:"EarlyEof",UNRECOVERABLE_EARLY_EOF:"UnrecoverableEarlyEof"},o.BaseLoader=function(){function u(c){(function(p,l){if(!(p instanceof l))throw new TypeError("Cannot call a class as a function")})(this,u),this._type=c||"undefined",this._status=v.kIdle,this._needStash=!1,this._onContentLengthKnown=null,this._onURLRedirect=null,this._onDataArrival=null,this._onError=null,this._onComplete=null}return d(u,[{key:"destroy",value:function(){this._status=v.kIdle,this._onContentLengthKnown=null,this._onURLRedirect=null,this._onDataArrival=null,this._onError=null,this._onComplete=null}},{key:"isWorking",value:function(){return this._status===v.kConnecting||this._status===v.kBuffering}},{key:"open",value:function(c,p){throw new g.NotImplementedException("Unimplemented abstract function!")}},{key:"abort",value:function(){throw new g.NotImplementedException("Unimplemented abstract function!")}},{key:"type",get:function(){return this._type}},{key:"status",get:function(){return this._status}},{key:"needStashBuffer",get:function(){return this._needStash}},{key:"onContentLengthKnown",get:function(){return this._onContentLengthKnown},set:function(c){this._onContentLengthKnown=c}},{key:"onURLRedirect",get:function(){return this._onURLRedirect},set:function(c){this._onURLRedirect=c}},{key:"onDataArrival",get:function(){return this._onDataArrival},set:function(c){this._onDataArrival=c}},{key:"onError",get:function(){return this._onError},set:function(c){this._onError=c}},{key:"onComplete",get:function(){return this._onComplete},set:function(c){this._onComplete=c}}]),u}()},{"../utils/exception.js":40}],25:[function(x,V,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var d=function(){function v(u,c){for(var p=0;p<c.length;p++){var l=c[p];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(u,l.key,l)}}return function(u,c,p){return c&&v(u.prototype,c),p&&v(u,p),u}}(),g=function(){function v(u,c){(function(p,l){if(!(p instanceof l))throw new TypeError("Cannot call a class as a function")})(this,v),this._startName=u,this._endName=c}return d(v,[{key:"getConfig",value:function(u,c){var p=u;if(c.from!==0||c.to!==-1){var l=!0;p.indexOf("?")===-1&&(p+="?",l=!1),l&&(p+="&"),p+=this._startName+"="+c.from.toString(),c.to!==-1&&(p+="&"+this._endName+"="+c.to.toString())}return{url:p,headers:{}}}},{key:"removeURLParameters",value:function(u){var c=u.split("?")[0],p=void 0,l=u.indexOf("?");l!==-1&&(p=u.substring(l+1));var _="";if(p!=null&&p.length>0)for(var T=p.split("&"),k=0;k<T.length;k++){var S=T[k].split("="),w=k>0;S[0]!==this._startName&&S[0]!==this._endName&&(w&&(_+="&"),_+=T[k])}return _.length===0?c:c+"?"+_}}]),v}();o.default=g},{}],26:[function(x,V,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var d=function(){function v(u,c){for(var p=0;p<c.length;p++){var l=c[p];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(u,l.key,l)}}return function(u,c,p){return c&&v(u.prototype,c),p&&v(u,p),u}}(),g=function(){function v(u){(function(c,p){if(!(c instanceof p))throw new TypeError("Cannot call a class as a function")})(this,v),this._zeroStart=u||!1}return d(v,[{key:"getConfig",value:function(u,c){var p={};if(c.from!==0||c.to!==-1){var l;l=c.to!==-1?"bytes="+c.from.toString()+"-"+c.to.toString():"bytes="+c.from.toString()+"-",p.Range=l}else this._zeroStart&&(p.Range="bytes=0-");return{url:u,headers:p}}},{key:"removeURLParameters",value:function(u){return u}}]),v}();o.default=g},{}],27:[function(x,V,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var d=function(){function v(u,c){for(var p=0;p<c.length;p++){var l=c[p];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(u,l.key,l)}}return function(u,c,p){return c&&v(u.prototype,c),p&&v(u,p),u}}(),g=function(){function v(){(function(u,c){if(!(u instanceof c))throw new TypeError("Cannot call a class as a function")})(this,v),this._firstCheckpoint=0,this._lastCheckpoint=0,this._intervalBytes=0,this._totalBytes=0,this._lastSecondBytes=0,self.performance&&self.performance.now?this._now=self.performance.now.bind(self.performance):this._now=Date.now}return d(v,[{key:"reset",value:function(){this._firstCheckpoint=this._lastCheckpoint=0,this._totalBytes=this._intervalBytes=0,this._lastSecondBytes=0}},{key:"addBytes",value:function(u){this._firstCheckpoint===0?(this._firstCheckpoint=this._now(),this._lastCheckpoint=this._firstCheckpoint,this._intervalBytes+=u,this._totalBytes+=u):this._now()-this._lastCheckpoint<1e3?(this._intervalBytes+=u,this._totalBytes+=u):(this._lastSecondBytes=this._intervalBytes,this._intervalBytes=u,this._totalBytes+=u,this._lastCheckpoint=this._now())}},{key:"currentKBps",get:function(){this.addBytes(0);var u=(this._now()-this._lastCheckpoint)/1e3;return u==0&&(u=1),this._intervalBytes/u/1024}},{key:"lastSecondKBps",get:function(){return this.addBytes(0),this._lastSecondBytes!==0?this._lastSecondBytes/1024:this._now()-this._lastCheckpoint>=500?this.currentKBps:0}},{key:"averageKBps",get:function(){var u=(this._now()-this._firstCheckpoint)/1e3;return this._totalBytes/u/1024}}]),v}();o.default=g},{}],28:[function(x,V,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var d=function(){function c(p,l){for(var _=0;_<l.length;_++){var T=l[_];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(p,T.key,T)}}return function(p,l,_){return l&&c(p.prototype,l),_&&c(p,_),p}}(),g=(function(c){c&&c.__esModule}(x("../utils/logger.js")),x("./loader.js")),v=x("../utils/exception.js"),u=function(c){function p(){(function(_,T){if(!(_ instanceof T))throw new TypeError("Cannot call a class as a function")})(this,p);var l=function(_,T){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!T||typeof T!="object"&&typeof T!="function"?_:T}(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,"websocket-loader"));return l.TAG="WebSocketLoader",l._needStash=!0,l._ws=null,l._requestAbort=!1,l._receivedLength=0,l}return function(l,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);l.prototype=Object.create(_&&_.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(l,_):l.__proto__=_)}(p,c),d(p,null,[{key:"isSupported",value:function(){try{return self.WebSocket!==void 0}catch(l){return!1}}}]),d(p,[{key:"destroy",value:function(){this._ws&&this.abort(),function l(_,T,k){_===null&&(_=Function.prototype);var S=Object.getOwnPropertyDescriptor(_,T);if(S===void 0){var w=Object.getPrototypeOf(_);return w===null?void 0:l(w,T,k)}if("value"in S)return S.value;var C=S.get;return C!==void 0?C.call(k):void 0}(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"destroy",this).call(this)}},{key:"open",value:function(l){try{var _=this._ws=new self.WebSocket(l.url);_.binaryType="arraybuffer",_.onopen=this._onWebSocketOpen.bind(this),_.onclose=this._onWebSocketClose.bind(this),_.onmessage=this._onWebSocketMessage.bind(this),_.onerror=this._onWebSocketError.bind(this),this._status=g.LoaderStatus.kConnecting}catch(k){this._status=g.LoaderStatus.kError;var T={code:k.code,msg:k.message};if(!this._onError)throw new v.RuntimeException(T.msg);this._onError(g.LoaderErrors.EXCEPTION,T)}}},{key:"abort",value:function(){var l=this._ws;!l||l.readyState!==0&&l.readyState!==1||(this._requestAbort=!0,l.close()),this._ws=null,this._status=g.LoaderStatus.kComplete}},{key:"_onWebSocketOpen",value:function(l){this._status=g.LoaderStatus.kBuffering}},{key:"_onWebSocketClose",value:function(l){this._requestAbort!==!0?(this._status=g.LoaderStatus.kComplete,this._onComplete&&this._onComplete(0,this._receivedLength-1)):this._requestAbort=!1}},{key:"_onWebSocketMessage",value:function(l){var _=this;if(l.data instanceof ArrayBuffer)this._dispatchArrayBuffer(l.data);else if(l.data instanceof Blob){var T=new FileReader;T.onload=function(){_._dispatchArrayBuffer(T.result)},T.readAsArrayBuffer(l.data)}else{this._status=g.LoaderStatus.kError;var k={code:-1,msg:"Unsupported WebSocket message type: "+l.data.constructor.name};if(!this._onError)throw new v.RuntimeException(k.msg);this._onError(g.LoaderErrors.EXCEPTION,k)}}},{key:"_dispatchArrayBuffer",value:function(l){var _=l,T=this._receivedLength;this._receivedLength+=_.byteLength,this._onDataArrival&&this._onDataArrival(_,T,this._receivedLength)}},{key:"_onWebSocketError",value:function(l){this._status=g.LoaderStatus.kError;var _={code:l.code,msg:l.message};if(!this._onError)throw new v.RuntimeException(_.msg);this._onError(g.LoaderErrors.EXCEPTION,_)}}]),p}(g.BaseLoader);o.default=u},{"../utils/exception.js":40,"../utils/logger.js":41,"./loader.js":24}],29:[function(x,V,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},g=function(){function l(_,T){for(var k=0;k<T.length;k++){var S=T[k];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(_,S.key,S)}}return function(_,T,k){return T&&l(_.prototype,T),k&&l(_,k),_}}(),v=function(l){return l&&l.__esModule?l:{default:l}}(x("../utils/logger.js")),u=x("./loader.js"),c=x("../utils/exception.js"),p=function(l){function _(T,k){(function(w,C){if(!(w instanceof C))throw new TypeError("Cannot call a class as a function")})(this,_);var S=function(w,C){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!C||typeof C!="object"&&typeof C!="function"?w:C}(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,"xhr-moz-chunked-loader"));return S.TAG="MozChunkedLoader",S._seekHandler=T,S._config=k,S._needStash=!0,S._xhr=null,S._requestAbort=!1,S._contentLength=null,S._receivedLength=0,S}return function(T,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);T.prototype=Object.create(k&&k.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(T,k):T.__proto__=k)}(_,l),g(_,null,[{key:"isSupported",value:function(){try{var T=new XMLHttpRequest;return T.open("GET","https://example.com",!0),T.responseType="moz-chunked-arraybuffer",T.responseType==="moz-chunked-arraybuffer"}catch(k){return v.default.w("MozChunkedLoader",k.message),!1}}}]),g(_,[{key:"destroy",value:function(){this.isWorking()&&this.abort(),this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onloadend=null,this._xhr.onerror=null,this._xhr=null),function T(k,S,w){k===null&&(k=Function.prototype);var C=Object.getOwnPropertyDescriptor(k,S);if(C===void 0){var b=Object.getPrototypeOf(k);return b===null?void 0:T(b,S,w)}if("value"in C)return C.value;var E=C.get;return E!==void 0?E.call(w):void 0}(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"destroy",this).call(this)}},{key:"open",value:function(T,k){this._dataSource=T,this._range=k;var S=T.url;this._config.reuseRedirectedURL&&T.redirectedURL!=null&&(S=T.redirectedURL);var w=this._seekHandler.getConfig(S,k);this._requestURL=w.url;var C=this._xhr=new XMLHttpRequest;if(C.open("GET",w.url,!0),C.responseType="moz-chunked-arraybuffer",C.onreadystatechange=this._onReadyStateChange.bind(this),C.onprogress=this._onProgress.bind(this),C.onloadend=this._onLoadEnd.bind(this),C.onerror=this._onXhrError.bind(this),T.withCredentials&&(C.withCredentials=!0),d(w.headers)==="object"){var b=w.headers;for(var E in b)b.hasOwnProperty(E)&&C.setRequestHeader(E,b[E])}if(d(this._config.headers)==="object"){var A=this._config.headers;for(var P in A)A.hasOwnProperty(P)&&C.setRequestHeader(P,A[P])}this._status=u.LoaderStatus.kConnecting,C.send()}},{key:"abort",value:function(){this._requestAbort=!0,this._xhr&&this._xhr.abort(),this._status=u.LoaderStatus.kComplete}},{key:"_onReadyStateChange",value:function(T){var k=T.target;if(k.readyState===2){if(k.responseURL!=null&&k.responseURL!==this._requestURL&&this._onURLRedirect){var S=this._seekHandler.removeURLParameters(k.responseURL);this._onURLRedirect(S)}if(k.status!==0&&(k.status<200||k.status>299)){if(this._status=u.LoaderStatus.kError,!this._onError)throw new c.RuntimeException("MozChunkedLoader: Http code invalid, "+k.status+" "+k.statusText);this._onError(u.LoaderErrors.HTTP_STATUS_CODE_INVALID,{code:k.status,msg:k.statusText})}else this._status=u.LoaderStatus.kBuffering}}},{key:"_onProgress",value:function(T){if(this._status!==u.LoaderStatus.kError){this._contentLength===null&&T.total!==null&&T.total!==0&&(this._contentLength=T.total,this._onContentLengthKnown&&this._onContentLengthKnown(this._contentLength));var k=T.target.response,S=this._range.from+this._receivedLength;this._receivedLength+=k.byteLength,this._onDataArrival&&this._onDataArrival(k,S,this._receivedLength)}}},{key:"_onLoadEnd",value:function(T){this._requestAbort!==!0?this._status!==u.LoaderStatus.kError&&(this._status=u.LoaderStatus.kComplete,this._onComplete&&this._onComplete(this._range.from,this._range.from+this._receivedLength-1)):this._requestAbort=!1}},{key:"_onXhrError",value:function(T){this._status=u.LoaderStatus.kError;var k=0,S=null;if(this._contentLength&&T.loaded<this._contentLength?(k=u.LoaderErrors.EARLY_EOF,S={code:-1,msg:"Moz-Chunked stream meet Early-Eof"}):(k=u.LoaderErrors.EXCEPTION,S={code:-1,msg:T.constructor.name+" "+T.type}),!this._onError)throw new c.RuntimeException(S.msg);this._onError(k,S)}}]),_}(u.BaseLoader);o.default=p},{"../utils/exception.js":40,"../utils/logger.js":41,"./loader.js":24}],30:[function(x,V,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},g=function(){function l(_,T){for(var k=0;k<T.length;k++){var S=T[k];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(_,S.key,S)}}return function(_,T,k){return T&&l(_.prototype,T),k&&l(_,k),_}}(),v=function(l){return l&&l.__esModule?l:{default:l}}(x("../utils/logger.js")),u=x("./loader.js"),c=x("../utils/exception.js"),p=function(l){function _(T,k){(function(w,C){if(!(w instanceof C))throw new TypeError("Cannot call a class as a function")})(this,_);var S=function(w,C){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!C||typeof C!="object"&&typeof C!="function"?w:C}(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,"xhr-msstream-loader"));return S.TAG="MSStreamLoader",S._seekHandler=T,S._config=k,S._needStash=!0,S._xhr=null,S._reader=null,S._totalRange=null,S._currentRange=null,S._currentRequestURL=null,S._currentRedirectedURL=null,S._contentLength=null,S._receivedLength=0,S._bufferLimit=16777216,S._lastTimeBufferSize=0,S._isReconnecting=!1,S}return function(T,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);T.prototype=Object.create(k&&k.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(T,k):T.__proto__=k)}(_,l),g(_,null,[{key:"isSupported",value:function(){try{if(self.MSStream===void 0||self.MSStreamReader===void 0)return!1;var T=new XMLHttpRequest;return T.open("GET","https://example.com",!0),T.responseType="ms-stream",T.responseType==="ms-stream"}catch(k){return v.default.w("MSStreamLoader",k.message),!1}}}]),g(_,[{key:"destroy",value:function(){this.isWorking()&&this.abort(),this._reader&&(this._reader.onprogress=null,this._reader.onload=null,this._reader.onerror=null,this._reader=null),this._xhr&&(this._xhr.onreadystatechange=null,this._xhr=null),function T(k,S,w){k===null&&(k=Function.prototype);var C=Object.getOwnPropertyDescriptor(k,S);if(C===void 0){var b=Object.getPrototypeOf(k);return b===null?void 0:T(b,S,w)}if("value"in C)return C.value;var E=C.get;return E!==void 0?E.call(w):void 0}(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"destroy",this).call(this)}},{key:"open",value:function(T,k){this._internalOpen(T,k,!1)}},{key:"_internalOpen",value:function(T,k,S){this._dataSource=T,S?this._currentRange=k:this._totalRange=k;var w=T.url;this._config.reuseRedirectedURL&&(this._currentRedirectedURL!=null?w=this._currentRedirectedURL:T.redirectedURL!=null&&(w=T.redirectedURL));var C=this._seekHandler.getConfig(w,k);this._currentRequestURL=C.url;var b=this._reader=new self.MSStreamReader;b.onprogress=this._msrOnProgress.bind(this),b.onload=this._msrOnLoad.bind(this),b.onerror=this._msrOnError.bind(this);var E=this._xhr=new XMLHttpRequest;if(E.open("GET",C.url,!0),E.responseType="ms-stream",E.onreadystatechange=this._xhrOnReadyStateChange.bind(this),E.onerror=this._xhrOnError.bind(this),T.withCredentials&&(E.withCredentials=!0),d(C.headers)==="object"){var A=C.headers;for(var P in A)A.hasOwnProperty(P)&&E.setRequestHeader(P,A[P])}if(d(this._config.headers)==="object"){var z=this._config.headers;for(var B in z)z.hasOwnProperty(B)&&E.setRequestHeader(B,z[B])}this._isReconnecting?this._isReconnecting=!1:this._status=u.LoaderStatus.kConnecting,E.send()}},{key:"abort",value:function(){this._internalAbort(),this._status=u.LoaderStatus.kComplete}},{key:"_internalAbort",value:function(){this._reader&&(this._reader.readyState===1&&this._reader.abort(),this._reader.onprogress=null,this._reader.onload=null,this._reader.onerror=null,this._reader=null),this._xhr&&(this._xhr.abort(),this._xhr.onreadystatechange=null,this._xhr=null)}},{key:"_xhrOnReadyStateChange",value:function(T){var k=T.target;if(k.readyState===2)if(k.status>=200&&k.status<=299){if(this._status=u.LoaderStatus.kBuffering,k.responseURL!=null){var S=this._seekHandler.removeURLParameters(k.responseURL);k.responseURL!==this._currentRequestURL&&S!==this._currentRedirectedURL&&(this._currentRedirectedURL=S,this._onURLRedirect&&this._onURLRedirect(S))}var w=k.getResponseHeader("Content-Length");if(w!=null&&this._contentLength==null){var C=parseInt(w);C>0&&(this._contentLength=C,this._onContentLengthKnown&&this._onContentLengthKnown(this._contentLength))}}else{if(this._status=u.LoaderStatus.kError,!this._onError)throw new c.RuntimeException("MSStreamLoader: Http code invalid, "+k.status+" "+k.statusText);this._onError(u.LoaderErrors.HTTP_STATUS_CODE_INVALID,{code:k.status,msg:k.statusText})}else if(k.readyState===3&&k.status>=200&&k.status<=299){this._status=u.LoaderStatus.kBuffering;var b=k.response;this._reader.readAsArrayBuffer(b)}}},{key:"_xhrOnError",value:function(T){this._status=u.LoaderStatus.kError;var k=u.LoaderErrors.EXCEPTION,S={code:-1,msg:T.constructor.name+" "+T.type};if(!this._onError)throw new c.RuntimeException(S.msg);this._onError(k,S)}},{key:"_msrOnProgress",value:function(T){var k=T.target.result;if(k!=null){var S=k.slice(this._lastTimeBufferSize);this._lastTimeBufferSize=k.byteLength;var w=this._totalRange.from+this._receivedLength;this._receivedLength+=S.byteLength,this._onDataArrival&&this._onDataArrival(S,w,this._receivedLength),k.byteLength>=this._bufferLimit&&(v.default.v(this.TAG,"MSStream buffer exceeded max size near "+(w+S.byteLength)+", reconnecting..."),this._doReconnectIfNeeded())}else this._doReconnectIfNeeded()}},{key:"_doReconnectIfNeeded",value:function(){if(this._contentLength==null||this._receivedLength<this._contentLength){this._isReconnecting=!0,this._lastTimeBufferSize=0,this._internalAbort();var T={from:this._totalRange.from+this._receivedLength,to:-1};this._internalOpen(this._dataSource,T,!0)}}},{key:"_msrOnLoad",value:function(T){this._status=u.LoaderStatus.kComplete,this._onComplete&&this._onComplete(this._totalRange.from,this._totalRange.from+this._receivedLength-1)}},{key:"_msrOnError",value:function(T){this._status=u.LoaderStatus.kError;var k=0,S=null;if(this._contentLength&&this._receivedLength<this._contentLength?(k=u.LoaderErrors.EARLY_EOF,S={code:-1,msg:"MSStream meet Early-Eof"}):(k=u.LoaderErrors.EARLY_EOF,S={code:-1,msg:T.constructor.name+" "+T.type}),!this._onError)throw new c.RuntimeException(S.msg);this._onError(k,S)}}]),_}(u.BaseLoader);o.default=p},{"../utils/exception.js":40,"../utils/logger.js":41,"./loader.js":24}],31:[function(x,V,o){"use strict";function d(T){return T&&T.__esModule?T:{default:T}}Object.defineProperty(o,"__esModule",{value:!0});var g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T},v=function(){function T(k,S){for(var w=0;w<S.length;w++){var C=S[w];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(k,C.key,C)}}return function(k,S,w){return S&&T(k.prototype,S),w&&T(k,w),k}}(),u=d(x("../utils/logger.js")),c=d(x("./speed-sampler.js")),p=x("./loader.js"),l=x("../utils/exception.js"),_=function(T){function k(S,w){(function(b,E){if(!(b instanceof E))throw new TypeError("Cannot call a class as a function")})(this,k);var C=function(b,E){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!E||typeof E!="object"&&typeof E!="function"?b:E}(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,"xhr-range-loader"));return C.TAG="RangeLoader",C._seekHandler=S,C._config=w,C._needStash=!1,C._chunkSizeKBList=[128,256,384,512,768,1024,1536,2048,3072,4096,5120,6144,7168,8192],C._currentChunkSizeKB=384,C._currentSpeedNormalized=0,C._zeroSpeedChunkCount=0,C._xhr=null,C._speedSampler=new c.default,C._requestAbort=!1,C._waitForTotalLength=!1,C._totalLengthReceived=!1,C._currentRequestURL=null,C._currentRedirectedURL=null,C._currentRequestRange=null,C._totalLength=null,C._contentLength=null,C._receivedLength=0,C._lastTimeLoaded=0,C}return function(S,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);S.prototype=Object.create(w&&w.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(S,w):S.__proto__=w)}(k,T),v(k,null,[{key:"isSupported",value:function(){try{var S=new XMLHttpRequest;return S.open("GET","https://example.com",!0),S.responseType="arraybuffer",S.responseType==="arraybuffer"}catch(w){return u.default.w("RangeLoader",w.message),!1}}}]),v(k,[{key:"destroy",value:function(){this.isWorking()&&this.abort(),this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onload=null,this._xhr.onerror=null,this._xhr=null),function S(w,C,b){w===null&&(w=Function.prototype);var E=Object.getOwnPropertyDescriptor(w,C);if(E===void 0){var A=Object.getPrototypeOf(w);return A===null?void 0:S(A,C,b)}if("value"in E)return E.value;var P=E.get;return P!==void 0?P.call(b):void 0}(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"destroy",this).call(this)}},{key:"open",value:function(S,w){this._dataSource=S,this._range=w,this._status=p.LoaderStatus.kConnecting;var C=!1;this._dataSource.filesize!=null&&this._dataSource.filesize!==0&&(C=!0,this._totalLength=this._dataSource.filesize),this._totalLengthReceived||C?this._openSubRange():(this._waitForTotalLength=!0,this._internalOpen(this._dataSource,{from:0,to:-1}))}},{key:"_openSubRange",value:function(){var S=1024*this._currentChunkSizeKB,w=this._range.from+this._receivedLength,C=w+S;this._contentLength!=null&&C-this._range.from>=this._contentLength&&(C=this._range.from+this._contentLength-1),this._currentRequestRange={from:w,to:C},this._internalOpen(this._dataSource,this._currentRequestRange)}},{key:"_internalOpen",value:function(S,w){this._lastTimeLoaded=0;var C=S.url;this._config.reuseRedirectedURL&&(this._currentRedirectedURL!=null?C=this._currentRedirectedURL:S.redirectedURL!=null&&(C=S.redirectedURL));var b=this._seekHandler.getConfig(C,w);this._currentRequestURL=b.url;var E=this._xhr=new XMLHttpRequest;if(E.open("GET",b.url,!0),E.responseType="arraybuffer",E.onreadystatechange=this._onReadyStateChange.bind(this),E.onprogress=this._onProgress.bind(this),E.onload=this._onLoad.bind(this),E.onerror=this._onXhrError.bind(this),S.withCredentials&&(E.withCredentials=!0),g(b.headers)==="object"){var A=b.headers;for(var P in A)A.hasOwnProperty(P)&&E.setRequestHeader(P,A[P])}if(g(this._config.headers)==="object"){var z=this._config.headers;for(var B in z)z.hasOwnProperty(B)&&E.setRequestHeader(B,z[B])}E.send()}},{key:"abort",value:function(){this._requestAbort=!0,this._internalAbort(),this._status=p.LoaderStatus.kComplete}},{key:"_internalAbort",value:function(){this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onload=null,this._xhr.onerror=null,this._xhr.abort(),this._xhr=null)}},{key:"_onReadyStateChange",value:function(S){var w=S.target;if(w.readyState===2){if(w.responseURL!=null){var C=this._seekHandler.removeURLParameters(w.responseURL);w.responseURL!==this._currentRequestURL&&C!==this._currentRedirectedURL&&(this._currentRedirectedURL=C,this._onURLRedirect&&this._onURLRedirect(C))}if(w.status>=200&&w.status<=299){if(this._waitForTotalLength)return;this._status=p.LoaderStatus.kBuffering}else{if(this._status=p.LoaderStatus.kError,!this._onError)throw new l.RuntimeException("RangeLoader: Http code invalid, "+w.status+" "+w.statusText);this._onError(p.LoaderErrors.HTTP_STATUS_CODE_INVALID,{code:w.status,msg:w.statusText})}}}},{key:"_onProgress",value:function(S){if(this._status!==p.LoaderStatus.kError){if(this._contentLength===null){var w=!1;if(this._waitForTotalLength){this._waitForTotalLength=!1,this._totalLengthReceived=!0,w=!0;var C=S.total;this._internalAbort(),C!=null&C!==0&&(this._totalLength=C)}if(this._range.to===-1?this._contentLength=this._totalLength-this._range.from:this._contentLength=this._range.to-this._range.from+1,w)return void this._openSubRange();this._onContentLengthKnown&&this._onContentLengthKnown(this._contentLength)}var b=S.loaded-this._lastTimeLoaded;this._lastTimeLoaded=S.loaded,this._speedSampler.addBytes(b)}}},{key:"_normalizeSpeed",value:function(S){var w=this._chunkSizeKBList,C=w.length-1,b=0,E=0,A=C;if(S<w[0])return w[0];for(;E<=A;){if((b=E+Math.floor((A-E)/2))===C||S>=w[b]&&S<w[b+1])return w[b];w[b]<S?E=b+1:A=b-1}}},{key:"_onLoad",value:function(S){if(this._status!==p.LoaderStatus.kError){if(this._waitForTotalLength)return void(this._waitForTotalLength=!1);this._lastTimeLoaded=0;var w=this._speedSampler.lastSecondKBps;if(w===0&&++this._zeroSpeedChunkCount>=3&&(w=this._speedSampler.currentKBps),w!==0){var C=this._normalizeSpeed(w);this._currentSpeedNormalized!==C&&(this._currentSpeedNormalized=C,this._currentChunkSizeKB=C)}var b=S.target.response,E=this._range.from+this._receivedLength;this._receivedLength+=b.byteLength;var A=!1;this._contentLength!=null&&this._receivedLength<this._contentLength?this._openSubRange():A=!0,this._onDataArrival&&this._onDataArrival(b,E,this._receivedLength),A&&(this._status=p.LoaderStatus.kComplete,this._onComplete&&this._onComplete(this._range.from,this._range.from+this._receivedLength-1))}}},{key:"_onXhrError",value:function(S){this._status=p.LoaderStatus.kError;var w=0,C=null;if(this._contentLength&&this._receivedLength>0&&this._receivedLength<this._contentLength?(w=p.LoaderErrors.EARLY_EOF,C={code:-1,msg:"RangeLoader meet Early-Eof"}):(w=p.LoaderErrors.EXCEPTION,C={code:-1,msg:S.constructor.name+" "+S.type}),!this._onError)throw new l.RuntimeException(C.msg);this._onError(w,C)}},{key:"currentSpeed",get:function(){return this._speedSampler.lastSecondKBps}}]),k}(p.BaseLoader);o.default=_},{"../utils/exception.js":40,"../utils/logger.js":41,"./loader.js":24,"./speed-sampler.js":27}],32:[function(x,V,o){"use strict";function d(A){return A&&A.__esModule?A:{default:A}}Object.defineProperty(o,"__esModule",{value:!0});var g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A},v=function(){function A(P,z){for(var B=0;B<z.length;B++){var H=z[B];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(P,H.key,H)}}return function(P,z,B){return z&&A(P.prototype,z),B&&A(P,B),P}}(),u=d(x("events")),c=d(x("../utils/logger.js")),p=d(x("../utils/browser.js")),l=d(x("./player-events.js")),_=d(x("../core/transmuxer.js")),T=d(x("../core/transmuxing-events.js")),k=d(x("../core/mse-controller.js")),S=d(x("../core/mse-events.js")),w=x("./player-errors.js"),C=x("../config.js"),b=x("../utils/exception.js"),E=function(){function A(P,z){if(function(H,K){if(!(H instanceof K))throw new TypeError("Cannot call a class as a function")}(this,A),this.TAG="FlvPlayer",this._type="FlvPlayer",this._emitter=new u.default,this._config=(0,C.createDefaultConfig)(),(z===void 0?"undefined":g(z))==="object"&&Object.assign(this._config,z),P.type.toLowerCase()!=="flv")throw new b.InvalidArgumentException("FlvPlayer requires an flv MediaDataSource input!");P.isLive===!0&&(this._config.isLive=!0),this.e={onvLoadedMetadata:this._onvLoadedMetadata.bind(this),onvSeeking:this._onvSeeking.bind(this),onvCanPlay:this._onvCanPlay.bind(this),onvStalled:this._onvStalled.bind(this),onvProgress:this._onvProgress.bind(this)},self.performance&&self.performance.now?this._now=self.performance.now.bind(self.performance):this._now=Date.now,this._pendingSeekTime=null,this._requestSetTime=!1,this._seekpointRecord=null,this._progressChecker=null,this._mediaDataSource=P,this._mediaElement=null,this._msectl=null,this._transmuxer=null,this._mseSourceOpened=!1,this._hasPendingLoad=!1,this._receivedCanPlay=!1,this._mediaInfo=null,this._statisticsInfo=null;var B=p.default.chrome&&(p.default.version.major<50||p.default.version.major===50&&p.default.version.build<2661);this._alwaysSeekKeyframe=!!(B||p.default.msedge||p.default.msie),this._alwaysSeekKeyframe&&(this._config.accurateSeek=!1)}return v(A,[{key:"destroy",value:function(){this._progressChecker!=null&&(window.clearInterval(this._progressChecker),this._progressChecker=null),this._transmuxer&&this.unload(),this._mediaElement&&this.detachMediaElement(),this.e=null,this._mediaDataSource=null,this._emitter&&this._emitter.removeAllListeners(),this._emitter=null}},{key:"on",value:function(P,z){var B=this;P===l.default.MEDIA_INFO?this._mediaInfo!=null&&Promise.resolve().then(function(){B._emitter.emit(l.default.MEDIA_INFO,B.mediaInfo)}):P===l.default.STATISTICS_INFO&&this._statisticsInfo!=null&&Promise.resolve().then(function(){B._emitter.emit(l.default.STATISTICS_INFO,B.statisticsInfo)}),this._emitter.addListener(P,z)}},{key:"off",value:function(P,z){this._emitter.removeListener(P,z)}},{key:"attachMediaElement",value:function(P){var z=this;if(this._mediaElement=P,P.addEventListener("loadedmetadata",this.e.onvLoadedMetadata),P.addEventListener("seeking",this.e.onvSeeking),P.addEventListener("canplay",this.e.onvCanPlay),P.addEventListener("stalled",this.e.onvStalled),P.addEventListener("progress",this.e.onvProgress),this._msectl=new k.default(this._config),this._msectl.on(S.default.UPDATE_END,this._onmseUpdateEnd.bind(this)),this._msectl.on(S.default.BUFFER_FULL,this._onmseBufferFull.bind(this)),this._msectl.on(S.default.SOURCE_OPEN,function(){z._mseSourceOpened=!0,z._hasPendingLoad&&(z._hasPendingLoad=!1,z.load())}),this._msectl.on(S.default.ERROR,function(B){z._emitter.emit(l.default.ERROR,w.ErrorTypes.MEDIA_ERROR,w.ErrorDetails.MEDIA_MSE_ERROR,B)}),this._msectl.attachMediaElement(P),this._pendingSeekTime!=null)try{P.currentTime=this._pendingSeekTime,this._pendingSeekTime=null}catch(B){}}},{key:"detachMediaElement",value:function(){this._mediaElement&&(this._msectl.detachMediaElement(),this._mediaElement.removeEventListener("loadedmetadata",this.e.onvLoadedMetadata),this._mediaElement.removeEventListener("seeking",this.e.onvSeeking),this._mediaElement.removeEventListener("canplay",this.e.onvCanPlay),this._mediaElement.removeEventListener("stalled",this.e.onvStalled),this._mediaElement.removeEventListener("progress",this.e.onvProgress),this._mediaElement=null),this._msectl&&(this._msectl.destroy(),this._msectl=null)}},{key:"load",value:function(){var P=this,z=!1,B=0;if(!this._mediaElement)throw new b.IllegalStateException("HTMLMediaElement must be attached before load()!");if(this._transmuxer)throw new b.IllegalStateException("FlvPlayer.load() has been called, please call unload() first!");if(!this._hasPendingLoad){if(this._config.deferLoadAfterSourceOpen&&this._mseSourceOpened===!1)return void(this._hasPendingLoad=!0);this._mediaElement.readyState>0&&(this._requestSetTime=!0,this._mediaElement.currentTime=0),this._transmuxer=new _.default(this._mediaDataSource,this._config),this._transmuxer.on(T.default.INIT_SEGMENT,function(H,K){P._msectl.appendInitSegment(K)}),this._transmuxer.on(T.default.MEDIA_SEGMENT,function(H,K){if(P._msectl.appendMediaSegment(K),P._config.isLive&&K.type=="video"){flvjs.reconnect&&(P.dataRetryTimer&&(clearTimeout(P.dataRetryTimer),P.dataRetryTimer=0),P.dataRetryTimer=setTimeout(function(){P._mediaElement&&(P.unload(),P.load(),setTimeout(function(){P.play().catch(function(){})},1e3),console.log("reconnect"))},1e3));var Q=P._mediaElement.currentTime,ct=P._mediaElement.paused,mt=K.info.beginPts-1e3*Q;if(mt>=3e3&&!z&&!ct&&Q){if(B&&B==Q)return void(mt>=5e3&&P._emitter.emit(l.default.ERROR,w.ErrorTypes.OTHER_ERROR,"got wrong timestamp ",K.info.beginPts));var It=K.info.beginPts/1e3-1;c.default.w(P.TAG,"Live seems stuck at "+Q+", try seek to "+It),z=!0,P._requestSetTime=!0,P.currentTime=It,B=Q}else K.info.beginPts-1e3*Q>=2e3&&z&&(z=!1)}P._config.lazyLoad&&!P._config.isLive&&(Q=P._mediaElement.currentTime,K.info.endDts>=1e3*(Q+P._config.lazyLoadMaxDuration)&&P._progressChecker==null&&(c.default.v(P.TAG,"Maximum buffering duration exceeded, suspend transmuxing task"),P._suspendTransmuxer()))}),this._transmuxer.on(T.default.LOADING_COMPLETE,function(){P._msectl.endOfStream(),P._emitter.emit(l.default.LOADING_COMPLETE)}),this._transmuxer.on(T.default.RECOVERED_EARLY_EOF,function(){P._emitter.emit(l.default.RECOVERED_EARLY_EOF)}),this._transmuxer.on(T.default.IO_ERROR,function(H,K){P._emitter.emit(l.default.ERROR,w.ErrorTypes.NETWORK_ERROR,H,K)}),this._transmuxer.on(T.default.DEMUX_ERROR,function(H,K){P._emitter.emit(l.default.ERROR,w.ErrorTypes.MEDIA_ERROR,H,{code:-1,msg:K})}),this._transmuxer.on(T.default.MEDIA_INFO,function(H){P._mediaInfo=H,P._emitter.emit(l.default.MEDIA_INFO,Object.assign({},H))}),this._transmuxer.on(T.default.METADATA_ARRIVED,function(H){P._emitter.emit(l.default.METADATA_ARRIVED,H)}),this._transmuxer.on(T.default.SCRIPTDATA_ARRIVED,function(H){P._emitter.emit(l.default.SCRIPTDATA_ARRIVED,H)}),this._transmuxer.on(T.default.STATISTICS_INFO,function(H){P._statisticsInfo=P._fillStatisticsInfo(H),P._emitter.emit(l.default.STATISTICS_INFO,Object.assign({},P._statisticsInfo))}),this._transmuxer.on(T.default.RECOMMEND_SEEKPOINT,function(H){P._mediaElement&&!P._config.accurateSeek&&(console.log("recommend seekpoint",H/1e3),P._requestSetTime=!0,P._mediaElement.currentTime=H/1e3)}),this._transmuxer.open()}}},{key:"unload",value:function(){this._mediaElement&&this._mediaElement.pause(),this._msectl&&this._msectl.seek(0),this._transmuxer&&(this._transmuxer.close(),this._transmuxer.destroy(),this._transmuxer=null)}},{key:"play",value:function(){return this._mediaElement.play()}},{key:"pause",value:function(){this._mediaElement.pause()}},{key:"_fillStatisticsInfo",value:function(P){if(P.playerType=this._type,!(this._mediaElement instanceof HTMLVideoElement))return P;var z=!0,B=0,H=0;if(this._mediaElement.getVideoPlaybackQuality){var K=this._mediaElement.getVideoPlaybackQuality();B=K.totalVideoFrames,H=K.droppedVideoFrames}else this._mediaElement.webkitDecodedFrameCount!=null?(B=this._mediaElement.webkitDecodedFrameCount,H=this._mediaElement.webkitDroppedFrameCount):z=!1;return z&&(P.decodedFrames=B,P.droppedFrames=H),P}},{key:"_onmseUpdateEnd",value:function(){if(this._config.lazyLoad&&!this._config.isLive){for(var P=this._mediaElement.buffered,z=this._mediaElement.currentTime,B=0,H=0;H<P.length;H++){var K=P.start(H),Q=P.end(H);if(K<=z&&z<Q){B=Q;break}}B>=z+this._config.lazyLoadMaxDuration&&this._progressChecker==null&&(c.default.v(this.TAG,"Maximum buffering duration exceeded, suspend transmuxing task"),this._suspendTransmuxer())}}},{key:"_onmseBufferFull",value:function(){c.default.v(this.TAG,"MSE SourceBuffer is full, suspend transmuxing task"),this._progressChecker==null&&this._suspendTransmuxer()}},{key:"_suspendTransmuxer",value:function(){this._transmuxer&&(this._transmuxer.pause(),this._progressChecker==null&&(this._progressChecker=window.setInterval(this._checkProgressAndResume.bind(this),1e3)))}},{key:"_checkProgressAndResume",value:function(){for(var P=this._mediaElement.currentTime,z=this._mediaElement.buffered,B=!1,H=0;H<z.length;H++){var K=z.start(H),Q=z.end(H);if(P>=K&&P<Q){P>=Q-this._config.lazyLoadRecoverDuration&&(B=!0);break}}B&&(window.clearInterval(this._progressChecker),this._progressChecker=null,B&&(c.default.v(this.TAG,"Continue loading from paused position"),this._transmuxer.resume()))}},{key:"_isTimepointBuffered",value:function(P){for(var z=this._mediaElement.buffered,B=0;B<z.length;B++){var H=z.start(B),K=z.end(B);if(P>=H&&P<K)return!0}return!1}},{key:"_internalSeek",value:function(P){var z=this._isTimepointBuffered(P),B=!1,H=0;if(P<1&&this._mediaElement.buffered.length>0){var K=this._mediaElement.buffered.start(0);(K<1&&P<K||p.default.safari)&&(B=!0,H=p.default.safari?.1:K)}if(B)this._requestSetTime=!0,this._mediaElement.currentTime=H;else if(z){if(this._alwaysSeekKeyframe){var Q=this._msectl.getNearestKeyframe(Math.floor(1e3*P));this._requestSetTime=!0,this._mediaElement.currentTime=Q!=null?Q.dts/1e3:P}else this._requestSetTime=!0,this._mediaElement.currentTime=P;this._progressChecker!=null&&this._checkProgressAndResume()}else this._progressChecker!=null&&(window.clearInterval(this._progressChecker),this._progressChecker=null),this._msectl.seek(P),this._transmuxer.seek(Math.floor(1e3*P)),this._config.accurateSeek&&(this._requestSetTime=!0,this._mediaElement.currentTime=P)}},{key:"_checkAndApplyUnbufferedSeekpoint",value:function(){if(this._seekpointRecord)if(this._seekpointRecord.recordTime<=this._now()-100){var P=this._mediaElement.currentTime;this._seekpointRecord=null,this._isTimepointBuffered(P)||(this._progressChecker!=null&&(window.clearTimeout(this._progressChecker),this._progressChecker=null),this._msectl.seek(P),this._transmuxer.seek(Math.floor(1e3*P)),this._config.accurateSeek&&(this._requestSetTime=!0,this._mediaElement.currentTime=P))}else window.setTimeout(this._checkAndApplyUnbufferedSeekpoint.bind(this),50)}},{key:"_checkAndResumeStuckPlayback",value:function(P){var z=this._mediaElement;if(P||!this._receivedCanPlay||z.readyState<2){var B=z.buffered;if(B.length>0&&z.currentTime<B.end(0)){if(this._config.isLive&&B.end(0)-z.currentTime>3600)return c.default.w(this.TAG,"Playback seems stuck at "+z.currentTime+", try seek to "+B.end(0)+", cancle"),this._mediaElement.removeEventListener("progress",this.e.onvProgress),void this._emitter.emit(l.default.ERROR,w.ErrorTypes.MEDIA_ERROR,"got wrong timestamp ",B.end(0));c.default.w(this.TAG,"Playback seems stuck at "+z.currentTime+", seek to "+B.end(0)),this._requestSetTime=!0,this._mediaElement.currentTime=B.end(0),this._mediaElement.removeEventListener("progress",this.e.onvProgress)}}else this._mediaElement.removeEventListener("progress",this.e.onvProgress)}},{key:"_onvLoadedMetadata",value:function(P){this._pendingSeekTime!=null&&(this._mediaElement.currentTime=this._pendingSeekTime,this._pendingSeekTime=null)}},{key:"_onvSeeking",value:function(P){var z=this._mediaElement.currentTime,B=this._mediaElement.buffered;if(this._requestSetTime)this._requestSetTime=!1;else{if(z<1&&B.length>0){var H=B.start(0);if(H<1&&z<H||p.default.safari)return this._requestSetTime=!0,void(this._mediaElement.currentTime=p.default.safari?.1:H)}if(this._isTimepointBuffered(z)){if(this._alwaysSeekKeyframe){var K=this._msectl.getNearestKeyframe(Math.floor(1e3*z));K!=null&&(this._requestSetTime=!0,this._mediaElement.currentTime=K.dts/1e3)}this._progressChecker!=null&&this._checkProgressAndResume()}else this._seekpointRecord={seekPoint:z,recordTime:this._now()},window.setTimeout(this._checkAndApplyUnbufferedSeekpoint.bind(this),50)}}},{key:"_onvCanPlay",value:function(P){this._receivedCanPlay=!0,this._mediaElement.removeEventListener("canplay",this.e.onvCanPlay)}},{key:"_onvStalled",value:function(P){this._checkAndResumeStuckPlayback(!0)}},{key:"_onvProgress",value:function(P){this._checkAndResumeStuckPlayback()}},{key:"type",get:function(){return this._type}},{key:"buffered",get:function(){return this._mediaElement.buffered}},{key:"duration",get:function(){return this._mediaElement.duration}},{key:"volume",get:function(){return this._mediaElement.volume},set:function(P){this._mediaElement.volume=P}},{key:"muted",get:function(){return this._mediaElement.muted},set:function(P){this._mediaElement.muted=P}},{key:"currentTime",get:function(){return this._mediaElement?this._mediaElement.currentTime:0},set:function(P){this._mediaElement?this._internalSeek(P):this._pendingSeekTime=P}},{key:"mediaInfo",get:function(){return Object.assign({},this._mediaInfo)}},{key:"statisticsInfo",get:function(){return this._statisticsInfo==null&&(this._statisticsInfo={}),this._statisticsInfo=this._fillStatisticsInfo(this._statisticsInfo),Object.assign({},this._statisticsInfo)}}]),A}();o.default=E},{"../config.js":5,"../core/mse-controller.js":9,"../core/mse-events.js":10,"../core/transmuxer.js":11,"../core/transmuxing-events.js":13,"../utils/browser.js":39,"../utils/exception.js":40,"../utils/logger.js":41,"./player-errors.js":34,"./player-events.js":35,events:2}],33:[function(x,V,o){"use strict";function d(T){return T&&T.__esModule?T:{default:T}}Object.defineProperty(o,"__esModule",{value:!0});var g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T},v=function(){function T(k,S){for(var w=0;w<S.length;w++){var C=S[w];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(k,C.key,C)}}return function(k,S,w){return S&&T(k.prototype,S),w&&T(k,w),k}}(),u=d(x("events")),c=d(x("./player-events.js")),p=x("../config.js"),l=x("../utils/exception.js"),_=function(){function T(k,S){if(function(w,C){if(!(w instanceof C))throw new TypeError("Cannot call a class as a function")}(this,T),this.TAG="NativePlayer",this._type="NativePlayer",this._emitter=new u.default,this._config=(0,p.createDefaultConfig)(),(S===void 0?"undefined":g(S))==="object"&&Object.assign(this._config,S),k.type.toLowerCase()==="flv")throw new l.InvalidArgumentException("NativePlayer does't support flv MediaDataSource input!");if(k.hasOwnProperty("segments"))throw new l.InvalidArgumentException("NativePlayer("+k.type+") doesn't support multipart playback!");this.e={onvLoadedMetadata:this._onvLoadedMetadata.bind(this)},this._pendingSeekTime=null,this._statisticsReporter=null,this._mediaDataSource=k,this._mediaElement=null}return v(T,[{key:"destroy",value:function(){this._mediaElement&&(this.unload(),this.detachMediaElement()),this.e=null,this._mediaDataSource=null,this._emitter&&this._emitter.removeAllListeners(),this._emitter=null}},{key:"on",value:function(k,S){var w=this;k===c.default.MEDIA_INFO?this._mediaElement!=null&&this._mediaElement.readyState!==0&&Promise.resolve().then(function(){w._emitter.emit(c.default.MEDIA_INFO,w.mediaInfo)}):k===c.default.STATISTICS_INFO&&this._mediaElement!=null&&this._mediaElement.readyState!==0&&Promise.resolve().then(function(){w._emitter.emit(c.default.STATISTICS_INFO,w.statisticsInfo)}),this._emitter.addListener(k,S)}},{key:"off",value:function(k,S){this._emitter.removeListener(k,S)}},{key:"attachMediaElement",value:function(k){if(this._mediaElement=k,k.addEventListener("loadedmetadata",this.e.onvLoadedMetadata),this._pendingSeekTime!=null)try{k.currentTime=this._pendingSeekTime,this._pendingSeekTime=null}catch(S){}}},{key:"detachMediaElement",value:function(){this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src"),this._mediaElement.removeEventListener("loadedmetadata",this.e.onvLoadedMetadata),this._mediaElement=null),this._statisticsReporter!=null&&(window.clearInterval(this._statisticsReporter),this._statisticsReporter=null)}},{key:"load",value:function(){if(!this._mediaElement)throw new l.IllegalStateException("HTMLMediaElement must be attached before load()!");this._mediaElement.src=this._mediaDataSource.url,this._mediaElement.readyState>0&&(this._mediaElement.currentTime=0),this._mediaElement.preload="auto",this._mediaElement.load(),this._statisticsReporter=window.setInterval(this._reportStatisticsInfo.bind(this),this._config.statisticsInfoReportInterval)}},{key:"unload",value:function(){this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src")),this._statisticsReporter!=null&&(window.clearInterval(this._statisticsReporter),this._statisticsReporter=null)}},{key:"play",value:function(){return this._mediaElement.play()}},{key:"pause",value:function(){this._mediaElement.pause()}},{key:"_onvLoadedMetadata",value:function(k){this._pendingSeekTime!=null&&(this._mediaElement.currentTime=this._pendingSeekTime,this._pendingSeekTime=null),this._emitter.emit(c.default.MEDIA_INFO,this.mediaInfo)}},{key:"_reportStatisticsInfo",value:function(){this._emitter.emit(c.default.STATISTICS_INFO,this.statisticsInfo)}},{key:"type",get:function(){return this._type}},{key:"buffered",get:function(){return this._mediaElement.buffered}},{key:"duration",get:function(){return this._mediaElement.duration}},{key:"volume",get:function(){return this._mediaElement.volume},set:function(k){this._mediaElement.volume=k}},{key:"muted",get:function(){return this._mediaElement.muted},set:function(k){this._mediaElement.muted=k}},{key:"currentTime",get:function(){return this._mediaElement?this._mediaElement.currentTime:0},set:function(k){this._mediaElement?this._mediaElement.currentTime=k:this._pendingSeekTime=k}},{key:"mediaInfo",get:function(){var k={mimeType:(this._mediaElement instanceof HTMLAudioElement?"audio/":"video/")+this._mediaDataSource.type};return this._mediaElement&&(k.duration=Math.floor(1e3*this._mediaElement.duration),this._mediaElement instanceof HTMLVideoElement&&(k.width=this._mediaElement.videoWidth,k.height=this._mediaElement.videoHeight)),k}},{key:"statisticsInfo",get:function(){var k={playerType:this._type,url:this._mediaDataSource.url};if(!(this._mediaElement instanceof HTMLVideoElement))return k;var S=!0,w=0,C=0;if(this._mediaElement.getVideoPlaybackQuality){var b=this._mediaElement.getVideoPlaybackQuality();w=b.totalVideoFrames,C=b.droppedVideoFrames}else this._mediaElement.webkitDecodedFrameCount!=null?(w=this._mediaElement.webkitDecodedFrameCount,C=this._mediaElement.webkitDroppedFrameCount):S=!1;return S&&(k.decodedFrames=w,k.droppedFrames=C),k}}]),T}();o.default=_},{"../config.js":5,"../utils/exception.js":40,"./player-events.js":35,events:2}],34:[function(x,V,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.ErrorDetails=o.ErrorTypes=void 0;var d=x("../io/loader.js"),g=function(v){return v&&v.__esModule?v:{default:v}}(x("../demux/demux-errors.js"));o.ErrorTypes={NETWORK_ERROR:"NetworkError",MEDIA_ERROR:"MediaError",OTHER_ERROR:"OtherError"},o.ErrorDetails={NETWORK_EXCEPTION:d.LoaderErrors.EXCEPTION,NETWORK_STATUS_CODE_INVALID:d.LoaderErrors.HTTP_STATUS_CODE_INVALID,NETWORK_TIMEOUT:d.LoaderErrors.CONNECTING_TIMEOUT,NETWORK_UNRECOVERABLE_EARLY_EOF:d.LoaderErrors.UNRECOVERABLE_EARLY_EOF,MEDIA_MSE_ERROR:"MediaMSEError",MEDIA_FORMAT_ERROR:g.default.FORMAT_ERROR,MEDIA_FORMAT_UNSUPPORTED:g.default.FORMAT_UNSUPPORTED,MEDIA_CODEC_UNSUPPORTED:g.default.CODEC_UNSUPPORTED}},{"../demux/demux-errors.js":16,"../io/loader.js":24}],35:[function(x,V,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default={ERROR:"error",LOADING_COMPLETE:"loading_complete",RECOVERED_EARLY_EOF:"recovered_early_eof",MEDIA_INFO:"media_info",METADATA_ARRIVED:"metadata_arrived",SCRIPTDATA_ARRIVED:"scriptdata_arrived",STATISTICS_INFO:"statistics_info"}},{}],36:[function(x,V,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var d=function(){function v(u,c){for(var p=0;p<c.length;p++){var l=c[p];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(u,l.key,l)}}return function(u,c,p){return c&&v(u.prototype,c),p&&v(u,p),u}}(),g=function(){function v(){(function(u,c){if(!(u instanceof c))throw new TypeError("Cannot call a class as a function")})(this,v)}return d(v,null,[{key:"getSilentFrame",value:function(u,c){if(u==="mp4a.40.2"){if(c===1)return new Uint8Array([0,200,0,128,35,128]);if(c===2)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(c===3)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(c===4)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(c===5)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(c===6)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(c===1)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(c===2)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(c===3)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null}}]),v}();o.default=g},{}],37:[function(x,V,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var d=function(){function v(u,c){for(var p=0;p<c.length;p++){var l=c[p];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(u,l.key,l)}}return function(u,c,p){return c&&v(u.prototype,c),p&&v(u,p),u}}(),g=function(){function v(){(function(u,c){if(!(u instanceof c))throw new TypeError("Cannot call a class as a function")})(this,v)}return d(v,null,[{key:"init",value:function(){for(var u in v.types={hvc1:[],hvcC:[],avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[],pasp:[],".mp3":[]},v.types)v.types.hasOwnProperty(u)&&(v.types[u]=[u.charCodeAt(0),u.charCodeAt(1),u.charCodeAt(2),u.charCodeAt(3)]);var c=v.constants={};c.FTYP=new Uint8Array([105,115,111,109,0,0,0,1,105,115,111,109,97,118,99,49]),c.STSD_PREFIX=new Uint8Array([0,0,0,0,0,0,0,1]),c.STTS=new Uint8Array([0,0,0,0,0,0,0,0]),c.STSC=c.STCO=c.STTS,c.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),c.HDLR_VIDEO=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),c.HDLR_AUDIO=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),c.DREF=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),c.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),c.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}},{key:"box",value:function(u){for(var c=8,p=null,l=Array.prototype.slice.call(arguments,1),_=l.length,T=0;T<_;T++)c+=l[T].byteLength;(p=new Uint8Array(c))[0]=c>>>24&255,p[1]=c>>>16&255,p[2]=c>>>8&255,p[3]=255&c,p.set(u,4);for(var k=8,S=0;S<_;S++)p.set(l[S],k),k+=l[S].byteLength;return p}},{key:"generateInitSegment",value:function(u){var c=v.box(v.types.ftyp,v.constants.FTYP),p=v.moov(u),l=new Uint8Array(c.byteLength+p.byteLength);return l.set(c,0),l.set(p,c.byteLength),l}},{key:"moov",value:function(u){var c=v.mvhd(u.timescale,u.duration),p=v.trak(u),l=v.mvex(u);return v.box(v.types.moov,c,p,l)}},{key:"mvhd",value:function(u,c){return v.box(v.types.mvhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,u>>>24&255,u>>>16&255,u>>>8&255,255&u,c>>>24&255,c>>>16&255,c>>>8&255,255&c,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]))}},{key:"trak",value:function(u){return v.box(v.types.trak,v.tkhd(u),v.mdia(u))}},{key:"tkhd",value:function(u){var c=u.id,p=u.duration,l=u.presentWidth,_=u.presentHeight;return v.box(v.types.tkhd,new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,c>>>24&255,c>>>16&255,c>>>8&255,255&c,0,0,0,0,p>>>24&255,p>>>16&255,p>>>8&255,255&p,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,l>>>8&255,255&l,0,0,_>>>8&255,255&_,0,0]))}},{key:"mdia",value:function(u){return v.box(v.types.mdia,v.mdhd(u),v.hdlr(u),v.minf(u))}},{key:"mdhd",value:function(u){var c=u.timescale,p=u.duration;return v.box(v.types.mdhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,c>>>24&255,c>>>16&255,c>>>8&255,255&c,p>>>24&255,p>>>16&255,p>>>8&255,255&p,85,196,0,0]))}},{key:"hdlr",value:function(u){var c;return c=u.type==="audio"?v.constants.HDLR_AUDIO:v.constants.HDLR_VIDEO,v.box(v.types.hdlr,c)}},{key:"minf",value:function(u){var c;return c=u.type==="audio"?v.box(v.types.smhd,v.constants.SMHD):v.box(v.types.vmhd,v.constants.VMHD),v.box(v.types.minf,c,v.dinf(),v.stbl(u))}},{key:"dinf",value:function(){return v.box(v.types.dinf,v.box(v.types.dref,v.constants.DREF))}},{key:"stbl",value:function(u){return v.box(v.types.stbl,v.stsd(u),v.box(v.types.stts,v.constants.STTS),v.box(v.types.stsc,v.constants.STSC),v.box(v.types.stsz,v.constants.STSZ),v.box(v.types.stco,v.constants.STCO))}},{key:"stsd",value:function(u){return u.type==="audio"?u.codec==="mp3"?v.box(v.types.stsd,v.constants.STSD_PREFIX,v.mp3(u)):v.box(v.types.stsd,v.constants.STSD_PREFIX,v.mp4a(u)):v.box(v.types.stsd,v.constants.STSD_PREFIX,v.avc1(u))}},{key:"mp3",value:function(u){var c=u.channelCount,p=u.audioSampleRate,l=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,c,0,16,0,0,0,0,p>>>8&255,255&p,0,0]);return v.box(v.types[".mp3"],l)}},{key:"mp4a",value:function(u){var c=u.channelCount,p=u.audioSampleRate,l=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,c,0,16,0,0,0,0,p>>>8&255,255&p,0,0]);return v.box(v.types.mp4a,l,v.esds(u))}},{key:"esds",value:function(u){var c=u.config||[],p=c.length,l=new Uint8Array([0,0,0,0,3,23+p,0,1,0,4,15+p,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([p]).concat(c).concat([6,1,2]));return v.box(v.types.esds,l)}},{key:"avc1",value:function(u){var c=u.avcc,p=u.codecWidth,l=u.codecHeight,_=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,p>>>8&255,255&p,l>>>8&255,255&l,0,72,0,0,0,72,0,0,0,0,0,0,0,1,10,120,113,113,47,102,108,118,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,255,255]);return u.codec.indexOf("hvc1")>=0?v.box(v.types.hvc1,_,v.box(v.types.hvcC,c)):v.box(v.types.avc1,_,v.box(v.types.avcC,c))}},{key:"mvex",value:function(u){return v.box(v.types.mvex,v.trex(u))}},{key:"trex",value:function(u){var c=u.id,p=new Uint8Array([0,0,0,0,c>>>24&255,c>>>16&255,c>>>8&255,255&c,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return v.box(v.types.trex,p)}},{key:"moof",value:function(u,c){return v.box(v.types.moof,v.mfhd(u.sequenceNumber),v.traf(u,c))}},{key:"mfhd",value:function(u){var c=new Uint8Array([0,0,0,0,u>>>24&255,u>>>16&255,u>>>8&255,255&u]);return v.box(v.types.mfhd,c)}},{key:"traf",value:function(u,c){var p=u.id,l=v.box(v.types.tfhd,new Uint8Array([0,0,0,0,p>>>24&255,p>>>16&255,p>>>8&255,255&p])),_=v.box(v.types.tfdt,new Uint8Array([0,0,0,0,c>>>24&255,c>>>16&255,c>>>8&255,255&c])),T=v.sdtp(u),k=v.trun(u,T.byteLength+16+16+8+16+8+8);return v.box(v.types.traf,l,_,k,T)}},{key:"sdtp",value:function(u){for(var c=u.samples||[],p=c.length,l=new Uint8Array(4+p),_=0;_<p;_++){var T=c[_].flags;l[_+4]=T.isLeading<<6|T.dependsOn<<4|T.isDependedOn<<2|T.hasRedundancy}return v.box(v.types.sdtp,l)}},{key:"trun",value:function(u,c){var p=u.samples||[],l=p.length,_=12+16*l,T=new Uint8Array(_);c+=8+_,T.set([0,0,15,1,l>>>24&255,l>>>16&255,l>>>8&255,255&l,c>>>24&255,c>>>16&255,c>>>8&255,255&c],0);for(var k=0;k<l;k++){var S=p[k].duration,w=p[k].size,C=p[k].flags,b=p[k].cts;T.set([S>>>24&255,S>>>16&255,S>>>8&255,255&S,w>>>24&255,w>>>16&255,w>>>8&255,255&w,C.isLeading<<2|C.dependsOn,C.isDependedOn<<6|C.hasRedundancy<<4|C.isNonSync,0,0,b>>>24&255,b>>>16&255,b>>>8&255,255&b],12+16*k)}return v.box(v.types.trun,T)}},{key:"mdat",value:function(u){return v.box(v.types.mdat,u)}}]),v}();g.init(),o.default=g},{}],38:[function(x,V,o){"use strict";function d(k){return k&&k.__esModule?k:{default:k}}Object.defineProperty(o,"__esModule",{value:!0});var g=function(){function k(S,w){for(var C=0;C<w.length;C++){var b=w[C];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(S,b.key,b)}}return function(S,w,C){return w&&k(S.prototype,w),C&&k(S,C),S}}(),v=d(x("../utils/logger.js")),u=d(x("./mp4-generator.js")),c=d(x("./aac-silent.js")),p=d(x("../utils/browser.js")),l=x("../core/media-segment-info.js"),_=x("../utils/exception.js"),T=function(){function k(S){(function(w,C){if(!(w instanceof C))throw new TypeError("Cannot call a class as a function")})(this,k),this.TAG="MP4Remuxer",this._config=S,this._isLive=S.isLive===!0,this._dtsBase=-1,this._dtsBaseInited=!1,this._audioDtsBase=1/0,this._videoDtsBase=1/0,this._audioNextDts=void 0,this._videoNextDts=void 0,this._audioStashedLastSample=null,this._videoStashedLastSample=null,this._audioMeta=null,this._videoMeta=null,this._audioSegmentInfoList=new l.MediaSegmentInfoList("audio"),this._videoSegmentInfoList=new l.MediaSegmentInfoList("video"),this._onInitSegment=null,this._onMediaSegment=null,this._forceFirstIDR=!(!p.default.chrome||!(p.default.version.major<50||p.default.version.major===50&&p.default.version.build<2661)),this._fillSilentAfterSeek=p.default.msedge||p.default.msie,this._mp3UseMpegAudio=!p.default.firefox,this._fillAudioTimestampGap=this._config.fixAudioTimestampGap}return g(k,[{key:"destroy",value:function(){this._dtsBase=-1,this._dtsBaseInited=!1,this._audioMeta=null,this._videoMeta=null,this._audioSegmentInfoList.clear(),this._audioSegmentInfoList=null,this._videoSegmentInfoList.clear(),this._videoSegmentInfoList=null,this._onInitSegment=null,this._onMediaSegment=null}},{key:"bindDataSource",value:function(S){return S.onDataAvailable=this.remux.bind(this),S.onTrackMetadata=this._onTrackMetadataReceived.bind(this),this}},{key:"insertDiscontinuity",value:function(){this._audioNextDts=this._videoNextDts=void 0}},{key:"seek",value:function(S){this._audioStashedLastSample=null,this._videoStashedLastSample=null,this._videoSegmentInfoList.clear(),this._audioSegmentInfoList.clear()}},{key:"remux",value:function(S,w){if(!this._onMediaSegment)throw new _.IllegalStateException("MP4Remuxer: onMediaSegment callback must be specificed!");this._dtsBaseInited||this._calculateDtsBase(S,w),this._remuxVideo(w),this._remuxAudio(S)}},{key:"_onTrackMetadataReceived",value:function(S,w){var C=null,b="mp4",E=w.codec;if(S==="audio")this._audioMeta=w,w.codec==="mp3"&&this._mp3UseMpegAudio?(b="mpeg",E="",C=new Uint8Array):C=u.default.generateInitSegment(w);else{if(S!=="video")return;this._videoMeta=w,C=u.default.generateInitSegment(w)}if(!this._onInitSegment)throw new _.IllegalStateException("MP4Remuxer: onInitSegment callback must be specified!");this._onInitSegment(S,{type:S,data:C.buffer,codec:E,container:S+"/"+b,mediaDuration:w.duration})}},{key:"_calculateDtsBase",value:function(S,w){this._dtsBaseInited||(S.samples&&S.samples.length&&(this._audioDtsBase=S.samples[0].dts),w.samples&&w.samples.length&&(this._videoDtsBase=w.samples[0].dts),this._dtsBase=Math.min(this._audioDtsBase,this._videoDtsBase),this._dtsBaseInited=!0)}},{key:"flushStashedSamples",value:function(){var S=this._videoStashedLastSample,w=this._audioStashedLastSample,C={type:"video",id:1,sequenceNumber:0,samples:[],length:0};S!=null&&(C.samples.push(S),C.length=S.length);var b={type:"audio",id:2,sequenceNumber:0,samples:[],length:0};w!=null&&(b.samples.push(w),b.length=w.length),this._videoStashedLastSample=null,this._audioStashedLastSample=null,this._remuxVideo(C,!0),this._remuxAudio(b,!0)}},{key:"_remuxAudio",value:function(S,w){if(this._audioMeta!=null){var C=S,b=C.samples,E=void 0,A=-1,P=-1,z=this._audioMeta.refSampleDuration,B=this._audioMeta.codec==="mp3"&&this._mp3UseMpegAudio,H=this._dtsBaseInited&&this._audioNextDts===void 0,K=!1;if(b&&b.length!==0&&(b.length!==1||w)){var Q=0,ct=null,mt=0;B?(Q=0,mt=C.length):(Q=8,mt=8+C.length);var It=null;if(b.length>1&&(mt-=(It=b.pop()).length),this._audioStashedLastSample!=null){var Dt=this._audioStashedLastSample;this._audioStashedLastSample=null,b.unshift(Dt),mt+=Dt.length}It!=null&&(this._audioStashedLastSample=It);var Wt=b[0].dts-this._dtsBase;if(this._audioNextDts)E=Wt-this._audioNextDts;else if(this._audioSegmentInfoList.isEmpty())E=0,this._fillSilentAfterSeek&&!this._videoSegmentInfoList.isEmpty()&&this._audioMeta.originalCodec!=="mp3"&&(K=!0);else{var Zt=this._audioSegmentInfoList.getLastSampleBefore(Wt);if(Zt!=null){var Rt=Wt-(Zt.originalDts+Zt.duration);Rt<=3&&(Rt=0),E=Wt-(Zt.dts+Zt.duration+Rt)}else E=0}if(K){var qt=Wt-E,ae=this._videoSegmentInfoList.getLastSegmentBefore(Wt);if(ae!=null&&ae.beginDts<qt){var Ut=c.default.getSilentFrame(this._audioMeta.originalCodec,this._audioMeta.channelCount);if(Ut){var U=ae.beginDts,ot=qt-ae.beginDts;v.default.v(this.TAG,"InsertPrefixSilentAudio: dts: "+U+", duration: "+ot),b.unshift({unit:Ut,dts:U,pts:U}),mt+=Ut.byteLength}}else K=!1}for(var lt=[],gt=0;gt<b.length;gt++){var Lt=b[gt],vt=Lt.unit,ht=Lt.dts-this._dtsBase,pt=ht,Bt=!1,Ot=null,zt=0;if(!(ht<-.001)){if(this._audioMeta.codec!=="mp3"){var se=ht;if(this._audioNextDts&&(se=this._audioNextDts),(E=ht-se)<=-3*z){v.default.w(this.TAG,"Dropping 1 audio frame (originalDts: "+ht+" ms ,curRefDts: "+se+" ms)  due to dtsCorrection: "+E+" ms overlap.");continue}if(E>=3*z&&this._fillAudioTimestampGap&&!p.default.safari){Bt=!0;var Oe=Math.floor(E/z);v.default.w(this.TAG,`Large audio timestamp gap detected, may cause AV sync to drift. Silent frames will be generated to avoid unsync.
originalDts: `+ht+" ms, curRefDts: "+se+" ms, dtsCorrection: "+Math.round(E)+" ms, generate: "+Oe+" frames"),pt=Math.floor(se),zt=Math.floor(se+z)-pt;var le=c.default.getSilentFrame(this._audioMeta.originalCodec,this._audioMeta.channelCount);le==null&&(v.default.w(this.TAG,"Unable to generate silent frame for "+this._audioMeta.originalCodec+" with "+this._audioMeta.channelCount+" channels, repeat last frame"),le=vt),Ot=[];for(var Qt=0;Qt<Oe;Qt++){se+=z;var Ke=Math.floor(se),Ee=Math.floor(se+z)-Ke,Je={dts:Ke,pts:Ke,cts:0,unit:le,size:le.byteLength,duration:Ee,originalDts:ht,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0}};Ot.push(Je),mt+=Je.size}this._audioNextDts=se+z}else pt=Math.floor(se),zt=Math.floor(se+z)-pt,this._audioNextDts=se+z}else pt=ht-E,gt!==b.length-1?zt=b[gt+1].dts-this._dtsBase-E-pt:It!=null?zt=It.dts-this._dtsBase-E-pt:zt=lt.length>=1?lt[lt.length-1].duration:Math.floor(z),this._audioNextDts=pt+zt;A===-1&&(A=pt),lt.push({dts:pt,pts:pt,cts:0,unit:Lt.unit,size:Lt.unit.byteLength,duration:zt,originalDts:ht,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0}}),Bt&&lt.push.apply(lt,Ot)}}if(lt.length===0)return C.samples=[],void(C.length=0);B?ct=new Uint8Array(mt):((ct=new Uint8Array(mt))[0]=mt>>>24&255,ct[1]=mt>>>16&255,ct[2]=mt>>>8&255,ct[3]=255&mt,ct.set(u.default.types.mdat,4));for(var Te=0;Te<lt.length;Te++){var zn=lt[Te].unit;ct.set(zn,Q),Q+=zn.byteLength}var te=lt[lt.length-1];P=te.dts+te.duration;var Se=new l.MediaSegmentInfo;Se.beginDts=A,Se.endDts=P,Se.beginPts=A,Se.endPts=P,Se.originalBeginDts=lt[0].originalDts,Se.originalEndDts=te.originalDts+te.duration,Se.firstSample=new l.SampleInfo(lt[0].dts,lt[0].pts,lt[0].duration,lt[0].originalDts,!1),Se.lastSample=new l.SampleInfo(te.dts,te.pts,te.duration,te.originalDts,!1),this._isLive||this._audioSegmentInfoList.append(Se),C.samples=lt,C.sequenceNumber++;var ve;ve=B?new Uint8Array:u.default.moof(C,A),C.samples=[],C.length=0;var ce={type:"audio",data:this._mergeBoxes(ve,ct).buffer,sampleCount:lt.length,info:Se};B&&H&&(ce.timestampOffset=A),this._onMediaSegment("audio",ce)}}}},{key:"_remuxVideo",value:function(S,w){if(this._videoMeta!=null){var C=S,b=C.samples,E=void 0,A=-1,P=-1,z=-1,B=-1;if(b&&b.length!==0&&(b.length!==1||w)){var H=8,K=null,Q=8+S.length,ct=null;if(b.length>1&&(Q-=(ct=b.pop()).length),this._videoStashedLastSample!=null){var mt=this._videoStashedLastSample;this._videoStashedLastSample=null,b.unshift(mt),Q+=mt.length}ct!=null&&(this._videoStashedLastSample=ct);var It=b[0].dts-this._dtsBase;if(this._videoNextDts)E=It-this._videoNextDts;else if(this._videoSegmentInfoList.isEmpty())E=0;else{var Dt=this._videoSegmentInfoList.getLastSampleBefore(It);if(Dt!=null){var Wt=It-(Dt.originalDts+Dt.duration);Wt<=3&&(Wt=0),E=It-(Dt.dts+Dt.duration+Wt)}else E=0}for(var Zt=new l.MediaSegmentInfo,Rt=[],qt=0;qt<b.length;qt++){var ae=b[qt],Ut=ae.dts-this._dtsBase,U=ae.isKeyframe,ot=Ut-E,lt=ae.cts,gt=ot+lt;A===-1&&(A=ot,z=gt);var Lt=0;if(qt!==b.length-1?Lt=b[qt+1].dts-this._dtsBase-E-ot:ct!=null?Lt=ct.dts-this._dtsBase-E-ot:Lt=Rt.length>=1?Rt[Rt.length-1].duration:Math.floor(this._videoMeta.refSampleDuration),U){var vt=new l.SampleInfo(ot,gt,Lt,ae.dts,!0);vt.fileposition=ae.fileposition,Zt.appendSyncPoint(vt)}Rt.push({dts:ot,pts:gt,cts:lt,units:ae.units,size:ae.length,isKeyframe:U,duration:Lt,originalDts:Ut,flags:{isLeading:0,dependsOn:U?2:1,isDependedOn:U?1:0,hasRedundancy:0,isNonSync:U?0:1}})}(K=new Uint8Array(Q))[0]=Q>>>24&255,K[1]=Q>>>16&255,K[2]=Q>>>8&255,K[3]=255&Q,K.set(u.default.types.mdat,4);for(var ht=0;ht<Rt.length;ht++)for(var pt=Rt[ht].units;pt.length;){var Bt=pt.shift().data;K.set(Bt,H),H+=Bt.byteLength}var Ot=Rt[Rt.length-1];if(P=Ot.dts+Ot.duration,B=Ot.pts+Ot.duration,this._videoNextDts=P,Zt.beginDts=A,Zt.endDts=P,Zt.beginPts=z,Zt.endPts=B,Zt.originalBeginDts=Rt[0].originalDts,Zt.originalEndDts=Ot.originalDts+Ot.duration,Zt.firstSample=new l.SampleInfo(Rt[0].dts,Rt[0].pts,Rt[0].duration,Rt[0].originalDts,Rt[0].isKeyframe),Zt.lastSample=new l.SampleInfo(Ot.dts,Ot.pts,Ot.duration,Ot.originalDts,Ot.isKeyframe),this._isLive||this._videoSegmentInfoList.append(Zt),C.samples=Rt,C.sequenceNumber++,this._forceFirstIDR){var zt=Rt[0].flags;zt.dependsOn=2,zt.isNonSync=0}var se=u.default.moof(C,A);C.samples=[],C.length=0,this._onMediaSegment("video",{type:"video",data:this._mergeBoxes(se,K).buffer,sampleCount:Rt.length,info:Zt})}}}},{key:"_mergeBoxes",value:function(S,w){var C=new Uint8Array(S.byteLength+w.byteLength);return C.set(S,0),C.set(w,S.byteLength),C}},{key:"onInitSegment",get:function(){return this._onInitSegment},set:function(S){this._onInitSegment=S}},{key:"onMediaSegment",get:function(){return this._onMediaSegment},set:function(S){this._onMediaSegment=S}}]),k}();o.default=T},{"../core/media-segment-info.js":8,"../utils/browser.js":39,"../utils/exception.js":40,"../utils/logger.js":41,"./aac-silent.js":36,"./mp4-generator.js":37}],39:[function(x,V,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var d={};(function(){var g=self.navigator.userAgent.toLowerCase(),v=/(edge)\/([\w.]+)/.exec(g)||/(opr)[\/]([\w.]+)/.exec(g)||/(chrome)[ \/]([\w.]+)/.exec(g)||/(iemobile)[\/]([\w.]+)/.exec(g)||/(version)(applewebkit)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(g)||/(webkit)[ \/]([\w.]+).*(version)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(g)||/(webkit)[ \/]([\w.]+)/.exec(g)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(g)||/(msie) ([\w.]+)/.exec(g)||g.indexOf("trident")>=0&&/(rv)(?::| )([\w.]+)/.exec(g)||g.indexOf("compatible")<0&&/(firefox)[ \/]([\w.]+)/.exec(g)||[],u=/(ipad)/.exec(g)||/(ipod)/.exec(g)||/(windows phone)/.exec(g)||/(iphone)/.exec(g)||/(kindle)/.exec(g)||/(android)/.exec(g)||/(windows)/.exec(g)||/(mac)/.exec(g)||/(linux)/.exec(g)||/(cros)/.exec(g)||[],c={browser:v[5]||v[3]||v[1]||"",version:v[2]||v[4]||"0",majorVersion:v[4]||v[2]||"0",platform:u[0]||""},p={};if(c.browser){p[c.browser]=!0;var l=c.majorVersion.split(".");p.version={major:parseInt(c.majorVersion,10),string:c.version},l.length>1&&(p.version.minor=parseInt(l[1],10)),l.length>2&&(p.version.build=parseInt(l[2],10))}for(var _ in c.platform&&(p[c.platform]=!0),(p.chrome||p.opr||p.safari)&&(p.webkit=!0),(p.rv||p.iemobile)&&(p.rv&&delete p.rv,c.browser="msie",p.msie=!0),p.edge&&(delete p.edge,c.browser="msedge",p.msedge=!0),p.opr&&(c.browser="opera",p.opera=!0),p.safari&&p.android&&(c.browser="android",p.android=!0),p.name=c.browser,p.platform=c.platform,d)d.hasOwnProperty(_)&&delete d[_];Object.assign(d,p)})(),o.default=d},{}],40:[function(x,V,o){"use strict";function d(p,l){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!l||typeof l!="object"&&typeof l!="function"?p:l}function g(p,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof l);p.prototype=Object.create(l&&l.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(p,l):p.__proto__=l)}function v(p,l){if(!(p instanceof l))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(o,"__esModule",{value:!0});var u=function(){function p(l,_){for(var T=0;T<_.length;T++){var k=_[T];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(l,k.key,k)}}return function(l,_,T){return _&&p(l.prototype,_),T&&p(l,T),l}}(),c=o.RuntimeException=function(){function p(l){v(this,p),this._message=l}return u(p,[{key:"toString",value:function(){return this.name+": "+this.message}},{key:"name",get:function(){return"RuntimeException"}},{key:"message",get:function(){return this._message}}]),p}();o.IllegalStateException=function(p){function l(_){return v(this,l),d(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,_))}return g(l,p),u(l,[{key:"name",get:function(){return"IllegalStateException"}}]),l}(c),o.InvalidArgumentException=function(p){function l(_){return v(this,l),d(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,_))}return g(l,p),u(l,[{key:"name",get:function(){return"InvalidArgumentException"}}]),l}(c),o.NotImplementedException=function(p){function l(_){return v(this,l),d(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,_))}return g(l,p),u(l,[{key:"name",get:function(){return"NotImplementedException"}}]),l}(c)},{}],41:[function(x,V,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var d=function(){function u(c,p){for(var l=0;l<p.length;l++){var _=p[l];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(c,_.key,_)}}return function(c,p,l){return p&&u(c.prototype,p),l&&u(c,l),c}}(),g=function(u){return u&&u.__esModule?u:{default:u}}(x("events")),v=function(){function u(){(function(c,p){if(!(c instanceof p))throw new TypeError("Cannot call a class as a function")})(this,u)}return d(u,null,[{key:"e",value:function(c,p){c&&!u.FORCE_GLOBAL_TAG||(c=u.GLOBAL_TAG);var l="["+c+"] > "+p;u.ENABLE_CALLBACK&&u.emitter.emit("log","error",l),u.ENABLE_ERROR&&(console.error?console.error(l):console.warn?console.warn(l):console.log(l))}},{key:"i",value:function(c,p){c&&!u.FORCE_GLOBAL_TAG||(c=u.GLOBAL_TAG);var l="["+c+"] > "+p;u.ENABLE_CALLBACK&&u.emitter.emit("log","info",l),u.ENABLE_INFO&&(console.info?console.info(l):console.log(l))}},{key:"w",value:function(c,p){c&&!u.FORCE_GLOBAL_TAG||(c=u.GLOBAL_TAG);var l="["+c+"] > "+p;u.ENABLE_CALLBACK&&u.emitter.emit("log","warn",l),u.ENABLE_WARN&&(console.warn?console.warn(l):console.log(l))}},{key:"d",value:function(c,p){c&&!u.FORCE_GLOBAL_TAG||(c=u.GLOBAL_TAG);var l="["+c+"] > "+p;u.ENABLE_CALLBACK&&u.emitter.emit("log","debug",l),u.ENABLE_DEBUG&&(console.debug?console.debug(l):console.log(l))}},{key:"v",value:function(c,p){c&&!u.FORCE_GLOBAL_TAG||(c=u.GLOBAL_TAG);var l="["+c+"] > "+p;u.ENABLE_CALLBACK&&u.emitter.emit("log","verbose",l),u.ENABLE_VERBOSE&&console.log(l)}}]),u}();v.GLOBAL_TAG="flv.js",v.FORCE_GLOBAL_TAG=!1,v.ENABLE_ERROR=!0,v.ENABLE_INFO=!0,v.ENABLE_WARN=!0,v.ENABLE_DEBUG=!0,v.ENABLE_VERBOSE=!0,v.ENABLE_CALLBACK=!1,v.emitter=new g.default,o.default=v},{events:2}],42:[function(x,V,o){"use strict";function d(p){return p&&p.__esModule?p:{default:p}}Object.defineProperty(o,"__esModule",{value:!0});var g=function(){function p(l,_){for(var T=0;T<_.length;T++){var k=_[T];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(l,k.key,k)}}return function(l,_,T){return _&&p(l.prototype,_),T&&p(l,T),l}}(),v=d(x("events")),u=d(x("./logger.js")),c=function(){function p(){(function(l,_){if(!(l instanceof _))throw new TypeError("Cannot call a class as a function")})(this,p)}return g(p,null,[{key:"getConfig",value:function(){return{globalTag:u.default.GLOBAL_TAG,forceGlobalTag:u.default.FORCE_GLOBAL_TAG,enableVerbose:u.default.ENABLE_VERBOSE,enableDebug:u.default.ENABLE_DEBUG,enableInfo:u.default.ENABLE_INFO,enableWarn:u.default.ENABLE_WARN,enableError:u.default.ENABLE_ERROR,enableCallback:u.default.ENABLE_CALLBACK}}},{key:"applyConfig",value:function(l){u.default.GLOBAL_TAG=l.globalTag,u.default.FORCE_GLOBAL_TAG=l.forceGlobalTag,u.default.ENABLE_VERBOSE=l.enableVerbose,u.default.ENABLE_DEBUG=l.enableDebug,u.default.ENABLE_INFO=l.enableInfo,u.default.ENABLE_WARN=l.enableWarn,u.default.ENABLE_ERROR=l.enableError,u.default.ENABLE_CALLBACK=l.enableCallback}},{key:"_notifyChange",value:function(){var l=p.emitter;if(l.listenerCount("change")>0){var _=p.getConfig();l.emit("change",_)}}},{key:"registerListener",value:function(l){p.emitter.addListener("change",l)}},{key:"removeListener",value:function(l){p.emitter.removeListener("change",l)}},{key:"addLogListener",value:function(l){u.default.emitter.addListener("log",l),u.default.emitter.listenerCount("log")>0&&(u.default.ENABLE_CALLBACK=!0,p._notifyChange())}},{key:"removeLogListener",value:function(l){u.default.emitter.removeListener("log",l),u.default.emitter.listenerCount("log")===0&&(u.default.ENABLE_CALLBACK=!1,p._notifyChange())}},{key:"forceGlobalTag",get:function(){return u.default.FORCE_GLOBAL_TAG},set:function(l){u.default.FORCE_GLOBAL_TAG=l,p._notifyChange()}},{key:"globalTag",get:function(){return u.default.GLOBAL_TAG},set:function(l){u.default.GLOBAL_TAG=l,p._notifyChange()}},{key:"enableAll",get:function(){return u.default.ENABLE_VERBOSE&&u.default.ENABLE_DEBUG&&u.default.ENABLE_INFO&&u.default.ENABLE_WARN&&u.default.ENABLE_ERROR},set:function(l){u.default.ENABLE_VERBOSE=l,u.default.ENABLE_DEBUG=l,u.default.ENABLE_INFO=l,u.default.ENABLE_WARN=l,u.default.ENABLE_ERROR=l,p._notifyChange()}},{key:"enableDebug",get:function(){return u.default.ENABLE_DEBUG},set:function(l){u.default.ENABLE_DEBUG=l,p._notifyChange()}},{key:"enableVerbose",get:function(){return u.default.ENABLE_VERBOSE},set:function(l){u.default.ENABLE_VERBOSE=l,p._notifyChange()}},{key:"enableInfo",get:function(){return u.default.ENABLE_INFO},set:function(l){u.default.ENABLE_INFO=l,p._notifyChange()}},{key:"enableWarn",get:function(){return u.default.ENABLE_WARN},set:function(l){u.default.ENABLE_WARN=l,p._notifyChange()}},{key:"enableError",get:function(){return u.default.ENABLE_ERROR},set:function(l){u.default.ENABLE_ERROR=l,p._notifyChange()}}]),p}();c.emitter=new v.default,o.default=c},{"./logger.js":41,events:2}],43:[function(x,V,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var d=function(){function v(u,c){for(var p=0;p<c.length;p++){var l=c[p];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(u,l.key,l)}}return function(u,c,p){return c&&v(u.prototype,c),p&&v(u,p),u}}(),g=function(){function v(){(function(u,c){if(!(u instanceof c))throw new TypeError("Cannot call a class as a function")})(this,v)}return d(v,null,[{key:"install",value:function(){Object.setPrototypeOf=Object.setPrototypeOf||function(u,c){return u.__proto__=c,u},Object.assign=Object.assign||function(u){if(u==null)throw new TypeError("Cannot convert undefined or null to object");for(var c=Object(u),p=1;p<arguments.length;p++){var l=arguments[p];if(l!=null)for(var _ in l)l.hasOwnProperty(_)&&(c[_]=l[_])}return c},typeof self.Promise!="function"&&x("es6-promise").polyfill()}}]),v}();g.install(),o.default=g},{"es6-promise":1}],44:[function(x,V,o){"use strict";function d(g,v,u){var c=g;if(v+u<c.length){for(;u--;)if((192&c[++v])!=128)return!1;return!0}return!1}Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(g){for(var v=[],u=g,c=0,p=g.length;c<p;)if(u[c]<128)v.push(String.fromCharCode(u[c])),++c;else{if(!(u[c]<192)){if(u[c]<224){if(d(u,c,1)){var l=(31&u[c])<<6|63&u[c+1];if(l>=128){v.push(String.fromCharCode(65535&l)),c+=2;continue}}}else if(u[c]<240){if(d(u,c,2)){var _=(15&u[c])<<12|(63&u[c+1])<<6|63&u[c+2];if(_>=2048&&(63488&_)!=55296){v.push(String.fromCharCode(65535&_)),c+=3;continue}}}else if(u[c]<248&&d(u,c,3)){var T=(7&u[c])<<18|(63&u[c+1])<<12|(63&u[c+2])<<6|63&u[c+3];if(T>65536&&T<1114112){T-=65536,v.push(String.fromCharCode(T>>>10|55296)),v.push(String.fromCharCode(1023&T|56320)),c+=4;continue}}}v.push(String.fromCharCode(65533)),++c}return v.join("")}},{}]},{},[21])(21)}),function(x,V){typeof exports=="object"&&typeof module!="undefined"?module.exports=V(require("video.js")):typeof define=="function"&&define.amd?define(["video.js"],V):x.videojsFlash=V(x.videojs)}(this,function(x){"use strict";function V(b){S[b]=function(){return this.el_.vjs_getProperty(b)}}x=x&&x.hasOwnProperty("default")?x.default:x;for(var o=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},d=typeof window!="undefined"?window:o!==void 0?o:typeof self!="undefined"?self:{},g=x.getComponent("Tech"),v=x.dom,u=x.url,c=x.createTimeRange,p=x.mergeOptions,l=d&&d.navigator||{},_=function(b){function E(A,P){(function(B,H){if(!(B instanceof H))throw new TypeError("Cannot call a class as a function")})(this,E);var z=function(B,H){if(!B)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!H||typeof H!="object"&&typeof H!="function"?B:H}(this,b.call(this,A,P));return A.source&&z.ready(function(){this.setSource(A.source)},!0),A.startTime&&z.ready(function(){this.load(),this.play(),this.currentTime(A.startTime)},!0),d.videojs=d.videojs||{},d.videojs.Flash=d.videojs.Flash||{},d.videojs.Flash.onReady=E.onReady,d.videojs.Flash.onEvent=E.onEvent,d.videojs.Flash.onError=E.onError,z.on("seeked",function(){this.lastSeekTarget_=void 0}),z}return function(A,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);A.prototype=Object.create(P&&P.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(A,P):A.__proto__=P)}(E,b),E.prototype.createEl=function(){var A=this.options_;A.swf||(A.swf="https://vjs.zencdn.net/swf/5.4.2/video-js.swf");var P=A.techId,z=p({readyFunction:"videojs.Flash.onReady",eventProxyFunction:"videojs.Flash.onEvent",errorEventProxyFunction:"videojs.Flash.onError",autoplay:A.autoplay,stretch:A.stretch||!1,fluent:A.fluent||!1,preload:A.preload,loop:A.loop,muted:A.muted},A.flashVars),B=p({wmode:"opaque",bgcolor:"#000000"},A.params),H=p({id:P,name:P,class:"vjs-tech"},A.attributes);return this.el_=E.embed(A.swf,z,B,H),this.el_.tech=this,this.el_},E.prototype.play=function(){this.ended()&&this.setCurrentTime(0),this.el_.vjs_play()},E.prototype.pause=function(){this.el_.vjs_pause()},E.prototype.src=function(A){return A===void 0?this.currentSrc():this.setSrc(A)},E.prototype.setSrc=function(A){var P=this;A=u.getAbsoluteURL(A),this.el_.vjs_src(A),this.autoplay()&&this.setTimeout(function(){return P.play()},0)},E.prototype.seeking=function(){return this.lastSeekTarget_!==void 0},E.prototype.setCurrentTime=function(A){var P=this.seekable();P.length&&(A=(A=A>P.start(0)?A:P.start(0))<P.end(P.length-1)?A:P.end(P.length-1),this.lastSeekTarget_=A,this.trigger("seeking"),this.el_.vjs_setProperty("currentTime",A),b.prototype.setCurrentTime.call(this))},E.prototype.currentTime=function(){return this.seeking()?this.lastSeekTarget_||0:this.el_.vjs_getProperty("currentTime")},E.prototype.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.vjs_getProperty("currentSrc")},E.prototype.duration=function(){if(this.readyState()===0)return NaN;var A=this.el_.vjs_getProperty("duration");return A>=0?A:1/0},E.prototype.load=function(){this.el_.vjs_load()},E.prototype.poster=function(){this.el_.vjs_getProperty("poster")},E.prototype.setPoster=function(){},E.prototype.seekable=function(){var A=this.duration();return A===0?c():c(0,A)},E.prototype.buffered=function(){var A=this.el_.vjs_getProperty("buffered");return A.length===0?c():c(A[0][0],A[0][1])},E.prototype.supportsFullScreen=function(){return!1},E.prototype.enterFullScreen=function(){return!1},E.prototype.getVideoPlaybackQuality=function(){var A=this.el_.vjs_getProperty("getVideoPlaybackQuality");return d.performance&&typeof d.performance.now=="function"?A.creationTime=d.performance.now():d.performance&&d.performance.timing&&typeof d.performance.timing.navigationStart=="number"&&(A.creationTime=d.Date.now()-d.performance.timing.navigationStart),A},E}(g),T=["rtmpConnection","rtmpStream","preload","defaultPlaybackRate","playbackRate","autoplay","stretch","fluent","loop","controls","volume","muted","defaultMuted"],k=["networkState","readyState","initialTime","startOffsetTime","paused","ended","videoWidth","videoHeight"],S=_.prototype,w=0;w<T.length;w++)V(T[w]),function(b){var E=b.charAt(0).toUpperCase()+b.slice(1);S["set"+E]=function(A){return this.el_.vjs_setProperty(b,A)}}(T[w]);for(var C=0;C<k.length;C++)V(k[C]);return _.isSupported=function(){return!!(x.browser.IS_CHROME&&!x.browser.IS_ANDROID||x.browser.IS_SAFARI&&!x.browser.IS_IOS)||_.version()[0]>=10},g.withSourceHandlers(_),_.nativeSourceHandler={},_.nativeSourceHandler.canPlayType=function(b){return b in _.formats?"maybe":""},_.nativeSourceHandler.canHandleSource=function(b,E){var A;return A=b.type?b.type.replace(/;.*/,"").toLowerCase():function(P){var z=u.getFileExtension(P);return z?"video/"+z:""}(b.src),_.nativeSourceHandler.canPlayType(A)},_.nativeSourceHandler.handleSource=function(b,E,A){E.setSrc(b.src)},_.nativeSourceHandler.dispose=function(){},_.registerSourceHandler(_.nativeSourceHandler),_.formats={"video/flv":"FLV","video/x-flv":"FLV","video/mp4":"MP4","video/m4v":"MP4"},_.onReady=function(b){var E=v.$("#"+b),A=E&&E.tech;A&&A.el()&&_.checkReady(A)},_.checkReady=function(b){b.el()&&(b.el().vjs_getProperty?b.triggerReady():this.setTimeout(function(){_.checkReady(b)},50))},_.onEvent=function(b,E){var A=v.$("#"+b).tech,P=Array.prototype.slice.call(arguments,2);A.setTimeout(function(){A.trigger(E,P)},1)},_.onError=function(b,E){var A=v.$("#"+b).tech;if(E==="srcnotfound")return A.error(4);typeof E=="string"?A.error("FLASH: "+E):(E.origin="flash",A.error(E))},_.version=function(){var b="0,0,0";try{b=new d.ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version").replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}catch(E){try{l.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&(b=(l.plugins["Shockwave Flash 2.0"]||l.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1])}catch(A){}}return b.split(",")},_.embed=function(b,E,A,P){var z=_.getEmbedCode(b,E,A,P);return v.createEl("div",{innerHTML:z}).childNodes[0]},_.getEmbedCode=function(b,E,A,P){var z="",B="",H="";return E&&Object.getOwnPropertyNames(E).forEach(function(K){z+=K+"="+E[K]+"&amp;"}),A=p({movie:b,flashvars:z,allowScriptAccess:"always",allowNetworking:"all"},A),Object.getOwnPropertyNames(A).forEach(function(K){B+='<param name="'+K+'" value="'+A[K]+'" />'}),P=p({data:b,width:"100%",height:"100%"},P),Object.getOwnPropertyNames(P).forEach(function(K){H+=K+'="'+P[K]+'" '}),'<object type="application/x-shockwave-flash" '+H+">"+B+"</object>"},function(b){b.streamingFormats={"rtmp/mp4":"MP4","rtmp/flv":"FLV"},b.streamFromParts=function(E,A){return E+"&"+A},b.streamToParts=function(E){var A={connection:"",stream:""};if(!E)return A;var P=E.search(/&(?![\w-]+=)/),z=void 0;return P!==-1?z=P+1:(P=z=E.lastIndexOf("/")+1)===0&&(P=z=E.length),A.connection=E.substring(0,P),A.stream=E.substring(z,E.length),A},b.isStreamingType=function(E){return E in b.streamingFormats},b.RTMP_RE=/^rtmp[set]?:\/\//i,b.isStreamingSrc=function(E){return b.RTMP_RE.test(E)},b.rtmpSourceHandler={},b.rtmpSourceHandler.canPlayType=function(E){return b.isStreamingType(E)?"maybe":""},b.rtmpSourceHandler.canHandleSource=function(E,A){return b.rtmpSourceHandler.canPlayType(E.type)||(b.isStreamingSrc(E.src)?"maybe":"")},b.rtmpSourceHandler.handleSource=function(E,A,P){var z=b.streamToParts(E.src);A.setRtmpConnection(z.connection),A.setRtmpStream(z.stream)},b.registerSourceHandler(b.rtmpSourceHandler)}(_),g.getTech("Flash")?(x.log.warn("Not using videojs-flash as it appears to already be registered"),x.log.warn("videojs-flash should only be used with video.js@6 and above")):x.registerTech("Flash",_),_.VERSION="2.1.2",_}),function(x){typeof exports=="object"&&typeof module!="undefined"?module.exports=x():typeof define=="function"&&define.amd?define([],x):(typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:this).videojsFlvjs=x()}(function(){return function x(V,o,d){function g(c,p){if(!o[c]){if(!V[c]){var l=typeof require=="function"&&require;if(!p&&l)return l(c,!0);if(v)return v(c,!0);var _=new Error("Cannot find module '"+c+"'");throw _.code="MODULE_NOT_FOUND",_}var T=o[c]={exports:{}};V[c][0].call(T.exports,function(k){return g(V[c][1][k]||k)},T,T.exports,x,V,o,d)}return o[c].exports}for(var v=typeof require=="function"&&require,u=0;u<d.length;u++)g(d[u]);return g}({1:[function(x,V,o){(function(d){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var g=function(){function _(T,k){for(var S=0;S<k.length;S++){var w=k[S];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(T,w.key,w)}}return function(T,k,S){return k&&_(T.prototype,k),S&&_(T,S),T}}(),v=function(_){return _&&_.__esModule?_:{default:_}}(typeof window!="undefined"?window.videojs:d!==void 0?d.videojs:null),u=v.default.getTech("Html5"),c=v.default.mergeOptions||v.default.util.mergeOptions,p={mediaDataSource:{},config:{}},l=function(_){function T(k,S){return function(w,C){if(!(w instanceof C))throw new TypeError("Cannot call a class as a function")}(this,T),k=c(p,k),function(w,C){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!C||typeof C!="object"&&typeof C!="function"?w:C}(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,k,S))}return function(k,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);k.prototype=Object.create(S&&S.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(k,S):k.__proto__=S)}(T,_),g(T,[{key:"setSrc",value:function(k){this.flvPlayer&&(this.flvPlayer.unload(),this.flvPlayer.detachMediaElement(),this.flvPlayer.destroy());var S=this.options_.mediaDataSource,w=this.options_.config;S.type=S.type===void 0?"flv":S.type,S.url=k,this.flvPlayer=window.flvjs.createPlayer(S,w),this.flvPlayer.attachMediaElement(this.el_),this.flvPlayer.load()}},{key:"dispose",value:function(){this.flvPlayer&&(this.flvPlayer.detachMediaElement(),this.flvPlayer.unload(),this.flvPlayer.destroy(),this.flvPlayer=null),function k(S,w,C){S===null&&(S=Function.prototype);var b=Object.getOwnPropertyDescriptor(S,w);if(b===void 0){var E=Object.getPrototypeOf(S);return E===null?void 0:k(E,w,C)}if("value"in b)return b.value;var A=b.get;return A!==void 0?A.call(C):void 0}(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"dispose",this).call(this)}}]),T}(u);l.isSupported=function(){return window.flvjs&&window.flvjs.isSupported()},l.formats={"video/flv":"FLV","video/x-flv":"FLV"},l.canPlayType=function(_){return l.isSupported()&&_ in l.formats?"maybe":""},l.canPlaySource=function(_,T){return l.canPlayType(_.type)},l.VERSION="0.2.0",v.default.registerTech("Flvjs",l),o.default=l}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}]},{},[1])(1)}),function(x){typeof exports=="object"&&typeof module!="undefined"?module.exports=x():typeof define=="function"&&define.amd?define([],x):(typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:this).adapter=x()}(function(){return function x(V,o,d){function g(c,p){if(!o[c]){if(!V[c]){var l=typeof require=="function"&&require;if(!p&&l)return l(c,!0);if(v)return v(c,!0);var _=new Error("Cannot find module '"+c+"'");throw _.code="MODULE_NOT_FOUND",_}var T=o[c]={exports:{}};V[c][0].call(T.exports,function(k){return g(V[c][1][k]||k)},T,T.exports,x,V,o,d)}return o[c].exports}for(var v=typeof require=="function"&&require,u=0;u<d.length;u++)g(d[u]);return g}({1:[function(x,V,o){"use strict";var d=(0,x("./adapter_factory.js").adapterFactory)({window:typeof window=="undefined"?void 0:window});V.exports=d},{"./adapter_factory.js":2}],2:[function(x,V,o){"use strict";function d(_){if(_&&_.__esModule)return _;var T={};if(_!=null)for(var k in _)Object.prototype.hasOwnProperty.call(_,k)&&(T[k]=_[k]);return T.default=_,T}Object.defineProperty(o,"__esModule",{value:!0}),o.adapterFactory=function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},T=_.window,k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{shimChrome:!0,shimFirefox:!0,shimEdge:!0,shimSafari:!0},S=g.log,w=g.detectBrowser(T),C={browserDetails:w,commonShim:l,extractVersion:g.extractVersion,disableLog:g.disableLog,disableWarnings:g.disableWarnings};switch(w.browser){case"chrome":if(!v||!v.shimPeerConnection||!k.shimChrome)return S("Chrome shim is not included in this adapter release."),C;if(w.version===null)return S("Chrome shim can not determine version, not shimming."),C;S("adapter.js shimming chrome."),C.browserShim=v,v.shimGetUserMedia(T),v.shimMediaStream(T),v.shimPeerConnection(T),v.shimOnTrack(T),v.shimAddTrackRemoveTrack(T),v.shimGetSendersWithDtmf(T),v.shimGetStats(T),v.shimSenderReceiverGetStats(T),v.fixNegotiationNeeded(T),l.shimRTCIceCandidate(T),l.shimConnectionState(T),l.shimMaxMessageSize(T),l.shimSendThrowTypeError(T),l.removeAllowExtmapMixed(T);break;case"firefox":if(!c||!c.shimPeerConnection||!k.shimFirefox)return S("Firefox shim is not included in this adapter release."),C;S("adapter.js shimming firefox."),C.browserShim=c,c.shimGetUserMedia(T),c.shimPeerConnection(T),c.shimOnTrack(T),c.shimRemoveStream(T),c.shimSenderGetStats(T),c.shimReceiverGetStats(T),c.shimRTCDataChannel(T),c.shimAddTransceiver(T),c.shimGetParameters(T),c.shimCreateOffer(T),c.shimCreateAnswer(T),l.shimRTCIceCandidate(T),l.shimConnectionState(T),l.shimMaxMessageSize(T),l.shimSendThrowTypeError(T);break;case"edge":if(!u||!u.shimPeerConnection||!k.shimEdge)return S("MS edge shim is not included in this adapter release."),C;S("adapter.js shimming edge."),C.browserShim=u,u.shimGetUserMedia(T),u.shimGetDisplayMedia(T),u.shimPeerConnection(T),u.shimReplaceTrack(T),l.shimMaxMessageSize(T),l.shimSendThrowTypeError(T);break;case"safari":if(!p||!k.shimSafari)return S("Safari shim is not included in this adapter release."),C;S("adapter.js shimming safari."),C.browserShim=p,p.shimRTCIceServerUrls(T),p.shimCreateOfferLegacy(T),p.shimCallbacksAPI(T),p.shimLocalStreamsAPI(T),p.shimRemoteStreamsAPI(T),p.shimTrackEventTransceiver(T),p.shimGetUserMedia(T),p.shimAudioContext(T),l.shimRTCIceCandidate(T),l.shimMaxMessageSize(T),l.shimSendThrowTypeError(T),l.removeAllowExtmapMixed(T);break;default:S("Unsupported browser!")}return C};var g=d(x("./utils")),v=d(x("./chrome/chrome_shim")),u=d(x("./edge/edge_shim")),c=d(x("./firefox/firefox_shim")),p=d(x("./safari/safari_shim")),l=d(x("./common_shim"))},{"./chrome/chrome_shim":3,"./common_shim":6,"./edge/edge_shim":7,"./firefox/firefox_shim":11,"./safari/safari_shim":14,"./utils":15}],3:[function(x,V,o){"use strict";function d(l,_,T){return _ in l?Object.defineProperty(l,_,{value:T,enumerable:!0,configurable:!0,writable:!0}):l[_]=T,l}function g(l){l.RTCPeerConnection.prototype.getLocalStreams=function(){var w=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(function(C){return w._shimmedLocalStreams[C][0]})};var _=l.RTCPeerConnection.prototype.addTrack;l.RTCPeerConnection.prototype.addTrack=function(w,C){if(!C)return _.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};var b=_.apply(this,arguments);return this._shimmedLocalStreams[C.id]?this._shimmedLocalStreams[C.id].indexOf(b)===-1&&this._shimmedLocalStreams[C.id].push(b):this._shimmedLocalStreams[C.id]=[C,b],b};var T=l.RTCPeerConnection.prototype.addStream;l.RTCPeerConnection.prototype.addStream=function(w){var C=this;this._shimmedLocalStreams=this._shimmedLocalStreams||{},w.getTracks().forEach(function(A){if(C.getSenders().find(function(P){return P.track===A}))throw new DOMException("Track already exists.","InvalidAccessError")});var b=this.getSenders();T.apply(this,arguments);var E=this.getSenders().filter(function(A){return b.indexOf(A)===-1});this._shimmedLocalStreams[w.id]=[w].concat(E)};var k=l.RTCPeerConnection.prototype.removeStream;l.RTCPeerConnection.prototype.removeStream=function(w){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[w.id],k.apply(this,arguments)};var S=l.RTCPeerConnection.prototype.removeTrack;l.RTCPeerConnection.prototype.removeTrack=function(w){var C=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},w&&Object.keys(this._shimmedLocalStreams).forEach(function(b){var E=C._shimmedLocalStreams[b].indexOf(w);E!==-1&&C._shimmedLocalStreams[b].splice(E,1),C._shimmedLocalStreams[b].length===1&&delete C._shimmedLocalStreams[b]}),S.apply(this,arguments)}}Object.defineProperty(o,"__esModule",{value:!0}),o.shimGetDisplayMedia=o.shimGetUserMedia=void 0;var v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},u=x("./getusermedia");Object.defineProperty(o,"shimGetUserMedia",{enumerable:!0,get:function(){return u.shimGetUserMedia}});var c=x("./getdisplaymedia");Object.defineProperty(o,"shimGetDisplayMedia",{enumerable:!0,get:function(){return c.shimGetDisplayMedia}}),o.shimMediaStream=function(l){l.MediaStream=l.MediaStream||l.webkitMediaStream},o.shimOnTrack=function(l){if((l===void 0?"undefined":v(l))!=="object"||!l.RTCPeerConnection||"ontrack"in l.RTCPeerConnection.prototype)p.wrapPeerConnectionEvent(l,"track",function(T){return T.transceiver||Object.defineProperty(T,"transceiver",{value:{receiver:T.receiver}}),T});else{Object.defineProperty(l.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(T){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=T)},enumerable:!0,configurable:!0});var _=l.RTCPeerConnection.prototype.setRemoteDescription;l.RTCPeerConnection.prototype.setRemoteDescription=function(){var T=this;return this._ontrackpoly||(this._ontrackpoly=function(k){k.stream.addEventListener("addtrack",function(S){var w;w=l.RTCPeerConnection.prototype.getReceivers?T.getReceivers().find(function(b){return b.track&&b.track.id===S.track.id}):{track:S.track};var C=new Event("track");C.track=S.track,C.receiver=w,C.transceiver={receiver:w},C.streams=[k.stream],T.dispatchEvent(C)}),k.stream.getTracks().forEach(function(S){var w;w=l.RTCPeerConnection.prototype.getReceivers?T.getReceivers().find(function(b){return b.track&&b.track.id===S.id}):{track:S};var C=new Event("track");C.track=S,C.receiver=w,C.transceiver={receiver:w},C.streams=[k.stream],T.dispatchEvent(C)})},this.addEventListener("addstream",this._ontrackpoly)),_.apply(this,arguments)}}},o.shimGetSendersWithDtmf=function(l){if((l===void 0?"undefined":v(l))==="object"&&l.RTCPeerConnection&&!("getSenders"in l.RTCPeerConnection.prototype)&&"createDTMFSender"in l.RTCPeerConnection.prototype){var _=function(b,E){return{track:E,get dtmf(){return this._dtmf===void 0&&(E.kind==="audio"?this._dtmf=b.createDTMFSender(E):this._dtmf=null),this._dtmf},_pc:b}};if(!l.RTCPeerConnection.prototype.getSenders){l.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};var T=l.RTCPeerConnection.prototype.addTrack;l.RTCPeerConnection.prototype.addTrack=function(b,E){var A=T.apply(this,arguments);return A||(A=_(this,b),this._senders.push(A)),A};var k=l.RTCPeerConnection.prototype.removeTrack;l.RTCPeerConnection.prototype.removeTrack=function(b){k.apply(this,arguments);var E=this._senders.indexOf(b);E!==-1&&this._senders.splice(E,1)}}var S=l.RTCPeerConnection.prototype.addStream;l.RTCPeerConnection.prototype.addStream=function(b){var E=this;this._senders=this._senders||[],S.apply(this,[b]),b.getTracks().forEach(function(A){E._senders.push(_(E,A))})};var w=l.RTCPeerConnection.prototype.removeStream;l.RTCPeerConnection.prototype.removeStream=function(b){var E=this;this._senders=this._senders||[],w.apply(this,[b]),b.getTracks().forEach(function(A){var P=E._senders.find(function(z){return z.track===A});P&&E._senders.splice(E._senders.indexOf(P),1)})}}else if((l===void 0?"undefined":v(l))==="object"&&l.RTCPeerConnection&&"getSenders"in l.RTCPeerConnection.prototype&&"createDTMFSender"in l.RTCPeerConnection.prototype&&l.RTCRtpSender&&!("dtmf"in l.RTCRtpSender.prototype)){var C=l.RTCPeerConnection.prototype.getSenders;l.RTCPeerConnection.prototype.getSenders=function(){var b=this,E=C.apply(this,[]);return E.forEach(function(A){return A._pc=b}),E},Object.defineProperty(l.RTCRtpSender.prototype,"dtmf",{get:function(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}},o.shimGetStats=function(l){if(l.RTCPeerConnection){var _=l.RTCPeerConnection.prototype.getStats;l.RTCPeerConnection.prototype.getStats=function(){var T=this,k=Array.prototype.slice.call(arguments),S=k[0],w=k[1],C=k[2];if(arguments.length>0&&typeof S=="function")return _.apply(this,arguments);if(_.length===0&&(arguments.length===0||typeof S!="function"))return _.apply(this,[]);var b=function(P){var z={};return P.result().forEach(function(B){var H={id:B.id,timestamp:B.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[B.type]||B.type};B.names().forEach(function(K){H[K]=B.stat(K)}),z[H.id]=H}),z},E=function(P){return new Map(Object.keys(P).map(function(z){return[z,P[z]]}))};if(arguments.length>=2){var A=function(P){w(E(b(P)))};return _.apply(this,[A,S])}return new Promise(function(P,z){_.apply(T,[function(B){P(E(b(B)))},z])}).then(w,C)}}},o.shimSenderReceiverGetStats=function(l){if((l===void 0?"undefined":v(l))==="object"&&l.RTCPeerConnection&&l.RTCRtpSender&&l.RTCRtpReceiver){if(!("getStats"in l.RTCRtpSender.prototype)){var _=l.RTCPeerConnection.prototype.getSenders;_&&(l.RTCPeerConnection.prototype.getSenders=function(){var w=this,C=_.apply(this,[]);return C.forEach(function(b){return b._pc=w}),C});var T=l.RTCPeerConnection.prototype.addTrack;T&&(l.RTCPeerConnection.prototype.addTrack=function(){var w=T.apply(this,arguments);return w._pc=this,w}),l.RTCRtpSender.prototype.getStats=function(){var w=this;return this._pc.getStats().then(function(C){return p.filterStats(C,w.track,!0)})}}if(!("getStats"in l.RTCRtpReceiver.prototype)){var k=l.RTCPeerConnection.prototype.getReceivers;k&&(l.RTCPeerConnection.prototype.getReceivers=function(){var w=this,C=k.apply(this,[]);return C.forEach(function(b){return b._pc=w}),C}),p.wrapPeerConnectionEvent(l,"track",function(w){return w.receiver._pc=w.srcElement,w}),l.RTCRtpReceiver.prototype.getStats=function(){var w=this;return this._pc.getStats().then(function(C){return p.filterStats(C,w.track,!1)})}}if("getStats"in l.RTCRtpSender.prototype&&"getStats"in l.RTCRtpReceiver.prototype){var S=l.RTCPeerConnection.prototype.getStats;l.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof l.MediaStreamTrack){var w=arguments[0],C=void 0,b=void 0,E=void 0;return this.getSenders().forEach(function(A){A.track===w&&(C?E=!0:C=A)}),this.getReceivers().forEach(function(A){return A.track===w&&(b?E=!0:b=A),A.track===w}),E||C&&b?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):C?C.getStats():b?b.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return S.apply(this,arguments)}}}},o.shimAddTrackRemoveTrackWithNative=g,o.shimAddTrackRemoveTrack=function(l){function _(A,P){var z=P.sdp;return Object.keys(A._reverseStreams||[]).forEach(function(B){var H=A._reverseStreams[B],K=A._streams[H.id];z=z.replace(new RegExp(K.id,"g"),H.id)}),new RTCSessionDescription({type:P.type,sdp:z})}function T(A,P){var z=P.sdp;return Object.keys(A._reverseStreams||[]).forEach(function(B){var H=A._reverseStreams[B],K=A._streams[H.id];z=z.replace(new RegExp(H.id,"g"),K.id)}),new RTCSessionDescription({type:P.type,sdp:z})}if(l.RTCPeerConnection){var k=p.detectBrowser(l);if(l.RTCPeerConnection.prototype.addTrack&&k.version>=65)return g(l);var S=l.RTCPeerConnection.prototype.getLocalStreams;l.RTCPeerConnection.prototype.getLocalStreams=function(){var A=this,P=S.apply(this);return this._reverseStreams=this._reverseStreams||{},P.map(function(z){return A._reverseStreams[z.id]})};var w=l.RTCPeerConnection.prototype.addStream;l.RTCPeerConnection.prototype.addStream=function(A){var P=this;if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},A.getTracks().forEach(function(B){if(P.getSenders().find(function(H){return H.track===B}))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[A.id]){var z=new l.MediaStream(A.getTracks());this._streams[A.id]=z,this._reverseStreams[z.id]=A,A=z}w.apply(this,[A])};var C=l.RTCPeerConnection.prototype.removeStream;l.RTCPeerConnection.prototype.removeStream=function(A){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},C.apply(this,[this._streams[A.id]||A]),delete this._reverseStreams[this._streams[A.id]?this._streams[A.id].id:A.id],delete this._streams[A.id]},l.RTCPeerConnection.prototype.addTrack=function(A,P){var z=this;if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");var B=[].slice.call(arguments,1);if(B.length!==1||!B[0].getTracks().find(function(Q){return Q===A}))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(function(Q){return Q.track===A}))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};var H=this._streams[P.id];if(H)H.addTrack(A),Promise.resolve().then(function(){z.dispatchEvent(new Event("negotiationneeded"))});else{var K=new l.MediaStream([A]);this._streams[P.id]=K,this._reverseStreams[K.id]=P,this.addStream(K)}return this.getSenders().find(function(Q){return Q.track===A})},["createOffer","createAnswer"].forEach(function(A){var P=l.RTCPeerConnection.prototype[A],z=d({},A,function(){var B=this,H=arguments;return arguments.length&&typeof arguments[0]=="function"?P.apply(this,[function(K){var Q=_(B,K);H[0].apply(null,[Q])},function(K){H[1]&&H[1].apply(null,K)},arguments[2]]):P.apply(this,arguments).then(function(K){return _(B,K)})});l.RTCPeerConnection.prototype[A]=z[A]});var b=l.RTCPeerConnection.prototype.setLocalDescription;l.RTCPeerConnection.prototype.setLocalDescription=function(){return arguments.length&&arguments[0].type?(arguments[0]=T(this,arguments[0]),b.apply(this,arguments)):b.apply(this,arguments)};var E=Object.getOwnPropertyDescriptor(l.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(l.RTCPeerConnection.prototype,"localDescription",{get:function(){var A=E.get.apply(this);return A.type===""?A:_(this,A)}}),l.RTCPeerConnection.prototype.removeTrack=function(A){var P=this;if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!A._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(A._pc!==this)throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{};var z=void 0;Object.keys(this._streams).forEach(function(B){P._streams[B].getTracks().find(function(H){return A.track===H})&&(z=P._streams[B])}),z&&(z.getTracks().length===1?this.removeStream(this._reverseStreams[z.id]):z.removeTrack(A.track),this.dispatchEvent(new Event("negotiationneeded")))}}},o.shimPeerConnection=function(l){var _=p.detectBrowser(l);if(!l.RTCPeerConnection&&l.webkitRTCPeerConnection&&(l.RTCPeerConnection=l.webkitRTCPeerConnection),l.RTCPeerConnection){var T=l.RTCPeerConnection.prototype.addIceCandidate.length===0;_.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(S){var w=l.RTCPeerConnection.prototype[S],C=d({},S,function(){return arguments[0]=new(S==="addIceCandidate"?l.RTCIceCandidate:l.RTCSessionDescription)(arguments[0]),w.apply(this,arguments)});l.RTCPeerConnection.prototype[S]=C[S]});var k=l.RTCPeerConnection.prototype.addIceCandidate;l.RTCPeerConnection.prototype.addIceCandidate=function(){return T||arguments[0]?_.version<78&&arguments[0]&&arguments[0].candidate===""?Promise.resolve():k.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())}}},o.fixNegotiationNeeded=function(l){var _=p.detectBrowser(l);p.wrapPeerConnectionEvent(l,"negotiationneeded",function(T){var k=T.target;if(!(_.version<72||k.getConfiguration&&k.getConfiguration().sdpSemantics==="plan-b")||k.signalingState==="stable")return T})};var p=function(l){if(l&&l.__esModule)return l;var _={};if(l!=null)for(var T in l)Object.prototype.hasOwnProperty.call(l,T)&&(_[T]=l[T]);return _.default=l,_}(x("../utils.js"))},{"../utils.js":15,"./getdisplaymedia":4,"./getusermedia":5}],4:[function(x,V,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.shimGetDisplayMedia=function(d,g){if((!d.navigator.mediaDevices||!("getDisplayMedia"in d.navigator.mediaDevices))&&d.navigator.mediaDevices)return typeof g!="function"?void console.error("shimGetDisplayMedia: getSourceId argument is not a function"):void(d.navigator.mediaDevices.getDisplayMedia=function(v){return g(v).then(function(u){var c=v.video&&v.video.width,p=v.video&&v.video.height,l=v.video&&v.video.frameRate;return v.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:u,maxFrameRate:l||3}},c&&(v.video.mandatory.maxWidth=c),p&&(v.video.mandatory.maxHeight=p),d.navigator.mediaDevices.getUserMedia(v)})})}},{}],5:[function(x,V,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u};o.shimGetUserMedia=function(u){var c=u&&u.navigator;if(c.mediaDevices){var p=g.detectBrowser(u),l=function(S){if((S===void 0?"undefined":d(S))!=="object"||S.mandatory||S.optional)return S;var w={};return Object.keys(S).forEach(function(C){if(C!=="require"&&C!=="advanced"&&C!=="mediaSource"){var b=d(S[C])==="object"?S[C]:{ideal:S[C]};b.exact!==void 0&&typeof b.exact=="number"&&(b.min=b.max=b.exact);var E=function(P,z){return P?P+z.charAt(0).toUpperCase()+z.slice(1):z==="deviceId"?"sourceId":z};if(b.ideal!==void 0){w.optional=w.optional||[];var A={};typeof b.ideal=="number"?(A[E("min",C)]=b.ideal,w.optional.push(A),(A={})[E("max",C)]=b.ideal,w.optional.push(A)):(A[E("",C)]=b.ideal,w.optional.push(A))}b.exact!==void 0&&typeof b.exact!="number"?(w.mandatory=w.mandatory||{},w.mandatory[E("",C)]=b.exact):["min","max"].forEach(function(P){b[P]!==void 0&&(w.mandatory=w.mandatory||{},w.mandatory[E(P,C)]=b[P])})}}),S.advanced&&(w.optional=(w.optional||[]).concat(S.advanced)),w},_=function(S,w){if(p.version>=61)return w(S);if((S=JSON.parse(JSON.stringify(S)))&&d(S.audio)==="object"){var C=function(P,z,B){z in P&&!(B in P)&&(P[B]=P[z],delete P[z])};C((S=JSON.parse(JSON.stringify(S))).audio,"autoGainControl","googAutoGainControl"),C(S.audio,"noiseSuppression","googNoiseSuppression"),S.audio=l(S.audio)}if(S&&d(S.video)==="object"){var b=S.video.facingMode;b=b&&((b===void 0?"undefined":d(b))==="object"?b:{ideal:b});var E=p.version<66;if(b&&(b.exact==="user"||b.exact==="environment"||b.ideal==="user"||b.ideal==="environment")&&(!c.mediaDevices.getSupportedConstraints||!c.mediaDevices.getSupportedConstraints().facingMode||E)){delete S.video.facingMode;var A=void 0;if(b.exact==="environment"||b.ideal==="environment"?A=["back","rear"]:b.exact!=="user"&&b.ideal!=="user"||(A=["front"]),A)return c.mediaDevices.enumerateDevices().then(function(P){var z=(P=P.filter(function(B){return B.kind==="videoinput"})).find(function(B){return A.some(function(H){return B.label.toLowerCase().includes(H)})});return!z&&P.length&&A.includes("back")&&(z=P[P.length-1]),z&&(S.video.deviceId=b.exact?{exact:z.deviceId}:{ideal:z.deviceId}),S.video=l(S.video),v("chrome: "+JSON.stringify(S)),w(S)})}S.video=l(S.video)}return v("chrome: "+JSON.stringify(S)),w(S)},T=function(S){return p.version>=64?S:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[S.name]||S.name,message:S.message,constraint:S.constraint||S.constraintName,toString:function(){return this.name+(this.message&&": ")+this.message}}};if(c.getUserMedia=function(S,w,C){_(S,function(b){c.webkitGetUserMedia(b,w,function(E){C&&C(T(E))})})}.bind(c),c.mediaDevices.getUserMedia){var k=c.mediaDevices.getUserMedia.bind(c.mediaDevices);c.mediaDevices.getUserMedia=function(S){return _(S,function(w){return k(w).then(function(C){if(w.audio&&!C.getAudioTracks().length||w.video&&!C.getVideoTracks().length)throw C.getTracks().forEach(function(b){b.stop()}),new DOMException("","NotFoundError");return C},function(C){return Promise.reject(T(C))})})}}}};var g=function(u){if(u&&u.__esModule)return u;var c={};if(u!=null)for(var p in u)Object.prototype.hasOwnProperty.call(u,p)&&(c[p]=u[p]);return c.default=u,c}(x("../utils.js")),v=g.log},{"../utils.js":15}],6:[function(x,V,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u};o.shimRTCIceCandidate=function(u){if(u.RTCIceCandidate&&(!u.RTCIceCandidate||!("foundation"in u.RTCIceCandidate.prototype))){var c=u.RTCIceCandidate;u.RTCIceCandidate=function(p){if((p===void 0?"undefined":d(p))==="object"&&p.candidate&&p.candidate.indexOf("a=")===0&&((p=JSON.parse(JSON.stringify(p))).candidate=p.candidate.substr(2)),p.candidate&&p.candidate.length){var l=new c(p),_=g.default.parseCandidate(p.candidate),T=Object.assign(l,_);return T.toJSON=function(){return{candidate:T.candidate,sdpMid:T.sdpMid,sdpMLineIndex:T.sdpMLineIndex,usernameFragment:T.usernameFragment}},T}return new c(p)},u.RTCIceCandidate.prototype=c.prototype,v.wrapPeerConnectionEvent(u,"icecandidate",function(p){return p.candidate&&Object.defineProperty(p,"candidate",{value:new u.RTCIceCandidate(p.candidate),writable:"false"}),p})}},o.shimMaxMessageSize=function(u){if(u.RTCPeerConnection){var c=v.detectBrowser(u);"sctp"in u.RTCPeerConnection.prototype||Object.defineProperty(u.RTCPeerConnection.prototype,"sctp",{get:function(){return this._sctp===void 0?null:this._sctp}});var p=function(S){if(!S||!S.sdp)return!1;var w=g.default.splitSections(S.sdp);return w.shift(),w.some(function(C){var b=g.default.parseMLine(C);return b&&b.kind==="application"&&b.protocol.indexOf("SCTP")!==-1})},l=function(S){var w=S.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(w===null||w.length<2)return-1;var C=parseInt(w[1],10);return C!=C?-1:C},_=function(S){var w=65536;return c.browser==="firefox"&&(w=c.version<57?S===-1?16384:2147483637:c.version<60?c.version===57?65535:65536:2147483637),w},T=function(S,w){var C=65536;c.browser==="firefox"&&c.version===57&&(C=65535);var b=g.default.matchPrefix(S.sdp,"a=max-message-size:");return b.length>0?C=parseInt(b[0].substr(19),10):c.browser==="firefox"&&w!==-1&&(C=2147483637),C},k=u.RTCPeerConnection.prototype.setRemoteDescription;u.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,c.browser==="chrome"&&c.version>=76&&this.getConfiguration().sdpSemantics==="plan-b"&&Object.defineProperty(this,"sctp",{get:function(){return this._sctp===void 0?null:this._sctp},enumerable:!0,configurable:!0}),p(arguments[0])){var S=l(arguments[0]),w=_(S),C=T(arguments[0],S),b=void 0;b=w===0&&C===0?Number.POSITIVE_INFINITY:w===0||C===0?Math.max(w,C):Math.min(w,C);var E={};Object.defineProperty(E,"maxMessageSize",{get:function(){return b}}),this._sctp=E}return k.apply(this,arguments)}}},o.shimSendThrowTypeError=function(u){function c(l,_){var T=l.send;l.send=function(){var k=arguments[0],S=k.length||k.size||k.byteLength;if(l.readyState==="open"&&_.sctp&&S>_.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+_.sctp.maxMessageSize+" bytes)");return T.apply(l,arguments)}}if(u.RTCPeerConnection&&"createDataChannel"in u.RTCPeerConnection.prototype){var p=u.RTCPeerConnection.prototype.createDataChannel;u.RTCPeerConnection.prototype.createDataChannel=function(){var l=p.apply(this,arguments);return c(l,this),l},v.wrapPeerConnectionEvent(u,"datachannel",function(l){return c(l.channel,l.target),l})}},o.shimConnectionState=function(u){if(u.RTCPeerConnection&&!("connectionState"in u.RTCPeerConnection.prototype)){var c=u.RTCPeerConnection.prototype;Object.defineProperty(c,"connectionState",{get:function(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(c,"onconnectionstatechange",{get:function(){return this._onconnectionstatechange||null},set:function(p){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),p&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=p)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(function(p){var l=c[p];c[p]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=function(_){var T=_.target;if(T._lastConnectionState!==T.connectionState){T._lastConnectionState=T.connectionState;var k=new Event("connectionstatechange",_);T.dispatchEvent(k)}return _},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),l.apply(this,arguments)}})}},o.removeAllowExtmapMixed=function(u){if(u.RTCPeerConnection){var c=v.detectBrowser(u);if(!(c.browser==="chrome"&&c.version>=71||c.browser==="safari"&&c.version>=605)){var p=u.RTCPeerConnection.prototype.setRemoteDescription;u.RTCPeerConnection.prototype.setRemoteDescription=function(l){return l&&l.sdp&&l.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1&&(l.sdp=l.sdp.split(`
`).filter(function(_){return _.trim()!=="a=extmap-allow-mixed"}).join(`
`)),p.apply(this,arguments)}}}};var g=function(u){return u&&u.__esModule?u:{default:u}}(x("sdp")),v=function(u){if(u&&u.__esModule)return u;var c={};if(u!=null)for(var p in u)Object.prototype.hasOwnProperty.call(u,p)&&(c[p]=u[p]);return c.default=u,c}(x("./utils"))},{"./utils":15,sdp:17}],7:[function(x,V,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.shimGetDisplayMedia=o.shimGetUserMedia=void 0;var d=x("./getusermedia");Object.defineProperty(o,"shimGetUserMedia",{enumerable:!0,get:function(){return d.shimGetUserMedia}});var g=x("./getdisplaymedia");Object.defineProperty(o,"shimGetDisplayMedia",{enumerable:!0,get:function(){return g.shimGetDisplayMedia}}),o.shimPeerConnection=function(p){var l=v.detectBrowser(p);if(p.RTCIceGatherer&&(p.RTCIceCandidate||(p.RTCIceCandidate=function(k){return k}),p.RTCSessionDescription||(p.RTCSessionDescription=function(k){return k}),l.version<15025)){var _=Object.getOwnPropertyDescriptor(p.MediaStreamTrack.prototype,"enabled");Object.defineProperty(p.MediaStreamTrack.prototype,"enabled",{set:function(k){_.set.call(this,k);var S=new Event("enabled");S.enabled=k,this.dispatchEvent(S)}})}!p.RTCRtpSender||"dtmf"in p.RTCRtpSender.prototype||Object.defineProperty(p.RTCRtpSender.prototype,"dtmf",{get:function(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=new p.RTCDtmfSender(this):this.track.kind==="video"&&(this._dtmf=null)),this._dtmf}}),p.RTCDtmfSender&&!p.RTCDTMFSender&&(p.RTCDTMFSender=p.RTCDtmfSender);var T=(0,c.default)(p,l.version);p.RTCPeerConnection=function(k){return k&&k.iceServers&&(k.iceServers=(0,u.filterIceServers)(k.iceServers,l.version),v.log("ICE servers after filtering:",k.iceServers)),new T(k)},p.RTCPeerConnection.prototype=T.prototype},o.shimReplaceTrack=function(p){!p.RTCRtpSender||"replaceTrack"in p.RTCRtpSender.prototype||(p.RTCRtpSender.prototype.replaceTrack=p.RTCRtpSender.prototype.setTrack)};var v=function(p){if(p&&p.__esModule)return p;var l={};if(p!=null)for(var _ in p)Object.prototype.hasOwnProperty.call(p,_)&&(l[_]=p[_]);return l.default=p,l}(x("../utils")),u=x("./filtericeservers"),c=function(p){return p&&p.__esModule?p:{default:p}}(x("rtcpeerconnection-shim"))},{"../utils":15,"./filtericeservers":8,"./getdisplaymedia":9,"./getusermedia":10,"rtcpeerconnection-shim":16}],8:[function(x,V,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.filterIceServers=function(g,v){var u=!1;return(g=JSON.parse(JSON.stringify(g))).filter(function(c){if(c&&(c.urls||c.url)){var p=c.urls||c.url;c.url&&!c.urls&&d.deprecated("RTCIceServer.url","RTCIceServer.urls");var l=typeof p=="string";return l&&(p=[p]),p=p.filter(function(_){if(_.indexOf("stun:")===0)return!1;var T=_.startsWith("turn")&&!_.startsWith("turn:[")&&_.includes("transport=udp");return T&&!u?(u=!0,!0):T&&!u}),delete c.url,c.urls=l?p[0]:p,!!p.length}})};var d=function(g){if(g&&g.__esModule)return g;var v={};if(g!=null)for(var u in g)Object.prototype.hasOwnProperty.call(g,u)&&(v[u]=g[u]);return v.default=g,v}(x("../utils"))},{"../utils":15}],9:[function(x,V,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.shimGetDisplayMedia=function(d){"getDisplayMedia"in d.navigator&&d.navigator.mediaDevices&&(d.navigator.mediaDevices&&"getDisplayMedia"in d.navigator.mediaDevices||(d.navigator.mediaDevices.getDisplayMedia=d.navigator.getDisplayMedia.bind(d.navigator)))}},{}],10:[function(x,V,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.shimGetUserMedia=function(d){var g=d&&d.navigator,v=g.mediaDevices.getUserMedia.bind(g.mediaDevices);g.mediaDevices.getUserMedia=function(u){return v(u).catch(function(c){return Promise.reject(function(p){return{name:{PermissionDeniedError:"NotAllowedError"}[p.name]||p.name,message:p.message,constraint:p.constraint,toString:function(){return this.name}}}(c))})}}},{}],11:[function(x,V,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.shimGetDisplayMedia=o.shimGetUserMedia=void 0;var d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},g=x("./getusermedia");Object.defineProperty(o,"shimGetUserMedia",{enumerable:!0,get:function(){return g.shimGetUserMedia}});var v=x("./getdisplaymedia");Object.defineProperty(o,"shimGetDisplayMedia",{enumerable:!0,get:function(){return v.shimGetDisplayMedia}}),o.shimOnTrack=function(c){(c===void 0?"undefined":d(c))==="object"&&c.RTCTrackEvent&&"receiver"in c.RTCTrackEvent.prototype&&!("transceiver"in c.RTCTrackEvent.prototype)&&Object.defineProperty(c.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})},o.shimPeerConnection=function(c){var p=u.detectBrowser(c);if((c===void 0?"undefined":d(c))==="object"&&(c.RTCPeerConnection||c.mozRTCPeerConnection)){if(!c.RTCPeerConnection&&c.mozRTCPeerConnection&&(c.RTCPeerConnection=c.mozRTCPeerConnection),p.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(k){var S=c.RTCPeerConnection.prototype[k],w=function(C,b,E){return b in C?Object.defineProperty(C,b,{value:E,enumerable:!0,configurable:!0,writable:!0}):C[b]=E,C}({},k,function(){return arguments[0]=new(k==="addIceCandidate"?c.RTCIceCandidate:c.RTCSessionDescription)(arguments[0]),S.apply(this,arguments)});c.RTCPeerConnection.prototype[k]=w[k]}),p.version<68){var l=c.RTCPeerConnection.prototype.addIceCandidate;c.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?arguments[0]&&arguments[0].candidate===""?Promise.resolve():l.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())}}var _={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},T=c.RTCPeerConnection.prototype.getStats;c.RTCPeerConnection.prototype.getStats=function(){var k=Array.prototype.slice.call(arguments),S=k[0],w=k[1],C=k[2];return T.apply(this,[S||null]).then(function(b){if(p.version<53&&!w)try{b.forEach(function(E){E.type=_[E.type]||E.type})}catch(E){if(E.name!=="TypeError")throw E;b.forEach(function(A,P){b.set(P,Object.assign({},A,{type:_[A.type]||A.type}))})}return b}).then(w,C)}}},o.shimSenderGetStats=function(c){if((c===void 0?"undefined":d(c))==="object"&&c.RTCPeerConnection&&c.RTCRtpSender&&(!c.RTCRtpSender||!("getStats"in c.RTCRtpSender.prototype))){var p=c.RTCPeerConnection.prototype.getSenders;p&&(c.RTCPeerConnection.prototype.getSenders=function(){var _=this,T=p.apply(this,[]);return T.forEach(function(k){return k._pc=_}),T});var l=c.RTCPeerConnection.prototype.addTrack;l&&(c.RTCPeerConnection.prototype.addTrack=function(){var _=l.apply(this,arguments);return _._pc=this,_}),c.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}},o.shimReceiverGetStats=function(c){if((c===void 0?"undefined":d(c))==="object"&&c.RTCPeerConnection&&c.RTCRtpSender&&(!c.RTCRtpSender||!("getStats"in c.RTCRtpReceiver.prototype))){var p=c.RTCPeerConnection.prototype.getReceivers;p&&(c.RTCPeerConnection.prototype.getReceivers=function(){var l=this,_=p.apply(this,[]);return _.forEach(function(T){return T._pc=l}),_}),u.wrapPeerConnectionEvent(c,"track",function(l){return l.receiver._pc=l.srcElement,l}),c.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}},o.shimRemoveStream=function(c){!c.RTCPeerConnection||"removeStream"in c.RTCPeerConnection.prototype||(c.RTCPeerConnection.prototype.removeStream=function(p){var l=this;u.deprecated("removeStream","removeTrack"),this.getSenders().forEach(function(_){_.track&&p.getTracks().includes(_.track)&&l.removeTrack(_)})})},o.shimRTCDataChannel=function(c){c.DataChannel&&!c.RTCDataChannel&&(c.RTCDataChannel=c.DataChannel)},o.shimAddTransceiver=function(c){if((c===void 0?"undefined":d(c))==="object"&&c.RTCPeerConnection){var p=c.RTCPeerConnection.prototype.addTransceiver;p&&(c.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];var l=arguments[1],_=l&&"sendEncodings"in l;_&&l.sendEncodings.forEach(function(w){if("rid"in w&&!/^[a-z0-9]{0,16}$/i.test(w.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in w&&!(parseFloat(w.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in w&&!(parseFloat(w.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});var T=p.apply(this,arguments);if(_){var k=T.sender,S=k.getParameters();"encodings"in S&&(S.encodings.length!==1||Object.keys(S.encodings[0]).length!==0)||(S.encodings=l.sendEncodings,k.sendEncodings=l.sendEncodings,this.setParametersPromises.push(k.setParameters(S).then(function(){delete k.sendEncodings}).catch(function(){delete k.sendEncodings})))}return T})}},o.shimGetParameters=function(c){if((c===void 0?"undefined":d(c))==="object"&&c.RTCRtpSender){var p=c.RTCRtpSender.prototype.getParameters;p&&(c.RTCRtpSender.prototype.getParameters=function(){var l=p.apply(this,arguments);return"encodings"in l||(l.encodings=[].concat(this.sendEncodings||[{}])),l})}},o.shimCreateOffer=function(c){if((c===void 0?"undefined":d(c))==="object"&&c.RTCPeerConnection){var p=c.RTCPeerConnection.prototype.createOffer;c.RTCPeerConnection.prototype.createOffer=function(){var l=this,_=arguments;return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(function(){return p.apply(l,_)}).finally(function(){l.setParametersPromises=[]}):p.apply(this,arguments)}}},o.shimCreateAnswer=function(c){if((c===void 0?"undefined":d(c))==="object"&&c.RTCPeerConnection){var p=c.RTCPeerConnection.prototype.createAnswer;c.RTCPeerConnection.prototype.createAnswer=function(){var l=this,_=arguments;return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(function(){return p.apply(l,_)}).finally(function(){l.setParametersPromises=[]}):p.apply(this,arguments)}}};var u=function(c){if(c&&c.__esModule)return c;var p={};if(c!=null)for(var l in c)Object.prototype.hasOwnProperty.call(c,l)&&(p[l]=c[l]);return p.default=c,p}(x("../utils"))},{"../utils":15,"./getdisplaymedia":12,"./getusermedia":13}],12:[function(x,V,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.shimGetDisplayMedia=function(d,g){d.navigator.mediaDevices&&"getDisplayMedia"in d.navigator.mediaDevices||d.navigator.mediaDevices&&(d.navigator.mediaDevices.getDisplayMedia=function(v){if(!v||!v.video){var u=new DOMException("getDisplayMedia without video constraints is undefined");return u.name="NotFoundError",u.code=8,Promise.reject(u)}return v.video===!0?v.video={mediaSource:g}:v.video.mediaSource=g,d.navigator.mediaDevices.getUserMedia(v)})}},{}],13:[function(x,V,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v};o.shimGetUserMedia=function(v){var u=g.detectBrowser(v),c=v&&v.navigator,p=v&&v.MediaStreamTrack;if(c.getUserMedia=function(S,w,C){g.deprecated("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),c.mediaDevices.getUserMedia(S).then(w,C)},!(u.version>55&&"autoGainControl"in c.mediaDevices.getSupportedConstraints())){var l=function(S,w,C){w in S&&!(C in S)&&(S[C]=S[w],delete S[w])},_=c.mediaDevices.getUserMedia.bind(c.mediaDevices);if(c.mediaDevices.getUserMedia=function(S){return(S===void 0?"undefined":d(S))==="object"&&d(S.audio)==="object"&&(S=JSON.parse(JSON.stringify(S)),l(S.audio,"autoGainControl","mozAutoGainControl"),l(S.audio,"noiseSuppression","mozNoiseSuppression")),_(S)},p&&p.prototype.getSettings){var T=p.prototype.getSettings;p.prototype.getSettings=function(){var S=T.apply(this,arguments);return l(S,"mozAutoGainControl","autoGainControl"),l(S,"mozNoiseSuppression","noiseSuppression"),S}}if(p&&p.prototype.applyConstraints){var k=p.prototype.applyConstraints;p.prototype.applyConstraints=function(S){return this.kind==="audio"&&(S===void 0?"undefined":d(S))==="object"&&(S=JSON.parse(JSON.stringify(S)),l(S,"autoGainControl","mozAutoGainControl"),l(S,"noiseSuppression","mozNoiseSuppression")),k.apply(this,[S])}}}};var g=function(v){if(v&&v.__esModule)return v;var u={};if(v!=null)for(var c in v)Object.prototype.hasOwnProperty.call(v,c)&&(u[c]=v[c]);return u.default=v,u}(x("../utils"))},{"../utils":15}],14:[function(x,V,o){"use strict";function d(u){return u&&u.video!==void 0?Object.assign({},u,{video:v.compactObject(u.video)}):u}Object.defineProperty(o,"__esModule",{value:!0});var g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u};o.shimLocalStreamsAPI=function(u){if((u===void 0?"undefined":g(u))==="object"&&u.RTCPeerConnection){if("getLocalStreams"in u.RTCPeerConnection.prototype||(u.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in u.RTCPeerConnection.prototype)){var c=u.RTCPeerConnection.prototype.addTrack;u.RTCPeerConnection.prototype.addStream=function(p){var l=this;this._localStreams||(this._localStreams=[]),this._localStreams.includes(p)||this._localStreams.push(p),p.getAudioTracks().forEach(function(_){return c.call(l,_,p)}),p.getVideoTracks().forEach(function(_){return c.call(l,_,p)})},u.RTCPeerConnection.prototype.addTrack=function(p){for(var l=this,_=arguments.length,T=Array(_>1?_-1:0),k=1;k<_;k++)T[k-1]=arguments[k];return T&&T.forEach(function(S){l._localStreams?l._localStreams.includes(S)||l._localStreams.push(S):l._localStreams=[S]}),c.apply(this,arguments)}}"removeStream"in u.RTCPeerConnection.prototype||(u.RTCPeerConnection.prototype.removeStream=function(p){var l=this;this._localStreams||(this._localStreams=[]);var _=this._localStreams.indexOf(p);if(_!==-1){this._localStreams.splice(_,1);var T=p.getTracks();this.getSenders().forEach(function(k){T.includes(k.track)&&l.removeTrack(k)})}})}},o.shimRemoteStreamsAPI=function(u){if((u===void 0?"undefined":g(u))==="object"&&u.RTCPeerConnection&&("getRemoteStreams"in u.RTCPeerConnection.prototype||(u.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in u.RTCPeerConnection.prototype))){Object.defineProperty(u.RTCPeerConnection.prototype,"onaddstream",{get:function(){return this._onaddstream},set:function(p){var l=this;this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=p),this.addEventListener("track",this._onaddstreampoly=function(_){_.streams.forEach(function(T){if(l._remoteStreams||(l._remoteStreams=[]),!l._remoteStreams.includes(T)){l._remoteStreams.push(T);var k=new Event("addstream");k.stream=T,l.dispatchEvent(k)}})})}});var c=u.RTCPeerConnection.prototype.setRemoteDescription;u.RTCPeerConnection.prototype.setRemoteDescription=function(){var p=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(l){l.streams.forEach(function(_){if(p._remoteStreams||(p._remoteStreams=[]),!(p._remoteStreams.indexOf(_)>=0)){p._remoteStreams.push(_);var T=new Event("addstream");T.stream=_,p.dispatchEvent(T)}})}),c.apply(p,arguments)}}},o.shimCallbacksAPI=function(u){if((u===void 0?"undefined":g(u))==="object"&&u.RTCPeerConnection){var c=u.RTCPeerConnection.prototype,p=c.createOffer,l=c.createAnswer,_=c.setLocalDescription,T=c.setRemoteDescription,k=c.addIceCandidate;c.createOffer=function(w,C){var b=arguments.length>=2?arguments[2]:arguments[0],E=p.apply(this,[b]);return C?(E.then(w,C),Promise.resolve()):E},c.createAnswer=function(w,C){var b=arguments.length>=2?arguments[2]:arguments[0],E=l.apply(this,[b]);return C?(E.then(w,C),Promise.resolve()):E};var S=function(w,C,b){var E=_.apply(this,[w]);return b?(E.then(C,b),Promise.resolve()):E};c.setLocalDescription=S,S=function(w,C,b){var E=T.apply(this,[w]);return b?(E.then(C,b),Promise.resolve()):E},c.setRemoteDescription=S,S=function(w,C,b){var E=k.apply(this,[w]);return b?(E.then(C,b),Promise.resolve()):E},c.addIceCandidate=S}},o.shimGetUserMedia=function(u){var c=u&&u.navigator;if(c.mediaDevices&&c.mediaDevices.getUserMedia){var p=c.mediaDevices,l=p.getUserMedia.bind(p);c.mediaDevices.getUserMedia=function(_){return l(d(_))}}!c.getUserMedia&&c.mediaDevices&&c.mediaDevices.getUserMedia&&(c.getUserMedia=function(_,T,k){c.mediaDevices.getUserMedia(_).then(T,k)}.bind(c))},o.shimConstraints=d,o.shimRTCIceServerUrls=function(u){if(u.RTCPeerConnection){var c=u.RTCPeerConnection;u.RTCPeerConnection=function(p,l){if(p&&p.iceServers){for(var _=[],T=0;T<p.iceServers.length;T++){var k=p.iceServers[T];!k.hasOwnProperty("urls")&&k.hasOwnProperty("url")?(v.deprecated("RTCIceServer.url","RTCIceServer.urls"),(k=JSON.parse(JSON.stringify(k))).urls=k.url,delete k.url,_.push(k)):_.push(p.iceServers[T])}p.iceServers=_}return new c(p,l)},u.RTCPeerConnection.prototype=c.prototype,"generateCertificate"in c&&Object.defineProperty(u.RTCPeerConnection,"generateCertificate",{get:function(){return c.generateCertificate}})}},o.shimTrackEventTransceiver=function(u){(u===void 0?"undefined":g(u))==="object"&&u.RTCTrackEvent&&"receiver"in u.RTCTrackEvent.prototype&&!("transceiver"in u.RTCTrackEvent.prototype)&&Object.defineProperty(u.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})},o.shimCreateOfferLegacy=function(u){var c=u.RTCPeerConnection.prototype.createOffer;u.RTCPeerConnection.prototype.createOffer=function(p){if(p){p.offerToReceiveAudio!==void 0&&(p.offerToReceiveAudio=!!p.offerToReceiveAudio);var l=this.getTransceivers().find(function(T){return T.receiver.track.kind==="audio"});p.offerToReceiveAudio===!1&&l?l.direction==="sendrecv"?l.setDirection?l.setDirection("sendonly"):l.direction="sendonly":l.direction==="recvonly"&&(l.setDirection?l.setDirection("inactive"):l.direction="inactive"):p.offerToReceiveAudio!==!0||l||this.addTransceiver("audio"),p.offerToReceiveVideo!==void 0&&(p.offerToReceiveVideo=!!p.offerToReceiveVideo);var _=this.getTransceivers().find(function(T){return T.receiver.track.kind==="video"});p.offerToReceiveVideo===!1&&_?_.direction==="sendrecv"?_.setDirection?_.setDirection("sendonly"):_.direction="sendonly":_.direction==="recvonly"&&(_.setDirection?_.setDirection("inactive"):_.direction="inactive"):p.offerToReceiveVideo!==!0||_||this.addTransceiver("video")}return c.apply(this,arguments)}},o.shimAudioContext=function(u){(u===void 0?"undefined":g(u))!=="object"||u.AudioContext||(u.AudioContext=u.webkitAudioContext)};var v=function(u){if(u&&u.__esModule)return u;var c={};if(u!=null)for(var p in u)Object.prototype.hasOwnProperty.call(u,p)&&(c[p]=u[p]);return c.default=u,c}(x("../utils"))},{"../utils":15}],15:[function(x,V,o){"use strict";function d(l,_,T){var k=l.match(_);return k&&k.length>=T&&parseInt(k[T],10)}function g(l){return Object.prototype.toString.call(l)==="[object Object]"}function v(l,_,T){_&&!T.has(_.id)&&(T.set(_.id,_),Object.keys(_).forEach(function(k){k.endsWith("Id")?v(l,l.get(_[k]),T):k.endsWith("Ids")&&_[k].forEach(function(S){v(l,l.get(S),T)})}))}Object.defineProperty(o,"__esModule",{value:!0});var u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l};o.extractVersion=d,o.wrapPeerConnectionEvent=function(l,_,T){if(l.RTCPeerConnection){var k=l.RTCPeerConnection.prototype,S=k.addEventListener;k.addEventListener=function(C,b){if(C!==_)return S.apply(this,arguments);var E=function(A){var P=T(A);P&&(b.handleEvent?b.handleEvent(P):b(P))};return this._eventMap=this._eventMap||{},this._eventMap[_]||(this._eventMap[_]=new Map),this._eventMap[_].set(b,E),S.apply(this,[C,E])};var w=k.removeEventListener;k.removeEventListener=function(C,b){if(C!==_||!this._eventMap||!this._eventMap[_])return w.apply(this,arguments);if(!this._eventMap[_].has(b))return w.apply(this,arguments);var E=this._eventMap[_].get(b);return this._eventMap[_].delete(b),this._eventMap[_].size===0&&delete this._eventMap[_],Object.keys(this._eventMap).length===0&&delete this._eventMap,w.apply(this,[C,E])},Object.defineProperty(k,"on"+_,{get:function(){return this["_on"+_]},set:function(C){this["_on"+_]&&(this.removeEventListener(_,this["_on"+_]),delete this["_on"+_]),C&&this.addEventListener(_,this["_on"+_]=C)},enumerable:!0,configurable:!0})}},o.disableLog=function(l){return typeof l!="boolean"?new Error("Argument type: "+(l===void 0?"undefined":u(l))+". Please use a boolean."):(c=l,l?"adapter.js logging disabled":"adapter.js logging enabled")},o.disableWarnings=function(l){return typeof l!="boolean"?new Error("Argument type: "+(l===void 0?"undefined":u(l))+". Please use a boolean."):(p=!l,"adapter.js deprecation warnings "+(l?"disabled":"enabled"))},o.log=function(){if((typeof window=="undefined"?"undefined":u(window))==="object"){if(c)return;typeof console!="undefined"&&typeof console.log=="function"&&console.log.apply(console,arguments)}},o.deprecated=function(l,_){p&&console.warn(l+" is deprecated, please use "+_+" instead.")},o.detectBrowser=function(l){var _={browser:null,version:null};if(l===void 0||!l.navigator)return _.browser="Not a browser.",_;var T=l.navigator;if(T.mozGetUserMedia)_.browser="firefox",_.version=d(T.userAgent,/Firefox\/(\d+)\./,1);else if(T.webkitGetUserMedia||l.isSecureContext===!1&&l.webkitRTCPeerConnection&&!l.RTCIceGatherer)_.browser="chrome",_.version=d(T.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(T.mediaDevices&&T.userAgent.match(/Edge\/(\d+).(\d+)$/))_.browser="edge",_.version=d(T.userAgent,/Edge\/(\d+).(\d+)$/,2);else{if(!l.RTCPeerConnection||!T.userAgent.match(/AppleWebKit\/(\d+)\./))return _.browser="Not a supported browser.",_;_.browser="safari",_.version=d(T.userAgent,/AppleWebKit\/(\d+)\./,1),_.supportsUnifiedPlan=l.RTCRtpTransceiver&&"currentDirection"in l.RTCRtpTransceiver.prototype}return _},o.compactObject=function l(_){return g(_)?Object.keys(_).reduce(function(T,k){var S=g(_[k]),w=S?l(_[k]):_[k],C=S&&!Object.keys(w).length;return w===void 0||C?T:Object.assign(T,function(b,E,A){return E in b?Object.defineProperty(b,E,{value:A,enumerable:!0,configurable:!0,writable:!0}):b[E]=A,b}({},k,w))},{}):_},o.walkStats=v,o.filterStats=function(l,_,T){var k=T?"outbound-rtp":"inbound-rtp",S=new Map;if(_===null)return S;var w=[];return l.forEach(function(C){C.type==="track"&&C.trackIdentifier===_.id&&w.push(C)}),w.forEach(function(C){l.forEach(function(b){b.type===k&&b.trackId===C.id&&v(l,b,S)})}),S};var c=!0,p=!0},{}],16:[function(x,V,o){"use strict";function d(l,_,T,k,S){var w=p.writeRtpDescription(l.kind,_);if(w+=p.writeIceParameters(l.iceGatherer.getLocalParameters()),w+=p.writeDtlsParameters(l.dtlsTransport.getLocalParameters(),T==="offer"?"actpass":S||"active"),w+="a=mid:"+l.mid+`\r
`,l.rtpSender&&l.rtpReceiver?w+=`a=sendrecv\r
`:l.rtpSender?w+=`a=sendonly\r
`:l.rtpReceiver?w+=`a=recvonly\r
`:w+=`a=inactive\r
`,l.rtpSender){var C=l.rtpSender._initialTrackId||l.rtpSender.track.id;l.rtpSender._initialTrackId=C;var b="msid:"+(k?k.id:"-")+" "+C+`\r
`;w+="a="+b,w+="a=ssrc:"+l.sendEncodingParameters[0].ssrc+" "+b,l.sendEncodingParameters[0].rtx&&(w+="a=ssrc:"+l.sendEncodingParameters[0].rtx.ssrc+" "+b,w+="a=ssrc-group:FID "+l.sendEncodingParameters[0].ssrc+" "+l.sendEncodingParameters[0].rtx.ssrc+`\r
`)}return w+="a=ssrc:"+l.sendEncodingParameters[0].ssrc+" cname:"+p.localCName+`\r
`,l.rtpSender&&l.sendEncodingParameters[0].rtx&&(w+="a=ssrc:"+l.sendEncodingParameters[0].rtx.ssrc+" cname:"+p.localCName+`\r
`),w}function g(l,_){var T={codecs:[],headerExtensions:[],fecMechanisms:[]},k=function(w,C){w=parseInt(w,10);for(var b=0;b<C.length;b++)if(C[b].payloadType===w||C[b].preferredPayloadType===w)return C[b]},S=function(w,C,b,E){var A=k(w.parameters.apt,b),P=k(C.parameters.apt,E);return A&&P&&A.name.toLowerCase()===P.name.toLowerCase()};return l.codecs.forEach(function(w){for(var C=0;C<_.codecs.length;C++){var b=_.codecs[C];if(w.name.toLowerCase()===b.name.toLowerCase()&&w.clockRate===b.clockRate){if(w.name.toLowerCase()==="rtx"&&w.parameters&&b.parameters.apt&&!S(w,b,l.codecs,_.codecs))continue;(b=JSON.parse(JSON.stringify(b))).numChannels=Math.min(w.numChannels,b.numChannels),T.codecs.push(b),b.rtcpFeedback=b.rtcpFeedback.filter(function(E){for(var A=0;A<w.rtcpFeedback.length;A++)if(w.rtcpFeedback[A].type===E.type&&w.rtcpFeedback[A].parameter===E.parameter)return!0;return!1});break}}}),l.headerExtensions.forEach(function(w){for(var C=0;C<_.headerExtensions.length;C++){var b=_.headerExtensions[C];if(w.uri===b.uri){T.headerExtensions.push(b);break}}}),T}function v(l,_,T){return{offer:{setLocalDescription:["stable","have-local-offer"],setRemoteDescription:["stable","have-remote-offer"]},answer:{setLocalDescription:["have-remote-offer","have-local-pranswer"],setRemoteDescription:["have-local-offer","have-remote-pranswer"]}}[_][l].indexOf(T)!==-1}function u(l,_){var T=l.getRemoteCandidates().find(function(k){return _.foundation===k.foundation&&_.ip===k.ip&&_.port===k.port&&_.priority===k.priority&&_.protocol===k.protocol&&_.type===k.type});return T||l.addRemoteCandidate(_),!T}function c(l,_){var T=new Error(_);return T.name=l,T.code={NotSupportedError:9,InvalidStateError:11,InvalidAccessError:15,TypeError:void 0,OperationError:void 0}[l],T}var p=x("sdp");V.exports=function(l,_){function T(b,E){E.addTrack(b),E.dispatchEvent(new l.MediaStreamTrackEvent("addtrack",{track:b}))}function k(b,E){E.removeTrack(b),E.dispatchEvent(new l.MediaStreamTrackEvent("removetrack",{track:b}))}function S(b,E,A,P){var z=new Event("track");z.track=E,z.receiver=A,z.transceiver={receiver:A},z.streams=P,l.setTimeout(function(){b._dispatchEvent("track",z)})}var w=function(b){var E=this,A=document.createDocumentFragment();if(["addEventListener","removeEventListener","dispatchEvent"].forEach(function(z){E[z]=A[z].bind(A)}),this.canTrickleIceCandidates=null,this.needNegotiation=!1,this.localStreams=[],this.remoteStreams=[],this._localDescription=null,this._remoteDescription=null,this.signalingState="stable",this.iceConnectionState="new",this.connectionState="new",this.iceGatheringState="new",b=JSON.parse(JSON.stringify(b||{})),this.usingBundle=b.bundlePolicy==="max-bundle",b.rtcpMuxPolicy==="negotiate")throw c("NotSupportedError","rtcpMuxPolicy 'negotiate' is not supported");switch(b.rtcpMuxPolicy||(b.rtcpMuxPolicy="require"),b.iceTransportPolicy){case"all":case"relay":break;default:b.iceTransportPolicy="all"}switch(b.bundlePolicy){case"balanced":case"max-compat":case"max-bundle":break;default:b.bundlePolicy="balanced"}if(b.iceServers=function(z,B){var H=!1;return(z=JSON.parse(JSON.stringify(z))).filter(function(K){if(K&&(K.urls||K.url)){var Q=K.urls||K.url;K.url&&!K.urls&&console.warn("RTCIceServer.url is deprecated! Use urls instead.");var ct=typeof Q=="string";return ct&&(Q=[Q]),Q=Q.filter(function(mt){return mt.indexOf("turn:")!==0||mt.indexOf("transport=udp")===-1||mt.indexOf("turn:[")!==-1||H?mt.indexOf("stun:")===0&&B>=14393&&mt.indexOf("?transport=udp")===-1:(H=!0,!0)}),delete K.url,K.urls=ct?Q[0]:Q,!!Q.length}})}(b.iceServers||[],_),this._iceGatherers=[],b.iceCandidatePoolSize)for(var P=b.iceCandidatePoolSize;P>0;P--)this._iceGatherers.push(new l.RTCIceGatherer({iceServers:b.iceServers,gatherPolicy:b.iceTransportPolicy}));else b.iceCandidatePoolSize=0;this._config=b,this.transceivers=[],this._sdpSessionId=p.generateSessionId(),this._sdpSessionVersion=0,this._dtlsRole=void 0,this._isClosed=!1};Object.defineProperty(w.prototype,"localDescription",{configurable:!0,get:function(){return this._localDescription}}),Object.defineProperty(w.prototype,"remoteDescription",{configurable:!0,get:function(){return this._remoteDescription}}),w.prototype.onicecandidate=null,w.prototype.onaddstream=null,w.prototype.ontrack=null,w.prototype.onremovestream=null,w.prototype.onsignalingstatechange=null,w.prototype.oniceconnectionstatechange=null,w.prototype.onconnectionstatechange=null,w.prototype.onicegatheringstatechange=null,w.prototype.onnegotiationneeded=null,w.prototype.ondatachannel=null,w.prototype._dispatchEvent=function(b,E){this._isClosed||(this.dispatchEvent(E),typeof this["on"+b]=="function"&&this["on"+b](E))},w.prototype._emitGatheringStateChange=function(){var b=new Event("icegatheringstatechange");this._dispatchEvent("icegatheringstatechange",b)},w.prototype.getConfiguration=function(){return this._config},w.prototype.getLocalStreams=function(){return this.localStreams},w.prototype.getRemoteStreams=function(){return this.remoteStreams},w.prototype._createTransceiver=function(b,E){var A=this.transceivers.length>0,P={track:null,iceGatherer:null,iceTransport:null,dtlsTransport:null,localCapabilities:null,remoteCapabilities:null,rtpSender:null,rtpReceiver:null,kind:b,mid:null,sendEncodingParameters:null,recvEncodingParameters:null,stream:null,associatedRemoteMediaStreams:[],wantReceive:!0};if(this.usingBundle&&A)P.iceTransport=this.transceivers[0].iceTransport,P.dtlsTransport=this.transceivers[0].dtlsTransport;else{var z=this._createIceAndDtlsTransports();P.iceTransport=z.iceTransport,P.dtlsTransport=z.dtlsTransport}return E||this.transceivers.push(P),P},w.prototype.addTrack=function(b,E){if(this._isClosed)throw c("InvalidStateError","Attempted to call addTrack on a closed peerconnection.");if(this.transceivers.find(function(z){return z.track===b}))throw c("InvalidAccessError","Track already exists.");for(var A,P=0;P<this.transceivers.length;P++)this.transceivers[P].track||this.transceivers[P].kind!==b.kind||(A=this.transceivers[P]);return A||(A=this._createTransceiver(b.kind)),this._maybeFireNegotiationNeeded(),this.localStreams.indexOf(E)===-1&&this.localStreams.push(E),A.track=b,A.stream=E,A.rtpSender=new l.RTCRtpSender(b,A.dtlsTransport),A.rtpSender},w.prototype.addStream=function(b){var E=this;if(_>=15025)b.getTracks().forEach(function(P){E.addTrack(P,b)});else{var A=b.clone();b.getTracks().forEach(function(P,z){var B=A.getTracks()[z];P.addEventListener("enabled",function(H){B.enabled=H.enabled})}),A.getTracks().forEach(function(P){E.addTrack(P,A)})}},w.prototype.removeTrack=function(b){if(this._isClosed)throw c("InvalidStateError","Attempted to call removeTrack on a closed peerconnection.");if(!(b instanceof l.RTCRtpSender))throw new TypeError("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.");var E=this.transceivers.find(function(P){return P.rtpSender===b});if(!E)throw c("InvalidAccessError","Sender was not created by this connection.");var A=E.stream;E.rtpSender.stop(),E.rtpSender=null,E.track=null,E.stream=null,this.transceivers.map(function(P){return P.stream}).indexOf(A)===-1&&this.localStreams.indexOf(A)>-1&&this.localStreams.splice(this.localStreams.indexOf(A),1),this._maybeFireNegotiationNeeded()},w.prototype.removeStream=function(b){var E=this;b.getTracks().forEach(function(A){var P=E.getSenders().find(function(z){return z.track===A});P&&E.removeTrack(P)})},w.prototype.getSenders=function(){return this.transceivers.filter(function(b){return!!b.rtpSender}).map(function(b){return b.rtpSender})},w.prototype.getReceivers=function(){return this.transceivers.filter(function(b){return!!b.rtpReceiver}).map(function(b){return b.rtpReceiver})},w.prototype._createIceGatherer=function(b,E){var A=this;if(E&&b>0)return this.transceivers[0].iceGatherer;if(this._iceGatherers.length)return this._iceGatherers.shift();var P=new l.RTCIceGatherer({iceServers:this._config.iceServers,gatherPolicy:this._config.iceTransportPolicy});return Object.defineProperty(P,"state",{value:"new",writable:!0}),this.transceivers[b].bufferedCandidateEvents=[],this.transceivers[b].bufferCandidates=function(z){var B=!z.candidate||Object.keys(z.candidate).length===0;P.state=B?"completed":"gathering",A.transceivers[b].bufferedCandidateEvents!==null&&A.transceivers[b].bufferedCandidateEvents.push(z)},P.addEventListener("localcandidate",this.transceivers[b].bufferCandidates),P},w.prototype._gather=function(b,E){var A=this,P=this.transceivers[E].iceGatherer;if(!P.onlocalcandidate){var z=this.transceivers[E].bufferedCandidateEvents;this.transceivers[E].bufferedCandidateEvents=null,P.removeEventListener("localcandidate",this.transceivers[E].bufferCandidates),P.onlocalcandidate=function(B){if(!(A.usingBundle&&E>0)){var H=new Event("icecandidate");H.candidate={sdpMid:b,sdpMLineIndex:E};var K=B.candidate,Q=!K||Object.keys(K).length===0;if(Q)P.state!=="new"&&P.state!=="gathering"||(P.state="completed");else{P.state==="new"&&(P.state="gathering"),K.component=1,K.ufrag=P.getLocalParameters().usernameFragment;var ct=p.writeCandidate(K);H.candidate=Object.assign(H.candidate,p.parseCandidate(ct)),H.candidate.candidate=ct,H.candidate.toJSON=function(){return{candidate:H.candidate.candidate,sdpMid:H.candidate.sdpMid,sdpMLineIndex:H.candidate.sdpMLineIndex,usernameFragment:H.candidate.usernameFragment}}}var mt=p.getMediaSections(A._localDescription.sdp);mt[H.candidate.sdpMLineIndex]+=Q?`a=end-of-candidates\r
`:"a="+H.candidate.candidate+`\r
`,A._localDescription.sdp=p.getDescription(A._localDescription.sdp)+mt.join("");var It=A.transceivers.every(function(Dt){return Dt.iceGatherer&&Dt.iceGatherer.state==="completed"});A.iceGatheringState!=="gathering"&&(A.iceGatheringState="gathering",A._emitGatheringStateChange()),Q||A._dispatchEvent("icecandidate",H),It&&(A._dispatchEvent("icecandidate",new Event("icecandidate")),A.iceGatheringState="complete",A._emitGatheringStateChange())}},l.setTimeout(function(){z.forEach(function(B){P.onlocalcandidate(B)})},0)}},w.prototype._createIceAndDtlsTransports=function(){var b=this,E=new l.RTCIceTransport(null);E.onicestatechange=function(){b._updateIceConnectionState(),b._updateConnectionState()};var A=new l.RTCDtlsTransport(E);return A.ondtlsstatechange=function(){b._updateConnectionState()},A.onerror=function(){Object.defineProperty(A,"state",{value:"failed",writable:!0}),b._updateConnectionState()},{iceTransport:E,dtlsTransport:A}},w.prototype._disposeIceAndDtlsTransports=function(b){var E=this.transceivers[b].iceGatherer;E&&(delete E.onlocalcandidate,delete this.transceivers[b].iceGatherer);var A=this.transceivers[b].iceTransport;A&&(delete A.onicestatechange,delete this.transceivers[b].iceTransport);var P=this.transceivers[b].dtlsTransport;P&&(delete P.ondtlsstatechange,delete P.onerror,delete this.transceivers[b].dtlsTransport)},w.prototype._transceive=function(b,E,A){var P=g(b.localCapabilities,b.remoteCapabilities);E&&b.rtpSender&&(P.encodings=b.sendEncodingParameters,P.rtcp={cname:p.localCName,compound:b.rtcpParameters.compound},b.recvEncodingParameters.length&&(P.rtcp.ssrc=b.recvEncodingParameters[0].ssrc),b.rtpSender.send(P)),A&&b.rtpReceiver&&P.codecs.length>0&&(b.kind==="video"&&b.recvEncodingParameters&&_<15019&&b.recvEncodingParameters.forEach(function(z){delete z.rtx}),b.recvEncodingParameters.length?P.encodings=b.recvEncodingParameters:P.encodings=[{}],P.rtcp={compound:b.rtcpParameters.compound},b.rtcpParameters.cname&&(P.rtcp.cname=b.rtcpParameters.cname),b.sendEncodingParameters.length&&(P.rtcp.ssrc=b.sendEncodingParameters[0].ssrc),b.rtpReceiver.receive(P))},w.prototype.setLocalDescription=function(b){var E,A,P=this;if(["offer","answer"].indexOf(b.type)===-1)return Promise.reject(c("TypeError",'Unsupported type "'+b.type+'"'));if(!v("setLocalDescription",b.type,P.signalingState)||P._isClosed)return Promise.reject(c("InvalidStateError","Can not set local "+b.type+" in state "+P.signalingState));if(b.type==="offer")E=p.splitSections(b.sdp),A=E.shift(),E.forEach(function(B,H){var K=p.parseRtpParameters(B);P.transceivers[H].localCapabilities=K}),P.transceivers.forEach(function(B,H){P._gather(B.mid,H)});else if(b.type==="answer"){E=p.splitSections(P._remoteDescription.sdp),A=E.shift();var z=p.matchPrefix(A,"a=ice-lite").length>0;E.forEach(function(B,H){var K=P.transceivers[H],Q=K.iceGatherer,ct=K.iceTransport,mt=K.dtlsTransport,It=K.localCapabilities,Dt=K.remoteCapabilities;if(!(p.isRejected(B)&&p.matchPrefix(B,"a=bundle-only").length===0||K.rejected)){var Wt=p.getIceParameters(B,A),Zt=p.getDtlsParameters(B,A);z&&(Zt.role="server"),P.usingBundle&&H!==0||(P._gather(K.mid,H),ct.state==="new"&&ct.start(Q,Wt,z?"controlling":"controlled"),mt.state==="new"&&mt.start(Zt));var Rt=g(It,Dt);P._transceive(K,Rt.codecs.length>0,!1)}})}return P._localDescription={type:b.type,sdp:b.sdp},b.type==="offer"?P._updateSignalingState("have-local-offer"):P._updateSignalingState("stable"),Promise.resolve()},w.prototype.setRemoteDescription=function(b){var E=this;if(["offer","answer"].indexOf(b.type)===-1)return Promise.reject(c("TypeError",'Unsupported type "'+b.type+'"'));if(!v("setRemoteDescription",b.type,E.signalingState)||E._isClosed)return Promise.reject(c("InvalidStateError","Can not set remote "+b.type+" in state "+E.signalingState));var A={};E.remoteStreams.forEach(function(ct){A[ct.id]=ct});var P=[],z=p.splitSections(b.sdp),B=z.shift(),H=p.matchPrefix(B,"a=ice-lite").length>0,K=p.matchPrefix(B,"a=group:BUNDLE ").length>0;E.usingBundle=K;var Q=p.matchPrefix(B,"a=ice-options:")[0];return E.canTrickleIceCandidates=!!Q&&Q.substr(14).split(" ").indexOf("trickle")>=0,z.forEach(function(ct,mt){var It=p.splitLines(ct),Dt=p.getKind(ct),Wt=p.isRejected(ct)&&p.matchPrefix(ct,"a=bundle-only").length===0,Zt=It[0].substr(2).split(" ")[2],Rt=p.getDirection(ct,B),qt=p.parseMsid(ct),ae=p.getMid(ct)||p.generateIdentifier();if(Wt||Dt==="application"&&(Zt==="DTLS/SCTP"||Zt==="UDP/DTLS/SCTP"))E.transceivers[mt]={mid:ae,kind:Dt,protocol:Zt,rejected:!0};else{!Wt&&E.transceivers[mt]&&E.transceivers[mt].rejected&&(E.transceivers[mt]=E._createTransceiver(Dt,!0));var Ut,U,ot,lt,gt,Lt,vt,ht,pt,Bt,Ot,zt=p.parseRtpParameters(ct);Wt||(Bt=p.getIceParameters(ct,B),(Ot=p.getDtlsParameters(ct,B)).role="client"),vt=p.parseRtpEncodingParameters(ct);var se=p.parseRtcpParameters(ct),Oe=p.matchPrefix(ct,"a=end-of-candidates",B).length>0,le=p.matchPrefix(ct,"a=candidate:").map(function(Ee){return p.parseCandidate(Ee)}).filter(function(Ee){return Ee.component===1});if((b.type==="offer"||b.type==="answer")&&!Wt&&K&&mt>0&&E.transceivers[mt]&&(E._disposeIceAndDtlsTransports(mt),E.transceivers[mt].iceGatherer=E.transceivers[0].iceGatherer,E.transceivers[mt].iceTransport=E.transceivers[0].iceTransport,E.transceivers[mt].dtlsTransport=E.transceivers[0].dtlsTransport,E.transceivers[mt].rtpSender&&E.transceivers[mt].rtpSender.setTransport(E.transceivers[0].dtlsTransport),E.transceivers[mt].rtpReceiver&&E.transceivers[mt].rtpReceiver.setTransport(E.transceivers[0].dtlsTransport)),b.type!=="offer"||Wt)b.type==="answer"&&!Wt&&(U=(Ut=E.transceivers[mt]).iceGatherer,ot=Ut.iceTransport,lt=Ut.dtlsTransport,gt=Ut.rtpReceiver,Lt=Ut.sendEncodingParameters,ht=Ut.localCapabilities,E.transceivers[mt].recvEncodingParameters=vt,E.transceivers[mt].remoteCapabilities=zt,E.transceivers[mt].rtcpParameters=se,le.length&&ot.state==="new"&&(!H&&!Oe||K&&mt!==0?le.forEach(function(Ee){u(Ut.iceTransport,Ee)}):ot.setRemoteCandidates(le)),K&&mt!==0||(ot.state==="new"&&ot.start(U,Bt,"controlling"),lt.state==="new"&&lt.start(Ot)),!g(Ut.localCapabilities,Ut.remoteCapabilities).codecs.filter(function(Ee){return Ee.name.toLowerCase()==="rtx"}).length&&Ut.sendEncodingParameters[0].rtx&&delete Ut.sendEncodingParameters[0].rtx,E._transceive(Ut,Rt==="sendrecv"||Rt==="recvonly",Rt==="sendrecv"||Rt==="sendonly"),!gt||Rt!=="sendrecv"&&Rt!=="sendonly"?delete Ut.rtpReceiver:(pt=gt.track,qt?(A[qt.stream]||(A[qt.stream]=new l.MediaStream),T(pt,A[qt.stream]),P.push([pt,gt,A[qt.stream]])):(A.default||(A.default=new l.MediaStream),T(pt,A.default),P.push([pt,gt,A.default]))));else{(Ut=E.transceivers[mt]||E._createTransceiver(Dt)).mid=ae,Ut.iceGatherer||(Ut.iceGatherer=E._createIceGatherer(mt,K)),le.length&&Ut.iceTransport.state==="new"&&(!Oe||K&&mt!==0?le.forEach(function(Ee){u(Ut.iceTransport,Ee)}):Ut.iceTransport.setRemoteCandidates(le)),ht=l.RTCRtpReceiver.getCapabilities(Dt),_<15019&&(ht.codecs=ht.codecs.filter(function(Ee){return Ee.name!=="rtx"})),Lt=Ut.sendEncodingParameters||[{ssrc:1001*(2*mt+2)}];var Qt,Ke=!1;Rt==="sendrecv"||Rt==="sendonly"?(Ke=!Ut.rtpReceiver,gt=Ut.rtpReceiver||new l.RTCRtpReceiver(Ut.dtlsTransport,Dt),Ke&&(pt=gt.track,qt&&qt.stream==="-"||(qt?(A[qt.stream]||(A[qt.stream]=new l.MediaStream,Object.defineProperty(A[qt.stream],"id",{get:function(){return qt.stream}})),Object.defineProperty(pt,"id",{get:function(){return qt.track}}),Qt=A[qt.stream]):(A.default||(A.default=new l.MediaStream),Qt=A.default)),Qt&&(T(pt,Qt),Ut.associatedRemoteMediaStreams.push(Qt)),P.push([pt,gt,Qt]))):Ut.rtpReceiver&&Ut.rtpReceiver.track&&(Ut.associatedRemoteMediaStreams.forEach(function(Ee){var Je=Ee.getTracks().find(function(Te){return Te.id===Ut.rtpReceiver.track.id});Je&&k(Je,Ee)}),Ut.associatedRemoteMediaStreams=[]),Ut.localCapabilities=ht,Ut.remoteCapabilities=zt,Ut.rtpReceiver=gt,Ut.rtcpParameters=se,Ut.sendEncodingParameters=Lt,Ut.recvEncodingParameters=vt,E._transceive(E.transceivers[mt],!1,Ke)}}}),E._dtlsRole===void 0&&(E._dtlsRole=b.type==="offer"?"active":"passive"),E._remoteDescription={type:b.type,sdp:b.sdp},b.type==="offer"?E._updateSignalingState("have-remote-offer"):E._updateSignalingState("stable"),Object.keys(A).forEach(function(ct){var mt=A[ct];if(mt.getTracks().length){if(E.remoteStreams.indexOf(mt)===-1){E.remoteStreams.push(mt);var It=new Event("addstream");It.stream=mt,l.setTimeout(function(){E._dispatchEvent("addstream",It)})}P.forEach(function(Dt){var Wt=Dt[0],Zt=Dt[1];mt.id===Dt[2].id&&S(E,Wt,Zt,[mt])})}}),P.forEach(function(ct){ct[2]||S(E,ct[0],ct[1],[])}),l.setTimeout(function(){E&&E.transceivers&&E.transceivers.forEach(function(ct){ct.iceTransport&&ct.iceTransport.state==="new"&&ct.iceTransport.getRemoteCandidates().length>0&&(console.warn("Timeout for addRemoteCandidate. Consider sending an end-of-candidates notification"),ct.iceTransport.addRemoteCandidate({}))})},4e3),Promise.resolve()},w.prototype.close=function(){this.transceivers.forEach(function(b){b.iceTransport&&b.iceTransport.stop(),b.dtlsTransport&&b.dtlsTransport.stop(),b.rtpSender&&b.rtpSender.stop(),b.rtpReceiver&&b.rtpReceiver.stop()}),this._isClosed=!0,this._updateSignalingState("closed")},w.prototype._updateSignalingState=function(b){this.signalingState=b;var E=new Event("signalingstatechange");this._dispatchEvent("signalingstatechange",E)},w.prototype._maybeFireNegotiationNeeded=function(){var b=this;this.signalingState==="stable"&&this.needNegotiation!==!0&&(this.needNegotiation=!0,l.setTimeout(function(){if(b.needNegotiation){b.needNegotiation=!1;var E=new Event("negotiationneeded");b._dispatchEvent("negotiationneeded",E)}},0))},w.prototype._updateIceConnectionState=function(){var b,E={new:0,closed:0,checking:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach(function(P){P.iceTransport&&!P.rejected&&E[P.iceTransport.state]++}),b="new",E.failed>0?b="failed":E.checking>0?b="checking":E.disconnected>0?b="disconnected":E.new>0?b="new":E.connected>0?b="connected":E.completed>0&&(b="completed"),b!==this.iceConnectionState){this.iceConnectionState=b;var A=new Event("iceconnectionstatechange");this._dispatchEvent("iceconnectionstatechange",A)}},w.prototype._updateConnectionState=function(){var b,E={new:0,closed:0,connecting:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach(function(P){P.iceTransport&&P.dtlsTransport&&!P.rejected&&(E[P.iceTransport.state]++,E[P.dtlsTransport.state]++)}),E.connected+=E.completed,b="new",E.failed>0?b="failed":E.connecting>0?b="connecting":E.disconnected>0?b="disconnected":E.new>0?b="new":E.connected>0&&(b="connected"),b!==this.connectionState){this.connectionState=b;var A=new Event("connectionstatechange");this._dispatchEvent("connectionstatechange",A)}},w.prototype.createOffer=function(){var b=this;if(b._isClosed)return Promise.reject(c("InvalidStateError","Can not call createOffer after close"));var E=b.transceivers.filter(function(H){return H.kind==="audio"}).length,A=b.transceivers.filter(function(H){return H.kind==="video"}).length,P=arguments[0];if(P){if(P.mandatory||P.optional)throw new TypeError("Legacy mandatory/optional constraints not supported.");P.offerToReceiveAudio!==void 0&&(E=P.offerToReceiveAudio===!0?1:P.offerToReceiveAudio===!1?0:P.offerToReceiveAudio),P.offerToReceiveVideo!==void 0&&(A=P.offerToReceiveVideo===!0?1:P.offerToReceiveVideo===!1?0:P.offerToReceiveVideo)}for(b.transceivers.forEach(function(H){H.kind==="audio"?--E<0&&(H.wantReceive=!1):H.kind==="video"&&--A<0&&(H.wantReceive=!1)});E>0||A>0;)E>0&&(b._createTransceiver("audio"),E--),A>0&&(b._createTransceiver("video"),A--);var z=p.writeSessionBoilerplate(b._sdpSessionId,b._sdpSessionVersion++);b.transceivers.forEach(function(H,K){var Q=H.track,ct=H.kind,mt=H.mid||p.generateIdentifier();H.mid=mt,H.iceGatherer||(H.iceGatherer=b._createIceGatherer(K,b.usingBundle));var It=l.RTCRtpSender.getCapabilities(ct);_<15019&&(It.codecs=It.codecs.filter(function(Wt){return Wt.name!=="rtx"})),It.codecs.forEach(function(Wt){Wt.name==="H264"&&Wt.parameters["level-asymmetry-allowed"]===void 0&&(Wt.parameters["level-asymmetry-allowed"]="1"),H.remoteCapabilities&&H.remoteCapabilities.codecs&&H.remoteCapabilities.codecs.forEach(function(Zt){Wt.name.toLowerCase()===Zt.name.toLowerCase()&&Wt.clockRate===Zt.clockRate&&(Wt.preferredPayloadType=Zt.payloadType)})}),It.headerExtensions.forEach(function(Wt){(H.remoteCapabilities&&H.remoteCapabilities.headerExtensions||[]).forEach(function(Zt){Wt.uri===Zt.uri&&(Wt.id=Zt.id)})});var Dt=H.sendEncodingParameters||[{ssrc:1001*(2*K+1)}];Q&&_>=15019&&ct==="video"&&!Dt[0].rtx&&(Dt[0].rtx={ssrc:Dt[0].ssrc+1}),H.wantReceive&&(H.rtpReceiver=new l.RTCRtpReceiver(H.dtlsTransport,ct)),H.localCapabilities=It,H.sendEncodingParameters=Dt}),b._config.bundlePolicy!=="max-compat"&&(z+="a=group:BUNDLE "+b.transceivers.map(function(H){return H.mid}).join(" ")+`\r
`),z+=`a=ice-options:trickle\r
`,b.transceivers.forEach(function(H,K){z+=d(H,H.localCapabilities,"offer",H.stream,b._dtlsRole),z+=`a=rtcp-rsize\r
`,!H.iceGatherer||b.iceGatheringState==="new"||K!==0&&b.usingBundle||(H.iceGatherer.getLocalCandidates().forEach(function(Q){Q.component=1,z+="a="+p.writeCandidate(Q)+`\r
`}),H.iceGatherer.state==="completed"&&(z+=`a=end-of-candidates\r
`))});var B=new l.RTCSessionDescription({type:"offer",sdp:z});return Promise.resolve(B)},w.prototype.createAnswer=function(){var b=this;if(b._isClosed)return Promise.reject(c("InvalidStateError","Can not call createAnswer after close"));if(b.signalingState!=="have-remote-offer"&&b.signalingState!=="have-local-pranswer")return Promise.reject(c("InvalidStateError","Can not call createAnswer in signalingState "+b.signalingState));var E=p.writeSessionBoilerplate(b._sdpSessionId,b._sdpSessionVersion++);b.usingBundle&&(E+="a=group:BUNDLE "+b.transceivers.map(function(z){return z.mid}).join(" ")+`\r
`),E+=`a=ice-options:trickle\r
`;var A=p.getMediaSections(b._remoteDescription.sdp).length;b.transceivers.forEach(function(z,B){if(!(B+1>A)){if(z.rejected)return z.kind==="application"?z.protocol==="DTLS/SCTP"?E+=`m=application 0 DTLS/SCTP 5000\r
`:E+="m=application 0 "+z.protocol+` webrtc-datachannel\r
`:z.kind==="audio"?E+=`m=audio 0 UDP/TLS/RTP/SAVPF 0\r
a=rtpmap:0 PCMU/8000\r
`:z.kind==="video"&&(E+=`m=video 0 UDP/TLS/RTP/SAVPF 120\r
a=rtpmap:120 VP8/90000\r
`),void(E+=`c=IN IP4 0.0.0.0\r
a=inactive\r
a=mid:`+z.mid+`\r
`);var H;z.stream&&(z.kind==="audio"?H=z.stream.getAudioTracks()[0]:z.kind==="video"&&(H=z.stream.getVideoTracks()[0]),H&&_>=15019&&z.kind==="video"&&!z.sendEncodingParameters[0].rtx&&(z.sendEncodingParameters[0].rtx={ssrc:z.sendEncodingParameters[0].ssrc+1}));var K=g(z.localCapabilities,z.remoteCapabilities);!K.codecs.filter(function(Q){return Q.name.toLowerCase()==="rtx"}).length&&z.sendEncodingParameters[0].rtx&&delete z.sendEncodingParameters[0].rtx,E+=d(z,K,"answer",z.stream,b._dtlsRole),z.rtcpParameters&&z.rtcpParameters.reducedSize&&(E+=`a=rtcp-rsize\r
`)}});var P=new l.RTCSessionDescription({type:"answer",sdp:E});return Promise.resolve(P)},w.prototype.addIceCandidate=function(b){var E,A=this;return b&&b.sdpMLineIndex===void 0&&!b.sdpMid?Promise.reject(new TypeError("sdpMLineIndex or sdpMid required")):new Promise(function(P,z){if(!A._remoteDescription)return z(c("InvalidStateError","Can not add ICE candidate without a remote description"));if(b&&b.candidate!==""){var B=b.sdpMLineIndex;if(b.sdpMid){for(var H=0;H<A.transceivers.length;H++)if(A.transceivers[H].mid===b.sdpMid){B=H;break}}var K=A.transceivers[B];if(!K)return z(c("OperationError","Can not add ICE candidate"));if(K.rejected)return P();var Q=Object.keys(b.candidate).length>0?p.parseCandidate(b.candidate):{};if(Q.protocol==="tcp"&&(Q.port===0||Q.port===9)||Q.component&&Q.component!==1)return P();if((B===0||B>0&&K.iceTransport!==A.transceivers[0].iceTransport)&&!u(K.iceTransport,Q))return z(c("OperationError","Can not add ICE candidate"));var ct=b.candidate.trim();ct.indexOf("a=")===0&&(ct=ct.substr(2)),(E=p.getMediaSections(A._remoteDescription.sdp))[B]+="a="+(Q.type?ct:"end-of-candidates")+`\r
`,A._remoteDescription.sdp=p.getDescription(A._remoteDescription.sdp)+E.join("")}else for(var mt=0;mt<A.transceivers.length&&(A.transceivers[mt].rejected||(A.transceivers[mt].iceTransport.addRemoteCandidate({}),(E=p.getMediaSections(A._remoteDescription.sdp))[mt]+=`a=end-of-candidates\r
`,A._remoteDescription.sdp=p.getDescription(A._remoteDescription.sdp)+E.join(""),!A.usingBundle));mt++);P()})},w.prototype.getStats=function(b){if(b&&b instanceof l.MediaStreamTrack){var E=null;if(this.transceivers.forEach(function(P){P.rtpSender&&P.rtpSender.track===b?E=P.rtpSender:P.rtpReceiver&&P.rtpReceiver.track===b&&(E=P.rtpReceiver)}),!E)throw c("InvalidAccessError","Invalid selector.");return E.getStats()}var A=[];return this.transceivers.forEach(function(P){["rtpSender","rtpReceiver","iceGatherer","iceTransport","dtlsTransport"].forEach(function(z){P[z]&&A.push(P[z].getStats())})}),Promise.all(A).then(function(P){var z=new Map;return P.forEach(function(B){B.forEach(function(H){z.set(H.id,H)})}),z})},["RTCRtpSender","RTCRtpReceiver","RTCIceGatherer","RTCIceTransport","RTCDtlsTransport"].forEach(function(b){var E=l[b];if(E&&E.prototype&&E.prototype.getStats){var A=E.prototype.getStats;E.prototype.getStats=function(){return A.apply(this).then(function(P){var z=new Map;return Object.keys(P).forEach(function(B){P[B].type=function(H){return{inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[H.type]||H.type}(P[B]),z.set(B,P[B])}),z})}}});var C=["createOffer","createAnswer"];return C.forEach(function(b){var E=w.prototype[b];w.prototype[b]=function(){var A=arguments;return typeof A[0]=="function"||typeof A[1]=="function"?E.apply(this,[arguments[2]]).then(function(P){typeof A[0]=="function"&&A[0].apply(null,[P])},function(P){typeof A[1]=="function"&&A[1].apply(null,[P])}):E.apply(this,arguments)}}),(C=["setLocalDescription","setRemoteDescription","addIceCandidate"]).forEach(function(b){var E=w.prototype[b];w.prototype[b]=function(){var A=arguments;return typeof A[1]=="function"||typeof A[2]=="function"?E.apply(this,arguments).then(function(){typeof A[1]=="function"&&A[1].apply(null)},function(P){typeof A[2]=="function"&&A[2].apply(null,[P])}):E.apply(this,arguments)}}),["getStats"].forEach(function(b){var E=w.prototype[b];w.prototype[b]=function(){var A=arguments;return typeof A[1]=="function"?E.apply(this,arguments).then(function(){typeof A[1]=="function"&&A[1].apply(null)}):E.apply(this,arguments)}}),w}},{sdp:17}],17:[function(x,V,o){"use strict";var d={generateIdentifier:function(){return Math.random().toString(36).substr(2,10)}};d.localCName=d.generateIdentifier(),d.splitLines=function(g){return g.trim().split(`
`).map(function(v){return v.trim()})},d.splitSections=function(g){return g.split(`
m=`).map(function(v,u){return(u>0?"m="+v:v).trim()+`\r
`})},d.getDescription=function(g){var v=d.splitSections(g);return v&&v[0]},d.getMediaSections=function(g){var v=d.splitSections(g);return v.shift(),v},d.matchPrefix=function(g,v){return d.splitLines(g).filter(function(u){return u.indexOf(v)===0})},d.parseCandidate=function(g){for(var v,u={foundation:(v=g.indexOf("a=candidate:")===0?g.substring(12).split(" "):g.substring(10).split(" "))[0],component:parseInt(v[1],10),protocol:v[2].toLowerCase(),priority:parseInt(v[3],10),ip:v[4],address:v[4],port:parseInt(v[5],10),type:v[7]},c=8;c<v.length;c+=2)switch(v[c]){case"raddr":u.relatedAddress=v[c+1];break;case"rport":u.relatedPort=parseInt(v[c+1],10);break;case"tcptype":u.tcpType=v[c+1];break;case"ufrag":u.ufrag=v[c+1],u.usernameFragment=v[c+1];break;default:u[v[c]]=v[c+1]}return u},d.writeCandidate=function(g){var v=[];v.push(g.foundation),v.push(g.component),v.push(g.protocol.toUpperCase()),v.push(g.priority),v.push(g.address||g.ip),v.push(g.port);var u=g.type;return v.push("typ"),v.push(u),u!=="host"&&g.relatedAddress&&g.relatedPort&&(v.push("raddr"),v.push(g.relatedAddress),v.push("rport"),v.push(g.relatedPort)),g.tcpType&&g.protocol.toLowerCase()==="tcp"&&(v.push("tcptype"),v.push(g.tcpType)),(g.usernameFragment||g.ufrag)&&(v.push("ufrag"),v.push(g.usernameFragment||g.ufrag)),"candidate:"+v.join(" ")},d.parseIceOptions=function(g){return g.substr(14).split(" ")},d.parseRtpMap=function(g){var v=g.substr(9).split(" "),u={payloadType:parseInt(v.shift(),10)};return v=v[0].split("/"),u.name=v[0],u.clockRate=parseInt(v[1],10),u.channels=v.length===3?parseInt(v[2],10):1,u.numChannels=u.channels,u},d.writeRtpMap=function(g){var v=g.payloadType;g.preferredPayloadType!==void 0&&(v=g.preferredPayloadType);var u=g.channels||g.numChannels||1;return"a=rtpmap:"+v+" "+g.name+"/"+g.clockRate+(u!==1?"/"+u:"")+`\r
`},d.parseExtmap=function(g){var v=g.substr(9).split(" ");return{id:parseInt(v[0],10),direction:v[0].indexOf("/")>0?v[0].split("/")[1]:"sendrecv",uri:v[1]}},d.writeExtmap=function(g){return"a=extmap:"+(g.id||g.preferredId)+(g.direction&&g.direction!=="sendrecv"?"/"+g.direction:"")+" "+g.uri+`\r
`},d.parseFmtp=function(g){for(var v,u={},c=g.substr(g.indexOf(" ")+1).split(";"),p=0;p<c.length;p++)u[(v=c[p].trim().split("="))[0].trim()]=v[1];return u},d.writeFmtp=function(g){var v="",u=g.payloadType;if(g.preferredPayloadType!==void 0&&(u=g.preferredPayloadType),g.parameters&&Object.keys(g.parameters).length){var c=[];Object.keys(g.parameters).forEach(function(p){g.parameters[p]?c.push(p+"="+g.parameters[p]):c.push(p)}),v+="a=fmtp:"+u+" "+c.join(";")+`\r
`}return v},d.parseRtcpFb=function(g){var v=g.substr(g.indexOf(" ")+1).split(" ");return{type:v.shift(),parameter:v.join(" ")}},d.writeRtcpFb=function(g){var v="",u=g.payloadType;return g.preferredPayloadType!==void 0&&(u=g.preferredPayloadType),g.rtcpFeedback&&g.rtcpFeedback.length&&g.rtcpFeedback.forEach(function(c){v+="a=rtcp-fb:"+u+" "+c.type+(c.parameter&&c.parameter.length?" "+c.parameter:"")+`\r
`}),v},d.parseSsrcMedia=function(g){var v=g.indexOf(" "),u={ssrc:parseInt(g.substr(7,v-7),10)},c=g.indexOf(":",v);return c>-1?(u.attribute=g.substr(v+1,c-v-1),u.value=g.substr(c+1)):u.attribute=g.substr(v+1),u},d.parseSsrcGroup=function(g){var v=g.substr(13).split(" ");return{semantics:v.shift(),ssrcs:v.map(function(u){return parseInt(u,10)})}},d.getMid=function(g){var v=d.matchPrefix(g,"a=mid:")[0];if(v)return v.substr(6)},d.parseFingerprint=function(g){var v=g.substr(14).split(" ");return{algorithm:v[0].toLowerCase(),value:v[1]}},d.getDtlsParameters=function(g,v){return{role:"auto",fingerprints:d.matchPrefix(g+v,"a=fingerprint:").map(d.parseFingerprint)}},d.writeDtlsParameters=function(g,v){var u="a=setup:"+v+`\r
`;return g.fingerprints.forEach(function(c){u+="a=fingerprint:"+c.algorithm+" "+c.value+`\r
`}),u},d.parseCryptoLine=function(g){var v=g.substr(9).split(" ");return{tag:parseInt(v[0],10),cryptoSuite:v[1],keyParams:v[2],sessionParams:v.slice(3)}},d.writeCryptoLine=function(g){return"a=crypto:"+g.tag+" "+g.cryptoSuite+" "+(typeof g.keyParams=="object"?d.writeCryptoKeyParams(g.keyParams):g.keyParams)+(g.sessionParams?" "+g.sessionParams.join(" "):"")+`\r
`},d.parseCryptoKeyParams=function(g){if(g.indexOf("inline:")!==0)return null;var v=g.substr(7).split("|");return{keyMethod:"inline",keySalt:v[0],lifeTime:v[1],mkiValue:v[2]?v[2].split(":")[0]:void 0,mkiLength:v[2]?v[2].split(":")[1]:void 0}},d.writeCryptoKeyParams=function(g){return g.keyMethod+":"+g.keySalt+(g.lifeTime?"|"+g.lifeTime:"")+(g.mkiValue&&g.mkiLength?"|"+g.mkiValue+":"+g.mkiLength:"")},d.getCryptoParameters=function(g,v){return d.matchPrefix(g+v,"a=crypto:").map(d.parseCryptoLine)},d.getIceParameters=function(g,v){var u=d.matchPrefix(g+v,"a=ice-ufrag:")[0],c=d.matchPrefix(g+v,"a=ice-pwd:")[0];return u&&c?{usernameFragment:u.substr(12),password:c.substr(10)}:null},d.writeIceParameters=function(g){return"a=ice-ufrag:"+g.usernameFragment+`\r
a=ice-pwd:`+g.password+`\r
`},d.parseRtpParameters=function(g){for(var v={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},u=d.splitLines(g)[0].split(" "),c=3;c<u.length;c++){var p=u[c],l=d.matchPrefix(g,"a=rtpmap:"+p+" ")[0];if(l){var _=d.parseRtpMap(l),T=d.matchPrefix(g,"a=fmtp:"+p+" ");switch(_.parameters=T.length?d.parseFmtp(T[0]):{},_.rtcpFeedback=d.matchPrefix(g,"a=rtcp-fb:"+p+" ").map(d.parseRtcpFb),v.codecs.push(_),_.name.toUpperCase()){case"RED":case"ULPFEC":v.fecMechanisms.push(_.name.toUpperCase())}}}return d.matchPrefix(g,"a=extmap:").forEach(function(k){v.headerExtensions.push(d.parseExtmap(k))}),v},d.writeRtpDescription=function(g,v){var u="";u+="m="+g+" ",u+=v.codecs.length>0?"9":"0",u+=" UDP/TLS/RTP/SAVPF ",u+=v.codecs.map(function(p){return p.preferredPayloadType!==void 0?p.preferredPayloadType:p.payloadType}).join(" ")+`\r
`,u+=`c=IN IP4 0.0.0.0\r
`,u+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,v.codecs.forEach(function(p){u+=d.writeRtpMap(p),u+=d.writeFmtp(p),u+=d.writeRtcpFb(p)});var c=0;return v.codecs.forEach(function(p){p.maxptime>c&&(c=p.maxptime)}),c>0&&(u+="a=maxptime:"+c+`\r
`),u+=`a=rtcp-mux\r
`,v.headerExtensions&&v.headerExtensions.forEach(function(p){u+=d.writeExtmap(p)}),u},d.parseRtpEncodingParameters=function(g){var v,u=[],c=d.parseRtpParameters(g),p=c.fecMechanisms.indexOf("RED")!==-1,l=c.fecMechanisms.indexOf("ULPFEC")!==-1,_=d.matchPrefix(g,"a=ssrc:").map(function(w){return d.parseSsrcMedia(w)}).filter(function(w){return w.attribute==="cname"}),T=_.length>0&&_[0].ssrc,k=d.matchPrefix(g,"a=ssrc-group:FID").map(function(w){return w.substr(17).split(" ").map(function(C){return parseInt(C,10)})});k.length>0&&k[0].length>1&&k[0][0]===T&&(v=k[0][1]),c.codecs.forEach(function(w){if(w.name.toUpperCase()==="RTX"&&w.parameters.apt){var C={ssrc:T,codecPayloadType:parseInt(w.parameters.apt,10)};T&&v&&(C.rtx={ssrc:v}),u.push(C),p&&((C=JSON.parse(JSON.stringify(C))).fec={ssrc:T,mechanism:l?"red+ulpfec":"red"},u.push(C))}}),u.length===0&&T&&u.push({ssrc:T});var S=d.matchPrefix(g,"b=");return S.length&&(S=S[0].indexOf("b=TIAS:")===0?parseInt(S[0].substr(7),10):S[0].indexOf("b=AS:")===0?1e3*parseInt(S[0].substr(5),10)*.95-16e3:void 0,u.forEach(function(w){w.maxBitrate=S})),u},d.parseRtcpParameters=function(g){var v={},u=d.matchPrefix(g,"a=ssrc:").map(function(l){return d.parseSsrcMedia(l)}).filter(function(l){return l.attribute==="cname"})[0];u&&(v.cname=u.value,v.ssrc=u.ssrc);var c=d.matchPrefix(g,"a=rtcp-rsize");v.reducedSize=c.length>0,v.compound=c.length===0;var p=d.matchPrefix(g,"a=rtcp-mux");return v.mux=p.length>0,v},d.parseMsid=function(g){var v,u=d.matchPrefix(g,"a=msid:");if(u.length===1)return{stream:(v=u[0].substr(7).split(" "))[0],track:v[1]};var c=d.matchPrefix(g,"a=ssrc:").map(function(p){return d.parseSsrcMedia(p)}).filter(function(p){return p.attribute==="msid"});return c.length>0?{stream:(v=c[0].value.split(" "))[0],track:v[1]}:void 0},d.parseSctpDescription=function(g){var v,u=d.parseMLine(g),c=d.matchPrefix(g,"a=max-message-size:");c.length>0&&(v=parseInt(c[0].substr(19),10)),isNaN(v)&&(v=65536);var p=d.matchPrefix(g,"a=sctp-port:");if(p.length>0)return{port:parseInt(p[0].substr(12),10),protocol:u.fmt,maxMessageSize:v};if(d.matchPrefix(g,"a=sctpmap:").length>0){var l=d.matchPrefix(g,"a=sctpmap:")[0].substr(10).split(" ");return{port:parseInt(l[0],10),protocol:l[1],maxMessageSize:v}}},d.writeSctpDescription=function(g,v){var u=[];return u=g.protocol!=="DTLS/SCTP"?["m="+g.kind+" 9 "+g.protocol+" "+v.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+v.port+`\r
`]:["m="+g.kind+" 9 "+g.protocol+" "+v.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+v.port+" "+v.protocol+` 65535\r
`],v.maxMessageSize!==void 0&&u.push("a=max-message-size:"+v.maxMessageSize+`\r
`),u.join("")},d.generateSessionId=function(){return Math.random().toString().substr(2,21)},d.writeSessionBoilerplate=function(g,v,u){var c=v!==void 0?v:2;return`v=0\r
o=`+(u||"thisisadapterortc")+" "+(g||d.generateSessionId())+" "+c+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},d.writeMediaSection=function(g,v,u,c){var p=d.writeRtpDescription(g.kind,v);if(p+=d.writeIceParameters(g.iceGatherer.getLocalParameters()),p+=d.writeDtlsParameters(g.dtlsTransport.getLocalParameters(),u==="offer"?"actpass":"active"),p+="a=mid:"+g.mid+`\r
`,g.direction?p+="a="+g.direction+`\r
`:g.rtpSender&&g.rtpReceiver?p+=`a=sendrecv\r
`:g.rtpSender?p+=`a=sendonly\r
`:g.rtpReceiver?p+=`a=recvonly\r
`:p+=`a=inactive\r
`,g.rtpSender){var l="msid:"+c.id+" "+g.rtpSender.track.id+`\r
`;p+="a="+l,p+="a=ssrc:"+g.sendEncodingParameters[0].ssrc+" "+l,g.sendEncodingParameters[0].rtx&&(p+="a=ssrc:"+g.sendEncodingParameters[0].rtx.ssrc+" "+l,p+="a=ssrc-group:FID "+g.sendEncodingParameters[0].ssrc+" "+g.sendEncodingParameters[0].rtx.ssrc+`\r
`)}return p+="a=ssrc:"+g.sendEncodingParameters[0].ssrc+" cname:"+d.localCName+`\r
`,g.rtpSender&&g.sendEncodingParameters[0].rtx&&(p+="a=ssrc:"+g.sendEncodingParameters[0].rtx.ssrc+" cname:"+d.localCName+`\r
`),p},d.getDirection=function(g,v){for(var u=d.splitLines(g),c=0;c<u.length;c++)switch(u[c]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return u[c].substr(2)}return v?d.getDirection(v):"sendrecv"},d.getKind=function(g){return d.splitLines(g)[0].split(" ")[0].substr(2)},d.isRejected=function(g){return g.split(" ",2)[1]==="0"},d.parseMLine=function(g){var v=d.splitLines(g)[0].substr(2).split(" ");return{kind:v[0],port:parseInt(v[1],10),protocol:v[2],fmt:v.slice(3).join(" ")}},d.parseOLine=function(g){var v=d.matchPrefix(g,"o=")[0].substr(2).split(" ");return{username:v[0],sessionId:v[1],sessionVersion:parseInt(v[2],10),netType:v[3],addressType:v[4],address:v[5]}},d.isValidSDP=function(g){if(typeof g!="string"||g.length===0)return!1;for(var v=d.splitLines(g),u=0;u<v.length;u++)if(v[u].length<2||v[u].charAt(1)!=="=")return!1;return!0},typeof V=="object"&&(V.exports=d)},{}]},{},[1])(1)}),function(x){typeof exports=="object"&&typeof module!="undefined"?module.exports=x():typeof define=="function"&&define.amd?define([],x):(typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:this).videojsFlvjs=x()}(function(){return function x(V,o,d){function g(c,p){if(!o[c]){if(!V[c]){var l=typeof require=="function"&&require;if(!p&&l)return l(c,!0);if(v)return v(c,!0);var _=new Error("Cannot find module '"+c+"'");throw _.code="MODULE_NOT_FOUND",_}var T=o[c]={exports:{}};V[c][0].call(T.exports,function(k){return g(V[c][1][k]||k)},T,T.exports,x,V,o,d)}return o[c].exports}for(var v=typeof require=="function"&&require,u=0;u<d.length;u++)g(d[u]);return g}({1:[function(x,V,o){(function(d){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var g=function(){function _(T,k){for(var S=0;S<k.length;S++){var w=k[S];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(T,w.key,w)}}return function(T,k,S){return k&&_(T.prototype,k),S&&_(T,S),T}}(),v=function(_){return _&&_.__esModule?_:{default:_}}(typeof window!="undefined"?window.videojs:d!==void 0?d.videojs:null),u=v.default.getTech("Html5"),c=v.default.mergeOptions||v.default.util.mergeOptions,p={dataInterval:3e3},l=function(_){function T(k,S){return function(w,C){if(!(w instanceof C))throw new TypeError("Cannot call a class as a function")}(this,T),k=c(p,k),function(w,C){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!C||typeof C!="object"&&typeof C!="function"?w:C}(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,k,S))}return function(k,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);k.prototype=Object.create(S&&S.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(k,S):k.__proto__=S)}(T,_),g(T,[{key:"setSrc",value:function(k){var S=this,w=!!this.options_.debug;this.options_.autoplay,this.debug=w;var C=this.options_.dataInterval;w&&console.log("rtc debug on"),this.src=k,this.stream=new MediaStream;var b=new RTCPeerConnection;this.pc=b,b.ontrack=function(A){S.stream.addTrack(A.track),S.el_.srcObject!=S.stream&&(S.el_.srcObject=S.stream),w&&console.log(A.streams.length,"track",A.track.kind,"is delivered")},b.oniceconnectionstatechange=function(A){b.iceConnectionState=="disconnected"&&S.sendChannelTicker&&(S.eventBusEl_&&S.trigger({type:"error",name:"ice disconnected"}),clearInterval(S.sendChannelTicker),S.sendChannelTicker=0),w&&console.log("ice connection state change: "+b.iceConnectionState)};var E=b.createDataChannel("keepalive");this.sendChannel=E,E.onclose=function(){S.sendChannelTicker&&(S.eventBusEl_&&S.trigger({type:"error",name:"send channel closed"}),clearInterval(S.sendChannelTicker),S.sendChannelTicker=0),w&&console.log("sendChannel has closed")},E.onopen=function(){w&&console.log("sendChannel has opened"),E.send("ping");var A=setInterval(function(){w&&console.log("sendChannel ping..."),E.send("ping")},C);S.sendChannelTicker=A},E.onmessage=function(A){w&&console.log("sendChannel message",A.data)},b.createOffer({offerToReceiveVideo:!0,offerToReceiveAudio:!0}).then(function(A){b.setLocalDescription(A).then(function(){var P=new XMLHttpRequest;P.open("POST",k.replace("webrtc","http"),!0),P.onreadystatechange=function(){if(P.readyState==4)if(P.status>=200&&P.status<300||P.status===304)try{b.setRemoteDescription(new RTCSessionDescription({type:"answer",sdp:atob(P.responseText)})).catch(function(z){S.eventBusEl_&&S.trigger({type:"error",name:"set rtc remote sdp failed"}),w&&console.log("set rtc remote sdp error",z)})}catch(z){S.eventBusEl_&&S.trigger({type:"error",name:"set rtc remote sdp failed"}),w&&console.log("set rtc remote sdp error",z)}else S.eventBusEl_&&S.trigger({type:"error",name:"post rtc status "+P.status}),w&&console.log("post rtc status",P.status,P.statusText)},P.send(btoa(b.localDescription.sdp))}).catch(function(P){w&&console.log("pc setLocalDescription error",P)})}).catch(function(A){w&&console.log("pc createOffer error",A)})}},{key:"dispose",value:function(){this.debug&&console.log("rtc dispose"),this.sendChannelTicker&&(clearInterval(this.sendChannelTicker),this.sendChannelTicker=0),this.sendChannel&&(this.sendChannel.close(),this.sendChannel=null),this.pc&&(this.pc.close(),this.pc=null),this.el_.srcObject&&(this.el_.srcObject=null),function k(S,w,C){S===null&&(S=Function.prototype);var b=Object.getOwnPropertyDescriptor(S,w);if(b===void 0){var E=Object.getPrototypeOf(S);return E===null?void 0:k(E,w,C)}if("value"in b)return b.value;var A=b.get;return A!==void 0?A.call(C):void 0}(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"dispose",this).call(this)}},{key:"reload",value:function(){this.sendChannelTicker&&(clearInterval(this.sendChannelTicker),this.sendChannelTicker=0),this.sendChannel&&(this.sendChannel.close(),this.sendChannel=null),this.pc&&(this.pc.close(),this.pc=null),this.el_.srcObject&&(this.el_.srcObject=null),this.src?this.setSrc(this.src):this.debug&&console.log("reload error, src not found")}}]),T}(u);l.isSupported=function(){return!!window.RTCPeerConnection},l.formats={"video/webrtc":"RTC"},l.canPlayType=function(_){return l.isSupported()?"maybe":""},l.canPlaySource=function(_,T){return l.canPlayType(_.type)},l.VERSION="0.2.0",v.default.registerTech("Webrtc",l),o.default=l}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}]},{},[1])(1)}),function(){"use strict";var x;x=window.videojs===void 0&&typeof require=="function"?require("video.js"):window.videojs,function(V,o){function d(k,S,w,C){return u={label:w,sources:S},typeof C=="function"?C(k,S,w):k.src(S.map(function(b){return{src:b.src,type:b.type,res:b.res}}))}var g,v={},u={},c={},p=o.getComponent("MenuItem"),l=o.extend(p,{constructor:function(k,S,w,C){this.onClickListener=w,this.label=C,p.call(this,k,S),this.src=S.src,this.on("click",this.onClick),this.on("touchstart",this.onClick),S.initialySelected&&(this.showAsLabel(),this.selected(!0),this.addClass("vjs-selected"))},showAsLabel:function(){this.label&&(this.label.innerHTML=this.options_.label)},onClick:function(k){this.onClickListener(this);var S=this.player_.currentTime(),w=this.player_.paused();this.showAsLabel(),this.addClass("vjs-selected"),w||this.player_.bigPlayButton.hide(),typeof k!="function"&&typeof this.options_.customSourcePicker=="function"&&(k=this.options_.customSourcePicker);var C="loadeddata";this.player_.techName_!=="Youtube"&&this.player_.preload()==="none"&&this.player_.techName_!=="Flash"&&(C="timeupdate"),d(this.player_,this.src,this.options_.label,k),this.player_.one(C,function(){this.player_.currentTime(S),this.player_.handleTechSeeked_(),this.player_.trigger("resolutionchange")})}}),_=o.getComponent("MenuButton"),T=o.extend(_,{constructor:function(k,S,w,C){if(this.sources=S.sources,this.label=C,this.label.innerHTML=S.initialySelectedLabel,_.call(this,k,S,w),this.controlText("Quality"),w.dynamicLabel)this.el().appendChild(C);else{var b=document.createElement("span");o.dom.addClass(b,"vjs-resolution-button-staticlabel"),this.el().appendChild(b)}},createItems:function(){var k=[],S=this.sources&&this.sources.label||{},w=function(b){k.map(function(E){E.selected(E===b),E.removeClass("vjs-selected")})};for(var C in S)S.hasOwnProperty(C)&&(k.push(new l(this.player_,{label:C,src:S[C],initialySelected:C===this.options_.initialySelectedLabel,customSourcePicker:this.options_.customSourcePicker},w,this.label)),c[C]=k[k.length-1]);return k}});g=function(k){function S(B,H){return B.res&&H.res?+H.res-+B.res:0}function w(B){var H={label:{},res:{},type:{}};return B.map(function(K){C(H,"label",K),C(H,"res",K),C(H,"type",K),b(H,"label",K),b(H,"res",K),b(H,"type",K)}),H}function C(B,H,K){B[H][K[H]]==null&&(B[H][K[H]]=[])}function b(B,H,K){B[H][K[H]].push(K)}var E=o.mergeOptions(v,k),A=this,P=document.createElement("span"),z={};o.dom.addClass(P,"vjs-menu"),o.browser.IE_VERSION?o.dom.addClass(P,"vjs-resolution-button-label-ie"):o.dom.addClass(P,"vjs-resolution-button-label"),A.updateSrc=function(B){if(!B)return A.src();A.controlBar.resolutionSwitcher&&(A.controlBar.resolutionSwitcher.dispose(),delete A.controlBar.resolutionSwitcher),B=B.sort(S);var H=function(Q,ct){var mt=E.default,It="";return mt==="high"?(mt=ct[0].res,It=ct[0].label):mt!=="low"&&mt!=null&&Q.res[mt]?Q.res[mt]&&(It=Q.res[mt][0].label):(mt=ct[ct.length-1].res,It=ct[ct.length-1].label),{res:mt,label:It,sources:Q.res[mt]}}(z=w(B),B),K=new T(A,{sources:z,initialySelectedLabel:H.label,initialySelectedRes:H.res,customSourcePicker:E.customSourcePicker},E,P);return o.dom.addClass(K.el(),"vjs-resolution-button"),A.controlBar.resolutionSwitcher=A.controlBar.el_.insertBefore(K.el_,A.controlBar.getChild("fullscreenToggle").el_),A.controlBar.resolutionSwitcher.dispose=function(){this.parentNode.removeChild(this)},d(A,H.sources,H.label)},A.currentResolution=function(B,H){return B==null?u:(c[B]!=null&&c[B].onClick(H),A)},A.getGroupedSrc=function(){return z},A.ready(function(){A.options_.sources.length>1&&A.updateSrc(A.options_.sources),A.techName_==="Youtube"&&function(B){B.tech_.ytPlayer.setPlaybackQuality("default"),B.tech_.ytPlayer.addEventListener("onPlaybackQualityChange",function(){B.trigger("resolutionchange")}),B.one("play",function(){var H=B.tech_.ytPlayer.getAvailableQualityLevels(),K={highres:{res:1080,label:"1080",yt:"highres"},hd1080:{res:1080,label:"1080",yt:"hd1080"},hd720:{res:720,label:"720",yt:"hd720"},large:{res:480,label:"480",yt:"large"},medium:{res:360,label:"360",yt:"medium"},small:{res:240,label:"240",yt:"small"},tiny:{res:144,label:"144",yt:"tiny"},auto:{res:0,label:"auto",yt:"default"}},Q=[];H.map(function(Dt){Q.push({src:B.src().src,type:B.src().type,label:K[Dt].label,res:K[Dt].res,_yt:K[Dt].yt})});var ct="auto",mt=0,It=((z=w(Q)).label.auto,new T(B,{sources:z,initialySelectedLabel:ct,initialySelectedRes:mt,customSourcePicker:function(Dt,Wt,Zt){return B.tech_.ytPlayer.setPlaybackQuality(Wt[0]._yt),B}},E,P));It.el().classList.add("vjs-resolution-button"),B.controlBar.resolutionSwitcher=B.controlBar.addChild(It)})}(A)})},o.registerPlugin("videoJsResolutionSwitcher",g)}(window,x)}(),function(x,V){typeof window!="undefined"&&window.videojs?V(window.videojs):typeof define=="function"&&define.amd?define("videojs-hotkeys",["video.js"],function(o){return V(o.default||o)}):typeof module!="undefined"&&module.exports&&(module.exports=V(require("video.js")))}(0,function(x){"use strict";typeof window!="undefined"&&(window.videojs_hotkeys={version:"0.2.22"}),(x.registerPlugin||x.plugin)("hotkeys",function(V){function o(B){return typeof l=="function"?l(B):l}var d=this,g=d.el(),v=document,u={volumeStep:.1,seekStep:5,enableMute:!0,enableVolumeScroll:!0,enableFullscreen:!0,enableNumbers:!0,enableJogStyle:!1,alwaysCaptureHotkeys:!1,enableModifiersForNumbers:!0,enableInactiveFocus:!0,skipInitialFocus:!1,playPauseKey:function(B){return B.which===32||B.which===179},rewindKey:function(B){return B.which===37||B.which===177},forwardKey:function(B){return B.which===39||B.which===176},volumeUpKey:function(B){return B.which===38},volumeDownKey:function(B){return B.which===40},muteKey:function(B){return B.which===77},fullscreenKey:function(B){return B.which===70},customKeys:{}},c=x.mergeOptions||x.util.mergeOptions,p=(V=c(u,V||{})).volumeStep,l=V.seekStep,_=V.enableMute,T=V.enableVolumeScroll,k=V.enableFullscreen,S=V.enableNumbers,w=V.enableJogStyle,C=V.alwaysCaptureHotkeys,b=V.enableModifiersForNumbers,E=V.enableInactiveFocus,A=V.skipInitialFocus;g.hasAttribute("tabIndex")||g.setAttribute("tabIndex","-1"),g.style.outline="none",!C&&d.autoplay()||A||d.one("play",function(){g.focus({preventScroll:!0})}),E&&d.on("userinactive",function(){var B=function(){clearTimeout(H)},H=setTimeout(function(){d.off("useractive",B);var K=v.activeElement,Q=g.querySelector(".vjs-control-bar");K&&K.parentElement==Q&&g.focus()},10);d.one("useractive",B)}),d.on("play",function(){var B=g.querySelector(".iframeblocker");B&&B.style.display===""&&(B.style.display="block",B.style.bottom="39px")});var P=function(B){if(d.controls()){var H=v.activeElement;if((C||H==g||H==g.querySelector(".vjs-tech")||H==g.querySelector(".iframeblocker")||H==g.querySelector(".vjs-control-bar"))&&T){B=window.event||B;var K=Math.max(-1,Math.min(1,B.wheelDelta||-B.detail));B.preventDefault(),K==1?d.volume(d.volume()+p):K==-1&&d.volume(d.volume()-p)}}},z=function(B,H){return V.playPauseKey(B,H)?1:V.rewindKey(B,H)?2:V.forwardKey(B,H)?3:V.volumeUpKey(B,H)?4:V.volumeDownKey(B,H)?5:V.muteKey(B,H)?6:V.fullscreenKey(B,H)?7:void 0};return d.on("keydown",function(B){var H,K,Q=B.which,ct=B.preventDefault,mt=d.duration();if(d.controls()){var It=v.activeElement;if(C||It==g||It==g.querySelector(".vjs-tech")||It==g.querySelector(".vjs-control-bar")||It==g.querySelector(".iframeblocker"))switch(z(B,d)){case 1:ct(),C&&B.stopPropagation(),d.paused()?d.play():d.pause();break;case 2:H=!d.paused(),ct(),H&&d.pause(),(K=d.currentTime()-o(B))<=0&&(K=0),d.currentTime(K),H&&d.play();break;case 3:H=!d.paused(),ct(),H&&d.pause(),(K=d.currentTime()+o(B))>=mt&&(K=H?mt-.001:mt),d.currentTime(K),H&&d.play();break;case 5:ct(),w?(K=d.currentTime()-1,d.currentTime()<=1&&(K=0),d.currentTime(K)):d.volume(d.volume()-p);break;case 4:ct(),w?((K=d.currentTime()+1)>=mt&&(K=mt),d.currentTime(K)):d.volume(d.volume()+p);break;case 6:_&&d.muted(!d.muted());break;case 7:k&&(d.isFullscreen()?d.exitFullscreen():d.requestFullscreen());break;default:if((Q>47&&Q<59||Q>95&&Q<106)&&(b||!(B.metaKey||B.ctrlKey||B.altKey))&&S){var Dt=48;Q>95&&(Dt=96);var Wt=Q-Dt;ct(),d.currentTime(d.duration()*Wt*.1)}for(var Zt in V.customKeys){var Rt=V.customKeys[Zt];Rt&&Rt.key&&Rt.handler&&Rt.key(B)&&(ct(),Rt.handler(d,V,B))}}}}),d.on("mousewheel",P),d.on("DOMMouseScroll",P),this})}),function(x){x.URL=x.URL||x.webkitURL,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;var V=function(o,d){(d=d||{}).sampleBits=d.sampleBits||8,d.sampleRate=d.sampleRate||8e3;var g=new(x.webkitAudioContext||x.AudioContext),v=g.createMediaStreamSource(o),u=(g.createScriptProcessor||g.createJavaScriptNode).apply(g,[4096,1,1]),c=!1,p={size:0,buffer:[],level:0,inputSampleRate:g.sampleRate,inputSampleBits:16,outputSampleRate:d.sampleRate,oututSampleBits:d.sampleBits,input:function(l){this.buffer.push(new Float32Array(l)),this.size+=l.length,d.pcmCallback&&(d.pcmCallback(this.encodePCM(),this.level),this.buffer.splice(0,this.size),this.size=0)},compress:function(){for(var l=new Float32Array(this.size),_=0,T=0;T<this.buffer.length;T++)l.set(this.buffer[T],_),_+=this.buffer[T].length;for(var k=parseInt(this.inputSampleRate/this.outputSampleRate),S=l.length/k,w=new Float32Array(S),C=0,b=0;C<S;)w[C]=l[b],b+=k,C++;return w},powerLevel:function(l,_){var T=l/_||0;return T<1251?Math.round(T/1250*10):Math.round(Math.min(100,Math.max(0,100*(1+Math.log(T/1e4)/Math.log(10)))))},encodePCM:function(){var l=Math.min(this.inputSampleBits,this.oututSampleBits),_=this.compress(),T=_.length*(l/8),k=new ArrayBuffer(T),S=new DataView(k),w=0,C=0;if(l===8)for(var b=0;b<_.length;b++,w++){var E=(A=Math.max(-1,Math.min(1,_[b])))<0?32768*A:32767*A;E=parseInt(255/(65535/(E+32768))),C+=Math.abs(E),S.setInt8(w,E,!0)}else for(b=0;b<_.length;b++,w+=2){var A;E=(A=Math.max(-1,Math.min(1,_[b])))<0?32768*A:32767*A,C+=Math.abs(E),S.setInt16(w,E,!0)}return this.level=this.powerLevel(C,_.length),new Blob([S],{type:"audio/pcm"})},encodeWAV:function(){var l=Math.min(this.inputSampleRate,this.outputSampleRate),_=Math.min(this.inputSampleBits,this.oututSampleBits),T=this.compress(),k=T.length*(_/8),S=new ArrayBuffer(44+k),w=new DataView(S),C=0,b=0,E=function(B){for(var H=0;H<B.length;H++)w.setUint8(C+H,B.charCodeAt(H))};if(E("RIFF"),C+=4,w.setUint32(C,36+k,!0),C+=4,E("WAVE"),C+=4,E("fmt "),C+=4,w.setUint32(C,16,!0),C+=4,w.setUint16(C,1,!0),C+=2,w.setUint16(C,1,!0),C+=2,w.setUint32(C,l,!0),C+=4,w.setUint32(C,1*l*(_/8),!0),C+=4,w.setUint16(C,_/8*1,!0),C+=2,w.setUint16(C,_,!0),C+=2,E("data"),C+=4,w.setUint32(C,k,!0),C+=4,_===8)for(var A=0;A<T.length;A++,C++){var P=(z=Math.max(-1,Math.min(1,T[A])))<0?32768*z:32767*z;P=parseInt(255/(65535/(P+32768))),b+=Math.abs(P),w.setInt8(C,P,!0)}else for(A=0;A<T.length;A++,C+=2){var z;P=(z=Math.max(-1,Math.min(1,T[A])))<0?32768*z:32767*z,b+=Math.abs(P),w.setInt16(C,P,!0)}return this.level=this.powerLevel(b,T.length),new Blob([w],{type:"audio/wav"})}};this.start=function(){c||(v.connect(u),u.connect(g.destination),c=!0)},this.stop=function(){c&&(u.disconnect(),c=!1)},this.destroy=function(){this.stop(),g&&(g.close(),g=null,o.getAudioTracks().forEach(function(l){l.stop()}))},this.getBlob=function(){return this.stop(),p.encodeWAV()},this.getPCMBlob=function(){return this.stop(),p.encodePCM()},this.getLevel=function(){return p.level},this.play=function(l){l.src=x.URL.createObjectURL(this.getBlob())},this.recording=function(){return c},this.upload=function(l,_){var T=new FormData;T.append("audioData",this.getBlob()),T.append("pcmData",this.getPCMBlob());var k=new XMLHttpRequest;_&&(k.upload.addEventListener("progress",function(S){_("uploading",S)},!1),k.addEventListener("load",function(S){_("ok",S)},!1),k.addEventListener("error",function(S){_("error",S)},!1),k.addEventListener("abort",function(S){_("cancel",S)},!1)),k.open("POST",l),k.send(T)},u.onaudioprocess=function(l){p.input(l.inputBuffer.getChannelData(0))}};V.canRecording=navigator.getUserMedia!=null,V.get=function(o,d){if(o){if(!navigator.getUserMedia)return String(location.protocol).toLowerCase()!="https:"?void o(null,"\u5F53\u524D\u6D4F\u89C8\u5668\u4E0D\u652F\u6301\u5F55\u97F3\u529F\u80FD, \u8BF7\u786E\u8BA4\u5F53\u524D\u662F\u5426\u8BBF\u95EE HTTPS \u670D\u52A1!"):void o(null,"\u5F53\u524D\u6D4F\u89C8\u5668\u4E0D\u652F\u6301\u5F55\u97F3\u529F\u80FD\u3002");navigator.getUserMedia({audio:!0},function(g){var v=new V(g,d);o(v,null)},function(g){switch(g.name||g.code){case"PERMISSION_DENIED":case"PermissionDeniedError":o(null,"\u7528\u6237\u62D2\u7EDD\u63D0\u4F9B\u4FE1\u606F\u3002");break;case"NOT_SUPPORTED_ERROR":case"NotSupportedError":o(null,"\u6D4F\u89C8\u5668\u4E0D\u652F\u6301\u786C\u4EF6\u8BBE\u5907\u3002");break;case"MANDATORY_UNSATISFIED_ERROR":case"MandatoryUnsatisfiedError":o(null,"\u65E0\u6CD5\u53D1\u73B0\u6307\u5B9A\u7684\u786C\u4EF6\u8BBE\u5907\u3002");break;default:o(null,"\u65E0\u6CD5\u6253\u5F00\u9EA6\u514B\u98CE\u3002\u5F02\u5E38\u4FE1\u606F:"+(g.name||g.code))}})}},x.LiveRecorder=V}(window),videojs.addLanguage("zh-CN",{Play:"\u64AD\u653E",Pause:"\u6682\u505C","Current Time":"\u5F53\u524D\u65F6\u95F4",Duration:"\u65F6\u957F","Remaining Time":"\u5269\u4F59\u65F6\u95F4","Stream Type":"\u5A92\u4F53\u6D41\u7C7B\u578B",LIVE:"\u76F4\u64AD",Loaded:"\u52A0\u8F7D\u5B8C\u6BD5",Progress:"\u8FDB\u5EA6",Fullscreen:"\u5168\u5C4F","Non-Fullscreen":"\u9000\u51FA\u5168\u5C4F",Mute:"\u9759\u97F3",Unmute:"\u53D6\u6D88\u9759\u97F3","Playback Rate":"\u64AD\u653E\u901F\u5EA6",Subtitles:"\u5B57\u5E55","subtitles off":"\u5173\u95ED\u5B57\u5E55",Captions:"\u5185\u5D4C\u5B57\u5E55","captions off":"\u5173\u95ED\u5185\u5D4C\u5B57\u5E55",Chapters:"\u8282\u76EE\u6BB5\u843D","Close Modal Dialog":"\u5173\u95ED\u5F39\u7A97",Descriptions:"\u63CF\u8FF0","descriptions off":"\u5173\u95ED\u63CF\u8FF0","Audio Track":"\u97F3\u8F68","You aborted the media playback":"\u89C6\u9891\u64AD\u653E\u88AB\u7EC8\u6B62","A network error caused the media download to fail part-way.":"\u7F51\u7EDC\u9519\u8BEF\u5BFC\u81F4\u89C6\u9891\u4E0B\u8F7D\u4E2D\u9014\u5931\u8D25\u3002","The media could not be loaded, either because the server or network failed or because the format is not supported.":"\u89C6\u9891\u56E0\u683C\u5F0F\u4E0D\u652F\u6301\u6216\u8005\u670D\u52A1\u5668\u6216\u7F51\u7EDC\u7684\u95EE\u9898\u65E0\u6CD5\u52A0\u8F7D\u3002","The media playback was aborted due to a corruption problem or because the media used features your browser did not support.":"\u7531\u4E8E\u89C6\u9891\u6587\u4EF6\u635F\u574F\u6216\u662F\u8BE5\u89C6\u9891\u4F7F\u7528\u4E86\u4F60\u7684\u6D4F\u89C8\u5668\u4E0D\u652F\u6301\u7684\u529F\u80FD\uFF0C\u64AD\u653E\u7EC8\u6B62\u3002","No compatible source was found for this media.":"\u65E0\u6CD5\u627E\u5230\u6B64\u89C6\u9891\u517C\u5BB9\u7684\u6E90\u3002","The media is encrypted and we do not have the keys to decrypt it.":"\u89C6\u9891\u5DF2\u52A0\u5BC6\uFF0C\u65E0\u6CD5\u89E3\u5BC6\u3002","Play Video":"\u64AD\u653E\u89C6\u9891",Close:"\u5173\u95ED","Modal Window":"\u5F39\u7A97","This is a modal window":"\u8FD9\u662F\u4E00\u4E2A\u5F39\u7A97","This modal can be closed by pressing the Escape key or activating the close button.":"\u53EF\u4EE5\u6309ESC\u6309\u952E\u6216\u542F\u7528\u5173\u95ED\u6309\u94AE\u6765\u5173\u95ED\u6B64\u5F39\u7A97\u3002",", opens captions settings dialog":", \u5F00\u542F\u6807\u9898\u8BBE\u7F6E\u5F39\u7A97",", opens subtitles settings dialog":", \u5F00\u542F\u5B57\u5E55\u8BBE\u7F6E\u5F39\u7A97",", opens descriptions settings dialog":", \u5F00\u542F\u63CF\u8FF0\u8BBE\u7F6E\u5F39\u7A97",", selected":", \u9009\u62E9","captions settings":"\u5B57\u5E55\u8BBE\u5B9A","Audio Player":"\u97F3\u9891\u64AD\u653E\u5668","Video Player":"\u89C6\u9891\u64AD\u653E\u5668",Replay:"\u91CD\u64AD","Progress Bar":"\u8FDB\u5EA6\u6761","Volume Level":"\u97F3\u91CF","subtitles settings":"\u5B57\u5E55\u8BBE\u5B9A","descriptions settings":"\u63CF\u8FF0\u8BBE\u5B9A",Text:"\u6587\u5B57",White:"\u767D",Black:"\u9ED1",Red:"\u7EA2",Green:"\u7EFF",Blue:"\u84DD",Yellow:"\u9EC4",Magenta:"\u7D2B\u7EA2",Cyan:"\u9752",Background:"\u80CC\u666F",Window:"\u89C6\u7A97",Transparent:"\u900F\u660E","Semi-Transparent":"\u534A\u900F\u660E",Opaque:"\u4E0D\u900F\u660E","Font Size":"\u5B57\u4F53\u5C3A\u5BF8","Text Edge Style":"\u5B57\u4F53\u8FB9\u7F18\u6837\u5F0F",None:"\u65E0",Raised:"\u6D6E\u96D5",Depressed:"\u538B\u4F4E",Uniform:"\u5747\u5300",Dropshadow:"\u4E0B\u9634\u5F71","Font Family":"\u5B57\u4F53\u5E93","Proportional Sans-Serif":"\u6BD4\u4F8B\u65E0\u7EC6\u4F53","Monospace Sans-Serif":"\u5355\u95F4\u9694\u65E0\u7EC6\u4F53","Proportional Serif":"\u6BD4\u4F8B\u7EC6\u4F53","Monospace Serif":"\u5355\u95F4\u9694\u7EC6\u4F53",Casual:"\u8212\u9002",Script:"\u624B\u5199\u4F53","Small Caps":"\u5C0F\u578B\u5927\u5199\u5B57\u4F53",Reset:"\u91CD\u7F6E","restore all settings to the default values":"\u6062\u590D\u5168\u90E8\u8BBE\u5B9A\u81F3\u9884\u8BBE\u503C",Done:"\u5B8C\u6210","Caption Settings Dialog":"\u5B57\u5E55\u8BBE\u5B9A\u89C6\u7A97","Beginning of dialog window. Escape will cancel and close the window.":"\u5F00\u59CB\u5BF9\u8BDD\u89C6\u7A97\u3002\u79BB\u5F00\u4F1A\u53D6\u6D88\u53CA\u5173\u95ED\u89C6\u7A97","End of dialog window.":"\u7ED3\u675F\u5BF9\u8BDD\u89C6\u7A97","Seek to live, currently behind live":"\u8BD5\u56FE\u76F4\u64AD\uFF0C\u5F53\u524D\u5EF6\u65F6\u64AD\u653E","Seek to live, currently playing live":"\u8BD5\u56FE\u76F4\u64AD\uFF0C\u5F53\u524D\u5B9E\u65F6\u64AD\u653E","progress bar timing: currentTime={1} duration={2}":"{1}/{2}","{1} is loading.":"\u6B63\u5728\u52A0\u8F7D {1}\u3002","Picture-in-Picture":"\u753B\u4E2D\u753B","Exit Picture-in-Picture":"\u9000\u51FA\u753B\u4E2D\u753B",Snapshot:"\u622A\u56FE",STD:"\u6807\u51C6",STR:"\u62C9\u4F38","Click switch to standard display":"\u70B9\u51FB\u5207\u6362\u5230\u6807\u51C6\u663E\u793A","Click switch to stretch display":"\u70B9\u51FB\u5207\u6362\u5230\u62C9\u4F38\u663E\u793A",Fluent:"\u6D41\u7545",Fast:"\u6781\u901F","Click switch to fast play":"\u70B9\u51FB\u5207\u6362\u5230\u6781\u901F\u64AD\u653E","Click switch to fluent play":"\u70B9\u51FB\u5207\u6362\u5230\u6D41\u7545\u64AD\u653E"}),function(x){var V={};function o(d){if(V[d])return V[d].exports;var g=V[d]={i:d,l:!1,exports:{}};return x[d].call(g.exports,g,g.exports,o),g.l=!0,g.exports}o.m=x,o.c=V,o.d=function(d,g,v){o.o(d,g)||Object.defineProperty(d,g,{enumerable:!0,get:v})},o.r=function(d){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})},o.t=function(d,g){if(1&g&&(d=o(d)),8&g||4&g&&typeof d=="object"&&d&&d.__esModule)return d;var v=Object.create(null);if(o.r(v),Object.defineProperty(v,"default",{enumerable:!0,value:d}),2&g&&typeof d!="string")for(var u in d)o.d(v,u,function(c){return d[c]}.bind(null,u));return v},o.n=function(d){var g=d&&d.__esModule?function(){return d.default}:function(){return d};return o.d(g,"a",g),g},o.o=function(d,g){return Object.prototype.hasOwnProperty.call(d,g)},o.p="",o(o.s=0)}({"+40N":function(x,V,o){var d=o("8IOi"),g=o("Z/7P");d(d.G+d.F*(parseInt!=g),{parseInt:g})},"+4di":function(x,V){x.exports=function(o,d){return{value:d,done:!!o}}},"+9nT":function(x,V,o){o("+Uj0")("WeakSet")},"+TcE":function(x,V){x.exports=function(o){try{return!!o()}catch(d){return!0}}},"+UUX":function(x,V,o){"use strict";var d=o("Qu5u"),g=o("b8c2"),v=o("Y3Md");x.exports=[].copyWithin||function(u,c){var p=d(this),l=v(p.length),_=g(u,l),T=g(c,l),k=arguments.length>2?arguments[2]:void 0,S=Math.min((k===void 0?l:g(k,l))-T,l-_),w=1;for(T<_&&_<T+S&&(w=-1,T+=S-1,_+=S-1);S-- >0;)T in p?p[_]=p[T]:delete p[_],_+=w,T+=w;return p}},"+Uj0":function(x,V,o){"use strict";var d=o("8IOi");x.exports=function(g){d(d.S,g,{of:function(){for(var v=arguments.length,u=new Array(v);v--;)u[v]=arguments[v];return new this(u)}})}},"+Wx6":function(x,V,o){var d=o("8IOi"),g=o("HC2Y");d(d.S,"Error",{isError:function(v){return g(v)==="Error"}})},"+X+Z":function(x,V,o){x.exports=!o("yU77")&&!o("+TcE")(function(){return Object.defineProperty(o("itdZ")("div"),"a",{get:function(){return 7}}).a!=7})},"+fNn":function(x,V,o){var d=o("8IOi"),g=o("hTk/");d(d.G+d.F*(parseFloat!=g),{parseFloat:g})},"+z8a":function(x,V,o){"use strict";var d=o("UVVG"),g={};g[o("3iRr")("toStringTag")]="z",g+""!="[object z]"&&o("d+oe")(Object.prototype,"toString",function(){return"[object "+d(this)+"]"},!0)},"+zL4":function(x,V){x.exports=function(o,d){return{enumerable:!(1&o),configurable:!(2&o),writable:!(4&o),value:d}}},"/Kal":function(x,V,o){var d=o("8IOi");d(d.S+d.F*!o("yU77"),"Object",{defineProperty:o("J2HX").f})},"/p3b":function(x,V,o){var d=o("8IOi");d(d.S,"Date",{now:function(){return new Date().getTime()}})},"/vim":function(x,V,o){"use strict";var d=o("UVVG"),g=RegExp.prototype.exec;x.exports=function(v,u){var c=v.exec;if(typeof c=="function"){var p=c.call(v,u);if(typeof p!="object")throw new TypeError("RegExp exec method returned something other than an Object or null");return p}if(d(v)!=="RegExp")throw new TypeError("RegExp#exec called on incompatible receiver");return g.call(v,u)}},0:function(x,V,o){o("201c"),x.exports=o("q/s7")},"0PTC":function(x,V,o){var d=o("n+hx"),g=o("TI2F").onFreeze;o("CmYC")("seal",function(v){return function(u){return v&&d(u)?v(g(u)):u}})},"0WhE":function(x,V,o){"use strict";var d=o("k+AJ"),g=o("8IOi"),v=o("d+oe"),u=o("xmgo"),c=o("TI2F"),p=o("j8TA"),l=o("kopD"),_=o("n+hx"),T=o("+TcE"),k=o("6+im"),S=o("J70Z"),w=o("EeL+");x.exports=function(C,b,E,A,P,z){var B=d[C],H=B,K=P?"set":"add",Q=H&&H.prototype,ct={},mt=function(qt){var ae=Q[qt];v(Q,qt,qt=="delete"||qt=="has"?function(Ut){return!(z&&!_(Ut))&&ae.call(this,Ut===0?0:Ut)}:qt=="get"?function(Ut){return z&&!_(Ut)?void 0:ae.call(this,Ut===0?0:Ut)}:qt=="add"?function(Ut){return ae.call(this,Ut===0?0:Ut),this}:function(Ut,U){return ae.call(this,Ut===0?0:Ut,U),this})};if(typeof H=="function"&&(z||Q.forEach&&!T(function(){new H().entries().next()}))){var It=new H,Dt=It[K](z?{}:-0,1)!=It,Wt=T(function(){It.has(1)}),Zt=k(function(qt){new H(qt)}),Rt=!z&&T(function(){for(var qt=new H,ae=5;ae--;)qt[K](ae,ae);return!qt.has(-0)});Zt||((H=b(function(qt,ae){l(qt,H,C);var Ut=w(new B,qt,H);return ae!=null&&p(ae,P,Ut[K],Ut),Ut})).prototype=Q,Q.constructor=H),(Wt||Rt)&&(mt("delete"),mt("has"),P&&mt("get")),(Rt||Dt)&&mt(K),z&&Q.clear&&delete Q.clear}else H=A.getConstructor(b,C,P,K),u(H.prototype,E),c.NEED=!0;return S(H,C),ct[C]=H,g(g.G+g.W+g.F*(H!=B),ct),z||A.setStrong(H,C,P),H}},"0khl":function(x,V,o){var d=o("8IOi");d(d.S,"Number",{isNaN:function(g){return g!=g}})},"0oS0":function(x,V,o){var d=o("n+hx"),g=o("TI2F").onFreeze;o("CmYC")("preventExtensions",function(v){return function(u){return v&&d(u)?v(g(u)):u}})},"138g":function(x,V,o){var d=o("n+hx");x.exports=function(g){if(!d(g))throw TypeError(g+" is not an object!");return g}},"1JuZ":function(x,V,o){var d=o("e8l7"),g=Math.pow,v=g(2,-52),u=g(2,-23),c=g(2,127)*(2-u),p=g(2,-126);x.exports=Math.fround||function(l){var _,T,k=Math.abs(l),S=d(l);return k<p?S*(k/p/u+1/v-1/v)*p*u:(T=(_=(1+u/v)*k)-(_-k))>c||T!=T?S*(1/0):S*T}},"1RbY":function(x,V,o){"use strict";var d=o("zuiL"),g=o("8IOi"),v=o("d+oe"),u=o("BxPU"),c=o("wFMk"),p=o("atpN"),l=o("J70Z"),_=o("7WAm"),T=o("3iRr")("iterator"),k=!([].keys&&"next"in[].keys()),S="keys",w="values",C=function(){return this};x.exports=function(b,E,A,P,z,B,H){p(A,E,P);var K,Q,ct,mt=function(U){if(!k&&U in Zt)return Zt[U];switch(U){case S:case w:return function(){return new A(this,U)}}return function(){return new A(this,U)}},It=E+" Iterator",Dt=z==w,Wt=!1,Zt=b.prototype,Rt=Zt[T]||Zt["@@iterator"]||z&&Zt[z],qt=Rt||mt(z),ae=z?Dt?mt("entries"):qt:void 0,Ut=E=="Array"&&Zt.entries||Rt;if(Ut&&(ct=_(Ut.call(new b)))!==Object.prototype&&ct.next&&(l(ct,It,!0),d||typeof ct[T]=="function"||u(ct,T,C)),Dt&&Rt&&Rt.name!==w&&(Wt=!0,qt=function(){return Rt.call(this)}),d&&!H||!k&&!Wt&&Zt[T]||u(Zt,T,qt),c[E]=qt,c[It]=C,z)if(K={values:Dt?qt:mt(w),keys:B?qt:mt(S),entries:ae},H)for(Q in K)Q in Zt||v(Zt,Q,K[Q]);else g(g.P+g.F*(k||Wt),E,K);return K}},"1TfH":function(x,V,o){var d=o("8IOi"),g=o("R1kZ");g&&d(d.S,"Reflect",{setPrototypeOf:function(v,u){g.check(v,u);try{return g.set(v,u),!0}catch(c){return!1}}})},"1bKO":function(x,V,o){var d=o("HGrt"),g=o("138g"),v=d.key,u=d.map,c=d.store;d.exp({deleteMetadata:function(p,l){var _=arguments.length<3?void 0:v(arguments[2]),T=u(g(l),_,!1);if(T===void 0||!T.delete(p))return!1;if(T.size)return!0;var k=c.get(l);return k.delete(_),!!k.size||c.delete(l)}})},"1bh+":function(x,V,o){o("Oi8Z")("Array")},"1hBx":function(x,V,o){var d=o("8IOi"),g=o("ZiEV"),v=o("LOhj"),u=o("138g"),c=o("n+hx"),p=o("+TcE"),l=o("Au75"),_=(o("k+AJ").Reflect||{}).construct,T=p(function(){function S(){}return!(_(function(){},[],S)instanceof S)}),k=!p(function(){_(function(){})});d(d.S+d.F*(T||k),"Reflect",{construct:function(S,w){v(S),u(w);var C=arguments.length<3?S:v(arguments[2]);if(k&&!T)return _(S,w,C);if(S==C){switch(w.length){case 0:return new S;case 1:return new S(w[0]);case 2:return new S(w[0],w[1]);case 3:return new S(w[0],w[1],w[2]);case 4:return new S(w[0],w[1],w[2],w[3])}var b=[null];return b.push.apply(b,w),new(l.apply(S,b))}var E=C.prototype,A=g(c(E)?E:Object.prototype),P=Function.apply.call(S,A,w);return c(P)?P:A}})},"201c":function(x,V,o){"use strict";(function(d){if(o("a5BC"),o("86LW"),o("dt6n"),d._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");d._babelPolyfill=!0;function g(v,u,c){v[u]||Object.defineProperty(v,u,{writable:!0,configurable:!0,value:c})}g(String.prototype,"padLeft","".padStart),g(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach(function(v){[][v]&&g(Array,v,Function.call.bind([][v]))})}).call(this,o("yLpj"))},"26/4":function(x,V,o){var d=o("HC2Y");x.exports=Object("z").propertyIsEnumerable(0)?Object:function(g){return d(g)=="String"?g.split(""):Object(g)}},"27JW":function(x,V,o){var d=o("MN4f"),g=o("aK63").concat("length","prototype");V.f=Object.getOwnPropertyNames||function(v){return d(v,g)}},"28ya":function(x,V,o){"use strict";var d=o("8IOi"),g=o("UtW+");d(d.S+d.F*o("+TcE")(function(){function v(){}return!(Array.of.call(v)instanceof v)}),"Array",{of:function(){for(var v=0,u=arguments.length,c=new(typeof this=="function"?this:Array)(u);u>v;)g(c,v,arguments[v++]);return c.length=u,c}})},"2ASh":function(x,V,o){var d=o("8IOi"),g=o("138g"),v=Object.isExtensible;d(d.S,"Reflect",{isExtensible:function(u){return g(u),!v||v(u)}})},"31m8":function(x,V,o){"use strict";var d=o("8IOi"),g=o("z/zB")(4);d(d.P+d.F*!o("Vcfr")([].every,!0),"Array",{every:function(v){return g(this,v,arguments[1])}})},"39GA":function(x,V,o){var d=o("J2HX"),g=o("8IOi"),v=o("138g"),u=o("AZ8a");g(g.S+g.F*o("+TcE")(function(){Reflect.defineProperty(d.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(c,p,l){v(c),p=u(p,!0),v(l);try{return d.f(c,p,l),!0}catch(_){return!1}}})},"3D8Z":function(x,V){x.exports=Math.log1p||function(o){return(o=+o)>-1e-8&&o<1e-8?o-o*o/2:Math.log(1+o)}},"3Uai":function(x,V,o){"use strict";o("5oHw")("anchor",function(d){return function(g){return d(this,"a","name",g)}})},"3iRr":function(x,V,o){var d=o("3oW4")("wks"),g=o("Vol4"),v=o("k+AJ").Symbol,u=typeof v=="function";(x.exports=function(c){return d[c]||(d[c]=u&&v[c]||(u?v:g)("Symbol."+c))}).store=d},"3oW4":function(x,V,o){var d=o("CuJi"),g=o("k+AJ"),v="__core-js_shared__",u=g[v]||(g[v]={});(x.exports=function(c,p){return u[c]||(u[c]=p!==void 0?p:{})})("versions",[]).push({version:d.version,mode:o("zuiL")?"pure":"global",copyright:"\xA9 2019 Denis Pushkarev (zloirock.ru)"})},"4D/n":function(x,V,o){var d=o("8IOi"),g=Math.asinh;d(d.S+d.F*!(g&&1/g(0)>0),"Math",{asinh:function v(u){return isFinite(u=+u)&&u!=0?u<0?-v(-u):Math.log(u+Math.sqrt(u*u+1)):u}})},"4Fav":function(x,V,o){"use strict";var d,g,v=o("ZqwW"),u=RegExp.prototype.exec,c=String.prototype.replace,p=u,l=(d=/a/,g=/b*/g,u.call(d,"a"),u.call(g,"a"),d.lastIndex!==0||g.lastIndex!==0),_=/()??/.exec("")[1]!==void 0;(l||_)&&(p=function(T){var k,S,w,C,b=this;return _&&(S=new RegExp("^"+b.source+"$(?!\\s)",v.call(b))),l&&(k=b.lastIndex),w=u.call(b,T),l&&w&&(b.lastIndex=b.global?w.index+w[0].length:k),_&&w&&w.length>1&&c.call(w[0],S,function(){for(C=1;C<arguments.length-2;C++)arguments[C]===void 0&&(w[C]=void 0)}),w}),x.exports=p},"4XFX":function(x,V){V.f={}.propertyIsEnumerable},"5/+w":function(x,V,o){"use strict";var d=o("LOhj");function g(v){var u,c;this.promise=new v(function(p,l){if(u!==void 0||c!==void 0)throw TypeError("Bad Promise constructor");u=p,c=l}),this.resolve=d(u),this.reject=d(c)}x.exports.f=function(v){return new g(v)}},"5Kf4":function(x,V,o){"use strict";o("5oHw")("sub",function(d){return function(){return d(this,"sub","","")}})},"5arV":function(x,V,o){var d=o("138g");x.exports=function(g,v,u,c){try{return c?v(d(u)[0],u[1]):v(u)}catch(l){var p=g.return;throw p!==void 0&&d(p.call(g)),l}}},"5oHw":function(x,V,o){var d=o("8IOi"),g=o("+TcE"),v=o("aI2V"),u=/"/g,c=function(p,l,_,T){var k=String(v(p)),S="<"+l;return _!==""&&(S+=" "+_+'="'+String(T).replace(u,"&quot;")+'"'),S+">"+k+"</"+l+">"};x.exports=function(p,l){var _={};_[p]=l(c),d(d.P+d.F*g(function(){var T=""[p]('"');return T!==T.toLowerCase()||T.split('"').length>3}),"String",_)}},"5zUu":function(x,V,o){"use strict";var d=o("8IOi"),g=o("QotP"),v=o("Qu5u"),u=o("Y3Md"),c=o("m29h"),p=o("CkjT");d(d.P,"Array",{flatten:function(){var l=arguments[0],_=v(this),T=u(_.length),k=p(_,0);return g(k,_,_,T,0,l===void 0?1:c(l)),k}}),o("Zrcd")("flatten")},"6+im":function(x,V,o){var d=o("3iRr")("iterator"),g=!1;try{var v=[7][d]();v.return=function(){g=!0},Array.from(v,function(){throw 2})}catch(u){}x.exports=function(u,c){if(!c&&!g)return!1;var p=!1;try{var l=[7],_=l[d]();_.next=function(){return{done:p=!0}},l[d]=function(){return _},u(l)}catch(T){}return p}},"64wf":function(x,V,o){"use strict";var d=o("n+hx"),g=o("7WAm"),v=o("3iRr")("hasInstance"),u=Function.prototype;v in u||o("J2HX").f(u,v,{value:function(c){if(typeof this!="function"||!d(c))return!1;if(!d(this.prototype))return c instanceof this;for(;c=g(c);)if(this.prototype===c)return!0;return!1}})},"65rS":function(x,V,o){var d,g,v,u=o("kRpC"),c=o("CdvW"),p=o("dDOX"),l=o("itdZ"),_=o("k+AJ"),T=_.process,k=_.setImmediate,S=_.clearImmediate,w=_.MessageChannel,C=_.Dispatch,b=0,E={},A="onreadystatechange",P=function(){var B=+this;if(E.hasOwnProperty(B)){var H=E[B];delete E[B],H()}},z=function(B){P.call(B.data)};k&&S||(k=function(B){for(var H=[],K=1;arguments.length>K;)H.push(arguments[K++]);return E[++b]=function(){c(typeof B=="function"?B:Function(B),H)},d(b),b},S=function(B){delete E[B]},o("HC2Y")(T)=="process"?d=function(B){T.nextTick(u(P,B,1))}:C&&C.now?d=function(B){C.now(u(P,B,1))}:w?(v=(g=new w).port2,g.port1.onmessage=z,d=u(v.postMessage,v,1)):_.addEventListener&&typeof postMessage=="function"&&!_.importScripts?(d=function(B){_.postMessage(B+"","*")},_.addEventListener("message",z,!1)):d=A in l("script")?function(B){p.appendChild(l("script")).onreadystatechange=function(){p.removeChild(this),P.call(B)}}:function(B){setTimeout(u(P,B,1),0)}),x.exports={set:k,clear:S}},"67f/":function(x,V,o){var d=o("8IOi"),g=Math.PI/180;d(d.S,"Math",{radians:function(v){return v*g}})},"6T8a":function(x,V,o){var d=o("k+AJ"),g=o("8IOi"),v=o("ZP9f"),u=[].slice,c=/MSIE .\./.test(v),p=function(l){return function(_,T){var k=arguments.length>2,S=!!k&&u.call(arguments,2);return l(k?function(){(typeof _=="function"?_:Function(_)).apply(this,S)}:_,T)}};g(g.G+g.B+g.F*c,{setTimeout:p(d.setTimeout),setInterval:p(d.setInterval)})},"6WDs":function(x,V,o){var d=o("m29h"),g=o("aI2V");x.exports=function(v){return function(u,c){var p,l,_=String(g(u)),T=d(c),k=_.length;return T<0||T>=k?v?"":void 0:(p=_.charCodeAt(T))<55296||p>56319||T+1===k||(l=_.charCodeAt(T+1))<56320||l>57343?v?_.charAt(T):p:v?_.slice(T,T+2):l-56320+(p-55296<<10)+65536}}},"6dhg":function(x,V,o){var d=o("8IOi"),g=o("aI2V"),v=o("+TcE"),u=o("abT7"),c="["+u+"]",p=RegExp("^"+c+c+"*"),l=RegExp(c+c+"*$"),_=function(k,S,w){var C={},b=v(function(){return!!u[k]()||"\u200B\x85"[k]()!="\u200B\x85"}),E=C[k]=b?S(T):u[k];w&&(C[w]=E),d(d.P+d.F*b,"String",C)},T=_.trim=function(k,S){return k=String(g(k)),1&S&&(k=k.replace(p,"")),2&S&&(k=k.replace(l,"")),k};x.exports=_},"6uvR":function(x,V,o){var d=o("27JW"),g=o("EN0g"),v=o("138g"),u=o("k+AJ").Reflect;x.exports=u&&u.ownKeys||function(c){var p=d.f(v(c)),l=g.f;return l?p.concat(l(c)):p}},"7WAm":function(x,V,o){var d=o("L7KE"),g=o("Qu5u"),v=o("lk+t")("IE_PROTO"),u=Object.prototype;x.exports=Object.getPrototypeOf||function(c){return c=g(c),d(c,v)?c[v]:typeof c.constructor=="function"&&c instanceof c.constructor?c.constructor.prototype:c instanceof Object?u:null}},"7n8s":function(x,V,o){var d=o("jYdD"),g=o("7WAm"),v=o("L7KE"),u=o("8IOi"),c=o("n+hx"),p=o("138g");u(u.S,"Reflect",{get:function l(_,T){var k,S,w=arguments.length<3?_:arguments[2];return p(_)===w?_[T]:(k=d.f(_,T))?v(k,"value")?k.value:k.get!==void 0?k.get.call(w):void 0:c(S=g(_))?l(S,T,w):void 0}})},"86LW":function(x,V,o){(function(d){(function(g){"use strict";var v,u=Object.prototype,c=u.hasOwnProperty,p=typeof Symbol=="function"?Symbol:{},l=p.iterator||"@@iterator",_=p.asyncIterator||"@@asyncIterator",T=p.toStringTag||"@@toStringTag",k=typeof x=="object",S=g.regeneratorRuntime;if(S)k&&(x.exports=S);else{(S=g.regeneratorRuntime=k?x.exports:{}).wrap=K;var w="suspendedStart",C="suspendedYield",b="executing",E="completed",A={},P={};P[l]=function(){return this};var z=Object.getPrototypeOf,B=z&&z(z(Ut([])));B&&B!==u&&c.call(B,l)&&(P=B);var H=It.prototype=ct.prototype=Object.create(P);mt.prototype=H.constructor=It,It.constructor=mt,It[T]=mt.displayName="GeneratorFunction",S.isGeneratorFunction=function(ot){var lt=typeof ot=="function"&&ot.constructor;return!!lt&&(lt===mt||(lt.displayName||lt.name)==="GeneratorFunction")},S.mark=function(ot){return Object.setPrototypeOf?Object.setPrototypeOf(ot,It):(ot.__proto__=It,T in ot||(ot[T]="GeneratorFunction")),ot.prototype=Object.create(H),ot},S.awrap=function(ot){return{__await:ot}},Dt(Wt.prototype),Wt.prototype[_]=function(){return this},S.AsyncIterator=Wt,S.async=function(ot,lt,gt,Lt){var vt=new Wt(K(ot,lt,gt,Lt));return S.isGeneratorFunction(lt)?vt:vt.next().then(function(ht){return ht.done?ht.value:vt.next()})},Dt(H),H[T]="Generator",H[l]=function(){return this},H.toString=function(){return"[object Generator]"},S.keys=function(ot){var lt=[];for(var gt in ot)lt.push(gt);return lt.reverse(),function Lt(){for(;lt.length;){var vt=lt.pop();if(vt in ot)return Lt.value=vt,Lt.done=!1,Lt}return Lt.done=!0,Lt}},S.values=Ut,ae.prototype={constructor:ae,reset:function(ot){if(this.prev=0,this.next=0,this.sent=this._sent=v,this.done=!1,this.delegate=null,this.method="next",this.arg=v,this.tryEntries.forEach(qt),!ot)for(var lt in this)lt.charAt(0)==="t"&&c.call(this,lt)&&!isNaN(+lt.slice(1))&&(this[lt]=v)},stop:function(){this.done=!0;var ot=this.tryEntries[0].completion;if(ot.type==="throw")throw ot.arg;return this.rval},dispatchException:function(ot){if(this.done)throw ot;var lt=this;function gt(Ot,zt){return ht.type="throw",ht.arg=ot,lt.next=Ot,zt&&(lt.method="next",lt.arg=v),!!zt}for(var Lt=this.tryEntries.length-1;Lt>=0;--Lt){var vt=this.tryEntries[Lt],ht=vt.completion;if(vt.tryLoc==="root")return gt("end");if(vt.tryLoc<=this.prev){var pt=c.call(vt,"catchLoc"),Bt=c.call(vt,"finallyLoc");if(pt&&Bt){if(this.prev<vt.catchLoc)return gt(vt.catchLoc,!0);if(this.prev<vt.finallyLoc)return gt(vt.finallyLoc)}else if(pt){if(this.prev<vt.catchLoc)return gt(vt.catchLoc,!0)}else{if(!Bt)throw new Error("try statement without catch or finally");if(this.prev<vt.finallyLoc)return gt(vt.finallyLoc)}}}},abrupt:function(ot,lt){for(var gt=this.tryEntries.length-1;gt>=0;--gt){var Lt=this.tryEntries[gt];if(Lt.tryLoc<=this.prev&&c.call(Lt,"finallyLoc")&&this.prev<Lt.finallyLoc){var vt=Lt;break}}vt&&(ot==="break"||ot==="continue")&&vt.tryLoc<=lt&&lt<=vt.finallyLoc&&(vt=null);var ht=vt?vt.completion:{};return ht.type=ot,ht.arg=lt,vt?(this.method="next",this.next=vt.finallyLoc,A):this.complete(ht)},complete:function(ot,lt){if(ot.type==="throw")throw ot.arg;return ot.type==="break"||ot.type==="continue"?this.next=ot.arg:ot.type==="return"?(this.rval=this.arg=ot.arg,this.method="return",this.next="end"):ot.type==="normal"&&lt&&(this.next=lt),A},finish:function(ot){for(var lt=this.tryEntries.length-1;lt>=0;--lt){var gt=this.tryEntries[lt];if(gt.finallyLoc===ot)return this.complete(gt.completion,gt.afterLoc),qt(gt),A}},catch:function(ot){for(var lt=this.tryEntries.length-1;lt>=0;--lt){var gt=this.tryEntries[lt];if(gt.tryLoc===ot){var Lt=gt.completion;if(Lt.type==="throw"){var vt=Lt.arg;qt(gt)}return vt}}throw new Error("illegal catch attempt")},delegateYield:function(ot,lt,gt){return this.delegate={iterator:Ut(ot),resultName:lt,nextLoc:gt},this.method==="next"&&(this.arg=v),A}}}function K(ot,lt,gt,Lt){var vt=lt&&lt.prototype instanceof ct?lt:ct,ht=Object.create(vt.prototype),pt=new ae(Lt||[]);return ht._invoke=function(Bt,Ot,zt){var se=w;return function(Oe,le){if(se===b)throw new Error("Generator is already running");if(se===E){if(Oe==="throw")throw le;return U()}for(zt.method=Oe,zt.arg=le;;){var Qt=zt.delegate;if(Qt){var Ke=Zt(Qt,zt);if(Ke){if(Ke===A)continue;return Ke}}if(zt.method==="next")zt.sent=zt._sent=zt.arg;else if(zt.method==="throw"){if(se===w)throw se=E,zt.arg;zt.dispatchException(zt.arg)}else zt.method==="return"&&zt.abrupt("return",zt.arg);se=b;var Ee=Q(Bt,Ot,zt);if(Ee.type==="normal"){if(se=zt.done?E:C,Ee.arg===A)continue;return{value:Ee.arg,done:zt.done}}Ee.type==="throw"&&(se=E,zt.method="throw",zt.arg=Ee.arg)}}}(ot,gt,pt),ht}function Q(ot,lt,gt){try{return{type:"normal",arg:ot.call(lt,gt)}}catch(Lt){return{type:"throw",arg:Lt}}}function ct(){}function mt(){}function It(){}function Dt(ot){["next","throw","return"].forEach(function(lt){ot[lt]=function(gt){return this._invoke(lt,gt)}})}function Wt(ot){function lt(Lt,vt,ht,pt){var Bt=Q(ot[Lt],ot,vt);if(Bt.type!=="throw"){var Ot=Bt.arg,zt=Ot.value;return zt&&typeof zt=="object"&&c.call(zt,"__await")?Promise.resolve(zt.__await).then(function(se){lt("next",se,ht,pt)},function(se){lt("throw",se,ht,pt)}):Promise.resolve(zt).then(function(se){Ot.value=se,ht(Ot)},pt)}pt(Bt.arg)}var gt;typeof g.process=="object"&&g.process.domain&&(lt=g.process.domain.bind(lt)),this._invoke=function(Lt,vt){function ht(){return new Promise(function(pt,Bt){lt(Lt,vt,pt,Bt)})}return gt=gt?gt.then(ht,ht):ht()}}function Zt(ot,lt){var gt=ot.iterator[lt.method];if(gt===v){if(lt.delegate=null,lt.method==="throw"){if(ot.iterator.return&&(lt.method="return",lt.arg=v,Zt(ot,lt),lt.method==="throw"))return A;lt.method="throw",lt.arg=new TypeError("The iterator does not provide a 'throw' method")}return A}var Lt=Q(gt,ot.iterator,lt.arg);if(Lt.type==="throw")return lt.method="throw",lt.arg=Lt.arg,lt.delegate=null,A;var vt=Lt.arg;return vt?vt.done?(lt[ot.resultName]=vt.value,lt.next=ot.nextLoc,lt.method!=="return"&&(lt.method="next",lt.arg=v),lt.delegate=null,A):vt:(lt.method="throw",lt.arg=new TypeError("iterator result is not an object"),lt.delegate=null,A)}function Rt(ot){var lt={tryLoc:ot[0]};1 in ot&&(lt.catchLoc=ot[1]),2 in ot&&(lt.finallyLoc=ot[2],lt.afterLoc=ot[3]),this.tryEntries.push(lt)}function qt(ot){var lt=ot.completion||{};lt.type="normal",delete lt.arg,ot.completion=lt}function ae(ot){this.tryEntries=[{tryLoc:"root"}],ot.forEach(Rt,this),this.reset(!0)}function Ut(ot){if(ot){var lt=ot[l];if(lt)return lt.call(ot);if(typeof ot.next=="function")return ot;if(!isNaN(ot.length)){var gt=-1,Lt=function vt(){for(;++gt<ot.length;)if(c.call(ot,gt))return vt.value=ot[gt],vt.done=!1,vt;return vt.value=v,vt.done=!0,vt};return Lt.next=Lt}}return{next:U}}function U(){return{value:v,done:!0}}})(typeof d=="object"?d:typeof window=="object"?window:typeof self=="object"?self:this)}).call(this,o("yLpj"))},"8IOi":function(x,V,o){var d=o("k+AJ"),g=o("CuJi"),v=o("BxPU"),u=o("d+oe"),c=o("kRpC"),p=function(l,_,T){var k,S,w,C,b=l&p.F,E=l&p.G,A=l&p.S,P=l&p.P,z=l&p.B,B=E?d:A?d[_]||(d[_]={}):(d[_]||{}).prototype,H=E?g:g[_]||(g[_]={}),K=H.prototype||(H.prototype={});for(k in E&&(T=_),T)w=((S=!b&&B&&B[k]!==void 0)?B:T)[k],C=z&&S?c(w,d):P&&typeof w=="function"?c(Function.call,w):w,B&&u(B,k,w,l&p.U),H[k]!=w&&v(H,k,C),P&&K[k]!=w&&(K[k]=w)};d.core=g,p.F=1,p.G=2,p.S=4,p.P=8,p.B=16,p.W=32,p.U=64,p.R=128,x.exports=p},"8MIm":function(x,V,o){(x.exports=o("I1BE")(void 0)).push([x.i,'.video-js .vjs-big-play-button .vjs-icon-placeholder:before,.video-js .vjs-modal-dialog,.vjs-button>.vjs-icon-placeholder:before,.vjs-modal-dialog .vjs-modal-dialog-content{position:absolute;top:0;left:0;width:100%;height:100%}.video-js .vjs-big-play-button .vjs-icon-placeholder:before,.vjs-button>.vjs-icon-placeholder:before{text-align:center}@font-face{font-family:VideoJS;src:url(data:application/font-woff;charset=utf-8;base64,d09GRgABAAAAABDkAAsAAAAAG6gAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAADsAAABUIIslek9TLzIAAAFEAAAAPgAAAFZRiV3hY21hcAAAAYQAAADaAAADPv749/pnbHlmAAACYAAAC3AAABHQZg6OcWhlYWQAAA3QAAAAKwAAADYZw251aGhlYQAADfwAAAAdAAAAJA+RCLFobXR4AAAOHAAAABMAAACM744AAGxvY2EAAA4wAAAASAAAAEhF6kqubWF4cAAADngAAAAfAAAAIAE0AIFuYW1lAAAOmAAAASUAAAIK1cf1oHBvc3QAAA/AAAABJAAAAdPExYuNeJxjYGRgYOBiMGCwY2BycfMJYeDLSSzJY5BiYGGAAJA8MpsxJzM9kYEDxgPKsYBpDiBmg4gCACY7BUgAeJxjYGS7wTiBgZWBgaWQ5RkDA8MvCM0cwxDOeI6BgYmBlZkBKwhIc01hcPjI+FGJHcRdyA4RZgQRADK3CxEAAHic7dFZbsMgAEXRS0ycyZnnOeG7y+qC8pU1dHusIOXxuoxaOlwZYWQB0Aea4quIEN4E9LzKbKjzDeM6H/mua6Lmc/p8yhg0lvdYx15ZG8uOLQOGjMp3EzqmzJizYMmKNRu27Nhz4MiJMxeu3Ljz4Ekqm7T8P52G8PP3lnTOVk++Z6iN6QZzNN1F7ptuN7eGOjDUoaGODHVsuvU8MdTO9Hd5aqgzQ50b6sJQl4a6MtS1oW4MdWuoO0PdG+rBUI+GejLUs6FeDPVqqDdDvRvqw1CfhpqM9At0iFLaAAB4nJ1YDXBTVRZ+5/22TUlJ8we0pHlJm7RJf5O8F2j6EymlSPkpxaL8U2xpa3DKj0CBhc2IW4eWKSokIoLsuMqssM64f+jA4HSdWXXXscBq67IOs3FXZ1ZYWVyRFdo899yXtIBQZ90k7717zz3v3HPPOfd854YCCj9cL9dL0RQFOqCbGJnrHb5EayiKIWN8iA/hWBblo6hUWm8TtCDwE80WMJus/irwyxOdxeB0MDb14VNJHnXYoLLSl6FfCUYO9nYPTA8Epg9090LprfbBbZ2hY0UlJUXHQp3/vtWkS6EBv8+rPMq5u9692f/dNxJNiqwC1xPE9TCUgCsSdQWgE3XQD25lkG4CN2xmTcOXWBOyser6RN6KnGbKSbmQ3+d0OI1m2W8QzLLkI2sykrWAgJJEtA8vGGW/2Q+CmT3n8zS9wZwu2DCvtuZKZN3xkrLh36yCZuUomQSqGpY8t/25VfHVhw8z4ebGBtfLb0ya9PCaDc+8dGTvk2dsh6z7WzvowlXKUSWo9MJ15a3KrEP2loOr2Ojhw6iW6hf2BDdEccQvZGpaAy7YovSwq8kr7HGllxpd71rkS6G0Sf11sl9OvMK1+jwPPODxjUwkOim9CU3ix1wNjXDfmJSEn618Bs6lpWwUpU+8PCqLMY650zjq8VhCIP17NEKTx3eaLL+s5Pi6yJWaWjTHLR1jYzPSV9VF/6Ojdb/1kO3Mk3uhHC0x6gc1BjlKQ+nQFxTYdaJkZ7ySVxLBbhR1dsboNXp1tCYKW2LRaEzpYcIx2BKNxaL0ZaUnSqfFoiNhHKR/GkX6PWUSAaJelQaqZL1EpoHNsajSEyPSoJ9IjhIxTdjHLmwZvhRDOiFTY/YeQnvrVZmiTQtGncECXtFTBZLOVwwMRgoXHAkXzMzPn1nAJJ8jYSbMDaqN2waGLzNhih/bZynUBMpIWSg7VYi7DRx2m8ALkIdRCJwI6ArJx2EI8kaDWeTQKeAFk9fjl/1AvwktjQ1P7NjyMGQyfd4vjipX6M/i52D7Cq80kqlcxEcGXRr/FEcgs0u5uGgB4VWuMFfpdn2Re6Hi3PqzmxWKsz6+ae2Pn9hXXw/fqM859UiGC0oKYYILJBqJrsn1Z1E5qOs9rQCiUQRREjm8yJcbHF5cUJufX1vAHlefw0XgUoboS3ETfQlTxBC4SOtuE8VPRJTBSCQSjZCpk7Gqzu+masaZ2y7Zjehho4F3g82BNDkAHpORG4+OCS+f6JTPmtRn/PH1kch6d04sp7AQb25aQ/pqUyXeQ8vrebG8OYQdXOQ+585u0sdW9rqalzRURiJ+9F4MweRFrKUjl1GUYhH1A27WOHw5cTFSFPMo9EeUIGnQTZHIaJ7AHLaOKsOODaNF9jkBjYG2QEsQ2xjMUAx2bBEbeTBWMHwskBjngq56S/yfgkBnWBa4K9sqKtq2t1UI8S9He5XuBRbawAdatrQEAi30Aks2+LM8WeCbalVZkWNylvJ+dqJnzVb+OHlSoKW8nPCP7Rd+CcZ2DdWAGqJ2CBFOphgywFFCFBNtfAbGtNPBCwxvygHeYMZMY9ZboBqwq/pVrsbgN5tkv152ODlbMfiqwGMBgxa4Exz3QhovRIUp6acqZmQzRq0ypDXS2TPLT02YIkQETnOE445oOGxOmXAqUJNNG7XgupMjPq2ua9asrj5yY/yuKteO1Kx0YNJTufrirLe1mZnat7OL6rnUdCWenpW6I8mAnbsY8KWs1PuSovCW9A/Z25PQ24a7cNOqgmTkLmBMgh4THgc4b9k2IVv1/g/F5nGljwPLfOgHAzJzh45V/4+WenTzmMtR5Z7us2Tys909UHqrPY7KbckoxRvRHhmVc3cJGE97uml0R1S0jdULVl7EvZtDFVBF35N9cEdjpgmAiOlFZ+Dtoh93+D3zzHr8RRNZQhnCNMNbcegOvpEwZoL+06cJQ07h+th3fZ/7PVbVC6ngTAV/KoLFuO6+2KFcU651gEb5ugPSIb1D+Xp8V4+k3sEIGnw5mYe4If4k1lFYr6SCzmM2EQ8iWtmwjnBI9kTwe1TlfAmXh7H02by9fW2gsjKwtv0aaURKil4OdV7rDL1MXIFNrhdxohcZXYTnq47WisrKitaObbf5+yvkLi5J6lCNZZ+B6GC38VNBZBDidSS/+mSvh6s+srgC8pyKMvDtt+de3c9fU76ZPfuM8ud4Kv0fyP/LqfepMT/3oZxSqpZaTa1DaQYLY8TFsHYbWYsPoRhRWfL5eSSQbhUGgGC3YLbVMk6PitTFNGpAsNrC6D1VNBKgBHMejaiuRWEWGgsSDBTJjqWIl8kJLlsaLJ2tXDr6xGfT85bM2Q06a46x2HTgvdnV8z5YDy/27J4zt6x2VtkzjoYpkq36kaBr4eQSg7tyiVweWubXZugtadl58ydapfbORfKsDTuZ0OBgx4cfdjCf5tbWNITnL120fdOi1RV1C3uKGzNdwYLcMvZ3BxoPyTOCD1XvXTp7U10gWCVmTV9b3r2z0SkGWovb2hp9I89O8a2smlyaO8muMU+dRmtzp60IzAoFpjLr1n388boLyf0dRvxhsHZ0qbWqDkwqvvpkj4l0fY6EIXRi5sQSrAvsVYwXRy4qJ2EVtD1AN7a0HWth9ymvL1xc3WTUKK/TAHA/bXDVtVWfOMfuGxGZv4Ln/jVr9jc3j1yMv0tndmyt9Vq88Y9gH1wtLX3KWjot5++jWHgAoZZkQ14wGQ20Fli71UmKJAy4xKMSTGbVdybW7FDDAut9XpD5AzWrYO7zQ8qffqF8+Ynd/clrHcdyxGy3a/3+mfNnzC/cBsveTjnTvXf1o6vzOlZw7WtqtdmPK/Errz/6NNtD72zmNOZfbmYdTGHfoofqI79Oc+R2n1lrnL6pOm0Up7kwxhTW12Amm7WYkXR2qYrF2AmgmbAsxZjwy1xpg/m1Je2vrp8v/nz2xpmlBg4E9hrMU341wVpTOh/OfmGvAnra8q6uctr60ZQHV3Q+WMQJykMj8ZsWn2QBOmmHMB+m5pDIpTFonYigiaKAhGEiAHF7EliVnQkjoLVIMPtJpBKHYd3A8GYH9jJzrWwmHx5Qjp7vDAX0suGRym1vtm/9W1/HyR8vczfMs6Sk8DSv855/5dlX9oQq52hT8syyp2rx5Id17IAyAM3wIjQPMOHzytEB64q6D5zT91yNbnx3V/nqnd017S9Y0605k3izoXLpsxde2n38yoOV9s1LcjwzNjbdX6asnBVaBj/6/DwKwPkpcqbDG7BnsXoSqWnUAmottYF6jMSdVyYZh3zVXCjwTiwwHH6sGuRiEHQGzuRX6whZkp123oy1BWE2mEfJ/tvIRtM4ZM5bDXiMsPMaAKOTyc5uL57rqyyc5y5JE5pm1i2S2iUX0CcaQ6lC6Zog7JqSqZmYlosl2K6pwNA84zRnQW6SaALYZQGW5lhCtU/W34N6o+bKfZ8cf3/Cl/+iTX3wBzpOY4mRkeNf3rptycGSshQWgGbYt5jFc2e0+DglIrwl6DVWQ7BuwaJ3Xk1J4VL5urnLl/Wf+gHU/hZoZdKNym6lG+I34FaNeZKcSpJIo2IeCVvpdsDGfKvzJnAwmeD37Ow65ZWwSowpgwX5T69s/rB55dP5BcpgDKFV8p7q2sn/1uc93bVzT/w6UrCqDTWvfCq/oCD/qZXNoUj8BL5Kp6GU017frfNXkAtiiyf/SOCEeLqnd8R/Ql9GlCRfctS6k5chvIBuQ1zCCjoCHL2DHNHIXxMJ3kQeO8lbsUXONeSfA5EjcG6/E+KdhN4bP04vBhdi883+BFBzQbxFbvZzQeY9LNBZc0FNfn5NwfDn6rCTnTw6R8o+gfpf5hCom33cRuiTlss3KHmZjD+BPN+5gXuA2ziS/Q73mLxUkpbKN/eqwz5uK0X9F3h2d1V4nGNgZGBgAOJd776+iue3+crAzc4AAje5Bfcg0xz9YHEOBiYQBQA8FQlFAHicY2BkYGBnAAGOPgaG//85+hkYGVCBMgBGGwNYAAAAeJxjYGBgYB8EmKOPgQEAQ04BfgAAAAAAAA4AaAB+AMwA4AECAUIBbAGYAcICGAJYArQC4AMwA7AD3gQwBJYE3AUkBWYFigYgBmYGtAbqB1gIEghYCG4IhAi2COh4nGNgZGBgUGYoZWBnAAEmIOYCQgaG/2A+AwAYCQG2AHicXZBNaoNAGIZfE5PQCKFQ2lUps2oXBfOzzAESyDKBQJdGR2NQR3QSSE/QE/QEPUUPUHqsvsrXjTMw83zPvPMNCuAWP3DQDAejdm1GjzwS7pMmwi75XngAD4/CQ/oX4TFe4Qt7uMMbOzjuDc0EmXCP/C7cJ38Iu+RP4QEe8CU8pP8WHmOPX2EPz87TPo202ey2OjlnQSXV/6arOjWFmvszMWtd6CqwOlKHq6ovycLaWMWVydXKFFZnmVFlZU46tP7R2nI5ncbi/dDkfDtFBA2DDXbYkhKc+V0Bqs5Zt9JM1HQGBRTm/EezTmZNKtpcAMs9Yu6AK9caF76zoLWIWcfMGOSkVduvSWechqZsz040Ib2PY3urxBJTzriT95lipz+TN1fmAAAAeJxtkMl2wjAMRfOAhABlKm2h80C3+ajgCKKDY6cegP59TYBzukAL+z1Zsq8ctaJTTKPrsUQLbXQQI0EXKXroY4AbDDHCGBNMcYsZ7nCPB8yxwCOe8IwXvOIN7/jAJ76wxHfUqWX+OzgumWAjJMV17i0Ndlr6irLKO+qftdT7i6y4uFSUvCknay+lFYZIZaQcmfH/xIFdYn98bqhra1aKTM/6lWMnyaYirx1rFUQZFBkb2zJUtoXeJCeg0WnLtHeSFc3OtrnozNwqi0TkSpBMDB1nSde5oJXW23hTS2/T0LilglXX7dmFVxLnq5U0vYATHFk3zX3BOisoQHNDFDeZnqKDy9hRNawN7Vh727hFzcJ5c8TILrKZfH7tIPxAFP0BpLeJPA==) format("woff");font-weight:400;font-style:normal}.video-js .vjs-big-play-button .vjs-icon-placeholder:before,.video-js .vjs-play-control .vjs-icon-placeholder,.vjs-icon-play{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-big-play-button .vjs-icon-placeholder:before,.video-js .vjs-play-control .vjs-icon-placeholder:before,.vjs-icon-play:before{content:"\\F101"}.vjs-icon-play-circle{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-play-circle:before{content:"\\F102"}.video-js .vjs-play-control.vjs-playing .vjs-icon-placeholder,.vjs-icon-pause{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-play-control.vjs-playing .vjs-icon-placeholder:before,.vjs-icon-pause:before{content:"\\F103"}.video-js .vjs-mute-control.vjs-vol-0 .vjs-icon-placeholder,.vjs-icon-volume-mute{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-mute-control.vjs-vol-0 .vjs-icon-placeholder:before,.vjs-icon-volume-mute:before{content:"\\F104"}.video-js .vjs-mute-control.vjs-vol-1 .vjs-icon-placeholder,.vjs-icon-volume-low{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-mute-control.vjs-vol-1 .vjs-icon-placeholder:before,.vjs-icon-volume-low:before{content:"\\F105"}.video-js .vjs-mute-control.vjs-vol-2 .vjs-icon-placeholder,.vjs-icon-volume-mid{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-mute-control.vjs-vol-2 .vjs-icon-placeholder:before,.vjs-icon-volume-mid:before{content:"\\F106"}.video-js .vjs-mute-control .vjs-icon-placeholder,.vjs-icon-volume-high{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-mute-control .vjs-icon-placeholder:before,.vjs-icon-volume-high:before{content:"\\F107"}.video-js .vjs-fullscreen-control .vjs-icon-placeholder,.vjs-icon-fullscreen-enter{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-fullscreen-control .vjs-icon-placeholder:before,.vjs-icon-fullscreen-enter:before{content:"\\F108"}.video-js.vjs-fullscreen .vjs-fullscreen-control .vjs-icon-placeholder,.vjs-icon-fullscreen-exit{font-family:VideoJS;font-weight:400;font-style:normal}.video-js.vjs-fullscreen .vjs-fullscreen-control .vjs-icon-placeholder:before,.vjs-icon-fullscreen-exit:before{content:"\\F109"}.vjs-icon-square{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-square:before{content:"\\F10A"}.vjs-icon-spinner{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-spinner:before{content:"\\F10B"}.video-js.video-js:lang(en-AU) .vjs-subs-caps-button .vjs-icon-placeholder,.video-js.video-js:lang(en-GB) .vjs-subs-caps-button .vjs-icon-placeholder,.video-js.video-js:lang(en-IE) .vjs-subs-caps-button .vjs-icon-placeholder,.video-js.video-js:lang(en-NZ) .vjs-subs-caps-button .vjs-icon-placeholder,.video-js .vjs-subs-caps-button .vjs-icon-placeholder,.video-js .vjs-subtitles-button .vjs-icon-placeholder,.vjs-icon-subtitles{font-family:VideoJS;font-weight:400;font-style:normal}.video-js.video-js:lang(en-AU) .vjs-subs-caps-button .vjs-icon-placeholder:before,.video-js.video-js:lang(en-GB) .vjs-subs-caps-button .vjs-icon-placeholder:before,.video-js.video-js:lang(en-IE) .vjs-subs-caps-button .vjs-icon-placeholder:before,.video-js.video-js:lang(en-NZ) .vjs-subs-caps-button .vjs-icon-placeholder:before,.video-js .vjs-subs-caps-button .vjs-icon-placeholder:before,.video-js .vjs-subtitles-button .vjs-icon-placeholder:before,.vjs-icon-subtitles:before{content:"\\F10C"}.video-js .vjs-captions-button .vjs-icon-placeholder,.video-js:lang(en) .vjs-subs-caps-button .vjs-icon-placeholder,.video-js:lang(fr-CA) .vjs-subs-caps-button .vjs-icon-placeholder,.vjs-icon-captions{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-captions-button .vjs-icon-placeholder:before,.video-js:lang(en) .vjs-subs-caps-button .vjs-icon-placeholder:before,.video-js:lang(fr-CA) .vjs-subs-caps-button .vjs-icon-placeholder:before,.vjs-icon-captions:before{content:"\\F10D"}.video-js .vjs-chapters-button .vjs-icon-placeholder,.vjs-icon-chapters{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-chapters-button .vjs-icon-placeholder:before,.vjs-icon-chapters:before{content:"\\F10E"}.vjs-icon-share{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-share:before{content:"\\F10F"}.vjs-icon-cog{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-cog:before{content:"\\F110"}.video-js .vjs-play-progress,.video-js .vjs-volume-level,.vjs-icon-circle,.vjs-seek-to-live-control .vjs-icon-placeholder{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-play-progress:before,.video-js .vjs-volume-level:before,.vjs-icon-circle:before,.vjs-seek-to-live-control .vjs-icon-placeholder:before{content:"\\F111"}.vjs-icon-circle-outline{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-circle-outline:before{content:"\\F112"}.vjs-icon-circle-inner-circle{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-circle-inner-circle:before{content:"\\F113"}.vjs-icon-hd{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-hd:before{content:"\\F114"}.video-js .vjs-control.vjs-close-button .vjs-icon-placeholder,.vjs-icon-cancel{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-control.vjs-close-button .vjs-icon-placeholder:before,.vjs-icon-cancel:before{content:"\\F115"}.video-js .vjs-play-control.vjs-ended .vjs-icon-placeholder,.vjs-icon-replay{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-play-control.vjs-ended .vjs-icon-placeholder:before,.vjs-icon-replay:before{content:"\\F116"}.vjs-icon-facebook{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-facebook:before{content:"\\F117"}.vjs-icon-gplus{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-gplus:before{content:"\\F118"}.vjs-icon-linkedin{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-linkedin:before{content:"\\F119"}.vjs-icon-twitter{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-twitter:before{content:"\\F11A"}.vjs-icon-tumblr{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-tumblr:before{content:"\\F11B"}.vjs-icon-pinterest{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-pinterest:before{content:"\\F11C"}.video-js .vjs-descriptions-button .vjs-icon-placeholder,.vjs-icon-audio-description{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-descriptions-button .vjs-icon-placeholder:before,.vjs-icon-audio-description:before{content:"\\F11D"}.video-js .vjs-audio-button .vjs-icon-placeholder,.vjs-icon-audio{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-audio-button .vjs-icon-placeholder:before,.vjs-icon-audio:before{content:"\\F11E"}.vjs-icon-next-item{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-next-item:before{content:"\\F11F"}.vjs-icon-previous-item{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-previous-item:before{content:"\\F120"}.video-js .vjs-picture-in-picture-control .vjs-icon-placeholder,.vjs-icon-picture-in-picture-enter{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-picture-in-picture-control .vjs-icon-placeholder:before,.vjs-icon-picture-in-picture-enter:before{content:"\\F121"}.video-js.vjs-picture-in-picture .vjs-picture-in-picture-control .vjs-icon-placeholder,.vjs-icon-picture-in-picture-exit{font-family:VideoJS;font-weight:400;font-style:normal}.video-js.vjs-picture-in-picture .vjs-picture-in-picture-control .vjs-icon-placeholder:before,.vjs-icon-picture-in-picture-exit:before{content:"\\F122"}.video-js{display:block;vertical-align:top;box-sizing:border-box;color:#fff;background-color:#000;position:relative;padding:0;font-size:10px;line-height:1;font-weight:400;font-style:normal;font-family:Arial,Helvetica,sans-serif;word-break:normal}.video-js:-moz-full-screen{position:absolute}.video-js:-webkit-full-screen{width:100%!important;height:100%!important}.video-js[tabindex="-1"]{outline:none}.video-js *,.video-js :after,.video-js :before{box-sizing:inherit}.video-js ul{font-family:inherit;font-size:inherit;line-height:inherit;list-style-position:outside;margin:0}.video-js.vjs-4-3,.video-js.vjs-16-9,.video-js.vjs-fluid{width:100%;max-width:100%;height:0}.video-js.vjs-16-9{padding-top:56.25%}.video-js.vjs-4-3{padding-top:75%}.video-js.vjs-fill,.video-js .vjs-tech{width:100%;height:100%}.video-js .vjs-tech{position:absolute;top:0;left:0}body.vjs-full-window{padding:0;margin:0;height:100%}.vjs-full-window .video-js.vjs-fullscreen{position:fixed;overflow:hidden;z-index:1000;left:0;top:0;bottom:0;right:0}.video-js.vjs-fullscreen{width:100%!important;height:100%!important;padding-top:0!important}.video-js.vjs-fullscreen.vjs-user-inactive{cursor:none}.vjs-hidden{display:none!important}.vjs-disabled{opacity:.5;cursor:default}.video-js .vjs-offscreen{height:1px;left:-9999px;position:absolute;top:0;width:1px}.vjs-lock-showing{display:block!important;opacity:1;visibility:visible}.vjs-no-js{padding:20px;color:#fff;background-color:#000;font-size:18px;font-family:Arial,Helvetica,sans-serif;text-align:center;width:300px;height:150px;margin:0 auto}.vjs-no-js a,.vjs-no-js a:visited{color:#66a8cc}.video-js .vjs-big-play-button{font-size:3em;line-height:1.5em;height:1.63332em;width:3em;display:block;position:absolute;top:10px;left:10px;padding:0;cursor:pointer;opacity:1;border:.06666em solid #fff;background-color:#2b333f;background-color:rgba(43,51,63,.7);border-radius:.3em;transition:all .4s}.vjs-big-play-centered .vjs-big-play-button{top:50%;left:50%;margin-top:-.81666em;margin-left:-1.5em}.video-js .vjs-big-play-button:focus,.video-js:hover .vjs-big-play-button{border-color:#fff;background-color:#73859f;background-color:rgba(115,133,159,.5);transition:all 0s}.vjs-controls-disabled .vjs-big-play-button,.vjs-error .vjs-big-play-button,.vjs-has-started .vjs-big-play-button,.vjs-using-native-controls .vjs-big-play-button{display:none}.vjs-has-started.vjs-paused.vjs-show-big-play-button-on-pause .vjs-big-play-button{display:block}.video-js button{background:none;border:none;color:inherit;display:inline-block;font-size:inherit;line-height:inherit;text-transform:none;text-decoration:none;transition:none;-webkit-appearance:none;-moz-appearance:none;appearance:none}.vjs-control .vjs-button{width:100%;height:100%}.video-js .vjs-control.vjs-close-button{cursor:pointer;height:3em;position:absolute;right:0;top:.5em;z-index:2}.video-js .vjs-modal-dialog{background:rgba(0,0,0,.8);background:linear-gradient(180deg,rgba(0,0,0,.8),hsla(0,0%,100%,0));overflow:auto}.video-js .vjs-modal-dialog>*{box-sizing:border-box}.vjs-modal-dialog .vjs-modal-dialog-content{font-size:1.2em;line-height:1.5;padding:20px 24px;z-index:1}.vjs-menu-button{cursor:pointer}.vjs-menu-button.vjs-disabled{cursor:default}.vjs-workinghover .vjs-menu-button.vjs-disabled:hover .vjs-menu{display:none}.vjs-menu .vjs-menu-content{display:block;padding:0;margin:0;font-family:Arial,Helvetica,sans-serif;overflow:auto}.vjs-menu .vjs-menu-content>*{box-sizing:border-box}.vjs-scrubbing .vjs-control.vjs-menu-button:hover .vjs-menu{display:none}.vjs-menu li{list-style:none;margin:0;padding:.2em 0;line-height:1.4em;font-size:1.2em;text-align:center;text-transform:lowercase}.js-focus-visible .vjs-menu li.vjs-menu-item:hover,.vjs-menu li.vjs-menu-item:focus,.vjs-menu li.vjs-menu-item:hover{background-color:#73859f;background-color:rgba(115,133,159,.5)}.js-focus-visible .vjs-menu li.vjs-selected:hover,.vjs-menu li.vjs-selected,.vjs-menu li.vjs-selected:focus,.vjs-menu li.vjs-selected:hover{background-color:#fff;color:#2b333f}.vjs-menu li.vjs-menu-title{text-align:center;text-transform:uppercase;font-size:1em;line-height:2em;padding:0;margin:0 0 .3em;font-weight:700;cursor:default}.vjs-menu-button-popup .vjs-menu{display:none;position:absolute;bottom:0;width:10em;left:-3em;height:0;margin-bottom:1.5em;border-top-color:rgba(43,51,63,.7)}.vjs-menu-button-popup .vjs-menu .vjs-menu-content{background-color:#2b333f;background-color:rgba(43,51,63,.7);position:absolute;width:100%;bottom:1.5em;max-height:15em}.vjs-layout-tiny .vjs-menu-button-popup .vjs-menu .vjs-menu-content,.vjs-layout-x-small .vjs-menu-button-popup .vjs-menu .vjs-menu-content{max-height:5em}.vjs-layout-small .vjs-menu-button-popup .vjs-menu .vjs-menu-content{max-height:10em}.vjs-layout-medium .vjs-menu-button-popup .vjs-menu .vjs-menu-content{max-height:14em}.vjs-layout-huge .vjs-menu-button-popup .vjs-menu .vjs-menu-content,.vjs-layout-large .vjs-menu-button-popup .vjs-menu .vjs-menu-content,.vjs-layout-x-large .vjs-menu-button-popup .vjs-menu .vjs-menu-content{max-height:25em}.vjs-menu-button-popup .vjs-menu.vjs-lock-showing,.vjs-workinghover .vjs-menu-button-popup.vjs-hover .vjs-menu{display:block}.video-js .vjs-menu-button-inline{transition:all .4s;overflow:hidden}.video-js .vjs-menu-button-inline:before{width:2.222222222em}.video-js .vjs-menu-button-inline.vjs-slider-active,.video-js .vjs-menu-button-inline:focus,.video-js .vjs-menu-button-inline:hover,.video-js.vjs-no-flex .vjs-menu-button-inline{width:12em}.vjs-menu-button-inline .vjs-menu{opacity:0;height:100%;width:auto;position:absolute;left:4em;top:0;padding:0;margin:0;transition:all .4s}.vjs-menu-button-inline.vjs-slider-active .vjs-menu,.vjs-menu-button-inline:focus .vjs-menu,.vjs-menu-button-inline:hover .vjs-menu{display:block;opacity:1}.vjs-no-flex .vjs-menu-button-inline .vjs-menu{display:block;opacity:1;position:relative;width:auto}.vjs-no-flex .vjs-menu-button-inline.vjs-slider-active .vjs-menu,.vjs-no-flex .vjs-menu-button-inline:focus .vjs-menu,.vjs-no-flex .vjs-menu-button-inline:hover .vjs-menu{width:auto}.vjs-menu-button-inline .vjs-menu-content{width:auto;height:100%;margin:0;overflow:hidden}.video-js .vjs-control-bar{display:none;width:100%;position:absolute;bottom:0;left:0;right:0;height:3em;background-color:#2b333f;background-color:rgba(43,51,63,.7)}.vjs-has-started .vjs-control-bar{display:flex;visibility:visible;opacity:1;transition:visibility .1s,opacity .1s}.vjs-has-started.vjs-user-inactive.vjs-playing .vjs-control-bar{visibility:visible;opacity:0;transition:visibility 1s,opacity 1s}.vjs-controls-disabled .vjs-control-bar,.vjs-error .vjs-control-bar,.vjs-using-native-controls .vjs-control-bar{display:none!important}.vjs-audio.vjs-has-started.vjs-user-inactive.vjs-playing .vjs-control-bar{opacity:1;visibility:visible}.vjs-has-started.vjs-no-flex .vjs-control-bar{display:table}.video-js .vjs-control{position:relative;text-align:center;margin:0;padding:0;height:100%;width:4em;flex:none}.vjs-button>.vjs-icon-placeholder:before{font-size:1.8em;line-height:1.67}.video-js .vjs-control:focus,.video-js .vjs-control:focus:before,.video-js .vjs-control:hover:before{text-shadow:0 0 1em #fff}.video-js .vjs-control-text{border:0;clip:rect(0 0 0 0);height:1px;overflow:hidden;padding:0;position:absolute;width:1px}.vjs-no-flex .vjs-control{display:table-cell;vertical-align:middle}.video-js .vjs-custom-control-spacer{display:none}.video-js .vjs-progress-control{cursor:pointer;flex:auto;display:flex;align-items:center;min-width:4em;touch-action:none}.video-js .vjs-progress-control.disabled{cursor:default}.vjs-live .vjs-progress-control{display:none}.vjs-liveui .vjs-progress-control{display:flex;align-items:center}.vjs-no-flex .vjs-progress-control{width:auto}.video-js .vjs-progress-holder{flex:auto;transition:all .2s;height:.3em}.video-js .vjs-progress-control .vjs-progress-holder{margin:0 10px}.video-js .vjs-progress-control:hover .vjs-progress-holder{font-size:1.6666666667em}.video-js .vjs-progress-control:hover .vjs-progress-holder.disabled{font-size:1em}.video-js .vjs-progress-holder .vjs-load-progress,.video-js .vjs-progress-holder .vjs-load-progress div,.video-js .vjs-progress-holder .vjs-play-progress{position:absolute;display:block;height:100%;margin:0;padding:0;width:0}.video-js .vjs-play-progress{background-color:#fff}.video-js .vjs-play-progress:before{font-size:.9em;position:absolute;right:-.5em;top:-.3333333333em;z-index:1}.video-js .vjs-load-progress{background:rgba(115,133,159,.5)}.video-js .vjs-load-progress div{background:rgba(115,133,159,.75)}.video-js .vjs-time-tooltip{background-color:#fff;background-color:hsla(0,0%,100%,.8);border-radius:.3em;color:#000;float:right;font-family:Arial,Helvetica,sans-serif;font-size:1em;padding:6px 8px 8px;pointer-events:none;position:absolute;top:-3.4em;visibility:hidden;z-index:1}.video-js .vjs-progress-holder:focus .vjs-time-tooltip{display:none}.video-js .vjs-progress-control:hover .vjs-progress-holder:focus .vjs-time-tooltip,.video-js .vjs-progress-control:hover .vjs-time-tooltip{display:block;font-size:.6em;visibility:visible}.video-js .vjs-progress-control.disabled:hover .vjs-time-tooltip{font-size:1em}.video-js .vjs-progress-control .vjs-mouse-display{display:none;position:absolute;width:1px;height:100%;background-color:#000;z-index:1}.vjs-no-flex .vjs-progress-control .vjs-mouse-display{z-index:0}.video-js .vjs-progress-control:hover .vjs-mouse-display{display:block}.video-js.vjs-user-inactive .vjs-progress-control .vjs-mouse-display{visibility:hidden;opacity:0;transition:visibility 1s,opacity 1s}.video-js.vjs-user-inactive.vjs-no-flex .vjs-progress-control .vjs-mouse-display{display:none}.vjs-mouse-display .vjs-time-tooltip{color:#fff;background-color:#000;background-color:rgba(0,0,0,.8)}.video-js .vjs-slider{position:relative;cursor:pointer;padding:0;margin:0 .45em;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-color:#73859f;background-color:rgba(115,133,159,.5)}.video-js .vjs-slider.disabled{cursor:default}.video-js .vjs-slider:focus{text-shadow:0 0 1em #fff;box-shadow:0 0 1em #fff}.video-js .vjs-mute-control{cursor:pointer;flex:none}.video-js .vjs-volume-control{cursor:pointer;margin-right:1em;display:flex}.video-js .vjs-volume-control.vjs-volume-horizontal{width:5em}.video-js .vjs-volume-panel .vjs-volume-control{visibility:visible;opacity:0;width:1px;height:1px;margin-left:-1px}.video-js .vjs-volume-panel{transition:width 1s}.video-js .vjs-volume-panel.vjs-hover .vjs-mute-control~.vjs-volume-control,.video-js .vjs-volume-panel.vjs-hover .vjs-volume-control,.video-js .vjs-volume-panel .vjs-volume-control.vjs-slider-active,.video-js .vjs-volume-panel .vjs-volume-control:active,.video-js .vjs-volume-panel:active .vjs-volume-control,.video-js .vjs-volume-panel:focus .vjs-volume-control{visibility:visible;opacity:1;position:relative;transition:visibility .1s,opacity .1s,height .1s,width .1s,left 0s,top 0s}.video-js .vjs-volume-panel.vjs-hover .vjs-mute-control~.vjs-volume-control.vjs-volume-horizontal,.video-js .vjs-volume-panel.vjs-hover .vjs-volume-control.vjs-volume-horizontal,.video-js .vjs-volume-panel .vjs-volume-control.vjs-slider-active.vjs-volume-horizontal,.video-js .vjs-volume-panel .vjs-volume-control:active.vjs-volume-horizontal,.video-js .vjs-volume-panel:active .vjs-volume-control.vjs-volume-horizontal,.video-js .vjs-volume-panel:focus .vjs-volume-control.vjs-volume-horizontal{width:5em;height:3em}.video-js .vjs-volume-panel.vjs-hover .vjs-mute-control~.vjs-volume-control.vjs-volume-vertical,.video-js .vjs-volume-panel.vjs-hover .vjs-volume-control.vjs-volume-vertical,.video-js .vjs-volume-panel .vjs-volume-control.vjs-slider-active.vjs-volume-vertical,.video-js .vjs-volume-panel .vjs-volume-control:active.vjs-volume-vertical,.video-js .vjs-volume-panel:active .vjs-volume-control.vjs-volume-vertical,.video-js .vjs-volume-panel:focus .vjs-volume-control.vjs-volume-vertical{left:-3.5em;transition:left 0s}.video-js .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-hover,.video-js .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-slider-active,.video-js .vjs-volume-panel.vjs-volume-panel-horizontal:active{width:9em;transition:width .1s}.video-js .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-mute-toggle-only{width:4em}.video-js .vjs-volume-panel .vjs-volume-control.vjs-volume-vertical{height:8em;width:3em;left:-3000em;transition:visibility 1s,opacity 1s,height 1s 1s,width 1s 1s,left 1s 1s,top 1s 1s}.video-js .vjs-volume-panel .vjs-volume-control.vjs-volume-horizontal{transition:visibility 1s,opacity 1s,height 1s 1s,width 1s,left 1s 1s,top 1s 1s}.video-js.vjs-no-flex .vjs-volume-panel .vjs-volume-control.vjs-volume-horizontal{width:5em;height:3em;visibility:visible;opacity:1;position:relative;transition:none}.video-js.vjs-no-flex .vjs-volume-control.vjs-volume-vertical,.video-js.vjs-no-flex .vjs-volume-panel .vjs-volume-control.vjs-volume-vertical{position:absolute;bottom:3em;left:.5em}.video-js .vjs-volume-panel{display:flex}.video-js .vjs-volume-bar{margin:1.35em .45em}.vjs-volume-bar.vjs-slider-horizontal{width:5em;height:.3em}.vjs-volume-bar.vjs-slider-vertical{width:.3em;height:5em;margin:1.35em auto}.video-js .vjs-volume-level{position:absolute;bottom:0;left:0;background-color:#fff}.video-js .vjs-volume-level:before{position:absolute;font-size:.9em}.vjs-slider-vertical .vjs-volume-level{width:.3em}.vjs-slider-vertical .vjs-volume-level:before{top:-.5em;left:-.3em}.vjs-slider-horizontal .vjs-volume-level{height:.3em}.vjs-slider-horizontal .vjs-volume-level:before{top:-.3em;right:-.5em}.video-js .vjs-volume-panel.vjs-volume-panel-vertical{width:4em}.vjs-volume-bar.vjs-slider-vertical .vjs-volume-level{height:100%}.vjs-volume-bar.vjs-slider-horizontal .vjs-volume-level{width:100%}.video-js .vjs-volume-vertical{width:3em;height:8em;bottom:8em;background-color:#2b333f;background-color:rgba(43,51,63,.7)}.video-js .vjs-volume-horizontal .vjs-menu{left:-2em}.vjs-poster{display:inline-block;vertical-align:middle;background-repeat:no-repeat;background-position:50% 50%;background-size:contain;background-color:#000;cursor:pointer;margin:0;padding:0;position:absolute;top:0;right:0;bottom:0;left:0;height:100%}.vjs-has-started .vjs-poster{display:none}.vjs-audio.vjs-has-started .vjs-poster{display:block}.vjs-using-native-controls .vjs-poster{display:none}.video-js .vjs-live-control{display:flex;align-items:flex-start;flex:auto;font-size:1em;line-height:3em}.vjs-no-flex .vjs-live-control{display:table-cell;width:auto;text-align:left}.video-js.vjs-liveui .vjs-live-control,.video-js:not(.vjs-live) .vjs-live-control{display:none}.video-js .vjs-seek-to-live-control{cursor:pointer;flex:none;display:inline-flex;height:100%;padding-left:.5em;padding-right:.5em;font-size:1em;line-height:3em;width:auto;min-width:4em}.vjs-no-flex .vjs-seek-to-live-control{display:table-cell;width:auto;text-align:left}.video-js.vjs-live:not(.vjs-liveui) .vjs-seek-to-live-control,.video-js:not(.vjs-live) .vjs-seek-to-live-control{display:none}.vjs-seek-to-live-control.vjs-control.vjs-at-live-edge{cursor:auto}.vjs-seek-to-live-control .vjs-icon-placeholder{margin-right:.5em;color:#888}.vjs-seek-to-live-control.vjs-control.vjs-at-live-edge .vjs-icon-placeholder{color:red}.video-js .vjs-time-control{flex:none;font-size:1em;line-height:3em;min-width:2em;width:auto;padding-left:1em;padding-right:1em}.video-js .vjs-current-time,.video-js .vjs-duration,.vjs-live .vjs-time-control,.vjs-no-flex .vjs-current-time,.vjs-no-flex .vjs-duration{display:none}.vjs-time-divider{display:none;line-height:3em}.vjs-live .vjs-time-divider{display:none}.video-js .vjs-play-control{cursor:pointer}.video-js .vjs-play-control .vjs-icon-placeholder{flex:none}.vjs-text-track-display{position:absolute;bottom:3em;left:0;right:0;top:0;pointer-events:none}.video-js.vjs-user-inactive.vjs-playing .vjs-text-track-display{bottom:1em}.video-js .vjs-text-track{font-size:1.4em;text-align:center;margin-bottom:.1em}.vjs-subtitles{color:#fff}.vjs-captions{color:#fc6}.vjs-tt-cue{display:block}video::-webkit-media-text-track-display{transform:translateY(-3em)}.video-js.vjs-user-inactive.vjs-playing video::-webkit-media-text-track-display{transform:translateY(-1.5em)}.video-js .vjs-fullscreen-control,.video-js .vjs-picture-in-picture-control{cursor:pointer;flex:none}.vjs-playback-rate .vjs-playback-rate-value,.vjs-playback-rate>.vjs-menu-button{position:absolute;top:0;left:0;width:100%;height:100%}.vjs-playback-rate .vjs-playback-rate-value{pointer-events:none;font-size:1.5em;line-height:2;text-align:center}.vjs-playback-rate .vjs-menu{width:4em;left:0}.vjs-error .vjs-error-display .vjs-modal-dialog-content{font-size:1.4em;text-align:center}.vjs-error .vjs-error-display:before{color:#fff;content:"X";font-family:Arial,Helvetica,sans-serif;font-size:4em;left:0;line-height:1;margin-top:-.5em;position:absolute;text-shadow:.05em .05em .1em #000;text-align:center;top:50%;vertical-align:middle;width:100%}.vjs-loading-spinner{display:none;position:absolute;top:50%;left:50%;margin:-25px 0 0 -25px;opacity:.85;text-align:left;border:6px solid rgba(43,51,63,.7);box-sizing:border-box;background-clip:padding-box;width:50px;height:50px;border-radius:25px;visibility:hidden}.vjs-seeking .vjs-loading-spinner,.vjs-waiting .vjs-loading-spinner{display:block;-webkit-animation:vjs-spinner-show 0s linear .3s forwards;animation:vjs-spinner-show 0s linear .3s forwards}.vjs-loading-spinner:after,.vjs-loading-spinner:before{content:"";position:absolute;margin:-6px;box-sizing:inherit;width:inherit;height:inherit;border-radius:inherit;opacity:1;border:inherit;border-color:transparent;border-top-color:#fff}.vjs-seeking .vjs-loading-spinner:after,.vjs-seeking .vjs-loading-spinner:before,.vjs-waiting .vjs-loading-spinner:after,.vjs-waiting .vjs-loading-spinner:before{-webkit-animation:vjs-spinner-spin 1.1s cubic-bezier(.6,.2,0,.8) infinite,vjs-spinner-fade 1.1s linear infinite;animation:vjs-spinner-spin 1.1s cubic-bezier(.6,.2,0,.8) infinite,vjs-spinner-fade 1.1s linear infinite}.vjs-seeking .vjs-loading-spinner:before,.vjs-waiting .vjs-loading-spinner:before{border-top-color:#fff}.vjs-seeking .vjs-loading-spinner:after,.vjs-waiting .vjs-loading-spinner:after{border-top-color:#fff;-webkit-animation-delay:.44s;animation-delay:.44s}@keyframes vjs-spinner-show{to{visibility:visible}}@-webkit-keyframes vjs-spinner-show{to{visibility:visible}}@keyframes vjs-spinner-spin{to{transform:rotate(1turn)}}@-webkit-keyframes vjs-spinner-spin{to{-webkit-transform:rotate(1turn)}}@keyframes vjs-spinner-fade{0%{border-top-color:#73859f}20%{border-top-color:#73859f}35%{border-top-color:#fff}60%{border-top-color:#73859f}to{border-top-color:#73859f}}@-webkit-keyframes vjs-spinner-fade{0%{border-top-color:#73859f}20%{border-top-color:#73859f}35%{border-top-color:#fff}60%{border-top-color:#73859f}to{border-top-color:#73859f}}.vjs-chapters-button .vjs-menu ul{width:24em}.video-js .vjs-subs-caps-button+.vjs-menu .vjs-captions-menu-item .vjs-menu-item-text .vjs-icon-placeholder{vertical-align:middle;display:inline-block;margin-bottom:-.1em}.video-js .vjs-subs-caps-button+.vjs-menu .vjs-captions-menu-item .vjs-menu-item-text .vjs-icon-placeholder:before{font-family:VideoJS;content:"\\F10D";font-size:1.5em;line-height:inherit}.video-js .vjs-audio-button+.vjs-menu .vjs-main-desc-menu-item .vjs-menu-item-text .vjs-icon-placeholder{vertical-align:middle;display:inline-block;margin-bottom:-.1em}.video-js .vjs-audio-button+.vjs-menu .vjs-main-desc-menu-item .vjs-menu-item-text .vjs-icon-placeholder:before{font-family:VideoJS;content:" \\F11D";font-size:1.5em;line-height:inherit}.video-js:not(.vjs-fullscreen).vjs-layout-small .vjs-audio-button,.video-js:not(.vjs-fullscreen).vjs-layout-small .vjs-captions-button,.video-js:not(.vjs-fullscreen).vjs-layout-small .vjs-chapters-button,.video-js:not(.vjs-fullscreen).vjs-layout-small .vjs-current-time,.video-js:not(.vjs-fullscreen).vjs-layout-small .vjs-descriptions-button,.video-js:not(.vjs-fullscreen).vjs-layout-small .vjs-duration,.video-js:not(.vjs-fullscreen).vjs-layout-small .vjs-playback-rate,.video-js:not(.vjs-fullscreen).vjs-layout-small .vjs-remaining-time,.video-js:not(.vjs-fullscreen).vjs-layout-small .vjs-subtitles-button,.video-js:not(.vjs-fullscreen).vjs-layout-small .vjs-time-divider,.video-js:not(.vjs-fullscreen).vjs-layout-small .vjs-volume-control,.video-js:not(.vjs-fullscreen).vjs-layout-tiny .vjs-audio-button,.video-js:not(.vjs-fullscreen).vjs-layout-tiny .vjs-captions-button,.video-js:not(.vjs-fullscreen).vjs-layout-tiny .vjs-chapters-button,.video-js:not(.vjs-fullscreen).vjs-layout-tiny .vjs-current-time,.video-js:not(.vjs-fullscreen).vjs-layout-tiny .vjs-descriptions-button,.video-js:not(.vjs-fullscreen).vjs-layout-tiny .vjs-duration,.video-js:not(.vjs-fullscreen).vjs-layout-tiny .vjs-playback-rate,.video-js:not(.vjs-fullscreen).vjs-layout-tiny .vjs-remaining-time,.video-js:not(.vjs-fullscreen).vjs-layout-tiny .vjs-subtitles-button,.video-js:not(.vjs-fullscreen).vjs-layout-tiny .vjs-time-divider,.video-js:not(.vjs-fullscreen).vjs-layout-tiny .vjs-volume-control,.video-js:not(.vjs-fullscreen).vjs-layout-x-small .vjs-audio-button,.video-js:not(.vjs-fullscreen).vjs-layout-x-small .vjs-captions-button,.video-js:not(.vjs-fullscreen).vjs-layout-x-small .vjs-chapters-button,.video-js:not(.vjs-fullscreen).vjs-layout-x-small .vjs-current-time,.video-js:not(.vjs-fullscreen).vjs-layout-x-small .vjs-descriptions-button,.video-js:not(.vjs-fullscreen).vjs-layout-x-small .vjs-duration,.video-js:not(.vjs-fullscreen).vjs-layout-x-small .vjs-playback-rate,.video-js:not(.vjs-fullscreen).vjs-layout-x-small .vjs-remaining-time,.video-js:not(.vjs-fullscreen).vjs-layout-x-small .vjs-subtitles-button,.video-js:not(.vjs-fullscreen).vjs-layout-x-small .vjs-time-divider,.video-js:not(.vjs-fullscreen).vjs-layout-x-small .vjs-volume-control{display:none}.video-js:not(.vjs-fullscreen).vjs-layout-small .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-slider-active,.video-js:not(.vjs-fullscreen).vjs-layout-small .vjs-volume-panel.vjs-volume-panel-horizontal:active,.video-js:not(.vjs-fullscreen).vjs-layout-small .vjs-volume-panel.vjs-volume-panel-horizontal:hover,.video-js:not(.vjs-fullscreen).vjs-layout-tiny .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-slider-active,.video-js:not(.vjs-fullscreen).vjs-layout-tiny .vjs-volume-panel.vjs-volume-panel-horizontal:active,.video-js:not(.vjs-fullscreen).vjs-layout-tiny .vjs-volume-panel.vjs-volume-panel-horizontal:hover,.video-js:not(.vjs-fullscreen).vjs-layout-x-small .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-slider-active,.video-js:not(.vjs-fullscreen).vjs-layout-x-small .vjs-volume-panel.vjs-volume-panel-horizontal:active,.video-js:not(.vjs-fullscreen).vjs-layout-x-small .vjs-volume-panel.vjs-volume-panel-horizontal:hover{width:auto}.video-js:not(.vjs-fullscreen).vjs-layout-tiny .vjs-subs-caps-button,.video-js:not(.vjs-fullscreen).vjs-layout-x-small:not(.vjs-live) .vjs-subs-caps-button,.video-js:not(.vjs-fullscreen).vjs-layout-x-small:not(.vjs-liveui) .vjs-subs-caps-button{display:none}.video-js:not(.vjs-fullscreen).vjs-layout-tiny .vjs-custom-control-spacer,.video-js:not(.vjs-fullscreen).vjs-layout-x-small.vjs-liveui .vjs-custom-control-spacer{flex:auto;display:block}.video-js:not(.vjs-fullscreen).vjs-layout-tiny.vjs-no-flex .vjs-custom-control-spacer,.video-js:not(.vjs-fullscreen).vjs-layout-x-small.vjs-liveui.vjs-no-flex .vjs-custom-control-spacer{width:auto}.video-js:not(.vjs-fullscreen).vjs-layout-tiny .vjs-progress-control,.video-js:not(.vjs-fullscreen).vjs-layout-x-small.vjs-liveui .vjs-progress-control{display:none}.vjs-modal-dialog.vjs-text-track-settings{background-color:#2b333f;background-color:rgba(43,51,63,.75);color:#fff;height:70%}.vjs-text-track-settings .vjs-modal-dialog-content{display:table}.vjs-text-track-settings .vjs-track-settings-colors,.vjs-text-track-settings .vjs-track-settings-controls,.vjs-text-track-settings .vjs-track-settings-font{display:table-cell}.vjs-text-track-settings .vjs-track-settings-controls{text-align:right;vertical-align:bottom}@supports (display:grid){.vjs-text-track-settings .vjs-modal-dialog-content{display:grid;grid-template-columns:1fr 1fr;grid-template-rows:1fr;padding:20px 24px 0}.vjs-track-settings-controls .vjs-default-button{margin-bottom:20px}.vjs-text-track-settings .vjs-track-settings-controls{grid-column:1/-1}.vjs-layout-small .vjs-text-track-settings .vjs-modal-dialog-content,.vjs-layout-tiny .vjs-text-track-settings .vjs-modal-dialog-content,.vjs-layout-x-small .vjs-text-track-settings .vjs-modal-dialog-content{grid-template-columns:1fr}}.vjs-track-setting>select{margin-right:1em;margin-bottom:.5em}.vjs-text-track-settings fieldset{margin:5px;padding:3px;border:none}.vjs-text-track-settings fieldset span{display:inline-block}.vjs-text-track-settings fieldset span>select{max-width:7.3em}.vjs-text-track-settings legend{color:#fff;margin:0 0 5px}.vjs-text-track-settings .vjs-label{position:absolute;clip:rect(1px 1px 1px 1px);clip:rect(1px,1px,1px,1px);display:block;margin:0 0 5px;padding:0;border:0;height:1px;width:1px;overflow:hidden}.vjs-track-settings-controls button:active,.vjs-track-settings-controls button:focus{outline-style:solid;outline-width:medium;background-image:linear-gradient(0deg,#fff 88%,#73859f)}.vjs-track-settings-controls button:hover{color:rgba(43,51,63,.75)}.vjs-track-settings-controls button{background-color:#fff;background-image:linear-gradient(-180deg,#fff 88%,#73859f);color:#2b333f;cursor:pointer;border-radius:2px}.vjs-track-settings-controls .vjs-default-button{margin-right:1em}@media print{.video-js>:not(.vjs-tech):not(.vjs-poster){visibility:hidden}}.vjs-resize-manager{position:absolute;top:0;left:0;width:100%;height:100%;border:none;z-index:-1000}.js-focus-visible .video-js :focus:not(.focus-visible),.video-js .vjs-menu :focus:not(:focus-visible),.video-js :focus:not(:focus-visible){outline:none;background:none}',""])},"8eWk":function(x,V,o){var d=o("LboF"),g=o("qFNJ");typeof(g=g.__esModule?g.default:g)=="string"&&(g=[[x.i,g,""]]);var v={insert:"head",singleton:!1};d(g,v),x.exports=g.locals||{}},"8oxB":function(x,V){var o,d,g=x.exports={};function v(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}function c(b){if(o===setTimeout)return setTimeout(b,0);if((o===v||!o)&&setTimeout)return o=setTimeout,setTimeout(b,0);try{return o(b,0)}catch(E){try{return o.call(null,b,0)}catch(A){return o.call(this,b,0)}}}(function(){try{o=typeof setTimeout=="function"?setTimeout:v}catch(b){o=v}try{d=typeof clearTimeout=="function"?clearTimeout:u}catch(b){d=u}})();var p,l=[],_=!1,T=-1;function k(){_&&p&&(_=!1,p.length?l=p.concat(l):T=-1,l.length&&S())}function S(){if(!_){var b=c(k);_=!0;for(var E=l.length;E;){for(p=l,l=[];++T<E;)p&&p[T].run();T=-1,E=l.length}p=null,_=!1,function(A){if(d===clearTimeout)return clearTimeout(A);if((d===u||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(A);try{d(A)}catch(P){try{return d.call(null,A)}catch(z){return d.call(this,A)}}}(b)}}function w(b,E){this.fun=b,this.array=E}function C(){}g.nextTick=function(b){var E=new Array(arguments.length-1);if(arguments.length>1)for(var A=1;A<arguments.length;A++)E[A-1]=arguments[A];l.push(new w(b,E)),l.length!==1||_||c(S)},w.prototype.run=function(){this.fun.apply(null,this.array)},g.title="browser",g.browser=!0,g.env={},g.argv=[],g.version="",g.versions={},g.on=C,g.addListener=C,g.once=C,g.off=C,g.removeListener=C,g.removeAllListeners=C,g.emit=C,g.prependListener=C,g.prependOnceListener=C,g.listeners=function(b){return[]},g.binding=function(b){throw new Error("process.binding is not supported")},g.cwd=function(){return"/"},g.chdir=function(b){throw new Error("process.chdir is not supported")},g.umask=function(){return 0}},"8wjV":function(x,V,o){for(var d,g=o("k+AJ"),v=o("BxPU"),u=o("Vol4"),c=u("typed_array"),p=u("view"),l=!(!g.ArrayBuffer||!g.DataView),_=l,T=0,k="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");T<9;)(d=g[k[T++]])?(v(d.prototype,c,!0),v(d.prototype,p,!0)):_=!1;x.exports={ABV:l,CONSTR:_,TYPED:c,VIEW:p}},"94c5":function(x,V,o){"use strict";o("5oHw")("small",function(d){return function(){return d(this,"small","","")}})},"9BWX":function(x,V,o){o("Gx54")("Int16",2,function(d){return function(g,v,u){return d(this,g,v,u)}})},"9Yzx":function(x,V,o){"use strict";var d=o("6WDs")(!0);o("1RbY")(String,"String",function(g){this._t=String(g),this._i=0},function(){var g,v=this._t,u=this._i;return u>=v.length?{value:void 0,done:!0}:(g=d(v,u),this._i+=g.length,{value:g,done:!1})})},AK2K:function(x,V,o){"use strict";var d=o("8IOi"),g=o("Y3Md"),v=o("RT9V"),u="startsWith",c="".startsWith;d(d.P+d.F*o("OvvV")(u),"String",{startsWith:function(p){var l=v(this,p,u),_=g(Math.min(arguments.length>1?arguments[1]:void 0,l.length)),T=String(p);return c?c.call(l,T,_):l.slice(_,_+T.length)===T}})},AZ8a:function(x,V,o){var d=o("n+hx");x.exports=function(g,v){if(!d(g))return g;var u,c;if(v&&typeof(u=g.toString)=="function"&&!d(c=u.call(g))||typeof(u=g.valueOf)=="function"&&!d(c=u.call(g))||!v&&typeof(u=g.toString)=="function"&&!d(c=u.call(g)))return c;throw TypeError("Can't convert object to primitive value")}},Agm5:function(x,V,o){"use strict";var d=o("8IOi"),g=o("z/zB")(2);d(d.P+d.F*!o("Vcfr")([].filter,!0),"Array",{filter:function(v){return g(this,v,arguments[1])}})},Au75:function(x,V,o){"use strict";var d=o("LOhj"),g=o("n+hx"),v=o("CdvW"),u=[].slice,c={},p=function(l,_,T){if(!(_ in c)){for(var k=[],S=0;S<_;S++)k[S]="a["+S+"]";c[_]=Function("F,a","return new F("+k.join(",")+")")}return c[_](l,T)};x.exports=Function.bind||function(l){var _=d(this),T=u.call(arguments,1),k=function(){var S=T.concat(u.call(arguments));return this instanceof k?p(_,S.length,S):v(_,S,l)};return g(_.prototype)&&(k.prototype=_.prototype),k}},AvcM:function(x,V,o){o("yU77")&&/./g.flags!="g"&&o("J2HX").f(RegExp.prototype,"flags",{configurable:!0,get:o("ZqwW")})},B28f:function(x,V,o){"use strict";var d=o("138g"),g=o("qHvq"),v=o("/vim");o("ntFk")("search",1,function(u,c,p,l){return[function(_){var T=u(this),k=_==null?void 0:_[c];return k!==void 0?k.call(_,T):new RegExp(_)[c](String(T))},function(_){var T=l(p,_,this);if(T.done)return T.value;var k=d(_),S=String(this),w=k.lastIndex;g(w,0)||(k.lastIndex=0);var C=v(k,S);return g(k.lastIndex,w)||(k.lastIndex=w),C===null?-1:C.index}]})},BPp8:function(x,V,o){for(var d=o("IdBN"),g=o("Wl3L"),v=o("d+oe"),u=o("k+AJ"),c=o("BxPU"),p=o("wFMk"),l=o("3iRr"),_=l("iterator"),T=l("toStringTag"),k=p.Array,S={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},w=g(S),C=0;C<w.length;C++){var b,E=w[C],A=S[E],P=u[E],z=P&&P.prototype;if(z&&(z[_]||c(z,_,k),z[T]||c(z,T,E),p[E]=k,A))for(b in d)z[b]||v(z,b,d[b],!0)}},BjUW:function(x,V,o){var d=o("n+hx");o("CmYC")("isFrozen",function(g){return function(v){return!d(v)||!!g&&g(v)}})},Bmui:function(x,V,o){var d=o("8IOi");d(d.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},BuMk:function(x,V,o){o("Gx54")("Int32",4,function(d){return function(g,v,u){return d(this,g,v,u)}})},BxPU:function(x,V,o){var d=o("J2HX"),g=o("+zL4");x.exports=o("yU77")?function(v,u,c){return d.f(v,u,g(1,c))}:function(v,u,c){return v[u]=c,v}},C2di:function(x,V,o){"use strict";var d=o("8IOi"),g=o("aI2V"),v=o("Y3Md"),u=o("N6L2"),c=o("ZqwW"),p=RegExp.prototype,l=function(_,T){this._r=_,this._s=T};o("atpN")(l,"RegExp String",function(){var _=this._r.exec(this._s);return{value:_,done:_===null}}),d(d.P,"String",{matchAll:function(_){if(g(this),!u(_))throw TypeError(_+" is not a regexp!");var T=String(this),k="flags"in p?String(_.flags):c.call(_),S=new RegExp(_.source,~k.indexOf("g")?k:"g"+k);return S.lastIndex=v(_.lastIndex),new l(S,T)}})},C6Ke:function(x,V,o){"use strict";var d=o("Qu5u"),g=o("b8c2"),v=o("Y3Md");x.exports=function(u){for(var c=d(this),p=v(c.length),l=arguments.length,_=g(l>1?arguments[1]:void 0,p),T=l>2?arguments[2]:void 0,k=T===void 0?p:g(T,p);k>_;)c[_++]=u;return c}},C74u:function(x,V,o){"use strict";var d=o("138g"),g=o("Qu5u"),v=o("Y3Md"),u=o("m29h"),c=o("aXKq"),p=o("/vim"),l=Math.max,_=Math.min,T=Math.floor,k=/\$([$&`']|\d\d?|<[^>]*>)/g,S=/\$([$&`']|\d\d?)/g;o("ntFk")("replace",2,function(w,C,b,E){return[function(P,z){var B=w(this),H=P==null?void 0:P[C];return H!==void 0?H.call(P,B,z):b.call(String(B),P,z)},function(P,z){var B=E(b,P,this,z);if(B.done)return B.value;var H=d(P),K=String(this),Q=typeof z=="function";Q||(z=String(z));var ct=H.global;if(ct){var mt=H.unicode;H.lastIndex=0}for(var It=[];;){var Dt=p(H,K);if(Dt===null||(It.push(Dt),!ct))break;String(Dt[0])===""&&(H.lastIndex=c(K,v(H.lastIndex),mt))}for(var Wt,Zt="",Rt=0,qt=0;qt<It.length;qt++){Dt=It[qt];for(var ae=String(Dt[0]),Ut=l(_(u(Dt.index),K.length),0),U=[],ot=1;ot<Dt.length;ot++)U.push((Wt=Dt[ot])===void 0?Wt:String(Wt));var lt=Dt.groups;if(Q){var gt=[ae].concat(U,Ut,K);lt!==void 0&&gt.push(lt);var Lt=String(z.apply(void 0,gt))}else Lt=A(ae,K,Ut,U,lt,z);Ut>=Rt&&(Zt+=K.slice(Rt,Ut)+Lt,Rt=Ut+ae.length)}return Zt+K.slice(Rt)}];function A(P,z,B,H,K,Q){var ct=B+P.length,mt=H.length,It=S;return K!==void 0&&(K=g(K),It=k),b.call(Q,It,function(Dt,Wt){var Zt;switch(Wt.charAt(0)){case"$":return"$";case"&":return P;case"`":return z.slice(0,B);case"'":return z.slice(ct);case"<":Zt=K[Wt.slice(1,-1)];break;default:var Rt=+Wt;if(Rt===0)return Dt;if(Rt>mt){var qt=T(Rt/10);return qt===0?Dt:qt<=mt?H[qt-1]===void 0?Wt.charAt(1):H[qt-1]+Wt.charAt(1):Dt}Zt=H[Rt-1]}return Zt===void 0?"":Zt})}})},CCGS:function(x,V,o){"use strict";var d=o("8IOi"),g=o("LOhj"),v=o("Qu5u"),u=o("+TcE"),c=[].sort,p=[1,2,3];d(d.P+d.F*(u(function(){p.sort(void 0)})||!u(function(){p.sort(null)})||!o("Vcfr")(c)),"Array",{sort:function(l){return l===void 0?c.call(v(this)):c.call(v(this),g(l))}})},CEB3:function(x,V,o){o("Gx54")("Uint32",4,function(d){return function(g,v,u){return d(this,g,v,u)}})},CFo0:function(x,V,o){var d=o("8IOi");d(d.S,"Math",{clamp:function(g,v,u){return Math.min(u,Math.max(v,g))}})},CL8V:function(x,V,o){"use strict";o("5oHw")("link",function(d){return function(g){return d(this,"a","href",g)}})},CdvW:function(x,V){x.exports=function(o,d,g){var v=g===void 0;switch(d.length){case 0:return v?o():o.call(g);case 1:return v?o(d[0]):o.call(g,d[0]);case 2:return v?o(d[0],d[1]):o.call(g,d[0],d[1]);case 3:return v?o(d[0],d[1],d[2]):o.call(g,d[0],d[1],d[2]);case 4:return v?o(d[0],d[1],d[2],d[3]):o.call(g,d[0],d[1],d[2],d[3])}return o.apply(g,d)}},CkjT:function(x,V,o){var d=o("gyzL");x.exports=function(g,v){return new(d(g))(v)}},CmYC:function(x,V,o){var d=o("8IOi"),g=o("CuJi"),v=o("+TcE");x.exports=function(u,c){var p=(g.Object||{})[u]||Object[u],l={};l[u]=c(p),d(d.S+d.F*v(function(){p(1)}),"Object",l)}},CuJi:function(x,V){var o=x.exports={version:"2.6.5"};typeof __e=="number"&&(__e=o)},DbUx:function(x,V,o){var d=o("8IOi"),g=o("k+AJ").isFinite;d(d.S,"Number",{isFinite:function(v){return typeof v=="number"&&g(v)}})},DwDk:function(x,V,o){var d=o("8IOi");d(d.S,"Math",{iaddh:function(g,v,u,c){var p=g>>>0,l=u>>>0;return(v>>>0)+(c>>>0)+((p&l|(p|l)&~(p+l>>>0))>>>31)|0}})},EN0g:function(x,V){V.f=Object.getOwnPropertySymbols},EUev:function(x,V,o){var d=o("138g"),g=o("LOhj"),v=o("3iRr")("species");x.exports=function(u,c){var p,l=d(u).constructor;return l===void 0||(p=d(l)[v])==null?c:g(p)}},EdrQ:function(x,V,o){var d=o("8IOi"),g=Math.imul;d(d.S+d.F*o("+TcE")(function(){return g(4294967295,5)!=-5||g.length!=2}),"Math",{imul:function(v,u){var c=65535,p=+v,l=+u,_=c&p,T=c&l;return 0|_*T+((c&p>>>16)*T+_*(c&l>>>16)<<16>>>0)}})},"EeL+":function(x,V,o){var d=o("n+hx"),g=o("R1kZ").set;x.exports=function(v,u,c){var p,l=u.constructor;return l!==c&&typeof l=="function"&&(p=l.prototype)!==c.prototype&&d(p)&&g&&g(v,p),v}},EpbX:function(x,V,o){var d=o("8IOi");d(d.S,"Math",{log10:function(g){return Math.log(g)*Math.LOG10E}})},FMkX:function(x,V,o){"use strict";var d=o("8IOi"),g=o("k+AJ"),v=o("CuJi"),u=o("vejK")(),c=o("3iRr")("observable"),p=o("LOhj"),l=o("138g"),_=o("kopD"),T=o("xmgo"),k=o("BxPU"),S=o("j8TA"),w=S.RETURN,C=function(H){return H==null?void 0:p(H)},b=function(H){var K=H._c;K&&(H._c=void 0,K())},E=function(H){return H._o===void 0},A=function(H){E(H)||(H._o=void 0,b(H))},P=function(H,K){l(H),this._c=void 0,this._o=H,H=new z(this);try{var Q=K(H),ct=Q;Q!=null&&(typeof Q.unsubscribe=="function"?Q=function(){ct.unsubscribe()}:p(Q),this._c=Q)}catch(mt){return void H.error(mt)}E(this)&&b(this)};P.prototype=T({},{unsubscribe:function(){A(this)}});var z=function(H){this._s=H};z.prototype=T({},{next:function(H){var K=this._s;if(!E(K)){var Q=K._o;try{var ct=C(Q.next);if(ct)return ct.call(Q,H)}catch(mt){try{A(K)}finally{throw mt}}}},error:function(H){var K=this._s;if(E(K))throw H;var Q=K._o;K._o=void 0;try{var ct=C(Q.error);if(!ct)throw H;H=ct.call(Q,H)}catch(mt){try{b(K)}finally{throw mt}}return b(K),H},complete:function(H){var K=this._s;if(!E(K)){var Q=K._o;K._o=void 0;try{var ct=C(Q.complete);H=ct?ct.call(Q,H):void 0}catch(mt){try{b(K)}finally{throw mt}}return b(K),H}}});var B=function(H){_(this,B,"Observable","_f")._f=p(H)};T(B.prototype,{subscribe:function(H){return new P(H,this._f)},forEach:function(H){var K=this;return new(v.Promise||g.Promise)(function(Q,ct){p(H);var mt=K.subscribe({next:function(It){try{return H(It)}catch(Dt){ct(Dt),mt.unsubscribe()}},error:ct,complete:Q})})}}),T(B,{from:function(H){var K=typeof this=="function"?this:B,Q=C(l(H)[c]);if(Q){var ct=l(Q.call(H));return ct.constructor===K?ct:new K(function(mt){return ct.subscribe(mt)})}return new K(function(mt){var It=!1;return u(function(){if(!It){try{if(S(H,!1,function(Dt){if(mt.next(Dt),It)return w})===w)return}catch(Dt){if(It)throw Dt;return void mt.error(Dt)}mt.complete()}}),function(){It=!0}})},of:function(){for(var H=0,K=arguments.length,Q=new Array(K);H<K;)Q[H]=arguments[H++];return new(typeof this=="function"?this:B)(function(ct){var mt=!1;return u(function(){if(!mt){for(var It=0;It<Q.length;++It)if(ct.next(Q[It]),mt)return;ct.complete()}}),function(){mt=!0}})}}),k(B.prototype,c,function(){return this}),d(d.G,{Observable:B}),o("Oi8Z")("Observable")},FeNi:function(x,V,o){var d=o("HGrt"),g=o("138g"),v=d.has,u=d.key;d.exp({hasOwnMetadata:function(c,p){return v(c,g(p),arguments.length<3?void 0:u(arguments[2]))}})},Fnpj:function(x,V,o){o("+Uj0")("Set")},G1Bn:function(x,V,o){var d=o("8IOi");d(d.S,"Math",{trunc:function(g){return(g>0?Math.floor:Math.ceil)(g)}})},G966:function(x,V,o){"use strict";var d=o("q27k"),g=o("eYp2"),v="Map";x.exports=o("0WhE")(v,function(u){return function(){return u(this,arguments.length>0?arguments[0]:void 0)}},{get:function(u){var c=d.getEntry(g(this,v),u);return c&&c.v},set:function(u,c){return d.def(g(this,v),u===0?0:u,c)}},d,!0)},GPGB:function(x,V,o){var d=o("8IOi"),g=o("hTk/");d(d.S+d.F*(Number.parseFloat!=g),"Number",{parseFloat:g})},GvTA:function(x,V,o){var d=o("Y3Md"),g=o("YBJj"),v=o("aI2V");x.exports=function(u,c,p,l){var _=String(v(u)),T=_.length,k=p===void 0?" ":String(p),S=d(c);if(S<=T||k=="")return _;var w=S-T,C=g.call(k,Math.ceil(w/k.length));return C.length>w&&(C=C.slice(0,w)),l?C+_:_+C}},Gx54:function(x,V,o){"use strict";if(o("yU77")){var d=o("zuiL"),g=o("k+AJ"),v=o("+TcE"),u=o("8IOi"),c=o("8wjV"),p=o("t5lg"),l=o("kRpC"),_=o("kopD"),T=o("+zL4"),k=o("BxPU"),S=o("xmgo"),w=o("m29h"),C=o("Y3Md"),b=o("U9MG"),E=o("b8c2"),A=o("AZ8a"),P=o("L7KE"),z=o("UVVG"),B=o("n+hx"),H=o("Qu5u"),K=o("x4ZG"),Q=o("ZiEV"),ct=o("7WAm"),mt=o("27JW").f,It=o("o3v7"),Dt=o("Vol4"),Wt=o("3iRr"),Zt=o("z/zB"),Rt=o("J8Qq"),qt=o("EUev"),ae=o("IdBN"),Ut=o("wFMk"),U=o("6+im"),ot=o("Oi8Z"),lt=o("C6Ke"),gt=o("+UUX"),Lt=o("J2HX"),vt=o("jYdD"),ht=Lt.f,pt=vt.f,Bt=g.RangeError,Ot=g.TypeError,zt=g.Uint8Array,se="ArrayBuffer",Oe="SharedArrayBuffer",le="BYTES_PER_ELEMENT",Qt=Array.prototype,Ke=p.ArrayBuffer,Ee=p.DataView,Je=Zt(0),Te=Zt(2),zn=Zt(3),te=Zt(4),Se=Zt(5),ve=Zt(6),ce=Rt(!0),Be=Rt(!1),on=ae.values,vn=ae.keys,Sn=ae.entries,En=Qt.lastIndexOf,sr=Qt.reduce,In=Qt.reduceRight,ni=Qt.join,tr=Qt.sort,ri=Qt.slice,ii=Qt.toString,Mi=Qt.toLocaleString,br=Wt("iterator"),ya=Wt("toStringTag"),qr=Dt("typed_constructor"),Ar=Dt("def_constructor"),Jn=c.CONSTR,ai=c.TYPED,hi=c.VIEW,Si="Wrong length!",Ra=Zt(1,function(re,Le){return pi(qt(re,re[Ar]),Le)}),Tr=v(function(){return new zt(new Uint16Array([1]).buffer)[0]===1}),Ui=!!zt&&!!zt.prototype.set&&v(function(){new zt(1).set({})}),Sr=function(re,Le){var Qe=w(re);if(Qe<0||Qe%Le)throw Bt("Wrong offset!");return Qe},jn=function(re){if(B(re)&&ai in re)return re;throw Ot(re+" is not a typed array!")},pi=function(re,Le){if(!B(re)||!(qr in re))throw Ot("It is not a typed array constructor!");return new re(Le)},Bi=function(re,Le){return Dr(qt(re,re[Ar]),Le)},Dr=function(re,Le){for(var Qe=0,nr=Le.length,cn=pi(re,nr);nr>Qe;)cn[Qe]=Le[Qe++];return cn},wr=function(re,Le,Qe){ht(re,Le,{get:function(){return this._d[Qe]}})},Ni=function(re){var Le,Qe,nr,cn,$r,Ei,qe=H(re),jr=arguments.length,Ci=jr>1?arguments[1]:void 0,oi=Ci!==void 0,si=It(qe);if(si!=null&&!K(si)){for(Ei=si.call(qe),nr=[],Le=0;!($r=Ei.next()).done;Le++)nr.push($r.value);qe=nr}for(oi&&jr>2&&(Ci=l(Ci,arguments[2],2)),Le=0,Qe=C(qe.length),cn=pi(this,Qe);Qe>Le;Le++)cn[Le]=oi?Ci(qe[Le],Le):qe[Le];return cn},Et=function(){for(var re=0,Le=arguments.length,Qe=pi(this,Le);Le>re;)Qe[re]=arguments[re++];return Qe},Fi=!!zt&&v(function(){Mi.call(new zt(1))}),na=function(){return Mi.apply(Fi?ri.call(jn(this)):jn(this),arguments)},mi={copyWithin:function(re,Le){return gt.call(jn(this),re,Le,arguments.length>2?arguments[2]:void 0)},every:function(re){return te(jn(this),re,arguments.length>1?arguments[1]:void 0)},fill:function(re){return lt.apply(jn(this),arguments)},filter:function(re){return Bi(this,Te(jn(this),re,arguments.length>1?arguments[1]:void 0))},find:function(re){return Se(jn(this),re,arguments.length>1?arguments[1]:void 0)},findIndex:function(re){return ve(jn(this),re,arguments.length>1?arguments[1]:void 0)},forEach:function(re){Je(jn(this),re,arguments.length>1?arguments[1]:void 0)},indexOf:function(re){return Be(jn(this),re,arguments.length>1?arguments[1]:void 0)},includes:function(re){return ce(jn(this),re,arguments.length>1?arguments[1]:void 0)},join:function(re){return ni.apply(jn(this),arguments)},lastIndexOf:function(re){return En.apply(jn(this),arguments)},map:function(re){return Ra(jn(this),re,arguments.length>1?arguments[1]:void 0)},reduce:function(re){return sr.apply(jn(this),arguments)},reduceRight:function(re){return In.apply(jn(this),arguments)},reverse:function(){for(var re,Le=this,Qe=jn(Le).length,nr=Math.floor(Qe/2),cn=0;cn<nr;)re=Le[cn],Le[cn++]=Le[--Qe],Le[Qe]=re;return Le},some:function(re){return zn(jn(this),re,arguments.length>1?arguments[1]:void 0)},sort:function(re){return tr.call(jn(this),re)},subarray:function(re,Le){var Qe=jn(this),nr=Qe.length,cn=E(re,nr);return new(qt(Qe,Qe[Ar]))(Qe.buffer,Qe.byteOffset+cn*Qe.BYTES_PER_ELEMENT,C((Le===void 0?nr:E(Le,nr))-cn))}},wi=function(re,Le){return Bi(this,ri.call(jn(this),re,Le))},Vi=function(re){jn(this);var Le=Sr(arguments[1],1),Qe=this.length,nr=H(re),cn=C(nr.length),$r=0;if(cn+Le>Qe)throw Bt(Si);for(;$r<cn;)this[Le+$r]=nr[$r++]},ki={entries:function(){return Sn.call(jn(this))},keys:function(){return vn.call(jn(this))},values:function(){return on.call(jn(this))}},vi=function(re,Le){return B(re)&&re[ai]&&typeof Le!="symbol"&&Le in re&&String(+Le)==String(Le)},Hi=function(re,Le){return vi(re,Le=A(Le,!0))?T(2,re[Le]):pt(re,Le)},Wn=function(re,Le,Qe){return!(vi(re,Le=A(Le,!0))&&B(Qe)&&P(Qe,"value"))||P(Qe,"get")||P(Qe,"set")||Qe.configurable||P(Qe,"writable")&&!Qe.writable||P(Qe,"enumerable")&&!Qe.enumerable?ht(re,Le,Qe):(re[Le]=Qe.value,re)};Jn||(vt.f=Hi,Lt.f=Wn),u(u.S+u.F*!Jn,"Object",{getOwnPropertyDescriptor:Hi,defineProperty:Wn}),v(function(){ii.call({})})&&(ii=Mi=function(){return ni.call(this)});var Nr=S({},mi);S(Nr,ki),k(Nr,br,ki.values),S(Nr,{slice:wi,set:Vi,constructor:function(){},toString:ii,toLocaleString:na}),wr(Nr,"buffer","b"),wr(Nr,"byteOffset","o"),wr(Nr,"byteLength","l"),wr(Nr,"length","e"),ht(Nr,ya,{get:function(){return this[ai]}}),x.exports=function(re,Le,Qe,nr){var cn=re+((nr=!!nr)?"Clamped":"")+"Array",$r="get"+re,Ei="set"+re,qe=g[cn],jr=qe||{},Ci=qe&&ct(qe),oi=!qe||!c.ABV,si={},vr=qe&&qe.prototype,Ai=function(Kt,he){ht(Kt,he,{get:function(){return function(pe,Re){var Ne=pe._d;return Ne.v[$r](Re*Le+Ne.o,Tr)}(this,he)},set:function(pe){return function(Re,Ne,rn){var Xe=Re._d;nr&&(rn=(rn=Math.round(rn))<0?0:rn>255?255:255&rn),Xe.v[Ei](Ne*Le+Xe.o,rn,Tr)}(this,he,pe)},enumerable:!0})};oi?(qe=Qe(function(Kt,he,pe,Re){_(Kt,qe,cn,"_d");var Ne,rn,Xe,ir,gr=0,ur=0;if(B(he)){if(!(he instanceof Ke||(ir=z(he))==se||ir==Oe))return ai in he?Dr(qe,he):Ni.call(qe,he);Ne=he,ur=Sr(pe,Le);var kr=he.byteLength;if(Re===void 0){if(kr%Le||(rn=kr-ur)<0)throw Bt(Si)}else if((rn=C(Re)*Le)+ur>kr)throw Bt(Si);Xe=rn/Le}else Xe=b(he),Ne=new Ke(rn=Xe*Le);for(k(Kt,"_d",{b:Ne,o:ur,l:rn,e:Xe,v:new Ee(Ne)});gr<Xe;)Ai(Kt,gr++)}),vr=qe.prototype=Q(Nr),k(vr,"constructor",qe)):v(function(){qe(1)})&&v(function(){new qe(-1)})&&U(function(Kt){new qe,new qe(null),new qe(1.5),new qe(Kt)},!0)||(qe=Qe(function(Kt,he,pe,Re){var Ne;return _(Kt,qe,cn),B(he)?he instanceof Ke||(Ne=z(he))==se||Ne==Oe?Re!==void 0?new jr(he,Sr(pe,Le),Re):pe!==void 0?new jr(he,Sr(pe,Le)):new jr(he):ai in he?Dr(qe,he):Ni.call(qe,he):new jr(b(he))}),Je(Ci!==Function.prototype?mt(jr).concat(mt(Ci)):mt(jr),function(Kt){Kt in qe||k(qe,Kt,jr[Kt])}),qe.prototype=vr,d||(vr.constructor=qe));var jt=vr[br],$t=!!jt&&(jt.name=="values"||jt.name==null),Xt=ki.values;k(qe,qr,!0),k(vr,ai,cn),k(vr,hi,!0),k(vr,Ar,qe),(nr?new qe(1)[ya]==cn:ya in vr)||ht(vr,ya,{get:function(){return cn}}),si[cn]=qe,u(u.G+u.W+u.F*(qe!=jr),si),u(u.S,cn,{BYTES_PER_ELEMENT:Le}),u(u.S+u.F*v(function(){jr.of.call(qe,1)}),cn,{from:Ni,of:Et}),le in vr||k(vr,le,Le),u(u.P,cn,mi),ot(cn),u(u.P+u.F*Ui,cn,{set:Vi}),u(u.P+u.F*!$t,cn,ki),d||vr.toString==ii||(vr.toString=ii),u(u.P+u.F*v(function(){new qe(1).slice()}),cn,{slice:wi}),u(u.P+u.F*(v(function(){return[1,2].toLocaleString()!=new qe([1,2]).toLocaleString()})||!v(function(){vr.toLocaleString.call([1,2])})),cn,{toLocaleString:na}),Ut[cn]=$t?jt:Xt,d||$t||k(vr,br,Xt)}}else x.exports=function(){}},GxgO:function(x,V,o){"use strict";var d=o("8IOi"),g=o("138g"),v=function(u){this._t=g(u),this._i=0;var c,p=this._k=[];for(c in u)p.push(c)};o("atpN")(v,"Object",function(){var u,c=this,p=c._k;do if(c._i>=p.length)return{value:void 0,done:!0};while(!((u=p[c._i++])in c._t));return{value:u,done:!1}}),d(d.S,"Reflect",{enumerate:function(u){return new v(u)}})},"H/b1":function(x,V,o){var d=o("UVVG"),g=o("t2DD");x.exports=function(v){return function(){if(d(this)!=v)throw TypeError(v+"#toJSON isn't generic");return g(this)}}},HC2Y:function(x,V){var o={}.toString;x.exports=function(d){return o.call(d).slice(8,-1)}},HGrt:function(x,V,o){var d=o("G966"),g=o("8IOi"),v=o("3oW4")("metadata"),u=v.store||(v.store=new(o("lLv2"))),c=function(p,l,_){var T=u.get(p);if(!T){if(!_)return;u.set(p,T=new d)}var k=T.get(l);if(!k){if(!_)return;T.set(l,k=new d)}return k};x.exports={store:u,map:c,has:function(p,l,_){var T=c(l,_,!1);return T!==void 0&&T.has(p)},get:function(p,l,_){var T=c(l,_,!1);return T===void 0?void 0:T.get(p)},set:function(p,l,_,T){c(_,T,!0).set(p,l)},keys:function(p,l){var _=c(p,l,!1),T=[];return _&&_.forEach(function(k,S){T.push(S)}),T},key:function(p){return p===void 0||typeof p=="symbol"?p:String(p)},exp:function(p){g(g.S,"Reflect",p)}}},HJwq:function(x,V,o){"use strict";var d=o("8IOi"),g=o("z/zB")(1);d(d.P+d.F*!o("Vcfr")([].map,!0),"Array",{map:function(v){return g(this,v,arguments[1])}})},HLcc:function(x,V,o){var d=o("k+AJ"),g=o("CuJi"),v=o("zuiL"),u=o("pDsQ"),c=o("J2HX").f;x.exports=function(p){var l=g.Symbol||(g.Symbol=v?{}:d.Symbol||{});p.charAt(0)=="_"||p in l||c(l,p,{value:u.f(p)})}},I1BE:function(x,V){x.exports=function(o){var d=[];return d.toString=function(){return this.map(function(g){var v=function(u,c){var p=u[1]||"",l=u[3];if(!l)return p;if(c&&typeof btoa=="function"){var _=(k=l,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(k))))+" */"),T=l.sources.map(function(S){return"/*# sourceURL="+l.sourceRoot+S+" */"});return[p].concat(T).concat([_]).join(`
`)}var k;return[p].join(`
`)}(g,o);return g[2]?"@media "+g[2]+"{"+v+"}":v}).join("")},d.i=function(g,v){typeof g=="string"&&(g=[[null,g,""]]);for(var u={},c=0;c<this.length;c++){var p=this[c][0];typeof p=="number"&&(u[p]=!0)}for(c=0;c<g.length;c++){var l=g[c];typeof l[0]=="number"&&u[l[0]]||(v&&!l[2]?l[2]=v:v&&(l[2]="("+l[2]+") and ("+v+")"),d.push(l))}},d}},IC4T:function(x,V,o){var d=o("8IOi");d(d.S,"Math",{sign:o("e8l7")})},IGqx:function(x,V,o){"use strict";o("5oHw")("blink",function(d){return function(){return d(this,"blink","","")}})},INkZ:function(x,V,o){"use strict";(function(d,g){var v=Object.freeze({});function u(h){return h==null}function c(h){return h!=null}function p(h){return h===!0}function l(h){return typeof h=="string"||typeof h=="number"||typeof h=="symbol"||typeof h=="boolean"}function _(h){return h!==null&&typeof h=="object"}var T=Object.prototype.toString;function k(h){return T.call(h)==="[object Object]"}function S(h){var O=parseFloat(String(h));return O>=0&&Math.floor(O)===O&&isFinite(h)}function w(h){return c(h)&&typeof h.then=="function"&&typeof h.catch=="function"}function C(h){return h==null?"":Array.isArray(h)||k(h)&&h.toString===T?JSON.stringify(h,null,2):String(h)}function b(h){var O=parseFloat(h);return isNaN(O)?h:O}function E(h,O){for(var L=Object.create(null),M=h.split(","),$=0;$<M.length;$++)L[M[$]]=!0;return O?function(N){return L[N.toLowerCase()]}:function(N){return L[N]}}var A=E("slot,component",!0),P=E("key,ref,slot,slot-scope,is");function z(h,O){if(h.length){var L=h.indexOf(O);if(L>-1)return h.splice(L,1)}}var B=Object.prototype.hasOwnProperty;function H(h,O){return B.call(h,O)}function K(h){var O=Object.create(null);return function(L){return O[L]||(O[L]=h(L))}}var Q=/-(\w)/g,ct=K(function(h){return h.replace(Q,function(O,L){return L?L.toUpperCase():""})}),mt=K(function(h){return h.charAt(0).toUpperCase()+h.slice(1)}),It=/\B([A-Z])/g,Dt=K(function(h){return h.replace(It,"-$1").toLowerCase()}),Wt=Function.prototype.bind?function(h,O){return h.bind(O)}:function(h,O){function L(M){var $=arguments.length;return $?$>1?h.apply(O,arguments):h.call(O,M):h.call(O)}return L._length=h.length,L};function Zt(h,O){O=O||0;for(var L=h.length-O,M=new Array(L);L--;)M[L]=h[L+O];return M}function Rt(h,O){for(var L in O)h[L]=O[L];return h}function qt(h){for(var O={},L=0;L<h.length;L++)h[L]&&Rt(O,h[L]);return O}function ae(h,O,L){}var Ut=function(h,O,L){return!1},U=function(h){return h};function ot(h,O){if(h===O)return!0;var L=_(h),M=_(O);if(!L||!M)return!L&&!M&&String(h)===String(O);try{var $=Array.isArray(h),N=Array.isArray(O);if($&&N)return h.length===O.length&&h.every(function(at,yt){return ot(at,O[yt])});if(h instanceof Date&&O instanceof Date)return h.getTime()===O.getTime();if($||N)return!1;var et=Object.keys(h),it=Object.keys(O);return et.length===it.length&&et.every(function(at){return ot(h[at],O[at])})}catch(at){return!1}}function lt(h,O){for(var L=0;L<h.length;L++)if(ot(h[L],O))return L;return-1}function gt(h){var O=!1;return function(){O||(O=!0,h.apply(this,arguments))}}var Lt="data-server-rendered",vt=["component","directive","filter"],ht=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch"],pt={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:Ut,isReservedAttr:Ut,isUnknownElement:Ut,getTagNamespace:ae,parsePlatformTagName:U,mustUseProp:Ut,async:!0,_lifecycleHooks:ht},Bt=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function Ot(h,O,L,M){Object.defineProperty(h,O,{value:L,enumerable:!!M,writable:!0,configurable:!0})}var zt,se=new RegExp("[^"+Bt.source+".$_\\d]"),Oe="__proto__"in{},le=typeof window!="undefined",Qt=typeof WXEnvironment!="undefined"&&!!WXEnvironment.platform,Ke=Qt&&WXEnvironment.platform.toLowerCase(),Ee=le&&window.navigator.userAgent.toLowerCase(),Je=Ee&&/msie|trident/.test(Ee),Te=Ee&&Ee.indexOf("msie 9.0")>0,zn=Ee&&Ee.indexOf("edge/")>0,te=(Ee&&Ee.indexOf("android"),Ee&&/iphone|ipad|ipod|ios/.test(Ee)||Ke==="ios"),Se=(Ee&&/chrome\/\d+/.test(Ee),Ee&&/phantomjs/.test(Ee),Ee&&Ee.match(/firefox\/(\d+)/)),ve={}.watch,ce=!1;if(le)try{var Be={};Object.defineProperty(Be,"passive",{get:function(){ce=!0}}),window.addEventListener("test-passive",null,Be)}catch(h){}var on=function(){return zt===void 0&&(zt=!le&&!Qt&&d!==void 0&&d.process&&d.process.env.VUE_ENV==="server"),zt},vn=le&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function Sn(h){return typeof h=="function"&&/native code/.test(h.toString())}var En,sr=typeof Symbol!="undefined"&&Sn(Symbol)&&typeof Reflect!="undefined"&&Sn(Reflect.ownKeys);En=typeof Set!="undefined"&&Sn(Set)?Set:function(){function h(){this.set=Object.create(null)}return h.prototype.has=function(O){return this.set[O]===!0},h.prototype.add=function(O){this.set[O]=!0},h.prototype.clear=function(){this.set=Object.create(null)},h}();var In=ae,ni=0,tr=function(){this.id=ni++,this.subs=[]};tr.prototype.addSub=function(h){this.subs.push(h)},tr.prototype.removeSub=function(h){z(this.subs,h)},tr.prototype.depend=function(){tr.target&&tr.target.addDep(this)},tr.prototype.notify=function(){for(var h=this.subs.slice(),O=0,L=h.length;O<L;O++)h[O].update()},tr.target=null;var ri=[];function ii(h){ri.push(h),tr.target=h}function Mi(){ri.pop(),tr.target=ri[ri.length-1]}var br=function(h,O,L,M,$,N,et,it){this.tag=h,this.data=O,this.children=L,this.text=M,this.elm=$,this.ns=void 0,this.context=N,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=O&&O.key,this.componentOptions=et,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=it,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},ya={child:{configurable:!0}};ya.child.get=function(){return this.componentInstance},Object.defineProperties(br.prototype,ya);var qr=function(h){h===void 0&&(h="");var O=new br;return O.text=h,O.isComment=!0,O};function Ar(h){return new br(void 0,void 0,void 0,String(h))}function Jn(h){var O=new br(h.tag,h.data,h.children&&h.children.slice(),h.text,h.elm,h.context,h.componentOptions,h.asyncFactory);return O.ns=h.ns,O.isStatic=h.isStatic,O.key=h.key,O.isComment=h.isComment,O.fnContext=h.fnContext,O.fnOptions=h.fnOptions,O.fnScopeId=h.fnScopeId,O.asyncMeta=h.asyncMeta,O.isCloned=!0,O}var ai=Array.prototype,hi=Object.create(ai);["push","pop","shift","unshift","splice","sort","reverse"].forEach(function(h){var O=ai[h];Ot(hi,h,function(){for(var L=[],M=arguments.length;M--;)L[M]=arguments[M];var $,N=O.apply(this,L),et=this.__ob__;switch(h){case"push":case"unshift":$=L;break;case"splice":$=L.slice(2)}return $&&et.observeArray($),et.dep.notify(),N})});var Si=Object.getOwnPropertyNames(hi),Ra=!0;function Tr(h){Ra=h}var Ui=function(h){var O;this.value=h,this.dep=new tr,this.vmCount=0,Ot(h,"__ob__",this),Array.isArray(h)?(Oe?(O=hi,h.__proto__=O):function(L,M,$){for(var N=0,et=$.length;N<et;N++){var it=$[N];Ot(L,it,M[it])}}(h,hi,Si),this.observeArray(h)):this.walk(h)};function Sr(h,O){var L;if(_(h)&&!(h instanceof br))return H(h,"__ob__")&&h.__ob__ instanceof Ui?L=h.__ob__:Ra&&!on()&&(Array.isArray(h)||k(h))&&Object.isExtensible(h)&&!h._isVue&&(L=new Ui(h)),O&&L&&L.vmCount++,L}function jn(h,O,L,M,$){var N=new tr,et=Object.getOwnPropertyDescriptor(h,O);if(!et||et.configurable!==!1){var it=et&&et.get,at=et&&et.set;it&&!at||arguments.length!==2||(L=h[O]);var yt=!$&&Sr(L);Object.defineProperty(h,O,{enumerable:!0,configurable:!0,get:function(){var Pt=it?it.call(h):L;return tr.target&&(N.depend(),yt&&(yt.dep.depend(),Array.isArray(Pt)&&function wt(Jt){for(var ne=void 0,Yt=0,Vt=Jt.length;Yt<Vt;Yt++)(ne=Jt[Yt])&&ne.__ob__&&ne.__ob__.dep.depend(),Array.isArray(ne)&&wt(ne)}(Pt))),Pt},set:function(Pt){var wt=it?it.call(h):L;Pt===wt||Pt!=Pt&&wt!=wt||it&&!at||(at?at.call(h,Pt):L=Pt,yt=!$&&Sr(Pt),N.notify())}})}}function pi(h,O,L){if(Array.isArray(h)&&S(O))return h.length=Math.max(h.length,O),h.splice(O,1,L),L;if(O in h&&!(O in Object.prototype))return h[O]=L,L;var M=h.__ob__;return h._isVue||M&&M.vmCount?L:M?(jn(M.value,O,L),M.dep.notify(),L):(h[O]=L,L)}function Bi(h,O){if(Array.isArray(h)&&S(O))h.splice(O,1);else{var L=h.__ob__;h._isVue||L&&L.vmCount||H(h,O)&&(delete h[O],L&&L.dep.notify())}}Ui.prototype.walk=function(h){for(var O=Object.keys(h),L=0;L<O.length;L++)jn(h,O[L])},Ui.prototype.observeArray=function(h){for(var O=0,L=h.length;O<L;O++)Sr(h[O])};var Dr=pt.optionMergeStrategies;function wr(h,O){if(!O)return h;for(var L,M,$,N=sr?Reflect.ownKeys(O):Object.keys(O),et=0;et<N.length;et++)(L=N[et])!=="__ob__"&&(M=h[L],$=O[L],H(h,L)?M!==$&&k(M)&&k($)&&wr(M,$):pi(h,L,$));return h}function Ni(h,O,L){return L?function(){var M=typeof O=="function"?O.call(L,L):O,$=typeof h=="function"?h.call(L,L):h;return M?wr(M,$):$}:O?h?function(){return wr(typeof O=="function"?O.call(this,this):O,typeof h=="function"?h.call(this,this):h)}:O:h}function Et(h,O){var L=O?h?h.concat(O):Array.isArray(O)?O:[O]:h;return L&&function(M){for(var $=[],N=0;N<M.length;N++)$.indexOf(M[N])===-1&&$.push(M[N]);return $}(L)}function Fi(h,O,L,M){var $=Object.create(h||null);return O?Rt($,O):$}Dr.data=function(h,O,L){return L?Ni(h,O,L):O&&typeof O!="function"?h:Ni(h,O)},ht.forEach(function(h){Dr[h]=Et}),vt.forEach(function(h){Dr[h+"s"]=Fi}),Dr.watch=function(h,O,L,M){if(h===ve&&(h=void 0),O===ve&&(O=void 0),!O)return Object.create(h||null);if(!h)return O;var $={};for(var N in Rt($,h),O){var et=$[N],it=O[N];et&&!Array.isArray(et)&&(et=[et]),$[N]=et?et.concat(it):Array.isArray(it)?it:[it]}return $},Dr.props=Dr.methods=Dr.inject=Dr.computed=function(h,O,L,M){if(!h)return O;var $=Object.create(null);return Rt($,h),O&&Rt($,O),$},Dr.provide=Ni;var na=function(h,O){return O===void 0?h:O};function mi(h,O,L){if(typeof O=="function"&&(O=O.options),function(at,yt){var Pt=at.props;if(Pt){var wt,Jt,ne={};if(Array.isArray(Pt))for(wt=Pt.length;wt--;)typeof(Jt=Pt[wt])=="string"&&(ne[ct(Jt)]={type:null});else if(k(Pt))for(var Yt in Pt)Jt=Pt[Yt],ne[ct(Yt)]=k(Jt)?Jt:{type:Jt};at.props=ne}}(O),function(at,yt){var Pt=at.inject;if(Pt){var wt=at.inject={};if(Array.isArray(Pt))for(var Jt=0;Jt<Pt.length;Jt++)wt[Pt[Jt]]={from:Pt[Jt]};else if(k(Pt))for(var ne in Pt){var Yt=Pt[ne];wt[ne]=k(Yt)?Rt({from:ne},Yt):{from:Yt}}}}(O),function(at){var yt=at.directives;if(yt)for(var Pt in yt){var wt=yt[Pt];typeof wt=="function"&&(yt[Pt]={bind:wt,update:wt})}}(O),!O._base&&(O.extends&&(h=mi(h,O.extends,L)),O.mixins))for(var M=0,$=O.mixins.length;M<$;M++)h=mi(h,O.mixins[M],L);var N,et={};for(N in h)it(N);for(N in O)H(h,N)||it(N);function it(at){var yt=Dr[at]||na;et[at]=yt(h[at],O[at],L,at)}return et}function wi(h,O,L,M){if(typeof L=="string"){var $=h[O];if(H($,L))return $[L];var N=ct(L);if(H($,N))return $[N];var et=mt(N);return H($,et)?$[et]:$[L]||$[N]||$[et]}}function Vi(h,O,L,M){var $=O[h],N=!H(L,h),et=L[h],it=Hi(Boolean,$.type);if(it>-1){if(N&&!H($,"default"))et=!1;else if(et===""||et===Dt(h)){var at=Hi(String,$.type);(at<0||it<at)&&(et=!0)}}if(et===void 0){et=function(Pt,wt,Jt){if(H(wt,"default")){var ne=wt.default;return Pt&&Pt.$options.propsData&&Pt.$options.propsData[Jt]===void 0&&Pt._props[Jt]!==void 0?Pt._props[Jt]:typeof ne=="function"&&ki(wt.type)!=="Function"?ne.call(Pt):ne}}(M,$,h);var yt=Ra;Tr(!0),Sr(et),Tr(yt)}return et}function ki(h){var O=h&&h.toString().match(/^\s*function (\w+)/);return O?O[1]:""}function vi(h,O){return ki(h)===ki(O)}function Hi(h,O){if(!Array.isArray(O))return vi(O,h)?0:-1;for(var L=0,M=O.length;L<M;L++)if(vi(O[L],h))return L;return-1}function Wn(h,O,L){ii();try{if(O)for(var M=O;M=M.$parent;){var $=M.$options.errorCaptured;if($)for(var N=0;N<$.length;N++)try{if($[N].call(M,h,O,L)===!1)return}catch(et){re(et,M,"errorCaptured hook")}}re(h,O,L)}finally{Mi()}}function Nr(h,O,L,M,$){var N;try{(N=L?h.apply(O,L):h.call(O))&&!N._isVue&&w(N)&&!N._handled&&(N.catch(function(et){return Wn(et,M,$+" (Promise/async)")}),N._handled=!0)}catch(et){Wn(et,M,$)}return N}function re(h,O,L){if(pt.errorHandler)try{return pt.errorHandler.call(null,h,O,L)}catch(M){M!==h&&Le(M,null,"config.errorHandler")}Le(h,O,L)}function Le(h,O,L){if(!le&&!Qt||typeof console=="undefined")throw h;console.error(h)}var Qe,nr=!1,cn=[],$r=!1;function Ei(){$r=!1;var h=cn.slice(0);cn.length=0;for(var O=0;O<h.length;O++)h[O]()}if(typeof Promise!="undefined"&&Sn(Promise)){var qe=Promise.resolve();Qe=function(){qe.then(Ei),te&&setTimeout(ae)},nr=!0}else if(Je||typeof MutationObserver=="undefined"||!Sn(MutationObserver)&&MutationObserver.toString()!=="[object MutationObserverConstructor]")Qe=g!==void 0&&Sn(g)?function(){g(Ei)}:function(){setTimeout(Ei,0)};else{var jr=1,Ci=new MutationObserver(Ei),oi=document.createTextNode(String(jr));Ci.observe(oi,{characterData:!0}),Qe=function(){jr=(jr+1)%2,oi.data=String(jr)},nr=!0}function si(h,O){var L;if(cn.push(function(){if(h)try{h.call(O)}catch(M){Wn(M,O,"nextTick")}else L&&L(O)}),$r||($r=!0,Qe()),!h&&typeof Promise!="undefined")return new Promise(function(M){L=M})}var vr=new En;function Ai(h){(function O(L,M){var $,N,et=Array.isArray(L);if(!(!et&&!_(L)||Object.isFrozen(L)||L instanceof br)){if(L.__ob__){var it=L.__ob__.dep.id;if(M.has(it))return;M.add(it)}if(et)for($=L.length;$--;)O(L[$],M);else for($=(N=Object.keys(L)).length;$--;)O(L[N[$]],M)}})(h,vr),vr.clear()}var jt=K(function(h){var O=h.charAt(0)==="&",L=(h=O?h.slice(1):h).charAt(0)==="~",M=(h=L?h.slice(1):h).charAt(0)==="!";return{name:h=M?h.slice(1):h,once:L,capture:M,passive:O}});function $t(h,O){function L(){var M=arguments,$=L.fns;if(!Array.isArray($))return Nr($,null,arguments,O,"v-on handler");for(var N=$.slice(),et=0;et<N.length;et++)Nr(N[et],null,M,O,"v-on handler")}return L.fns=h,L}function Xt(h,O,L,M,$,N){var et,it,at,yt;for(et in h)it=h[et],at=O[et],yt=jt(et),u(it)||(u(at)?(u(it.fns)&&(it=h[et]=$t(it,N)),p(yt.once)&&(it=h[et]=$(yt.name,it,yt.capture)),L(yt.name,it,yt.capture,yt.passive,yt.params)):it!==at&&(at.fns=it,h[et]=at));for(et in O)u(h[et])&&M((yt=jt(et)).name,O[et],yt.capture)}function Kt(h,O,L){var M;h instanceof br&&(h=h.data.hook||(h.data.hook={}));var $=h[O];function N(){L.apply(this,arguments),z(M.fns,N)}u($)?M=$t([N]):c($.fns)&&p($.merged)?(M=$).fns.push(N):M=$t([$,N]),M.merged=!0,h[O]=M}function he(h,O,L,M,$){if(c(O)){if(H(O,L))return h[L]=O[L],$||delete O[L],!0;if(H(O,M))return h[L]=O[M],$||delete O[M],!0}return!1}function pe(h){return l(h)?[Ar(h)]:Array.isArray(h)?function O(L,M){var $,N,et,it,at=[];for($=0;$<L.length;$++)u(N=L[$])||typeof N=="boolean"||(it=at[et=at.length-1],Array.isArray(N)?N.length>0&&(Re((N=O(N,(M||"")+"_"+$))[0])&&Re(it)&&(at[et]=Ar(it.text+N[0].text),N.shift()),at.push.apply(at,N)):l(N)?Re(it)?at[et]=Ar(it.text+N):N!==""&&at.push(Ar(N)):Re(N)&&Re(it)?at[et]=Ar(it.text+N.text):(p(L._isVList)&&c(N.tag)&&u(N.key)&&c(M)&&(N.key="__vlist"+M+"_"+$+"__"),at.push(N)));return at}(h):void 0}function Re(h){return c(h)&&c(h.text)&&h.isComment===!1}function Ne(h,O){if(h){for(var L=Object.create(null),M=sr?Reflect.ownKeys(h):Object.keys(h),$=0;$<M.length;$++){var N=M[$];if(N!=="__ob__"){for(var et=h[N].from,it=O;it;){if(it._provided&&H(it._provided,et)){L[N]=it._provided[et];break}it=it.$parent}if(!it&&"default"in h[N]){var at=h[N].default;L[N]=typeof at=="function"?at.call(O):at}}}return L}}function rn(h,O){if(!h||!h.length)return{};for(var L={},M=0,$=h.length;M<$;M++){var N=h[M],et=N.data;if(et&&et.attrs&&et.attrs.slot&&delete et.attrs.slot,N.context!==O&&N.fnContext!==O||!et||et.slot==null)(L.default||(L.default=[])).push(N);else{var it=et.slot,at=L[it]||(L[it]=[]);N.tag==="template"?at.push.apply(at,N.children||[]):at.push(N)}}for(var yt in L)L[yt].every(Xe)&&delete L[yt];return L}function Xe(h){return h.isComment&&!h.asyncFactory||h.text===" "}function ir(h,O,L){var M,$=Object.keys(O).length>0,N=h?!!h.$stable:!$,et=h&&h.$key;if(h){if(h._normalized)return h._normalized;if(N&&L&&L!==v&&et===L.$key&&!$&&!L.$hasNormal)return L;for(var it in M={},h)h[it]&&it[0]!=="$"&&(M[it]=gr(O,it,h[it]))}else M={};for(var at in O)at in M||(M[at]=ur(O,at));return h&&Object.isExtensible(h)&&(h._normalized=M),Ot(M,"$stable",N),Ot(M,"$key",et),Ot(M,"$hasNormal",$),M}function gr(h,O,L){var M=function(){var $=arguments.length?L.apply(null,arguments):L({});return($=$&&typeof $=="object"&&!Array.isArray($)?[$]:pe($))&&($.length===0||$.length===1&&$[0].isComment)?void 0:$};return L.proxy&&Object.defineProperty(h,O,{get:M,enumerable:!0,configurable:!0}),M}function ur(h,O){return function(){return h[O]}}function kr(h,O){var L,M,$,N,et;if(Array.isArray(h)||typeof h=="string")for(L=new Array(h.length),M=0,$=h.length;M<$;M++)L[M]=O(h[M],M);else if(typeof h=="number")for(L=new Array(h),M=0;M<h;M++)L[M]=O(M+1,M);else if(_(h))if(sr&&h[Symbol.iterator]){L=[];for(var it=h[Symbol.iterator](),at=it.next();!at.done;)L.push(O(at.value,L.length)),at=it.next()}else for(N=Object.keys(h),L=new Array(N.length),M=0,$=N.length;M<$;M++)et=N[M],L[M]=O(h[et],et,M);return c(L)||(L=[]),L._isVList=!0,L}function hr(h,O,L,M){var $,N=this.$scopedSlots[h];N?(L=L||{},M&&(L=Rt(Rt({},M),L)),$=N(L)||O):$=this.$slots[h]||O;var et=L&&L.slot;return et?this.$createElement("template",{slot:et},$):$}function $o(h){return wi(this.$options,"filters",h)||U}function Ds(h,O){return Array.isArray(h)?h.indexOf(O)===-1:h!==O}function Ms(h,O,L,M,$){var N=pt.keyCodes[O]||L;return $&&M&&!pt.keyCodes[O]?Ds($,M):N?Ds(N,h):M?Dt(M)!==O:void 0}function yr(h,O,L,M,$){if(L&&_(L)){var N;Array.isArray(L)&&(L=qt(L));var et=function(at){if(at==="class"||at==="style"||P(at))N=h;else{var yt=h.attrs&&h.attrs.type;N=M||pt.mustUseProp(O,yt,at)?h.domProps||(h.domProps={}):h.attrs||(h.attrs={})}var Pt=ct(at),wt=Dt(at);Pt in N||wt in N||(N[at]=L[at],$&&((h.on||(h.on={}))["update:"+at]=function(Jt){L[at]=Jt}))};for(var it in L)et(it)}return h}function ge(h,O){var L=this._staticTrees||(this._staticTrees=[]),M=L[h];return M&&!O||Zn(M=L[h]=this.$options.staticRenderFns[h].call(this._renderProxy,null,this),"__static__"+h,!1),M}function Ko(h,O,L){return Zn(h,"__once__"+O+(L?"_"+L:""),!0),h}function Zn(h,O,L){if(Array.isArray(h))for(var M=0;M<h.length;M++)h[M]&&typeof h[M]!="string"&&xl(h[M],O+"_"+M,L);else xl(h,O,L)}function xl(h,O,L){h.isStatic=!0,h.key=O,h.isOnce=L}function zi(h,O){if(O&&k(O)){var L=h.on=h.on?Rt({},h.on):{};for(var M in O){var $=L[M],N=O[M];L[M]=$?[].concat($,N):N}}return h}function Lu(h,O,L,M){O=O||{$stable:!L};for(var $=0;$<h.length;$++){var N=h[$];Array.isArray(N)?Lu(N,O,L):N&&(N.proxy&&(N.fn.proxy=!0),O[N.key]=N.fn)}return M&&(O.$key=M),O}function Pu(h,O){for(var L=0;L<O.length;L+=2){var M=O[L];typeof M=="string"&&M&&(h[O[L]]=O[L+1])}return h}function Ia(h,O){return typeof h=="string"?O+h:h}function ui(h){h._o=Ko,h._n=b,h._s=C,h._l=kr,h._t=hr,h._q=ot,h._i=lt,h._m=ge,h._f=$o,h._k=Ms,h._b=yr,h._v=Ar,h._e=qr,h._u=Lu,h._g=zi,h._d=Pu,h._p=Ia}function Us(h,O,L,M,$){var N,et=this,it=$.options;H(M,"_uid")?(N=Object.create(M))._original=M:(N=M,M=M._original);var at=p(it._compiled),yt=!at;this.data=h,this.props=O,this.children=L,this.parent=M,this.listeners=h.on||v,this.injections=Ne(it.inject,M),this.slots=function(){return et.$slots||ir(h.scopedSlots,et.$slots=rn(L,M)),et.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return ir(h.scopedSlots,this.slots())}}),at&&(this.$options=it,this.$slots=this.slots(),this.$scopedSlots=ir(h.scopedSlots,this.$slots)),it._scopeId?this._c=function(Pt,wt,Jt,ne){var Yt=Jo(N,Pt,wt,Jt,ne,yt);return Yt&&!Array.isArray(Yt)&&(Yt.fnScopeId=it._scopeId,Yt.fnContext=M),Yt}:this._c=function(Pt,wt,Jt,ne){return Jo(N,Pt,wt,Jt,ne,yt)}}function Kn(h,O,L,M,$){var N=Jn(h);return N.fnContext=L,N.fnOptions=M,O.slot&&((N.data||(N.data={})).slot=O.slot),N}function ra(h,O){for(var L in O)h[ct(L)]=O[L]}ui(Us.prototype);var Xo={init:function(h,O){if(h.componentInstance&&!h.componentInstance._isDestroyed&&h.data.keepAlive){var L=h;Xo.prepatch(L,L)}else(h.componentInstance=function(M,$){var N={_isComponent:!0,_parentVnode:M,parent:$},et=M.data.inlineTemplate;return c(et)&&(N.render=et.render,N.staticRenderFns=et.staticRenderFns),new M.componentOptions.Ctor(N)}(h,Gi)).$mount(O?h.elm:void 0,O)},prepatch:function(h,O){var L=O.componentOptions;(function(M,$,N,et,it){var at=et.data.scopedSlots,yt=M.$scopedSlots,Pt=!!(at&&!at.$stable||yt!==v&&!yt.$stable||at&&M.$scopedSlots.$key!==at.$key),wt=!!(it||M.$options._renderChildren||Pt);if(M.$options._parentVnode=et,M.$vnode=et,M._vnode&&(M._vnode.parent=et),M.$options._renderChildren=it,M.$attrs=et.data.attrs||v,M.$listeners=N||v,$&&M.$options.props){Tr(!1);for(var Jt=M._props,ne=M.$options._propKeys||[],Yt=0;Yt<ne.length;Yt++){var Vt=ne[Yt],ye=M.$options.props;Jt[Vt]=Vi(Vt,ye,$,M)}Tr(!0),M.$options.propsData=$}N=N||v;var Ve=M.$options._parentListeners;M.$options._parentListeners=N,Vs(M,N,Ve),wt&&(M.$slots=rn(it,et.context),M.$forceUpdate())})(O.componentInstance=h.componentInstance,L.propsData,L.listeners,O,L.children)},insert:function(h){var O,L=h.context,M=h.componentInstance;M._isMounted||(M._isMounted=!0,Kr(M,"mounted")),h.data.keepAlive&&(L._isMounted?((O=M)._inactive=!1,Ru.push(O)):Hs(M,!0))},destroy:function(h){var O=h.componentInstance;O._isDestroyed||(h.data.keepAlive?function L(M,$){if(!($&&(M._directInactive=!0,Pr(M))||M._inactive)){M._inactive=!0;for(var N=0;N<M.$children.length;N++)L(M.$children[N]);Kr(M,"deactivated")}}(O,!0):O.$destroy())}},Ol=Object.keys(Xo);function Yo(h,O,L,M,$){if(!u(h)){var N=L.$options._base;if(_(h)&&(h=N.extend(h)),typeof h=="function"){var et;if(u(h.cid)&&(h=function(wt,Jt){if(p(wt.error)&&c(wt.errorComp))return wt.errorComp;if(c(wt.resolved))return wt.resolved;var ne=Ma;if(ne&&c(wt.owners)&&wt.owners.indexOf(ne)===-1&&wt.owners.push(ne),p(wt.loading)&&c(wt.loadingComp))return wt.loadingComp;if(ne&&!c(wt.owners)){var Yt=wt.owners=[ne],Vt=!0,ye=null,Ve=null;ne.$on("hook:destroyed",function(){return z(Yt,ne)});var ze=function(gn){for(var Mt=0,Nt=Yt.length;Mt<Nt;Mt++)Yt[Mt].$forceUpdate();gn&&(Yt.length=0,ye!==null&&(clearTimeout(ye),ye=null),Ve!==null&&(clearTimeout(Ve),Ve=null))},Ze=gt(function(gn){wt.resolved=Bs(gn,Jt),Vt?Yt.length=0:ze(!0)}),An=gt(function(gn){c(wt.errorComp)&&(wt.error=!0,ze(!0))}),Pe=wt(Ze,An);return _(Pe)&&(w(Pe)?u(wt.resolved)&&Pe.then(Ze,An):w(Pe.component)&&(Pe.component.then(Ze,An),c(Pe.error)&&(wt.errorComp=Bs(Pe.error,Jt)),c(Pe.loading)&&(wt.loadingComp=Bs(Pe.loading,Jt),Pe.delay===0?wt.loading=!0:ye=setTimeout(function(){ye=null,u(wt.resolved)&&u(wt.error)&&(wt.loading=!0,ze(!1))},Pe.delay||200)),c(Pe.timeout)&&(Ve=setTimeout(function(){Ve=null,u(wt.resolved)&&An(null)},Pe.timeout)))),Vt=!1,wt.loading?wt.loadingComp:wt.resolved}}(et=h,N))===void 0)return function(wt,Jt,ne,Yt,Vt){var ye=qr();return ye.asyncFactory=wt,ye.asyncMeta={data:Jt,context:ne,children:Yt,tag:Vt},ye}(et,O,L,M,$);O=O||{},Ae(h),c(O.model)&&function(wt,Jt){var ne=wt.model&&wt.model.prop||"value",Yt=wt.model&&wt.model.event||"input";(Jt.attrs||(Jt.attrs={}))[ne]=Jt.model.value;var Vt=Jt.on||(Jt.on={}),ye=Vt[Yt],Ve=Jt.model.callback;c(ye)?(Array.isArray(ye)?ye.indexOf(Ve)===-1:ye!==Ve)&&(Vt[Yt]=[Ve].concat(ye)):Vt[Yt]=Ve}(h.options,O);var it=function(wt,Jt,ne){var Yt=Jt.options.props;if(!u(Yt)){var Vt={},ye=wt.attrs,Ve=wt.props;if(c(ye)||c(Ve))for(var ze in Yt){var Ze=Dt(ze);he(Vt,Ve,ze,Ze,!0)||he(Vt,ye,ze,Ze,!1)}return Vt}}(O,h);if(p(h.options.functional))return function(wt,Jt,ne,Yt,Vt){var ye=wt.options,Ve={},ze=ye.props;if(c(ze))for(var Ze in ze)Ve[Ze]=Vi(Ze,ze,Jt||v);else c(ne.attrs)&&ra(Ve,ne.attrs),c(ne.props)&&ra(Ve,ne.props);var An=new Us(ne,Ve,Vt,Yt,wt),Pe=ye.render.call(null,An._c,An);if(Pe instanceof br)return Kn(Pe,ne,An.parent,ye);if(Array.isArray(Pe)){for(var gn=pe(Pe)||[],Mt=new Array(gn.length),Nt=0;Nt<gn.length;Nt++)Mt[Nt]=Kn(gn[Nt],ne,An.parent,ye);return Mt}}(h,it,O,L,M);var at=O.on;if(O.on=O.nativeOn,p(h.options.abstract)){var yt=O.slot;O={},yt&&(O.slot=yt)}(function(wt){for(var Jt=wt.hook||(wt.hook={}),ne=0;ne<Ol.length;ne++){var Yt=Ol[ne],Vt=Jt[Yt],ye=Xo[Yt];Vt===ye||Vt&&Vt._merged||(Jt[Yt]=Vt?Da(ye,Vt):ye)}})(O);var Pt=h.options.name||$;return new br("vue-component-"+h.cid+(Pt?"-"+Pt:""),O,void 0,void 0,void 0,L,{Ctor:h,propsData:it,listeners:at,tag:$,children:M},et)}}}function Da(h,O){var L=function(M,$){h(M,$),O(M,$)};return L._merged=!0,L}function Jo(h,O,L,M,$,N){return(Array.isArray(L)||l(L))&&($=M,M=L,L=void 0),p(N)&&($=2),function(et,it,at,yt,Pt){if(c(at)&&c(at.__ob__)||(c(at)&&c(at.is)&&(it=at.is),!it))return qr();var wt,Jt,ne;return Array.isArray(yt)&&typeof yt[0]=="function"&&((at=at||{}).scopedSlots={default:yt[0]},yt.length=0),Pt===2?yt=pe(yt):Pt===1&&(yt=function(Yt){for(var Vt=0;Vt<Yt.length;Vt++)if(Array.isArray(Yt[Vt]))return Array.prototype.concat.apply([],Yt);return Yt}(yt)),typeof it=="string"?(Jt=et.$vnode&&et.$vnode.ns||pt.getTagNamespace(it),wt=pt.isReservedTag(it)?new br(pt.parsePlatformTagName(it),at,yt,void 0,void 0,et):at&&at.pre||!c(ne=wi(et.$options,"components",it))?new br(it,at,yt,void 0,void 0,et):Yo(ne,at,et,yt,it)):wt=Yo(it,at,et,yt),Array.isArray(wt)?wt:c(wt)?(c(Jt)&&function Yt(Vt,ye,Ve){if(Vt.ns=ye,Vt.tag==="foreignObject"&&(ye=void 0,Ve=!0),c(Vt.children))for(var ze=0,Ze=Vt.children.length;ze<Ze;ze++){var An=Vt.children[ze];c(An.tag)&&(u(An.ns)||p(Ve)&&An.tag!=="svg")&&Yt(An,ye,Ve)}}(wt,Jt),c(at)&&function(Yt){_(Yt.style)&&Ai(Yt.style),_(Yt.class)&&Ai(Yt.class)}(at),wt):qr()}(h,O,L,M,$)}var _a,Ma=null;function Bs(h,O){return(h.__esModule||sr&&h[Symbol.toStringTag]==="Module")&&(h=h.default),_(h)?O.extend(h):h}function Zo(h){return h.isComment&&h.asyncFactory}function So(h){if(Array.isArray(h))for(var O=0;O<h.length;O++){var L=h[O];if(c(L)&&(c(L.componentOptions)||Zo(L)))return L}}function Ll(h,O){_a.$on(h,O)}function Ns(h,O){_a.$off(h,O)}function Fs(h,O){var L=_a;return function M(){O.apply(null,arguments)!==null&&L.$off(h,M)}}function Vs(h,O,L){_a=h,Xt(O,L||{},Ll,Ns,Fs,h),_a=void 0}var Gi=null;function Qo(h){var O=Gi;return Gi=h,function(){Gi=O}}function Pr(h){for(;h&&(h=h.$parent);)if(h._inactive)return!0;return!1}function Hs(h,O){if(O){if(h._directInactive=!1,Pr(h))return}else if(h._directInactive)return;if(h._inactive||h._inactive===null){h._inactive=!1;for(var L=0;L<h.$children.length;L++)Hs(h.$children[L]);Kr(h,"activated")}}function Kr(h,O){ii();var L=h.$options[O],M=O+" hook";if(L)for(var $=0,N=L.length;$<N;$++)Nr(L[$],h,null,h,M);h._hasHookEvent&&h.$emit("hook:"+O),Mi()}var ba=[],Ru=[],sn={},zs=!1,Za=!1,ia=0,wo=0,ts=Date.now;if(le&&!Je){var es=window.performance;es&&typeof es.now=="function"&&ts()>document.createEvent("Event").timeStamp&&(ts=function(){return es.now()})}function Qa(){var h,O;for(wo=ts(),Za=!0,ba.sort(function($,N){return $.id-N.id}),ia=0;ia<ba.length;ia++)(h=ba[ia]).before&&h.before(),O=h.id,sn[O]=null,h.run();var L=Ru.slice(),M=ba.slice();ia=ba.length=Ru.length=0,sn={},zs=Za=!1,function($){for(var N=0;N<$.length;N++)$[N]._inactive=!0,Hs($[N],!0)}(L),function($){for(var N=$.length;N--;){var et=$[N],it=et.vm;it._watcher===et&&it._isMounted&&!it._isDestroyed&&Kr(it,"updated")}}(M),vn&&pt.devtools&&vn.emit("flush")}var ns=0,aa=function(h,O,L,M,$){this.vm=h,$&&(h._watcher=this),h._watchers.push(this),M?(this.deep=!!M.deep,this.user=!!M.user,this.lazy=!!M.lazy,this.sync=!!M.sync,this.before=M.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=L,this.id=++ns,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new En,this.newDepIds=new En,this.expression="",typeof O=="function"?this.getter=O:(this.getter=function(N){if(!se.test(N)){var et=N.split(".");return function(it){for(var at=0;at<et.length;at++){if(!it)return;it=it[et[at]]}return it}}}(O),this.getter||(this.getter=ae)),this.value=this.lazy?void 0:this.get()};aa.prototype.get=function(){var h;ii(this);var O=this.vm;try{h=this.getter.call(O,O)}catch(L){if(!this.user)throw L;Wn(L,O,'getter for watcher "'+this.expression+'"')}finally{this.deep&&Ai(h),Mi(),this.cleanupDeps()}return h},aa.prototype.addDep=function(h){var O=h.id;this.newDepIds.has(O)||(this.newDepIds.add(O),this.newDeps.push(h),this.depIds.has(O)||h.addSub(this))},aa.prototype.cleanupDeps=function(){for(var h=this.deps.length;h--;){var O=this.deps[h];this.newDepIds.has(O.id)||O.removeSub(this)}var L=this.depIds;this.depIds=this.newDepIds,this.newDepIds=L,this.newDepIds.clear(),L=this.deps,this.deps=this.newDeps,this.newDeps=L,this.newDeps.length=0},aa.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():function(h){var O=h.id;if(sn[O]==null){if(sn[O]=!0,Za){for(var L=ba.length-1;L>ia&&ba[L].id>h.id;)L--;ba.splice(L+1,0,h)}else ba.push(h);zs||(zs=!0,si(Qa))}}(this)},aa.prototype.run=function(){if(this.active){var h=this.get();if(h!==this.value||_(h)||this.deep){var O=this.value;if(this.value=h,this.user)try{this.cb.call(this.vm,h,O)}catch(L){Wn(L,this.vm,'callback for watcher "'+this.expression+'"')}else this.cb.call(this.vm,h,O)}}},aa.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},aa.prototype.depend=function(){for(var h=this.deps.length;h--;)this.deps[h].depend()},aa.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||z(this.vm._watchers,this);for(var h=this.deps.length;h--;)this.deps[h].removeSub(this);this.active=!1}};var gi={enumerable:!0,configurable:!0,get:ae,set:ae};function ji(h,O,L){gi.get=function(){return this[O][L]},gi.set=function(M){this[O][L]=M},Object.defineProperty(h,L,gi)}var Pl={lazy:!0};function Sc(h,O,L){var M=!on();typeof L=="function"?(gi.get=M?Gs(O):Gt(L),gi.set=ae):(gi.get=L.get?M&&L.cache!==!1?Gs(O):Gt(L.get):ae,gi.set=L.set||ae),Object.defineProperty(h,O,gi)}function Gs(h){return function(){var O=this._computedWatchers&&this._computedWatchers[h];if(O)return O.dirty&&O.evaluate(),tr.target&&O.depend(),O.value}}function Gt(h){return function(){return h.call(this,this)}}function oe(h,O,L,M){return k(L)&&(M=L,L=L.handler),typeof L=="string"&&(L=h[L]),h.$watch(O,L,M)}var ue=0;function Ae(h){var O=h.options;if(h.super){var L=Ae(h.super);if(L!==h.superOptions){h.superOptions=L;var M=function($){var N,et=$.options,it=$.sealedOptions;for(var at in et)et[at]!==it[at]&&(N||(N={}),N[at]=et[at]);return N}(h);M&&Rt(h.extendOptions,M),(O=h.options=mi(L,h.extendOptions)).name&&(O.components[O.name]=h)}}return O}function Ue(h){this._init(h)}function Bn(h){return h&&(h.Ctor.options.name||h.tag)}function lr(h,O){return Array.isArray(h)?h.indexOf(O)>-1:typeof h=="string"?h.split(",").indexOf(O)>-1:(L=h,T.call(L)==="[object RegExp]"&&h.test(O));var L}function oa(h,O){var L=h.cache,M=h.keys,$=h._vnode;for(var N in L){var et=L[N];if(et){var it=Bn(et.componentOptions);it&&!O(it)&&ar(L,N,M,$)}}}function ar(h,O,L,M){var $=h[O];!$||M&&$.tag===M.tag||$.componentInstance.$destroy(),h[O]=null,z(L,O)}(function(h){h.prototype._init=function(O){var L=this;L._uid=ue++,L._isVue=!0,O&&O._isComponent?function(M,$){var N=M.$options=Object.create(M.constructor.options),et=$._parentVnode;N.parent=$.parent,N._parentVnode=et;var it=et.componentOptions;N.propsData=it.propsData,N._parentListeners=it.listeners,N._renderChildren=it.children,N._componentTag=it.tag,$.render&&(N.render=$.render,N.staticRenderFns=$.staticRenderFns)}(L,O):L.$options=mi(Ae(L.constructor),O||{},L),L._renderProxy=L,L._self=L,function(M){var $=M.$options,N=$.parent;if(N&&!$.abstract){for(;N.$options.abstract&&N.$parent;)N=N.$parent;N.$children.push(M)}M.$parent=N,M.$root=N?N.$root:M,M.$children=[],M.$refs={},M._watcher=null,M._inactive=null,M._directInactive=!1,M._isMounted=!1,M._isDestroyed=!1,M._isBeingDestroyed=!1}(L),function(M){M._events=Object.create(null),M._hasHookEvent=!1;var $=M.$options._parentListeners;$&&Vs(M,$)}(L),function(M){M._vnode=null,M._staticTrees=null;var $=M.$options,N=M.$vnode=$._parentVnode,et=N&&N.context;M.$slots=rn($._renderChildren,et),M.$scopedSlots=v,M._c=function(at,yt,Pt,wt){return Jo(M,at,yt,Pt,wt,!1)},M.$createElement=function(at,yt,Pt,wt){return Jo(M,at,yt,Pt,wt,!0)};var it=N&&N.data;jn(M,"$attrs",it&&it.attrs||v,null,!0),jn(M,"$listeners",$._parentListeners||v,null,!0)}(L),Kr(L,"beforeCreate"),function(M){var $=Ne(M.$options.inject,M);$&&(Tr(!1),Object.keys($).forEach(function(N){jn(M,N,$[N])}),Tr(!0))}(L),function(M){M._watchers=[];var $=M.$options;$.props&&function(N,et){var it=N.$options.propsData||{},at=N._props={},yt=N.$options._propKeys=[];N.$parent&&Tr(!1);var Pt=function(Jt){yt.push(Jt);var ne=Vi(Jt,et,it,N);jn(at,Jt,ne),Jt in N||ji(N,"_props",Jt)};for(var wt in et)Pt(wt);Tr(!0)}(M,$.props),$.methods&&function(N,et){for(var it in N.$options.props,et)N[it]=typeof et[it]!="function"?ae:Wt(et[it],N)}(M,$.methods),$.data?function(N){var et=N.$options.data;k(et=N._data=typeof et=="function"?function(Jt,ne){ii();try{return Jt.call(ne,ne)}catch(Yt){return Wn(Yt,ne,"data()"),{}}finally{Mi()}}(et,N):et||{})||(et={});for(var it,at=Object.keys(et),yt=N.$options.props,Pt=(N.$options.methods,at.length);Pt--;){var wt=at[Pt];yt&&H(yt,wt)||(it=(wt+"").charCodeAt(0))!==36&&it!==95&&ji(N,"_data",wt)}Sr(et,!0)}(M):Sr(M._data={},!0),$.computed&&function(N,et){var it=N._computedWatchers=Object.create(null),at=on();for(var yt in et){var Pt=et[yt],wt=typeof Pt=="function"?Pt:Pt.get;at||(it[yt]=new aa(N,wt||ae,ae,Pl)),yt in N||Sc(N,yt,Pt)}}(M,$.computed),$.watch&&$.watch!==ve&&function(N,et){for(var it in et){var at=et[it];if(Array.isArray(at))for(var yt=0;yt<at.length;yt++)oe(N,it,at[yt]);else oe(N,it,at)}}(M,$.watch)}(L),function(M){var $=M.$options.provide;$&&(M._provided=typeof $=="function"?$.call(M):$)}(L),Kr(L,"created"),L.$options.el&&L.$mount(L.$options.el)}})(Ue),function(h){Object.defineProperty(h.prototype,"$data",{get:function(){return this._data}}),Object.defineProperty(h.prototype,"$props",{get:function(){return this._props}}),h.prototype.$set=pi,h.prototype.$delete=Bi,h.prototype.$watch=function(O,L,M){if(k(L))return oe(this,O,L,M);(M=M||{}).user=!0;var $=new aa(this,O,L,M);if(M.immediate)try{L.call(this,$.value)}catch(N){Wn(N,this,'callback for immediate watcher "'+$.expression+'"')}return function(){$.teardown()}}}(Ue),function(h){var O=/^hook:/;h.prototype.$on=function(L,M){var $=this;if(Array.isArray(L))for(var N=0,et=L.length;N<et;N++)$.$on(L[N],M);else($._events[L]||($._events[L]=[])).push(M),O.test(L)&&($._hasHookEvent=!0);return $},h.prototype.$once=function(L,M){var $=this;function N(){$.$off(L,N),M.apply($,arguments)}return N.fn=M,$.$on(L,N),$},h.prototype.$off=function(L,M){var $=this;if(!arguments.length)return $._events=Object.create(null),$;if(Array.isArray(L)){for(var N=0,et=L.length;N<et;N++)$.$off(L[N],M);return $}var it,at=$._events[L];if(!at)return $;if(!M)return $._events[L]=null,$;for(var yt=at.length;yt--;)if((it=at[yt])===M||it.fn===M){at.splice(yt,1);break}return $},h.prototype.$emit=function(L){var M=this._events[L];if(M){M=M.length>1?Zt(M):M;for(var $=Zt(arguments,1),N='event handler for "'+L+'"',et=0,it=M.length;et<it;et++)Nr(M[et],this,$,this,N)}return this}}(Ue),function(h){h.prototype._update=function(O,L){var M=this,$=M.$el,N=M._vnode,et=Qo(M);M._vnode=O,M.$el=N?M.__patch__(N,O):M.__patch__(M.$el,O,L,!1),et(),$&&($.__vue__=null),M.$el&&(M.$el.__vue__=M),M.$vnode&&M.$parent&&M.$vnode===M.$parent._vnode&&(M.$parent.$el=M.$el)},h.prototype.$forceUpdate=function(){this._watcher&&this._watcher.update()},h.prototype.$destroy=function(){var O=this;if(!O._isBeingDestroyed){Kr(O,"beforeDestroy"),O._isBeingDestroyed=!0;var L=O.$parent;!L||L._isBeingDestroyed||O.$options.abstract||z(L.$children,O),O._watcher&&O._watcher.teardown();for(var M=O._watchers.length;M--;)O._watchers[M].teardown();O._data.__ob__&&O._data.__ob__.vmCount--,O._isDestroyed=!0,O.__patch__(O._vnode,null),Kr(O,"destroyed"),O.$off(),O.$el&&(O.$el.__vue__=null),O.$vnode&&(O.$vnode.parent=null)}}}(Ue),function(h){ui(h.prototype),h.prototype.$nextTick=function(O){return si(O,this)},h.prototype._render=function(){var O,L=this,M=L.$options,$=M.render,N=M._parentVnode;N&&(L.$scopedSlots=ir(N.data.scopedSlots,L.$slots,L.$scopedSlots)),L.$vnode=N;try{Ma=L,O=$.call(L._renderProxy,L.$createElement)}catch(et){Wn(et,L,"render"),O=L._vnode}finally{Ma=null}return Array.isArray(O)&&O.length===1&&(O=O[0]),O instanceof br||(O=qr()),O.parent=N,O}}(Ue);var Iu=[String,RegExp,Array],Rl={KeepAlive:{name:"keep-alive",abstract:!0,props:{include:Iu,exclude:Iu,max:[String,Number]},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var h in this.cache)ar(this.cache,h,this.keys)},mounted:function(){var h=this;this.$watch("include",function(O){oa(h,function(L){return lr(O,L)})}),this.$watch("exclude",function(O){oa(h,function(L){return!lr(O,L)})})},render:function(){var h=this.$slots.default,O=So(h),L=O&&O.componentOptions;if(L){var M=Bn(L),$=this.include,N=this.exclude;if($&&(!M||!lr($,M))||N&&M&&lr(N,M))return O;var et=this.cache,it=this.keys,at=O.key==null?L.Ctor.cid+(L.tag?"::"+L.tag:""):O.key;et[at]?(O.componentInstance=et[at].componentInstance,z(it,at),it.push(at)):(et[at]=O,it.push(at),this.max&&it.length>parseInt(this.max)&&ar(et,it[0],it,this._vnode)),O.data.keepAlive=!0}return O||h&&h[0]}}};(function(h){var O={get:function(){return pt}};Object.defineProperty(h,"config",O),h.util={warn:In,extend:Rt,mergeOptions:mi,defineReactive:jn},h.set=pi,h.delete=Bi,h.nextTick=si,h.observable=function(L){return Sr(L),L},h.options=Object.create(null),vt.forEach(function(L){h.options[L+"s"]=Object.create(null)}),h.options._base=h,Rt(h.options.components,Rl),function(L){L.use=function(M){var $=this._installedPlugins||(this._installedPlugins=[]);if($.indexOf(M)>-1)return this;var N=Zt(arguments,1);return N.unshift(this),typeof M.install=="function"?M.install.apply(M,N):typeof M=="function"&&M.apply(null,N),$.push(M),this}}(h),function(L){L.mixin=function(M){return this.options=mi(this.options,M),this}}(h),function(L){L.cid=0;var M=1;L.extend=function($){$=$||{};var N=this,et=N.cid,it=$._Ctor||($._Ctor={});if(it[et])return it[et];var at=$.name||N.options.name,yt=function(Pt){this._init(Pt)};return(yt.prototype=Object.create(N.prototype)).constructor=yt,yt.cid=M++,yt.options=mi(N.options,$),yt.super=N,yt.options.props&&function(Pt){var wt=Pt.options.props;for(var Jt in wt)ji(Pt.prototype,"_props",Jt)}(yt),yt.options.computed&&function(Pt){var wt=Pt.options.computed;for(var Jt in wt)Sc(Pt.prototype,Jt,wt[Jt])}(yt),yt.extend=N.extend,yt.mixin=N.mixin,yt.use=N.use,vt.forEach(function(Pt){yt[Pt]=N[Pt]}),at&&(yt.options.components[at]=yt),yt.superOptions=N.options,yt.extendOptions=$,yt.sealedOptions=Rt({},yt.options),it[et]=yt,yt}}(h),function(L){vt.forEach(function(M){L[M]=function($,N){return N?(M==="component"&&k(N)&&(N.name=N.name||$,N=this.options._base.extend(N)),M==="directive"&&typeof N=="function"&&(N={bind:N,update:N}),this.options[M+"s"][$]=N,N):this.options[M+"s"][$]}})}(h)})(Ue),Object.defineProperty(Ue.prototype,"$isServer",{get:on}),Object.defineProperty(Ue.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(Ue,"FunctionalRenderContext",{value:Us}),Ue.version="2.6.12";var Wi=E("style,class"),rs=E("input,textarea,option,select,progress"),Il=function(h,O,L){return L==="value"&&rs(h)&&O!=="button"||L==="selected"&&h==="option"||L==="checked"&&h==="input"||L==="muted"&&h==="video"},to=E("contenteditable,draggable,spellcheck"),ko=E("events,caret,typing,plaintext-only"),Ws=E("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible"),Xn="http://www.w3.org/1999/xlink",Du=function(h){return h.charAt(5)===":"&&h.slice(0,5)==="xlink"},Dl=function(h){return Du(h)?h.slice(6,h.length):""},Eo=function(h){return h==null||h===!1};function qs(h,O){return{staticClass:$s(h.staticClass,O.staticClass),class:c(h.class)?[h.class,O.class]:O.class}}function $s(h,O){return h?O?h+" "+O:h:O||""}function Ml(h){return Array.isArray(h)?function(O){for(var L,M="",$=0,N=O.length;$<N;$++)c(L=Ml(O[$]))&&L!==""&&(M&&(M+=" "),M+=L);return M}(h):_(h)?function(O){var L="";for(var M in O)O[M]&&(L&&(L+=" "),L+=M);return L}(h):typeof h=="string"?h:""}var Mu={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},eo=E("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),is=E("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),Ks=function(h){return eo(h)||is(h)};function no(h){return is(h)?"svg":h==="math"?"math":void 0}var Xs=Object.create(null),Uu=E("text,number,password,search,email,tel,url");function as(h){return typeof h=="string"?document.querySelector(h)||document.createElement("div"):h}var wc=Object.freeze({createElement:function(h,O){var L=document.createElement(h);return h!=="select"||O.data&&O.data.attrs&&O.data.attrs.multiple!==void 0&&L.setAttribute("multiple","multiple"),L},createElementNS:function(h,O){return document.createElementNS(Mu[h],O)},createTextNode:function(h){return document.createTextNode(h)},createComment:function(h){return document.createComment(h)},insertBefore:function(h,O,L){h.insertBefore(O,L)},removeChild:function(h,O){h.removeChild(O)},appendChild:function(h,O){h.appendChild(O)},parentNode:function(h){return h.parentNode},nextSibling:function(h){return h.nextSibling},tagName:function(h){return h.tagName},setTextContent:function(h,O){h.textContent=O},setStyleScope:function(h,O){h.setAttribute(O,"")}}),Ys={create:function(h,O){yi(O)},update:function(h,O){h.data.ref!==O.data.ref&&(yi(h,!0),yi(O))},destroy:function(h){yi(h,!0)}};function yi(h,O){var L=h.data.ref;if(c(L)){var M=h.context,$=h.componentInstance||h.elm,N=M.$refs;O?Array.isArray(N[L])?z(N[L],$):N[L]===$&&(N[L]=void 0):h.data.refInFor?Array.isArray(N[L])?N[L].indexOf($)<0&&N[L].push($):N[L]=[$]:N[L]=$}}var sa=new br("",{},[]),Js=["create","activate","update","remove","destroy"];function ro(h,O){return h.key===O.key&&(h.tag===O.tag&&h.isComment===O.isComment&&c(h.data)===c(O.data)&&function(L,M){if(L.tag!=="input")return!0;var $,N=c($=L.data)&&c($=$.attrs)&&$.type,et=c($=M.data)&&c($=$.attrs)&&$.type;return N===et||Uu(N)&&Uu(et)}(h,O)||p(h.isAsyncPlaceholder)&&h.asyncFactory===O.asyncFactory&&u(O.asyncFactory.error))}function kc(h,O,L){var M,$,N={};for(M=O;M<=L;++M)c($=h[M].key)&&(N[$]=M);return N}var Bu={create:qi,update:qi,destroy:function(h){qi(h,sa)}};function qi(h,O){(h.data.directives||O.data.directives)&&function(L,M){var $,N,et,it=L===sa,at=M===sa,yt=Nu(L.data.directives,L.context),Pt=Nu(M.data.directives,M.context),wt=[],Jt=[];for($ in Pt)N=yt[$],et=Pt[$],N?(et.oldValue=N.value,et.oldArg=N.arg,Ba(et,"update",M,L),et.def&&et.def.componentUpdated&&Jt.push(et)):(Ba(et,"bind",M,L),et.def&&et.def.inserted&&wt.push(et));if(wt.length){var ne=function(){for(var Yt=0;Yt<wt.length;Yt++)Ba(wt[Yt],"inserted",M,L)};it?Kt(M,"insert",ne):ne()}if(Jt.length&&Kt(M,"postpatch",function(){for(var Yt=0;Yt<Jt.length;Yt++)Ba(Jt[Yt],"componentUpdated",M,L)}),!it)for($ in yt)Pt[$]||Ba(yt[$],"unbind",L,L,at)}(h,O)}var Ua=Object.create(null);function Nu(h,O){var L,M,$=Object.create(null);if(!h)return $;for(L=0;L<h.length;L++)(M=h[L]).modifiers||(M.modifiers=Ua),$[Fu(M)]=M,M.def=wi(O.$options,"directives",M.name);return $}function Fu(h){return h.rawName||h.name+"."+Object.keys(h.modifiers||{}).join(".")}function Ba(h,O,L,M,$){var N=h.def&&h.def[O];if(N)try{N(L.elm,h,L,M,$)}catch(et){Wn(et,L.context,"directive "+h.name+" "+O+" hook")}}var _r=[Ys,Bu];function Er(h,O){var L=O.componentOptions;if(!(c(L)&&L.Ctor.options.inheritAttrs===!1||u(h.data.attrs)&&u(O.data.attrs))){var M,$,N=O.elm,et=h.data.attrs||{},it=O.data.attrs||{};for(M in c(it.__ob__)&&(it=O.data.attrs=Rt({},it)),it)$=it[M],et[M]!==$&&Fr(N,M,$);for(M in(Je||zn)&&it.value!==et.value&&Fr(N,"value",it.value),et)u(it[M])&&(Du(M)?N.removeAttributeNS(Xn,Dl(M)):to(M)||N.removeAttribute(M))}}function Fr(h,O,L){h.tagName.indexOf("-")>-1?Ec(h,O,L):Ws(O)?Eo(L)?h.removeAttribute(O):(L=O==="allowfullscreen"&&h.tagName==="EMBED"?"true":O,h.setAttribute(O,L)):to(O)?h.setAttribute(O,function(M,$){return Eo($)||$==="false"?"false":M==="contenteditable"&&ko($)?$:"true"}(O,L)):Du(O)?Eo(L)?h.removeAttributeNS(Xn,Dl(O)):h.setAttributeNS(Xn,O,L):Ec(h,O,L)}function Ec(h,O,L){if(Eo(L))h.removeAttribute(O);else{if(Je&&!Te&&h.tagName==="TEXTAREA"&&O==="placeholder"&&L!==""&&!h.__ieph){var M=function($){$.stopImmediatePropagation(),h.removeEventListener("input",M)};h.addEventListener("input",M),h.__ieph=!0}h.setAttribute(O,L)}}var Vu={create:Er,update:Er};function os(h,O){var L=O.elm,M=O.data,$=h.data;if(!(u(M.staticClass)&&u(M.class)&&(u($)||u($.staticClass)&&u($.class)))){var N=function(it){for(var at=it.data,yt=it,Pt=it;c(Pt.componentInstance);)(Pt=Pt.componentInstance._vnode)&&Pt.data&&(at=qs(Pt.data,at));for(;c(yt=yt.parent);)yt&&yt.data&&(at=qs(at,yt.data));return function(wt,Jt){return c(wt)||c(Jt)?$s(wt,Ml(Jt)):""}(at.staticClass,at.class)}(O),et=L._transitionClasses;c(et)&&(N=$s(N,Ml(et))),N!==L._prevClass&&(L.setAttribute("class",N),L._prevClass=N)}}var Ul,Zs,Na,ua,Fa,io,Qs={create:os,update:os},Hu=/[\w).+\-_$\]]/;function Ta(h){var O,L,M,$,N,et=!1,it=!1,at=!1,yt=!1,Pt=0,wt=0,Jt=0,ne=0;for(M=0;M<h.length;M++)if(L=O,O=h.charCodeAt(M),et)O===39&&L!==92&&(et=!1);else if(it)O===34&&L!==92&&(it=!1);else if(at)O===96&&L!==92&&(at=!1);else if(yt)O===47&&L!==92&&(yt=!1);else if(O!==124||h.charCodeAt(M+1)===124||h.charCodeAt(M-1)===124||Pt||wt||Jt){switch(O){case 34:it=!0;break;case 39:et=!0;break;case 96:at=!0;break;case 40:Jt++;break;case 41:Jt--;break;case 91:wt++;break;case 93:wt--;break;case 123:Pt++;break;case 125:Pt--}if(O===47){for(var Yt=M-1,Vt=void 0;Yt>=0&&(Vt=h.charAt(Yt))===" ";Yt--);Vt&&Hu.test(Vt)||(yt=!0)}}else $===void 0?(ne=M+1,$=h.slice(0,M).trim()):ye();function ye(){(N||(N=[])).push(h.slice(ne,M).trim()),ne=M+1}if($===void 0?$=h.slice(0,M).trim():ne!==0&&ye(),N)for(M=0;M<N.length;M++)$=Cc($,N[M]);return $}function Cc(h,O){var L=O.indexOf("(");if(L<0)return'_f("'+O+'")('+h+")";var M=O.slice(0,L),$=O.slice(L+1);return'_f("'+M+'")('+h+($!==")"?","+$:$)}function Ac(h,O){console.error("[Vue compiler]: "+h)}function ss(h,O){return h?h.map(function(L){return L[O]}).filter(function(L){return L}):[]}function Co(h,O,L,M,$){(h.props||(h.props=[])).push(xn({name:O,value:L,dynamic:$},M)),h.plain=!1}function ao(h,O,L,M,$){($?h.dynamicAttrs||(h.dynamicAttrs=[]):h.attrs||(h.attrs=[])).push(xn({name:O,value:L,dynamic:$},M)),h.plain=!1}function us(h,O,L,M){h.attrsMap[O]=L,h.attrsList.push(xn({name:O,value:L},M))}function ls(h,O,L,M,$,N,et,it){(h.directives||(h.directives=[])).push(xn({name:O,rawName:L,value:M,arg:$,isDynamicArg:N,modifiers:et},it)),h.plain=!1}function tu(h,O,L){return L?"_p("+O+',"'+h+'")':h+O}function rt(h,O,L,M,$,N,et,it){var at;(M=M||v).right?it?O="("+O+")==='click'?'contextmenu':("+O+")":O==="click"&&(O="contextmenu",delete M.right):M.middle&&(it?O="("+O+")==='click'?'mouseup':("+O+")":O==="click"&&(O="mouseup")),M.capture&&(delete M.capture,O=tu("!",O,it)),M.once&&(delete M.once,O=tu("~",O,it)),M.passive&&(delete M.passive,O=tu("&",O,it)),M.native?(delete M.native,at=h.nativeEvents||(h.nativeEvents={})):at=h.events||(h.events={});var yt=xn({value:L.trim(),dynamic:it},et);M!==v&&(yt.modifiers=M);var Pt=at[O];Array.isArray(Pt)?$?Pt.unshift(yt):Pt.push(yt):at[O]=Pt?$?[yt,Pt]:[Pt,yt]:yt,h.plain=!1}function Vr(h,O,L){var M=dr(h,":"+O)||dr(h,"v-bind:"+O);if(M!=null)return Ta(M);if(L!==!1){var $=dr(h,O);if($!=null)return JSON.stringify($)}}function dr(h,O,L){var M;if((M=h.attrsMap[O])!=null){for(var $=h.attrsList,N=0,et=$.length;N<et;N++)if($[N].name===O){$.splice(N,1);break}}return L&&delete h.attrsMap[O],M}function li(h,O){for(var L=h.attrsList,M=0,$=L.length;M<$;M++){var N=L[M];if(O.test(N.name))return L.splice(M,1),N}}function xn(h,O){return O&&(O.start!=null&&(h.start=O.start),O.end!=null&&(h.end=O.end)),h}function Sa(h,O,L){var M=L||{},$=M.number,N="$$v";M.trim&&(N="(typeof $$v === 'string'? $$v.trim(): $$v)"),$&&(N="_n("+N+")");var et=Xr(O,N);h.model={value:"("+O+")",expression:JSON.stringify(O),callback:"function ($$v) {"+et+"}"}}function Xr(h,O){var L=function(M){if(M=M.trim(),Ul=M.length,M.indexOf("[")<0||M.lastIndexOf("]")<Ul-1)return(ua=M.lastIndexOf("."))>-1?{exp:M.slice(0,ua),key:'"'+M.slice(ua+1)+'"'}:{exp:M,key:null};for(Zs=M,ua=Fa=io=0;!Va();)Ki(Na=$i())?Bl(Na):Na===91&&jc(Na);return{exp:M.slice(0,Fa),key:M.slice(Fa+1,io)}}(h);return L.key===null?h+"="+O:"$set("+L.exp+", "+L.key+", "+O+")"}function $i(){return Zs.charCodeAt(++ua)}function Va(){return ua>=Ul}function Ki(h){return h===34||h===39}function jc(h){var O=1;for(Fa=ua;!Va();)if(Ki(h=$i()))Bl(h);else if(h===91&&O++,h===93&&O--,O===0){io=ua;break}}function Bl(h){for(var O=h;!Va()&&(h=$i())!==O;);}var eu,nd="__r";function Nl(h,O,L){var M=eu;return function $(){O.apply(null,arguments)!==null&&xc(h,$,L,M)}}var cs=nr&&!(Se&&Number(Se[1])<=53);function nu(h,O,L,M){if(cs){var $=wo,N=O;O=N._wrapper=function(et){if(et.target===et.currentTarget||et.timeStamp>=$||et.timeStamp<=0||et.target.ownerDocument!==document)return N.apply(this,arguments)}}eu.addEventListener(h,O,ce?{capture:L,passive:M}:L)}function xc(h,O,L,M){(M||eu).removeEventListener(h,O._wrapper||O,L)}function Ao(h,O){if(!u(h.data.on)||!u(O.data.on)){var L=O.data.on||{},M=h.data.on||{};eu=O.elm,function($){if(c($.__r)){var N=Je?"change":"input";$[N]=[].concat($.__r,$[N]||[]),delete $.__r}c($.__c)&&($.change=[].concat($.__c,$.change||[]),delete $.__c)}(L),Xt(L,M,nu,xc,Nl,O.context),eu=void 0}}var Xi,zu={create:Ao,update:Ao};function xi(h,O){if(!u(h.data.domProps)||!u(O.data.domProps)){var L,M,$=O.elm,N=h.data.domProps||{},et=O.data.domProps||{};for(L in c(et.__ob__)&&(et=O.data.domProps=Rt({},et)),N)L in et||($[L]="");for(L in et){if(M=et[L],L==="textContent"||L==="innerHTML"){if(O.children&&(O.children.length=0),M===N[L])continue;$.childNodes.length===1&&$.removeChild($.childNodes[0])}if(L==="value"&&$.tagName!=="PROGRESS"){$._value=M;var it=u(M)?"":String(M);pr($,it)&&($.value=it)}else if(L==="innerHTML"&&is($.tagName)&&u($.innerHTML)){(Xi=Xi||document.createElement("div")).innerHTML="<svg>"+M+"</svg>";for(var at=Xi.firstChild;$.firstChild;)$.removeChild($.firstChild);for(;at.firstChild;)$.appendChild(at.firstChild)}else if(M!==N[L])try{$[L]=M}catch(yt){}}}}function pr(h,O){return!h.composing&&(h.tagName==="OPTION"||function(L,M){var $=!0;try{$=document.activeElement!==L}catch(N){}return $&&L.value!==M}(h,O)||function(L,M){var $=L.value,N=L._vModifiers;if(c(N)){if(N.number)return b($)!==b(M);if(N.trim)return $.trim()!==M.trim()}return $!==M}(h,O))}var ds={create:xi,update:xi},Hr=K(function(h){var O={},L=/:(.+)/;return h.split(/;(?![^(]*\))/g).forEach(function(M){if(M){var $=M.split(L);$.length>1&&(O[$[0].trim()]=$[1].trim())}}),O});function Ha(h){var O=za(h.style);return h.staticStyle?Rt(h.staticStyle,O):O}function za(h){return Array.isArray(h)?qt(h):typeof h=="string"?Hr(h):h}var ru,rd=/^--/,fs=/\s*!important$/,Gu=function(h,O,L){if(rd.test(O))h.style.setProperty(O,L);else if(fs.test(L))h.style.setProperty(Dt(O),L.replace(fs,""),"important");else{var M=Fl(O);if(Array.isArray(L))for(var $=0,N=L.length;$<N;$++)h.style[M]=L[$];else h.style[M]=L}},Mr=["Webkit","Moz","ms"],Fl=K(function(h){if(ru=ru||document.createElement("div").style,(h=ct(h))!=="filter"&&h in ru)return h;for(var O=h.charAt(0).toUpperCase()+h.slice(1),L=0;L<Mr.length;L++){var M=Mr[L]+O;if(M in ru)return M}});function Vl(h,O){var L=O.data,M=h.data;if(!(u(L.staticStyle)&&u(L.style)&&u(M.staticStyle)&&u(M.style))){var $,N,et=O.elm,it=M.staticStyle,at=M.normalizedStyle||M.style||{},yt=it||at,Pt=za(O.data.style)||{};O.data.normalizedStyle=c(Pt.__ob__)?Rt({},Pt):Pt;var wt=function(Jt,ne){for(var Yt,Vt={},ye=Jt;ye.componentInstance;)(ye=ye.componentInstance._vnode)&&ye.data&&(Yt=Ha(ye.data))&&Rt(Vt,Yt);(Yt=Ha(Jt.data))&&Rt(Vt,Yt);for(var Ve=Jt;Ve=Ve.parent;)Ve.data&&(Yt=Ha(Ve.data))&&Rt(Vt,Yt);return Vt}(O);for(N in yt)u(wt[N])&&Gu(et,N,"");for(N in wt)($=wt[N])!==yt[N]&&Gu(et,N,$==null?"":$)}}var wa={create:Vl,update:Vl},Wu=/\s+/;function iu(h,O){if(O&&(O=O.trim()))if(h.classList)O.indexOf(" ")>-1?O.split(Wu).forEach(function(M){return h.classList.add(M)}):h.classList.add(O);else{var L=" "+(h.getAttribute("class")||"")+" ";L.indexOf(" "+O+" ")<0&&h.setAttribute("class",(L+O).trim())}}function oo(h,O){if(O&&(O=O.trim()))if(h.classList)O.indexOf(" ")>-1?O.split(Wu).forEach(function($){return h.classList.remove($)}):h.classList.remove(O),h.classList.length||h.removeAttribute("class");else{for(var L=" "+(h.getAttribute("class")||"")+" ",M=" "+O+" ";L.indexOf(M)>=0;)L=L.replace(M," ");(L=L.trim())?h.setAttribute("class",L):h.removeAttribute("class")}}function jo(h){if(h){if(typeof h=="object"){var O={};return h.css!==!1&&Rt(O,On(h.name||"v")),Rt(O,h),O}return typeof h=="string"?On(h):void 0}}var On=K(function(h){return{enterClass:h+"-enter",enterToClass:h+"-enter-to",enterActiveClass:h+"-enter-active",leaveClass:h+"-leave",leaveToClass:h+"-leave-to",leaveActiveClass:h+"-leave-active"}}),ka=le&&!Te,so="transition",hs="animation",ps="transition",uo="transitionend",au="animation",ms="animationend";ka&&(window.ontransitionend===void 0&&window.onwebkittransitionend!==void 0&&(ps="WebkitTransition",uo="webkitTransitionEnd"),window.onanimationend===void 0&&window.onwebkitanimationend!==void 0&&(au="WebkitAnimation",ms="webkitAnimationEnd"));var xo=le?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(h){return h()};function Hl(h){xo(function(){xo(h)})}function la(h,O){var L=h._transitionClasses||(h._transitionClasses=[]);L.indexOf(O)<0&&(L.push(O),iu(h,O))}function ca(h,O){h._transitionClasses&&z(h._transitionClasses,O),oo(h,O)}function Oc(h,O,L){var M=Gl(h,O),$=M.type,N=M.timeout,et=M.propCount;if(!$)return L();var it=$===so?uo:ms,at=0,yt=function(){h.removeEventListener(it,Pt),L()},Pt=function(wt){wt.target===h&&++at>=et&&yt()};setTimeout(function(){at<et&&yt()},N+1),h.addEventListener(it,Pt)}var zl=/\b(transform|all)(,|$)/;function Gl(h,O){var L,M=window.getComputedStyle(h),$=(M[ps+"Delay"]||"").split(", "),N=(M[ps+"Duration"]||"").split(", "),et=Oi($,N),it=(M[au+"Delay"]||"").split(", "),at=(M[au+"Duration"]||"").split(", "),yt=Oi(it,at),Pt=0,wt=0;return O===so?et>0&&(L=so,Pt=et,wt=N.length):O===hs?yt>0&&(L=hs,Pt=yt,wt=at.length):wt=(L=(Pt=Math.max(et,yt))>0?et>yt?so:hs:null)?L===so?N.length:at.length:0,{type:L,timeout:Pt,propCount:wt,hasTransform:L===so&&zl.test(M[ps+"Property"])}}function Oi(h,O){for(;h.length<O.length;)h=h.concat(h);return Math.max.apply(null,O.map(function(L,M){return qu(L)+qu(h[M])}))}function qu(h){return 1e3*Number(h.slice(0,-1).replace(",","."))}function vs(h,O){var L=h.elm;c(L._leaveCb)&&(L._leaveCb.cancelled=!0,L._leaveCb());var M=jo(h.data.transition);if(!u(M)&&!c(L._enterCb)&&L.nodeType===1){for(var $=M.css,N=M.type,et=M.enterClass,it=M.enterToClass,at=M.enterActiveClass,yt=M.appearClass,Pt=M.appearToClass,wt=M.appearActiveClass,Jt=M.beforeEnter,ne=M.enter,Yt=M.afterEnter,Vt=M.enterCancelled,ye=M.beforeAppear,Ve=M.appear,ze=M.afterAppear,Ze=M.appearCancelled,An=M.duration,Pe=Gi,gn=Gi.$vnode;gn&&gn.parent;)Pe=gn.context,gn=gn.parent;var Mt=!Pe._isMounted||!h.isRootInsert;if(!Mt||Ve||Ve===""){var Nt=Mt&&yt?yt:et,_e=Mt&&wt?wt:at,He=Mt&&Pt?Pt:it,dn=Mt&&ye||Jt,fn=Mt&&typeof Ve=="function"?Ve:ne,Tn=Mt&&ze||Yt,Pn=Mt&&Ze||Vt,Hn=b(_(An)?An.enter:An),er=$!==!1&&!Te,qn=gs(fn),$n=L._enterCb=gt(function(){er&&(ca(L,He),ca(L,_e)),$n.cancelled?(er&&ca(L,Nt),Pn&&Pn(L)):Tn&&Tn(L),L._enterCb=null});h.data.show||Kt(h,"insert",function(){var xe=L.parentNode,Rn=xe&&xe._pending&&xe._pending[h.key];Rn&&Rn.tag===h.tag&&Rn.elm._leaveCb&&Rn.elm._leaveCb(),fn&&fn(L,$n)}),dn&&dn(L),er&&(la(L,Nt),la(L,_e),Hl(function(){ca(L,Nt),$n.cancelled||(la(L,He),qn||(Ku(Hn)?setTimeout($n,Hn):Oc(L,N,$n)))})),h.data.show&&(O&&O(),fn&&fn(L,$n)),er||qn||$n()}}}function $u(h,O){var L=h.elm;c(L._enterCb)&&(L._enterCb.cancelled=!0,L._enterCb());var M=jo(h.data.transition);if(u(M)||L.nodeType!==1)return O();if(!c(L._leaveCb)){var $=M.css,N=M.type,et=M.leaveClass,it=M.leaveToClass,at=M.leaveActiveClass,yt=M.beforeLeave,Pt=M.leave,wt=M.afterLeave,Jt=M.leaveCancelled,ne=M.delayLeave,Yt=M.duration,Vt=$!==!1&&!Te,ye=gs(Pt),Ve=b(_(Yt)?Yt.leave:Yt),ze=L._leaveCb=gt(function(){L.parentNode&&L.parentNode._pending&&(L.parentNode._pending[h.key]=null),Vt&&(ca(L,it),ca(L,at)),ze.cancelled?(Vt&&ca(L,et),Jt&&Jt(L)):(O(),wt&&wt(L)),L._leaveCb=null});ne?ne(Ze):Ze()}function Ze(){ze.cancelled||(!h.data.show&&L.parentNode&&((L.parentNode._pending||(L.parentNode._pending={}))[h.key]=h),yt&&yt(L),Vt&&(la(L,et),la(L,at),Hl(function(){ca(L,et),ze.cancelled||(la(L,it),ye||(Ku(Ve)?setTimeout(ze,Ve):Oc(L,N,ze)))})),Pt&&Pt(L,ze),Vt||ye||ze())}}function Ku(h){return typeof h=="number"&&!isNaN(h)}function gs(h){if(u(h))return!1;var O=h.fns;return c(O)?gs(Array.isArray(O)?O[0]:O):(h._length||h.length)>1}function Ga(h,O){O.data.show!==!0&&vs(O)}var Xu=function(h){var O,L,M={},$=h.modules,N=h.nodeOps;for(O=0;O<Js.length;++O)for(M[Js[O]]=[],L=0;L<$.length;++L)c($[L][Js[O]])&&M[Js[O]].push($[L][Js[O]]);function et(Mt){var Nt=N.parentNode(Mt);c(Nt)&&N.removeChild(Nt,Mt)}function it(Mt,Nt,_e,He,dn,fn,Tn){if(c(Mt.elm)&&c(fn)&&(Mt=fn[Tn]=Jn(Mt)),Mt.isRootInsert=!dn,!function(qn,$n,xe,Rn){var Nn=qn.data;if(c(Nn)){var Mn=c(qn.componentInstance)&&Nn.keepAlive;if(c(Nn=Nn.hook)&&c(Nn=Nn.init)&&Nn(qn,!1),c(qn.componentInstance))return at(qn,$n),yt(xe,qn.elm,Rn),p(Mn)&&function(Zr,mo,bi,wn){for(var we,Fn=Zr;Fn.componentInstance;)if(c(we=(Fn=Fn.componentInstance._vnode).data)&&c(we=we.transition)){for(we=0;we<M.activate.length;++we)M.activate[we](sa,Fn);mo.push(Fn);break}yt(bi,Zr.elm,wn)}(qn,$n,xe,Rn),!0}}(Mt,Nt,_e,He)){var Pn=Mt.data,Hn=Mt.children,er=Mt.tag;c(er)?(Mt.elm=Mt.ns?N.createElementNS(Mt.ns,er):N.createElement(er,Mt),ne(Mt),Pt(Mt,Hn,Nt),c(Pn)&&Jt(Mt,Nt),yt(_e,Mt.elm,He)):p(Mt.isComment)?(Mt.elm=N.createComment(Mt.text),yt(_e,Mt.elm,He)):(Mt.elm=N.createTextNode(Mt.text),yt(_e,Mt.elm,He))}}function at(Mt,Nt){c(Mt.data.pendingInsert)&&(Nt.push.apply(Nt,Mt.data.pendingInsert),Mt.data.pendingInsert=null),Mt.elm=Mt.componentInstance.$el,wt(Mt)?(Jt(Mt,Nt),ne(Mt)):(yi(Mt),Nt.push(Mt))}function yt(Mt,Nt,_e){c(Mt)&&(c(_e)?N.parentNode(_e)===Mt&&N.insertBefore(Mt,Nt,_e):N.appendChild(Mt,Nt))}function Pt(Mt,Nt,_e){if(Array.isArray(Nt))for(var He=0;He<Nt.length;++He)it(Nt[He],_e,Mt.elm,null,!0,Nt,He);else l(Mt.text)&&N.appendChild(Mt.elm,N.createTextNode(String(Mt.text)))}function wt(Mt){for(;Mt.componentInstance;)Mt=Mt.componentInstance._vnode;return c(Mt.tag)}function Jt(Mt,Nt){for(var _e=0;_e<M.create.length;++_e)M.create[_e](sa,Mt);c(O=Mt.data.hook)&&(c(O.create)&&O.create(sa,Mt),c(O.insert)&&Nt.push(Mt))}function ne(Mt){var Nt;if(c(Nt=Mt.fnScopeId))N.setStyleScope(Mt.elm,Nt);else for(var _e=Mt;_e;)c(Nt=_e.context)&&c(Nt=Nt.$options._scopeId)&&N.setStyleScope(Mt.elm,Nt),_e=_e.parent;c(Nt=Gi)&&Nt!==Mt.context&&Nt!==Mt.fnContext&&c(Nt=Nt.$options._scopeId)&&N.setStyleScope(Mt.elm,Nt)}function Yt(Mt,Nt,_e,He,dn,fn){for(;He<=dn;++He)it(_e[He],fn,Mt,Nt,!1,_e,He)}function Vt(Mt){var Nt,_e,He=Mt.data;if(c(He))for(c(Nt=He.hook)&&c(Nt=Nt.destroy)&&Nt(Mt),Nt=0;Nt<M.destroy.length;++Nt)M.destroy[Nt](Mt);if(c(Nt=Mt.children))for(_e=0;_e<Mt.children.length;++_e)Vt(Mt.children[_e])}function ye(Mt,Nt,_e){for(;Nt<=_e;++Nt){var He=Mt[Nt];c(He)&&(c(He.tag)?(Ve(He),Vt(He)):et(He.elm))}}function Ve(Mt,Nt){if(c(Nt)||c(Mt.data)){var _e,He=M.remove.length+1;for(c(Nt)?Nt.listeners+=He:Nt=function(dn,fn){function Tn(){--Tn.listeners==0&&et(dn)}return Tn.listeners=fn,Tn}(Mt.elm,He),c(_e=Mt.componentInstance)&&c(_e=_e._vnode)&&c(_e.data)&&Ve(_e,Nt),_e=0;_e<M.remove.length;++_e)M.remove[_e](Mt,Nt);c(_e=Mt.data.hook)&&c(_e=_e.remove)?_e(Mt,Nt):Nt()}else et(Mt.elm)}function ze(Mt,Nt,_e,He){for(var dn=_e;dn<He;dn++){var fn=Nt[dn];if(c(fn)&&ro(Mt,fn))return dn}}function Ze(Mt,Nt,_e,He,dn,fn){if(Mt!==Nt){c(Nt.elm)&&c(He)&&(Nt=He[dn]=Jn(Nt));var Tn=Nt.elm=Mt.elm;if(p(Mt.isAsyncPlaceholder))c(Nt.asyncFactory.resolved)?gn(Mt.elm,Nt,_e):Nt.isAsyncPlaceholder=!0;else if(p(Nt.isStatic)&&p(Mt.isStatic)&&Nt.key===Mt.key&&(p(Nt.isCloned)||p(Nt.isOnce)))Nt.componentInstance=Mt.componentInstance;else{var Pn,Hn=Nt.data;c(Hn)&&c(Pn=Hn.hook)&&c(Pn=Pn.prepatch)&&Pn(Mt,Nt);var er=Mt.children,qn=Nt.children;if(c(Hn)&&wt(Nt)){for(Pn=0;Pn<M.update.length;++Pn)M.update[Pn](Mt,Nt);c(Pn=Hn.hook)&&c(Pn=Pn.update)&&Pn(Mt,Nt)}u(Nt.text)?c(er)&&c(qn)?er!==qn&&function($n,xe,Rn,Nn,Mn){for(var Zr,mo,bi,wn=0,we=0,Fn=xe.length-1,tn=xe[0],Ln=xe[Fn],Or=Rn.length-1,Cr=Rn[0],zr=Rn[Or],vo=!Mn;wn<=Fn&&we<=Or;)u(tn)?tn=xe[++wn]:u(Ln)?Ln=xe[--Fn]:ro(tn,Cr)?(Ze(tn,Cr,Nn,Rn,we),tn=xe[++wn],Cr=Rn[++we]):ro(Ln,zr)?(Ze(Ln,zr,Nn,Rn,Or),Ln=xe[--Fn],zr=Rn[--Or]):ro(tn,zr)?(Ze(tn,zr,Nn,Rn,Or),vo&&N.insertBefore($n,tn.elm,N.nextSibling(Ln.elm)),tn=xe[++wn],zr=Rn[--Or]):ro(Ln,Cr)?(Ze(Ln,Cr,Nn,Rn,we),vo&&N.insertBefore($n,Ln.elm,tn.elm),Ln=xe[--Fn],Cr=Rn[++we]):(u(Zr)&&(Zr=kc(xe,wn,Fn)),u(mo=c(Cr.key)?Zr[Cr.key]:ze(Cr,xe,wn,Fn))?it(Cr,Nn,$n,tn.elm,!1,Rn,we):ro(bi=xe[mo],Cr)?(Ze(bi,Cr,Nn,Rn,we),xe[mo]=void 0,vo&&N.insertBefore($n,bi.elm,tn.elm)):it(Cr,Nn,$n,tn.elm,!1,Rn,we),Cr=Rn[++we]);wn>Fn?Yt($n,u(Rn[Or+1])?null:Rn[Or+1].elm,Rn,we,Or,Nn):we>Or&&ye(xe,wn,Fn)}(Tn,er,qn,_e,fn):c(qn)?(c(Mt.text)&&N.setTextContent(Tn,""),Yt(Tn,null,qn,0,qn.length-1,_e)):c(er)?ye(er,0,er.length-1):c(Mt.text)&&N.setTextContent(Tn,""):Mt.text!==Nt.text&&N.setTextContent(Tn,Nt.text),c(Hn)&&c(Pn=Hn.hook)&&c(Pn=Pn.postpatch)&&Pn(Mt,Nt)}}}function An(Mt,Nt,_e){if(p(_e)&&c(Mt.parent))Mt.parent.data.pendingInsert=Nt;else for(var He=0;He<Nt.length;++He)Nt[He].data.hook.insert(Nt[He])}var Pe=E("attrs,class,staticClass,staticStyle,key");function gn(Mt,Nt,_e,He){var dn,fn=Nt.tag,Tn=Nt.data,Pn=Nt.children;if(He=He||Tn&&Tn.pre,Nt.elm=Mt,p(Nt.isComment)&&c(Nt.asyncFactory))return Nt.isAsyncPlaceholder=!0,!0;if(c(Tn)&&(c(dn=Tn.hook)&&c(dn=dn.init)&&dn(Nt,!0),c(dn=Nt.componentInstance)))return at(Nt,_e),!0;if(c(fn)){if(c(Pn))if(Mt.hasChildNodes())if(c(dn=Tn)&&c(dn=dn.domProps)&&c(dn=dn.innerHTML)){if(dn!==Mt.innerHTML)return!1}else{for(var Hn=!0,er=Mt.firstChild,qn=0;qn<Pn.length;qn++){if(!er||!gn(er,Pn[qn],_e,He)){Hn=!1;break}er=er.nextSibling}if(!Hn||er)return!1}else Pt(Nt,Pn,_e);if(c(Tn)){var $n=!1;for(var xe in Tn)if(!Pe(xe)){$n=!0,Jt(Nt,_e);break}!$n&&Tn.class&&Ai(Tn.class)}}else Mt.data!==Nt.text&&(Mt.data=Nt.text);return!0}return function(Mt,Nt,_e,He){if(!u(Nt)){var dn,fn=!1,Tn=[];if(u(Mt))fn=!0,it(Nt,Tn);else{var Pn=c(Mt.nodeType);if(!Pn&&ro(Mt,Nt))Ze(Mt,Nt,Tn,null,null,He);else{if(Pn){if(Mt.nodeType===1&&Mt.hasAttribute(Lt)&&(Mt.removeAttribute(Lt),_e=!0),p(_e)&&gn(Mt,Nt,Tn))return An(Nt,Tn,!0),Mt;dn=Mt,Mt=new br(N.tagName(dn).toLowerCase(),{},[],void 0,dn)}var Hn=Mt.elm,er=N.parentNode(Hn);if(it(Nt,Tn,Hn._leaveCb?null:er,N.nextSibling(Hn)),c(Nt.parent))for(var qn=Nt.parent,$n=wt(Nt);qn;){for(var xe=0;xe<M.destroy.length;++xe)M.destroy[xe](qn);if(qn.elm=Nt.elm,$n){for(var Rn=0;Rn<M.create.length;++Rn)M.create[Rn](sa,qn);var Nn=qn.data.hook.insert;if(Nn.merged)for(var Mn=1;Mn<Nn.fns.length;Mn++)Nn.fns[Mn]()}else yi(qn);qn=qn.parent}c(er)?ye([Mt],0,0):c(Mt.tag)&&Vt(Mt)}}return An(Nt,Tn,fn),Nt.elm}c(Mt)&&Vt(Mt)}}({nodeOps:wc,modules:[Vu,Qs,zu,ds,wa,le?{create:Ga,activate:Ga,remove:function(h,O){h.data.show!==!0?$u(h,O):O()}}:{}].concat(_r)});Te&&document.addEventListener("selectionchange",function(){var h=document.activeElement;h&&h.vmodel&&ql(h,"input")});var ys={inserted:function(h,O,L,M){L.tag==="select"?(M.elm&&!M.elm._vOptions?Kt(L,"postpatch",function(){ys.componentUpdated(h,O,L)}):Yu(h,O,L.context),h._vOptions=[].map.call(h.options,ou)):(L.tag==="textarea"||Uu(h.type))&&(h._vModifiers=O.modifiers,O.modifiers.lazy||(h.addEventListener("compositionstart",Oo),h.addEventListener("compositionend",Wl),h.addEventListener("change",Wl),Te&&(h.vmodel=!0)))},componentUpdated:function(h,O,L){if(L.tag==="select"){Yu(h,O,L.context);var M=h._vOptions,$=h._vOptions=[].map.call(h.options,ou);$.some(function(N,et){return!ot(N,M[et])})&&(h.multiple?O.value.some(function(N){return Lc(N,$)}):O.value!==O.oldValue&&Lc(O.value,$))&&ql(h,"change")}}};function Yu(h,O,L){Cn(h,O,L),(Je||zn)&&setTimeout(function(){Cn(h,O,L)},0)}function Cn(h,O,L){var M=O.value,$=h.multiple;if(!$||Array.isArray(M)){for(var N,et,it=0,at=h.options.length;it<at;it++)if(et=h.options[it],$)N=lt(M,ou(et))>-1,et.selected!==N&&(et.selected=N);else if(ot(ou(et),M))return void(h.selectedIndex!==it&&(h.selectedIndex=it));$||(h.selectedIndex=-1)}}function Lc(h,O){return O.every(function(L){return!ot(L,h)})}function ou(h){return"_value"in h?h._value:h.value}function Oo(h){h.target.composing=!0}function Wl(h){h.target.composing&&(h.target.composing=!1,ql(h.target,"input"))}function ql(h,O){var L=document.createEvent("HTMLEvents");L.initEvent(O,!0,!0),h.dispatchEvent(L)}function su(h){return!h.componentInstance||h.data&&h.data.transition?h:su(h.componentInstance._vnode)}var Li={model:ys,show:{bind:function(h,O,L){var M=O.value,$=(L=su(L)).data&&L.data.transition,N=h.__vOriginalDisplay=h.style.display==="none"?"":h.style.display;M&&$?(L.data.show=!0,vs(L,function(){h.style.display=N})):h.style.display=M?N:"none"},update:function(h,O,L){var M=O.value;!M!=!O.oldValue&&((L=su(L)).data&&L.data.transition?(L.data.show=!0,M?vs(L,function(){h.style.display=h.__vOriginalDisplay}):$u(L,function(){h.style.display="none"})):h.style.display=M?h.__vOriginalDisplay:"none")},unbind:function(h,O,L,M,$){$||(h.style.display=h.__vOriginalDisplay)}}},Ju={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function Lo(h){var O=h&&h.componentOptions;return O&&O.Ctor.options.abstract?Lo(So(O.children)):h}function uu(h){var O={},L=h.$options;for(var M in L.propsData)O[M]=h[M];var $=L._parentListeners;for(var N in $)O[ct(N)]=$[N];return O}function Zu(h,O){if(/\d-keep-alive$/.test(O.tag))return h("keep-alive",{props:O.componentOptions.propsData})}var Pc=function(h){return h.tag||Zo(h)},ci=function(h){return h.name==="show"},Wa={name:"transition",props:Ju,abstract:!0,render:function(h){var O=this,L=this.$slots.default;if(L&&(L=L.filter(Pc)).length){var M=this.mode,$=L[0];if(function(ne){for(;ne=ne.parent;)if(ne.data.transition)return!0}(this.$vnode))return $;var N=Lo($);if(!N)return $;if(this._leaving)return Zu(h,$);var et="__transition-"+this._uid+"-";N.key=N.key==null?N.isComment?et+"comment":et+N.tag:l(N.key)?String(N.key).indexOf(et)===0?N.key:et+N.key:N.key;var it=(N.data||(N.data={})).transition=uu(this),at=this._vnode,yt=Lo(at);if(N.data.directives&&N.data.directives.some(ci)&&(N.data.show=!0),yt&&yt.data&&!function(ne,Yt){return Yt.key===ne.key&&Yt.tag===ne.tag}(N,yt)&&!Zo(yt)&&(!yt.componentInstance||!yt.componentInstance._vnode.isComment)){var Pt=yt.data.transition=Rt({},it);if(M==="out-in")return this._leaving=!0,Kt(Pt,"afterLeave",function(){O._leaving=!1,O.$forceUpdate()}),Zu(h,$);if(M==="in-out"){if(Zo(N))return at;var wt,Jt=function(){wt()};Kt(it,"afterEnter",Jt),Kt(it,"enterCancelled",Jt),Kt(Pt,"delayLeave",function(ne){wt=ne})}}return $}}},lu=Rt({tag:String,moveClass:String},Ju);function $l(h){h.elm._moveCb&&h.elm._moveCb(),h.elm._enterCb&&h.elm._enterCb()}function _s(h){h.data.newPos=h.elm.getBoundingClientRect()}function Qu(h){var O=h.data.pos,L=h.data.newPos,M=O.left-L.left,$=O.top-L.top;if(M||$){h.data.moved=!0;var N=h.elm.style;N.transform=N.WebkitTransform="translate("+M+"px,"+$+"px)",N.transitionDuration="0s"}}delete lu.mode;var cu={Transition:Wa,TransitionGroup:{props:lu,beforeMount:function(){var h=this,O=this._update;this._update=function(L,M){var $=Qo(h);h.__patch__(h._vnode,h.kept,!1,!0),h._vnode=h.kept,$(),O.call(h,L,M)}},render:function(h){for(var O=this.tag||this.$vnode.data.tag||"span",L=Object.create(null),M=this.prevChildren=this.children,$=this.$slots.default||[],N=this.children=[],et=uu(this),it=0;it<$.length;it++){var at=$[it];at.tag&&at.key!=null&&String(at.key).indexOf("__vlist")!==0&&(N.push(at),L[at.key]=at,(at.data||(at.data={})).transition=et)}if(M){for(var yt=[],Pt=[],wt=0;wt<M.length;wt++){var Jt=M[wt];Jt.data.transition=et,Jt.data.pos=Jt.elm.getBoundingClientRect(),L[Jt.key]?yt.push(Jt):Pt.push(Jt)}this.kept=h(O,null,yt),this.removed=Pt}return h(O,null,N)},updated:function(){var h=this.prevChildren,O=this.moveClass||(this.name||"v")+"-move";h.length&&this.hasMove(h[0].elm,O)&&(h.forEach($l),h.forEach(_s),h.forEach(Qu),this._reflow=document.body.offsetHeight,h.forEach(function(L){if(L.data.moved){var M=L.elm,$=M.style;la(M,O),$.transform=$.WebkitTransform=$.transitionDuration="",M.addEventListener(uo,M._moveCb=function N(et){et&&et.target!==M||et&&!/transform$/.test(et.propertyName)||(M.removeEventListener(uo,N),M._moveCb=null,ca(M,O))})}}))},methods:{hasMove:function(h,O){if(!ka)return!1;if(this._hasMove)return this._hasMove;var L=h.cloneNode();h._transitionClasses&&h._transitionClasses.forEach(function($){oo(L,$)}),iu(L,O),L.style.display="none",this.$el.appendChild(L);var M=Gl(L);return this.$el.removeChild(L),this._hasMove=M.hasTransform}}}};Ue.config.mustUseProp=Il,Ue.config.isReservedTag=Ks,Ue.config.isReservedAttr=Wi,Ue.config.getTagNamespace=no,Ue.config.isUnknownElement=function(h){if(!le)return!0;if(Ks(h))return!1;if(h=h.toLowerCase(),Xs[h]!=null)return Xs[h];var O=document.createElement(h);return h.indexOf("-")>-1?Xs[h]=O.constructor===window.HTMLUnknownElement||O.constructor===window.HTMLElement:Xs[h]=/HTMLUnknownElement/.test(O.toString())},Rt(Ue.options.directives,Li),Rt(Ue.options.components,cu),Ue.prototype.__patch__=le?Xu:ae,Ue.prototype.$mount=function(h,O){return function(L,M,$){var N;return L.$el=M,L.$options.render||(L.$options.render=qr),Kr(L,"beforeMount"),N=function(){L._update(L._render(),$)},new aa(L,N,ae,{before:function(){L._isMounted&&!L._isDestroyed&&Kr(L,"beforeUpdate")}},!0),$=!1,L.$vnode==null&&(L._isMounted=!0,Kr(L,"mounted")),L}(this,h=h&&le?as(h):void 0,O)},le&&setTimeout(function(){pt.devtools&&vn&&vn.emit("init",Ue)},0);var tl,Po=/\{\{((?:.|\r?\n)+?)\}\}/g,lo=/[-.*+?^${}()|[\]\/\\]/g,qa=K(function(h){var O=h[0].replace(lo,"\\$&"),L=h[1].replace(lo,"\\$&");return new RegExp(O+"((?:.|\\n)+?)"+L,"g")}),bs={staticKeys:["staticClass"],transformNode:function(h,O){O.warn;var L=dr(h,"class");L&&(h.staticClass=JSON.stringify(L));var M=Vr(h,"class",!1);M&&(h.classBinding=M)},genData:function(h){var O="";return h.staticClass&&(O+="staticClass:"+h.staticClass+","),h.classBinding&&(O+="class:"+h.classBinding+","),O}},$a={staticKeys:["staticStyle"],transformNode:function(h,O){O.warn;var L=dr(h,"style");L&&(h.staticStyle=JSON.stringify(Hr(L)));var M=Vr(h,"style",!1);M&&(h.styleBinding=M)},genData:function(h){var O="";return h.staticStyle&&(O+="staticStyle:"+h.staticStyle+","),h.styleBinding&&(O+="style:("+h.styleBinding+"),"),O}},el=E("area,base,br,col,embed,frame,hr,img,input,isindex,keygen,link,meta,param,source,track,wbr"),nl=E("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr,source"),du=E("address,article,aside,base,blockquote,body,caption,col,colgroup,dd,details,dialog,div,dl,dt,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,head,header,hgroup,hr,html,legend,li,menuitem,meta,optgroup,option,param,rp,rt,source,style,summary,tbody,td,tfoot,th,thead,title,tr,track"),rl=/^\s*([^\s"'<>\/=]+)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/,il=/^\s*((?:v-[\w-]+:|@|:|#)\[[^=]+\][^\s"'<>\/=]*)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/,al="[a-zA-Z_][\\-\\.0-9_a-zA-Z"+Bt.source+"]*",fu="((?:"+al+"\\:)?"+al+")",Yr=new RegExp("^<"+fu),da=/^\s*(\/?)>/,Ro=new RegExp("^<\\/"+fu+"[^>]*>"),Io=/^<!DOCTYPE [^>]+>/i,ol=/^<!\--/,Kl=/^<!\[/,Ts=E("script,style,textarea",!0),co={},Ss={"&lt;":"<","&gt;":">","&quot;":'"',"&amp;":"&","&#10;":`
`,"&#9;":"	","&#39;":"'"},Xl=/&(?:lt|gt|quot|amp|#39);/g,Yl=/&(?:lt|gt|quot|amp|#39|#10|#9);/g,hu=E("pre,textarea",!0),sl=function(h,O){return h&&hu(h)&&O[0]===`
`};function pu(h,O){var L=O?Yl:Xl;return h.replace(L,function(M){return Ss[M]})}var mu,ws,ks,fo,vu,fa,Jl,Zl,Ea=/^@|^v-on:/,Es=/^v-|^@|^:|^#/,Rc=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,Ql=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,Ic=/^\(|\)$/g,Pi=/^\[.*\]$/,tc=/:(.*)$/,ul=/^:|^\.|^v-bind:/,Ce=/\.[^.\]]+(?=[^\]]*$)/g,Ka=/^v-slot(:|$)|^#/,Do=/[\r\n]/,un=/\s+/g,gu=K(function(h){return(tl=tl||document.createElement("div")).innerHTML=h,tl.textContent}),ho="_empty_";function ha(h,O,L){return{type:1,tag:h,attrsList:O,attrsMap:ll(O),rawAttrsMap:{},parent:L,children:[]}}function Xa(h,O){var L,M;(M=Vr(L=h,"key"))&&(L.key=M),h.plain=!h.key&&!h.scopedSlots&&!h.attrsList.length,function(N){var et=Vr(N,"ref");et&&(N.ref=et,N.refInFor=function(it){for(var at=it;at;){if(at.for!==void 0)return!0;at=at.parent}return!1}(N))}(h),function(N){var et;N.tag==="template"?(et=dr(N,"scope"),N.slotScope=et||dr(N,"slot-scope")):(et=dr(N,"slot-scope"))&&(N.slotScope=et);var it=Vr(N,"slot");if(it&&(N.slotTarget=it==='""'?'"default"':it,N.slotTargetDynamic=!(!N.attrsMap[":slot"]&&!N.attrsMap["v-bind:slot"]),N.tag==="template"||N.slotScope||ao(N,"slot",it,function(ze,Ze){return ze.rawAttrsMap[":"+Ze]||ze.rawAttrsMap["v-bind:"+Ze]||ze.rawAttrsMap[Ze]}(N,"slot"))),N.tag==="template"){var at=li(N,Ka);if(at){var yt=Mo(at),Pt=yt.name,wt=yt.dynamic;N.slotTarget=Pt,N.slotTargetDynamic=wt,N.slotScope=at.value||ho}}else{var Jt=li(N,Ka);if(Jt){var ne=N.scopedSlots||(N.scopedSlots={}),Yt=Mo(Jt),Vt=Yt.name,ye=Yt.dynamic,Ve=ne[Vt]=ha("template",[],N);Ve.slotTarget=Vt,Ve.slotTargetDynamic=ye,Ve.children=N.children.filter(function(ze){if(!ze.slotScope)return ze.parent=Ve,!0}),Ve.slotScope=Jt.value||ho,N.children=[],N.plain=!1}}}(h),function(N){N.tag==="slot"&&(N.slotName=Vr(N,"name"))}(h),function(N){var et;(et=Vr(N,"is"))&&(N.component=et),dr(N,"inline-template")!=null&&(N.inlineTemplate=!0)}(h);for(var $=0;$<ks.length;$++)h=ks[$](h,O)||h;return function(N){var et,it,at,yt,Pt,wt,Jt,ne,Yt=N.attrsList;for(et=0,it=Yt.length;et<it;et++)if(at=yt=Yt[et].name,Pt=Yt[et].value,Es.test(at))if(N.hasBindings=!0,(wt=Uo(at.replace(Es,"")))&&(at=at.replace(Ce,"")),ul.test(at))at=at.replace(ul,""),Pt=Ta(Pt),(ne=Pi.test(at))&&(at=at.slice(1,-1)),wt&&(wt.prop&&!ne&&(at=ct(at))==="innerHtml"&&(at="innerHTML"),wt.camel&&!ne&&(at=ct(at)),wt.sync&&(Jt=Xr(Pt,"$event"),ne?rt(N,'"update:"+('+at+")",Jt,null,!1,0,Yt[et],!0):(rt(N,"update:"+ct(at),Jt,null,!1,0,Yt[et]),Dt(at)!==ct(at)&&rt(N,"update:"+Dt(at),Jt,null,!1,0,Yt[et])))),wt&&wt.prop||!N.component&&Jl(N.tag,N.attrsMap.type,at)?Co(N,at,Pt,Yt[et],ne):ao(N,at,Pt,Yt[et],ne);else if(Ea.test(at))at=at.replace(Ea,""),(ne=Pi.test(at))&&(at=at.slice(1,-1)),rt(N,at,Pt,wt,!1,0,Yt[et],ne);else{var Vt=(at=at.replace(Es,"")).match(tc),ye=Vt&&Vt[1];ne=!1,ye&&(at=at.slice(0,-(ye.length+1)),Pi.test(ye)&&(ye=ye.slice(1,-1),ne=!0)),ls(N,at,yt,Pt,ye,ne,wt,Yt[et])}else ao(N,at,JSON.stringify(Pt),Yt[et]),!N.component&&at==="muted"&&Jl(N.tag,N.attrsMap.type,at)&&Co(N,at,"true",Yt[et])}(h),h}function ec(h){var O;if(O=dr(h,"v-for")){var L=function(M){var $=M.match(Rc);if($){var N={};N.for=$[2].trim();var et=$[1].trim().replace(Ic,""),it=et.match(Ql);return it?(N.alias=et.replace(Ql,"").trim(),N.iterator1=it[1].trim(),it[2]&&(N.iterator2=it[2].trim())):N.alias=et,N}}(O);L&&Rt(h,L)}}function Dn(h,O){h.ifConditions||(h.ifConditions=[]),h.ifConditions.push(O)}function Mo(h){var O=h.name.replace(Ka,"");return O||h.name[0]!=="#"&&(O="default"),Pi.test(O)?{name:O.slice(1,-1),dynamic:!0}:{name:'"'+O+'"',dynamic:!1}}function Uo(h){var O=h.match(Ce);if(O){var L={};return O.forEach(function(M){L[M.slice(1)]=!0}),L}}function ll(h){for(var O={},L=0,M=h.length;L<M;L++)O[h[L].name]=h[L].value;return O}var Yi=/^xmlns:NS\d+/,Jr=/^NS\d+:/;function po(h){return ha(h.tag,h.attrsList.slice(),h.parent)}var yu,Ji,Bo=[bs,$a,{preTransformNode:function(h,O){if(h.tag==="input"){var L,M=h.attrsMap;if(!M["v-model"])return;if((M[":type"]||M["v-bind:type"])&&(L=Vr(h,"type")),M.type||L||!M["v-bind"]||(L="("+M["v-bind"]+").type"),L){var $=dr(h,"v-if",!0),N=$?"&&("+$+")":"",et=dr(h,"v-else",!0)!=null,it=dr(h,"v-else-if",!0),at=po(h);ec(at),us(at,"type","checkbox"),Xa(at,O),at.processed=!0,at.if="("+L+")==='checkbox'"+N,Dn(at,{exp:at.if,block:at});var yt=po(h);dr(yt,"v-for",!0),us(yt,"type","radio"),Xa(yt,O),Dn(at,{exp:"("+L+")==='radio'"+N,block:yt});var Pt=po(h);return dr(Pt,"v-for",!0),us(Pt,":type",L),Xa(Pt,O),Dn(at,{exp:$,block:Pt}),et?at.else=!0:it&&(at.elseif=it),at}}}}],_u={expectHTML:!0,modules:Bo,directives:{model:function(h,O,L){var M=O.value,$=O.modifiers,N=h.tag,et=h.attrsMap.type;if(h.component)return Sa(h,M,$),!1;if(N==="select")(function(it,at,yt){var Pt='var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = "_value" in o ? o._value : o.value;return '+(yt&&yt.number?"_n(val)":"val")+"});";rt(it,"change",Pt=Pt+" "+Xr(at,"$event.target.multiple ? $$selectedVal : $$selectedVal[0]"),null,!0)})(h,M,$);else if(N==="input"&&et==="checkbox")(function(it,at,yt){var Pt=yt&&yt.number,wt=Vr(it,"value")||"null",Jt=Vr(it,"true-value")||"true",ne=Vr(it,"false-value")||"false";Co(it,"checked","Array.isArray("+at+")?_i("+at+","+wt+")>-1"+(Jt==="true"?":("+at+")":":_q("+at+","+Jt+")")),rt(it,"change","var $$a="+at+",$$el=$event.target,$$c=$$el.checked?("+Jt+"):("+ne+");if(Array.isArray($$a)){var $$v="+(Pt?"_n("+wt+")":wt)+",$$i=_i($$a,$$v);if($$el.checked){$$i<0&&("+Xr(at,"$$a.concat([$$v])")+")}else{$$i>-1&&("+Xr(at,"$$a.slice(0,$$i).concat($$a.slice($$i+1))")+")}}else{"+Xr(at,"$$c")+"}",null,!0)})(h,M,$);else if(N==="input"&&et==="radio")(function(it,at,yt){var Pt=yt&&yt.number,wt=Vr(it,"value")||"null";Co(it,"checked","_q("+at+","+(wt=Pt?"_n("+wt+")":wt)+")"),rt(it,"change",Xr(at,wt),null,!0)})(h,M,$);else if(N==="input"||N==="textarea")(function(it,at,yt){var Pt=it.attrsMap.type,wt=yt||{},Jt=wt.lazy,ne=wt.number,Yt=wt.trim,Vt=!Jt&&Pt!=="range",ye=Jt?"change":Pt==="range"?nd:"input",Ve="$event.target.value";Yt&&(Ve="$event.target.value.trim()"),ne&&(Ve="_n("+Ve+")");var ze=Xr(at,Ve);Vt&&(ze="if($event.target.composing)return;"+ze),Co(it,"value","("+at+")"),rt(it,ye,ze,null,!0),(Yt||ne)&&rt(it,"blur","$forceUpdate()")})(h,M,$);else if(!pt.isReservedTag(N))return Sa(h,M,$),!1;return!0},text:function(h,O){O.value&&Co(h,"textContent","_s("+O.value+")",O)},html:function(h,O){O.value&&Co(h,"innerHTML","_s("+O.value+")",O)}},isPreTag:function(h){return h==="pre"},isUnaryTag:el,mustUseProp:Il,canBeLeftOpenTag:nl,isReservedTag:Ks,getTagNamespace:no,staticKeys:function(h){return h.reduce(function(O,L){return O.concat(L.staticKeys||[])},[]).join(",")}(Bo)},cl=K(function(h){return E("type,tag,attrsList,attrsMap,plain,parent,children,attrs,start,end,rawAttrsMap"+(h?","+h:""))}),Zi=/^([\w$_]+|\([^)]*?\))\s*=>|^function(?:\s+[\w$]+)?\s*\(/,dl=/\([^)]*?\);*$/,nc=/^[A-Za-z_$][\w$]*(?:\.[A-Za-z_$][\w$]*|\['[^']*?']|\["[^"]*?"]|\[\d+]|\[[A-Za-z_$][\w$]*])*$/,bu={esc:27,tab:9,enter:13,space:32,up:38,left:37,right:39,down:40,delete:[8,46]},rc={esc:["Esc","Escape"],tab:"Tab",enter:"Enter",space:[" ","Spacebar"],up:["Up","ArrowUp"],left:["Left","ArrowLeft"],right:["Right","ArrowRight"],down:["Down","ArrowDown"],delete:["Backspace","Delete","Del"]},_i=function(h){return"if("+h+")return null;"},Cs={stop:"$event.stopPropagation();",prevent:"$event.preventDefault();",self:_i("$event.target !== $event.currentTarget"),ctrl:_i("!$event.ctrlKey"),shift:_i("!$event.shiftKey"),alt:_i("!$event.altKey"),meta:_i("!$event.metaKey"),left:_i("'button' in $event && $event.button !== 0"),middle:_i("'button' in $event && $event.button !== 1"),right:_i("'button' in $event && $event.button !== 2")};function ic(h,O){var L=O?"nativeOn:":"on:",M="",$="";for(var N in h){var et=No(h[N]);h[N]&&h[N].dynamic?$+=N+","+et+",":M+='"'+N+'":'+et+","}return M="{"+M.slice(0,-1)+"}",$?L+"_d("+M+",["+$.slice(0,-1)+"])":L+M}function No(h){if(!h)return"function(){}";if(Array.isArray(h))return"["+h.map(function(yt){return No(yt)}).join(",")+"]";var O=nc.test(h.value),L=Zi.test(h.value),M=nc.test(h.value.replace(dl,""));if(h.modifiers){var $="",N="",et=[];for(var it in h.modifiers)if(Cs[it])N+=Cs[it],bu[it]&&et.push(it);else if(it==="exact"){var at=h.modifiers;N+=_i(["ctrl","shift","alt","meta"].filter(function(yt){return!at[yt]}).map(function(yt){return"$event."+yt+"Key"}).join("||"))}else et.push(it);return et.length&&($+=function(yt){return"if(!$event.type.indexOf('key')&&"+yt.map(fl).join("&&")+")return null;"}(et)),N&&($+=N),"function($event){"+$+(O?"return "+h.value+"($event)":L?"return ("+h.value+")($event)":M?"return "+h.value:h.value)+"}"}return O||L?h.value:"function($event){"+(M?"return "+h.value:h.value)+"}"}function fl(h){var O=parseInt(h,10);if(O)return"$event.keyCode!=="+O;var L=bu[h],M=rc[h];return"_k($event.keyCode,"+JSON.stringify(h)+","+JSON.stringify(L)+",$event.key,"+JSON.stringify(M)+")"}var ac={on:function(h,O){h.wrapListeners=function(L){return"_g("+L+","+O.value+")"}},bind:function(h,O){h.wrapData=function(L){return"_b("+L+",'"+h.tag+"',"+O.value+","+(O.modifiers&&O.modifiers.prop?"true":"false")+(O.modifiers&&O.modifiers.sync?",true":"")+")"}},cloak:ae},pa=function(h){this.options=h,this.warn=h.warn||Ac,this.transforms=ss(h.modules,"transformCode"),this.dataGenFns=ss(h.modules,"genData"),this.directives=Rt(Rt({},ac),h.directives);var O=h.isReservedTag||Ut;this.maybeComponent=function(L){return!!L.component||!O(L.tag)},this.onceId=0,this.staticRenderFns=[],this.pre=!1};function xr(h,O){var L=new pa(O);return{render:"with(this){return "+(h?Ri(h,L):'_c("div")')+"}",staticRenderFns:L.staticRenderFns}}function Ri(h,O){if(h.parent&&(h.pre=h.pre||h.parent.pre),h.staticRoot&&!h.staticProcessed)return oc(h,O);if(h.once&&!h.onceProcessed)return Dc(h,O);if(h.for&&!h.forProcessed)return uc(h,O);if(h.if&&!h.ifProcessed)return sc(h,O);if(h.tag!=="template"||h.slotTarget||O.pre){if(h.tag==="slot")return function(et,it){var at=et.slotName||'"default"',yt=Fo(et,it),Pt="_t("+at+(yt?","+yt:""),wt=et.attrs||et.dynamicAttrs?di((et.attrs||[]).concat(et.dynamicAttrs||[]).map(function(ne){return{name:ct(ne.name),value:ne.value,dynamic:ne.dynamic}})):null,Jt=et.attrsMap["v-bind"];return!wt&&!Jt||yt||(Pt+=",null"),wt&&(Pt+=","+wt),Jt&&(Pt+=(wt?"":",null")+","+Jt),Pt+")"}(h,O);var L;if(h.component)L=function(et,it,at){var yt=it.inlineTemplate?null:Fo(it,at,!0);return"_c("+et+","+lc(it,at)+(yt?","+yt:"")+")"}(h.component,h,O);else{var M;(!h.plain||h.pre&&O.maybeComponent(h))&&(M=lc(h,O));var $=h.inlineTemplate?null:Fo(h,O,!0);L="_c('"+h.tag+"'"+(M?","+M:"")+($?","+$:"")+")"}for(var N=0;N<O.transforms.length;N++)L=O.transforms[N](h,L);return L}return Fo(h,O)||"void 0"}function oc(h,O){h.staticProcessed=!0;var L=O.pre;return h.pre&&(O.pre=h.pre),O.staticRenderFns.push("with(this){return "+Ri(h,O)+"}"),O.pre=L,"_m("+(O.staticRenderFns.length-1)+(h.staticInFor?",true":"")+")"}function Dc(h,O){if(h.onceProcessed=!0,h.if&&!h.ifProcessed)return sc(h,O);if(h.staticInFor){for(var L="",M=h.parent;M;){if(M.for){L=M.key;break}M=M.parent}return L?"_o("+Ri(h,O)+","+O.onceId+++","+L+")":Ri(h,O)}return oc(h,O)}function sc(h,O,L,M){return h.ifProcessed=!0,function $(N,et,it,at){if(!N.length)return at||"_e()";var yt=N.shift();return yt.exp?"("+yt.exp+")?"+Pt(yt.block)+":"+$(N,et,it,at):""+Pt(yt.block);function Pt(wt){return it?it(wt,et):wt.once?Dc(wt,et):Ri(wt,et)}}(h.ifConditions.slice(),O,L,M)}function uc(h,O,L,M){var $=h.for,N=h.alias,et=h.iterator1?","+h.iterator1:"",it=h.iterator2?","+h.iterator2:"";return h.forProcessed=!0,(M||"_l")+"(("+$+"),function("+N+et+it+"){return "+(L||Ri)(h,O)+"})"}function lc(h,O){var L="{",M=function(et,it){var at=et.directives;if(at){var yt,Pt,wt,Jt,ne="directives:[",Yt=!1;for(yt=0,Pt=at.length;yt<Pt;yt++){wt=at[yt],Jt=!0;var Vt=it.directives[wt.name];Vt&&(Jt=!!Vt(et,wt,it.warn)),Jt&&(Yt=!0,ne+='{name:"'+wt.name+'",rawName:"'+wt.rawName+'"'+(wt.value?",value:("+wt.value+"),expression:"+JSON.stringify(wt.value):"")+(wt.arg?",arg:"+(wt.isDynamicArg?wt.arg:'"'+wt.arg+'"'):"")+(wt.modifiers?",modifiers:"+JSON.stringify(wt.modifiers):"")+"},")}return Yt?ne.slice(0,-1)+"]":void 0}}(h,O);M&&(L+=M+","),h.key&&(L+="key:"+h.key+","),h.ref&&(L+="ref:"+h.ref+","),h.refInFor&&(L+="refInFor:true,"),h.pre&&(L+="pre:true,"),h.component&&(L+='tag:"'+h.tag+'",');for(var $=0;$<O.dataGenFns.length;$++)L+=O.dataGenFns[$](h);if(h.attrs&&(L+="attrs:"+di(h.attrs)+","),h.props&&(L+="domProps:"+di(h.props)+","),h.events&&(L+=ic(h.events,!1)+","),h.nativeEvents&&(L+=ic(h.nativeEvents,!0)+","),h.slotTarget&&!h.slotScope&&(L+="slot:"+h.slotTarget+","),h.scopedSlots&&(L+=function(et,it,at){var yt=et.for||Object.keys(it).some(function(ne){var Yt=it[ne];return Yt.slotTargetDynamic||Yt.if||Yt.for||cc(Yt)}),Pt=!!et.if;if(!yt)for(var wt=et.parent;wt;){if(wt.slotScope&&wt.slotScope!==ho||wt.for){yt=!0;break}wt.if&&(Pt=!0),wt=wt.parent}var Jt=Object.keys(it).map(function(ne){return hl(it[ne],at)}).join(",");return"scopedSlots:_u(["+Jt+"]"+(yt?",null,true":"")+(!yt&&Pt?",null,false,"+function(ne){for(var Yt=5381,Vt=ne.length;Vt;)Yt=33*Yt^ne.charCodeAt(--Vt);return Yt>>>0}(Jt):"")+")"}(h,h.scopedSlots,O)+","),h.model&&(L+="model:{value:"+h.model.value+",callback:"+h.model.callback+",expression:"+h.model.expression+"},"),h.inlineTemplate){var N=function(et,it){var at=et.children[0];if(at&&at.type===1){var yt=xr(at,it.options);return"inlineTemplate:{render:function(){"+yt.render+"},staticRenderFns:["+yt.staticRenderFns.map(function(Pt){return"function(){"+Pt+"}"}).join(",")+"]}"}}(h,O);N&&(L+=N+",")}return L=L.replace(/,$/,"")+"}",h.dynamicAttrs&&(L="_b("+L+',"'+h.tag+'",'+di(h.dynamicAttrs)+")"),h.wrapData&&(L=h.wrapData(L)),h.wrapListeners&&(L=h.wrapListeners(L)),L}function cc(h){return h.type===1&&(h.tag==="slot"||h.children.some(cc))}function hl(h,O){var L=h.attrsMap["slot-scope"];if(h.if&&!h.ifProcessed&&!L)return sc(h,O,hl,"null");if(h.for&&!h.forProcessed)return uc(h,O,hl);var M=h.slotScope===ho?"":String(h.slotScope),$="function("+M+"){return "+(h.tag==="template"?h.if&&L?"("+h.if+")?"+(Fo(h,O)||"undefined")+":undefined":Fo(h,O)||"undefined":Ri(h,O))+"}",N=M?"":",proxy:true";return"{key:"+(h.slotTarget||'"default"')+",fn:"+$+N+"}"}function Fo(h,O,L,M,$){var N=h.children;if(N.length){var et=N[0];if(N.length===1&&et.for&&et.tag!=="template"&&et.tag!=="slot"){var it=L?O.maybeComponent(et)?",1":",0":"";return""+(M||Ri)(et,O)+it}var at=L?function(Pt,wt){for(var Jt=0,ne=0;ne<Pt.length;ne++){var Yt=Pt[ne];if(Yt.type===1){if(pl(Yt)||Yt.ifConditions&&Yt.ifConditions.some(function(Vt){return pl(Vt.block)})){Jt=2;break}(wt(Yt)||Yt.ifConditions&&Yt.ifConditions.some(function(Vt){return wt(Vt.block)}))&&(Jt=1)}}return Jt}(N,O.maybeComponent):0,yt=$||Tu;return"["+N.map(function(Pt){return yt(Pt,O)}).join(",")+"]"+(at?","+at:"")}}function pl(h){return h.for!==void 0||h.tag==="template"||h.tag==="slot"}function Tu(h,O){return h.type===1?Ri(h,O):h.type===3&&h.isComment?(M=h,"_e("+JSON.stringify(M.text)+")"):"_v("+((L=h).type===2?L.expression:Mc(JSON.stringify(L.text)))+")";var L,M}function di(h){for(var O="",L="",M=0;M<h.length;M++){var $=h[M],N=Mc($.value);$.dynamic?L+=$.name+","+N+",":O+='"'+$.name+'":'+N+","}return O="{"+O.slice(0,-1)+"}",L?"_d("+O+",["+L.slice(0,-1)+"])":O}function Mc(h){return h.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}function Su(h,O){try{return new Function(h)}catch(L){return O.push({err:L,code:h}),ae}}function Uc(h){var O=Object.create(null);return function(L,M,$){(M=Rt({},M)).warn,delete M.warn;var N=M.delimiters?String(M.delimiters)+L:L;if(O[N])return O[N];var et=h(L,M),it={},at=[];return it.render=Su(et.render,at),it.staticRenderFns=et.staticRenderFns.map(function(yt){return Su(yt,at)}),O[N]=it}}new RegExp("\\b"+"do,if,for,let,new,try,var,case,else,with,await,break,catch,class,const,super,throw,while,yield,delete,export,import,return,switch,default,extends,finally,continue,debugger,function,arguments".split(",").join("\\b|\\b")+"\\b");var ml,vl,gl=(ml=function(h,O){var L=function($,N){mu=N.warn||Ac,fa=N.isPreTag||Ut,Jl=N.mustUseProp||Ut,Zl=N.getTagNamespace||Ut,N.isReservedTag,ks=ss(N.modules,"transformNode"),fo=ss(N.modules,"preTransformNode"),vu=ss(N.modules,"postTransformNode"),ws=N.delimiters;var et,it,at=[],yt=N.preserveWhitespace!==!1,Pt=N.whitespace,wt=!1,Jt=!1;function ne(Vt){if(Yt(Vt),wt||Vt.processed||(Vt=Xa(Vt,N)),at.length||Vt===et||et.if&&(Vt.elseif||Vt.else)&&Dn(et,{exp:Vt.elseif,block:Vt}),it&&!Vt.forbidden)if(Vt.elseif||Vt.else)Ve=Vt,(ze=function(An){for(var Pe=An.length;Pe--;){if(An[Pe].type===1)return An[Pe];An.pop()}}(it.children))&&ze.if&&Dn(ze,{exp:Ve.elseif,block:Ve});else{if(Vt.slotScope){var ye=Vt.slotTarget||'"default"';(it.scopedSlots||(it.scopedSlots={}))[ye]=Vt}it.children.push(Vt),Vt.parent=it}var Ve,ze;Vt.children=Vt.children.filter(function(An){return!An.slotScope}),Yt(Vt),Vt.pre&&(wt=!1),fa(Vt.tag)&&(Jt=!1);for(var Ze=0;Ze<vu.length;Ze++)vu[Ze](Vt,N)}function Yt(Vt){if(!Jt)for(var ye;(ye=Vt.children[Vt.children.length-1])&&ye.type===3&&ye.text===" ";)Vt.children.pop()}return function(Vt,ye){for(var Ve,ze,Ze=[],An=ye.expectHTML,Pe=ye.isUnaryTag||Ut,gn=ye.canBeLeftOpenTag||Ut,Mt=0;Vt;){if(Ve=Vt,ze&&Ts(ze)){var Nt=0,_e=ze.toLowerCase(),He=co[_e]||(co[_e]=new RegExp("([\\s\\S]*?)(</"+_e+"[^>]*>)","i")),dn=Vt.replace(He,function(wn,we,Fn){return Nt=Fn.length,Ts(_e)||_e==="noscript"||(we=we.replace(/<!\--([\s\S]*?)-->/g,"$1").replace(/<!\[CDATA\[([\s\S]*?)]]>/g,"$1")),sl(_e,we)&&(we=we.slice(1)),ye.chars&&ye.chars(we),""});Mt+=Vt.length-dn.length,Vt=dn,bi(_e,Mt-Nt,Mt)}else{var fn=Vt.indexOf("<");if(fn===0){if(ol.test(Vt)){var Tn=Vt.indexOf("-->");if(Tn>=0){ye.shouldKeepComment&&ye.comment(Vt.substring(4,Tn),Mt,Mt+Tn+3),Mn(Tn+3);continue}}if(Kl.test(Vt)){var Pn=Vt.indexOf("]>");if(Pn>=0){Mn(Pn+2);continue}}var Hn=Vt.match(Io);if(Hn){Mn(Hn[0].length);continue}var er=Vt.match(Ro);if(er){var qn=Mt;Mn(er[0].length),bi(er[1],qn,Mt);continue}var $n=Zr();if($n){mo($n),sl($n.tagName,Vt)&&Mn(1);continue}}var xe=void 0,Rn=void 0,Nn=void 0;if(fn>=0){for(Rn=Vt.slice(fn);!(Ro.test(Rn)||Yr.test(Rn)||ol.test(Rn)||Kl.test(Rn)||(Nn=Rn.indexOf("<",1))<0);)fn+=Nn,Rn=Vt.slice(fn);xe=Vt.substring(0,fn)}fn<0&&(xe=Vt),xe&&Mn(xe.length),ye.chars&&xe&&ye.chars(xe,Mt-xe.length,Mt)}if(Vt===Ve){ye.chars&&ye.chars(Vt);break}}function Mn(wn){Mt+=wn,Vt=Vt.substring(wn)}function Zr(){var wn=Vt.match(Yr);if(wn){var we,Fn,tn={tagName:wn[1],attrs:[],start:Mt};for(Mn(wn[0].length);!(we=Vt.match(da))&&(Fn=Vt.match(il)||Vt.match(rl));)Fn.start=Mt,Mn(Fn[0].length),Fn.end=Mt,tn.attrs.push(Fn);if(we)return tn.unarySlash=we[1],Mn(we[0].length),tn.end=Mt,tn}}function mo(wn){var we=wn.tagName,Fn=wn.unarySlash;An&&(ze==="p"&&du(we)&&bi(ze),gn(we)&&ze===we&&bi(we));for(var tn=Pe(we)||!!Fn,Ln=wn.attrs.length,Or=new Array(Ln),Cr=0;Cr<Ln;Cr++){var zr=wn.attrs[Cr],vo=zr[3]||zr[4]||zr[5]||"",dc=we==="a"&&zr[1]==="href"?ye.shouldDecodeNewlinesForHref:ye.shouldDecodeNewlines;Or[Cr]={name:zr[1],value:pu(vo,dc)}}tn||(Ze.push({tag:we,lowerCasedTag:we.toLowerCase(),attrs:Or,start:wn.start,end:wn.end}),ze=we),ye.start&&ye.start(we,Or,tn,wn.start,wn.end)}function bi(wn,we,Fn){var tn,Ln;if(we==null&&(we=Mt),Fn==null&&(Fn=Mt),wn)for(Ln=wn.toLowerCase(),tn=Ze.length-1;tn>=0&&Ze[tn].lowerCasedTag!==Ln;tn--);else tn=0;if(tn>=0){for(var Or=Ze.length-1;Or>=tn;Or--)ye.end&&ye.end(Ze[Or].tag,we,Fn);Ze.length=tn,ze=tn&&Ze[tn-1].tag}else Ln==="br"?ye.start&&ye.start(wn,[],!0,we,Fn):Ln==="p"&&(ye.start&&ye.start(wn,[],!1,we,Fn),ye.end&&ye.end(wn,we,Fn))}bi()}($,{warn:mu,expectHTML:N.expectHTML,isUnaryTag:N.isUnaryTag,canBeLeftOpenTag:N.canBeLeftOpenTag,shouldDecodeNewlines:N.shouldDecodeNewlines,shouldDecodeNewlinesForHref:N.shouldDecodeNewlinesForHref,shouldKeepComment:N.comments,outputSourceRange:N.outputSourceRange,start:function(Vt,ye,Ve,ze,Ze){var An=it&&it.ns||Zl(Vt);Je&&An==="svg"&&(ye=function(Nt){for(var _e=[],He=0;He<Nt.length;He++){var dn=Nt[He];Yi.test(dn.name)||(dn.name=dn.name.replace(Jr,""),_e.push(dn))}return _e}(ye));var Pe,gn=ha(Vt,ye,it);An&&(gn.ns=An),(Pe=gn).tag!=="style"&&(Pe.tag!=="script"||Pe.attrsMap.type&&Pe.attrsMap.type!=="text/javascript")||on()||(gn.forbidden=!0);for(var Mt=0;Mt<fo.length;Mt++)gn=fo[Mt](gn,N)||gn;wt||(function(Nt){dr(Nt,"v-pre")!=null&&(Nt.pre=!0)}(gn),gn.pre&&(wt=!0)),fa(gn.tag)&&(Jt=!0),wt?function(Nt){var _e=Nt.attrsList,He=_e.length;if(He)for(var dn=Nt.attrs=new Array(He),fn=0;fn<He;fn++)dn[fn]={name:_e[fn].name,value:JSON.stringify(_e[fn].value)},_e[fn].start!=null&&(dn[fn].start=_e[fn].start,dn[fn].end=_e[fn].end);else Nt.pre||(Nt.plain=!0)}(gn):gn.processed||(ec(gn),function(Nt){var _e=dr(Nt,"v-if");if(_e)Nt.if=_e,Dn(Nt,{exp:_e,block:Nt});else{dr(Nt,"v-else")!=null&&(Nt.else=!0);var He=dr(Nt,"v-else-if");He&&(Nt.elseif=He)}}(gn),function(Nt){dr(Nt,"v-once")!=null&&(Nt.once=!0)}(gn)),et||(et=gn),Ve?ne(gn):(it=gn,at.push(gn))},end:function(Vt,ye,Ve){var ze=at[at.length-1];at.length-=1,it=at[at.length-1],ne(ze)},chars:function(Vt,ye,Ve){if(it&&(!Je||it.tag!=="textarea"||it.attrsMap.placeholder!==Vt)){var ze,Ze,An,Pe=it.children;(Vt=Jt||Vt.trim()?(ze=it).tag==="script"||ze.tag==="style"?Vt:gu(Vt):Pe.length?Pt?Pt==="condense"&&Do.test(Vt)?"":" ":yt?" ":"":"")&&(Jt||Pt!=="condense"||(Vt=Vt.replace(un," ")),!wt&&Vt!==" "&&(Ze=function(gn,Mt){var Nt=Mt?qa(Mt):Po;if(Nt.test(gn)){for(var _e,He,dn,fn=[],Tn=[],Pn=Nt.lastIndex=0;_e=Nt.exec(gn);){(He=_e.index)>Pn&&(Tn.push(dn=gn.slice(Pn,He)),fn.push(JSON.stringify(dn)));var Hn=Ta(_e[1].trim());fn.push("_s("+Hn+")"),Tn.push({"@binding":Hn}),Pn=He+_e[0].length}return Pn<gn.length&&(Tn.push(dn=gn.slice(Pn)),fn.push(JSON.stringify(dn))),{expression:fn.join("+"),tokens:Tn}}}(Vt,ws))?An={type:2,expression:Ze.expression,tokens:Ze.tokens,text:Vt}:Vt===" "&&Pe.length&&Pe[Pe.length-1].text===" "||(An={type:3,text:Vt}),An&&Pe.push(An))}},comment:function(Vt,ye,Ve){if(it){var ze={type:3,text:Vt,isComment:!0};it.children.push(ze)}}}),et}(h.trim(),O);O.optimize!==!1&&function($,N){$&&(yu=cl(N.staticKeys||""),Ji=N.isReservedTag||Ut,function et(it){if(it.static=function(Yt){return Yt.type!==2&&(Yt.type===3||!(!Yt.pre&&(Yt.hasBindings||Yt.if||Yt.for||A(Yt.tag)||!Ji(Yt.tag)||function(Vt){for(;Vt.parent;){if((Vt=Vt.parent).tag!=="template")return!1;if(Vt.for)return!0}return!1}(Yt)||!Object.keys(Yt).every(yu))))}(it),it.type===1){if(!Ji(it.tag)&&it.tag!=="slot"&&it.attrsMap["inline-template"]==null)return;for(var at=0,yt=it.children.length;at<yt;at++){var Pt=it.children[at];et(Pt),Pt.static||(it.static=!1)}if(it.ifConditions)for(var wt=1,Jt=it.ifConditions.length;wt<Jt;wt++){var ne=it.ifConditions[wt].block;et(ne),ne.static||(it.static=!1)}}}($),function et(it,at){if(it.type===1){if((it.static||it.once)&&(it.staticInFor=at),it.static&&it.children.length&&(it.children.length!==1||it.children[0].type!==3))return void(it.staticRoot=!0);if(it.staticRoot=!1,it.children)for(var yt=0,Pt=it.children.length;yt<Pt;yt++)et(it.children[yt],at||!!it.for);if(it.ifConditions)for(var wt=1,Jt=it.ifConditions.length;wt<Jt;wt++)et(it.ifConditions[wt].block,at)}}($,!1))}(L,O);var M=xr(L,O);return{ast:L,render:M.render,staticRenderFns:M.staticRenderFns}},function(h){function O(L,M){var $=Object.create(h),N=[],et=[];if(M)for(var it in M.modules&&($.modules=(h.modules||[]).concat(M.modules)),M.directives&&($.directives=Rt(Object.create(h.directives||null),M.directives)),M)it!=="modules"&&it!=="directives"&&($[it]=M[it]);$.warn=function(yt,Pt,wt){(wt?et:N).push(yt)};var at=ml(L.trim(),$);return at.errors=N,at.tips=et,at}return{compile:O,compileToFunctions:Uc(O)}})(_u),Bc=(gl.compile,gl.compileToFunctions);function yl(h){return(vl=vl||document.createElement("div")).innerHTML=h?`<a href="
"/>`:`<div a="
"/>`,vl.innerHTML.indexOf("&#10;")>0}var Nc=!!le&&yl(!1),id=!!le&&yl(!0),ad=K(function(h){var O=as(h);return O&&O.innerHTML}),Fc=Ue.prototype.$mount;Ue.prototype.$mount=function(h,O){if((h=h&&as(h))===document.body||h===document.documentElement)return this;var L=this.$options;if(!L.render){var M=L.template;if(M)if(typeof M=="string")M.charAt(0)==="#"&&(M=ad(M));else{if(!M.nodeType)return this;M=M.innerHTML}else h&&(M=function(it){if(it.outerHTML)return it.outerHTML;var at=document.createElement("div");return at.appendChild(it.cloneNode(!0)),at.innerHTML}(h));if(M){var $=Bc(M,{outputSourceRange:!1,shouldDecodeNewlines:Nc,shouldDecodeNewlinesForHref:id,delimiters:L.delimiters,comments:L.comments},this),N=$.render,et=$.staticRenderFns;L.render=N,L.staticRenderFns=et}}return Fc.call(this,h,O)},Ue.compile=Bc,x.exports=Ue}).call(this,o("yLpj"),o("URgk").setImmediate)},Iab2:function(x,V,o){(function(d){var g,v,u;v=[],(u=typeof(g=function(){"use strict";function c(S,w){return w===void 0?w={autoBom:!1}:typeof w!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),w={autoBom:!w}),w.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(S.type)?new Blob(["\uFEFF",S],{type:S.type}):S}function p(S,w,C){var b=new XMLHttpRequest;b.open("GET",S),b.responseType="blob",b.onload=function(){k(b.response,w,C)},b.onerror=function(){console.error("could not download file")},b.send()}function l(S){var w=new XMLHttpRequest;return w.open("HEAD",S,!1),w.send(),200<=w.status&&299>=w.status}function _(S){try{S.dispatchEvent(new MouseEvent("click"))}catch(C){var w=document.createEvent("MouseEvents");w.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),S.dispatchEvent(w)}}var T=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof d=="object"&&d.global===d?d:void 0,k=T.saveAs||(typeof window!="object"||window!==T?function(){}:"download"in HTMLAnchorElement.prototype?function(S,w,C){var b=T.URL||T.webkitURL,E=document.createElement("a");w=w||S.name||"download",E.download=w,E.rel="noopener",typeof S=="string"?(E.href=S,E.origin===location.origin?_(E):l(E.href)?p(S,w,C):_(E,E.target="_blank")):(E.href=b.createObjectURL(S),setTimeout(function(){b.revokeObjectURL(E.href)},4e4),setTimeout(function(){_(E)},0))}:"msSaveOrOpenBlob"in navigator?function(S,w,C){if(w=w||S.name||"download",typeof S!="string")navigator.msSaveOrOpenBlob(c(S,C),w);else if(l(S))p(S,w,C);else{var b=document.createElement("a");b.href=S,b.target="_blank",setTimeout(function(){_(b)})}}:function(S,w,C,b){if((b=b||open("","_blank"))&&(b.document.title=b.document.body.innerText="downloading..."),typeof S=="string")return p(S,w,C);var E=S.type==="application/octet-stream",A=/constructor/i.test(T.HTMLElement)||T.safari,P=/CriOS\/[\d]+/.test(navigator.userAgent);if((P||E&&A)&&typeof FileReader=="object"){var z=new FileReader;z.onloadend=function(){var K=z.result;K=P?K:K.replace(/^data:[^;]*;/,"data:attachment/file;"),b?b.location.href=K:location=K,b=null},z.readAsDataURL(S)}else{var B=T.URL||T.webkitURL,H=B.createObjectURL(S);b?b.location=H:location.href=H,b=null,setTimeout(function(){B.revokeObjectURL(H)},4e4)}});T.saveAs=k.saveAs=k,x.exports=k})=="function"?g.apply(V,v):g)===void 0||(x.exports=u)}).call(this,o("yLpj"))},IdBN:function(x,V,o){"use strict";var d=o("Zrcd"),g=o("+4di"),v=o("wFMk"),u=o("XW/+");x.exports=o("1RbY")(Array,"Array",function(c,p){this._t=u(c),this._i=0,this._k=p},function(){var c=this._t,p=this._k,l=this._i++;return!c||l>=c.length?(this._t=void 0,g(1)):g(0,p=="keys"?l:p=="values"?c[l]:[l,c[l]])},"values"),v.Arguments=v.Array,d("keys"),d("values"),d("entries")},IheE:function(x,V,o){"use strict";o("5oHw")("fontsize",function(d){return function(g){return d(this,"font","size",g)}})},Insd:function(x,V,o){"use strict";var d=o("8IOi"),g=o("Qu5u"),v=o("LOhj"),u=o("J2HX");o("yU77")&&d(d.P+o("rGBx"),"Object",{__defineSetter__:function(c,p){u.f(g(this),c,{set:v(p),enumerable:!0,configurable:!0})}})},J2HX:function(x,V,o){var d=o("138g"),g=o("+X+Z"),v=o("AZ8a"),u=Object.defineProperty;V.f=o("yU77")?Object.defineProperty:function(c,p,l){if(d(c),p=v(p,!0),d(l),g)try{return u(c,p,l)}catch(_){}if("get"in l||"set"in l)throw TypeError("Accessors not supported!");return"value"in l&&(c[p]=l.value),c}},J70Z:function(x,V,o){var d=o("J2HX").f,g=o("L7KE"),v=o("3iRr")("toStringTag");x.exports=function(u,c,p){u&&!g(u=p?u:u.prototype,v)&&d(u,v,{configurable:!0,value:c})}},J8Qq:function(x,V,o){var d=o("XW/+"),g=o("Y3Md"),v=o("b8c2");x.exports=function(u){return function(c,p,l){var _,T=d(c),k=g(T.length),S=v(l,k);if(u&&p!=p){for(;k>S;)if((_=T[S++])!=_)return!0}else for(;k>S;S++)if((u||S in T)&&T[S]===p)return u||S||0;return!u&&-1}}},JCQ5:function(x,V,o){"use strict";var d=o("8IOi"),g=o("RT9V"),v="includes";d(d.P+d.F*o("OvvV")(v),"String",{includes:function(u){return!!~g(this,u,v).indexOf(u,arguments.length>1?arguments[1]:void 0)}})},JNc5:function(x,V,o){"use strict";o("5oHw")("big",function(d){return function(){return d(this,"big","","")}})},JYSn:function(x,V,o){var d=o("Wl3L"),g=o("XW/+"),v=o("4XFX").f;x.exports=function(u){return function(c){for(var p,l=g(c),_=d(l),T=_.length,k=0,S=[];T>k;)v.call(l,p=_[k++])&&S.push(u?[p,l[p]]:l[p]);return S}}},Jkf2:function(x,V,o){var d=o("n+hx"),g=Math.floor;x.exports=function(v){return!d(v)&&isFinite(v)&&g(v)===v}},JvFK:function(x,V,o){"use strict";var d=o("q27k"),g=o("eYp2");x.exports=o("0WhE")("Set",function(v){return function(){return v(this,arguments.length>0?arguments[0]:void 0)}},{add:function(v){return d.def(g(this,"Set"),v=v===0?0:v,v)}},d)},K3ax:function(x,V,o){var d=o("8IOi"),g=Math.abs;d(d.S,"Math",{hypot:function(v,u){for(var c,p,l=0,_=0,T=arguments.length,k=0;_<T;)k<(c=g(arguments[_++]))?(l=l*(p=k/c)*p+1,k=c):l+=c>0?(p=c/k)*p:c;return k===1/0?1/0:k*Math.sqrt(l)}})},KJ4T:function(x,V){(function(o,d){"use strict";function g(){var jt=It.splice(0,It.length);for(qe=0;jt.length;)jt.shift().call(null,jt.shift())}function v(jt,$t){for(var Xt=0,Kt=jt.length;Xt<Kt;Xt++)b(jt[Xt],$t)}function u(jt){return function($t){mi($t)&&(b($t,jt),vn.length&&v($t.querySelectorAll(vn),jt))}}function c(jt){var $t=Wn.call(jt,"is"),Xt=jt.nodeName.toUpperCase(),Kt=En.call(Be,$t?Se+$t.toUpperCase():te+Xt);return $t&&-1<Kt&&!p(Xt,$t)?-1:Kt}function p(jt,$t){return-1<vn.indexOf(jt+'[is="'+$t+'"]')}function l(jt){var $t=jt.currentTarget,Xt=jt.attrChange,Kt=jt.attrName,he=jt.target,pe=jt[Ke]||2,Re=jt[Ee]||3;!Ai||he&&he!==$t||!$t[Ot]||Kt==="style"||jt.prevValue===jt.newValue&&(jt.newValue!==""||Xt!==pe&&Xt!==Re)||$t[Ot](Kt,Xt===pe?null:jt.prevValue,Xt===Re?null:jt.newValue)}function _(jt){var $t=u(jt);return function(Xt){It.push($t,Xt.target),qe&&clearTimeout(qe),qe=setTimeout(g,1)}}function T(jt){vr&&(vr=!1,jt.currentTarget.removeEventListener(Te,T)),vn.length&&v((jt.target||Q).querySelectorAll(vn),jt.detail===pt?pt:vt),Fi&&function(){for(var $t,Xt=0,Kt=wi.length;Xt<Kt;Xt++)$t=wi[Xt],Sn.contains($t)||(Kt--,wi.splice(Xt--,1),b($t,pt))}()}function k(jt,$t){var Xt=this;Le.call(Xt,jt,$t),Dt.call(Xt,{target:Xt})}function S(jt,$t,Xt){var Kt=$t.apply(jt,Xt),he=c(Kt);return-1<he&&Ut(Kt,on[he]),Xt.pop()&&vn.length&&function(pe){for(var Re,Ne=0,rn=pe.length;Ne<rn;Ne++)Re=pe[Ne],Ut(Re,on[c(Re)])}(Kt.querySelectorAll(vn)),Kt}function w(jt,$t){Dr(jt,$t),Rt?Rt.observe(jt,$r):(si&&(jt.setAttribute=k,jt[gt]=Zt(jt),jt[Lt](zn,Dt)),jt[Lt](Je,l)),jt[le]&&Ai&&(jt.created=!0,jt[le](),jt.created=!1)}function C(jt){throw new Error("A "+jt+" type is already registered")}function b(jt,$t){var Xt,Kt,he=c(jt);-1<he&&!vi.call(jt,"TEMPLATE")&&(ae(jt,on[he]),he=0,$t!==vt||jt[vt]?$t!==pt||jt[pt]||(jt[vt]=!1,jt[pt]=!0,Kt="disconnected",he=1):(jt[pt]=!1,jt[vt]=!0,Kt="connected",he=1,Fi&&En.call(wi,jt)<0&&wi.push(jt)),he&&(Xt=jt[$t+ht]||jt[Kt+ht])&&Xt.call(jt))}function E(){}function A(jt,$t,Xt){var Kt=Xt&&Xt[Bt]||"",he=$t.prototype,pe=Bi(he),Re=$t.observedAttributes||ri,Ne={prototype:pe};na(pe,le,{value:function(){if(Tr)Tr=!1;else if(!this[Ar]){this[Ar]=!0,new $t(this),he[le]&&he[le].call(this);var rn=Ui[jn.get($t)];(!ai||rn.create.length>1)&&B(this)}}}),na(pe,Ot,{value:function(rn){-1<En.call(Re,rn)&&he[Ot]&&he[Ot].apply(this,arguments)}}),he[se]&&na(pe,zt,{value:he[se]}),he[Oe]&&na(pe,Qt,{value:he[Oe]}),Kt&&(Ne[Bt]=Kt),jt=jt.toUpperCase(),Ui[jt]={constructor:$t,create:Kt?[Kt,pi(jt)]:[jt]},jn.set($t,jt),Q[ot](jt.toLowerCase(),Ne),H(jt),Sr[jt].r()}function P(jt){var $t=Ui[jt.toUpperCase()];return $t&&$t.constructor}function z(jt){return typeof jt=="string"?jt:jt&&jt.is||""}function B(jt){for(var $t,Xt=jt[Ot],Kt=Xt?jt.attributes:ri,he=Kt.length;he--;)$t=Kt[he],Xt.call(jt,$t.name||$t.nodeName,null,$t.value||$t.nodeValue)}function H(jt){return(jt=jt.toUpperCase())in Sr||(Sr[jt]={},Sr[jt].p=new Ra(function($t){Sr[jt].r=$t})),Sr[jt].p}function K(){Jn&&delete o.customElements,tr(o,"customElements",{configurable:!0,value:new E}),tr(o,"CustomElementRegistry",{configurable:!0,value:E});for(var jt=mt.get(/^HTML[A-Z]*[a-z]/),$t=jt.length;$t--;function(Xt){var Kt=o[Xt];if(Kt){o[Xt]=function(he){var pe,Re;return he||(he=this),he[Ar]||(Tr=!0,pe=Ui[jn.get(he.constructor)],(he=(Re=ai&&pe.create.length===1)?Reflect.construct(Kt,ri,pe.constructor):Q.createElement.apply(Q,pe.create))[Ar]=!0,Tr=!1,Re||B(he)),he},o[Xt].prototype=Kt.prototype;try{Kt.prototype.constructor=o[Xt]}catch(he){tr(Kt,Ar,{value:o[Xt]})}}}(jt[$t]));Q.createElement=function(Xt,Kt){var he=z(Kt);return he?cn.call(this,Xt,pi(he)):cn.call(this,Xt)},jr||(oi=!0,Q[ot](""))}var Q=o.document,ct=o.Object,mt=function(jt){var $t,Xt,Kt,he,pe=/^[A-Z]+[a-z]/,Re=function(Xe,ir){(ir=ir.toLowerCase())in Ne||(Ne[Xe]=(Ne[Xe]||[]).concat(ir),Ne[ir]=Ne[ir.toUpperCase()]=Xe)},Ne=(ct.create||ct)(null),rn={};for(Xt in jt)for(he in jt[Xt])for(Kt=jt[Xt][he],Ne[he]=Kt,$t=0;$t<Kt.length;$t++)Ne[Kt[$t].toLowerCase()]=Ne[Kt[$t].toUpperCase()]=he;return rn.get=function(Xe){return typeof Xe=="string"?Ne[Xe]||(pe.test(Xe)?[]:""):function(ir){var gr,ur=[];for(gr in Ne)ir.test(gr)&&ur.push(gr);return ur}(Xe)},rn.set=function(Xe,ir){return pe.test(Xe)?Re(Xe,ir):Re(ir,Xe),rn},rn}({collections:{HTMLAllCollection:["all"],HTMLCollection:["forms"],HTMLFormControlsCollection:["elements"],HTMLOptionsCollection:["options"]},elements:{Element:["element"],HTMLAnchorElement:["a"],HTMLAppletElement:["applet"],HTMLAreaElement:["area"],HTMLAttachmentElement:["attachment"],HTMLAudioElement:["audio"],HTMLBRElement:["br"],HTMLBaseElement:["base"],HTMLBodyElement:["body"],HTMLButtonElement:["button"],HTMLCanvasElement:["canvas"],HTMLContentElement:["content"],HTMLDListElement:["dl"],HTMLDataElement:["data"],HTMLDataListElement:["datalist"],HTMLDetailsElement:["details"],HTMLDialogElement:["dialog"],HTMLDirectoryElement:["dir"],HTMLDivElement:["div"],HTMLDocument:["document"],HTMLElement:["element","abbr","address","article","aside","b","bdi","bdo","cite","code","command","dd","dfn","dt","em","figcaption","figure","footer","header","i","kbd","mark","nav","noscript","rp","rt","ruby","s","samp","section","small","strong","sub","summary","sup","u","var","wbr"],HTMLEmbedElement:["embed"],HTMLFieldSetElement:["fieldset"],HTMLFontElement:["font"],HTMLFormElement:["form"],HTMLFrameElement:["frame"],HTMLFrameSetElement:["frameset"],HTMLHRElement:["hr"],HTMLHeadElement:["head"],HTMLHeadingElement:["h1","h2","h3","h4","h5","h6"],HTMLHtmlElement:["html"],HTMLIFrameElement:["iframe"],HTMLImageElement:["img"],HTMLInputElement:["input"],HTMLKeygenElement:["keygen"],HTMLLIElement:["li"],HTMLLabelElement:["label"],HTMLLegendElement:["legend"],HTMLLinkElement:["link"],HTMLMapElement:["map"],HTMLMarqueeElement:["marquee"],HTMLMediaElement:["media"],HTMLMenuElement:["menu"],HTMLMenuItemElement:["menuitem"],HTMLMetaElement:["meta"],HTMLMeterElement:["meter"],HTMLModElement:["del","ins"],HTMLOListElement:["ol"],HTMLObjectElement:["object"],HTMLOptGroupElement:["optgroup"],HTMLOptionElement:["option"],HTMLOutputElement:["output"],HTMLParagraphElement:["p"],HTMLParamElement:["param"],HTMLPictureElement:["picture"],HTMLPreElement:["pre"],HTMLProgressElement:["progress"],HTMLQuoteElement:["blockquote","q","quote"],HTMLScriptElement:["script"],HTMLSelectElement:["select"],HTMLShadowElement:["shadow"],HTMLSlotElement:["slot"],HTMLSourceElement:["source"],HTMLSpanElement:["span"],HTMLStyleElement:["style"],HTMLTableCaptionElement:["caption"],HTMLTableCellElement:["td","th"],HTMLTableColElement:["col","colgroup"],HTMLTableElement:["table"],HTMLTableRowElement:["tr"],HTMLTableSectionElement:["thead","tbody","tfoot"],HTMLTemplateElement:["template"],HTMLTextAreaElement:["textarea"],HTMLTimeElement:["time"],HTMLTitleElement:["title"],HTMLTrackElement:["track"],HTMLUListElement:["ul"],HTMLUnknownElement:["unknown","vhgroupv","vkeygen"],HTMLVideoElement:["video"]},nodes:{Attr:["node"],Audio:["audio"],CDATASection:["node"],CharacterData:["node"],Comment:["#comment"],Document:["#document"],DocumentFragment:["#document-fragment"],DocumentType:["node"],HTMLDocument:["#document"],Image:["img"],Option:["option"],ProcessingInstruction:["node"],ShadowRoot:["#shadow-root"],Text:["#text"],XMLDocument:["xml"]}});typeof d!="object"&&(d={type:d||"auto"});var It,Dt,Wt,Zt,Rt,qt,ae,Ut,U,ot="registerElement",lt=1e5*o.Math.random()>>0,gt="__"+ot+lt,Lt="addEventListener",vt="attached",ht="Callback",pt="detached",Bt="extends",Ot="attributeChanged"+ht,zt=vt+ht,se="connected"+ht,Oe="disconnected"+ht,le="created"+ht,Qt=pt+ht,Ke="ADDITION",Ee="REMOVAL",Je="DOMAttrModified",Te="DOMContentLoaded",zn="DOMSubtreeModified",te="<",Se="=",ve=/^[A-Z][._A-Z0-9]*-[-._A-Z0-9]*$/,ce=["ANNOTATION-XML","COLOR-PROFILE","FONT-FACE","FONT-FACE-SRC","FONT-FACE-URI","FONT-FACE-FORMAT","FONT-FACE-NAME","MISSING-GLYPH"],Be=[],on=[],vn="",Sn=Q.documentElement,En=Be.indexOf||function(jt){for(var $t=this.length;$t--&&this[$t]!==jt;);return $t},sr=ct.prototype,In=sr.hasOwnProperty,ni=sr.isPrototypeOf,tr=ct.defineProperty,ri=[],ii=ct.getOwnPropertyDescriptor,Mi=ct.getOwnPropertyNames,br=ct.getPrototypeOf,ya=ct.setPrototypeOf,qr=!!ct.__proto__,Ar="__dreCEv1",Jn=o.customElements,ai=!/^force/.test(d.type)&&!!(Jn&&Jn.define&&Jn.get&&Jn.whenDefined),hi=ct.create||ct,Si=o.Map||function(){var jt,$t=[],Xt=[];return{get:function(Kt){return Xt[En.call($t,Kt)]},set:function(Kt,he){(jt=En.call($t,Kt))<0?Xt[$t.push(Kt)-1]=he:Xt[jt]=he}}},Ra=o.Promise||function(jt){function $t(pe){for(Kt=!0;Xt.length;)Xt.shift()(pe)}var Xt=[],Kt=!1,he={catch:function(){return he},then:function(pe){return Xt.push(pe),Kt&&setTimeout($t,1),he}};return jt($t),he},Tr=!1,Ui=hi(null),Sr=hi(null),jn=new Si,pi=function(jt){return jt.toLowerCase()},Bi=ct.create||function jt($t){return $t?(jt.prototype=$t,new jt):this},Dr=ya||(qr?function(jt,$t){return jt.__proto__=$t,jt}:Mi&&ii?function(){function jt($t,Xt){for(var Kt,he=Mi(Xt),pe=0,Re=he.length;pe<Re;pe++)Kt=he[pe],In.call($t,Kt)||tr($t,Kt,ii(Xt,Kt))}return function($t,Xt){do jt($t,Xt);while((Xt=br(Xt))&&!ni.call(Xt,$t));return $t}}():function(jt,$t){for(var Xt in $t)jt[Xt]=$t[Xt];return jt}),wr=o.MutationObserver||o.WebKitMutationObserver,Ni=o.HTMLAnchorElement,Et=(o.HTMLElement||o.Element||o.Node).prototype,Fi=!ni.call(Et,Sn),na=Fi?function(jt,$t,Xt){return jt[$t]=Xt.value,jt}:tr,mi=Fi?function(jt){return jt.nodeType===1}:function(jt){return ni.call(Et,jt)},wi=Fi&&[],Vi=Et.attachShadow,ki=Et.cloneNode,vi=Et.closest||function(jt){for(var $t=this;$t&&$t.nodeName!==jt;)$t=$t.parentNode;return $t},Hi=Et.dispatchEvent,Wn=Et.getAttribute,Nr=Et.hasAttribute,re=Et.removeAttribute,Le=Et.setAttribute,Qe=Q.createElement,nr=Q.importNode,cn=Qe,$r=wr&&{attributes:!0,characterData:!0,attributeOldValue:!0},Ei=wr||function(jt){si=!1,Sn.removeEventListener(Je,Ei)},qe=0,jr=ot in Q&&!/^force-all/.test(d.type),Ci=!0,oi=!1,si=!0,vr=!0,Ai=!0;if(wr&&((U=Q.createElement("div")).innerHTML="<div><div></div></div>",new wr(function(jt,$t){if(jt[0]&&jt[0].type=="childList"&&!jt[0].removedNodes[0].childNodes.length){var Xt=(U=ii(Et,"innerHTML"))&&U.set;Xt&&tr(Et,"innerHTML",{set:function(Kt){for(;this.lastChild;)this.removeChild(this.lastChild);Xt.call(this,Kt)}})}$t.disconnect(),U=null}).observe(U,{childList:!0,subtree:!0}),U.innerHTML=""),jr||(ya||qr?(ae=function(jt,$t){ni.call($t,jt)||w(jt,$t)},Ut=w):Ut=ae=function(jt,$t){jt[gt]||(jt[gt]=ct(!0),w(jt,$t))},Fi?(si=!1,function(){var jt=ii(Et,Lt),$t=jt.value,Xt=function(pe){var Re=new CustomEvent(Je,{bubbles:!0});Re.attrName=pe,Re.prevValue=Wn.call(this,pe),Re.newValue=null,Re[Ee]=Re.attrChange=2,re.call(this,pe),Hi.call(this,Re)},Kt=function(pe,Re){var Ne=Nr.call(this,pe),rn=Ne&&Wn.call(this,pe),Xe=new CustomEvent(Je,{bubbles:!0});Le.call(this,pe,Re),Xe.attrName=pe,Xe.prevValue=Ne?rn:null,Xe.newValue=Re,Ne?Xe.MODIFICATION=Xe.attrChange=1:Xe[Ke]=Xe.attrChange=0,Hi.call(this,Xe)},he=function(pe){var Re,Ne=pe.currentTarget,rn=Ne[gt],Xe=pe.propertyName;rn.hasOwnProperty(Xe)&&(rn=rn[Xe],(Re=new CustomEvent(Je,{bubbles:!0})).attrName=rn.name,Re.prevValue=rn.value||null,Re.newValue=rn.value=Ne[Xe]||null,Re.prevValue==null?Re[Ke]=Re.attrChange=0:Re.MODIFICATION=Re.attrChange=1,Hi.call(Ne,Re))};jt.value=function(pe,Re,Ne){pe===Je&&this[Ot]&&this.setAttribute!==Kt&&(this[gt]={className:{name:"class",value:this.className}},this.setAttribute=Kt,this.removeAttribute=Xt,$t.call(this,"propertychange",he)),$t.call(this,pe,Re,Ne)},tr(Et,Lt,jt)}()):wr||(Sn[Lt](Je,Ei),Sn.setAttribute(gt,1),Sn.removeAttribute(gt),si&&(Dt=function(jt){var $t,Xt,Kt,he=this;if(he===jt.target){for(Kt in $t=he[gt],he[gt]=Xt=Zt(he),Xt){if(!(Kt in $t))return Wt(0,he,Kt,$t[Kt],Xt[Kt],Ke);if(Xt[Kt]!==$t[Kt])return Wt(1,he,Kt,$t[Kt],Xt[Kt],"MODIFICATION")}for(Kt in $t)if(!(Kt in Xt))return Wt(2,he,Kt,$t[Kt],Xt[Kt],Ee)}},Wt=function(jt,$t,Xt,Kt,he,pe){var Re={attrChange:jt,currentTarget:$t,attrName:Xt,prevValue:Kt,newValue:he};Re[pe]=jt,l(Re)},Zt=function(jt){for(var $t,Xt,Kt={},he=jt.attributes,pe=0,Re=he.length;pe<Re;pe++)(Xt=($t=he[pe]).name)!=="setAttribute"&&(Kt[Xt]=$t.value);return Kt})),Q[ot]=function(jt,$t){if(Xt=jt.toUpperCase(),Ci&&(Ci=!1,wr?(Rt=function(rn,Xe){function ir(gr,ur){for(var kr=0,hr=gr.length;kr<hr;ur(gr[kr++]));}return new wr(function(gr){for(var ur,kr,hr,$o=0,Ds=gr.length;$o<Ds;$o++)(ur=gr[$o]).type==="childList"?(ir(ur.addedNodes,rn),ir(ur.removedNodes,Xe)):(kr=ur.target,Ai&&kr[Ot]&&ur.attributeName!=="style"&&(hr=Wn.call(kr,ur.attributeName))!==ur.oldValue&&kr[Ot](ur.attributeName,ur.oldValue,hr))})}(u(vt),u(pt)),(qt=function(rn){return Rt.observe(rn,{childList:!0,subtree:!0}),rn})(Q),Vi&&(Et.attachShadow=function(){return qt(Vi.apply(this,arguments))})):(It=[],Q[Lt]("DOMNodeInserted",_(vt)),Q[Lt]("DOMNodeRemoved",_(pt))),Q[Lt](Te,T),Q[Lt]("readystatechange",T),Q.importNode=function(rn,Xe){switch(rn.nodeType){case 1:return S(Q,nr,[rn,!!Xe]);case 11:for(var ir=Q.createDocumentFragment(),gr=rn.childNodes,ur=gr.length,kr=0;kr<ur;kr++)ir.appendChild(Q.importNode(gr[kr],!!Xe));return ir;default:return ki.call(rn,!!Xe)}},Et.cloneNode=function(rn){return S(this,ki,[!!rn])}),oi)return oi=!1;if(-2<En.call(Be,Se+Xt)+En.call(Be,te+Xt)&&C(jt),!ve.test(Xt)||-1<En.call(ce,Xt))throw new Error("The type "+jt+" is invalid");var Xt,Kt,he=function(){return Re?Q.createElement(Ne,Xt):Q.createElement(Ne)},pe=$t||sr,Re=In.call(pe,Bt),Ne=Re?$t[Bt].toUpperCase():Xt;return Re&&-1<En.call(Be,te+Ne)&&C(Ne),Kt=Be.push((Re?Se:te)+Xt)-1,vn=vn.concat(vn.length?",":"",Re?Ne+'[is="'+jt.toLowerCase()+'"]':Ne),he.prototype=on[Kt]=In.call(pe,"prototype")?pe.prototype:Bi(Et),vn.length&&v(Q.querySelectorAll(vn),vt),he},Q.createElement=cn=function(jt,$t){var Xt=z($t),Kt=Xt?Qe.call(Q,jt,pi(Xt)):Qe.call(Q,jt),he=""+jt,pe=En.call(Be,(Xt?Se:te)+(Xt||he).toUpperCase()),Re=-1<pe;return Xt&&(Kt.setAttribute("is",Xt=Xt.toLowerCase()),Re&&(Re=p(he.toUpperCase(),Xt))),Ai=!Q.createElement.innerHTMLHelper,Re&&Ut(Kt,on[pe]),Kt}),addEventListener("beforeunload",function(){delete Q.createElement,delete Q.importNode,delete Q[ot]},!1),E.prototype={constructor:E,define:ai?function(jt,$t,Xt){if(Xt)A(jt,$t,Xt);else{var Kt=jt.toUpperCase();Ui[Kt]={constructor:$t,create:[Kt]},jn.set($t,Kt),Jn.define(jt,$t)}}:A,get:ai?function(jt){return Jn.get(jt)||P(jt)}:P,whenDefined:ai?function(jt){return Ra.race([Jn.whenDefined(jt),H(jt)])}:H},!Jn||/^force/.test(d.type))K();else if(!d.noBuiltIn)try{(function(jt,$t,Xt){var Kt=new RegExp(`^<a\\s+is=('|")`+Xt+"\\1></a>$");if($t[Bt]="a",(jt.prototype=Bi(Ni.prototype)).constructor=jt,o.customElements.define(Xt,jt,$t),!Kt.test(Q.createElement("a",{is:Xt}).outerHTML)||!Kt.test(new jt().outerHTML))throw $t})(function jt(){return Reflect.construct(Ni,[],jt)},{},"document-register-element-a"+lt)}catch(jt){K()}if(!d.noBuiltIn)try{if(Qe.call(Q,"a","a").outerHTML.indexOf("is")<0)throw{}}catch(jt){pi=function($t){return{is:$t.toLowerCase()}}}})(window)},KYUM:function(x,V,o){var d=o("8IOi"),g=o("jYdD").f,v=o("138g");d(d.S,"Reflect",{deleteProperty:function(u,c){var p=g(v(u),c);return!(p&&!p.configurable)&&delete u[c]}})},Ki3G:function(x,V,o){var d=o("Qu5u"),g=o("7WAm");o("CmYC")("getPrototypeOf",function(){return function(v){return g(d(v))}})},KpXI:function(x,V,o){var d=o("8IOi"),g=o("RZL5"),v=Math.exp;d(d.S,"Math",{tanh:function(u){var c=g(u=+u),p=g(-u);return c==1/0?1:p==1/0?-1:(c-p)/(v(u)+v(-u))}})},Ku9J:function(x,V,o){var d=o("HC2Y");x.exports=function(g,v){if(typeof g!="number"&&d(g)!="Number")throw TypeError(v);return+g}},"L6/l":function(x,V,o){"use strict";var d=o("8IOi"),g=o("z/zB")(5),v="find",u=!0;v in[]&&Array(1).find(function(){u=!1}),d(d.P+d.F*u,"Array",{find:function(c){return g(this,c,arguments.length>1?arguments[1]:void 0)}}),o("Zrcd")(v)},L7KE:function(x,V){var o={}.hasOwnProperty;x.exports=function(d,g){return o.call(d,g)}},LMzk:function(x,V,o){o("Gx54")("Float32",4,function(d){return function(g,v,u){return d(this,g,v,u)}})},LOhj:function(x,V){x.exports=function(o){if(typeof o!="function")throw TypeError(o+" is not a function!");return o}},LVuD:function(x,V){x.exports=function(o){try{return{e:!1,v:o()}}catch(d){return{e:!0,v:d}}}},LboF:function(x,V,o){"use strict";var d,g=function(){return d===void 0&&(d=Boolean(window&&document&&document.all&&!window.atob)),d},v=function(){var E={};return function(A){if(E[A]===void 0){var P=document.querySelector(A);if(window.HTMLIFrameElement&&P instanceof window.HTMLIFrameElement)try{P=P.contentDocument.head}catch(z){P=null}E[A]=P}return E[A]}}(),u=[];function c(E){for(var A=-1,P=0;P<u.length;P++)if(u[P].identifier===E){A=P;break}return A}function p(E,A){for(var P={},z=[],B=0;B<E.length;B++){var H=E[B],K=A.base?H[0]+A.base:H[0],Q=P[K]||0,ct="".concat(K," ").concat(Q);P[K]=Q+1;var mt=c(ct),It={css:H[1],media:H[2],sourceMap:H[3]};mt!==-1?(u[mt].references++,u[mt].updater(It)):u.push({identifier:ct,updater:b(It,A),references:1}),z.push(ct)}return z}function l(E){var A=document.createElement("style"),P=E.attributes||{};if(P.nonce===void 0){var z=o.nc;z&&(P.nonce=z)}if(Object.keys(P).forEach(function(H){A.setAttribute(H,P[H])}),typeof E.insert=="function")E.insert(A);else{var B=v(E.insert||"head");if(!B)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");B.appendChild(A)}return A}var _,T=(_=[],function(E,A){return _[E]=A,_.filter(Boolean).join(`
`)});function k(E,A,P,z){var B=P?"":z.media?"@media ".concat(z.media," {").concat(z.css,"}"):z.css;if(E.styleSheet)E.styleSheet.cssText=T(A,B);else{var H=document.createTextNode(B),K=E.childNodes;K[A]&&E.removeChild(K[A]),K.length?E.insertBefore(H,K[A]):E.appendChild(H)}}function S(E,A,P){var z=P.css,B=P.media,H=P.sourceMap;if(B?E.setAttribute("media",B):E.removeAttribute("media"),H&&btoa&&(z+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(H))))," */")),E.styleSheet)E.styleSheet.cssText=z;else{for(;E.firstChild;)E.removeChild(E.firstChild);E.appendChild(document.createTextNode(z))}}var w=null,C=0;function b(E,A){var P,z,B;if(A.singleton){var H=C++;P=w||(w=l(A)),z=k.bind(null,P,H,!1),B=k.bind(null,P,H,!0)}else P=l(A),z=S.bind(null,P,A),B=function(){(function(K){if(K.parentNode===null)return!1;K.parentNode.removeChild(K)})(P)};return z(E),function(K){if(K){if(K.css===E.css&&K.media===E.media&&K.sourceMap===E.sourceMap)return;z(E=K)}else B()}}x.exports=function(E,A){(A=A||{}).singleton||typeof A.singleton=="boolean"||(A.singleton=g());var P=p(E=E||[],A);return function(z){if(z=z||[],Object.prototype.toString.call(z)==="[object Array]"){for(var B=0;B<P.length;B++){var H=c(P[B]);u[H].references--}for(var K=p(z,A),Q=0;Q<P.length;Q++){var ct=c(P[Q]);u[ct].references===0&&(u[ct].updater(),u.splice(ct,1))}P=K}}}},LvDl:function(x,V,o){(function(d,g){var v;(function(){var u,c="Expected a function",p="__lodash_hash_undefined__",l="__lodash_placeholder__",_=16,T=32,k=64,S=128,w=256,C=1/0,b=9007199254740991,E=NaN,A=4294967295,P=[["ary",S],["bind",1],["bindKey",2],["curry",8],["curryRight",_],["flip",512],["partial",T],["partialRight",k],["rearg",w]],z="[object Arguments]",B="[object Array]",H="[object Boolean]",K="[object Date]",Q="[object Error]",ct="[object Function]",mt="[object GeneratorFunction]",It="[object Map]",Dt="[object Number]",Wt="[object Object]",Zt="[object Promise]",Rt="[object RegExp]",qt="[object Set]",ae="[object String]",Ut="[object Symbol]",U="[object WeakMap]",ot="[object ArrayBuffer]",lt="[object DataView]",gt="[object Float32Array]",Lt="[object Float64Array]",vt="[object Int8Array]",ht="[object Int16Array]",pt="[object Int32Array]",Bt="[object Uint8Array]",Ot="[object Uint8ClampedArray]",zt="[object Uint16Array]",se="[object Uint32Array]",Oe=/\b__p \+= '';/g,le=/\b(__p \+=) '' \+/g,Qt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ke=/&(?:amp|lt|gt|quot|#39);/g,Ee=/[&<>"']/g,Je=RegExp(Ke.source),Te=RegExp(Ee.source),zn=/<%-([\s\S]+?)%>/g,te=/<%([\s\S]+?)%>/g,Se=/<%=([\s\S]+?)%>/g,ve=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ce=/^\w*$/,Be=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,on=/[\\^$.*+?()[\]{}|]/g,vn=RegExp(on.source),Sn=/^\s+/,En=/\s/,sr=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,In=/\{\n\/\* \[wrapped with (.+)\] \*/,ni=/,? & /,tr=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ri=/[()=,{}\[\]\/\s]/,ii=/\\(\\)?/g,Mi=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,br=/\w*$/,ya=/^[-+]0x[0-9a-f]+$/i,qr=/^0b[01]+$/i,Ar=/^\[object .+?Constructor\]$/,Jn=/^0o[0-7]+$/i,ai=/^(?:0|[1-9]\d*)$/,hi=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Si=/($^)/,Ra=/['\n\r\u2028\u2029\\]/g,Tr="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Ui="\\u2700-\\u27bf",Sr="a-z\\xdf-\\xf6\\xf8-\\xff",jn="A-Z\\xc0-\\xd6\\xd8-\\xde",pi="\\ufe0e\\ufe0f",Bi="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Dr="['\u2019]",wr="[\\ud800-\\udfff]",Ni="["+Bi+"]",Et="["+Tr+"]",Fi="\\d+",na="[\\u2700-\\u27bf]",mi="["+Sr+"]",wi="[^\\ud800-\\udfff"+Bi+Fi+Ui+Sr+jn+"]",Vi="\\ud83c[\\udffb-\\udfff]",ki="[^\\ud800-\\udfff]",vi="(?:\\ud83c[\\udde6-\\uddff]){2}",Hi="[\\ud800-\\udbff][\\udc00-\\udfff]",Wn="["+jn+"]",Nr="(?:"+mi+"|"+wi+")",re="(?:"+Wn+"|"+wi+")",Le="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Qe="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",nr="(?:"+Et+"|"+Vi+")?",cn="[\\ufe0e\\ufe0f]?",$r=cn+nr+("(?:\\u200d(?:"+[ki,vi,Hi].join("|")+")"+cn+nr+")*"),Ei="(?:"+[na,vi,Hi].join("|")+")"+$r,qe="(?:"+[ki+Et+"?",Et,vi,Hi,wr].join("|")+")",jr=RegExp(Dr,"g"),Ci=RegExp(Et,"g"),oi=RegExp(Vi+"(?="+Vi+")|"+qe+$r,"g"),si=RegExp([Wn+"?"+mi+"+"+Le+"(?="+[Ni,Wn,"$"].join("|")+")",re+"+"+Qe+"(?="+[Ni,Wn+Nr,"$"].join("|")+")",Wn+"?"+Nr+"+"+Le,Wn+"+"+Qe,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Fi,Ei].join("|"),"g"),vr=RegExp("[\\u200d\\ud800-\\udfff"+Tr+pi+"]"),Ai=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,jt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],$t=-1,Xt={};Xt[gt]=Xt[Lt]=Xt[vt]=Xt[ht]=Xt[pt]=Xt[Bt]=Xt[Ot]=Xt[zt]=Xt[se]=!0,Xt[z]=Xt[B]=Xt[ot]=Xt[H]=Xt[lt]=Xt[K]=Xt[Q]=Xt[ct]=Xt[It]=Xt[Dt]=Xt[Wt]=Xt[Rt]=Xt[qt]=Xt[ae]=Xt[U]=!1;var Kt={};Kt[z]=Kt[B]=Kt[ot]=Kt[lt]=Kt[H]=Kt[K]=Kt[gt]=Kt[Lt]=Kt[vt]=Kt[ht]=Kt[pt]=Kt[It]=Kt[Dt]=Kt[Wt]=Kt[Rt]=Kt[qt]=Kt[ae]=Kt[Ut]=Kt[Bt]=Kt[Ot]=Kt[zt]=Kt[se]=!0,Kt[Q]=Kt[ct]=Kt[U]=!1;var he={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},pe=parseFloat,Re=parseInt,Ne=typeof d=="object"&&d&&d.Object===Object&&d,rn=typeof self=="object"&&self&&self.Object===Object&&self,Xe=Ne||rn||Function("return this")(),ir=V&&!V.nodeType&&V,gr=ir&&typeof g=="object"&&g&&!g.nodeType&&g,ur=gr&&gr.exports===ir,kr=ur&&Ne.process,hr=function(){try{var Gt=gr&&gr.require&&gr.require("util").types;return Gt||kr&&kr.binding&&kr.binding("util")}catch(oe){}}(),$o=hr&&hr.isArrayBuffer,Ds=hr&&hr.isDate,Ms=hr&&hr.isMap,yr=hr&&hr.isRegExp,ge=hr&&hr.isSet,Ko=hr&&hr.isTypedArray;function Zn(Gt,oe,ue){switch(ue.length){case 0:return Gt.call(oe);case 1:return Gt.call(oe,ue[0]);case 2:return Gt.call(oe,ue[0],ue[1]);case 3:return Gt.call(oe,ue[0],ue[1],ue[2])}return Gt.apply(oe,ue)}function xl(Gt,oe,ue,Ae){for(var Ue=-1,Bn=Gt==null?0:Gt.length;++Ue<Bn;){var lr=Gt[Ue];oe(Ae,lr,ue(lr),Gt)}return Ae}function zi(Gt,oe){for(var ue=-1,Ae=Gt==null?0:Gt.length;++ue<Ae&&oe(Gt[ue],ue,Gt)!==!1;);return Gt}function Lu(Gt,oe){for(var ue=Gt==null?0:Gt.length;ue--&&oe(Gt[ue],ue,Gt)!==!1;);return Gt}function Pu(Gt,oe){for(var ue=-1,Ae=Gt==null?0:Gt.length;++ue<Ae;)if(!oe(Gt[ue],ue,Gt))return!1;return!0}function Ia(Gt,oe){for(var ue=-1,Ae=Gt==null?0:Gt.length,Ue=0,Bn=[];++ue<Ae;){var lr=Gt[ue];oe(lr,ue,Gt)&&(Bn[Ue++]=lr)}return Bn}function ui(Gt,oe){return!!(Gt==null?0:Gt.length)&&Ma(Gt,oe,0)>-1}function Us(Gt,oe,ue){for(var Ae=-1,Ue=Gt==null?0:Gt.length;++Ae<Ue;)if(ue(oe,Gt[Ae]))return!0;return!1}function Kn(Gt,oe){for(var ue=-1,Ae=Gt==null?0:Gt.length,Ue=Array(Ae);++ue<Ae;)Ue[ue]=oe(Gt[ue],ue,Gt);return Ue}function ra(Gt,oe){for(var ue=-1,Ae=oe.length,Ue=Gt.length;++ue<Ae;)Gt[Ue+ue]=oe[ue];return Gt}function Xo(Gt,oe,ue,Ae){var Ue=-1,Bn=Gt==null?0:Gt.length;for(Ae&&Bn&&(ue=Gt[++Ue]);++Ue<Bn;)ue=oe(ue,Gt[Ue],Ue,Gt);return ue}function Ol(Gt,oe,ue,Ae){var Ue=Gt==null?0:Gt.length;for(Ae&&Ue&&(ue=Gt[--Ue]);Ue--;)ue=oe(ue,Gt[Ue],Ue,Gt);return ue}function Yo(Gt,oe){for(var ue=-1,Ae=Gt==null?0:Gt.length;++ue<Ae;)if(oe(Gt[ue],ue,Gt))return!0;return!1}var Da=Ll("length");function Jo(Gt,oe,ue){var Ae;return ue(Gt,function(Ue,Bn,lr){if(oe(Ue,Bn,lr))return Ae=Bn,!1}),Ae}function _a(Gt,oe,ue,Ae){for(var Ue=Gt.length,Bn=ue+(Ae?1:-1);Ae?Bn--:++Bn<Ue;)if(oe(Gt[Bn],Bn,Gt))return Bn;return-1}function Ma(Gt,oe,ue){return oe==oe?function(Ae,Ue,Bn){for(var lr=Bn-1,oa=Ae.length;++lr<oa;)if(Ae[lr]===Ue)return lr;return-1}(Gt,oe,ue):_a(Gt,Zo,ue)}function Bs(Gt,oe,ue,Ae){for(var Ue=ue-1,Bn=Gt.length;++Ue<Bn;)if(Ae(Gt[Ue],oe))return Ue;return-1}function Zo(Gt){return Gt!=Gt}function So(Gt,oe){var ue=Gt==null?0:Gt.length;return ue?Vs(Gt,oe)/ue:E}function Ll(Gt){return function(oe){return oe==null?u:oe[Gt]}}function Ns(Gt){return function(oe){return Gt==null?u:Gt[oe]}}function Fs(Gt,oe,ue,Ae,Ue){return Ue(Gt,function(Bn,lr,oa){ue=Ae?(Ae=!1,Bn):oe(ue,Bn,lr,oa)}),ue}function Vs(Gt,oe){for(var ue,Ae=-1,Ue=Gt.length;++Ae<Ue;){var Bn=oe(Gt[Ae]);Bn!==u&&(ue=ue===u?Bn:ue+Bn)}return ue}function Gi(Gt,oe){for(var ue=-1,Ae=Array(Gt);++ue<Gt;)Ae[ue]=oe(ue);return Ae}function Qo(Gt){return Gt&&Gt.slice(0,Pl(Gt)+1).replace(Sn,"")}function Pr(Gt){return function(oe){return Gt(oe)}}function Hs(Gt,oe){return Kn(oe,function(ue){return Gt[ue]})}function Kr(Gt,oe){return Gt.has(oe)}function ba(Gt,oe){for(var ue=-1,Ae=Gt.length;++ue<Ae&&Ma(oe,Gt[ue],0)>-1;);return ue}function Ru(Gt,oe){for(var ue=Gt.length;ue--&&Ma(oe,Gt[ue],0)>-1;);return ue}function sn(Gt,oe){for(var ue=Gt.length,Ae=0;ue--;)Gt[ue]===oe&&++Ae;return Ae}var zs=Ns({\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"}),Za=Ns({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function ia(Gt){return"\\"+he[Gt]}function wo(Gt){return vr.test(Gt)}function ts(Gt){var oe=-1,ue=Array(Gt.size);return Gt.forEach(function(Ae,Ue){ue[++oe]=[Ue,Ae]}),ue}function es(Gt,oe){return function(ue){return Gt(oe(ue))}}function Qa(Gt,oe){for(var ue=-1,Ae=Gt.length,Ue=0,Bn=[];++ue<Ae;){var lr=Gt[ue];lr!==oe&&lr!==l||(Gt[ue]=l,Bn[Ue++]=ue)}return Bn}function ns(Gt){var oe=-1,ue=Array(Gt.size);return Gt.forEach(function(Ae){ue[++oe]=Ae}),ue}function aa(Gt){var oe=-1,ue=Array(Gt.size);return Gt.forEach(function(Ae){ue[++oe]=[Ae,Ae]}),ue}function gi(Gt){return wo(Gt)?function(oe){for(var ue=oi.lastIndex=0;oi.test(oe);)++ue;return ue}(Gt):Da(Gt)}function ji(Gt){return wo(Gt)?function(oe){return oe.match(oi)||[]}(Gt):function(oe){return oe.split("")}(Gt)}function Pl(Gt){for(var oe=Gt.length;oe--&&En.test(Gt.charAt(oe)););return oe}var Sc=Ns({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Gs=function Gt(oe){var ue,Ae=(oe=oe==null?Xe:Gs.defaults(Xe.Object(),oe,Gs.pick(Xe,jt))).Array,Ue=oe.Date,Bn=oe.Error,lr=oe.Function,oa=oe.Math,ar=oe.Object,Iu=oe.RegExp,Rl=oe.String,Wi=oe.TypeError,rs=Ae.prototype,Il=lr.prototype,to=ar.prototype,ko=oe["__core-js_shared__"],Ws=Il.toString,Xn=to.hasOwnProperty,Du=0,Dl=(ue=/[^.]+$/.exec(ko&&ko.keys&&ko.keys.IE_PROTO||""))?"Symbol(src)_1."+ue:"",Eo=to.toString,qs=Ws.call(ar),$s=Xe._,Ml=Iu("^"+Ws.call(Xn).replace(on,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Mu=ur?oe.Buffer:u,eo=oe.Symbol,is=oe.Uint8Array,Ks=Mu?Mu.allocUnsafe:u,no=es(ar.getPrototypeOf,ar),Xs=ar.create,Uu=to.propertyIsEnumerable,as=rs.splice,wc=eo?eo.isConcatSpreadable:u,Ys=eo?eo.iterator:u,yi=eo?eo.toStringTag:u,sa=function(){try{var s=ha(ar,"defineProperty");return s({},"",{}),s}catch(m){}}(),Js=oe.clearTimeout!==Xe.clearTimeout&&oe.clearTimeout,ro=Ue&&Ue.now!==Xe.Date.now&&Ue.now,kc=oe.setTimeout!==Xe.setTimeout&&oe.setTimeout,Bu=oa.ceil,qi=oa.floor,Ua=ar.getOwnPropertySymbols,Nu=Mu?Mu.isBuffer:u,Fu=oe.isFinite,Ba=rs.join,_r=es(ar.keys,ar),Er=oa.max,Fr=oa.min,Ec=Ue.now,Vu=oe.parseInt,os=oa.random,Ul=rs.reverse,Zs=ha(oe,"DataView"),Na=ha(oe,"Map"),ua=ha(oe,"Promise"),Fa=ha(oe,"Set"),io=ha(oe,"WeakMap"),Qs=ha(ar,"create"),Hu=io&&new io,Ta={},Cc=xr(Zs),Ac=xr(Na),ss=xr(ua),Co=xr(Fa),ao=xr(io),us=eo?eo.prototype:u,ls=us?us.valueOf:u,tu=us?us.toString:u;function rt(s){if(Ln(s)&&!xe(s)&&!(s instanceof xn)){if(s instanceof li)return s;if(Xn.call(s,"__wrapped__"))return Ri(s)}return new li(s)}var Vr=function(){function s(){}return function(m){if(!tn(m))return{};if(Xs)return Xs(m);s.prototype=m;var I=new s;return s.prototype=u,I}}();function dr(){}function li(s,m){this.__wrapped__=s,this.__actions__=[],this.__chain__=!!m,this.__index__=0,this.__values__=u}function xn(s){this.__wrapped__=s,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=A,this.__views__=[]}function Sa(s){var m=-1,I=s==null?0:s.length;for(this.clear();++m<I;){var W=s[m];this.set(W[0],W[1])}}function Xr(s){var m=-1,I=s==null?0:s.length;for(this.clear();++m<I;){var W=s[m];this.set(W[0],W[1])}}function $i(s){var m=-1,I=s==null?0:s.length;for(this.clear();++m<I;){var W=s[m];this.set(W[0],W[1])}}function Va(s){var m=-1,I=s==null?0:s.length;for(this.__data__=new $i;++m<I;)this.add(s[m])}function Ki(s){var m=this.__data__=new Xr(s);this.size=m.size}function jc(s,m){var I=xe(s),W=!I&&$n(s),Z=!I&&!W&&Zr(s),st=!I&&!W&&!Z&&wu(s),Tt=I||W||Z||st,Ct=Tt?Gi(s.length,Rl):[],Ht=Ct.length;for(var de in s)!m&&!Xn.call(s,de)||Tt&&(de=="length"||Z&&(de=="offset"||de=="parent")||st&&(de=="buffer"||de=="byteLength"||de=="byteOffset")||Yi(de,Ht))||Ct.push(de);return Ct}function Bl(s){var m=s.length;return m?s[ys(0,m-1)]:u}function eu(s,m){return fl(Yr(s),xi(m,0,s.length))}function nd(s){return fl(Yr(s))}function Nl(s,m,I){(I!==u&&!Hn(s[m],I)||I===u&&!(m in s))&&Xi(s,m,I)}function cs(s,m,I){var W=s[m];Xn.call(s,m)&&Hn(W,I)&&(I!==u||m in s)||Xi(s,m,I)}function nu(s,m){for(var I=s.length;I--;)if(Hn(s[I][0],m))return I;return-1}function xc(s,m,I,W){return za(s,function(Z,st,Tt){m(W,Z,I(Z),Tt)}),W}function Ao(s,m){return s&&da(m,Qr(m),s)}function Xi(s,m,I){m=="__proto__"&&sa?sa(s,m,{configurable:!0,enumerable:!0,value:I,writable:!0}):s[m]=I}function zu(s,m){for(var I=-1,W=m.length,Z=Ae(W),st=s==null;++I<W;)Z[I]=st?u:Vc(s,m[I]);return Z}function xi(s,m,I){return s==s&&(I!==u&&(s=s<=I?s:I),m!==u&&(s=s>=m?s:m)),s}function pr(s,m,I,W,Z,st){var Tt,Ct=1&m,Ht=2&m,de=4&m;if(I&&(Tt=Z?I(s,W,Z,st):I(s)),Tt!==u)return Tt;if(!tn(s))return s;var fe=xe(s);if(fe){if(Tt=function(me){var ke=me.length,yn=new me.constructor(ke);return ke&&typeof me[0]=="string"&&Xn.call(me,"index")&&(yn.index=me.index,yn.input=me.input),yn}(s),!Ct)return Yr(s,Tt)}else{var be=Dn(s),Ge=be==ct||be==mt;if(Zr(s))return nl(s,Ct);if(be==Wt||be==z||Ge&&!Z){if(Tt=Ht||Ge?{}:Uo(s),!Ct)return Ht?function(me,ke){return da(me,ec(me),ke)}(s,function(me,ke){return me&&da(ke,Qi(ke),me)}(Tt,s)):function(me,ke){return da(me,Xa(me),ke)}(s,Ao(Tt,s))}else{if(!Kt[be])return Z?s:{};Tt=function(me,ke,yn){var We=me.constructor;switch(ke){case ot:return du(me);case H:case K:return new We(+me);case lt:return function(pn,Vn){var nn=Vn?du(pn.buffer):pn.buffer;return new pn.constructor(nn,pn.byteOffset,pn.byteLength)}(me,yn);case gt:case Lt:case vt:case ht:case pt:case Bt:case Ot:case zt:case se:return rl(me,yn);case It:return new We;case Dt:case ae:return new We(me);case Rt:return function(pn){var Vn=new pn.constructor(pn.source,br.exec(pn));return Vn.lastIndex=pn.lastIndex,Vn}(me);case qt:return new We;case Ut:return _n=me,ls?ar(ls.call(_n)):{}}var _n}(s,be,Ct)}}st||(st=new Ki);var $e=st.get(s);if($e)return $e;st.set(s,Tt),dc(s)?s.forEach(function(me){Tt.add(pr(me,m,I,me,s,st))}):Or(s)&&s.forEach(function(me,ke){Tt.set(ke,pr(me,m,I,ke,s,st))});var en=fe?u:(de?Ht?ul:tc:Ht?Qi:Qr)(s);return zi(en||s,function(me,ke){en&&(me=s[ke=me]),cs(Tt,ke,pr(me,m,I,ke,s,st))}),Tt}function ds(s,m,I){var W=I.length;if(s==null)return!W;for(s=ar(s);W--;){var Z=I[W],st=m[Z],Tt=s[Z];if(Tt===u&&!(Z in s)||!st(Tt))return!1}return!0}function Hr(s,m,I){if(typeof s!="function")throw new Wi(c);return _i(function(){s.apply(u,I)},m)}function Ha(s,m,I,W){var Z=-1,st=ui,Tt=!0,Ct=s.length,Ht=[],de=m.length;if(!Ct)return Ht;I&&(m=Kn(m,Pr(I))),W?(st=Us,Tt=!1):m.length>=200&&(st=Kr,Tt=!1,m=new Va(m));t:for(;++Z<Ct;){var fe=s[Z],be=I==null?fe:I(fe);if(fe=W||fe!==0?fe:0,Tt&&be==be){for(var Ge=de;Ge--;)if(m[Ge]===be)continue t;Ht.push(fe)}else st(m,be,W)||Ht.push(fe)}return Ht}rt.templateSettings={escape:zn,evaluate:te,interpolate:Se,variable:"",imports:{_:rt}},rt.prototype=dr.prototype,rt.prototype.constructor=rt,li.prototype=Vr(dr.prototype),li.prototype.constructor=li,xn.prototype=Vr(dr.prototype),xn.prototype.constructor=xn,Sa.prototype.clear=function(){this.__data__=Qs?Qs(null):{},this.size=0},Sa.prototype.delete=function(s){var m=this.has(s)&&delete this.__data__[s];return this.size-=m?1:0,m},Sa.prototype.get=function(s){var m=this.__data__;if(Qs){var I=m[s];return I===p?u:I}return Xn.call(m,s)?m[s]:u},Sa.prototype.has=function(s){var m=this.__data__;return Qs?m[s]!==u:Xn.call(m,s)},Sa.prototype.set=function(s,m){var I=this.__data__;return this.size+=this.has(s)?0:1,I[s]=Qs&&m===u?p:m,this},Xr.prototype.clear=function(){this.__data__=[],this.size=0},Xr.prototype.delete=function(s){var m=this.__data__,I=nu(m,s);return!(I<0)&&(I==m.length-1?m.pop():as.call(m,I,1),--this.size,!0)},Xr.prototype.get=function(s){var m=this.__data__,I=nu(m,s);return I<0?u:m[I][1]},Xr.prototype.has=function(s){return nu(this.__data__,s)>-1},Xr.prototype.set=function(s,m){var I=this.__data__,W=nu(I,s);return W<0?(++this.size,I.push([s,m])):I[W][1]=m,this},$i.prototype.clear=function(){this.size=0,this.__data__={hash:new Sa,map:new(Na||Xr),string:new Sa}},$i.prototype.delete=function(s){var m=gu(this,s).delete(s);return this.size-=m?1:0,m},$i.prototype.get=function(s){return gu(this,s).get(s)},$i.prototype.has=function(s){return gu(this,s).has(s)},$i.prototype.set=function(s,m){var I=gu(this,s),W=I.size;return I.set(s,m),this.size+=I.size==W?0:1,this},Va.prototype.add=Va.prototype.push=function(s){return this.__data__.set(s,p),this},Va.prototype.has=function(s){return this.__data__.has(s)},Ki.prototype.clear=function(){this.__data__=new Xr,this.size=0},Ki.prototype.delete=function(s){var m=this.__data__,I=m.delete(s);return this.size=m.size,I},Ki.prototype.get=function(s){return this.__data__.get(s)},Ki.prototype.has=function(s){return this.__data__.has(s)},Ki.prototype.set=function(s,m){var I=this.__data__;if(I instanceof Xr){var W=I.__data__;if(!Na||W.length<199)return W.push([s,m]),this.size=++I.size,this;I=this.__data__=new $i(W)}return I.set(s,m),this.size=I.size,this};var za=ol(wa),ru=ol(Wu,!0);function rd(s,m){var I=!0;return za(s,function(W,Z,st){return I=!!m(W,Z,st)}),I}function fs(s,m,I){for(var W=-1,Z=s.length;++W<Z;){var st=s[W],Tt=m(st);if(Tt!=null&&(Ct===u?Tt==Tt&&!Ti(Tt):I(Tt,Ct)))var Ct=Tt,Ht=st}return Ht}function Gu(s,m){var I=[];return za(s,function(W,Z,st){m(W,Z,st)&&I.push(W)}),I}function Mr(s,m,I,W,Z){var st=-1,Tt=s.length;for(I||(I=ll),Z||(Z=[]);++st<Tt;){var Ct=s[st];m>0&&I(Ct)?m>1?Mr(Ct,m-1,I,W,Z):ra(Z,Ct):W||(Z[Z.length]=Ct)}return Z}var Fl=Kl(),Vl=Kl(!0);function wa(s,m){return s&&Fl(s,m,Qr)}function Wu(s,m){return s&&Vl(s,m,Qr)}function iu(s,m){return Ia(m,function(I){return wn(s[I])})}function oo(s,m){for(var I=0,W=(m=qa(m,s)).length;s!=null&&I<W;)s=s[pa(m[I++])];return I&&I==W?s:u}function jo(s,m,I){var W=m(s);return xe(s)?W:ra(W,I(s))}function On(s){return s==null?s===u?"[object Undefined]":"[object Null]":yi&&yi in ar(s)?function(m){var I=Xn.call(m,yi),W=m[yi];try{m[yi]=u;var Z=!0}catch(Tt){}var st=Eo.call(m);return Z&&(I?m[yi]=W:delete m[yi]),st}(s):function(m){return Eo.call(m)}(s)}function ka(s,m){return s>m}function so(s,m){return s!=null&&Xn.call(s,m)}function hs(s,m){return s!=null&&m in ar(s)}function ps(s,m,I){for(var W=I?Us:ui,Z=s[0].length,st=s.length,Tt=st,Ct=Ae(st),Ht=1/0,de=[];Tt--;){var fe=s[Tt];Tt&&m&&(fe=Kn(fe,Pr(m))),Ht=Fr(fe.length,Ht),Ct[Tt]=!I&&(m||Z>=120&&fe.length>=120)?new Va(Tt&&fe):u}fe=s[0];var be=-1,Ge=Ct[0];t:for(;++be<Z&&de.length<Ht;){var $e=fe[be],en=m?m($e):$e;if($e=I||$e!==0?$e:0,!(Ge?Kr(Ge,en):W(de,en,I))){for(Tt=st;--Tt;){var me=Ct[Tt];if(!(me?Kr(me,en):W(s[Tt],en,I)))continue t}Ge&&Ge.push(en),de.push($e)}}return de}function uo(s,m,I){var W=(s=dl(s,m=qa(m,s)))==null?s:s[pa(di(m))];return W==null?u:Zn(W,s,I)}function au(s){return Ln(s)&&On(s)==z}function ms(s,m,I,W,Z){return s===m||(s==null||m==null||!Ln(s)&&!Ln(m)?s!=s&&m!=m:function(st,Tt,Ct,Ht,de,fe){var be=xe(st),Ge=xe(Tt),$e=be?B:Dn(st),en=Ge?B:Dn(Tt),me=($e=$e==z?Wt:$e)==Wt,ke=(en=en==z?Wt:en)==Wt,yn=$e==en;if(yn&&Zr(st)){if(!Zr(Tt))return!1;be=!0,me=!1}if(yn&&!me)return fe||(fe=new Ki),be||wu(st)?Ic(st,Tt,Ct,Ht,de,fe):function(nn,hn,Rr,ma,go,Gr,Vo){switch(Rr){case lt:if(nn.byteLength!=hn.byteLength||nn.byteOffset!=hn.byteOffset)return!1;nn=nn.buffer,hn=hn.buffer;case ot:return!(nn.byteLength!=hn.byteLength||!Gr(new is(nn),new is(hn)));case H:case K:case Dt:return Hn(+nn,+hn);case Q:return nn.name==hn.name&&nn.message==hn.message;case Rt:case ae:return nn==hn+"";case It:var Os=ts;case qt:var Tl=1&ma;if(Os||(Os=ns),nn.size!=hn.size&&!Tl)return!1;var Cu=Vo.get(nn);if(Cu)return Cu==hn;ma|=2,Vo.set(nn,hn);var Ho=Ic(Os(nn),Os(hn),ma,go,Gr,Vo);return Vo.delete(nn),Ho;case Ut:if(ls)return ls.call(nn)==ls.call(hn)}return!1}(st,Tt,$e,Ct,Ht,de,fe);if(!(1&Ct)){var We=me&&Xn.call(st,"__wrapped__"),_n=ke&&Xn.call(Tt,"__wrapped__");if(We||_n){var pn=We?st.value():st,Vn=_n?Tt.value():Tt;return fe||(fe=new Ki),de(pn,Vn,Ct,Ht,fe)}}return yn?(fe||(fe=new Ki),function(nn,hn,Rr,ma,go,Gr){var Vo=1&Rr,Os=tc(nn),Tl=Os.length,Cu=tc(hn).length;if(Tl!=Cu&&!Vo)return!1;for(var Ho=Tl;Ho--;){var zo=Os[Ho];if(!(Vo?zo in hn:Xn.call(hn,zo)))return!1}var Gd=Gr.get(nn),Au=Gr.get(hn);if(Gd&&Au)return Gd==hn&&Au==nn;var Qn=!0;Gr.set(nn,hn),Gr.set(hn,nn);for(var _d=Vo;++Ho<Tl;){var Kc=nn[zo=Os[Ho]],Xc=hn[zo];if(ma)var Wd=Vo?ma(Xc,Kc,zo,hn,nn,Gr):ma(Kc,Xc,zo,nn,hn,Gr);if(!(Wd===u?Kc===Xc||go(Kc,Xc,Rr,ma,Gr):Wd)){Qn=!1;break}_d||(_d=zo=="constructor")}if(Qn&&!_d){var ju=nn.constructor,Yc=hn.constructor;ju==Yc||!("constructor"in nn)||!("constructor"in hn)||typeof ju=="function"&&ju instanceof ju&&typeof Yc=="function"&&Yc instanceof Yc||(Qn=!1)}return Gr.delete(nn),Gr.delete(hn),Qn}(st,Tt,Ct,Ht,de,fe)):!1}(s,m,I,W,ms,Z))}function xo(s,m,I,W){var Z=I.length,st=Z,Tt=!W;if(s==null)return!st;for(s=ar(s);Z--;){var Ct=I[Z];if(Tt&&Ct[2]?Ct[1]!==s[Ct[0]]:!(Ct[0]in s))return!1}for(;++Z<st;){var Ht=(Ct=I[Z])[0],de=s[Ht],fe=Ct[1];if(Tt&&Ct[2]){if(de===u&&!(Ht in s))return!1}else{var be=new Ki;if(W)var Ge=W(de,fe,Ht,s,m,be);if(!(Ge===u?ms(fe,de,3,W,be):Ge))return!1}}return!0}function Hl(s){return!(!tn(s)||(m=s,Dl&&Dl in m))&&(wn(s)?Ml:Ar).test(xr(s));var m}function la(s){return typeof s=="function"?s:s==null?Ur:typeof s=="object"?xe(s)?qu(s[0],s[1]):Oi(s):hd(s)}function ca(s){if(!Bo(s))return _r(s);var m=[];for(var I in ar(s))Xn.call(s,I)&&I!="constructor"&&m.push(I);return m}function Oc(s){if(!tn(s))return function(Z){var st=[];if(Z!=null)for(var Tt in ar(Z))st.push(Tt);return st}(s);var m=Bo(s),I=[];for(var W in s)(W!="constructor"||!m&&Xn.call(s,W))&&I.push(W);return I}function zl(s,m){return s<m}function Gl(s,m){var I=-1,W=Nn(s)?Ae(s.length):[];return za(s,function(Z,st,Tt){W[++I]=m(Z,st,Tt)}),W}function Oi(s){var m=ho(s);return m.length==1&&m[0][2]?cl(m[0][0],m[0][1]):function(I){return I===s||xo(I,s,m)}}function qu(s,m){return po(s)&&_u(m)?cl(pa(s),m):function(I){var W=Vc(I,s);return W===u&&W===m?Hc(I,s):ms(m,W,3)}}function vs(s,m,I,W,Z){s!==m&&Fl(m,function(st,Tt){if(Z||(Z=new Ki),tn(st))(function(Ht,de,fe,be,Ge,$e,en){var me=bu(Ht,fe),ke=bu(de,fe),yn=en.get(ke);if(yn)return void Nl(Ht,fe,yn);var We=$e?$e(me,ke,fe+"",Ht,de,en):u,_n=We===u;if(_n){var pn=xe(ke),Vn=!pn&&Zr(ke),nn=!pn&&!Vn&&wu(ke);We=ke,pn||Vn||nn?xe(me)?We=me:Mn(me)?We=Yr(me):Vn?(_n=!1,We=nl(ke,!0)):nn?(_n=!1,We=rl(ke,!0)):We=[]:zr(ke)||$n(ke)?(We=me,$n(me)?We=As(me):tn(me)&&!wn(me)||(We=Uo(ke))):_n=!1}_n&&(en.set(ke,We),Ge(We,ke,be,$e,en),en.delete(ke)),Nl(Ht,fe,We)})(s,m,Tt,I,vs,W,Z);else{var Ct=W?W(bu(s,Tt),st,Tt+"",s,m,Z):u;Ct===u&&(Ct=st),Nl(s,Tt,Ct)}},Qi)}function $u(s,m){var I=s.length;if(I)return Yi(m+=m<0?I:0,I)?s[m]:u}function Ku(s,m,I){m=m.length?Kn(m,function(Z){return xe(Z)?function(st){return oo(st,Z.length===1?Z[0]:Z)}:Z}):[Ur];var W=-1;return m=Kn(m,Pr(un())),function(Z,st){var Tt=Z.length;for(Z.sort(st);Tt--;)Z[Tt]=Z[Tt].value;return Z}(Gl(s,function(Z,st,Tt){return{criteria:Kn(m,function(Ct){return Ct(Z)}),index:++W,value:Z}}),function(Z,st){return function(Tt,Ct,Ht){for(var de=-1,fe=Tt.criteria,be=Ct.criteria,Ge=fe.length,$e=Ht.length;++de<Ge;){var en=il(fe[de],be[de]);if(en)return de>=$e?en:en*(Ht[de]=="desc"?-1:1)}return Tt.index-Ct.index}(Z,st,I)})}function gs(s,m,I){for(var W=-1,Z=m.length,st={};++W<Z;){var Tt=m[W],Ct=oo(s,Tt);I(Ct,Tt)&&Oo(st,qa(Tt,s),Ct)}return st}function Ga(s,m,I,W){var Z=W?Bs:Ma,st=-1,Tt=m.length,Ct=s;for(s===m&&(m=Yr(m)),I&&(Ct=Kn(s,Pr(I)));++st<Tt;)for(var Ht=0,de=m[st],fe=I?I(de):de;(Ht=Z(Ct,fe,Ht,W))>-1;)Ct!==s&&as.call(Ct,Ht,1),as.call(s,Ht,1);return s}function Xu(s,m){for(var I=s?m.length:0,W=I-1;I--;){var Z=m[I];if(I==W||Z!==st){var st=Z;Yi(Z)?as.call(s,Z,1):lu(s,Z)}}return s}function ys(s,m){return s+qi(os()*(m-s+1))}function Yu(s,m){var I="";if(!s||m<1||m>b)return I;do m%2&&(I+=s),(m=qi(m/2))&&(s+=s);while(m);return I}function Cn(s,m){return Cs(Zi(s,m,Ur),s+"")}function Lc(s){return Bl(_l(s))}function ou(s,m){var I=_l(s);return fl(I,xi(m,0,I.length))}function Oo(s,m,I,W){if(!tn(s))return s;for(var Z=-1,st=(m=qa(m,s)).length,Tt=st-1,Ct=s;Ct!=null&&++Z<st;){var Ht=pa(m[Z]),de=I;if(Ht==="__proto__"||Ht==="constructor"||Ht==="prototype")return s;if(Z!=Tt){var fe=Ct[Ht];(de=W?W(fe,Ht,Ct):u)===u&&(de=tn(fe)?fe:Yi(m[Z+1])?[]:{})}cs(Ct,Ht,de),Ct=Ct[Ht]}return s}var Wl=Hu?function(s,m){return Hu.set(s,m),s}:Ur,ql=sa?function(s,m){return sa(s,"toString",{configurable:!0,enumerable:!1,value:cd(m),writable:!0})}:Ur;function su(s){return fl(_l(s))}function Li(s,m,I){var W=-1,Z=s.length;m<0&&(m=-m>Z?0:Z+m),(I=I>Z?Z:I)<0&&(I+=Z),Z=m>I?0:I-m>>>0,m>>>=0;for(var st=Ae(Z);++W<Z;)st[W]=s[W+m];return st}function Ju(s,m){var I;return za(s,function(W,Z,st){return!(I=m(W,Z,st))}),!!I}function Lo(s,m,I){var W=0,Z=s==null?W:s.length;if(typeof m=="number"&&m==m&&Z<=2147483647){for(;W<Z;){var st=W+Z>>>1,Tt=s[st];Tt!==null&&!Ti(Tt)&&(I?Tt<=m:Tt<m)?W=st+1:Z=st}return Z}return uu(s,m,Ur,I)}function uu(s,m,I,W){var Z=0,st=s==null?0:s.length;if(st===0)return 0;for(var Tt=(m=I(m))!=m,Ct=m===null,Ht=Ti(m),de=m===u;Z<st;){var fe=qi((Z+st)/2),be=I(s[fe]),Ge=be!==u,$e=be===null,en=be==be,me=Ti(be);if(Tt)var ke=W||en;else ke=de?en&&(W||Ge):Ct?en&&Ge&&(W||!$e):Ht?en&&Ge&&!$e&&(W||!me):!$e&&!me&&(W?be<=m:be<m);ke?Z=fe+1:st=fe}return Fr(st,4294967294)}function Zu(s,m){for(var I=-1,W=s.length,Z=0,st=[];++I<W;){var Tt=s[I],Ct=m?m(Tt):Tt;if(!I||!Hn(Ct,Ht)){var Ht=Ct;st[Z++]=Tt===0?0:Tt}}return st}function Pc(s){return typeof s=="number"?s:Ti(s)?E:+s}function ci(s){if(typeof s=="string")return s;if(xe(s))return Kn(s,ci)+"";if(Ti(s))return tu?tu.call(s):"";var m=s+"";return m=="0"&&1/s==-1/0?"-0":m}function Wa(s,m,I){var W=-1,Z=ui,st=s.length,Tt=!0,Ct=[],Ht=Ct;if(I)Tt=!1,Z=Us;else if(st>=200){var de=m?null:Jl(s);if(de)return ns(de);Tt=!1,Z=Kr,Ht=new Va}else Ht=m?[]:Ct;t:for(;++W<st;){var fe=s[W],be=m?m(fe):fe;if(fe=I||fe!==0?fe:0,Tt&&be==be){for(var Ge=Ht.length;Ge--;)if(Ht[Ge]===be)continue t;m&&Ht.push(be),Ct.push(fe)}else Z(Ht,be,I)||(Ht!==Ct&&Ht.push(be),Ct.push(fe))}return Ct}function lu(s,m){return(s=dl(s,m=qa(m,s)))==null||delete s[pa(di(m))]}function $l(s,m,I,W){return Oo(s,m,I(oo(s,m)),W)}function _s(s,m,I,W){for(var Z=s.length,st=W?Z:-1;(W?st--:++st<Z)&&m(s[st],st,s););return I?Li(s,W?0:st,W?st+1:Z):Li(s,W?st+1:0,W?Z:st)}function Qu(s,m){var I=s;return I instanceof xn&&(I=I.value()),Xo(m,function(W,Z){return Z.func.apply(Z.thisArg,ra([W],Z.args))},I)}function cu(s,m,I){var W=s.length;if(W<2)return W?Wa(s[0]):[];for(var Z=-1,st=Ae(W);++Z<W;)for(var Tt=s[Z],Ct=-1;++Ct<W;)Ct!=Z&&(st[Z]=Ha(st[Z]||Tt,s[Ct],m,I));return Wa(Mr(st,1),m,I)}function tl(s,m,I){for(var W=-1,Z=s.length,st=m.length,Tt={};++W<Z;){var Ct=W<st?m[W]:u;I(Tt,s[W],Ct)}return Tt}function Po(s){return Mn(s)?s:[]}function lo(s){return typeof s=="function"?s:Ur}function qa(s,m){return xe(s)?s:po(s,m)?[s]:ac(Yn(s))}var bs=Cn;function $a(s,m,I){var W=s.length;return I=I===u?W:I,!m&&I>=W?s:Li(s,m,I)}var el=Js||function(s){return Xe.clearTimeout(s)};function nl(s,m){if(m)return s.slice();var I=s.length,W=Ks?Ks(I):new s.constructor(I);return s.copy(W),W}function du(s){var m=new s.constructor(s.byteLength);return new is(m).set(new is(s)),m}function rl(s,m){var I=m?du(s.buffer):s.buffer;return new s.constructor(I,s.byteOffset,s.length)}function il(s,m){if(s!==m){var I=s!==u,W=s===null,Z=s==s,st=Ti(s),Tt=m!==u,Ct=m===null,Ht=m==m,de=Ti(m);if(!Ct&&!de&&!st&&s>m||st&&Tt&&Ht&&!Ct&&!de||W&&Tt&&Ht||!I&&Ht||!Z)return 1;if(!W&&!st&&!de&&s<m||de&&I&&Z&&!W&&!st||Ct&&I&&Z||!Tt&&Z||!Ht)return-1}return 0}function al(s,m,I,W){for(var Z=-1,st=s.length,Tt=I.length,Ct=-1,Ht=m.length,de=Er(st-Tt,0),fe=Ae(Ht+de),be=!W;++Ct<Ht;)fe[Ct]=m[Ct];for(;++Z<Tt;)(be||Z<st)&&(fe[I[Z]]=s[Z]);for(;de--;)fe[Ct++]=s[Z++];return fe}function fu(s,m,I,W){for(var Z=-1,st=s.length,Tt=-1,Ct=I.length,Ht=-1,de=m.length,fe=Er(st-Ct,0),be=Ae(fe+de),Ge=!W;++Z<fe;)be[Z]=s[Z];for(var $e=Z;++Ht<de;)be[$e+Ht]=m[Ht];for(;++Tt<Ct;)(Ge||Z<st)&&(be[$e+I[Tt]]=s[Z++]);return be}function Yr(s,m){var I=-1,W=s.length;for(m||(m=Ae(W));++I<W;)m[I]=s[I];return m}function da(s,m,I,W){var Z=!I;I||(I={});for(var st=-1,Tt=m.length;++st<Tt;){var Ct=m[st],Ht=W?W(I[Ct],s[Ct],Ct,I,s):u;Ht===u&&(Ht=s[Ct]),Z?Xi(I,Ct,Ht):cs(I,Ct,Ht)}return I}function Ro(s,m){return function(I,W){var Z=xe(I)?xl:xc,st=m?m():{};return Z(I,s,un(W,2),st)}}function Io(s){return Cn(function(m,I){var W=-1,Z=I.length,st=Z>1?I[Z-1]:u,Tt=Z>2?I[2]:u;for(st=s.length>3&&typeof st=="function"?(Z--,st):u,Tt&&Jr(I[0],I[1],Tt)&&(st=Z<3?u:st,Z=1),m=ar(m);++W<Z;){var Ct=I[W];Ct&&s(m,Ct,W,st)}return m})}function ol(s,m){return function(I,W){if(I==null)return I;if(!Nn(I))return s(I,W);for(var Z=I.length,st=m?Z:-1,Tt=ar(I);(m?st--:++st<Z)&&W(Tt[st],st,Tt)!==!1;);return I}}function Kl(s){return function(m,I,W){for(var Z=-1,st=ar(m),Tt=W(m),Ct=Tt.length;Ct--;){var Ht=Tt[s?Ct:++Z];if(I(st[Ht],Ht,st)===!1)break}return m}}function Ts(s){return function(m){var I=wo(m=Yn(m))?ji(m):u,W=I?I[0]:m.charAt(0),Z=I?$a(I,1).join(""):m.slice(1);return W[s]()+Z}}function co(s){return function(m){return Xo(Vd(Nd(m).replace(jr,"")),s,"")}}function Ss(s){return function(){var m=arguments;switch(m.length){case 0:return new s;case 1:return new s(m[0]);case 2:return new s(m[0],m[1]);case 3:return new s(m[0],m[1],m[2]);case 4:return new s(m[0],m[1],m[2],m[3]);case 5:return new s(m[0],m[1],m[2],m[3],m[4]);case 6:return new s(m[0],m[1],m[2],m[3],m[4],m[5]);case 7:return new s(m[0],m[1],m[2],m[3],m[4],m[5],m[6])}var I=Vr(s.prototype),W=s.apply(I,m);return tn(W)?W:I}}function Xl(s){return function(m,I,W){var Z=ar(m);if(!Nn(m)){var st=un(I,3);m=Qr(m),I=function(Ct){return st(Z[Ct],Ct,Z)}}var Tt=s(m,I,W);return Tt>-1?Z[st?m[Tt]:Tt]:u}}function Yl(s){return Pi(function(m){var I=m.length,W=I,Z=li.prototype.thru;for(s&&m.reverse();W--;){var st=m[W];if(typeof st!="function")throw new Wi(c);if(Z&&!Tt&&Ka(st)=="wrapper")var Tt=new li([],!0)}for(W=Tt?W:I;++W<I;){var Ct=Ka(st=m[W]),Ht=Ct=="wrapper"?Ce(st):u;Tt=Ht&&yu(Ht[0])&&Ht[1]==424&&!Ht[4].length&&Ht[9]==1?Tt[Ka(Ht[0])].apply(Tt,Ht[3]):st.length==1&&yu(st)?Tt[Ct]():Tt.thru(st)}return function(){var de=arguments,fe=de[0];if(Tt&&de.length==1&&xe(fe))return Tt.plant(fe).value();for(var be=0,Ge=I?m[be].apply(this,de):fe;++be<I;)Ge=m[be].call(this,Ge);return Ge}})}function hu(s,m,I,W,Z,st,Tt,Ct,Ht,de){var fe=m&S,be=1&m,Ge=2&m,$e=24&m,en=512&m,me=Ge?u:Ss(s);return function ke(){for(var yn=arguments.length,We=Ae(yn),_n=yn;_n--;)We[_n]=arguments[_n];if($e)var pn=Do(ke),Vn=sn(We,pn);if(W&&(We=al(We,W,Z,$e)),st&&(We=fu(We,st,Tt,$e)),yn-=Vn,$e&&yn<de){var nn=Qa(We,pn);return vu(s,m,hu,ke.placeholder,I,We,nn,Ct,Ht,de-yn)}var hn=be?I:this,Rr=Ge?hn[s]:s;return yn=We.length,Ct?We=nc(We,Ct):en&&yn>1&&We.reverse(),fe&&Ht<yn&&(We.length=Ht),this&&this!==Xe&&this instanceof ke&&(Rr=me||Ss(Rr)),Rr.apply(hn,We)}}function sl(s,m){return function(I,W){return function(Z,st,Tt,Ct){return wa(Z,function(Ht,de,fe){st(Ct,Tt(Ht),de,fe)}),Ct}(I,s,m(W),{})}}function pu(s,m){return function(I,W){var Z;if(I===u&&W===u)return m;if(I!==u&&(Z=I),W!==u){if(Z===u)return W;typeof I=="string"||typeof W=="string"?(I=ci(I),W=ci(W)):(I=Pc(I),W=Pc(W)),Z=s(I,W)}return Z}}function mu(s){return Pi(function(m){return m=Kn(m,Pr(un())),Cn(function(I){var W=this;return s(m,function(Z){return Zn(Z,W,I)})})})}function ws(s,m){var I=(m=m===u?" ":ci(m)).length;if(I<2)return I?Yu(m,s):m;var W=Yu(m,Bu(s/gi(m)));return wo(m)?$a(ji(W),0,s).join(""):W.slice(0,s)}function ks(s){return function(m,I,W){return W&&typeof W!="number"&&Jr(m,I,W)&&(I=W=u),m=Aa(m),I===u?(I=m,m=0):I=Aa(I),function(Z,st,Tt,Ct){for(var Ht=-1,de=Er(Bu((st-Z)/(Tt||1)),0),fe=Ae(de);de--;)fe[Ct?de:++Ht]=Z,Z+=Tt;return fe}(m,I,W=W===u?m<I?1:-1:Aa(W),s)}}function fo(s){return function(m,I){return typeof m=="string"&&typeof I=="string"||(m=ja(m),I=ja(I)),s(m,I)}}function vu(s,m,I,W,Z,st,Tt,Ct,Ht,de){var fe=8&m;m|=fe?T:k,4&(m&=~(fe?k:T))||(m&=-4);var be=[s,m,Z,fe?st:u,fe?Tt:u,fe?u:st,fe?u:Tt,Ct,Ht,de],Ge=I.apply(u,be);return yu(s)&&rc(Ge,be),Ge.placeholder=W,ic(Ge,s,m)}function fa(s){var m=oa[s];return function(I,W){if(I=ja(I),(W=W==null?0:Fr(ln(W),292))&&Fu(I)){var Z=(Yn(I)+"e").split("e");return+((Z=(Yn(m(Z[0]+"e"+(+Z[1]+W)))+"e").split("e"))[0]+"e"+(+Z[1]-W))}return m(I)}}var Jl=Fa&&1/ns(new Fa([,-0]))[1]==C?function(s){return new Fa(s)}:Gc;function Zl(s){return function(m){var I=Dn(m);return I==It?ts(m):I==qt?aa(m):function(W,Z){return Kn(Z,function(st){return[st,W[st]]})}(m,s(m))}}function Ea(s,m,I,W,Z,st,Tt,Ct){var Ht=2&m;if(!Ht&&typeof s!="function")throw new Wi(c);var de=W?W.length:0;if(de||(m&=-97,W=Z=u),Tt=Tt===u?Tt:Er(ln(Tt),0),Ct=Ct===u?Ct:ln(Ct),de-=Z?Z.length:0,m&k){var fe=W,be=Z;W=Z=u}var Ge=Ht?u:Ce(s),$e=[s,m,I,W,Z,fe,be,st,Tt,Ct];if(Ge&&function(me,ke){var yn=me[1],We=ke[1],_n=yn|We,pn=_n<131,Vn=We==S&&yn==8||We==S&&yn==w&&me[7].length<=ke[8]||We==384&&ke[7].length<=ke[8]&&yn==8;if(!pn&&!Vn)return me;1&We&&(me[2]=ke[2],_n|=1&yn?0:4);var nn=ke[3];if(nn){var hn=me[3];me[3]=hn?al(hn,nn,ke[4]):nn,me[4]=hn?Qa(me[3],l):ke[4]}(nn=ke[5])&&(hn=me[5],me[5]=hn?fu(hn,nn,ke[6]):nn,me[6]=hn?Qa(me[5],l):ke[6]),(nn=ke[7])&&(me[7]=nn),We&S&&(me[8]=me[8]==null?ke[8]:Fr(me[8],ke[8])),me[9]==null&&(me[9]=ke[9]),me[0]=ke[0],me[1]=_n}($e,Ge),s=$e[0],m=$e[1],I=$e[2],W=$e[3],Z=$e[4],!(Ct=$e[9]=$e[9]===u?Ht?0:s.length:Er($e[9]-de,0))&&24&m&&(m&=-25),m&&m!=1)en=m==8||m==_?function(me,ke,yn){var We=Ss(me);return function _n(){for(var pn=arguments.length,Vn=Ae(pn),nn=pn,hn=Do(_n);nn--;)Vn[nn]=arguments[nn];var Rr=pn<3&&Vn[0]!==hn&&Vn[pn-1]!==hn?[]:Qa(Vn,hn);return(pn-=Rr.length)<yn?vu(me,ke,hu,_n.placeholder,u,Vn,Rr,u,u,yn-pn):Zn(this&&this!==Xe&&this instanceof _n?We:me,this,Vn)}}(s,m,Ct):m!=T&&m!=33||Z.length?hu.apply(u,$e):function(me,ke,yn,We){var _n=1&ke,pn=Ss(me);return function Vn(){for(var nn=-1,hn=arguments.length,Rr=-1,ma=We.length,go=Ae(ma+hn),Gr=this&&this!==Xe&&this instanceof Vn?pn:me;++Rr<ma;)go[Rr]=We[Rr];for(;hn--;)go[Rr++]=arguments[++nn];return Zn(Gr,_n?yn:this,go)}}(s,m,I,W);else var en=function(me,ke,yn){var We=1&ke,_n=Ss(me);return function pn(){return(this&&this!==Xe&&this instanceof pn?_n:me).apply(We?yn:this,arguments)}}(s,m,I);return ic((Ge?Wl:rc)(en,$e),s,m)}function Es(s,m,I,W){return s===u||Hn(s,to[I])&&!Xn.call(W,I)?m:s}function Rc(s,m,I,W,Z,st){return tn(s)&&tn(m)&&(st.set(m,s),vs(s,m,u,Rc,st),st.delete(m)),s}function Ql(s){return zr(s)?u:s}function Ic(s,m,I,W,Z,st){var Tt=1&I,Ct=s.length,Ht=m.length;if(Ct!=Ht&&!(Tt&&Ht>Ct))return!1;var de=st.get(s),fe=st.get(m);if(de&&fe)return de==m&&fe==s;var be=-1,Ge=!0,$e=2&I?new Va:u;for(st.set(s,m),st.set(m,s);++be<Ct;){var en=s[be],me=m[be];if(W)var ke=Tt?W(me,en,be,m,s,st):W(en,me,be,s,m,st);if(ke!==u){if(ke)continue;Ge=!1;break}if($e){if(!Yo(m,function(yn,We){if(!Kr($e,We)&&(en===yn||Z(en,yn,I,W,st)))return $e.push(We)})){Ge=!1;break}}else if(en!==me&&!Z(en,me,I,W,st)){Ge=!1;break}}return st.delete(s),st.delete(m),Ge}function Pi(s){return Cs(Zi(s,u,cc),s+"")}function tc(s){return jo(s,Qr,Xa)}function ul(s){return jo(s,Qi,ec)}var Ce=Hu?function(s){return Hu.get(s)}:Gc;function Ka(s){for(var m=s.name+"",I=Ta[m],W=Xn.call(Ta,m)?I.length:0;W--;){var Z=I[W],st=Z.func;if(st==null||st==s)return Z.name}return m}function Do(s){return(Xn.call(rt,"placeholder")?rt:s).placeholder}function un(){var s=rt.iteratee||mr;return s=s===mr?la:s,arguments.length?s(arguments[0],arguments[1]):s}function gu(s,m){var I=s.__data__;return function(W){var Z=typeof W;return Z=="string"||Z=="number"||Z=="symbol"||Z=="boolean"?W!=="__proto__":W===null}(m)?I[typeof m=="string"?"string":"hash"]:I.map}function ho(s){for(var m=Qr(s),I=m.length;I--;){var W=m[I],Z=s[W];m[I]=[W,Z,_u(Z)]}return m}function ha(s,m){var I=function(W,Z){return W==null?u:W[Z]}(s,m);return Hl(I)?I:u}var Xa=Ua?function(s){return s==null?[]:(s=ar(s),Ia(Ua(s),function(m){return Uu.call(s,m)}))}:bl,ec=Ua?function(s){for(var m=[];s;)ra(m,Xa(s)),s=no(s);return m}:bl,Dn=On;function Mo(s,m,I){for(var W=-1,Z=(m=qa(m,s)).length,st=!1;++W<Z;){var Tt=pa(m[W]);if(!(st=s!=null&&I(s,Tt)))break;s=s[Tt]}return st||++W!=Z?st:!!(Z=s==null?0:s.length)&&Fn(Z)&&Yi(Tt,Z)&&(xe(s)||$n(s))}function Uo(s){return typeof s.constructor!="function"||Bo(s)?{}:Vr(no(s))}function ll(s){return xe(s)||$n(s)||!!(wc&&s&&s[wc])}function Yi(s,m){var I=typeof s;return!!(m=m==null?b:m)&&(I=="number"||I!="symbol"&&ai.test(s))&&s>-1&&s%1==0&&s<m}function Jr(s,m,I){if(!tn(I))return!1;var W=typeof m;return!!(W=="number"?Nn(I)&&Yi(m,I.length):W=="string"&&m in I)&&Hn(I[m],s)}function po(s,m){if(xe(s))return!1;var I=typeof s;return!(I!="number"&&I!="symbol"&&I!="boolean"&&s!=null&&!Ti(s))||ce.test(s)||!ve.test(s)||m!=null&&s in ar(m)}function yu(s){var m=Ka(s),I=rt[m];if(typeof I!="function"||!(m in xn.prototype))return!1;if(s===I)return!0;var W=Ce(I);return!!W&&s===W[0]}(Zs&&Dn(new Zs(new ArrayBuffer(1)))!=lt||Na&&Dn(new Na)!=It||ua&&Dn(ua.resolve())!=Zt||Fa&&Dn(new Fa)!=qt||io&&Dn(new io)!=U)&&(Dn=function(s){var m=On(s),I=m==Wt?s.constructor:u,W=I?xr(I):"";if(W)switch(W){case Cc:return lt;case Ac:return It;case ss:return Zt;case Co:return qt;case ao:return U}return m});var Ji=ko?wn:qc;function Bo(s){var m=s&&s.constructor;return s===(typeof m=="function"&&m.prototype||to)}function _u(s){return s==s&&!tn(s)}function cl(s,m){return function(I){return I!=null&&I[s]===m&&(m!==u||s in ar(I))}}function Zi(s,m,I){return m=Er(m===u?s.length-1:m,0),function(){for(var W=arguments,Z=-1,st=Er(W.length-m,0),Tt=Ae(st);++Z<st;)Tt[Z]=W[m+Z];Z=-1;for(var Ct=Ae(m+1);++Z<m;)Ct[Z]=W[Z];return Ct[m]=I(Tt),Zn(s,this,Ct)}}function dl(s,m){return m.length<2?s:oo(s,Li(m,0,-1))}function nc(s,m){for(var I=s.length,W=Fr(m.length,I),Z=Yr(s);W--;){var st=m[W];s[W]=Yi(st,I)?Z[st]:u}return s}function bu(s,m){if((m!=="constructor"||typeof s[m]!="function")&&m!="__proto__")return s[m]}var rc=No(Wl),_i=kc||function(s,m){return Xe.setTimeout(s,m)},Cs=No(ql);function ic(s,m,I){var W=m+"";return Cs(s,function(Z,st){var Tt=st.length;if(!Tt)return Z;var Ct=Tt-1;return st[Ct]=(Tt>1?"& ":"")+st[Ct],st=st.join(Tt>2?", ":" "),Z.replace(sr,`{
/* [wrapped with `+st+`] */
`)}(W,function(Z,st){return zi(P,function(Tt){var Ct="_."+Tt[0];st&Tt[1]&&!ui(Z,Ct)&&Z.push(Ct)}),Z.sort()}(function(Z){var st=Z.match(In);return st?st[1].split(ni):[]}(W),I)))}function No(s){var m=0,I=0;return function(){var W=Ec(),Z=16-(W-I);if(I=W,Z>0){if(++m>=800)return arguments[0]}else m=0;return s.apply(u,arguments)}}function fl(s,m){var I=-1,W=s.length,Z=W-1;for(m=m===u?W:m;++I<m;){var st=ys(I,Z),Tt=s[st];s[st]=s[I],s[I]=Tt}return s.length=m,s}var ac=function(s){var m=_e(s,function(W){return I.size===500&&I.clear(),W}),I=m.cache;return m}(function(s){var m=[];return s.charCodeAt(0)===46&&m.push(""),s.replace(Be,function(I,W,Z,st){m.push(Z?st.replace(ii,"$1"):W||I)}),m});function pa(s){if(typeof s=="string"||Ti(s))return s;var m=s+"";return m=="0"&&1/s==-1/0?"-0":m}function xr(s){if(s!=null){try{return Ws.call(s)}catch(m){}try{return s+""}catch(m){}}return""}function Ri(s){if(s instanceof xn)return s.clone();var m=new li(s.__wrapped__,s.__chain__);return m.__actions__=Yr(s.__actions__),m.__index__=s.__index__,m.__values__=s.__values__,m}var oc=Cn(function(s,m){return Mn(s)?Ha(s,Mr(m,1,Mn,!0)):[]}),Dc=Cn(function(s,m){var I=di(m);return Mn(I)&&(I=u),Mn(s)?Ha(s,Mr(m,1,Mn,!0),un(I,2)):[]}),sc=Cn(function(s,m){var I=di(m);return Mn(I)&&(I=u),Mn(s)?Ha(s,Mr(m,1,Mn,!0),u,I):[]});function uc(s,m,I){var W=s==null?0:s.length;if(!W)return-1;var Z=I==null?0:ln(I);return Z<0&&(Z=Er(W+Z,0)),_a(s,un(m,3),Z)}function lc(s,m,I){var W=s==null?0:s.length;if(!W)return-1;var Z=W-1;return I!==u&&(Z=ln(I),Z=I<0?Er(W+Z,0):Fr(Z,W-1)),_a(s,un(m,3),Z,!0)}function cc(s){return(s==null?0:s.length)?Mr(s,1):[]}function hl(s){return s&&s.length?s[0]:u}var Fo=Cn(function(s){var m=Kn(s,Po);return m.length&&m[0]===s[0]?ps(m):[]}),pl=Cn(function(s){var m=di(s),I=Kn(s,Po);return m===di(I)?m=u:I.pop(),I.length&&I[0]===s[0]?ps(I,un(m,2)):[]}),Tu=Cn(function(s){var m=di(s),I=Kn(s,Po);return(m=typeof m=="function"?m:u)&&I.pop(),I.length&&I[0]===s[0]?ps(I,u,m):[]});function di(s){var m=s==null?0:s.length;return m?s[m-1]:u}var Mc=Cn(Su);function Su(s,m){return s&&s.length&&m&&m.length?Ga(s,m):s}var Uc=Pi(function(s,m){var I=s==null?0:s.length,W=zu(s,m);return Xu(s,Kn(m,function(Z){return Yi(Z,I)?+Z:Z}).sort(il)),W});function ml(s){return s==null?s:Ul.call(s)}var vl=Cn(function(s){return Wa(Mr(s,1,Mn,!0))}),gl=Cn(function(s){var m=di(s);return Mn(m)&&(m=u),Wa(Mr(s,1,Mn,!0),un(m,2))}),Bc=Cn(function(s){var m=di(s);return m=typeof m=="function"?m:u,Wa(Mr(s,1,Mn,!0),u,m)});function yl(s){if(!s||!s.length)return[];var m=0;return s=Ia(s,function(I){if(Mn(I))return m=Er(I.length,m),!0}),Gi(m,function(I){return Kn(s,Ll(I))})}function Nc(s,m){if(!s||!s.length)return[];var I=yl(s);return m==null?I:Kn(I,function(W){return Zn(m,u,W)})}var id=Cn(function(s,m){return Mn(s)?Ha(s,m):[]}),ad=Cn(function(s){return cu(Ia(s,Mn))}),Fc=Cn(function(s){var m=di(s);return Mn(m)&&(m=u),cu(Ia(s,Mn),un(m,2))}),h=Cn(function(s){var m=di(s);return m=typeof m=="function"?m:u,cu(Ia(s,Mn),u,m)}),O=Cn(yl),L=Cn(function(s){var m=s.length,I=m>1?s[m-1]:u;return I=typeof I=="function"?(s.pop(),I):u,Nc(s,I)});function M(s){var m=rt(s);return m.__chain__=!0,m}function $(s,m){return m(s)}var N=Pi(function(s){var m=s.length,I=m?s[0]:0,W=this.__wrapped__,Z=function(st){return zu(st,s)};return!(m>1||this.__actions__.length)&&W instanceof xn&&Yi(I)?((W=W.slice(I,+I+(m?1:0))).__actions__.push({func:$,args:[Z],thisArg:u}),new li(W,this.__chain__).thru(function(st){return m&&!st.length&&st.push(u),st})):this.thru(Z)}),et=Ro(function(s,m,I){Xn.call(s,I)?++s[I]:Xi(s,I,1)}),it=Xl(uc),at=Xl(lc);function yt(s,m){return(xe(s)?zi:za)(s,un(m,3))}function Pt(s,m){return(xe(s)?Lu:ru)(s,un(m,3))}var wt=Ro(function(s,m,I){Xn.call(s,I)?s[I].push(m):Xi(s,I,[m])}),Jt=Cn(function(s,m,I){var W=-1,Z=typeof m=="function",st=Nn(s)?Ae(s.length):[];return za(s,function(Tt){st[++W]=Z?Zn(m,Tt,I):uo(Tt,m,I)}),st}),ne=Ro(function(s,m,I){Xi(s,I,m)});function Yt(s,m){return(xe(s)?Kn:Gl)(s,un(m,3))}var Vt=Ro(function(s,m,I){s[I?0:1].push(m)},function(){return[[],[]]}),ye=Cn(function(s,m){if(s==null)return[];var I=m.length;return I>1&&Jr(s,m[0],m[1])?m=[]:I>2&&Jr(m[0],m[1],m[2])&&(m=[m[0]]),Ku(s,Mr(m,1),[])}),Ve=ro||function(){return Xe.Date.now()};function ze(s,m,I){return m=I?u:m,m=s&&m==null?s.length:m,Ea(s,S,u,u,u,u,m)}function Ze(s,m){var I;if(typeof m!="function")throw new Wi(c);return s=ln(s),function(){return--s>0&&(I=m.apply(this,arguments)),s<=1&&(m=u),I}}var An=Cn(function(s,m,I){var W=1;if(I.length){var Z=Qa(I,Do(An));W|=T}return Ea(s,W,m,I,Z)}),Pe=Cn(function(s,m,I){var W=3;if(I.length){var Z=Qa(I,Do(Pe));W|=T}return Ea(m,W,s,I,Z)});function gn(s,m,I){var W,Z,st,Tt,Ct,Ht,de=0,fe=!1,be=!1,Ge=!0;if(typeof s!="function")throw new Wi(c);function $e(_n){var pn=W,Vn=Z;return W=Z=u,de=_n,Tt=s.apply(Vn,pn)}function en(_n){return de=_n,Ct=_i(ke,m),fe?$e(_n):Tt}function me(_n){var pn=_n-Ht;return Ht===u||pn>=m||pn<0||be&&_n-de>=st}function ke(){var _n=Ve();if(me(_n))return yn(_n);Ct=_i(ke,function(pn){var Vn=m-(pn-Ht);return be?Fr(Vn,st-(pn-de)):Vn}(_n))}function yn(_n){return Ct=u,Ge&&W?$e(_n):(W=Z=u,Tt)}function We(){var _n=Ve(),pn=me(_n);if(W=arguments,Z=this,Ht=_n,pn){if(Ct===u)return en(Ht);if(be)return el(Ct),Ct=_i(ke,m),$e(Ht)}return Ct===u&&(Ct=_i(ke,m)),Tt}return m=ja(m)||0,tn(I)&&(fe=!!I.leading,st=(be="maxWait"in I)?Er(ja(I.maxWait)||0,m):st,Ge="trailing"in I?!!I.trailing:Ge),We.cancel=function(){Ct!==u&&el(Ct),de=0,W=Ht=Z=Ct=u},We.flush=function(){return Ct===u?Tt:yn(Ve())},We}var Mt=Cn(function(s,m){return Hr(s,1,m)}),Nt=Cn(function(s,m,I){return Hr(s,ja(m)||0,I)});function _e(s,m){if(typeof s!="function"||m!=null&&typeof m!="function")throw new Wi(c);var I=function(){var W=arguments,Z=m?m.apply(this,W):W[0],st=I.cache;if(st.has(Z))return st.get(Z);var Tt=s.apply(this,W);return I.cache=st.set(Z,Tt)||st,Tt};return I.cache=new(_e.Cache||$i),I}function He(s){if(typeof s!="function")throw new Wi(c);return function(){var m=arguments;switch(m.length){case 0:return!s.call(this);case 1:return!s.call(this,m[0]);case 2:return!s.call(this,m[0],m[1]);case 3:return!s.call(this,m[0],m[1],m[2])}return!s.apply(this,m)}}_e.Cache=$i;var dn=bs(function(s,m){var I=(m=m.length==1&&xe(m[0])?Kn(m[0],Pr(un())):Kn(Mr(m,1),Pr(un()))).length;return Cn(function(W){for(var Z=-1,st=Fr(W.length,I);++Z<st;)W[Z]=m[Z].call(this,W[Z]);return Zn(s,this,W)})}),fn=Cn(function(s,m){var I=Qa(m,Do(fn));return Ea(s,T,u,m,I)}),Tn=Cn(function(s,m){var I=Qa(m,Do(Tn));return Ea(s,k,u,m,I)}),Pn=Pi(function(s,m){return Ea(s,w,u,u,u,m)});function Hn(s,m){return s===m||s!=s&&m!=m}var er=fo(ka),qn=fo(function(s,m){return s>=m}),$n=au(function(){return arguments}())?au:function(s){return Ln(s)&&Xn.call(s,"callee")&&!Uu.call(s,"callee")},xe=Ae.isArray,Rn=$o?Pr($o):function(s){return Ln(s)&&On(s)==ot};function Nn(s){return s!=null&&Fn(s.length)&&!wn(s)}function Mn(s){return Ln(s)&&Nn(s)}var Zr=Nu||qc,mo=Ds?Pr(Ds):function(s){return Ln(s)&&On(s)==K};function bi(s){if(!Ln(s))return!1;var m=On(s);return m==Q||m=="[object DOMException]"||typeof s.message=="string"&&typeof s.name=="string"&&!zr(s)}function wn(s){if(!tn(s))return!1;var m=On(s);return m==ct||m==mt||m=="[object AsyncFunction]"||m=="[object Proxy]"}function we(s){return typeof s=="number"&&s==ln(s)}function Fn(s){return typeof s=="number"&&s>-1&&s%1==0&&s<=b}function tn(s){var m=typeof s;return s!=null&&(m=="object"||m=="function")}function Ln(s){return s!=null&&typeof s=="object"}var Or=Ms?Pr(Ms):function(s){return Ln(s)&&Dn(s)==It};function Cr(s){return typeof s=="number"||Ln(s)&&On(s)==Dt}function zr(s){if(!Ln(s)||On(s)!=Wt)return!1;var m=no(s);if(m===null)return!0;var I=Xn.call(m,"constructor")&&m.constructor;return typeof I=="function"&&I instanceof I&&Ws.call(I)==qs}var vo=yr?Pr(yr):function(s){return Ln(s)&&On(s)==Rt},dc=ge?Pr(ge):function(s){return Ln(s)&&Dn(s)==qt};function fc(s){return typeof s=="string"||!xe(s)&&Ln(s)&&On(s)==ae}function Ti(s){return typeof s=="symbol"||Ln(s)&&On(s)==Ut}var wu=Ko?Pr(Ko):function(s){return Ln(s)&&Fn(s.length)&&!!Xt[On(s)]},jd=fo(zl),xd=fo(function(s,m){return s<=m});function Ca(s){if(!s)return[];if(Nn(s))return fc(s)?ji(s):Yr(s);if(Ys&&s[Ys])return function(I){for(var W,Z=[];!(W=I.next()).done;)Z.push(W.value);return Z}(s[Ys]());var m=Dn(s);return(m==It?ts:m==qt?ns:_l)(s)}function Aa(s){return s?(s=ja(s))===C||s===-1/0?17976931348623157e292*(s<0?-1:1):s==s?s:0:s===0?s:0}function ln(s){var m=Aa(s),I=m%1;return m==m?I?m-I:m:0}function od(s){return s?xi(ln(s),0,A):0}function ja(s){if(typeof s=="number")return s;if(Ti(s))return E;if(tn(s)){var m=typeof s.valueOf=="function"?s.valueOf():s;s=tn(m)?m+"":m}if(typeof s!="string")return s===0?s:+s;s=Qo(s);var I=qr.test(s);return I||Jn.test(s)?Re(s.slice(2),I?2:8):ya.test(s)?E:+s}function As(s){return da(s,Qi(s))}function Yn(s){return s==null?"":ci(s)}var Od=Io(function(s,m){if(Bo(m)||Nn(m))da(m,Qr(m),s);else for(var I in m)Xn.call(m,I)&&cs(s,I,m[I])}),ku=Io(function(s,m){da(m,Qi(m),s)}),Eu=Io(function(s,m,I,W){da(m,Qi(m),s,W)}),Ld=Io(function(s,m,I,W){da(m,Qr(m),s,W)}),Pd=Pi(zu),Rd=Cn(function(s,m){s=ar(s);var I=-1,W=m.length,Z=W>2?m[2]:u;for(Z&&Jr(m[0],m[1],Z)&&(W=1);++I<W;)for(var st=m[I],Tt=Qi(st),Ct=-1,Ht=Tt.length;++Ct<Ht;){var de=Tt[Ct],fe=s[de];(fe===u||Hn(fe,to[de])&&!Xn.call(s,de))&&(s[de]=st[de])}return s}),Id=Cn(function(s){return s.push(u,Rc),Zn(Dd,u,s)});function Vc(s,m,I){var W=s==null?u:oo(s,m);return W===u?I:W}function Hc(s,m){return s!=null&&Mo(s,m,hs)}var Ii=sl(function(s,m,I){m!=null&&typeof m.toString!="function"&&(m=Eo.call(m)),s[m]=I},cd(Ur)),lf=sl(function(s,m,I){m!=null&&typeof m.toString!="function"&&(m=Eo.call(m)),Xn.call(s,m)?s[m].push(I):s[m]=[I]},un),cf=Cn(uo);function Qr(s){return Nn(s)?jc(s):ca(s)}function Qi(s){return Nn(s)?jc(s,!0):Oc(s)}var df=Io(function(s,m,I){vs(s,m,I)}),Dd=Io(function(s,m,I,W){vs(s,m,I,W)}),js=Pi(function(s,m){var I={};if(s==null)return I;var W=!1;m=Kn(m,function(st){return st=qa(st,s),W||(W=st.length>1),st}),da(s,ul(s),I),W&&(I=pr(I,7,Ql));for(var Z=m.length;Z--;)lu(I,m[Z]);return I}),sd=Pi(function(s,m){return s==null?{}:function(I,W){return gs(I,W,function(Z,st){return Hc(I,st)})}(s,m)});function rr(s,m){if(s==null)return{};var I=Kn(ul(s),function(W){return[W]});return m=un(m),gs(s,I,function(W,Z){return m(W,Z[0])})}var Md=Zl(Qr),Ud=Zl(Qi);function _l(s){return s==null?[]:Hs(s,Qr(s))}var ff=co(function(s,m,I){return m=m.toLowerCase(),s+(I?Bd(m):m)});function Bd(s){return ld(Yn(s).toLowerCase())}function Nd(s){return(s=Yn(s))&&s.replace(hi,zs).replace(Ci,"")}var hf=co(function(s,m,I){return s+(I?"-":"")+m.toLowerCase()}),hc=co(function(s,m,I){return s+(I?" ":"")+m.toLowerCase()}),Fd=Ts("toLowerCase"),ud=co(function(s,m,I){return s+(I?"_":"")+m.toLowerCase()}),pf=co(function(s,m,I){return s+(I?" ":"")+ld(m)}),mf=co(function(s,m,I){return s+(I?" ":"")+m.toUpperCase()}),ld=Ts("toUpperCase");function Vd(s,m,I){return s=Yn(s),(m=I?u:m)===u?function(W){return Ai.test(W)}(s)?function(W){return W.match(si)||[]}(s):function(W){return W.match(tr)||[]}(s):s.match(m)||[]}var Hd=Cn(function(s,m){try{return Zn(s,u,m)}catch(I){return bi(I)?I:new Bn(I)}}),xs=Pi(function(s,m){return zi(m,function(I){I=pa(I),Xi(s,I,An(s[I],s))}),s});function cd(s){return function(){return s}}var zc=Yl(),vf=Yl(!0);function Ur(s){return s}function mr(s){return la(typeof s=="function"?s:pr(s,1))}var dd=Cn(function(s,m){return function(I){return uo(I,s,m)}}),ti=Cn(function(s,m){return function(I){return uo(s,I,m)}});function pc(s,m,I){var W=Qr(m),Z=iu(m,W);I!=null||tn(m)&&(Z.length||!W.length)||(I=m,m=s,s=this,Z=iu(m,Qr(m)));var st=!(tn(I)&&"chain"in I&&!I.chain),Tt=wn(s);return zi(Z,function(Ct){var Ht=m[Ct];s[Ct]=Ht,Tt&&(s.prototype[Ct]=function(){var de=this.__chain__;if(st||de){var fe=s(this.__wrapped__),be=fe.__actions__=Yr(this.__actions__);return be.push({func:Ht,args:arguments,thisArg:s}),fe.__chain__=de,fe}return Ht.apply(s,ra([this.value()],arguments))})}),s}function Gc(){}var fd=mu(Kn),gf=mu(Pu),yf=mu(Yo);function hd(s){return po(s)?Ll(pa(s)):function(m){return function(I){return oo(I,m)}}(s)}var Wc=ks(),_f=ks(!0);function bl(){return[]}function qc(){return!1}var pd=pu(function(s,m){return s+m},0),$c=fa("ceil"),md=pu(function(s,m){return s/m},1),bf=fa("floor"),vd,zd=pu(function(s,m){return s*m},1),gd=fa("round"),yd=pu(function(s,m){return s-m},0);return rt.after=function(s,m){if(typeof m!="function")throw new Wi(c);return s=ln(s),function(){if(--s<1)return m.apply(this,arguments)}},rt.ary=ze,rt.assign=Od,rt.assignIn=ku,rt.assignInWith=Eu,rt.assignWith=Ld,rt.at=Pd,rt.before=Ze,rt.bind=An,rt.bindAll=xs,rt.bindKey=Pe,rt.castArray=function(){if(!arguments.length)return[];var s=arguments[0];return xe(s)?s:[s]},rt.chain=M,rt.chunk=function(s,m,I){m=(I?Jr(s,m,I):m===u)?1:Er(ln(m),0);var W=s==null?0:s.length;if(!W||m<1)return[];for(var Z=0,st=0,Tt=Ae(Bu(W/m));Z<W;)Tt[st++]=Li(s,Z,Z+=m);return Tt},rt.compact=function(s){for(var m=-1,I=s==null?0:s.length,W=0,Z=[];++m<I;){var st=s[m];st&&(Z[W++]=st)}return Z},rt.concat=function(){var s=arguments.length;if(!s)return[];for(var m=Ae(s-1),I=arguments[0],W=s;W--;)m[W-1]=arguments[W];return ra(xe(I)?Yr(I):[I],Mr(m,1))},rt.cond=function(s){var m=s==null?0:s.length,I=un();return s=m?Kn(s,function(W){if(typeof W[1]!="function")throw new Wi(c);return[I(W[0]),W[1]]}):[],Cn(function(W){for(var Z=-1;++Z<m;){var st=s[Z];if(Zn(st[0],this,W))return Zn(st[1],this,W)}})},rt.conforms=function(s){return function(m){var I=Qr(m);return function(W){return ds(W,m,I)}}(pr(s,1))},rt.constant=cd,rt.countBy=et,rt.create=function(s,m){var I=Vr(s);return m==null?I:Ao(I,m)},rt.curry=function s(m,I,W){var Z=Ea(m,8,u,u,u,u,u,I=W?u:I);return Z.placeholder=s.placeholder,Z},rt.curryRight=function s(m,I,W){var Z=Ea(m,_,u,u,u,u,u,I=W?u:I);return Z.placeholder=s.placeholder,Z},rt.debounce=gn,rt.defaults=Rd,rt.defaultsDeep=Id,rt.defer=Mt,rt.delay=Nt,rt.difference=oc,rt.differenceBy=Dc,rt.differenceWith=sc,rt.drop=function(s,m,I){var W=s==null?0:s.length;return W?Li(s,(m=I||m===u?1:ln(m))<0?0:m,W):[]},rt.dropRight=function(s,m,I){var W=s==null?0:s.length;return W?Li(s,0,(m=W-(m=I||m===u?1:ln(m)))<0?0:m):[]},rt.dropRightWhile=function(s,m){return s&&s.length?_s(s,un(m,3),!0,!0):[]},rt.dropWhile=function(s,m){return s&&s.length?_s(s,un(m,3),!0):[]},rt.fill=function(s,m,I,W){var Z=s==null?0:s.length;return Z?(I&&typeof I!="number"&&Jr(s,m,I)&&(I=0,W=Z),function(st,Tt,Ct,Ht){var de=st.length;for((Ct=ln(Ct))<0&&(Ct=-Ct>de?0:de+Ct),(Ht=Ht===u||Ht>de?de:ln(Ht))<0&&(Ht+=de),Ht=Ct>Ht?0:od(Ht);Ct<Ht;)st[Ct++]=Tt;return st}(s,m,I,W)):[]},rt.filter=function(s,m){return(xe(s)?Ia:Gu)(s,un(m,3))},rt.flatMap=function(s,m){return Mr(Yt(s,m),1)},rt.flatMapDeep=function(s,m){return Mr(Yt(s,m),C)},rt.flatMapDepth=function(s,m,I){return I=I===u?1:ln(I),Mr(Yt(s,m),I)},rt.flatten=cc,rt.flattenDeep=function(s){return(s==null?0:s.length)?Mr(s,C):[]},rt.flattenDepth=function(s,m){return(s==null?0:s.length)?Mr(s,m=m===u?1:ln(m)):[]},rt.flip=function(s){return Ea(s,512)},rt.flow=zc,rt.flowRight=vf,rt.fromPairs=function(s){for(var m=-1,I=s==null?0:s.length,W={};++m<I;){var Z=s[m];W[Z[0]]=Z[1]}return W},rt.functions=function(s){return s==null?[]:iu(s,Qr(s))},rt.functionsIn=function(s){return s==null?[]:iu(s,Qi(s))},rt.groupBy=wt,rt.initial=function(s){return(s==null?0:s.length)?Li(s,0,-1):[]},rt.intersection=Fo,rt.intersectionBy=pl,rt.intersectionWith=Tu,rt.invert=Ii,rt.invertBy=lf,rt.invokeMap=Jt,rt.iteratee=mr,rt.keyBy=ne,rt.keys=Qr,rt.keysIn=Qi,rt.map=Yt,rt.mapKeys=function(s,m){var I={};return m=un(m,3),wa(s,function(W,Z,st){Xi(I,m(W,Z,st),W)}),I},rt.mapValues=function(s,m){var I={};return m=un(m,3),wa(s,function(W,Z,st){Xi(I,Z,m(W,Z,st))}),I},rt.matches=function(s){return Oi(pr(s,1))},rt.matchesProperty=function(s,m){return qu(s,pr(m,1))},rt.memoize=_e,rt.merge=df,rt.mergeWith=Dd,rt.method=dd,rt.methodOf=ti,rt.mixin=pc,rt.negate=He,rt.nthArg=function(s){return s=ln(s),Cn(function(m){return $u(m,s)})},rt.omit=js,rt.omitBy=function(s,m){return rr(s,He(un(m)))},rt.once=function(s){return Ze(2,s)},rt.orderBy=function(s,m,I,W){return s==null?[]:(xe(m)||(m=m==null?[]:[m]),xe(I=W?u:I)||(I=I==null?[]:[I]),Ku(s,m,I))},rt.over=fd,rt.overArgs=dn,rt.overEvery=gf,rt.overSome=yf,rt.partial=fn,rt.partialRight=Tn,rt.partition=Vt,rt.pick=sd,rt.pickBy=rr,rt.property=hd,rt.propertyOf=function(s){return function(m){return s==null?u:oo(s,m)}},rt.pull=Mc,rt.pullAll=Su,rt.pullAllBy=function(s,m,I){return s&&s.length&&m&&m.length?Ga(s,m,un(I,2)):s},rt.pullAllWith=function(s,m,I){return s&&s.length&&m&&m.length?Ga(s,m,u,I):s},rt.pullAt=Uc,rt.range=Wc,rt.rangeRight=_f,rt.rearg=Pn,rt.reject=function(s,m){return(xe(s)?Ia:Gu)(s,He(un(m,3)))},rt.remove=function(s,m){var I=[];if(!s||!s.length)return I;var W=-1,Z=[],st=s.length;for(m=un(m,3);++W<st;){var Tt=s[W];m(Tt,W,s)&&(I.push(Tt),Z.push(W))}return Xu(s,Z),I},rt.rest=function(s,m){if(typeof s!="function")throw new Wi(c);return Cn(s,m=m===u?m:ln(m))},rt.reverse=ml,rt.sampleSize=function(s,m,I){return m=(I?Jr(s,m,I):m===u)?1:ln(m),(xe(s)?eu:ou)(s,m)},rt.set=function(s,m,I){return s==null?s:Oo(s,m,I)},rt.setWith=function(s,m,I,W){return W=typeof W=="function"?W:u,s==null?s:Oo(s,m,I,W)},rt.shuffle=function(s){return(xe(s)?nd:su)(s)},rt.slice=function(s,m,I){var W=s==null?0:s.length;return W?(I&&typeof I!="number"&&Jr(s,m,I)?(m=0,I=W):(m=m==null?0:ln(m),I=I===u?W:ln(I)),Li(s,m,I)):[]},rt.sortBy=ye,rt.sortedUniq=function(s){return s&&s.length?Zu(s):[]},rt.sortedUniqBy=function(s,m){return s&&s.length?Zu(s,un(m,2)):[]},rt.split=function(s,m,I){return I&&typeof I!="number"&&Jr(s,m,I)&&(m=I=u),(I=I===u?A:I>>>0)?(s=Yn(s))&&(typeof m=="string"||m!=null&&!vo(m))&&!(m=ci(m))&&wo(s)?$a(ji(s),0,I):s.split(m,I):[]},rt.spread=function(s,m){if(typeof s!="function")throw new Wi(c);return m=m==null?0:Er(ln(m),0),Cn(function(I){var W=I[m],Z=$a(I,0,m);return W&&ra(Z,W),Zn(s,this,Z)})},rt.tail=function(s){var m=s==null?0:s.length;return m?Li(s,1,m):[]},rt.take=function(s,m,I){return s&&s.length?Li(s,0,(m=I||m===u?1:ln(m))<0?0:m):[]},rt.takeRight=function(s,m,I){var W=s==null?0:s.length;return W?Li(s,(m=W-(m=I||m===u?1:ln(m)))<0?0:m,W):[]},rt.takeRightWhile=function(s,m){return s&&s.length?_s(s,un(m,3),!1,!0):[]},rt.takeWhile=function(s,m){return s&&s.length?_s(s,un(m,3)):[]},rt.tap=function(s,m){return m(s),s},rt.throttle=function(s,m,I){var W=!0,Z=!0;if(typeof s!="function")throw new Wi(c);return tn(I)&&(W="leading"in I?!!I.leading:W,Z="trailing"in I?!!I.trailing:Z),gn(s,m,{leading:W,maxWait:m,trailing:Z})},rt.thru=$,rt.toArray=Ca,rt.toPairs=Md,rt.toPairsIn=Ud,rt.toPath=function(s){return xe(s)?Kn(s,pa):Ti(s)?[s]:Yr(ac(Yn(s)))},rt.toPlainObject=As,rt.transform=function(s,m,I){var W=xe(s),Z=W||Zr(s)||wu(s);if(m=un(m,4),I==null){var st=s&&s.constructor;I=Z?W?new st:[]:tn(s)&&wn(st)?Vr(no(s)):{}}return(Z?zi:wa)(s,function(Tt,Ct,Ht){return m(I,Tt,Ct,Ht)}),I},rt.unary=function(s){return ze(s,1)},rt.union=vl,rt.unionBy=gl,rt.unionWith=Bc,rt.uniq=function(s){return s&&s.length?Wa(s):[]},rt.uniqBy=function(s,m){return s&&s.length?Wa(s,un(m,2)):[]},rt.uniqWith=function(s,m){return m=typeof m=="function"?m:u,s&&s.length?Wa(s,u,m):[]},rt.unset=function(s,m){return s==null||lu(s,m)},rt.unzip=yl,rt.unzipWith=Nc,rt.update=function(s,m,I){return s==null?s:$l(s,m,lo(I))},rt.updateWith=function(s,m,I,W){return W=typeof W=="function"?W:u,s==null?s:$l(s,m,lo(I),W)},rt.values=_l,rt.valuesIn=function(s){return s==null?[]:Hs(s,Qi(s))},rt.without=id,rt.words=Vd,rt.wrap=function(s,m){return fn(lo(m),s)},rt.xor=ad,rt.xorBy=Fc,rt.xorWith=h,rt.zip=O,rt.zipObject=function(s,m){return tl(s||[],m||[],cs)},rt.zipObjectDeep=function(s,m){return tl(s||[],m||[],Oo)},rt.zipWith=L,rt.entries=Md,rt.entriesIn=Ud,rt.extend=ku,rt.extendWith=Eu,pc(rt,rt),rt.add=pd,rt.attempt=Hd,rt.camelCase=ff,rt.capitalize=Bd,rt.ceil=$c,rt.clamp=function(s,m,I){return I===u&&(I=m,m=u),I!==u&&(I=(I=ja(I))==I?I:0),m!==u&&(m=(m=ja(m))==m?m:0),xi(ja(s),m,I)},rt.clone=function(s){return pr(s,4)},rt.cloneDeep=function(s){return pr(s,5)},rt.cloneDeepWith=function(s,m){return pr(s,5,m=typeof m=="function"?m:u)},rt.cloneWith=function(s,m){return pr(s,4,m=typeof m=="function"?m:u)},rt.conformsTo=function(s,m){return m==null||ds(s,m,Qr(m))},rt.deburr=Nd,rt.defaultTo=function(s,m){return s==null||s!=s?m:s},rt.divide=md,rt.endsWith=function(s,m,I){s=Yn(s),m=ci(m);var W=s.length,Z=I=I===u?W:xi(ln(I),0,W);return(I-=m.length)>=0&&s.slice(I,Z)==m},rt.eq=Hn,rt.escape=function(s){return(s=Yn(s))&&Te.test(s)?s.replace(Ee,Za):s},rt.escapeRegExp=function(s){return(s=Yn(s))&&vn.test(s)?s.replace(on,"\\$&"):s},rt.every=function(s,m,I){var W=xe(s)?Pu:rd;return I&&Jr(s,m,I)&&(m=u),W(s,un(m,3))},rt.find=it,rt.findIndex=uc,rt.findKey=function(s,m){return Jo(s,un(m,3),wa)},rt.findLast=at,rt.findLastIndex=lc,rt.findLastKey=function(s,m){return Jo(s,un(m,3),Wu)},rt.floor=bf,rt.forEach=yt,rt.forEachRight=Pt,rt.forIn=function(s,m){return s==null?s:Fl(s,un(m,3),Qi)},rt.forInRight=function(s,m){return s==null?s:Vl(s,un(m,3),Qi)},rt.forOwn=function(s,m){return s&&wa(s,un(m,3))},rt.forOwnRight=function(s,m){return s&&Wu(s,un(m,3))},rt.get=Vc,rt.gt=er,rt.gte=qn,rt.has=function(s,m){return s!=null&&Mo(s,m,so)},rt.hasIn=Hc,rt.head=hl,rt.identity=Ur,rt.includes=function(s,m,I,W){s=Nn(s)?s:_l(s),I=I&&!W?ln(I):0;var Z=s.length;return I<0&&(I=Er(Z+I,0)),fc(s)?I<=Z&&s.indexOf(m,I)>-1:!!Z&&Ma(s,m,I)>-1},rt.indexOf=function(s,m,I){var W=s==null?0:s.length;if(!W)return-1;var Z=I==null?0:ln(I);return Z<0&&(Z=Er(W+Z,0)),Ma(s,m,Z)},rt.inRange=function(s,m,I){return m=Aa(m),I===u?(I=m,m=0):I=Aa(I),function(W,Z,st){return W>=Fr(Z,st)&&W<Er(Z,st)}(s=ja(s),m,I)},rt.invoke=cf,rt.isArguments=$n,rt.isArray=xe,rt.isArrayBuffer=Rn,rt.isArrayLike=Nn,rt.isArrayLikeObject=Mn,rt.isBoolean=function(s){return s===!0||s===!1||Ln(s)&&On(s)==H},rt.isBuffer=Zr,rt.isDate=mo,rt.isElement=function(s){return Ln(s)&&s.nodeType===1&&!zr(s)},rt.isEmpty=function(s){if(s==null)return!0;if(Nn(s)&&(xe(s)||typeof s=="string"||typeof s.splice=="function"||Zr(s)||wu(s)||$n(s)))return!s.length;var m=Dn(s);if(m==It||m==qt)return!s.size;if(Bo(s))return!ca(s).length;for(var I in s)if(Xn.call(s,I))return!1;return!0},rt.isEqual=function(s,m){return ms(s,m)},rt.isEqualWith=function(s,m,I){var W=(I=typeof I=="function"?I:u)?I(s,m):u;return W===u?ms(s,m,u,I):!!W},rt.isError=bi,rt.isFinite=function(s){return typeof s=="number"&&Fu(s)},rt.isFunction=wn,rt.isInteger=we,rt.isLength=Fn,rt.isMap=Or,rt.isMatch=function(s,m){return s===m||xo(s,m,ho(m))},rt.isMatchWith=function(s,m,I){return I=typeof I=="function"?I:u,xo(s,m,ho(m),I)},rt.isNaN=function(s){return Cr(s)&&s!=+s},rt.isNative=function(s){if(Ji(s))throw new Bn("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Hl(s)},rt.isNil=function(s){return s==null},rt.isNull=function(s){return s===null},rt.isNumber=Cr,rt.isObject=tn,rt.isObjectLike=Ln,rt.isPlainObject=zr,rt.isRegExp=vo,rt.isSafeInteger=function(s){return we(s)&&s>=-9007199254740991&&s<=b},rt.isSet=dc,rt.isString=fc,rt.isSymbol=Ti,rt.isTypedArray=wu,rt.isUndefined=function(s){return s===u},rt.isWeakMap=function(s){return Ln(s)&&Dn(s)==U},rt.isWeakSet=function(s){return Ln(s)&&On(s)=="[object WeakSet]"},rt.join=function(s,m){return s==null?"":Ba.call(s,m)},rt.kebabCase=hf,rt.last=di,rt.lastIndexOf=function(s,m,I){var W=s==null?0:s.length;if(!W)return-1;var Z=W;return I!==u&&(Z=(Z=ln(I))<0?Er(W+Z,0):Fr(Z,W-1)),m==m?function(st,Tt,Ct){for(var Ht=Ct+1;Ht--;)if(st[Ht]===Tt)return Ht;return Ht}(s,m,Z):_a(s,Zo,Z,!0)},rt.lowerCase=hc,rt.lowerFirst=Fd,rt.lt=jd,rt.lte=xd,rt.max=function(s){return s&&s.length?fs(s,Ur,ka):u},rt.maxBy=function(s,m){return s&&s.length?fs(s,un(m,2),ka):u},rt.mean=function(s){return So(s,Ur)},rt.meanBy=function(s,m){return So(s,un(m,2))},rt.min=function(s){return s&&s.length?fs(s,Ur,zl):u},rt.minBy=function(s,m){return s&&s.length?fs(s,un(m,2),zl):u},rt.stubArray=bl,rt.stubFalse=qc,rt.stubObject=function(){return{}},rt.stubString=function(){return""},rt.stubTrue=function(){return!0},rt.multiply=zd,rt.nth=function(s,m){return s&&s.length?$u(s,ln(m)):u},rt.noConflict=function(){return Xe._===this&&(Xe._=$s),this},rt.noop=Gc,rt.now=Ve,rt.pad=function(s,m,I){s=Yn(s);var W=(m=ln(m))?gi(s):0;if(!m||W>=m)return s;var Z=(m-W)/2;return ws(qi(Z),I)+s+ws(Bu(Z),I)},rt.padEnd=function(s,m,I){s=Yn(s);var W=(m=ln(m))?gi(s):0;return m&&W<m?s+ws(m-W,I):s},rt.padStart=function(s,m,I){s=Yn(s);var W=(m=ln(m))?gi(s):0;return m&&W<m?ws(m-W,I)+s:s},rt.parseInt=function(s,m,I){return I||m==null?m=0:m&&(m=+m),Vu(Yn(s).replace(Sn,""),m||0)},rt.random=function(s,m,I){if(I&&typeof I!="boolean"&&Jr(s,m,I)&&(m=I=u),I===u&&(typeof m=="boolean"?(I=m,m=u):typeof s=="boolean"&&(I=s,s=u)),s===u&&m===u?(s=0,m=1):(s=Aa(s),m===u?(m=s,s=0):m=Aa(m)),s>m){var W=s;s=m,m=W}if(I||s%1||m%1){var Z=os();return Fr(s+Z*(m-s+pe("1e-"+((Z+"").length-1))),m)}return ys(s,m)},rt.reduce=function(s,m,I){var W=xe(s)?Xo:Fs,Z=arguments.length<3;return W(s,un(m,4),I,Z,za)},rt.reduceRight=function(s,m,I){var W=xe(s)?Ol:Fs,Z=arguments.length<3;return W(s,un(m,4),I,Z,ru)},rt.repeat=function(s,m,I){return m=(I?Jr(s,m,I):m===u)?1:ln(m),Yu(Yn(s),m)},rt.replace=function(){var s=arguments,m=Yn(s[0]);return s.length<3?m:m.replace(s[1],s[2])},rt.result=function(s,m,I){var W=-1,Z=(m=qa(m,s)).length;for(Z||(Z=1,s=u);++W<Z;){var st=s==null?u:s[pa(m[W])];st===u&&(W=Z,st=I),s=wn(st)?st.call(s):st}return s},rt.round=gd,rt.runInContext=Gt,rt.sample=function(s){return(xe(s)?Bl:Lc)(s)},rt.size=function(s){if(s==null)return 0;if(Nn(s))return fc(s)?gi(s):s.length;var m=Dn(s);return m==It||m==qt?s.size:ca(s).length},rt.snakeCase=ud,rt.some=function(s,m,I){var W=xe(s)?Yo:Ju;return I&&Jr(s,m,I)&&(m=u),W(s,un(m,3))},rt.sortedIndex=function(s,m){return Lo(s,m)},rt.sortedIndexBy=function(s,m,I){return uu(s,m,un(I,2))},rt.sortedIndexOf=function(s,m){var I=s==null?0:s.length;if(I){var W=Lo(s,m);if(W<I&&Hn(s[W],m))return W}return-1},rt.sortedLastIndex=function(s,m){return Lo(s,m,!0)},rt.sortedLastIndexBy=function(s,m,I){return uu(s,m,un(I,2),!0)},rt.sortedLastIndexOf=function(s,m){if(s==null?0:s.length){var I=Lo(s,m,!0)-1;if(Hn(s[I],m))return I}return-1},rt.startCase=pf,rt.startsWith=function(s,m,I){return s=Yn(s),I=I==null?0:xi(ln(I),0,s.length),m=ci(m),s.slice(I,I+m.length)==m},rt.subtract=yd,rt.sum=function(s){return s&&s.length?Vs(s,Ur):0},rt.sumBy=function(s,m){return s&&s.length?Vs(s,un(m,2)):0},rt.template=function(s,m,I){var W=rt.templateSettings;I&&Jr(s,m,I)&&(m=u),s=Yn(s),m=Eu({},m,W,Es);var Z,st,Tt=Eu({},m.imports,W.imports,Es),Ct=Qr(Tt),Ht=Hs(Tt,Ct),de=0,fe=m.interpolate||Si,be="__p += '",Ge=Iu((m.escape||Si).source+"|"+fe.source+"|"+(fe===Se?Mi:Si).source+"|"+(m.evaluate||Si).source+"|$","g"),$e="//# sourceURL="+(Xn.call(m,"sourceURL")?(m.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++$t+"]")+`
`;s.replace(Ge,function(ke,yn,We,_n,pn,Vn){return We||(We=_n),be+=s.slice(de,Vn).replace(Ra,ia),yn&&(Z=!0,be+=`' +
__e(`+yn+`) +
'`),pn&&(st=!0,be+=`';
`+pn+`;
__p += '`),We&&(be+=`' +
((__t = (`+We+`)) == null ? '' : __t) +
'`),de=Vn+ke.length,ke}),be+=`';
`;var en=Xn.call(m,"variable")&&m.variable;if(en){if(ri.test(en))throw new Bn("Invalid `variable` option passed into `_.template`")}else be=`with (obj) {
`+be+`
}
`;be=(st?be.replace(Oe,""):be).replace(le,"$1").replace(Qt,"$1;"),be="function("+(en||"obj")+`) {
`+(en?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Z?", __e = _.escape":"")+(st?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+be+`return __p
}`;var me=Hd(function(){return lr(Ct,$e+"return "+be).apply(u,Ht)});if(me.source=be,bi(me))throw me;return me},rt.times=function(s,m){if((s=ln(s))<1||s>b)return[];var I=A,W=Fr(s,A);m=un(m),s-=A;for(var Z=Gi(W,m);++I<s;)m(I);return Z},rt.toFinite=Aa,rt.toInteger=ln,rt.toLength=od,rt.toLower=function(s){return Yn(s).toLowerCase()},rt.toNumber=ja,rt.toSafeInteger=function(s){return s?xi(ln(s),-9007199254740991,b):s===0?s:0},rt.toString=Yn,rt.toUpper=function(s){return Yn(s).toUpperCase()},rt.trim=function(s,m,I){if((s=Yn(s))&&(I||m===u))return Qo(s);if(!s||!(m=ci(m)))return s;var W=ji(s),Z=ji(m);return $a(W,ba(W,Z),Ru(W,Z)+1).join("")},rt.trimEnd=function(s,m,I){if((s=Yn(s))&&(I||m===u))return s.slice(0,Pl(s)+1);if(!s||!(m=ci(m)))return s;var W=ji(s);return $a(W,0,Ru(W,ji(m))+1).join("")},rt.trimStart=function(s,m,I){if((s=Yn(s))&&(I||m===u))return s.replace(Sn,"");if(!s||!(m=ci(m)))return s;var W=ji(s);return $a(W,ba(W,ji(m))).join("")},rt.truncate=function(s,m){var I=30,W="...";if(tn(m)){var Z="separator"in m?m.separator:Z;I="length"in m?ln(m.length):I,W="omission"in m?ci(m.omission):W}var st=(s=Yn(s)).length;if(wo(s)){var Tt=ji(s);st=Tt.length}if(I>=st)return s;var Ct=I-gi(W);if(Ct<1)return W;var Ht=Tt?$a(Tt,0,Ct).join(""):s.slice(0,Ct);if(Z===u)return Ht+W;if(Tt&&(Ct+=Ht.length-Ct),vo(Z)){if(s.slice(Ct).search(Z)){var de,fe=Ht;for(Z.global||(Z=Iu(Z.source,Yn(br.exec(Z))+"g")),Z.lastIndex=0;de=Z.exec(fe);)var be=de.index;Ht=Ht.slice(0,be===u?Ct:be)}}else if(s.indexOf(ci(Z),Ct)!=Ct){var Ge=Ht.lastIndexOf(Z);Ge>-1&&(Ht=Ht.slice(0,Ge))}return Ht+W},rt.unescape=function(s){return(s=Yn(s))&&Je.test(s)?s.replace(Ke,Sc):s},rt.uniqueId=function(s){var m=++Du;return Yn(s)+m},rt.upperCase=mf,rt.upperFirst=ld,rt.each=yt,rt.eachRight=Pt,rt.first=hl,pc(rt,(vd={},wa(rt,function(s,m){Xn.call(rt.prototype,m)||(vd[m]=s)}),vd),{chain:!1}),rt.VERSION="4.17.21",zi(["bind","bindKey","curry","curryRight","partial","partialRight"],function(s){rt[s].placeholder=rt}),zi(["drop","take"],function(s,m){xn.prototype[s]=function(I){I=I===u?1:Er(ln(I),0);var W=this.__filtered__&&!m?new xn(this):this.clone();return W.__filtered__?W.__takeCount__=Fr(I,W.__takeCount__):W.__views__.push({size:Fr(I,A),type:s+(W.__dir__<0?"Right":"")}),W},xn.prototype[s+"Right"]=function(I){return this.reverse()[s](I).reverse()}}),zi(["filter","map","takeWhile"],function(s,m){var I=m+1,W=I==1||I==3;xn.prototype[s]=function(Z){var st=this.clone();return st.__iteratees__.push({iteratee:un(Z,3),type:I}),st.__filtered__=st.__filtered__||W,st}}),zi(["head","last"],function(s,m){var I="take"+(m?"Right":"");xn.prototype[s]=function(){return this[I](1).value()[0]}}),zi(["initial","tail"],function(s,m){var I="drop"+(m?"":"Right");xn.prototype[s]=function(){return this.__filtered__?new xn(this):this[I](1)}}),xn.prototype.compact=function(){return this.filter(Ur)},xn.prototype.find=function(s){return this.filter(s).head()},xn.prototype.findLast=function(s){return this.reverse().find(s)},xn.prototype.invokeMap=Cn(function(s,m){return typeof s=="function"?new xn(this):this.map(function(I){return uo(I,s,m)})}),xn.prototype.reject=function(s){return this.filter(He(un(s)))},xn.prototype.slice=function(s,m){s=ln(s);var I=this;return I.__filtered__&&(s>0||m<0)?new xn(I):(s<0?I=I.takeRight(-s):s&&(I=I.drop(s)),m!==u&&(I=(m=ln(m))<0?I.dropRight(-m):I.take(m-s)),I)},xn.prototype.takeRightWhile=function(s){return this.reverse().takeWhile(s).reverse()},xn.prototype.toArray=function(){return this.take(A)},wa(xn.prototype,function(s,m){var I=/^(?:filter|find|map|reject)|While$/.test(m),W=/^(?:head|last)$/.test(m),Z=rt[W?"take"+(m=="last"?"Right":""):m],st=W||/^find/.test(m);Z&&(rt.prototype[m]=function(){var Tt=this.__wrapped__,Ct=W?[1]:arguments,Ht=Tt instanceof xn,de=Ct[0],fe=Ht||xe(Tt),be=function(yn){var We=Z.apply(rt,ra([yn],Ct));return W&&Ge?We[0]:We};fe&&I&&typeof de=="function"&&de.length!=1&&(Ht=fe=!1);var Ge=this.__chain__,$e=!!this.__actions__.length,en=st&&!Ge,me=Ht&&!$e;if(!st&&fe){Tt=me?Tt:new xn(this);var ke=s.apply(Tt,Ct);return ke.__actions__.push({func:$,args:[be],thisArg:u}),new li(ke,Ge)}return en&&me?s.apply(this,Ct):(ke=this.thru(be),en?W?ke.value()[0]:ke.value():ke)})}),zi(["pop","push","shift","sort","splice","unshift"],function(s){var m=rs[s],I=/^(?:push|sort|unshift)$/.test(s)?"tap":"thru",W=/^(?:pop|shift)$/.test(s);rt.prototype[s]=function(){var Z=arguments;if(W&&!this.__chain__){var st=this.value();return m.apply(xe(st)?st:[],Z)}return this[I](function(Tt){return m.apply(xe(Tt)?Tt:[],Z)})}}),wa(xn.prototype,function(s,m){var I=rt[m];if(I){var W=I.name+"";Xn.call(Ta,W)||(Ta[W]=[]),Ta[W].push({name:m,func:I})}}),Ta[hu(u,2).name]=[{name:"wrapper",func:u}],xn.prototype.clone=function(){var s=new xn(this.__wrapped__);return s.__actions__=Yr(this.__actions__),s.__dir__=this.__dir__,s.__filtered__=this.__filtered__,s.__iteratees__=Yr(this.__iteratees__),s.__takeCount__=this.__takeCount__,s.__views__=Yr(this.__views__),s},xn.prototype.reverse=function(){if(this.__filtered__){var s=new xn(this);s.__dir__=-1,s.__filtered__=!0}else(s=this.clone()).__dir__*=-1;return s},xn.prototype.value=function(){var s=this.__wrapped__.value(),m=this.__dir__,I=xe(s),W=m<0,Z=I?s.length:0,st=function(Vn,nn,hn){for(var Rr=-1,ma=hn.length;++Rr<ma;){var go=hn[Rr],Gr=go.size;switch(go.type){case"drop":Vn+=Gr;break;case"dropRight":nn-=Gr;break;case"take":nn=Fr(nn,Vn+Gr);break;case"takeRight":Vn=Er(Vn,nn-Gr)}}return{start:Vn,end:nn}}(0,Z,this.__views__),Tt=st.start,Ct=st.end,Ht=Ct-Tt,de=W?Ct:Tt-1,fe=this.__iteratees__,be=fe.length,Ge=0,$e=Fr(Ht,this.__takeCount__);if(!I||!W&&Z==Ht&&$e==Ht)return Qu(s,this.__actions__);var en=[];t:for(;Ht--&&Ge<$e;){for(var me=-1,ke=s[de+=m];++me<be;){var yn=fe[me],We=yn.iteratee,_n=yn.type,pn=We(ke);if(_n==2)ke=pn;else if(!pn){if(_n==1)continue t;break t}}en[Ge++]=ke}return en},rt.prototype.at=N,rt.prototype.chain=function(){return M(this)},rt.prototype.commit=function(){return new li(this.value(),this.__chain__)},rt.prototype.next=function(){this.__values__===u&&(this.__values__=Ca(this.value()));var s=this.__index__>=this.__values__.length;return{done:s,value:s?u:this.__values__[this.__index__++]}},rt.prototype.plant=function(s){for(var m,I=this;I instanceof dr;){var W=Ri(I);W.__index__=0,W.__values__=u,m?Z.__wrapped__=W:m=W;var Z=W;I=I.__wrapped__}return Z.__wrapped__=s,m},rt.prototype.reverse=function(){var s=this.__wrapped__;if(s instanceof xn){var m=s;return this.__actions__.length&&(m=new xn(this)),(m=m.reverse()).__actions__.push({func:$,args:[ml],thisArg:u}),new li(m,this.__chain__)}return this.thru(ml)},rt.prototype.toJSON=rt.prototype.valueOf=rt.prototype.value=function(){return Qu(this.__wrapped__,this.__actions__)},rt.prototype.first=rt.prototype.head,Ys&&(rt.prototype[Ys]=function(){return this}),rt}();Xe._=Gs,(v=function(){return Gs}.call(V,o,V,g))===u||(g.exports=v)}).call(this)}).call(this,o("yLpj"),o("YuTi")(x))},MN4f:function(x,V,o){var d=o("L7KE"),g=o("XW/+"),v=o("J8Qq")(!1),u=o("lk+t")("IE_PROTO");x.exports=function(c,p){var l,_=g(c),T=0,k=[];for(l in _)l!=u&&d(_,l)&&k.push(l);for(;p.length>T;)d(_,l=p[T++])&&(~v(k,l)||k.push(l));return k}},MVdI:function(x,V,o){var d=o("jYdD"),g=o("8IOi"),v=o("138g");g(g.S,"Reflect",{getOwnPropertyDescriptor:function(u,c){return d.f(v(u),c)}})},MWg1:function(x,V,o){o("e7D+")("Map")},"N+bU":function(x,V,o){o("HLcc")("observable")},N6L2:function(x,V,o){var d=o("n+hx"),g=o("HC2Y"),v=o("3iRr")("match");x.exports=function(u){var c;return d(u)&&((c=u[v])!==void 0?!!c:g(u)=="RegExp")}},N8W1:function(x,V,o){"use strict";var d=o("4Fav");o("8IOi")({target:"RegExp",proto:!0,forced:d!==/./.exec},{exec:d})},Nrdp:function(x,V,o){"use strict";var d=o("QV8t"),g=o("eYp2"),v="WeakSet";o("0WhE")(v,function(u){return function(){return u(this,arguments.length>0?arguments[0]:void 0)}},{add:function(u){return d.def(g(this,v),u,!0)}},d,!1,!0)},NrsN:function(x,V,o){"use strict";var d=o("8IOi"),g=o("z/zB")(6),v="findIndex",u=!0;v in[]&&Array(1)[v](function(){u=!1}),d(d.P+d.F*u,"Array",{findIndex:function(c){return g(this,c,arguments.length>1?arguments[1]:void 0)}}),o("Zrcd")(v)},OKyS:function(x,V,o){var d=o("LboF"),g=o("8MIm");typeof(g=g.__esModule?g.default:g)=="string"&&(g=[[x.i,g,""]]);var v={insert:"head",singleton:!1};d(g,v),x.exports=g.locals||{}},OVpP:function(x,V,o){var d=o("8IOi"),g=o("vejK")(),v=o("k+AJ").process,u=o("HC2Y")(v)=="process";d(d.G,{asap:function(c){var p=u&&v.domain;g(p?p.bind(c):c)}})},OWqD:function(x,V,o){var d=o("8IOi");d(d.S,"Number",{isInteger:o("Jkf2")})},OfMQ:function(x,V,o){var d=o("8IOi"),g=o("XW/+"),v=o("Y3Md");d(d.S,"String",{raw:function(u){for(var c=g(u.raw),p=v(c.length),l=arguments.length,_=[],T=0;p>T;)_.push(String(c[T++])),T<l&&_.push(String(arguments[T]));return _.join("")}})},Oi8Z:function(x,V,o){"use strict";var d=o("k+AJ"),g=o("J2HX"),v=o("yU77"),u=o("3iRr")("species");x.exports=function(c){var p=d[c];v&&p&&!p[u]&&g.f(p,u,{configurable:!0,get:function(){return this}})}},OvvV:function(x,V,o){var d=o("3iRr")("match");x.exports=function(g){var v=/./;try{"/./"[g](v)}catch(u){try{return v[d]=!1,!"/./"[g](v)}catch(c){}}return!0}},P4R2:function(x,V,o){var d=o("8IOi");d(d.P,"Array",{copyWithin:o("+UUX")}),o("Zrcd")("copyWithin")},P6sA:function(x,V,o){var d=o("8IOi");d(d.P,"String",{repeat:o("YBJj")})},PHd1:function(x,V,o){var d=o("8IOi");d(d.G,{global:o("k+AJ")})},PsYO:function(x,V,o){var d=o("8IOi");d(d.S,"Reflect",{has:function(g,v){return v in g}})},QANz:function(x,V,o){var d=o("8IOi");d(d.S,"Math",{RAD_PER_DEG:180/Math.PI})},QJgN:function(x,V,o){var d=o("8IOi"),g=o("Z/7P");d(d.S+d.F*(Number.parseInt!=g),"Number",{parseInt:g})},QV8t:function(x,V,o){"use strict";var d=o("xmgo"),g=o("TI2F").getWeak,v=o("138g"),u=o("n+hx"),c=o("kopD"),p=o("j8TA"),l=o("z/zB"),_=o("L7KE"),T=o("eYp2"),k=l(5),S=l(6),w=0,C=function(A){return A._l||(A._l=new b)},b=function(){this.a=[]},E=function(A,P){return k(A.a,function(z){return z[0]===P})};b.prototype={get:function(A){var P=E(this,A);if(P)return P[1]},has:function(A){return!!E(this,A)},set:function(A,P){var z=E(this,A);z?z[1]=P:this.a.push([A,P])},delete:function(A){var P=S(this.a,function(z){return z[0]===A});return~P&&this.a.splice(P,1),!!~P}},x.exports={getConstructor:function(A,P,z,B){var H=A(function(K,Q){c(K,H,P,"_i"),K._t=P,K._i=w++,K._l=void 0,Q!=null&&p(Q,z,K[B],K)});return d(H.prototype,{delete:function(K){if(!u(K))return!1;var Q=g(K);return Q===!0?C(T(this,P)).delete(K):Q&&_(Q,this._i)&&delete Q[this._i]},has:function(K){if(!u(K))return!1;var Q=g(K);return Q===!0?C(T(this,P)).has(K):Q&&_(Q,this._i)}}),H},def:function(A,P,z){var B=g(v(P),!0);return B===!0?C(A).set(P,z):B[A._i]=z,A},ufstore:C}},QYzQ:function(x,V,o){"use strict";o("6dhg")("trimLeft",function(d){return function(){return d(this,1)}},"trimStart")},QoI2:function(x,V,o){"use strict";var d=o("8IOi"),g=o("Qu5u"),v=o("AZ8a"),u=o("7WAm"),c=o("jYdD").f;o("yU77")&&d(d.P+o("rGBx"),"Object",{__lookupGetter__:function(p){var l,_=g(this),T=v(p,!0);do if(l=c(_,T))return l.get;while(_=u(_))}})},QotP:function(x,V,o){"use strict";var d=o("fyHr"),g=o("n+hx"),v=o("Y3Md"),u=o("kRpC"),c=o("3iRr")("isConcatSpreadable");x.exports=function p(l,_,T,k,S,w,C,b){for(var E,A,P=S,z=0,B=!!C&&u(C,b,3);z<k;){if(z in T){if(E=B?B(T[z],z,_):T[z],A=!1,g(E)&&(A=(A=E[c])!==void 0?!!A:d(E)),A&&w>0)P=p(l,_,E,v(E.length),P,w-1)-1;else{if(P>=9007199254740991)throw TypeError();l[P]=E}P++}z++}return P}},QraV:function(x,V,o){o("CmYC")("getOwnPropertyNames",function(){return o("Uyw2").f})},Qu5u:function(x,V,o){var d=o("aI2V");x.exports=function(g){return Object(d(g))}},R1kZ:function(x,V,o){var d=o("n+hx"),g=o("138g"),v=function(u,c){if(g(u),!d(c)&&c!==null)throw TypeError(c+": can't set as prototype!")};x.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(u,c,p){try{(p=o("kRpC")(Function.call,o("jYdD").f(Object.prototype,"__proto__").set,2))(u,[]),c=!(u instanceof Array)}catch(l){c=!0}return function(l,_){return v(l,_),c?l.__proto__=_:p(l,_),l}}({},!1):void 0),check:v}},ROgi:function(x,V,o){var d=o("138g"),g=o("n+hx"),v=o("5/+w");x.exports=function(u,c){if(d(u),g(c)&&c.constructor===u)return c;var p=v.f(u);return(0,p.resolve)(c),p.promise}},RT9V:function(x,V,o){var d=o("N6L2"),g=o("aI2V");x.exports=function(v,u,c){if(d(u))throw TypeError("String#"+c+" doesn't accept regex!");return String(g(v))}},RZL5:function(x,V){var o=Math.expm1;x.exports=!o||o(10)>22025.465794806718||o(10)<22025.465794806718||o(-2e-17)!=-2e-17?function(d){return(d=+d)==0?d:d>-1e-6&&d<1e-6?d+d*d/2:Math.exp(d)-1}:o},"Rby+":function(x,V,o){var d=o("3iRr")("toPrimitive"),g=Date.prototype;d in g||o("BxPU")(g,d,o("VwWS"))},Stof:function(x,V,o){var d=o("8IOi");d(d.S,"Math",{log2:function(g){return Math.log(g)/Math.LN2}})},Svsh:function(x,V,o){var d=o("8IOi");d(d.S+d.F*!o("yU77"),"Object",{defineProperties:o("d/Tf")})},SxLI:function(x,V,o){var d=o("8IOi");d(d.S,"Math",{umulh:function(g,v){var u=65535,c=+g,p=+v,l=c&u,_=p&u,T=c>>>16,k=p>>>16,S=(T*_>>>0)+(l*_>>>16);return T*k+(S>>>16)+((l*k>>>0)+(S&u)>>>16)}})},SzBd:function(x,V,o){var d=Date.prototype,g="Invalid Date",v="toString",u=d.toString,c=d.getTime;new Date(NaN)+""!=g&&o("d+oe")(d,v,function(){var p=c.call(this);return p==p?u.call(this):g})},T9Wu:function(x,V,o){var d=o("HGrt"),g=o("138g"),v=d.get,u=d.key;d.exp({getOwnMetadata:function(c,p){return v(c,g(p),arguments.length<3?void 0:u(arguments[2]))}})},TI2F:function(x,V,o){var d=o("Vol4")("meta"),g=o("n+hx"),v=o("L7KE"),u=o("J2HX").f,c=0,p=Object.isExtensible||function(){return!0},l=!o("+TcE")(function(){return p(Object.preventExtensions({}))}),_=function(k){u(k,d,{value:{i:"O"+ ++c,w:{}}})},T=x.exports={KEY:d,NEED:!1,fastKey:function(k,S){if(!g(k))return typeof k=="symbol"?k:(typeof k=="string"?"S":"P")+k;if(!v(k,d)){if(!p(k))return"F";if(!S)return"E";_(k)}return k[d].i},getWeak:function(k,S){if(!v(k,d)){if(!p(k))return!0;if(!S)return!1;_(k)}return k[d].w},onFreeze:function(k){return l&&T.NEED&&p(k)&&!v(k,d)&&_(k),k}}},TsBE:function(x,V,o){var d=o("n+hx");o("CmYC")("isExtensible",function(g){return function(v){return!!d(v)&&(!g||g(v))}})},U5hM:function(x,V,o){"use strict";o("6dhg")("trimRight",function(d){return function(){return d(this,2)}},"trimEnd")},U9MG:function(x,V,o){var d=o("m29h"),g=o("Y3Md");x.exports=function(v){if(v===void 0)return 0;var u=d(v),c=g(u);if(u!==c)throw RangeError("Wrong length!");return c}},UBDf:function(x,V,o){"use strict";var d=o("8IOi"),g=o("Qu5u"),v=o("AZ8a"),u=o("7WAm"),c=o("jYdD").f;o("yU77")&&d(d.P+o("rGBx"),"Object",{__lookupSetter__:function(p){var l,_=g(this),T=v(p,!0);do if(l=c(_,T))return l.set;while(_=u(_))}})},UBF9:function(x,V,o){"use strict";var d=o("8eWk");o.n(d).a},UBN9:function(x,V,o){"use strict";var d=o("8IOi"),g=o("+TcE"),v=o("Ku9J"),u=1 .toPrecision;d(d.P+d.F*(g(function(){return u.call(1,void 0)!=="1"})||!g(function(){u.call({})})),"Number",{toPrecision:function(c){var p=v(this,"Number#toPrecision: incorrect invocation!");return c===void 0?u.call(p):u.call(p,c)}})},UPwD:function(x,V,o){o("Gx54")("Int8",1,function(d){return function(g,v,u){return d(this,g,v,u)}})},URgk:function(x,V,o){(function(d){var g=d!==void 0&&d||typeof self!="undefined"&&self||window,v=Function.prototype.apply;function u(c,p){this._id=c,this._clearFn=p}V.setTimeout=function(){return new u(v.call(setTimeout,g,arguments),clearTimeout)},V.setInterval=function(){return new u(v.call(setInterval,g,arguments),clearInterval)},V.clearTimeout=V.clearInterval=function(c){c&&c.close()},u.prototype.unref=u.prototype.ref=function(){},u.prototype.close=function(){this._clearFn.call(g,this._id)},V.enroll=function(c,p){clearTimeout(c._idleTimeoutId),c._idleTimeout=p},V.unenroll=function(c){clearTimeout(c._idleTimeoutId),c._idleTimeout=-1},V._unrefActive=V.active=function(c){clearTimeout(c._idleTimeoutId);var p=c._idleTimeout;p>=0&&(c._idleTimeoutId=setTimeout(function(){c._onTimeout&&c._onTimeout()},p))},o("YBdB"),V.setImmediate=typeof self!="undefined"&&self.setImmediate||d!==void 0&&d.setImmediate||this&&this.setImmediate,V.clearImmediate=typeof self!="undefined"&&self.clearImmediate||d!==void 0&&d.clearImmediate||this&&this.clearImmediate}).call(this,o("yLpj"))},UUc1:function(x,V,o){o("Gx54")("Uint8",1,function(d){return function(g,v,u){return d(this,g,v,u)}},!0)},UVVG:function(x,V,o){var d=o("HC2Y"),g=o("3iRr")("toStringTag"),v=d(function(){return arguments}())=="Arguments";x.exports=function(u){var c,p,l;return u===void 0?"Undefined":u===null?"Null":typeof(p=function(_,T){try{return _[T]}catch(k){}}(c=Object(u),g))=="string"?p:v?d(c):(l=d(c))=="Object"&&typeof c.callee=="function"?"Arguments":l}},"UtW+":function(x,V,o){"use strict";var d=o("J2HX"),g=o("+zL4");x.exports=function(v,u,c){u in v?d.f(v,u,g(0,c)):v[u]=c}},Uyw2:function(x,V,o){var d=o("XW/+"),g=o("27JW").f,v={}.toString,u=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];x.exports.f=function(c){return u&&v.call(c)=="[object Window]"?function(p){try{return g(p)}catch(l){return u.slice()}}(c):g(d(c))}},V0HS:function(x,V,o){var d=o("XW/+"),g=o("jYdD").f;o("CmYC")("getOwnPropertyDescriptor",function(){return function(v,u){return g(d(v),u)}})},VAZH:function(x,V,o){var d=o("8IOi"),g=o("e8l7");d(d.S,"Math",{cbrt:function(v){return g(v=+v)*Math.pow(Math.abs(v),1/3)}})},Vcfr:function(x,V,o){"use strict";var d=o("+TcE");x.exports=function(g,v){return!!g&&d(function(){v?g.call(null,function(){},1):g.call(null)})}},Vcm9:function(x,V,o){o("e7D+")("WeakSet")},Vol4:function(x,V){var o=0,d=Math.random();x.exports=function(g){return"Symbol(".concat(g===void 0?"":g,")_",(++o+d).toString(36))}},VwWS:function(x,V,o){"use strict";var d=o("138g"),g=o("AZ8a"),v="number";x.exports=function(u){if(u!=="string"&&u!==v&&u!=="default")throw TypeError("Incorrect hint");return g(d(this),u!=v)}},"W73/":function(x,V,o){"use strict";var d,g,v,u,c=o("zuiL"),p=o("k+AJ"),l=o("kRpC"),_=o("UVVG"),T=o("8IOi"),k=o("n+hx"),S=o("LOhj"),w=o("kopD"),C=o("j8TA"),b=o("EUev"),E=o("65rS").set,A=o("vejK")(),P=o("5/+w"),z=o("LVuD"),B=o("ZP9f"),H=o("ROgi"),K="Promise",Q=p.TypeError,ct=p.process,mt=ct&&ct.versions,It=mt&&mt.v8||"",Dt=p.Promise,Wt=_(ct)=="process",Zt=function(){},Rt=g=P.f,qt=!!function(){try{var vt=Dt.resolve(1),ht=(vt.constructor={})[o("3iRr")("species")]=function(pt){pt(Zt,Zt)};return(Wt||typeof PromiseRejectionEvent=="function")&&vt.then(Zt)instanceof ht&&It.indexOf("6.6")!==0&&B.indexOf("Chrome/66")===-1}catch(pt){}}(),ae=function(vt){var ht;return!(!k(vt)||typeof(ht=vt.then)!="function")&&ht},Ut=function(vt,ht){if(!vt._n){vt._n=!0;var pt=vt._c;A(function(){for(var Bt=vt._v,Ot=vt._s==1,zt=0,se=function(Oe){var le,Qt,Ke,Ee=Ot?Oe.ok:Oe.fail,Je=Oe.resolve,Te=Oe.reject,zn=Oe.domain;try{Ee?(Ot||(vt._h==2&&lt(vt),vt._h=1),Ee===!0?le=Bt:(zn&&zn.enter(),le=Ee(Bt),zn&&(zn.exit(),Ke=!0)),le===Oe.promise?Te(Q("Promise-chain cycle")):(Qt=ae(le))?Qt.call(le,Je,Te):Je(le)):Te(Bt)}catch(te){zn&&!Ke&&zn.exit(),Te(te)}};pt.length>zt;)se(pt[zt++]);vt._c=[],vt._n=!1,ht&&!vt._h&&U(vt)})}},U=function(vt){E.call(p,function(){var ht,pt,Bt,Ot=vt._v,zt=ot(vt);if(zt&&(ht=z(function(){Wt?ct.emit("unhandledRejection",Ot,vt):(pt=p.onunhandledrejection)?pt({promise:vt,reason:Ot}):(Bt=p.console)&&Bt.error&&Bt.error("Unhandled promise rejection",Ot)}),vt._h=Wt||ot(vt)?2:1),vt._a=void 0,zt&&ht.e)throw ht.v})},ot=function(vt){return vt._h!==1&&(vt._a||vt._c).length===0},lt=function(vt){E.call(p,function(){var ht;Wt?ct.emit("rejectionHandled",vt):(ht=p.onrejectionhandled)&&ht({promise:vt,reason:vt._v})})},gt=function(vt){var ht=this;ht._d||(ht._d=!0,(ht=ht._w||ht)._v=vt,ht._s=2,ht._a||(ht._a=ht._c.slice()),Ut(ht,!0))},Lt=function(vt){var ht,pt=this;if(!pt._d){pt._d=!0,pt=pt._w||pt;try{if(pt===vt)throw Q("Promise can't be resolved itself");(ht=ae(vt))?A(function(){var Bt={_w:pt,_d:!1};try{ht.call(vt,l(Lt,Bt,1),l(gt,Bt,1))}catch(Ot){gt.call(Bt,Ot)}}):(pt._v=vt,pt._s=1,Ut(pt,!1))}catch(Bt){gt.call({_w:pt,_d:!1},Bt)}}};qt||(Dt=function(vt){w(this,Dt,K,"_h"),S(vt),d.call(this);try{vt(l(Lt,this,1),l(gt,this,1))}catch(ht){gt.call(this,ht)}},(d=function(vt){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=o("xmgo")(Dt.prototype,{then:function(vt,ht){var pt=Rt(b(this,Dt));return pt.ok=typeof vt!="function"||vt,pt.fail=typeof ht=="function"&&ht,pt.domain=Wt?ct.domain:void 0,this._c.push(pt),this._a&&this._a.push(pt),this._s&&Ut(this,!1),pt.promise},catch:function(vt){return this.then(void 0,vt)}}),v=function(){var vt=new d;this.promise=vt,this.resolve=l(Lt,vt,1),this.reject=l(gt,vt,1)},P.f=Rt=function(vt){return vt===Dt||vt===u?new v(vt):g(vt)}),T(T.G+T.W+T.F*!qt,{Promise:Dt}),o("J70Z")(Dt,K),o("Oi8Z")(K),u=o("CuJi").Promise,T(T.S+T.F*!qt,K,{reject:function(vt){var ht=Rt(this);return(0,ht.reject)(vt),ht.promise}}),T(T.S+T.F*(c||!qt),K,{resolve:function(vt){return H(c&&this===u?Dt:this,vt)}}),T(T.S+T.F*!(qt&&o("6+im")(function(vt){Dt.all(vt).catch(Zt)})),K,{all:function(vt){var ht=this,pt=Rt(ht),Bt=pt.resolve,Ot=pt.reject,zt=z(function(){var se=[],Oe=0,le=1;C(vt,!1,function(Qt){var Ke=Oe++,Ee=!1;se.push(void 0),le++,ht.resolve(Qt).then(function(Je){Ee||(Ee=!0,se[Ke]=Je,--le||Bt(se))},Ot)}),--le||Bt(se)});return zt.e&&Ot(zt.v),pt.promise},race:function(vt){var ht=this,pt=Rt(ht),Bt=pt.reject,Ot=z(function(){C(vt,!1,function(zt){ht.resolve(zt).then(pt.resolve,Bt)})});return Ot.e&&Bt(Ot.v),pt.promise}})},Wa0j:function(x,V){x.exports=Math.scale||function(o,d,g,v,u){return arguments.length===0||o!=o||d!=d||g!=g||v!=v||u!=u?NaN:o===1/0||o===-1/0?o:(o-d)*(u-v)/(g-d)+v}},Wl3L:function(x,V,o){var d=o("MN4f"),g=o("aK63");x.exports=Object.keys||function(v){return d(v,g)}},WmvF:function(x,V,o){var d=o("8IOi"),g=o("JYSn")(!1);d(d.S,"Object",{values:function(v){return g(v)}})},Wx4D:function(x,V,o){"use strict";var d=o("8IOi"),g=o("XW/+"),v=o("m29h"),u=o("Y3Md"),c=[].lastIndexOf,p=!!c&&1/[1].lastIndexOf(1,-0)<0;d(d.P+d.F*(p||!o("Vcfr")(c)),"Array",{lastIndexOf:function(l){if(p)return c.apply(this,arguments)||0;var _=g(this),T=u(_.length),k=T-1;for(arguments.length>1&&(k=Math.min(k,v(arguments[1]))),k<0&&(k=T+k);k>=0;k--)if(k in _&&_[k]===l)return k||0;return-1}})},XAIu:function(x,V,o){var d=o("8IOi");d(d.S,"Math",{clz32:function(g){return(g>>>=0)?31-Math.floor(Math.log(g+.5)*Math.LOG2E):32}})},XAyX:function(x,V,o){var d=o("J2HX"),g=o("jYdD"),v=o("7WAm"),u=o("L7KE"),c=o("8IOi"),p=o("+zL4"),l=o("138g"),_=o("n+hx");c(c.S,"Reflect",{set:function T(k,S,w){var C,b,E=arguments.length<4?k:arguments[3],A=g.f(l(k),S);if(!A){if(_(b=v(k)))return T(b,S,w,E);A=p(0)}if(u(A,"value")){if(A.writable===!1||!_(E))return!1;if(C=g.f(E,S)){if(C.get||C.set||C.writable===!1)return!1;C.value=w,d.f(E,S,C)}else d.f(E,S,p(0,w));return!0}return A.set!==void 0&&(A.set.call(E,w),!0)}})},XBAu:function(x,V,o){"use strict";var d=o("8IOi"),g=o("dDOX"),v=o("HC2Y"),u=o("b8c2"),c=o("Y3Md"),p=[].slice;d(d.P+d.F*o("+TcE")(function(){g&&p.call(g)}),"Array",{slice:function(l,_){var T=c(this.length),k=v(this);if(_=_===void 0?T:_,k=="Array")return p.call(this,l,_);for(var S=u(l,T),w=u(_,T),C=c(w-S),b=new Array(C),E=0;E<C;E++)b[E]=k=="String"?this.charAt(S+E):this[S+E];return b}})},XO9W:function(x,V,o){"use strict";var d=o("8IOi"),g=o("z/zB")(0),v=o("Vcfr")([].forEach,!0);d(d.P+d.F*!v,"Array",{forEach:function(u){return g(this,u,arguments[1])}})},XSaa:function(x,V,o){"use strict";o("5oHw")("sup",function(d){return function(){return d(this,"sup","","")}})},XSnG:function(x,V,o){var d=o("n+hx");o("CmYC")("isSealed",function(g){return function(v){return!d(v)||!!g&&g(v)}})},"XW/+":function(x,V,o){var d=o("26/4"),g=o("aI2V");x.exports=function(v){return d(g(v))}},XuTJ:function(x,V,o){var d=o("8IOi"),g=o("dSQw")(/[\\^$*+?.()|[\]{}]/g,"\\$&");d(d.S,"RegExp",{escape:function(v){return g(v)}})},XuX8:function(x,V,o){x.exports=o("INkZ")},Y3Md:function(x,V,o){var d=o("m29h"),g=Math.min;x.exports=function(v){return v>0?g(d(v),9007199254740991):0}},YBJj:function(x,V,o){"use strict";var d=o("m29h"),g=o("aI2V");x.exports=function(v){var u=String(g(this)),c="",p=d(v);if(p<0||p==1/0)throw RangeError("Count can't be negative");for(;p>0;(p>>>=1)&&(u+=u))1&p&&(c+=u);return c}},YBdB:function(x,V,o){(function(d,g){(function(v,u){"use strict";if(!v.setImmediate){var c,p,l,_,T,k=1,S={},w=!1,C=v.document,b=Object.getPrototypeOf&&Object.getPrototypeOf(v);b=b&&b.setTimeout?b:v,{}.toString.call(v.process)==="[object process]"?c=function(P){g.nextTick(function(){A(P)})}:function(){if(v.postMessage&&!v.importScripts){var P=!0,z=v.onmessage;return v.onmessage=function(){P=!1},v.postMessage("","*"),v.onmessage=z,P}}()?(_="setImmediate$"+Math.random()+"$",T=function(P){P.source===v&&typeof P.data=="string"&&P.data.indexOf(_)===0&&A(+P.data.slice(_.length))},v.addEventListener?v.addEventListener("message",T,!1):v.attachEvent("onmessage",T),c=function(P){v.postMessage(_+P,"*")}):v.MessageChannel?((l=new MessageChannel).port1.onmessage=function(P){A(P.data)},c=function(P){l.port2.postMessage(P)}):C&&"onreadystatechange"in C.createElement("script")?(p=C.documentElement,c=function(P){var z=C.createElement("script");z.onreadystatechange=function(){A(P),z.onreadystatechange=null,p.removeChild(z),z=null},p.appendChild(z)}):c=function(P){setTimeout(A,0,P)},b.setImmediate=function(P){typeof P!="function"&&(P=new Function(""+P));for(var z=new Array(arguments.length-1),B=0;B<z.length;B++)z[B]=arguments[B+1];var H={callback:P,args:z};return S[k]=H,c(k),k++},b.clearImmediate=E}function E(P){delete S[P]}function A(P){if(w)setTimeout(A,0,P);else{var z=S[P];if(z){w=!0;try{(function(B){var H=B.callback,K=B.args;switch(K.length){case 0:H();break;case 1:H(K[0]);break;case 2:H(K[0],K[1]);break;case 3:H(K[0],K[1],K[2]);break;default:H.apply(void 0,K)}})(z)}finally{E(P),w=!1}}}}})(typeof self=="undefined"?d===void 0?this:d:self)}).call(this,o("yLpj"),o("8oxB"))},Yu6D:function(x,V,o){"use strict";o("5oHw")("strike",function(d){return function(){return d(this,"strike","","")}})},YuTi:function(x,V){x.exports=function(o){return o.webpackPolyfill||(o.deprecate=function(){},o.paths=[],o.children||(o.children=[]),Object.defineProperty(o,"loaded",{enumerable:!0,get:function(){return o.l}}),Object.defineProperty(o,"id",{enumerable:!0,get:function(){return o.i}}),o.webpackPolyfill=1),o}},"Yvq+":function(x,V,o){"use strict";var d=o("8IOi"),g=o("m29h"),v=o("Ku9J"),u=o("YBJj"),c=1 .toFixed,p=Math.floor,l=[0,0,0,0,0,0],_="Number.toFixed: incorrect invocation!",T="0",k=function(b,E){for(var A=-1,P=E;++A<6;)P+=b*l[A],l[A]=P%1e7,P=p(P/1e7)},S=function(b){for(var E=6,A=0;--E>=0;)A+=l[E],l[E]=p(A/b),A=A%b*1e7},w=function(){for(var b=6,E="";--b>=0;)if(E!==""||b===0||l[b]!==0){var A=String(l[b]);E=E===""?A:E+u.call(T,7-A.length)+A}return E},C=function(b,E,A){return E===0?A:E%2==1?C(b,E-1,A*b):C(b*b,E/2,A)};d(d.P+d.F*(!!c&&(8e-5 .toFixed(3)!=="0.000"||.9 .toFixed(0)!=="1"||1.255 .toFixed(2)!=="1.25"||1000000000000000100 .toFixed(0)!=="1000000000000000128")||!o("+TcE")(function(){c.call({})})),"Number",{toFixed:function(b){var E,A,P,z,B=v(this,_),H=g(b),K="",Q=T;if(H<0||H>20)throw RangeError(_);if(B!=B)return"NaN";if(B<=-1e21||B>=1e21)return String(B);if(B<0&&(K="-",B=-B),B>1e-21)if(A=(E=function(ct){for(var mt=0,It=ct;It>=4096;)mt+=12,It/=4096;for(;It>=2;)mt+=1,It/=2;return mt}(B*C(2,69,1))-69)<0?B*C(2,-E,1):B/C(2,E,1),A*=4503599627370496,(E=52-E)>0){for(k(0,A),P=H;P>=7;)k(1e7,0),P-=7;for(k(C(10,P,1),0),P=E-1;P>=23;)S(1<<23),P-=23;S(1<<P),k(1,1),S(2),Q=w()}else k(0,A),k(1<<-E,0),Q=w()+u.call(T,H);return Q=H>0?K+((z=Q.length)<=H?"0."+u.call(T,H-z)+Q:Q.slice(0,z-H)+"."+Q.slice(z-H)):K+Q}})},"Z/7P":function(x,V,o){var d=o("k+AJ").parseInt,g=o("6dhg").trim,v=o("abT7"),u=/^[-+]?0[xX]/;x.exports=d(v+"08")!==8||d(v+"0x16")!==22?function(c,p){var l=g(String(c),3);return d(l,p>>>0||(u.test(l)?16:10))}:d},ZBJ7:function(x,V,o){"use strict";var d=o("8IOi"),g=o("6WDs")(!0);d(d.P,"String",{at:function(v){return g(this,v)}})},ZGGh:function(x,V,o){"use strict";var d=o("8IOi"),g=o("GvTA"),v=o("ZP9f"),u=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(v);d(d.P+d.F*u,"String",{padStart:function(c){return g(this,c,arguments.length>1?arguments[1]:void 0,!0)}})},ZJct:function(x,V,o){"use strict";o("5oHw")("bold",function(d){return function(){return d(this,"b","","")}})},ZLNw:function(x,V,o){var d=o("HGrt"),g=o("138g"),v=d.keys,u=d.key;d.exp({getOwnMetadataKeys:function(c){return v(g(c),arguments.length<2?void 0:u(arguments[1]))}})},ZP9f:function(x,V,o){var d=o("k+AJ").navigator;x.exports=d&&d.userAgent||""},ZUho:function(x,V,o){var d=o("JvFK"),g=o("t2DD"),v=o("HGrt"),u=o("138g"),c=o("7WAm"),p=v.keys,l=v.key,_=function(T,k){var S=p(T,k),w=c(T);if(w===null)return S;var C=_(w,k);return C.length?S.length?g(new d(S.concat(C))):C:S};v.exp({getMetadataKeys:function(T){return _(u(T),arguments.length<2?void 0:l(arguments[1]))}})},ZiEV:function(x,V,o){var d=o("138g"),g=o("d/Tf"),v=o("aK63"),u=o("lk+t")("IE_PROTO"),c=function(){},p=function(){var l,_=o("itdZ")("iframe"),T=v.length;for(_.style.display="none",o("dDOX").appendChild(_),_.src="javascript:",(l=_.contentWindow.document).open(),l.write("<script>document.F=Object</script>"),l.close(),p=l.F;T--;)delete p.prototype[v[T]];return p()};x.exports=Object.create||function(l,_){var T;return l!==null?(c.prototype=d(l),T=new c,c.prototype=null,T[u]=l):T=p(),_===void 0?T:g(T,_)}},ZqwW:function(x,V,o){"use strict";var d=o("138g");x.exports=function(){var g=d(this),v="";return g.global&&(v+="g"),g.ignoreCase&&(v+="i"),g.multiline&&(v+="m"),g.unicode&&(v+="u"),g.sticky&&(v+="y"),v}},Zrcd:function(x,V,o){var d=o("3iRr")("unscopables"),g=Array.prototype;g[d]==null&&o("BxPU")(g,d,{}),x.exports=function(v){g[d][v]=!0}},"a/cf":function(x,V,o){var d=o("8IOi");d(d.S,"Math",{scale:o("Wa0j")})},a5BC:function(x,V,o){o("rPJW"),o("uHQh"),o("/Kal"),o("Svsh"),o("V0HS"),o("Ki3G"),o("gRqh"),o("QraV"),o("einn"),o("0PTC"),o("0oS0"),o("BjUW"),o("XSnG"),o("TsBE"),o("l9Ni"),o("cGcf"),o("peKB"),o("+z8a"),o("rVFp"),o("mWBI"),o("64wf"),o("+40N"),o("+fNn"),o("qOR+"),o("Yvq+"),o("UBN9"),o("o9jk"),o("DbUx"),o("OWqD"),o("0khl"),o("jAPZ"),o("wpNZ"),o("Bmui"),o("GPGB"),o("QJgN"),o("kwta"),o("4D/n"),o("dwFp"),o("VAZH"),o("XAIu"),o("pYEy"),o("gHJP"),o("ffSk"),o("K3ax"),o("EdrQ"),o("EpbX"),o("oFtK"),o("Stof"),o("IC4T"),o("iEh4"),o("KpXI"),o("G1Bn"),o("c4L8"),o("OfMQ"),o("aMCu"),o("9Yzx"),o("rMxl"),o("skXq"),o("JCQ5"),o("P6sA"),o("AK2K"),o("3Uai"),o("JNc5"),o("IGqx"),o("ZJct"),o("ijSB"),o("nptS"),o("IheE"),o("e/nT"),o("CL8V"),o("94c5"),o("Yu6D"),o("5Kf4"),o("XSaa"),o("/p3b"),o("s+08"),o("gjM+"),o("SzBd"),o("Rby+"),o("tNXT"),o("pAas"),o("28ya"),o("aOXv"),o("XBAu"),o("CCGS"),o("XO9W"),o("HJwq"),o("Agm5"),o("aNYM"),o("31m8"),o("l6ZQ"),o("rqGp"),o("cmzs"),o("Wx4D"),o("P4R2"),o("rWL+"),o("L6/l"),o("NrsN"),o("1bh+"),o("IdBN"),o("fDzh"),o("N8W1"),o("iQRN"),o("AvcM"),o("g0Qz"),o("C74u"),o("B28f"),o("as79"),o("W73/"),o("G966"),o("JvFK"),o("lLv2"),o("Nrdp"),o("oKuV"),o("iAh5"),o("UPwD"),o("pLVf"),o("UUc1"),o("9BWX"),o("fSTx"),o("BuMk"),o("CEB3"),o("LMzk"),o("msPO"),o("eG8a"),o("1hBx"),o("39GA"),o("KYUM"),o("GxgO"),o("7n8s"),o("MVdI"),o("xRLh"),o("PsYO"),o("2ASh"),o("oTT8"),o("j4Nb"),o("XAyX"),o("1TfH"),o("oszf"),o("nAtQ"),o("5zUu"),o("ZBJ7"),o("ZGGh"),o("nOwm"),o("QYzQ"),o("U5hM"),o("C2di"),o("pSQQ"),o("N+bU"),o("uAa7"),o("WmvF"),o("ySsg"),o("p5hF"),o("Insd"),o("QoI2"),o("UBDf"),o("xcDT"),o("dO8U"),o("mFt4"),o("Fnpj"),o("j3qt"),o("+9nT"),o("MWg1"),o("c3Hg"),o("ibFI"),o("Vcm9"),o("PHd1"),o("ca6l"),o("+Wx6"),o("CFo0"),o("lCxz"),o("nx9P"),o("nR3n"),o("DwDk"),o("e9bc"),o("nas9"),o("QANz"),o("67f/"),o("a/cf"),o("SxLI"),o("srFW"),o("iHAW"),o("gqYs"),o("axHO"),o("1bKO"),o("kWVC"),o("ZUho"),o("T9Wu"),o("ZLNw"),o("x8o9"),o("FeNi"),o("unDq"),o("OVpP"),o("FMkX"),o("6T8a"),o("xO9r"),o("BPp8"),x.exports=o("CuJi")},aI2V:function(x,V){x.exports=function(o){if(o==null)throw TypeError("Can't call method on  "+o);return o}},aK63:function(x,V){x.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},aMCu:function(x,V,o){"use strict";o("6dhg")("trim",function(d){return function(){return d(this,3)}})},aNYM:function(x,V,o){"use strict";var d=o("8IOi"),g=o("z/zB")(3);d(d.P+d.F*!o("Vcfr")([].some,!0),"Array",{some:function(v){return g(this,v,arguments[1])}})},aOXv:function(x,V,o){"use strict";var d=o("8IOi"),g=o("XW/+"),v=[].join;d(d.P+d.F*(o("26/4")!=Object||!o("Vcfr")(v)),"Array",{join:function(u){return v.call(g(this),u===void 0?",":u)}})},aXKq:function(x,V,o){"use strict";var d=o("6WDs")(!0);x.exports=function(g,v,u){return v+(u?d(g,v).length:1)}},abT7:function(x,V){x.exports=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`},as79:function(x,V,o){"use strict";var d=o("N6L2"),g=o("138g"),v=o("EUev"),u=o("aXKq"),c=o("Y3Md"),p=o("/vim"),l=o("4Fav"),_=o("+TcE"),T=Math.min,k=[].push,S=4294967295,w=!_(function(){RegExp(S,"y")});o("ntFk")("split",2,function(C,b,E,A){var P;return P="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?function(z,B){var H=String(this);if(z===void 0&&B===0)return[];if(!d(z))return E.call(H,z,B);for(var K,Q,ct,mt=[],It=(z.ignoreCase?"i":"")+(z.multiline?"m":"")+(z.unicode?"u":"")+(z.sticky?"y":""),Dt=0,Wt=B===void 0?S:B>>>0,Zt=new RegExp(z.source,It+"g");(K=l.call(Zt,H))&&!((Q=Zt.lastIndex)>Dt&&(mt.push(H.slice(Dt,K.index)),K.length>1&&K.index<H.length&&k.apply(mt,K.slice(1)),ct=K[0].length,Dt=Q,mt.length>=Wt));)Zt.lastIndex===K.index&&Zt.lastIndex++;return Dt===H.length?!ct&&Zt.test("")||mt.push(""):mt.push(H.slice(Dt)),mt.length>Wt?mt.slice(0,Wt):mt}:"0".split(void 0,0).length?function(z,B){return z===void 0&&B===0?[]:E.call(this,z,B)}:E,[function(z,B){var H=C(this),K=z==null?void 0:z[b];return K!==void 0?K.call(z,H,B):P.call(String(H),z,B)},function(z,B){var H=A(P,z,this,B,P!==E);if(H.done)return H.value;var K=g(z),Q=String(this),ct=v(K,RegExp),mt=K.unicode,It=(K.ignoreCase?"i":"")+(K.multiline?"m":"")+(K.unicode?"u":"")+(w?"y":"g"),Dt=new ct(w?K:"^(?:"+K.source+")",It),Wt=B===void 0?S:B>>>0;if(Wt===0)return[];if(Q.length===0)return p(Dt,Q)===null?[Q]:[];for(var Zt=0,Rt=0,qt=[];Rt<Q.length;){Dt.lastIndex=w?Rt:0;var ae,Ut=p(Dt,w?Q:Q.slice(Rt));if(Ut===null||(ae=T(c(Dt.lastIndex+(w?0:Rt)),Q.length))===Zt)Rt=u(Q,Rt,mt);else{if(qt.push(Q.slice(Zt,Rt)),qt.length===Wt)return qt;for(var U=1;U<=Ut.length-1;U++)if(qt.push(Ut[U]),qt.length===Wt)return qt;Rt=Zt=ae}}return qt.push(Q.slice(Zt)),qt}]})},atpN:function(x,V,o){"use strict";var d=o("ZiEV"),g=o("+zL4"),v=o("J70Z"),u={};o("BxPU")(u,o("3iRr")("iterator"),function(){return this}),x.exports=function(c,p,l){c.prototype=d(u,{next:g(1,l)}),v(c,p+" Iterator")}},axHO:function(x,V,o){var d=o("HGrt"),g=o("138g"),v=d.key,u=d.set;d.exp({defineMetadata:function(c,p,l,_){u(c,p,g(l),v(_))}})},b8c2:function(x,V,o){var d=o("m29h"),g=Math.max,v=Math.min;x.exports=function(u,c){return(u=d(u))<0?g(u+c,0):v(u,c)}},"bZ/h":function(x,V,o){var d=o("Wl3L"),g=o("EN0g"),v=o("4XFX");x.exports=function(u){var c=d(u),p=g.f;if(p)for(var l,_=p(u),T=v.f,k=0;_.length>k;)T.call(u,l=_[k++])&&c.push(l);return c}},c3Hg:function(x,V,o){o("e7D+")("Set")},c4L8:function(x,V,o){var d=o("8IOi"),g=o("b8c2"),v=String.fromCharCode,u=String.fromCodePoint;d(d.S+d.F*(!!u&&u.length!=1),"String",{fromCodePoint:function(c){for(var p,l=[],_=arguments.length,T=0;_>T;){if(p=+arguments[T++],g(p,1114111)!==p)throw RangeError(p+" is not a valid code point");l.push(p<65536?v(p):v(55296+((p-=65536)>>10),p%1024+56320))}return l.join("")}})},cGcf:function(x,V,o){var d=o("8IOi");d(d.S,"Object",{is:o("qHvq")})},ca6l:function(x,V,o){var d=o("8IOi");d(d.S,"System",{global:o("k+AJ")})},cmzs:function(x,V,o){"use strict";var d=o("8IOi"),g=o("J8Qq")(!1),v=[].indexOf,u=!!v&&1/[1].indexOf(1,-0)<0;d(d.P+d.F*(u||!o("Vcfr")(v)),"Array",{indexOf:function(c){return u?v.apply(this,arguments)||0:g(this,c,arguments[1])}})},"d+oe":function(x,V,o){var d=o("k+AJ"),g=o("BxPU"),v=o("L7KE"),u=o("Vol4")("src"),c=o("oHD3"),p="toString",l=(""+c).split(p);o("CuJi").inspectSource=function(_){return c.call(_)},(x.exports=function(_,T,k,S){var w=typeof k=="function";w&&(v(k,"name")||g(k,"name",T)),_[T]!==k&&(w&&(v(k,u)||g(k,u,_[T]?""+_[T]:l.join(String(T)))),_===d?_[T]=k:S?_[T]?_[T]=k:g(_,T,k):(delete _[T],g(_,T,k)))})(Function.prototype,p,function(){return typeof this=="function"&&this[u]||c.call(this)})},"d/Tf":function(x,V,o){var d=o("J2HX"),g=o("138g"),v=o("Wl3L");x.exports=o("yU77")?Object.defineProperties:function(u,c){g(u);for(var p,l=v(c),_=l.length,T=0;_>T;)d.f(u,p=l[T++],c[p]);return u}},dDOX:function(x,V,o){var d=o("k+AJ").document;x.exports=d&&d.documentElement},dO8U:function(x,V,o){var d=o("8IOi");d(d.P+d.R,"Set",{toJSON:o("H/b1")("Set")})},dSQw:function(x,V){x.exports=function(o,d){var g=d===Object(d)?function(v){return d[v]}:d;return function(v){return String(v).replace(o,g)}}},dt6n:function(x,V,o){o("XuTJ"),x.exports=o("CuJi").RegExp.escape},dwFp:function(x,V,o){var d=o("8IOi"),g=Math.atanh;d(d.S+d.F*!(g&&1/g(-0)<0),"Math",{atanh:function(v){return(v=+v)==0?v:Math.log((1+v)/(1-v))/2}})},"e/nT":function(x,V,o){"use strict";o("5oHw")("italics",function(d){return function(){return d(this,"i","","")}})},"e7D+":function(x,V,o){"use strict";var d=o("8IOi"),g=o("LOhj"),v=o("kRpC"),u=o("j8TA");x.exports=function(c){d(d.S,c,{from:function(p){var l,_,T,k,S=arguments[1];return g(this),(l=S!==void 0)&&g(S),p==null?new this:(_=[],l?(T=0,k=v(S,arguments[2],2),u(p,!1,function(w){_.push(k(w,T++))})):u(p,!1,_.push,_),new this(_))}})}},e8l7:function(x,V){x.exports=Math.sign||function(o){return(o=+o)==0||o!=o?o:o<0?-1:1}},e9bc:function(x,V,o){var d=o("8IOi");d(d.S,"Math",{isubh:function(g,v,u,c){var p=g>>>0,l=u>>>0;return(v>>>0)-(c>>>0)-((~p&l|~(p^l)&p-l>>>0)>>>31)|0}})},eG8a:function(x,V,o){var d=o("8IOi"),g=o("LOhj"),v=o("138g"),u=(o("k+AJ").Reflect||{}).apply,c=Function.apply;d(d.S+d.F*!o("+TcE")(function(){u(function(){})}),"Reflect",{apply:function(p,l,_){var T=g(p),k=v(_);return u?u(T,l,k):c.call(T,l,k)}})},eYp2:function(x,V,o){var d=o("n+hx");x.exports=function(g,v){if(!d(g)||g._t!==v)throw TypeError("Incompatible receiver, "+v+" required!");return g}},einn:function(x,V,o){var d=o("n+hx"),g=o("TI2F").onFreeze;o("CmYC")("freeze",function(v){return function(u){return v&&d(u)?v(g(u)):u}})},fDzh:function(x,V,o){var d=o("k+AJ"),g=o("EeL+"),v=o("J2HX").f,u=o("27JW").f,c=o("N6L2"),p=o("ZqwW"),l=d.RegExp,_=l,T=l.prototype,k=/a/g,S=/a/g,w=new l(k)!==k;if(o("yU77")&&(!w||o("+TcE")(function(){return S[o("3iRr")("match")]=!1,l(k)!=k||l(S)==S||l(k,"i")!="/a/i"}))){l=function(A,P){var z=this instanceof l,B=c(A),H=P===void 0;return!z&&B&&A.constructor===l&&H?A:g(w?new _(B&&!H?A.source:A,P):_((B=A instanceof l)?A.source:A,B&&H?p.call(A):P),z?this:T,l)};for(var C=function(A){A in l||v(l,A,{configurable:!0,get:function(){return _[A]},set:function(P){_[A]=P}})},b=u(_),E=0;b.length>E;)C(b[E++]);T.constructor=l,l.prototype=T,o("d+oe")(d,"RegExp",l)}o("Oi8Z")("RegExp")},fSTx:function(x,V,o){o("Gx54")("Uint16",2,function(d){return function(g,v,u){return d(this,g,v,u)}})},ffSk:function(x,V,o){var d=o("8IOi");d(d.S,"Math",{fround:o("1JuZ")})},fyHr:function(x,V,o){var d=o("HC2Y");x.exports=Array.isArray||function(g){return d(g)=="Array"}},g0Qz:function(x,V,o){"use strict";var d=o("138g"),g=o("Y3Md"),v=o("aXKq"),u=o("/vim");o("ntFk")("match",1,function(c,p,l,_){return[function(T){var k=c(this),S=T==null?void 0:T[p];return S!==void 0?S.call(T,k):new RegExp(T)[p](String(k))},function(T){var k=_(l,T,this);if(k.done)return k.value;var S=d(T),w=String(this);if(!S.global)return u(S,w);var C=S.unicode;S.lastIndex=0;for(var b,E=[],A=0;(b=u(S,w))!==null;){var P=String(b[0]);E[A]=P,P===""&&(S.lastIndex=v(w,g(S.lastIndex),C)),A++}return A===0?null:E}]})},gHJP:function(x,V,o){var d=o("8IOi"),g=o("RZL5");d(d.S+d.F*(g!=Math.expm1),"Math",{expm1:g})},gRqh:function(x,V,o){var d=o("Qu5u"),g=o("Wl3L");o("CmYC")("keys",function(){return function(v){return g(d(v))}})},"gjM+":function(x,V,o){var d=o("8IOi"),g=o("vNAk");d(d.P+d.F*(Date.prototype.toISOString!==g),"Date",{toISOString:g})},gqYs:function(x,V,o){"use strict";var d=o("8IOi"),g=o("5/+w"),v=o("LVuD");d(d.S,"Promise",{try:function(u){var c=g.f(this),p=v(u);return(p.e?c.reject:c.resolve)(p.v),c.promise}})},gyzL:function(x,V,o){var d=o("n+hx"),g=o("fyHr"),v=o("3iRr")("species");x.exports=function(u){var c;return g(u)&&(typeof(c=u.constructor)!="function"||c!==Array&&!g(c.prototype)||(c=void 0),d(c)&&(c=c[v])===null&&(c=void 0)),c===void 0?Array:c}},"hTk/":function(x,V,o){var d=o("k+AJ").parseFloat,g=o("6dhg").trim;x.exports=1/d(o("abT7")+"-0")!=-1/0?function(v){var u=g(String(v),3),c=d(u);return c===0&&u.charAt(0)=="-"?-0:c}:d},iAh5:function(x,V,o){var d=o("8IOi");d(d.G+d.W+d.F*!o("8wjV").ABV,{DataView:o("t5lg").DataView})},iEh4:function(x,V,o){var d=o("8IOi"),g=o("RZL5"),v=Math.exp;d(d.S+d.F*o("+TcE")(function(){return!Math.sinh(-2e-17)!=-2e-17}),"Math",{sinh:function(u){return Math.abs(u=+u)<1?(g(u)-g(-u))/2:(v(u-1)-v(-u-1))*(Math.E/2)}})},iHAW:function(x,V,o){"use strict";var d=o("8IOi"),g=o("CuJi"),v=o("k+AJ"),u=o("EUev"),c=o("ROgi");d(d.P+d.R,"Promise",{finally:function(p){var l=u(this,g.Promise||v.Promise),_=typeof p=="function";return this.then(_?function(T){return c(l,p()).then(function(){return T})}:p,_?function(T){return c(l,p()).then(function(){throw T})}:p)}})},iQRN:function(x,V,o){"use strict";o("AvcM");var d=o("138g"),g=o("ZqwW"),v=o("yU77"),u="toString",c=/./.toString,p=function(l){o("d+oe")(RegExp.prototype,u,l,!0)};o("+TcE")(function(){return c.call({source:"a",flags:"b"})!="/a/b"})?p(function(){var l=d(this);return"/".concat(l.source,"/","flags"in l?l.flags:!v&&l instanceof RegExp?g.call(l):void 0)}):c.name!=u&&p(function(){return c.call(this)})},ibFI:function(x,V,o){o("e7D+")("WeakMap")},ijSB:function(x,V,o){"use strict";o("5oHw")("fixed",function(d){return function(){return d(this,"tt","","")}})},itdZ:function(x,V,o){var d=o("n+hx"),g=o("k+AJ").document,v=d(g)&&d(g.createElement);x.exports=function(u){return v?g.createElement(u):{}}},j3qt:function(x,V,o){o("+Uj0")("WeakMap")},j4Nb:function(x,V,o){var d=o("8IOi"),g=o("138g"),v=Object.preventExtensions;d(d.S,"Reflect",{preventExtensions:function(u){g(u);try{return v&&v(u),!0}catch(c){return!1}}})},j8TA:function(x,V,o){var d=o("kRpC"),g=o("5arV"),v=o("x4ZG"),u=o("138g"),c=o("Y3Md"),p=o("o3v7"),l={},_={};(V=x.exports=function(T,k,S,w,C){var b,E,A,P,z=C?function(){return T}:p(T),B=d(S,w,k?2:1),H=0;if(typeof z!="function")throw TypeError(T+" is not iterable!");if(v(z)){for(b=c(T.length);b>H;H++)if((P=k?B(u(E=T[H])[0],E[1]):B(T[H]))===l||P===_)return P}else for(A=z.call(T);!(E=A.next()).done;)if((P=g(A,B,E.value,k))===l||P===_)return P}).BREAK=l,V.RETURN=_},jAPZ:function(x,V,o){var d=o("8IOi"),g=o("Jkf2"),v=Math.abs;d(d.S,"Number",{isSafeInteger:function(u){return g(u)&&v(u)<=9007199254740991}})},jYdD:function(x,V,o){var d=o("4XFX"),g=o("+zL4"),v=o("XW/+"),u=o("AZ8a"),c=o("L7KE"),p=o("+X+Z"),l=Object.getOwnPropertyDescriptor;V.f=o("yU77")?l:function(_,T){if(_=v(_),T=u(T,!0),p)try{return l(_,T)}catch(k){}if(c(_,T))return g(!d.f.call(_,T),_[T])}},"k+AJ":function(x,V){var o=x.exports=typeof window!="undefined"&&window.Math==Math?window:typeof self!="undefined"&&self.Math==Math?self:Function("return this")();typeof __g=="number"&&(__g=o)},kRpC:function(x,V,o){var d=o("LOhj");x.exports=function(g,v,u){if(d(g),v===void 0)return g;switch(u){case 1:return function(c){return g.call(v,c)};case 2:return function(c,p){return g.call(v,c,p)};case 3:return function(c,p,l){return g.call(v,c,p,l)}}return function(){return g.apply(v,arguments)}}},kWVC:function(x,V,o){var d=o("HGrt"),g=o("138g"),v=o("7WAm"),u=d.has,c=d.get,p=d.key,l=function(_,T,k){if(u(_,T,k))return c(_,T,k);var S=v(T);return S!==null?l(_,S,k):void 0};d.exp({getMetadata:function(_,T){return l(_,g(T),arguments.length<3?void 0:p(arguments[2]))}})},kopD:function(x,V){x.exports=function(o,d,g,v){if(!(o instanceof d)||v!==void 0&&v in o)throw TypeError(g+": incorrect invocation!");return o}},kwta:function(x,V,o){var d=o("8IOi"),g=o("3D8Z"),v=Math.sqrt,u=Math.acosh;d(d.S+d.F*!(u&&Math.floor(u(Number.MAX_VALUE))==710&&u(1/0)==1/0),"Math",{acosh:function(c){return(c=+c)<1?NaN:c>9490626562425156e-8?Math.log(c)+Math.LN2:g(c-1+v(c-1)*v(c+1))}})},l0zq:function(x,V,o){"use strict";var d=o("Wl3L"),g=o("EN0g"),v=o("4XFX"),u=o("Qu5u"),c=o("26/4"),p=Object.assign;x.exports=!p||o("+TcE")(function(){var l={},_={},T=Symbol(),k="abcdefghijklmnopqrst";return l[T]=7,k.split("").forEach(function(S){_[S]=S}),p({},l)[T]!=7||Object.keys(p({},_)).join("")!=k})?function(l,_){for(var T=u(l),k=arguments.length,S=1,w=g.f,C=v.f;k>S;)for(var b,E=c(arguments[S++]),A=w?d(E).concat(w(E)):d(E),P=A.length,z=0;P>z;)C.call(E,b=A[z++])&&(T[b]=E[b]);return T}:p},l6ZQ:function(x,V,o){"use strict";var d=o("8IOi"),g=o("x0dS");d(d.P+d.F*!o("Vcfr")([].reduce,!0),"Array",{reduce:function(v){return g(this,v,arguments.length,arguments[1],!1)}})},l9Ni:function(x,V,o){var d=o("8IOi");d(d.S+d.F,"Object",{assign:o("l0zq")})},lCxz:function(x,V,o){var d=o("8IOi");d(d.S,"Math",{DEG_PER_RAD:Math.PI/180})},lLv2:function(x,V,o){"use strict";var d,g=o("k+AJ"),v=o("z/zB")(0),u=o("d+oe"),c=o("TI2F"),p=o("l0zq"),l=o("QV8t"),_=o("n+hx"),T=o("eYp2"),k=o("eYp2"),S=!g.ActiveXObject&&"ActiveXObject"in g,w="WeakMap",C=c.getWeak,b=Object.isExtensible,E=l.ufstore,A=function(B){return function(){return B(this,arguments.length>0?arguments[0]:void 0)}},P={get:function(B){if(_(B)){var H=C(B);return H===!0?E(T(this,w)).get(B):H?H[this._i]:void 0}},set:function(B,H){return l.def(T(this,w),B,H)}},z=x.exports=o("0WhE")(w,A,P,l,!0,!0);k&&S&&(p((d=l.getConstructor(A,w)).prototype,P),c.NEED=!0,v(["delete","has","get","set"],function(B){var H=z.prototype,K=H[B];u(H,B,function(Q,ct){if(_(Q)&&!b(Q)){this._f||(this._f=new d);var mt=this._f[B](Q,ct);return B=="set"?this:mt}return K.call(this,Q,ct)})}))},"lk+t":function(x,V,o){var d=o("3oW4")("keys"),g=o("Vol4");x.exports=function(v){return d[v]||(d[v]=g(v))}},m29h:function(x,V){var o=Math.ceil,d=Math.floor;x.exports=function(g){return isNaN(g=+g)?0:(g>0?d:o)(g)}},mFt4:function(x,V,o){o("+Uj0")("Map")},mWBI:function(x,V,o){var d=o("J2HX").f,g=Function.prototype,v=/^\s*function ([^ (]*)/,u="name";u in g||o("yU77")&&d(g,u,{configurable:!0,get:function(){try{return(""+this).match(v)[1]}catch(c){return""}}})},msPO:function(x,V,o){o("Gx54")("Float64",8,function(d){return function(g,v,u){return d(this,g,v,u)}})},"n+hx":function(x,V){x.exports=function(o){return typeof o=="object"?o!==null:typeof o=="function"}},nAtQ:function(x,V,o){"use strict";var d=o("8IOi"),g=o("QotP"),v=o("Qu5u"),u=o("Y3Md"),c=o("LOhj"),p=o("CkjT");d(d.P,"Array",{flatMap:function(l){var _,T,k=v(this);return c(l),_=u(k.length),T=p(k,0),g(T,k,k,_,0,1,l,arguments[1]),T}}),o("Zrcd")("flatMap")},nOwm:function(x,V,o){"use strict";var d=o("8IOi"),g=o("GvTA"),v=o("ZP9f"),u=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(v);d(d.P+d.F*u,"String",{padEnd:function(c){return g(this,c,arguments.length>1?arguments[1]:void 0,!1)}})},nR3n:function(x,V,o){var d=o("8IOi"),g=o("Wa0j"),v=o("1JuZ");d(d.S,"Math",{fscale:function(u,c,p,l,_){return v(g(u,c,p,l,_))}})},nas9:function(x,V,o){var d=o("8IOi");d(d.S,"Math",{imulh:function(g,v){var u=65535,c=+g,p=+v,l=c&u,_=p&u,T=c>>16,k=p>>16,S=(T*_>>>0)+(l*_>>>16);return T*k+(S>>16)+((l*k>>>0)+(S&u)>>16)}})},nptS:function(x,V,o){"use strict";o("5oHw")("fontcolor",function(d){return function(g){return d(this,"font","color",g)}})},ntFk:function(x,V,o){"use strict";o("N8W1");var d=o("d+oe"),g=o("BxPU"),v=o("+TcE"),u=o("aI2V"),c=o("3iRr"),p=o("4Fav"),l=c("species"),_=!v(function(){var k=/./;return k.exec=function(){var S=[];return S.groups={a:"7"},S},"".replace(k,"$<a>")!=="7"}),T=function(){var k=/(?:)/,S=k.exec;k.exec=function(){return S.apply(this,arguments)};var w="ab".split(k);return w.length===2&&w[0]==="a"&&w[1]==="b"}();x.exports=function(k,S,w){var C=c(k),b=!v(function(){var H={};return H[C]=function(){return 7},""[k](H)!=7}),E=b?!v(function(){var H=!1,K=/a/;return K.exec=function(){return H=!0,null},k==="split"&&(K.constructor={},K.constructor[l]=function(){return K}),K[C](""),!H}):void 0;if(!b||!E||k==="replace"&&!_||k==="split"&&!T){var A=/./[C],P=w(u,C,""[k],function(H,K,Q,ct,mt){return K.exec===p?b&&!mt?{done:!0,value:A.call(K,Q,ct)}:{done:!0,value:H.call(Q,K,ct)}:{done:!1}}),z=P[0],B=P[1];d(String.prototype,k,z),g(RegExp.prototype,C,S==2?function(H,K){return B.call(H,this,K)}:function(H){return B.call(H,this)})}}},nx9P:function(x,V,o){var d=o("8IOi"),g=180/Math.PI;d(d.S,"Math",{degrees:function(v){return v*g}})},o3v7:function(x,V,o){var d=o("UVVG"),g=o("3iRr")("iterator"),v=o("wFMk");x.exports=o("CuJi").getIteratorMethod=function(u){if(u!=null)return u[g]||u["@@iterator"]||v[d(u)]}},o9jk:function(x,V,o){var d=o("8IOi");d(d.S,"Number",{EPSILON:Math.pow(2,-52)})},oFtK:function(x,V,o){var d=o("8IOi");d(d.S,"Math",{log1p:o("3D8Z")})},oHD3:function(x,V,o){x.exports=o("3oW4")("native-function-to-string",Function.toString)},oKuV:function(x,V,o){"use strict";var d=o("8IOi"),g=o("8wjV"),v=o("t5lg"),u=o("138g"),c=o("b8c2"),p=o("Y3Md"),l=o("n+hx"),_=o("k+AJ").ArrayBuffer,T=o("EUev"),k=v.ArrayBuffer,S=v.DataView,w=g.ABV&&_.isView,C=k.prototype.slice,b=g.VIEW,E="ArrayBuffer";d(d.G+d.W+d.F*(_!==k),{ArrayBuffer:k}),d(d.S+d.F*!g.CONSTR,E,{isView:function(A){return w&&w(A)||l(A)&&b in A}}),d(d.P+d.U+d.F*o("+TcE")(function(){return!new k(2).slice(1,void 0).byteLength}),E,{slice:function(A,P){if(C!==void 0&&P===void 0)return C.call(u(this),A);for(var z=u(this).byteLength,B=c(A,z),H=c(P===void 0?z:P,z),K=new(T(this,k))(p(H-B)),Q=new S(this),ct=new S(K),mt=0;B<H;)ct.setUint8(mt++,Q.getUint8(B++));return K}}),o("Oi8Z")(E)},oTT8:function(x,V,o){var d=o("8IOi");d(d.S,"Reflect",{ownKeys:o("6uvR")})},oszf:function(x,V,o){"use strict";var d=o("8IOi"),g=o("J8Qq")(!0);d(d.P,"Array",{includes:function(v){return g(this,v,arguments.length>1?arguments[1]:void 0)}}),o("Zrcd")("includes")},p5hF:function(x,V,o){"use strict";var d=o("8IOi"),g=o("Qu5u"),v=o("LOhj"),u=o("J2HX");o("yU77")&&d(d.P+o("rGBx"),"Object",{__defineGetter__:function(c,p){u.f(g(this),c,{get:v(p),enumerable:!0,configurable:!0})}})},pAas:function(x,V,o){"use strict";var d=o("kRpC"),g=o("8IOi"),v=o("Qu5u"),u=o("5arV"),c=o("x4ZG"),p=o("Y3Md"),l=o("UtW+"),_=o("o3v7");g(g.S+g.F*!o("6+im")(function(T){Array.from(T)}),"Array",{from:function(T){var k,S,w,C,b=v(T),E=typeof this=="function"?this:Array,A=arguments.length,P=A>1?arguments[1]:void 0,z=P!==void 0,B=0,H=_(b);if(z&&(P=d(P,A>2?arguments[2]:void 0,2)),H==null||E==Array&&c(H))for(S=new E(k=p(b.length));k>B;B++)l(S,B,z?P(b[B],B):b[B]);else for(C=H.call(b),S=new E;!(w=C.next()).done;B++)l(S,B,z?u(C,P,[w.value,B],!0):w.value);return S.length=B,S}})},pDsQ:function(x,V,o){V.f=o("3iRr")},pLVf:function(x,V,o){o("Gx54")("Uint8",1,function(d){return function(g,v,u){return d(this,g,v,u)}})},pSQQ:function(x,V,o){o("HLcc")("asyncIterator")},pYEy:function(x,V,o){var d=o("8IOi"),g=Math.exp;d(d.S,"Math",{cosh:function(v){return(g(v=+v)+g(-v))/2}})},peKB:function(x,V,o){var d=o("8IOi");d(d.S,"Object",{setPrototypeOf:o("R1kZ").set})},"q/s7":function(x,V,o){"use strict";o.r(V);var d=o("XuX8"),g=o.n(d);o("KJ4T");function v(U,ot){return U.__proto__=ot,U}Object.setPrototypeOf=Object.setPrototypeOf||v,v.bind(Object);var u=typeof Symbol!="undefined"&&typeof Reflect!="undefined"&&typeof Proxy!="undefined"&&!Object.isSealed(Proxy),c=function(){function U(ot,lt){for(var gt=0;gt<lt.length;gt++){var Lt=lt[gt];Lt.enumerable=Lt.enumerable||!1,Lt.configurable=!0,"value"in Lt&&(Lt.writable=!0),Object.defineProperty(ot,Lt.key,Lt)}}return function(ot,lt,gt){return lt&&U(ot.prototype,lt),gt&&U(ot,gt),ot}}();function p(U,ot){if(!(U instanceof ot))throw new TypeError("Cannot call a class as a function")}function l(U,ot){if(!U)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!ot||typeof ot!="object"&&typeof ot!="function"?U:ot}function _(U,ot){if(typeof ot!="function"&&ot!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof ot);U.prototype=Object.create(ot&&ot.prototype,{constructor:{value:U,enumerable:!1,writable:!0,configurable:!0}}),ot&&(Object.setPrototypeOf?Object.setPrototypeOf(U,ot):U.__proto__=ot)}function T(){return Reflect.construct(HTMLElement,[],this.__proto__.constructor)}function k(U){var ot=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof customElements!="undefined"){if(u){var lt=function(Ot){function zt(se){p(this,zt);var Oe=l(this,(zt.__proto__||Object.getPrototypeOf(zt)).call(this)),le=se?HTMLElement.call(se):Oe;return Lt.call(le),l(Oe,le)}return _(zt,Ot),c(zt,null,[{key:"observedAttributes",get:function(){return ot.observedAttributes||[]}}]),zt}(T);return lt.prototype.connectedCallback=vt,lt.prototype.disconnectedCallback=ht,lt.prototype.attributeChangedCallback=pt,Bt(U,lt),lt}var gt=function(Ot){var zt=Ot?HTMLElement.call(Ot):this;return Lt.call(zt),zt};return gt.observedAttributes=ot.observedAttributes||[],gt.prototype=Object.create(HTMLElement.prototype,{constructor:{configurable:!0,writable:!0,value:gt}}),gt.prototype.connectedCallback=vt,gt.prototype.disconnectedCallback=ht,gt.prototype.attributeChangedCallback=pt,Bt(U,gt),gt}function Lt(){ot.shadow===!0&&HTMLElement.prototype.attachShadow&&this.attachShadow({mode:"open"}),typeof ot.constructorCallback=="function"&&ot.constructorCallback.call(this)}function vt(){typeof ot.connectedCallback=="function"&&ot.connectedCallback.call(this)}function ht(){typeof ot.disconnectedCallback=="function"&&ot.disconnectedCallback.call(this)}function pt(Ot,zt,se){typeof ot.attributeChangedCallback=="function"&&ot.attributeChangedCallback.call(this,Ot,zt,se)}function Bt(Ot,zt){var se=customElements.get(Ot);return se!==void 0?se:customElements.define(Ot,zt)}}Object.setPrototypeOf(T.prototype,HTMLElement.prototype),Object.setPrototypeOf(T,HTMLElement);var S=/-(\w)/g,w=function(U){return U.replace(S,function(ot,lt){return lt?lt.toUpperCase():""})},C=/([^-])([A-Z])/g,b=function(U){return U.replace(C,"$1-$2").replace(C,"$1-$2").toLowerCase()};function E(U){for(var ot=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,lt=U.length-ot,gt=new Array(lt);lt--;)gt[lt]=U[lt+ot];return gt}var A=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(U){return typeof U}:function(U){return U&&typeof Symbol=="function"&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U};function P(U,ot){var lt=U,gt=["true","false"].indexOf(U)>-1,Lt=parseFloat(lt,10),vt=!isNaN(Lt)&&isFinite(lt)&&typeof lt=="string"&&!lt.match(/^0+[^.]\d*$/g);return ot&&ot!==Boolean&&(lt===void 0?"undefined":A(lt))!==ot?lt=ot(U):gt||ot===Boolean?lt=lt===""||lt==="true":vt&&(lt=Lt),lt}function z(U,ot){if(U&&U.length)U.forEach(function(Lt){var vt=w(Lt);ot.camelCase.indexOf(vt)===-1&&ot.camelCase.push(vt)});else if(U&&(U===void 0?"undefined":A(U))==="object")for(var lt in U){var gt=w(lt);ot.camelCase.indexOf(gt)===-1&&ot.camelCase.push(gt),U[gt]&&U[gt].type&&(ot.types[lt]=[].concat(U[gt].type)[0])}}function B(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ot={camelCase:[],hyphenate:[],types:{}};if(U.mixins&&U.mixins.forEach(function(gt){z(gt.props,ot)}),U.extends&&U.extends.props){var lt=U.extends.props;z(lt,ot)}return z(U.props,ot),ot.camelCase.forEach(function(gt){ot.hyphenate.push(b(gt))}),ot}function H(U){var ot={};return E(U.attributes).forEach(function(lt){ot[lt.nodeName==="vue-slot"?"slot":lt.nodeName]=lt.nodeValue}),ot}function K(U,ot,lt){var gt=E(function(Lt){if(Lt.childNodes.length)return Lt.childNodes;if(Lt.content&&Lt.content.childNodes&&Lt.content.childNodes.length)return Lt.content.childNodes;var vt=document.createElement("div");return vt.innerHTML=Lt.innerHTML,vt.childNodes}(ot)).map(function(Lt){return Lt.nodeName==="#text"?Lt.nodeValue:U(Lt.tagName,{attrs:H(Lt),domProps:{innerHTML:Lt.innerHTML}})});return lt.slot=ot.id,U("template",lt,gt)}function Q(U,ot){var lt={bubbles:!1,cancelable:!1,detail:ot},gt=void 0;return typeof window.CustomEvent=="function"?gt=new CustomEvent(U,lt):(gt=document.createEvent("CustomEvent")).initCustomEvent(U,lt.bubbles,lt.cancelable,lt.detail),gt}function ct(U,ot){for(var lt=arguments.length,gt=Array(lt>2?lt-2:0),Lt=2;Lt<lt;Lt++)gt[Lt-2]=arguments[Lt];var vt=Q(ot,[].concat(gt));U.dispatchEvent(vt)}function mt(U,ot,lt,gt,Lt){if(!U.__vue_custom_element__){var vt=ot.util.extend({},lt),ht=function(Qt,Ke,Ee){var Je=Ke.propsData||{};return Ee.hyphenate.forEach(function(Te,zn){var te=Ee.camelCase[zn],Se=Qt.attributes[Te]||Qt[te],ve=null;Ee.types[te]&&(ve=Ee.types[te]),Se instanceof Attr?Je[te]=P(Se.value,ve):Se!==void 0&&(Je[te]=Se)}),Je}(U,vt,gt),pt=ot.version&&parseInt(ot.version.split(".")[0],10)||0;if(vt.beforeCreate=[].concat(vt.beforeCreate||[],function(){this.$emit=function(){for(var Qt,Ke=arguments.length,Ee=Array(Ke),Je=0;Je<Ke;Je++)Ee[Je]=arguments[Je];ct.apply(void 0,[U].concat(Ee)),this.__proto__&&(Qt=this.__proto__.$emit).call.apply(Qt,[this].concat(Ee))}}),vt._compiled){var Bt={};vt._Ctor&&(Bt=Object.values(vt._Ctor)[0].options),Bt.beforeCreate=vt.beforeCreate}var Ot=void 0;if(pt>=2){var zt=U.cloneNode(!0).childNodes;Ot={propsData:ht,props:gt.camelCase,computed:{reactiveProps:function(){var Qt=this,Ke={};return gt.camelCase.forEach(function(Ee){Qt[Ee]!==void 0&&(Ke[Ee]=Qt[Ee])}),Ke}},render:function(Qt){var Ke={props:this.reactiveProps};return Qt(vt,Ke,function(){var Ee=arguments[1],Je=[];return E(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).forEach(function(Te){if(Te.nodeName==="#text")Te.nodeValue.trim()&&Je.push(Ee("span",Te.nodeValue));else if(Te.nodeName!=="#comment"){var zn=H(Te),te={attrs:zn,domProps:{innerHTML:Te.innerHTML===""?Te.innerText:Te.innerHTML}};zn.slot&&(te.slot=zn.slot,zn.slot=void 0);var Se=Te.tagName==="TEMPLATE"?K(Ee,Te,te):Ee(Te.tagName,te);Je.push(Se)}}),Je}(zt,Qt))}}}else if(pt===1)(Ot=vt).propsData=ht;else{Ot=vt;var se={};Object.keys(ht).forEach(function(Qt){se[Qt]={default:ht[Qt]}}),Ot.props=se}var Oe=pt>=2?"<div></div>":("<div>"+U.innerHTML+"</div>").replace(/vue-slot=/g,"slot=");if(Lt.shadow&&U.shadowRoot?(U.shadowRoot.innerHTML=Oe,Ot.el=U.shadowRoot.children[0]):(U.innerHTML=Oe,Ot.el=U.children[0]),function(Qt,Ke){Ke.camelCase.forEach(function(Ee,Je){Object.defineProperty(Qt,Ee,{get:function(){return this.__vue_custom_element__[Ee]},set:function(Te){if((Te===void 0?"undefined":A(Te))!=="object"&&typeof Te!="function"||!this.__vue_custom_element__){var zn=Ke.types[Ke.camelCase[Je]];this.setAttribute(Ke.hyphenate[Je],P(Te,zn))}else{var te=Ke.camelCase[Je];this.__vue_custom_element__[te]=Te}}})})}(U,gt),typeof Lt.beforeCreateVueInstance=="function"&&(Ot=Lt.beforeCreateVueInstance(Ot)||Ot),U.__vue_custom_element__=new ot(Ot),U.__vue_custom_element_props__=gt,U.getVueInstance=function(){return U.__vue_custom_element__.$children[0]},Lt.shadow&&Lt.shadowCss&&U.shadowRoot){var le=document.createElement("style");le.type="text/css",le.appendChild(document.createTextNode(Lt.shadowCss)),U.shadowRoot.appendChild(le)}U.removeAttribute("vce-cloak"),U.setAttribute("vce-ready",""),ct(U,"vce-ready")}}function It(U){U.customElement=function(ot,lt){var gt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Lt=typeof lt=="function",vt=Lt&&{props:gt.props||[]},ht=B(Lt?vt:lt),pt=k(ot,{constructorCallback:function(){typeof gt.constructorCallback=="function"&&gt.constructorCallback.call(this)},connectedCallback:function(){var Bt=this,Ot=Lt&&lt(),zt=Ot&&Ot.then&&typeof Ot.then=="function";if(typeof gt.connectedCallback=="function"&&gt.connectedCallback.call(this),Lt&&!zt)throw new Error("Async component "+ot+" do not returns Promise");this.__detached__||(zt?Ot.then(function(se){var Oe=B(se);mt(Bt,U,se,Oe,gt),typeof gt.vueInstanceCreatedCallback=="function"&&gt.vueInstanceCreatedCallback.call(Bt)}):(mt(this,U,lt,ht,gt),typeof gt.vueInstanceCreatedCallback=="function"&&gt.vueInstanceCreatedCallback.call(this))),this.__detached__=!1},disconnectedCallback:function(){var Bt=this;this.__detached__=!0,typeof gt.disconnectedCallback=="function"&&gt.disconnectedCallback.call(this),gt.destroyTimeout!==null&&setTimeout(function(){Bt.__detached__&&Bt.__vue_custom_element__&&(Bt.__vue_custom_element__.$destroy(!0),delete Bt.__vue_custom_element__,delete Bt.__vue_custom_element_props__)},gt.destroyTimeout||3e3)},attributeChangedCallback:function(Bt,Ot,zt){if(this.__vue_custom_element__&&zt!==void 0){var se=w(Bt);typeof gt.attributeChangedCallback=="function"&&gt.attributeChangedCallback.call(this,Bt,Ot,zt);var Oe=this.__vue_custom_element_props__.types[se];this.__vue_custom_element__[se]=P(zt,Oe)}},observedAttributes:ht.hyphenate,shadow:!!gt.shadow&&!!HTMLElement.prototype.attachShadow});return pt}}typeof window!="undefined"&&window.Vue&&(window.Vue.use(It),It.installed&&(It.installed=!1));var Dt=It,Wt=(o("OKyS"),o("LvDl")),Zt=o.n(Wt),Rt=o("Iab2"),qt=o.n(Rt);videojs.options.controlBar={volumePanel:{inline:!1}},videojs.options.flash.swf="liveplayer.swf",videojs.options.techOrder=["html5","flash"],videojs.log.level("off"),flvjs.LoggingControl.enableAll=!1;var ae={name:"live-player",data:function(){return{player:null,liveCheckTimer:0,hlsTimer:0,fluentBtnCls:"live-player-fluent-btn",stretchBtnCls:"live-player-stretch-btn",snapFromOutside:!1,snapForPoster:!1,snapForReload:!1,showSlot:!1,fluent_:!0,muted_:!0,stretch_:!1,poster_:"",subVideoUrl_:"",avLoading:!1,reloadCnt:0,updateTimeAt:0,startAt:0,playAt:0,pauseAt:0,endedAt:0,errorAt:0,flvMediaDataSource:{},flvConfig:{},resolutionName:{sd:"\u6807\u6E05",hd:"\u9AD8\u6E05",fhd:"\u8D85\u6E05",yh:"\u539F\u753B"},playbackRate_:1,fullscreen:!1,visible:!0}},props:{videoUrl:{type:String,default:""},subVideoUrl:{type:String,default:""},videoTitle:{type:String,default:""},poster:{default:""},autoplay:{type:Boolean,default:!0},live:{type:Boolean,default:!1},smart:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},currentTime:{type:Number,default:0},timeout:{type:Number,default:20},alt:{type:String,default:""},muted:{type:Boolean,default:!0},aspect:{type:String,default:"16:9"},videoBufferSize:{type:Number,default:204800},audioBufferSize:{type:Number,default:131072},hlsErrorSeek:{type:Number,default:5},hlsTestMethod:{type:String,default:"HEAD"},hlsTestInterval:{type:Number,default:1e3},reloadInterval:{type:Number,default:1e3},liveInterval:{type:Number,default:15e3},maxPauseSeconds:{type:Number,default:0},pauseWhenHidden:{type:Boolean,default:!0},fluent:{type:Boolean,default:!0},stretch:{type:Boolean,default:!1},loop:{type:Boolean,default:!1},controls:{type:Boolean,default:!0},hideBigPlayButton:{type:Boolean,default:!1},hideSnapshotButton:{type:Boolean,default:!1},hideFullscreenButton:{type:Boolean,default:!1},hideFluentButton:{type:Boolean,default:!1},hideStretchButton:{type:Boolean,default:!1},hidePicInPic:{type:Boolean,default:!0},hideWaiting:{type:Boolean,default:!0},showTime:{type:Boolean,default:function(){return!videojs.browser.IS_IOS&&!videojs.browser.IS_ANDROID}},showCustomButton:{type:Boolean,default:!0},showCameraButton:{type:Boolean,default:!videojs.browser.IS_SAFARI},debug:{type:Boolean,default:!1},hasvideo:{type:Boolean,default:void 0},hasaudio:{type:Boolean,default:void 0},resolution:{type:String,default:""},resolutiondefault:{type:String,default:"hd"},reconnect:{type:Boolean,default:!1},playbackRates:{type:Array,default:function(){return videojs.browser.IS_IOS||videojs.browser.IS_ANDROID?[]:[.5,1,2,3]}},playbackRate:{type:Number,default:1},cors:{type:Boolean,default:!0},withCredentials:{type:Boolean,default:!1},customButtons:{type:String,default:""},autofocus:{type:Boolean,default:!1},dblclickFullscreen:{type:Boolean,default:!0},language:{type:String,default:navigator&&(navigator.languages&&navigator.languages[0]||navigator.userLanguage||navigator.language)||"en"}},beforeDestroy:function(){this.destroyVideoJS()},deactivated:function(){this.destroyVideoJS()},watch:{videoUrl:function(U){this.videoUrl?this.poster_=this.poster:this.poster_="",this.smart&&!this.subVideoUrl&&this.videoUrl&&(this.videoUrl.indexOf("webrtc")!=0||/_sub(\?|$)/.test(this.videoUrl)?/.flv(\?|$)/.test(this.videoUrl)&&!/_sub.flv(\?|$)/.test(this.videoUrl)&&(this.subVideoUrl_=this.videoUrl.replace(/(.flv(\?|$))/,"_sub$1")):this.subVideoUrl_=this.videoUrl.replace(/(\?|$)/,"_sub$1")),this.videoUrl||this.subVideoUrl||(this.subVideoUrl_=""),this.reload()},subVideoUrl:function(U){this.subVideoUrl_=this.subVideoUrl,this.smart&&!this.subVideoUrl_&&this.videoUrl&&(this.videoUrl.indexOf("webrtc")!=0||/_sub(\?|$)/.test(this.videoUrl)?/.flv(\?|$)/.test(this.videoUrl)&&!/_sub.flv(\?|$)/.test(this.videoUrl)&&(this.subVideoUrl_=this.videoUrl.replace(/(.flv(\?|$))/,"_sub$1")):this.subVideoUrl_=this.videoUrl.replace(/(\?|$)/,"_sub$1")),this.videoUrl||this.subVideoUrl||(this.subVideoUrl_=""),this.reload()},fullscreen:function(U){this.videoUrl&&this.subVideoUrl_&&this.videoUrl!=this.subVideoUrl_&&(this.webrtc&&this.videoUrl.indexOf("webrtc")==0&&this.subVideoUrl_.indexOf("webrtc")==0?this.rtcReloadTech():(this.http||this.ws)&&this.flv&&/\.flv.*$/.test(this.videoUrl)&&/\.flv.*$/.test(this.subVideoUrl_)&&this.flvReloadTech())},fluent:function(U){this.fluent_=U,this.reload()},muted:function(U){this.muted_=U,this.reload()},stretch:function(U){this.stretch_=U,this.reload()},poster:function(U){this.poster_=U},loop:function(U){this.reload()},currentTime:function(U){this.player&&this.player.currentTime(U)},language:function(U){this.reload()}},mounted:function(){flvjs.reconnect=this.reconnect,this.muted_=this.muted,this.fluent_=this.fluent,this.stretch_=this.stretch,this.poster_=this.poster,this.playbackRate_=this.playbackRate,this.subVideoUrl_=this.subVideoUrl,this.smart&&!this.subVideoUrl_&&this.videoUrl&&(this.videoUrl.indexOf("webrtc")!=0||/_sub(\?|$)/.test(this.videoUrl)?/.flv(\?|$)/.test(this.videoUrl)&&!/_sub.flv(\?|$)/.test(this.videoUrl)&&(this.subVideoUrl_=this.videoUrl.replace(/(.flv(\?|$))/,"_sub$1")):this.subVideoUrl_=this.videoUrl.replace(/(\?|$)/,"_sub$1")),this.debug&&(videojs.log.level("info"),flvjs.LoggingControl.enableAll=!0),this.initVideoJS()},computed:{videoType:function(){var U="video/mp4";return this.rtmp?U="rtmp/mp4":(this.http||this.ws)&&this.flv?U="video/x-flv":this.m3u8&&(U="application/x-mpegURL"),U},videoWrapperStyle:function(){if(this.aspect=="100%"||this.aspect=="fullscreen")return{width:"100%",height:"100%"};var U=this.aspect.split(":"),ot=parseInt(U[0])||16;return{paddingBottom:(parseInt(U[1])||9)/ot*100+"%",position:"relative",margin:"0 auto",overflow:"hidden"}},rtmp:function(){return(this.src||"").indexOf("rtmp")==0},http:function(){return(this.src||"").indexOf("http")==0},webrtc:function(){return(this.src||"").indexOf("webrtc")==0},ws:function(){return(this.src||"").indexOf("ws")==0},mp4:function(){return/\.mp4.*$/.test(this.src||"")},m3u8:function(){return/\.m3u8.*$/.test(this.src||"")},flv:function(){return/\.flv.*$/.test(this.src||"")},alt2:function(){return this.alt||this.language==="zh-CN"?"\u65E0\u4FE1\u53F7":"No Video"},src:function(){var U=this.subVideoUrl_||this.videoUrl;return this.fullscreen&&(U=this.videoUrl||this.subVideoUrl_),U?U.indexOf("//")===0?location.protocol+U:U.indexOf("/")===0?location.protocol+"//"+location.host+U:U:""},blankHtml:function(){return this.poster_&&this.src?`
                    <div class="alt" style="background-image:url('`+this.poster_+`');">
                    </div>
                `:`
                    <div class="alt">
                        <table>
                            <tr>
                                <td>`+this.alt2+`</td>
                            </tr>
                        </table>
                    </div>
                `},videoHtml:function(){return this.src?this.rtmp||this.http||this.flv||this.mp4||this.webrtc?`
                        <video class="video-js vjs-default-skin vjs-big-play-centered" style="width: 100%; height: 100%; `+(this.stretch_?"object-fit: fill;":"")+`"
                            webkit-playsinline="" playsinline="" x-webkit-airplay="allow" x5-playsinline=""
                            preload="none" poster="`+this.poster_+'" '+(this.muted_?"muted":"")+" "+(this.loop?"loop":"")+`>
                            <source src="`+this.src+'" type="'+this.videoType+`"></source>
                            <p class="vjs-no-js">
                                To view this video please enable JavaScript, and consider upgrading to a web browser that
                                <a href="http://videojs.com/html5-video-support/" target="_blank">
                                    supports HTML5 video
                                </a>
                            </p>
                        </video>
                    `:`
                        <canvas style="width: 100%; height: 100%;"></canvas>
                    `:this.blankHtml}},methods:{isMobile:function(){return videojs.browser.IS_IOS||videojs.browser.IS_ANDROID},hasUsableSWF:function(){return!!(window.ActiveXObject!==void 0?new ActiveXObject("ShockwaveFlash.ShockwaveFlash"):navigator.plugins["Shockwave Flash"])},reload:function(){this.reloadCnt++,this.debug&&console.log(new Date().toLocaleString()+" "+this.src+" reload["+this.reloadCnt+"]"),this.destroyVideoJS(),this.initVideoJS()},flvError:function(U){var ot=this;this.debug&&console.log(new Date().toLocaleString()+" "+this.src+" error",U),this.$emit("error",U),this.live&&this.src&&this.reloadInterval>0&&(this.reloadCnt?setTimeout(function(){ot.flvReload()},this.reloadInterval):this.flvReload())},flvReload:function(){this.player&&(this.avLoading=!0,!this.endedAt&&!this.player.isFullscreen()&&this.player.cameraButton&&this.visible?this.snapForReload||(this.debug&&console.log(new Date().toLocaleString()+" "+this.src+" snap reload"),this.snapForReload=!0,this.pauseAt=0,this.player.cameraButton.el().click()):this.flvReloadTech())},flvReloadTech:function(){var U=this;this.debug&&console.log(new Date().toLocaleString()+" "+this.src+" tech reload"),this.reloadCnt++,this.pauseAt=0,this.player.tech_.flvPlayer.unload(),this.player.tech_.flvPlayer.detachMediaElement(),this.player.tech_.flvPlayer.destroy(),this.player.tech_.flvPlayer=window.flvjs.createPlayer(Object.assign({},this.flvMediaDataSource,{type:this.flvMediaDataSource.type===void 0?"flv":this.flvMediaDataSource.type,url:this.getVideoUrl()}),this.flvConfig),this.player.tech_.flvPlayer.attachMediaElement(this.player.tech_.el_),this.player.tech_.flvPlayer.on("error",function(ot){U.flvError(ot)}),this.player.tech_.flvPlayer.on("media_info",function(ot){U.$emit("media_info",ot)}),this.player.tech_.flvPlayer.load()},rtcError:function(U){var ot=this;this.live&&this.src&&this.reloadInterval>0&&setTimeout(function(){ot.rtcReload()},this.reloadInterval)},rtcReload:function(){this.player&&(this.avLoading=!0,!this.endedAt&&!this.player.isFullscreen()&&this.player.cameraButton&&this.visible?this.snapForReload||(this.debug&&console.log(new Date().toLocaleString()+" "+this.src+" snap reload"),this.snapForReload=!0,this.pauseAt=0,this.player.cameraButton.el().click()):this.rtcReloadTech())},rtcReloadTech:function(){this.debug&&console.log(new Date().toLocaleString()+" "+this.src+" tech reload"),this.reloadCnt++,this.pauseAt=0,this.player.tech_.src=this.getVideoUrl(),this.player.tech_.reload()},loadResolutionlist:function(U){var ot=this;if(this.resolution!=""){for(var lt,gt=this.resolution.split(","),Lt=[],vt=0;vt<gt.length;vt++)gt[vt]==this.resolutiondefault,lt=gt[vt]=="yh"?this.videoUrl:this.videoUrl.replace(".m3u8","_"+gt[vt]+".m3u8"),Lt.push({src:lt,type:this.videoType,label:this.resolutionName[gt[vt]],res:gt[vt]});U.updateSrc(Lt),U.on("resolutionchange",function(){ot.debug&&console.log("change resolution")})}},getCustomBtn:function(U){var ot=this.$el.querySelectorAll(".video-js .vjs-control-bar .vjs-button."+U);return ot.length>0?ot[0]:null},customFlashButton:function(){var U=this;if(!this.getCustomBtn(this.fluentBtnCls)){for(var ot=(Lt=this.player.controlBar.children().length)-1;ot>=0;ot--)if(this.player.controlBar.children()[ot].name_=="FullscreenToggle")Lt=ot;else if(this.player.controlBar.children()[ot].name_=="SnapButton"){Lt=ot;break}var lt=this.player.controlBar.addChild("button",{},Lt);lt.name_="FluentButton",lt.el_.classList.add(this.fluentBtnCls),lt.el_.innerText=this.fluent_?this.player.localize("Fluent"):this.player.localize("Fast"),lt.el_.title=this.fluent_?this.player.localize("Click switch to fast play"):this.player.localize("Click switch to fluent play");var gt=function(){U.fluent_=!U.fluent_,lt.el_.innerText=U.fluent_?U.player.localize("Fluent"):U.player.localize("Fast"),lt.el_.title=U.fluent_?U.player.localize("Click switch to fast play"):U.player.localize("Click switch to fluent play"),U.player.tech_.setFluent(U.fluent_)};lt.on("click",gt),lt.on("tap",gt)}if(!this.getCustomBtn(this.stretchBtnCls)){var Lt;for(ot=(Lt=this.player.controlBar.children().length)-1;ot>=0;ot--)if(this.player.controlBar.children()[ot].name_=="FullscreenToggle")Lt=ot;else if(this.player.controlBar.children()[ot].name_=="SnapButton")Lt=ot;else if(this.player.controlBar.children()[ot].name_=="FluentButton"){Lt=ot;break}var vt=this.player.controlBar.addChild("button",{},Lt);vt.name_="StretchButton",vt.el_.classList.add(this.stretchBtnCls),vt.el_.innerText=this.stretch_?this.player.localize("STR"):this.player.localize("STD"),vt.el_.title=this.stretch_?this.player.localize("Click switch to standard display"):this.player.localize("Click switch to stretch display"),gt=function(){U.stretch_=!U.stretch_,vt.el_.innerText=U.stretch_?U.player.localize("STR"):U.player.localize("STD"),vt.el_.title=U.stretch_?U.player.localize("Click switch to standard display"):U.player.localize("Click switch to stretch display"),U.player.tech_.setStretch(U.stretch_)},vt.on("click",gt),vt.on("tap",gt)}},customH5Button:function(){var U=this;if(!this.getCustomBtn(this.stretchBtnCls)&&!videojs.browser.IE_VERSION){for(var ot=this.player.controlBar.children().length,lt=ot-1;lt>=0;lt--)if(this.player.controlBar.children()[lt].name_=="FullscreenToggle")ot=lt;else if(this.player.controlBar.children()[lt].name_=="SnapButton"){ot=lt;break}var gt=this.player.controlBar.addChild("button",{},ot);gt.name_="StretchButton",gt.el_.classList.add(this.stretchBtnCls),gt.el_.innerText=this.stretch_?this.player.localize("STR"):this.player.localize("STD"),gt.el_.title=this.stretch_?this.player.localize("Click switch to standard display"):this.player.localize("Click switch to stretch display");var Lt=function(){U.stretch_=!U.stretch_,gt.el_.innerText=U.stretch_?U.player.localize("STR"):U.player.localize("STD"),gt.el_.title=U.stretch_?U.player.localize("Click switch to standard display"):U.player.localize("Click switch to stretch display");var vt=U.$el.querySelector("video");vt?vt.style.objectFit=U.stretch_?"fill":"":U.player.tech_.setStretch(U.stretch_)};gt.on("click",Lt),gt.on("tap",Lt)}this.addCustomButtons()},addCustomButtons:function(){var U=this;if(this.customButtons!=""){for(var ot=this.player.controlBar.children().length,lt=ot-1;lt>=0;lt--)if(this.player.controlBar.children()[lt].name_=="FullscreenToggle")ot=lt;else if(this.player.controlBar.children()[lt].name_=="SnapButton")ot=lt;else if(this.player.controlBar.children()[lt].name_=="StretchButton"){ot=lt;break}var gt=this.customButtons.split(",");for(lt=gt.length-1;lt>=0;lt--){var Lt=gt[lt].split(":"),vt=this.player.controlBar.addChild("button",{},ot);vt.el_.innerHTML=Lt.length>1?"<i class='"+Lt[1]+"'></i>":gt[lt],vt.el_.title=Lt[0],vt.name_=Lt[0];var ht=function(pt){U.$emit("customButtons",pt.currentTarget.getAttribute("title"))};vt.on("click",ht),vt.on("tap",ht)}}},hotkeysOpt:function(){var U={volumeStep:.1,seekStep:5,enableModifiersForNumbers:!1,enableVolumeScroll:!1};return this.autofocus||(U.skipInitialFocus=!0,U.enableInactiveFocus=!1),U},destroyVideoJS:function(){this.liveCheckTimer&&(clearInterval(this.liveCheckTimer),this.liveCheckTimer=0),this.hlsTimer&&(clearTimeout(this.hlsTimer),this.hlsTimer=0),document.removeEventListener("visibilitychange",this.onVisibleChange),this.updateTimeAt=0,this.startAt=0,this.playAt=0,this.pauseAt=0,this.endedAt=0,this.errorAt=0,this.showSlot=!1;var U=this.$el.querySelector(".video-js"),ot=this.$el.querySelector(".video-wrapper");if(U&&ot){var lt=U.querySelector(".video-slot");lt&&(U.removeChild(lt),ot.appendChild(lt));var gt=U.querySelector(".video-title");gt&&(U.removeChild(gt),ot.appendChild(gt))}this.player&&this.player.dispose&&(this.player.dispose(),this.player=null),this.player&&this.player.destroy&&(this.player.destroy(),this.player=null),this.flvMediaDataSource={},this.flvConfig={},this.$el.querySelector(".video-inner").innerHTML=this.blankHtml,this.$emit("update:loading",!1)},getCurrentTime:function(){return this.player&&typeof this.player.currentTime=="function"?this.player.currentTime():-1},setCurrentTime:function(U){this.player&&typeof this.player.currentTime=="function"&&this.player.currentTime(U)},snap:function(){this.player&&this.player.cameraButton?(this.snapFromOutside=!0,this.player.cameraButton.el().click()):console.log("snap not support")},play:function(){this.player&&this.player.play()},pause:function(){this.player&&this.player.pause()},paused:function(){return!!this.player&&this.player.paused()},setMuted:function(U){this.player&&this.player.muted(!!U)},getMuted:function(){return!!this.player&&this.player.muted()},setVolume:function(U){this.player&&this.player.volume(U)},getVolume:function(){return this.player?this.player.volume():0},getMediaInfo:function(){try{return this.player.tech_.flvPlayer._transmuxer._controller._demuxer._mediaInfo}catch(U){}return{}},isFullscreen:function(){return!!this.player&&this.player.isFullscreen()},getVideoUrl:function(){var U=this.subVideoUrl_||this.videoUrl;return this.isFullscreen()&&(U=this.videoUrl||this.subVideoUrl_),U?U.indexOf("//")===0?location.protocol+U:U.indexOf("/")===0?location.protocol+"//"+location.host+U:U:""},requestFullscreen:function(){this.player&&this.player.requestFullscreen()},exitFullscreen:function(){this.player&&this.player.exitFullscreen()},toggleFullscreen:function(){this.player&&(this.player.isFullscreen()?this.player.exitFullscreen():this.player.requestFullscreen())},convertDataURIToBinary:function(U){for(var ot=";base64,",lt=U.indexOf(ot)+ot.length,gt=U.substring(lt),Lt=window.atob(gt),vt=Lt.length,ht=new Uint8Array(vt),pt=0;pt<vt;pt++)ht[pt]=Lt.charCodeAt(pt);return ht},convertDataURIToMIME:function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",ot="data:",lt=";base64,",gt=U.indexOf(ot);gt==0&&(gt+=ot.length);var Lt=U.indexOf(lt);return gt>=0&&Lt>gt?U.substring(gt,Lt):""},saveFile:function(U){if(U&&U.length>100){this.poster_=U;var ot=this.$el.querySelector("video");ot&&ot.setAttribute("poster",U)}if(this.snapForReload)return this.snapForReload=!1,void this.reload();if(this.snapForPoster)this.snapForPoster=!1;else{if(this.snapFromOutside)return this.$emit("snapOutside",U),void(this.snapFromOutside=!1);if(this.$emit("snapInside",U),U&&U.length>100){var lt=this.convertDataURIToBinary(U),gt=this.convertDataURIToMIME(U),Lt=".jpg",vt=gt.indexOf("/");vt>0&&(Lt="."+gt.substring(vt+1)),qt.a.saveAs(new Blob([lt],{type:gt}),(this.videoTitle||"snap")+"_"+new Date().getTime()+Lt)}}},onVisibleChange:function(){this.visible=document.visibilityState==="visible",this.debug&&console.log(new Date().toLocaleString()+" "+this.src+" visible["+this.visible+"]")},debounceInitVideoJS:Zt.a.debounce(function(){this.initVideoJS()},500),initVideoJSOK:function(){var U=this;this.player&&(document.addEventListener("visibilitychange",this.onVisibleChange),this.player.muted(this.muted_),this.player.on("pause",function(){U.updateTimeAt=0,U.pauseAt=new Date().getTime(),U.$emit("pause",U.player.currentTime()),U.debug&&console.log(new Date().toLocaleString()+" "+U.src+" pause")}),this.player.on("snap",function(vt,ht){U.saveFile(ht)}),this.player.on("volumechange",function(vt,ht){U.muted_=U.player.muted()}),this.player.on("fullscreenchange",function(){setTimeout(function(){U.fullscreen=U.isFullscreen(),U.$emit("fullscreen",U.fullscreen)},0)}),this.startAt=new Date().getTime());var ot=this.$el.querySelector(".video-js"),lt=this.$el.querySelector(".video-wrapper");if(ot&&lt){var gt=lt.querySelector(".video-slot");gt&&(lt.removeChild(gt),ot.appendChild(gt));var Lt=lt.querySelector(".video-title");Lt&&(lt.removeChild(Lt),ot.appendChild(Lt))}this.showSlot=!0},initVideoJS:function(){var U=this,ot=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;if(this.$el.querySelector(".video-inner").innerHTML=this.videoHtml,this.src){if(this.startAt=new Date().getTime(),this.rtmp){var lt=document.title;this.player=videojs(this.$el.querySelector("video"),{notSupportedMessage:"\u60A8\u7684\u6D4F\u89C8\u5668\u6CA1\u6709\u5B89\u88C5\u6216\u5F00\u542FFlash",tech:["flash"],autoplay:this.autoplay,stretch:this.stretch,fluent:this.fluent,controls:!0,userActions:{doubleClick:this.dblclickFullscreen},language:this.language}),this.showCameraButton&&this.player.snapshot(),this.player.one("ready",function(){if(U.initVideoJSOK(),videojs.browser.IE_VERSION&&U.player.tech_.off("fullscreentoggle"),U.$emit("update:loading",!1),document.title=lt,U.player.hotkeys(U.hotkeysOpt()),U.player.on("ended",function(){U.endedAt=new Date().getTime(),U.$emit("ended"),U.debug&&console.log(new Date().toLocaleString()+" "+U.src+" ended")}),U.player.on("error",function(Bt){U.errorAt=new Date().getTime(),U.$emit("error",Bt)}),U.player.on("timeupdate",function(){U.updateTimeAt=new Date().getTime(),U.pauseAt=0,U.endedAt=0,U.errorAt=0,U.reloadCnt=0,U.$emit("timeupdate",U.player.currentTime())}),U.player.on("playing",function(){U.playAt=new Date().getTime(),U.$emit("play",U.player.currentTime()),U.debug&&console.log(new Date().toLocaleString()+" "+U.src+" playing")}),U.showCustomButton&&U.customFlashButton(),!U.hasUsableSWF()){var pt=U.$el.querySelector(".vjs-poster");pt&&(pt.style.display="none")}document.getElementsByClassName("vjs-picture-in-picture-control")[0].style.display="none"}),document.title=lt,this.player.on("error",function(pt){(pt=U.$el.querySelector(".vjs-error .vjs-error-display .vjs-modal-dialog-content")).innerHTML="<a href='http://www.adobe.com/go/getflashplayer' target='_blank'>"+pt.textContent+"</a>"})}else if((this.http||this.ws)&&this.flv)this.flvMediaDataSource={isLive:this.live,cors:this.cors,withCredentials:this.withCredentials},this.flvConfig={enableWorker:!1,enableStashBuffer:!1},videojs.browser.IE_VERSION&&(this.flvConfig.enableStashBuffer=!0,this.flvConfig.stashInitialSize=512e3),this.hasaudio!=null&&(this.flvMediaDataSource.hasAudio=this.hasaudio),this.hasvideo!=null&&(this.flvMediaDataSource.hasVideo=this.hasvideo),this.player=videojs(this.$el.querySelector("video"),{techOrder:["flvjs","html5"],controls:!0,flvjs:{mediaDataSource:this.flvMediaDataSource,config:this.flvConfig},userActions:{doubleClick:this.dblclickFullscreen},language:this.language}),this.showCameraButton&&this.player.snapshot(),this.player.one("ready",function(){U.initVideoJSOK(),U.$emit("update:loading",!1),U.stretch_&&(U.player.tech_.el_.style.objectFit="fill"),U.player.hotkeys(U.hotkeysOpt()),U.player.tech_.flvPlayer.on("error",function(pt){U.errorAt=new Date().getTime(),U.flvError(pt)}),U.player.tech_.flvPlayer.on("media_info",function(pt){U.$emit("media_info",pt)}),U.player.on("canplay",function(){U.autoplay&&U.player.tech_.flvPlayer.play().catch(function(){})}),U.player.on("timeupdate",function(){U.updateTimeAt=new Date().getTime(),U.pauseAt=0,U.endedAt=0,U.errorAt=0;var pt=U.player.currentTime();!U.snapForPoster&&!U.poster_&&pt>2&&U.player.cameraButton&&(U.snapForPoster=!0,U.player.cameraButton.el().click()),U.reloadCnt=0,U.$emit("timeupdate",pt)}),U.player.on("error",function(pt){U.errorAt=new Date().getTime(),U.player.error_&&U.player.error_.code===4?U.flvError("MediaError"):U.flvError(U.player.error_||pt)}),U.player.on("ended",function(){U.endedAt=new Date().getTime(),U.live&&U.flvError("ended"),U.$emit("ended"),U.debug&&console.log(new Date().toLocaleString()+" "+U.src+" ended")}),U.player.on("playing",function(){U.playAt=new Date().getTime(),U.avLoading=!1,U.$emit("play",U.player.currentTime()),U.debug&&console.log(new Date().toLocaleString()+" "+U.src+" playing")}),U.showCustomButton&&U.customH5Button()});else if(this.http&&this.m3u8){var gt=new Date().getTime(),Lt=function(){if(!U.player){var pt=document.title;U.resolution!=""?(U.resolution.indexOf(U.resolutiondefault)==-1&&(U.resolutiondefault="yh"),U.player=videojs(U.$el.querySelector("video"),{autoplay:U.autoplay,stretch:U.stretch,controls:!0,plugins:{videoJsResolutionSwitcher:{default:U.resolutiondefault,dynamicLabel:!0}},playbackRates:U.live?[]:U.playbackRates,userActions:{doubleClick:U.dblclickFullscreen},language:U.language}),U.loadResolutionlist(U.player)):U.player=videojs(U.$el.querySelector("video"),{autoplay:U.autoplay,stretch:U.stretch,controls:!0,playbackRates:U.live?[]:U.playbackRates,userActions:{doubleClick:U.dblclickFullscreen},language:U.language}),U.live||U.playbackRate_==1||U.player.playbackRate(U.playbackRate_),U.player.on("ratechange",function(){U.playbackRate_=U.player.playbackRate()}),U.showCameraButton&&U.player.snapshot(),U.player.one("ready",function(){if(U.initVideoJSOK(),U.avLoading=!1,U.$emit("update:loading",!1),document.title=pt,U.player.hotkeys(U.hotkeysOpt()),U.player.on("ended",function(){U.endedAt=new Date().getTime(),U.$emit("ended"),U.debug&&console.log(new Date().toLocaleString()+" "+U.src+" ended")}),U.player.on("timeupdate",function(){U.updateTimeAt=new Date().getTime(),U.pauseAt=0,U.endedAt=0,U.errorAt=0,U.reloadCnt=0,U.$emit("timeupdate",U.player.currentTime())}),U.player.on("play",function(){U.player.removeClass("vjs-has-started"),U.debug&&console.log(new Date().toLocaleString()+" "+U.src+" play")}),U.player.on("playing",function(){U.player.addClass("vjs-has-started"),U.playAt=new Date().getTime(),U.$emit("play",U.player.currentTime()),U.debug&&console.log(new Date().toLocaleString()+" "+U.src+" playing")}),U.player.tech().on("usage",function(Ot){U.debug&&console.log(new Date().toLocaleString()+" "+U.src+" hls usage",Ot),Ot&&Ot.name==="hls-live-resync"&&U.$emit("error",Ot.name)}),U.player.one("error",function(Ot,zt){if(U.errorAt=new Date().getTime(),U.$emit("error",Ot),U.live)U.reloadInterval>0&&setTimeout(function(){U.destroyVideoJS(),U.initVideoJS()},U.reloadInterval);else if(U.hlsErrorSeek>0){var se=U.player.currentTime()+U.hlsErrorSeek;U.destroyVideoJS(),U.initVideoJS(se)}}),document.title=pt,U.live)U.player&&U.player.reloadSourceOnError();else if(U.player&&(U.currentTime>0||ot>0)){var Bt=ot||U.currentTime;videojs.browser.IE_VERSION?U.player.on("loadeddata",function(){setTimeout(function(){U.player.currentTime(Bt)},500)}):U.isMobile()?setTimeout(function(){var Ot=U.$el.querySelector("video");Ot&&(Ot.currentTime=Bt)},3200):U.player.currentTime(Bt)}U.autoplay&&setTimeout(function(){var Ot=U.$el.querySelector(".vjs-big-play-button");if(Ot){var zt=window.getComputedStyle(Ot);zt&&zt.display==="block"&&Ot.click()}},2e3),U.showCustomButton&&U.customH5Button()})}},vt=function pt(){var Bt=new Date().getTime();if(U.timeout>0&&Bt-gt>1e3*U.timeout)return U.hlsTimer&&clearTimeout(U.hlsTimer),U.hlsTimer=0,U.$emit("update:loading",!1),U.avLoading=!1,void U.$emit("message",{type:"error",message:"\u52A0\u8F7D\u64AD\u653E\u8D44\u6E90\u5931\u8D25"});if(!U.src)return U.hlsTimer&&clearTimeout(U.hlsTimer),U.hlsTimer=0,U.$emit("update:loading",!1),void(U.avLoading=!1);U.$emit("update:loading",!0);var Ot=new XMLHttpRequest;Ot.open(U.hlsTestMethod,U.src,!0),Ot.onreadystatechange=function(){Ot.readyState==4&&(Ot.status>=200&&Ot.status<300||Ot.status===304?(U.hlsTimer&&clearTimeout(U.hlsTimer),U.hlsTimer=0,Lt()):(U.debug&&console.log(new Date().toLocaleString()+" "+U.src+" HLS "+U.hlsTestMethod,Ot.status,Ot.statusText),U.hlsTimer=setTimeout(pt,U.hlsTestInterval)))},Ot.send()};this.hlsTestMethod&&this.hlsTestInterval>0?vt():Lt()}else this.webrtc?(this.player=videojs(this.$el.querySelector("video"),{techOrder:["webrtc","html5"],autoplay:this.autoplay,stretch:this.stretch,controls:!0,webrtc:{debug:this.debug,autoplay:this.autoplay},userActions:{doubleClick:this.dblclickFullscreen},language:this.language}),this.showCameraButton&&this.player.snapshot(),this.player.one("ready",function(){U.initVideoJSOK(),U.$emit("update:loading",!1),U.stretch_&&(U.player.tech_.el_.style.objectFit="fill"),U.player.hotkeys(U.hotkeysOpt()),U.player.on("error",function(pt){U.errorAt=new Date().getTime(),U.$emit("error",pt),U.rtcError(pt),U.debug&&console.log(new Date().toLocaleString()+" "+U.src+" player error",pt)}),U.player.tech().on("error",function(pt){U.errorAt=new Date().getTime(),U.$emit("error",pt),U.rtcError(pt),U.debug&&console.log(new Date().toLocaleString()+" "+U.src+" rtc error",pt)}),U.player.on("timeupdate",function(){U.updateTimeAt=new Date().getTime(),U.pauseAt=0,U.endedAt=0,U.errorAt=0;var pt=U.player.currentTime();!U.snapForPoster&&!U.poster_&&pt>2&&U.player.cameraButton&&(U.snapForPoster=!0,U.player.cameraButton.el().click()),U.reloadCnt=0,U.$emit("timeupdate",pt)}),U.player.on("ended",function(){U.endedAt=new Date().getTime(),U.live&&U.rtcError("ended"),U.$emit("ended"),U.debug&&console.log(new Date().toLocaleString()+" "+U.src+" ended")}),U.player.on("playing",function(){U.playAt=new Date().getTime(),U.avLoading=!1,U.$emit("play",U.player.currentTime()),U.debug&&console.log(new Date().toLocaleString()+" "+U.src+" playing")}),U.showCustomButton&&U.customH5Button()})):(this.player=videojs(this.$el.querySelector("video"),{autoplay:this.autoplay,stretch:this.stretch,controls:!0,playbackRates:this.live?[]:this.playbackRates,userActions:{doubleClick:this.dblclickFullscreen},language:this.language}),this.live||this.playbackRate_==1||this.player.playbackRate(this.playbackRate_),this.player.on("ratechange",function(){U.playbackRate_=U.player.playbackRate()}),this.showCameraButton&&this.player.snapshot(),this.player.one("ready",function(){U.initVideoJSOK(),U.$emit("update:loading",!1),U.stretch_&&(U.player.tech_.el_.style.objectFit="fill"),U.player.hotkeys(U.hotkeysOpt()),U.showCustomButton&&U.customH5Button(),U.player.on("ended",function(){U.endedAt=new Date().getTime(),U.$emit("ended"),U.debug&&console.log(new Date().toLocaleString()+" "+U.src+" ended")}),U.player.on("timeupdate",function(){U.updateTimeAt=new Date().getTime(),U.pauseAt=0,U.endedAt=0,U.errorAt=0,U.reloadCnt=0,U.$emit("timeupdate",U.player.currentTime())}),U.player.on("playing",function(){U.playAt=new Date().getTime(),U.avLoading=!1,U.$emit("play",U.player.currentTime()),U.debug&&console.log(new Date().toLocaleString()+" "+U.src+" playing")}),U.player.on("error",function(pt){U.errorAt=new Date().getTime(),U.$emit("error",pt)})}));if(this.live&&this.liveInterval>0&&!(this.isMobile()&&this.http&&this.m3u8)){this.liveCheckTimer&&(clearInterval(this.liveCheckTimer),this.liveCheckTimer=0);var ht=0;this.liveCheckTimer=setInterval(function(){if(!U.updateTimeAt){if(!U.playAt){var pt=new Date().getTime()-U.startAt;return U.debug&&console.log(new Date().toLocaleString()+" "+U.src+" live check never play d = "+pt),void(!(pt>=U.liveInterval&&U.src)||U.player&&U.player.isFullscreen()||(U.debug&&console.log(new Date().toLocaleString()+" "+U.src+" live check never play reload d = "+pt),U.reload()))}return U.pauseAt&&!U.errorAt&&!U.endedAt?(pt=new Date().getTime()-U.pauseAt,U.debug&&console.log(new Date().toLocaleString()+" "+U.src+" live check pause d = "+pt),void(!(U.maxPauseSeconds>0&&pt>=1e3*U.maxPauseSeconds&&U.src)||U.player&&U.player.isFullscreen()||(U.debug&&console.log(new Date().toLocaleString()+" "+U.src+" live check pause reload d = "+pt),U.reload()))):(ht++,U.debug&&console.log(new Date().toLocaleString()+" "+U.src+" live check update time error cnt = "+ht),void(!(ht>=3&&U.src)||U.player&&U.player.isFullscreen()||(U.debug&&console.log(new Date().toLocaleString()+" "+U.src+" live check update time error reload cnt = "+ht),U.reload())))}ht=0,pt=new Date().getTime()-U.updateTimeAt,U.debug&&console.log(new Date().toLocaleString()+" "+U.src+" live check d = "+pt),!(pt>=U.liveInterval&&U.src)||U.player&&U.player.isFullscreen()||(U.debug&&console.log(new Date().toLocaleString()+" "+U.src+" live check reload d = "+pt),U.reload())},this.liveInterval)}}}}};o("UBF9");var Ut=function(U,ot,lt,gt,Lt,vt,ht,pt){var Bt,Ot=typeof U=="function"?U.options:U;if(ot&&(Ot.render=ot,Ot.staticRenderFns=lt,Ot._compiled=!0),gt&&(Ot.functional=!0),vt&&(Ot._scopeId="data-v-"+vt),ht?(Bt=function(Oe){(Oe=Oe||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||typeof __VUE_SSR_CONTEXT__=="undefined"||(Oe=__VUE_SSR_CONTEXT__),Lt&&Lt.call(this,Oe),Oe&&Oe._registeredComponents&&Oe._registeredComponents.add(ht)},Ot._ssrRegister=Bt):Lt&&(Bt=pt?function(){Lt.call(this,(Ot.functional?this.parent:this).$root.$options.shadowRoot)}:Lt),Bt)if(Ot.functional){Ot._injectStyles=Bt;var zt=Ot.render;Ot.render=function(Oe,le){return Bt.call(le),zt(Oe,le)}}else{var se=Ot.beforeCreate;Ot.beforeCreate=se?[].concat(se,Bt):[Bt]}return{exports:U,options:Ot}}(ae,function(){var U=this,ot=U.$createElement,lt=U._self._c||ot;return lt("div",{staticClass:"player-wrapper"},[lt("div",{class:["video-wrapper",{"video-wrapper-stretch":this.stretch_}],style:U.videoWrapperStyle},[lt("div",{staticClass:"video-inner",class:{live:U.live,"av-loading":U.avLoading,"hide-waiting":U.hideWaiting,"hide-controls":!U.controls,"hide-big-play-button":U.hideBigPlayButton,"hide-snapshot-button":U.hideSnapshotButton,"hide-fullscreen-button":U.hideFullscreenButton,"hide-stretch-button":U.hideStretchButton,"hide-fluent-button":U.hideFluentButton,"hide-pic-in-pic":U.hidePicInPic,"show-time":U.showTime&&!U.live},staticStyle:{position:"absolute",top:"0",bottom:"0",left:"0",right:"0"}}),U._v(" "),lt("div",{directives:[{name:"show",rawName:"v-show",value:U.showSlot,expression:"showSlot"}],staticClass:"video-slot"},[U._t("default")],2),U._v(" "),lt("span",{directives:[{name:"show",rawName:"v-show",value:U.videoTitle&&U.showSlot,expression:"videoTitle && showSlot"}],staticClass:"video-title",attrs:{title:U.videoTitle}},[U._v(U._s(U.videoTitle))])])])},[],!1,null,null,null).exports;g.a.use(Dt),g.a.customElement(Ut.name,Ut)},q27k:function(x,V,o){"use strict";var d=o("J2HX").f,g=o("ZiEV"),v=o("xmgo"),u=o("kRpC"),c=o("kopD"),p=o("j8TA"),l=o("1RbY"),_=o("+4di"),T=o("Oi8Z"),k=o("yU77"),S=o("TI2F").fastKey,w=o("eYp2"),C=k?"_s":"size",b=function(E,A){var P,z=S(A);if(z!=="F")return E._i[z];for(P=E._f;P;P=P.n)if(P.k==A)return P};x.exports={getConstructor:function(E,A,P,z){var B=E(function(H,K){c(H,B,A,"_i"),H._t=A,H._i=g(null),H._f=void 0,H._l=void 0,H[C]=0,K!=null&&p(K,P,H[z],H)});return v(B.prototype,{clear:function(){for(var H=w(this,A),K=H._i,Q=H._f;Q;Q=Q.n)Q.r=!0,Q.p&&(Q.p=Q.p.n=void 0),delete K[Q.i];H._f=H._l=void 0,H[C]=0},delete:function(H){var K=w(this,A),Q=b(K,H);if(Q){var ct=Q.n,mt=Q.p;delete K._i[Q.i],Q.r=!0,mt&&(mt.n=ct),ct&&(ct.p=mt),K._f==Q&&(K._f=ct),K._l==Q&&(K._l=mt),K[C]--}return!!Q},forEach:function(H){w(this,A);for(var K,Q=u(H,arguments.length>1?arguments[1]:void 0,3);K=K?K.n:this._f;)for(Q(K.v,K.k,this);K&&K.r;)K=K.p},has:function(H){return!!b(w(this,A),H)}}),k&&d(B.prototype,"size",{get:function(){return w(this,A)[C]}}),B},def:function(E,A,P){var z,B,H=b(E,A);return H?H.v=P:(E._l=H={i:B=S(A,!0),k:A,v:P,p:z=E._l,n:void 0,r:!1},E._f||(E._f=H),z&&(z.n=H),E[C]++,B!=="F"&&(E._i[B]=H)),E},getEntry:b,setStrong:function(E,A,P){l(E,A,function(z,B){this._t=w(z,A),this._k=B,this._l=void 0},function(){for(var z=this,B=z._k,H=z._l;H&&H.r;)H=H.p;return z._t&&(z._l=H=H?H.n:z._t._f)?_(0,B=="keys"?H.k:B=="values"?H.v:[H.k,H.v]):(z._t=void 0,_(1))},P?"entries":"values",!P,!0),T(A)}}},qFNJ:function(x,V,o){(x.exports=o("I1BE")(void 0)).push([x.i,'.video-wrapper .show-time .video-js .vjs-time-control:not(.vjs-remaining-time){padding-left:.5em;padding-right:0;min-width:0;display:block}.video-wrapper .video-js .vjs-remaining-time{display:none}.video-wrapper .live .vjs-progress-control{visibility:hidden}.video-wrapper .av-loading .vjs-big-play-button,.video-wrapper .live .vjs-remaining-time,.video-wrapper .live .vjs-time-control{display:none}.video-wrapper .hide-big-play-button .vjs-big-play-button,.video-wrapper .hide-controls .vjs-control-bar,.video-wrapper .hide-fluent-button .live-player-fluent-btn,.video-wrapper .hide-fullscreen-button .vjs-fullscreen-control,.video-wrapper .hide-pic-in-pic .video-js .vjs-picture-in-picture-control,.video-wrapper .hide-snapshot-button .vjs-snapshot-control,.video-wrapper .hide-stretch-button .live-player-stretch-btn,.video-wrapper .hide-waiting .vjs-seeking .vjs-loading-spinner,.video-wrapper .hide-waiting .vjs-waiting .vjs-loading-spinner{display:none!important}.video-wrapper .alt{position:absolute;left:0;top:0;right:0;bottom:0;vertical-align:middle;background-repeat:no-repeat;background-position:50% 50%;background-size:contain;background-color:#000;color:#fff;text-align:center}.video-wrapper .alt>table{width:100%;height:100%}.video-wrapper .alt>table tr>td{vertical-align:middle}.video-wrapper .video-js .video-slot{font-size:14px}.video-wrapper .video-js .video-title{font-size:14px;position:absolute;top:5px;right:5px;color:#fff;background-color:hsla(0,0%,50%,.5);border-radius:2px;padding:5px;max-width:120px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.video-wrapper .video-js .vjs-control-bar .vjs-button{cursor:pointer;outline:none}.video-wrapper .video-js .vjs-control-bar .vjs-icon-cog:before,.video-wrapper .video-js .vjs-control-bar .vjs-icon-spinner:before{font-size:1.4em;line-height:1.87}.video-wrapper .video-js .vjs-control-bar .vjs-playback-rate .vjs-menu :focus:not(:focus-visible){outline:none;background:#fff}.video-wrapper .vjs-error-display{display:none}.video-wrapper .video-js .vjs-time-control{font-size:1.035em;line-height:2.93em}.video-wrapper .vjs-resolution-button{color:#ccc;font-family:VideoJS}.video-wrapper .vjs-resolution-button .vjs-resolution-button-staticlabel:before{content:"\\F110";font-size:1.8em;line-height:1.7em}.video-wrapper .vjs-resolution-button .vjs-resolution-button-label{width:100%;height:.6em;display:block!important}.video-wrapper .vjs-resolution-button .vjs-resolution-button-label-ie{width:100%;height:.4em;display:block!important}.video-wrapper .vjs-resolution-button ul.vjs-menu-content{width:4em!important}.video-wrapper .vjs-resolution-button .vjs-menu{left:0}.video-wrapper .vjs-resolution-button .vjs-menu li{text-transform:none;font-size:1em;line-height:1.5em;font-family:Arial,Helvetica,sans-serif}.video-wrapper .vjs-audio-button{display:none!important}.video-wrapper .video-js .vjs-big-play-button .vjs-icon-placeholder:before,.video-wrapper .vjs-button>.vjs-icon-placeholder:before{position:relative!important}.video-wrapper .video-js .vjs-play-progress:before{top:-.33em!important}.video-wrapper .video-js .vjs-control:focus,.video-wrapper .video-js .vjs-control:focus:before,.video-wrapper .video-js .vjs-control:hover:before{text-shadow:none!important}@media screen and (-webkit-min-device-pixel-ratio:0){.video-wrapper .video-js .vjs-control-bar{font-size:14px}.video-wrapper .video-js .vjs-slider-vertical .vjs-volume-level:before{left:-.33em!important}}.video-wrapper.video-wrapper-stretch .alt,.video-wrapper.video-wrapper-stretch .video-js .vjs-poster{background-size:100% 100%}',""])},qHvq:function(x,V){x.exports=Object.is||function(o,d){return o===d?o!==0||1/o==1/d:o!=o&&d!=d}},"qOR+":function(x,V,o){"use strict";var d=o("k+AJ"),g=o("L7KE"),v=o("HC2Y"),u=o("EeL+"),c=o("AZ8a"),p=o("+TcE"),l=o("27JW").f,_=o("jYdD").f,T=o("J2HX").f,k=o("6dhg").trim,S="Number",w=d.Number,C=w,b=w.prototype,E=v(o("ZiEV")(b))==S,A="trim"in String.prototype,P=function(K){var Q=c(K,!1);if(typeof Q=="string"&&Q.length>2){var ct,mt,It,Dt=(Q=A?Q.trim():k(Q,3)).charCodeAt(0);if(Dt===43||Dt===45){if((ct=Q.charCodeAt(2))===88||ct===120)return NaN}else if(Dt===48){switch(Q.charCodeAt(1)){case 66:case 98:mt=2,It=49;break;case 79:case 111:mt=8,It=55;break;default:return+Q}for(var Wt,Zt=Q.slice(2),Rt=0,qt=Zt.length;Rt<qt;Rt++)if((Wt=Zt.charCodeAt(Rt))<48||Wt>It)return NaN;return parseInt(Zt,mt)}}return+Q};if(!w(" 0o1")||!w("0b1")||w("+0x1")){w=function(K){var Q=arguments.length<1?0:K,ct=this;return ct instanceof w&&(E?p(function(){b.valueOf.call(ct)}):v(ct)!=S)?u(new C(P(Q)),ct,w):P(Q)};for(var z,B=o("yU77")?l(C):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),H=0;B.length>H;H++)g(C,z=B[H])&&!g(w,z)&&T(w,z,_(C,z));w.prototype=b,b.constructor=w,o("d+oe")(d,S,w)}},rGBx:function(x,V,o){"use strict";x.exports=o("zuiL")||!o("+TcE")(function(){var d=Math.random();__defineSetter__.call(null,d,function(){}),delete o("k+AJ")[d]})},rMxl:function(x,V,o){"use strict";var d=o("8IOi"),g=o("6WDs")(!1);d(d.P,"String",{codePointAt:function(v){return g(this,v)}})},rPJW:function(x,V,o){"use strict";var d=o("k+AJ"),g=o("L7KE"),v=o("yU77"),u=o("8IOi"),c=o("d+oe"),p=o("TI2F").KEY,l=o("+TcE"),_=o("3oW4"),T=o("J70Z"),k=o("Vol4"),S=o("3iRr"),w=o("pDsQ"),C=o("HLcc"),b=o("bZ/h"),E=o("fyHr"),A=o("138g"),P=o("n+hx"),z=o("XW/+"),B=o("AZ8a"),H=o("+zL4"),K=o("ZiEV"),Q=o("Uyw2"),ct=o("jYdD"),mt=o("J2HX"),It=o("Wl3L"),Dt=ct.f,Wt=mt.f,Zt=Q.f,Rt=d.Symbol,qt=d.JSON,ae=qt&&qt.stringify,Ut=S("_hidden"),U=S("toPrimitive"),ot={}.propertyIsEnumerable,lt=_("symbol-registry"),gt=_("symbols"),Lt=_("op-symbols"),vt=Object.prototype,ht=typeof Rt=="function",pt=d.QObject,Bt=!pt||!pt.prototype||!pt.prototype.findChild,Ot=v&&l(function(){return K(Wt({},"a",{get:function(){return Wt(this,"a",{value:7}).a}})).a!=7})?function(ve,ce,Be){var on=Dt(vt,ce);on&&delete vt[ce],Wt(ve,ce,Be),on&&ve!==vt&&Wt(vt,ce,on)}:Wt,zt=function(ve){var ce=gt[ve]=K(Rt.prototype);return ce._k=ve,ce},se=ht&&typeof Rt.iterator=="symbol"?function(ve){return typeof ve=="symbol"}:function(ve){return ve instanceof Rt},Oe=function(ve,ce,Be){return ve===vt&&Oe(Lt,ce,Be),A(ve),ce=B(ce,!0),A(Be),g(gt,ce)?(Be.enumerable?(g(ve,Ut)&&ve[Ut][ce]&&(ve[Ut][ce]=!1),Be=K(Be,{enumerable:H(0,!1)})):(g(ve,Ut)||Wt(ve,Ut,H(1,{})),ve[Ut][ce]=!0),Ot(ve,ce,Be)):Wt(ve,ce,Be)},le=function(ve,ce){A(ve);for(var Be,on=b(ce=z(ce)),vn=0,Sn=on.length;Sn>vn;)Oe(ve,Be=on[vn++],ce[Be]);return ve},Qt=function(ve){var ce=ot.call(this,ve=B(ve,!0));return!(this===vt&&g(gt,ve)&&!g(Lt,ve))&&(!(ce||!g(this,ve)||!g(gt,ve)||g(this,Ut)&&this[Ut][ve])||ce)},Ke=function(ve,ce){if(ve=z(ve),ce=B(ce,!0),ve!==vt||!g(gt,ce)||g(Lt,ce)){var Be=Dt(ve,ce);return!Be||!g(gt,ce)||g(ve,Ut)&&ve[Ut][ce]||(Be.enumerable=!0),Be}},Ee=function(ve){for(var ce,Be=Zt(z(ve)),on=[],vn=0;Be.length>vn;)g(gt,ce=Be[vn++])||ce==Ut||ce==p||on.push(ce);return on},Je=function(ve){for(var ce,Be=ve===vt,on=Zt(Be?Lt:z(ve)),vn=[],Sn=0;on.length>Sn;)!g(gt,ce=on[Sn++])||Be&&!g(vt,ce)||vn.push(gt[ce]);return vn};ht||(c((Rt=function(){if(this instanceof Rt)throw TypeError("Symbol is not a constructor!");var ve=k(arguments.length>0?arguments[0]:void 0),ce=function(Be){this===vt&&ce.call(Lt,Be),g(this,Ut)&&g(this[Ut],ve)&&(this[Ut][ve]=!1),Ot(this,ve,H(1,Be))};return v&&Bt&&Ot(vt,ve,{configurable:!0,set:ce}),zt(ve)}).prototype,"toString",function(){return this._k}),ct.f=Ke,mt.f=Oe,o("27JW").f=Q.f=Ee,o("4XFX").f=Qt,o("EN0g").f=Je,v&&!o("zuiL")&&c(vt,"propertyIsEnumerable",Qt,!0),w.f=function(ve){return zt(S(ve))}),u(u.G+u.W+u.F*!ht,{Symbol:Rt});for(var Te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),zn=0;Te.length>zn;)S(Te[zn++]);for(var te=It(S.store),Se=0;te.length>Se;)C(te[Se++]);u(u.S+u.F*!ht,"Symbol",{for:function(ve){return g(lt,ve+="")?lt[ve]:lt[ve]=Rt(ve)},keyFor:function(ve){if(!se(ve))throw TypeError(ve+" is not a symbol!");for(var ce in lt)if(lt[ce]===ve)return ce},useSetter:function(){Bt=!0},useSimple:function(){Bt=!1}}),u(u.S+u.F*!ht,"Object",{create:function(ve,ce){return ce===void 0?K(ve):le(K(ve),ce)},defineProperty:Oe,defineProperties:le,getOwnPropertyDescriptor:Ke,getOwnPropertyNames:Ee,getOwnPropertySymbols:Je}),qt&&u(u.S+u.F*(!ht||l(function(){var ve=Rt();return ae([ve])!="[null]"||ae({a:ve})!="{}"||ae(Object(ve))!="{}"})),"JSON",{stringify:function(ve){for(var ce,Be,on=[ve],vn=1;arguments.length>vn;)on.push(arguments[vn++]);if(Be=ce=on[1],(P(ce)||ve!==void 0)&&!se(ve))return E(ce)||(ce=function(Sn,En){if(typeof Be=="function"&&(En=Be.call(this,Sn,En)),!se(En))return En}),on[1]=ce,ae.apply(qt,on)}}),Rt.prototype[U]||o("BxPU")(Rt.prototype,U,Rt.prototype.valueOf),T(Rt,"Symbol"),T(Math,"Math",!0),T(d.JSON,"JSON",!0)},rVFp:function(x,V,o){var d=o("8IOi");d(d.P,"Function",{bind:o("Au75")})},"rWL+":function(x,V,o){var d=o("8IOi");d(d.P,"Array",{fill:o("C6Ke")}),o("Zrcd")("fill")},rqGp:function(x,V,o){"use strict";var d=o("8IOi"),g=o("x0dS");d(d.P+d.F*!o("Vcfr")([].reduceRight,!0),"Array",{reduceRight:function(v){return g(this,v,arguments.length,arguments[1],!0)}})},"s+08":function(x,V,o){"use strict";var d=o("8IOi"),g=o("Qu5u"),v=o("AZ8a");d(d.P+d.F*o("+TcE")(function(){return new Date(NaN).toJSON()!==null||Date.prototype.toJSON.call({toISOString:function(){return 1}})!==1}),"Date",{toJSON:function(u){var c=g(this),p=v(c);return typeof p!="number"||isFinite(p)?c.toISOString():null}})},skXq:function(x,V,o){"use strict";var d=o("8IOi"),g=o("Y3Md"),v=o("RT9V"),u="endsWith",c="".endsWith;d(d.P+d.F*o("OvvV")(u),"String",{endsWith:function(p){var l=v(this,p,u),_=arguments.length>1?arguments[1]:void 0,T=g(l.length),k=_===void 0?T:Math.min(g(_),T),S=String(p);return c?c.call(l,S,k):l.slice(k-S.length,k)===S}})},srFW:function(x,V,o){var d=o("8IOi");d(d.S,"Math",{signbit:function(g){return(g=+g)!=g?g:g==0?1/g==1/0:g>0}})},t2DD:function(x,V,o){var d=o("j8TA");x.exports=function(g,v){var u=[];return d(g,!1,u.push,u,v),u}},t5lg:function(x,V,o){"use strict";var d=o("k+AJ"),g=o("yU77"),v=o("zuiL"),u=o("8wjV"),c=o("BxPU"),p=o("xmgo"),l=o("+TcE"),_=o("kopD"),T=o("m29h"),k=o("Y3Md"),S=o("U9MG"),w=o("27JW").f,C=o("J2HX").f,b=o("C6Ke"),E=o("J70Z"),A="ArrayBuffer",P="DataView",z="Wrong index!",B=d.ArrayBuffer,H=d.DataView,K=d.Math,Q=d.RangeError,ct=d.Infinity,mt=B,It=K.abs,Dt=K.pow,Wt=K.floor,Zt=K.log,Rt=K.LN2,qt="buffer",ae="byteLength",Ut="byteOffset",U=g?"_b":qt,ot=g?"_l":ae,lt=g?"_o":Ut;function gt(te,Se,ve){var ce,Be,on,vn=new Array(ve),Sn=8*ve-Se-1,En=(1<<Sn)-1,sr=En>>1,In=Se===23?Dt(2,-24)-Dt(2,-77):0,ni=0,tr=te<0||te===0&&1/te<0?1:0;for((te=It(te))!=te||te===ct?(Be=te!=te?1:0,ce=En):(ce=Wt(Zt(te)/Rt),te*(on=Dt(2,-ce))<1&&(ce--,on*=2),(te+=ce+sr>=1?In/on:In*Dt(2,1-sr))*on>=2&&(ce++,on/=2),ce+sr>=En?(Be=0,ce=En):ce+sr>=1?(Be=(te*on-1)*Dt(2,Se),ce+=sr):(Be=te*Dt(2,sr-1)*Dt(2,Se),ce=0));Se>=8;vn[ni++]=255&Be,Be/=256,Se-=8);for(ce=ce<<Se|Be,Sn+=Se;Sn>0;vn[ni++]=255&ce,ce/=256,Sn-=8);return vn[--ni]|=128*tr,vn}function Lt(te,Se,ve){var ce,Be=8*ve-Se-1,on=(1<<Be)-1,vn=on>>1,Sn=Be-7,En=ve-1,sr=te[En--],In=127&sr;for(sr>>=7;Sn>0;In=256*In+te[En],En--,Sn-=8);for(ce=In&(1<<-Sn)-1,In>>=-Sn,Sn+=Se;Sn>0;ce=256*ce+te[En],En--,Sn-=8);if(In===0)In=1-vn;else{if(In===on)return ce?NaN:sr?-ct:ct;ce+=Dt(2,Se),In-=vn}return(sr?-1:1)*ce*Dt(2,In-Se)}function vt(te){return te[3]<<24|te[2]<<16|te[1]<<8|te[0]}function ht(te){return[255&te]}function pt(te){return[255&te,te>>8&255]}function Bt(te){return[255&te,te>>8&255,te>>16&255,te>>24&255]}function Ot(te){return gt(te,52,8)}function zt(te){return gt(te,23,4)}function se(te,Se,ve){C(te.prototype,Se,{get:function(){return this[ve]}})}function Oe(te,Se,ve,ce){var Be=S(+ve);if(Be+Se>te[ot])throw Q(z);var on=te[U]._b,vn=Be+te[lt],Sn=on.slice(vn,vn+Se);return ce?Sn:Sn.reverse()}function le(te,Se,ve,ce,Be,on){var vn=S(+ve);if(vn+Se>te[ot])throw Q(z);for(var Sn=te[U]._b,En=vn+te[lt],sr=ce(+Be),In=0;In<Se;In++)Sn[En+In]=sr[on?In:Se-In-1]}if(u.ABV){if(!l(function(){B(1)})||!l(function(){new B(-1)})||l(function(){return new B,new B(1.5),new B(NaN),B.name!=A})){for(var Qt,Ke=(B=function(te){return _(this,B),new mt(S(te))}).prototype=mt.prototype,Ee=w(mt),Je=0;Ee.length>Je;)(Qt=Ee[Je++])in B||c(B,Qt,mt[Qt]);v||(Ke.constructor=B)}var Te=new H(new B(2)),zn=H.prototype.setInt8;Te.setInt8(0,2147483648),Te.setInt8(1,2147483649),!Te.getInt8(0)&&Te.getInt8(1)||p(H.prototype,{setInt8:function(te,Se){zn.call(this,te,Se<<24>>24)},setUint8:function(te,Se){zn.call(this,te,Se<<24>>24)}},!0)}else B=function(te){_(this,B,A);var Se=S(te);this._b=b.call(new Array(Se),0),this[ot]=Se},H=function(te,Se,ve){_(this,H,P),_(te,B,P);var ce=te[ot],Be=T(Se);if(Be<0||Be>ce)throw Q("Wrong offset!");if(Be+(ve=ve===void 0?ce-Be:k(ve))>ce)throw Q("Wrong length!");this[U]=te,this[lt]=Be,this[ot]=ve},g&&(se(B,ae,"_l"),se(H,qt,"_b"),se(H,ae,"_l"),se(H,Ut,"_o")),p(H.prototype,{getInt8:function(te){return Oe(this,1,te)[0]<<24>>24},getUint8:function(te){return Oe(this,1,te)[0]},getInt16:function(te){var Se=Oe(this,2,te,arguments[1]);return(Se[1]<<8|Se[0])<<16>>16},getUint16:function(te){var Se=Oe(this,2,te,arguments[1]);return Se[1]<<8|Se[0]},getInt32:function(te){return vt(Oe(this,4,te,arguments[1]))},getUint32:function(te){return vt(Oe(this,4,te,arguments[1]))>>>0},getFloat32:function(te){return Lt(Oe(this,4,te,arguments[1]),23,4)},getFloat64:function(te){return Lt(Oe(this,8,te,arguments[1]),52,8)},setInt8:function(te,Se){le(this,1,te,ht,Se)},setUint8:function(te,Se){le(this,1,te,ht,Se)},setInt16:function(te,Se){le(this,2,te,pt,Se,arguments[2])},setUint16:function(te,Se){le(this,2,te,pt,Se,arguments[2])},setInt32:function(te,Se){le(this,4,te,Bt,Se,arguments[2])},setUint32:function(te,Se){le(this,4,te,Bt,Se,arguments[2])},setFloat32:function(te,Se){le(this,4,te,zt,Se,arguments[2])},setFloat64:function(te,Se){le(this,8,te,Ot,Se,arguments[2])}});E(B,A),E(H,P),c(H.prototype,u.VIEW,!0),V.ArrayBuffer=B,V.DataView=H},tNXT:function(x,V,o){var d=o("8IOi");d(d.S,"Array",{isArray:o("fyHr")})},uAa7:function(x,V,o){var d=o("8IOi"),g=o("6uvR"),v=o("XW/+"),u=o("jYdD"),c=o("UtW+");d(d.S,"Object",{getOwnPropertyDescriptors:function(p){for(var l,_,T=v(p),k=u.f,S=g(T),w={},C=0;S.length>C;)(_=k(T,l=S[C++]))!==void 0&&c(w,l,_);return w}})},uHQh:function(x,V,o){var d=o("8IOi");d(d.S,"Object",{create:o("ZiEV")})},unDq:function(x,V,o){var d=o("HGrt"),g=o("138g"),v=o("LOhj"),u=d.key,c=d.set;d.exp({metadata:function(p,l){return function(_,T){c(p,l,(T!==void 0?g:v)(_),u(T))}}})},vNAk:function(x,V,o){"use strict";var d=o("+TcE"),g=Date.prototype.getTime,v=Date.prototype.toISOString,u=function(c){return c>9?c:"0"+c};x.exports=d(function(){return v.call(new Date(-50000000000001))!="0385-07-25T07:06:39.999Z"})||!d(function(){v.call(new Date(NaN))})?function(){if(!isFinite(g.call(this)))throw RangeError("Invalid time value");var c=this,p=c.getUTCFullYear(),l=c.getUTCMilliseconds(),_=p<0?"-":p>9999?"+":"";return _+("00000"+Math.abs(p)).slice(_?-6:-4)+"-"+u(c.getUTCMonth()+1)+"-"+u(c.getUTCDate())+"T"+u(c.getUTCHours())+":"+u(c.getUTCMinutes())+":"+u(c.getUTCSeconds())+"."+(l>99?l:"0"+u(l))+"Z"}:v},vejK:function(x,V,o){var d=o("k+AJ"),g=o("65rS").set,v=d.MutationObserver||d.WebKitMutationObserver,u=d.process,c=d.Promise,p=o("HC2Y")(u)=="process";x.exports=function(){var l,_,T,k=function(){var b,E;for(p&&(b=u.domain)&&b.exit();l;){E=l.fn,l=l.next;try{E()}catch(A){throw l?T():_=void 0,A}}_=void 0,b&&b.enter()};if(p)T=function(){u.nextTick(k)};else if(!v||d.navigator&&d.navigator.standalone)if(c&&c.resolve){var S=c.resolve(void 0);T=function(){S.then(k)}}else T=function(){g.call(d,k)};else{var w=!0,C=document.createTextNode("");new v(k).observe(C,{characterData:!0}),T=function(){C.data=w=!w}}return function(b){var E={fn:b,next:void 0};_&&(_.next=E),l||(l=E,T()),_=E}}},wFMk:function(x,V){x.exports={}},wpNZ:function(x,V,o){var d=o("8IOi");d(d.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},x0dS:function(x,V,o){var d=o("LOhj"),g=o("Qu5u"),v=o("26/4"),u=o("Y3Md");x.exports=function(c,p,l,_,T){d(p);var k=g(c),S=v(k),w=u(k.length),C=T?w-1:0,b=T?-1:1;if(l<2)for(;;){if(C in S){_=S[C],C+=b;break}if(C+=b,T?C<0:w<=C)throw TypeError("Reduce of empty array with no initial value")}for(;T?C>=0:w>C;C+=b)C in S&&(_=p(_,S[C],C,k));return _}},x4ZG:function(x,V,o){var d=o("wFMk"),g=o("3iRr")("iterator"),v=Array.prototype;x.exports=function(u){return u!==void 0&&(d.Array===u||v[g]===u)}},x8o9:function(x,V,o){var d=o("HGrt"),g=o("138g"),v=o("7WAm"),u=d.has,c=d.key,p=function(l,_,T){if(u(l,_,T))return!0;var k=v(_);return k!==null&&p(l,k,T)};d.exp({hasMetadata:function(l,_){return p(l,g(_),arguments.length<3?void 0:c(arguments[2]))}})},xO9r:function(x,V,o){var d=o("8IOi"),g=o("65rS");d(d.G+d.B,{setImmediate:g.set,clearImmediate:g.clear})},xRLh:function(x,V,o){var d=o("8IOi"),g=o("7WAm"),v=o("138g");d(d.S,"Reflect",{getPrototypeOf:function(u){return g(v(u))}})},xcDT:function(x,V,o){var d=o("8IOi");d(d.P+d.R,"Map",{toJSON:o("H/b1")("Map")})},xmgo:function(x,V,o){var d=o("d+oe");x.exports=function(g,v,u){for(var c in v)d(g,c,v[c],u);return g}},yLpj:function(x,V){var o;o=function(){return this}();try{o=o||new Function("return this")()}catch(d){typeof window=="object"&&(o=window)}x.exports=o},ySsg:function(x,V,o){var d=o("8IOi"),g=o("JYSn")(!0);d(d.S,"Object",{entries:function(v){return g(v)}})},yU77:function(x,V,o){x.exports=!o("+TcE")(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7})},"z/zB":function(x,V,o){var d=o("kRpC"),g=o("26/4"),v=o("Qu5u"),u=o("Y3Md"),c=o("CkjT");x.exports=function(p,l){var _=p==1,T=p==2,k=p==3,S=p==4,w=p==6,C=p==5||w,b=l||c;return function(E,A,P){for(var z,B,H=v(E),K=g(H),Q=d(A,P,3),ct=u(K.length),mt=0,It=_?b(E,ct):T?b(E,0):void 0;ct>mt;mt++)if((C||mt in K)&&(B=Q(z=K[mt],mt,H),p)){if(_)It[mt]=B;else if(B)switch(p){case 3:return!0;case 5:return z;case 6:return mt;case 2:It.push(z)}else if(S)return!1}return w?-1:k||S?S:It}}},zuiL:function(x,V){x.exports=!1}});
