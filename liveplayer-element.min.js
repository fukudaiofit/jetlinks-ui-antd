(function(C,F){typeof exports=="object"&&typeof module!="undefined"?module.exports=F(require("global/window"),require("global/document")):typeof define=="function"&&define.amd?define(["global/window","global/document"],F):(C=C||self).videojs=F(C.window,C.document)})(this,function(C,F){function o(n,i){nr(n).forEach(function(e){return i(n[e],e)})}function c(n){for(var i=arguments.length,e=new Array(i>1?i-1:0),t=1;t<i;t++)e[t-1]=arguments[t];return Object.assign?Object.assign.apply(Object,[n].concat(e)):(e.forEach(function(r){r&&o(r,function(a,f){n[f]=a})}),n)}function g(n){return!!n&&typeof n=="object"}function v(n){return g(n)&&Qe.call(n)==="[object Object]"&&n.constructor===Object}function u(n,i){if(!n||!i)return"";if(typeof C.getComputedStyle=="function"){var e=C.getComputedStyle(n);return e?e.getPropertyValue(i)||e[i]:""}return""}function l(n){return typeof n=="string"&&/\S/.test(n)}function m(n){if(/\s/.test(n))throw new Error("class has illegal whitespace characters")}function d(){return F===C.document}function S(n){return g(n)&&n.nodeType===1}function w(){try{return C.parent!==C.self}catch(n){return!0}}function j(n){return function(i,e){if(!l(i))return F[n](null);l(e)&&(e=F.querySelector(e));var t=S(e)?e:F;return t[n]&&t[n](i)}}function T(n,i,e,t){n===void 0&&(n="div"),i===void 0&&(i={}),e===void 0&&(e={});var r=F.createElement(n);return Object.getOwnPropertyNames(i).forEach(function(a){var f=i[a];a.indexOf("aria-")!==-1||a==="role"||a==="type"?(re.warn(`Setting attributes in the second argument of createEl()
has been deprecated. Use the third argument instead.
createEl(type, properties, attributes). Attempting to set `+a+" to "+f+"."),r.setAttribute(a,f)):a==="textContent"?b(r,f):r[a]=f}),Object.getOwnPropertyNames(e).forEach(function(a){r.setAttribute(a,e[a])}),t&&me(r,t),r}function b(n,i){return n.textContent===void 0?n.innerText=i:n.textContent=i,n}function x(n,i){i.firstChild?i.insertBefore(n,i.firstChild):i.appendChild(n)}function _(n,i){return m(i),n.classList?n.classList.contains(i):function(e){return new RegExp("(^|\\s)"+e+"($|\\s)")}(i).test(n.className)}function k(n,i){return n&&(n.classList?n.classList.add(i):_(n,i)||(n.className=(n.className+" "+i).trim()),n)}function O(n,i){return n&&(n.classList?n.classList.remove(i):(m(i),n.className=n.className.split(/\s+/).filter(function(e){return e!==i}).join(" ")),n)}function I(n,i,e){var t=_(n,i);return typeof e=="function"&&(e=e(n,i)),typeof e!="boolean"&&(e=!t),e===t||(e?k(n,i):O(n,i)),n}function V(n,i){Object.getOwnPropertyNames(i).forEach(function(e){var t=i[e];t==null||t===!1?n.removeAttribute(e):n.setAttribute(e,t===!0?"":t)})}function H(n){var i={};if(n&&n.attributes&&n.attributes.length>0)for(var e=n.attributes,t=e.length-1;t>=0;t--){var r=e[t].name,a=e[t].value;typeof n[r]!="boolean"&&",autoplay,stretch,fluent,controls,playsinline,loop,muted,default,defaultMuted,".indexOf(","+r+",")===-1||(a=a!==null),i[r]=a}return i}function G(n,i){return n.getAttribute(i)}function K(n,i,e){n.setAttribute(i,e)}function et(n,i){n.removeAttribute(i)}function ct(){F.body.focus(),F.onselectstart=function(){return!1}}function gt(){F.onselectstart=function(){return!0}}function Mt(n){if(n&&n.getBoundingClientRect&&n.parentNode){var i=n.getBoundingClientRect(),e={};return["bottom","height","left","right","top","width"].forEach(function(t){i[t]!==void 0&&(e[t]=i[t])}),e.height||(e.height=parseFloat(u(n,"height"))),e.width||(e.width=parseFloat(u(n,"width"))),e}}function Ut(n){var i;if(n.getBoundingClientRect&&n.parentNode&&(i=n.getBoundingClientRect()),!i)return{left:0,top:0};var e=F.documentElement,t=F.body,r=e.clientLeft||t.clientLeft||0,a=C.pageXOffset||t.scrollLeft,f=i.left+a-r,y=e.clientTop||t.clientTop||0,E=C.pageYOffset||t.scrollTop,D=i.top+E-y;return{left:Math.round(f),top:Math.round(D)}}function ee(n,i){var e={},t=Ut(n),r=n.offsetWidth,a=n.offsetHeight,f=t.top,y=t.left,E=i.pageY,D=i.pageX;return i.changedTouches&&(D=i.changedTouches[0].pageX,E=i.changedTouches[0].pageY),e.y=Math.max(0,Math.min(1,(f-E+a)/a)),e.x=Math.max(0,Math.min(1,(D-y)/r)),e}function Jt(n){return g(n)&&n.nodeType===3}function Lt(n){for(;n.firstChild;)n.removeChild(n.firstChild);return n}function Zt(n){return typeof n=="function"&&(n=n()),(Array.isArray(n)?n:[n]).map(function(i){return typeof i=="function"&&(i=i()),S(i)||Jt(i)?i:typeof i=="string"&&/\S/.test(i)?F.createTextNode(i):void 0}).filter(function(i){return i})}function me(n,i){return Zt(i).forEach(function(e){return n.appendChild(e)}),n}function Gt(n,i){return me(Lt(n),i)}function U(n){return n.button===void 0&&n.buttons===void 0||n.button===0&&n.buttons===void 0||n.type==="mouseup"&&n.button===0&&n.buttons===0||n.button===0&&n.buttons===1}function ut(){return jr++}function ht(n,i){if(qe.has(n)){var e=qe.get(n);e.handlers[i].length===0&&(delete e.handlers[i],n.removeEventListener?n.removeEventListener(i,e.dispatcher,!1):n.detachEvent&&n.detachEvent("on"+i,e.dispatcher)),Object.getOwnPropertyNames(e.handlers).length<=0&&(delete e.handlers,delete e.dispatcher,delete e.disabled),Object.getOwnPropertyNames(e).length===0&&qe.delete(n)}}function bt(n,i,e,t){e.forEach(function(r){n(i,r,t)})}function Dt(n){function i(){return!0}function e(){return!1}if(!n||!n.isPropagationStopped){var t=n||C.event;for(var r in n={},t)r!=="layerX"&&r!=="layerY"&&r!=="keyLocation"&&r!=="webkitMovementX"&&r!=="webkitMovementY"&&(r==="returnValue"&&t.preventDefault||(n[r]=t[r]));if(n.target||(n.target=n.srcElement||F),n.relatedTarget||(n.relatedTarget=n.fromElement===n.target?n.toElement:n.fromElement),n.preventDefault=function(){t.preventDefault&&t.preventDefault(),n.returnValue=!1,t.returnValue=!1,n.defaultPrevented=!0},n.defaultPrevented=!1,n.stopPropagation=function(){t.stopPropagation&&t.stopPropagation(),n.cancelBubble=!0,t.cancelBubble=!0,n.isPropagationStopped=i},n.isPropagationStopped=e,n.stopImmediatePropagation=function(){t.stopImmediatePropagation&&t.stopImmediatePropagation(),n.isImmediatePropagationStopped=i,n.stopPropagation()},n.isImmediatePropagationStopped=e,n.clientX!==null&&n.clientX!==void 0){var a=F.documentElement,f=F.body;n.pageX=n.clientX+(a&&a.scrollLeft||f&&f.scrollLeft||0)-(a&&a.clientLeft||f&&f.clientLeft||0),n.pageY=n.clientY+(a&&a.scrollTop||f&&f.scrollTop||0)-(a&&a.clientTop||f&&f.clientTop||0)}n.which=n.charCode||n.keyCode,n.button!==null&&n.button!==void 0&&(n.button=1&n.button?0:4&n.button?1:2&n.button?2:0)}return n}function mt(n,i,e){if(Array.isArray(i))return bt(mt,n,i,e);qe.has(n)||qe.set(n,{});var t=qe.get(n);if(t.handlers||(t.handlers={}),t.handlers[i]||(t.handlers[i]=[]),e.guid||(e.guid=ut()),t.handlers[i].push(e),t.dispatcher||(t.disabled=!1,t.dispatcher=function(a,f){if(!t.disabled){a=Dt(a);var y=t.handlers[a.type];if(y)for(var E=y.slice(0),D=0,N=E.length;D<N&&!a.isImmediatePropagationStopped();D++)try{E[D].call(n,a,f)}catch(q){re.error(q)}}}),t.handlers[i].length===1)if(n.addEventListener){var r=!1;Ci&&si.indexOf(i)>-1&&(r={passive:!0}),n.addEventListener(i,t.dispatcher,r)}else n.attachEvent&&n.attachEvent("on"+i,t.dispatcher)}function ft(n,i,e){if(qe.has(n)){var t=qe.get(n);if(t.handlers){if(Array.isArray(i))return bt(ft,n,i,e);var r=function(E,D){t.handlers[D]=[],ht(E,D)};if(i!==void 0){var a=t.handlers[i];if(a){if(!e)return void r(n,i);if(e.guid)for(var f=0;f<a.length;f++)a[f].guid===e.guid&&a.splice(f--,1);ht(n,i)}}else for(var y in t.handlers)Object.prototype.hasOwnProperty.call(t.handlers||{},y)&&r(n,y)}}}function pt(n,i,e){var t=qe.has(n)?qe.get(n):{},r=n.parentNode||n.ownerDocument;if(typeof i=="string"?i={type:i,target:n}:i.target||(i.target=n),i=Dt(i),t.dispatcher&&t.dispatcher.call(n,i,e),r&&!i.isPropagationStopped()&&i.bubbles===!0)pt.call(null,r,i,e);else if(!r&&!i.defaultPrevented&&i.target&&i.target[i.type]){qe.has(i.target)||qe.set(i.target,{});var a=qe.get(i.target);i.target[i.type]&&(a.disabled=!0,typeof i.target[i.type]=="function"&&i.target[i.type](),a.disabled=!1)}return!i.defaultPrevented}function Rt(n,i,e){if(Array.isArray(i))return bt(Rt,n,i,e);var t=function r(){ft(n,i,r),e.apply(this,arguments)};t.guid=e.guid=e.guid||ut(),mt(n,i,t)}function Pt(n,i,e){var t=function r(){ft(n,i,r),e.apply(this,arguments)};t.guid=e.guid=e.guid||ut(),mt(n,i,t)}function Ht(n,i){i&&(oi=i),C.setTimeout(jt,n)}function oe(n,i){i===void 0&&(i={});var e=i.eventBusKey;if(e){if(!n[e].nodeName)throw new Error('The eventBusKey "'+e+'" does not refer to an element.');n.eventBusEl_=n[e]}else n.eventBusEl_=T("span",{className:"vjs-event-bus"});return c(n,$o),n.eventedCallbacks&&n.eventedCallbacks.forEach(function(t){t()}),n.on("dispose",function(){n.off(),C.setTimeout(function(){n.eventBusEl_=null},0)}),n}function Oe(n,i){return c(n,Ds),n.state=c({},n.state,i),typeof n.handleStateChanged=="function"&&rn(n)&&n.on("statechanged",n.handleStateChanged),n}function ue(){for(var n={},i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];return e.forEach(function(r){r&&o(r,function(a,f){v(a)?(v(n[f])||(n[f]={}),n[f]=ue(n[f],a)):n[f]=a})}),n}function Yt(n,i){n.prototype=Object.create(i.prototype),n.prototype.constructor=n,n.__proto__=i}function Ke(n,i){return(Ke=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(n,i)}function Ee(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(n){return!1}}function Je(n,i,e){return(Je=Ee()?Reflect.construct:function(t,r,a){var f=[null];f.push.apply(f,r);var y=new(Function.bind.apply(t,f));return a&&Ke(y,a.prototype),y}).apply(null,arguments)}function Te(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function zn(n,i,e,t){return function(r,a,f){if(typeof a!="number"||a<0||a>f)throw new Error("Failed to execute '"+r+"' on 'TimeRanges': The index provided ("+a+") is non-numeric or out of bounds (0-"+f+").")}(n,t,e.length-1),e[t][i]}function Qt(n){return n===void 0||n.length===0?{length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:{length:n.length,start:zn.bind(null,"start",0,n),end:zn.bind(null,"end",1,n)}}function Se(n,i){return Array.isArray(n)?Qt(n):n===void 0||i===void 0?Qt():Qt([[n,i]])}function ve(n,i){var e,t,r=0;if(!i)return 0;n&&n.length||(n=Se(0,0));for(var a=0;a<n.length;a++)e=n.start(a),(t=n.end(a))>i&&(t=i),r+=t-e;return r/i}function le(n){if(n instanceof le)return n;typeof n=="number"?this.code=n:typeof n=="string"?this.message=n:g(n)&&(typeof n.code=="number"&&(this.code=n.code),c(this,n)),this.message||(this.message=le.defaultMessages[this.code]||"")}function Be(n){return n!=null&&typeof n.then=="function"}function on(n){Be(n)&&n.then(null,function(i){})}function vn(n,i){return n(i={exports:{}},i.exports),i.exports}function Sn(n,i,e){var t=n;return ar(i)?(e=i,typeof n=="string"&&(t={uri:n})):t=nd(i,{uri:n}),t.callback=e,t}function En(n,i,e){return sr(i=Sn(n,i,e))}function sr(n){function i(){var St=void 0;if(St=f.response?f.response:f.responseText||function(kt){if(kt.responseType==="document")return kt.responseXML;var te=kt.responseXML&&kt.responseXML.documentElement.nodeName==="parsererror";return kt.responseType!==""||te?null:kt.responseXML}(f),lt)try{St=JSON.parse(St)}catch(kt){}return St}function e(St){return clearTimeout(D),St instanceof Error||(St=new Error(""+(St||"Unknown XMLHttpRequest Error"))),St.statusCode=0,a(St,At)}function t(){if(!E){var St;clearTimeout(D),St=n.useXDR&&f.status===void 0?200:f.status===1223?204:f.status;var kt=At,te=null;return St!==0?(kt={body:i(),statusCode:St,method:q,headers:{},url:N,rawRequest:f},f.getAllResponseHeaders&&(kt.headers=eu(f.getAllResponseHeaders()))):te=new Error("Internal XMLHttpRequest Error"),a(te,kt,kt.body)}}if(n.callback===void 0)throw new Error("callback argument missing");var r=!1,a=function(St,kt,te){r||(r=!0,n.callback(St,kt,te))},f=n.xhr||null;f||(f=n.cors||n.useXDR?new En.XDomainRequest:new En.XMLHttpRequest);var y,E,D,N=f.url=n.uri||n.url,q=f.method=n.method||"GET",Y=n.body||n.data,Q=f.headers=n.headers||{},dt=!!n.sync,lt=!1,At={body:void 0,headers:{},statusCode:0,method:q,url:N,rawRequest:f};if("json"in n&&n.json!==!1&&(lt=!0,Q.accept||Q.Accept||(Q.Accept="application/json"),q!=="GET"&&q!=="HEAD"&&(Q["content-type"]||Q["Content-Type"]||(Q["Content-Type"]="application/json"),Y=JSON.stringify(n.json===!0?Y:n.json))),f.onreadystatechange=function(){f.readyState===4&&setTimeout(t,0)},f.onload=t,f.onerror=e,f.onprogress=function(){},f.onabort=function(){E=!0},f.ontimeout=e,f.open(q,N,!dt,n.username,n.password),dt||(f.withCredentials=!!n.withCredentials),!dt&&n.timeout>0&&(D=setTimeout(function(){if(!E){E=!0,f.abort("timeout");var St=new Error("XMLHttpRequest timeout");St.code="ETIMEDOUT",e(St)}},n.timeout)),f.setRequestHeader)for(y in Q)Q.hasOwnProperty(y)&&f.setRequestHeader(y,Q[y]);else if(n.headers&&!function(St){for(var kt in St)if(St.hasOwnProperty(kt))return!1;return!0}(n.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in n&&(f.responseType=n.responseType),"beforeSend"in n&&typeof n.beforeSend=="function"&&n.beforeSend(f),f.send(Y||null),f}function In(n,i){this.name="ParsingError",this.code=n.code,this.message=i||n.message}function ni(n){function i(t,r,a,f){return 3600*(0|t)+60*(0|r)+(0|a)+(0|f)/1e3}var e=n.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return e?e[3]?i(e[1],e[2],e[3].replace(":",""),e[4]):e[1]>59?i(e[1],e[2],0,e[4]):i(0,e[1],e[2],e[4]):null}function tr(){this.values=Ha(null)}function ri(n,i,e,t){var r=t?n.split(t):[n];for(var a in r)if(typeof r[a]=="string"){var f=r[a].split(e);f.length===2&&i(f[0],f[1])}}function ii(n,i,e){function t(){var f=ni(n);if(f===null)throw new In(In.Errors.BadTimeStamp,"Malformed timestamp: "+a);return n=n.replace(/^[^\sa-zA-Z-]+/,""),f}function r(){n=n.replace(/^\s+/,"")}var a=n;if(r(),i.startTime=t(),r(),n.substr(0,3)!=="-->")throw new In(In.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '-->'): "+a);n=n.substr(3),r(),i.endTime=t(),r(),function(f,y){var E=new tr;ri(f,function(D,N){switch(D){case"region":for(var q=e.length-1;q>=0;q--)if(e[q].id===N){E.set(D,e[q].region);break}break;case"vertical":E.alt(D,N,["rl","lr"]);break;case"line":var Y=N.split(","),Q=Y[0];E.integer(D,Q),E.percent(D,Q)&&E.set("snapToLines",!1),E.alt(D,Q,["auto"]),Y.length===2&&E.alt("lineAlign",Y[1],["start","middle","end"]);break;case"position":Y=N.split(","),E.percent(D,Y[0]),Y.length===2&&E.alt("positionAlign",Y[1],["start","middle","end"]);break;case"size":E.percent(D,N);break;case"align":E.alt(D,N,["start","middle","end","left","right"])}},/:/,/\s/),y.region=E.get("region",null),y.vertical=E.get("vertical",""),y.line=E.get("line","auto"),y.lineAlign=E.get("lineAlign","start"),y.snapToLines=E.get("snapToLines",!0),y.size=E.get("size",100),y.align=E.get("align","middle"),y.position=E.get("position",{start:0,left:0,middle:50,end:100,right:100},y.align),y.positionAlign=E.get("positionAlign",{start:"start",left:"start",middle:"middle",end:"end",right:"end"},y.align)}(n,i)}function Mi(n,i){function e(N){return za[N]}for(var t,r=n.document.createElement("div"),a=r,f=[];(t=function(){if(!i)return null;var N=i.match(/^([^<]*)(<[^>]*>?)?/);return function(q){return i=i.substr(q.length),q}(N[1]?N[1]:N[2])}())!==null;)if(t[0]!=="<")a.appendChild(n.document.createTextNode(function(N){for(;D=N.match(/&(amp|lt|gt|lrm|rlm|nbsp);/);)N=N.replace(D[0],e);return N}(t)));else{if(t[1]==="/"){f.length&&f[f.length-1]===t.substr(2).replace(">","")&&(f.pop(),a=a.parentNode);continue}var y,E=ni(t.substr(1,t.length-2));if(E){y=n.document.createProcessingInstruction("timestamp",E),a.appendChild(y);continue}var D=t.match(/^<([^.\s\/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!D||!(y=function(N,q){var Y=ru[N];if(!Y)return null;var Q=n.document.createElement(Y);Q.localName=Y;var dt=rd[N];return dt&&q&&(Q[dt]=q.trim()),Q}(D[1],D[3]))||!function(N,q){return!fs[q.localName]||fs[q.localName]===N.localName}(a,y))continue;D[2]&&(y.className=D[2].substr(1).replace("."," ")),f.push(D[1]),a.appendChild(y),a=y}return r}function br(n){for(var i=0;i<Gu.length;i++){var e=Gu[i];if(n>=e[0]&&n<=e[1])return!0}return!1}function ya(n){function i(f,y){for(var E=y.childNodes.length-1;E>=0;E--)f.push(y.childNodes[E])}function e(f){if(!f||!f.length)return null;var y=f.pop(),E=y.textContent||y.innerText;if(E){var D=E.match(/^.*(\n|\r)/);return D?(f.length=0,D[0]):E}return y.tagName==="ruby"?e(f):y.childNodes?(i(f,y),e(f)):void 0}var t=[],r="";if(!n||!n.childNodes)return"ltr";for(i(t,n);r=e(t);)for(var a=0;a<r.length;a++)if(br(r.charCodeAt(a)))return"rtl";return"ltr"}function qr(){}function Ar(n,i,e){qr.call(this),this.cue=i,this.cueDiv=Mi(n,i.text);var t={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:i.vertical===""?"horizontal-tb":i.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(t,this.cueDiv),this.div=n.document.createElement("div"),t={direction:ya(this.cueDiv),writingMode:i.vertical===""?"horizontal-tb":i.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:i.align==="middle"?"center":i.align,font:e.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(t),this.div.appendChild(this.cueDiv);var r=0;switch(i.positionAlign){case"start":r=i.position;break;case"middle":r=i.position-i.size/2;break;case"end":r=i.position-i.size}i.vertical===""?this.applyStyles({left:this.formatStyle(r,"%"),width:this.formatStyle(i.size,"%")}):this.applyStyles({top:this.formatStyle(r,"%"),height:this.formatStyle(i.size,"%")}),this.move=function(a){this.applyStyles({top:this.formatStyle(a.top,"px"),bottom:this.formatStyle(a.bottom,"px"),left:this.formatStyle(a.left,"px"),right:this.formatStyle(a.right,"px"),height:this.formatStyle(a.height,"px"),width:this.formatStyle(a.width,"px")})}}function Jn(n){var i,e,t,r;if(n.div){e=n.div.offsetHeight,t=n.div.offsetWidth,r=n.div.offsetTop;var a=(a=n.div.childNodes)&&(a=a[0])&&a.getClientRects&&a.getClientRects();n=n.div.getBoundingClientRect(),i=a?Math.max(a[0]&&a[0].height||0,n.height/a.length):0}this.left=n.left,this.right=n.right,this.top=n.top||r,this.height=n.height||e,this.bottom=n.bottom||r+(n.height||e),this.width=n.width||t,this.lineHeight=i!==void 0?i:n.lineHeight}function ai(n,i,e,t){var r=new Jn(i),a=i.cue,f=function(lt){if(typeof lt.line=="number"&&(lt.snapToLines||lt.line>=0&&lt.line<=100))return lt.line;if(!lt.track||!lt.track.textTrackList||!lt.track.textTrackList.mediaElement)return-1;for(var At=lt.track,St=At.textTrackList,kt=0,te=0;te<St.length&&St[te]!==At;te++)St[te].mode==="showing"&&kt++;return-1*++kt}(a),y=[];if(a.snapToLines){var E;switch(a.vertical){case"":y=["+y","-y"],E="height";break;case"rl":y=["+x","-x"],E="width";break;case"lr":y=["-x","+x"],E="width"}var D=r.lineHeight,N=D*Math.round(f),q=e[E]+D,Y=y[0];Math.abs(N)>q&&(N=N<0?-1:1,N*=Math.ceil(q/D)*D),f<0&&(N+=a.vertical===""?e.height:e.width,y=y.reverse()),r.move(Y,N)}else{var Q=r.lineHeight/e.height*100;switch(a.lineAlign){case"middle":f-=Q/2;break;case"end":f-=Q}switch(a.vertical){case"":i.applyStyles({top:i.formatStyle(f,"%")});break;case"rl":i.applyStyles({left:i.formatStyle(f,"%")});break;case"lr":i.applyStyles({right:i.formatStyle(f,"%")})}y=["+y","-x","+x","-y"],r=new Jn(i)}var dt=function(lt,At){for(var St,kt=new Jn(lt),te=1,ie=0;ie<At.length;ie++){for(;lt.overlapsOppositeAxis(e,At[ie])||lt.within(e)&&lt.overlapsAny(t);)lt.move(At[ie]);if(lt.within(e))return lt;var Ie=lt.intersectPercentage(e);te>Ie&&(St=new Jn(lt),te=Ie),lt=new Jn(kt)}return St||kt}(r,y);i.move(dt.toCSSCompatValues(e))}function hi(){}function Si(n){return typeof n=="string"&&!!wa[n.toLowerCase()]&&n.toLowerCase()}function Ra(n,i,e){this.hasBeenReset=!1;var t="",r=!1,a=n,f=i,y=e,E=null,D="",N=!0,q="auto",Y="start",Q=50,dt="middle",lt=50,At="middle";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return t},set:function(St){t=""+St}},pauseOnExit:{enumerable:!0,get:function(){return r},set:function(St){r=!!St}},startTime:{enumerable:!0,get:function(){return a},set:function(St){if(typeof St!="number")throw new TypeError("Start time must be set to a number.");a=St,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return f},set:function(St){if(typeof St!="number")throw new TypeError("End time must be set to a number.");f=St,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return y},set:function(St){y=""+St,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return E},set:function(St){E=St,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return D},set:function(St){var kt=function(te){return typeof te=="string"&&!!Vl[te.toLowerCase()]&&te.toLowerCase()}(St);if(kt===!1)throw new SyntaxError("An invalid or illegal string was specified.");D=kt,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return N},set:function(St){N=!!St,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return q},set:function(St){if(typeof St!="number"&&St!==Fl)throw new SyntaxError("An invalid number or illegal string was specified.");q=St,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return Y},set:function(St){var kt=Si(St);if(!kt)throw new SyntaxError("An invalid or illegal string was specified.");Y=kt,this.hasBeenReset=!0}},position:{enumerable:!0,get:function(){return Q},set:function(St){if(St<0||St>100)throw new Error("Position must be between 0 and 100.");Q=St,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return dt},set:function(St){var kt=Si(St);if(!kt)throw new SyntaxError("An invalid or illegal string was specified.");dt=kt,this.hasBeenReset=!0}},size:{enumerable:!0,get:function(){return lt},set:function(St){if(St<0||St>100)throw new Error("Size must be between 0 and 100.");lt=St,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return At},set:function(St){var kt=Si(St);if(!kt)throw new SyntaxError("An invalid or illegal string was specified.");At=kt,this.hasBeenReset=!0}}}),this.displayState=void 0}function Tr(n){return typeof n=="number"&&n>=0&&n<=100}function Ui(n,i,e){n.setTimeout(function(){return function t(r,a,f,y,E,D){r===void 0&&(r={}),a===void 0&&(a=[]),E===void 0&&(E=[]),D===void 0&&(D=!1);var N=a,q=N[0],Y=N.slice(1);if(typeof q=="string")t(r,ka[q],f,y,E,D);else if(q){var Q=function(dt,lt){var At=so[dt.id()],St=null;if(At==null)return St=lt(dt),so[dt.id()]=[[lt,St]],St;for(var kt=0;kt<At.length;kt++){var te=At[kt],ie=te[0],Ie=te[1];ie===lt&&(St=Ie)}return St===null&&(St=lt(dt),At.push([lt,St])),St}(y,q);if(!Q.setSource)return E.push(Q),t(r,Y,f,y,E,D);Q.setSource(c({},r),function(dt,lt){if(dt)return t(r,Y,f,y,E,D);E.push(Q),t(lt,r.type===lt.type?Y:ka[lt.type],f,y,E,D)})}else Y.length?t(r,Y,f,y,E,D):D?f(r,E):t(r,ka["*"],f,y,E,!0)}(i,ka[i.type],e,n)},1)}function Sr(n,i,e,t){t===void 0&&(t=null);var r="call"+yr(e),a=n.reduce(jn(r),t),f=a===hs,y=f?null:i[e](a);return function(E,D,N,q){for(var Y=E.length-1;Y>=0;Y--){var Q=E[Y];Q[D]&&Q[D](q,N)}}(n,e,y,f),y}function jn(n){return function(i,e){return i===hs?hs:e[n]?e[n](i):i}}function pi(n){if(!n.type){var i=xo(n.src);i&&(n.type=i)}return n}function Bi(n,i){var e;if(n.length===4)e=n[1]+n[1]+n[2]+n[2]+n[3]+n[3];else{if(n.length!==7)throw new Error("Invalid color code provided, "+n+"; must be formatted as e.g. #f0e or #f604e2.");e=n.slice(1)}return"rgba("+parseInt(e.slice(0,2),16)+","+parseInt(e.slice(2,4),16)+","+parseInt(e.slice(4,6),16)+","+i+")"}function Dr(n,i,e){try{n.style[i]=e}catch(t){return}}function wr(n,i){return i===void 0&&(i=n),gs(n,i)}function Ni(n,i){if(i&&(n=i(n)),n&&n!=="none")return n}function Et(n,i,e){var t=Et.getPlayer(n);if(t)return i&&re.warn('Player "'+n+'" is already initialised. Options will not be applied.'),e&&t.ready(e),t;var r=typeof n=="string"?cn("#"+Bo(n)):n;if(!S(r))throw new TypeError("The element or ID supplied is not valid. (videojs)");r.ownerDocument.defaultView&&r.ownerDocument.body.contains(r)||re.warn("The element supplied is not included in the DOM"),i=i||{},Et.hooks("beforesetup").forEach(function(f){var y=f(r,ue(i));g(y)&&!Array.isArray(y)?i=ue(i,y):re.error("please return an object in beforesetup hooks")});var a=ge.getComponent("Player");return t=new a(r,i,e),Et.hooks("setup").forEach(function(f){return f(t)}),t}function Fi(){return(Fi=Object.assign||function(n){for(var i=1;i<arguments.length;i++){var e=arguments[i];for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t])}return n}).apply(this,arguments)}function na(n,i){n.prototype=Object.create(i.prototype),n.prototype.constructor=n,n.__proto__=i}function mi(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function wi(n){for(var i=C.atob(n),e=new Uint8Array(i.length),t=0;t<i.length;t++)e[t]=i.charCodeAt(t);return e}function Vi(n,i){return function(e){var t=this;if(!i)return new Qc(n);if(Qc&&!e){var r=ki(i.toString().replace(/^function.+?{/,"").slice(0,-1));return this[Af]=new Qc(r),function(f,y){if(f&&y){var E=f.terminate;f.objURL=y,f.terminate=function(){f.objURL&&Zc.revokeObjectURL(f.objURL),E.call(f)}}}(this[Af],r),this[Af]}var a={postMessage:function(f){t.onmessage&&setTimeout(function(){t.onmessage({data:f,target:a})})}};i.call(a),this.postMessage=function(f){setTimeout(function(){a.onmessage({data:f,target:t})})},this.isThisThread=!0}}function ki(n){try{return Zc.createObjectURL(new Blob([n],{type:Vp}))}catch(e){var i=new Hp;return i.append(n),Zc.createObjectURL(i.getBlob(type))}}function vi(){}C=C&&C.hasOwnProperty("default")?C.default:C,F=F&&F.hasOwnProperty("default")?F.default:F;var Hi="7.6.3",Wn=[],Nr=function(n,i){return function(e,t,r){var a=i.levels[t],f=new RegExp("^("+a+")$");if(e!=="log"&&r.unshift(e.toUpperCase()+":"),r.unshift(n+":"),Wn&&Wn.push([].concat(r)),C.console){var y=C.console[e];y||e!=="debug"||(y=C.console.info||C.console.log),y&&a&&f.test(e)&&y[Array.isArray(r)?"apply":"call"](C.console,r)}}},re=function n(i){var e,t="info",r=function(){for(var a=arguments.length,f=new Array(a),y=0;y<a;y++)f[y]=arguments[y];e("log",t,f)};return e=Nr(i,r),r.createLogger=function(a){return n(i+": "+a)},r.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:t},r.level=function(a){if(typeof a=="string"){if(!r.levels.hasOwnProperty(a))throw new Error('"'+a+'" in not a valid log level');t=a}return t},(r.history=function(){return Wn?[].concat(Wn):[]}).filter=function(a){return(Wn||[]).filter(function(f){return new RegExp(".*"+a+".*").test(f[0])})},r.history.clear=function(){Wn&&(Wn.length=0)},r.history.disable=function(){Wn!==null&&(Wn.length=0,Wn=null)},r.history.enable=function(){Wn===null&&(Wn=[])},r.error=function(){for(var a=arguments.length,f=new Array(a),y=0;y<a;y++)f[y]=arguments[y];return e("error",t,f)},r.warn=function(){for(var a=arguments.length,f=new Array(a),y=0;y<a;y++)f[y]=arguments[y];return e("warn",t,f)},r.debug=function(){for(var a=arguments.length,f=new Array(a),y=0;y<a;y++)f[y]=arguments[y];return e("debug",t,f)},r}("VIDEOJS"),Le=re.createLogger,Qe=Object.prototype.toString,nr=function(n){return g(n)?Object.keys(n):[]},cn=j("querySelector"),$r=j("querySelectorAll"),Ei=Object.freeze({isReal:d,isEl:S,isInFrame:w,createEl:T,textContent:b,prependTo:x,hasClass:_,addClass:k,removeClass:O,toggleClass:I,setAttributes:V,getAttributes:H,getAttribute:G,setAttribute:K,removeAttribute:et,blockTextSelection:ct,unblockTextSelection:gt,getBoundingClientRect:Mt,findPosition:Ut,getPointerPosition:ee,isTextNode:Jt,emptyEl:Lt,normalizeContent:Zt,appendContent:me,insertContent:Gt,isSingleLeftClick:U,$:cn,$$:$r}),qe=new WeakMap,jr=1,Ci=!1;(function(){try{var n=Object.defineProperty({},"passive",{get:function(){Ci=!0}});C.addEventListener("test",null,n),C.removeEventListener("test",null,n)}catch(i){}})();var oi,si=["touchstart","touchmove"],vr=Object.freeze({fixEvent:Dt,on:mt,off:ft,trigger:pt,one:Rt,any:Pt}),Ai=!1,jt=function(){if(d()&&oi.options.autoSetup!==!1){var n=Array.prototype.slice.call(F.getElementsByTagName("video")),i=Array.prototype.slice.call(F.getElementsByTagName("audio")),e=Array.prototype.slice.call(F.getElementsByTagName("video-js")),t=n.concat(i,e);if(t&&t.length>0)for(var r=0,a=t.length;r<a;r++){var f=t[r];if(!f||!f.getAttribute){Ht(1);break}f.player===void 0&&f.getAttribute("data-setup")!==null&&oi(f)}else Ai||Ht(1)}};d()&&F.readyState==="complete"?Ai=!0:Rt(C,"load",function(){Ai=!0});var Wt,$t=function(n){var i=F.createElement("style");return i.className=n,i},qt=function(n,i){n.styleSheet?n.styleSheet.cssText=i:n.textContent=i},fe=30,he=function(n,i,e){i.guid||(i.guid=ut());var t=i.bind(n);return t.guid=e?e+"_"+i.guid:i.guid,t},Re=function(n,i){var e=C.performance.now();return function(){var t=C.performance.now();t-e>=i&&(n.apply(void 0,arguments),e=t)}},Ne=function(){};Ne.prototype.allowedEvents_={},Ne.prototype.on=function(n,i){var e=this.addEventListener;this.addEventListener=function(){},mt(this,n,i),this.addEventListener=e},Ne.prototype.addEventListener=Ne.prototype.on,Ne.prototype.off=function(n,i){ft(this,n,i)},Ne.prototype.removeEventListener=Ne.prototype.off,Ne.prototype.one=function(n,i){var e=this.addEventListener;this.addEventListener=function(){},Rt(this,n,i),this.addEventListener=e},Ne.prototype.any=function(n,i){var e=this.addEventListener;this.addEventListener=function(){},Pt(this,n,i),this.addEventListener=e},Ne.prototype.trigger=function(n){var i=n.type||n;typeof n=="string"&&(n={type:i}),n=Dt(n),this.allowedEvents_[i]&&this["on"+i]&&this["on"+i](n),pt(this,n)},Ne.prototype.dispatchEvent=Ne.prototype.trigger,Ne.prototype.queueTrigger=function(n){var i=this;Wt||(Wt=new Map);var e=n.type||n,t=Wt.get(this);t||(t=new Map,Wt.set(this,t));var r=t.get(e);t.delete(e),C.clearTimeout(r);var a=C.setTimeout(function(){t.size===0&&(t=null,Wt.delete(i)),i.trigger(n)},0);t.set(e,a)};var rn=function(n){return n instanceof Ne||!!n.eventBusEl_&&["on","one","off","trigger"].every(function(i){return typeof n[i]=="function"})},Xe=function(n){return typeof n=="string"&&/\S/.test(n)||Array.isArray(n)&&!!n.length},ir=function(n){if(!n.nodeName&&!rn(n))throw new Error("Invalid target; must be a DOM node or evented object.")},gr=function(n){if(!Xe(n))throw new Error("Invalid event type; must be a non-empty string or array.")},ur=function(n){if(typeof n!="function")throw new Error("Invalid listener; must be a function.")},kr=function(n,i){var e,t,r,a=i.length<3||i[0]===n||i[0]===n.eventBusEl_;return a?(e=n.eventBusEl_,i.length>=3&&i.shift(),t=i[0],r=i[1]):(e=i[0],t=i[1],r=i[2]),ir(e),gr(t),ur(r),{isTargetingSelf:a,target:e,type:t,listener:r=he(n,r)}},hr=function(n,i,e,t){ir(n),n.nodeName?vr[i](n,e,t):n[i](e,t)},$o={on:function(){for(var n=this,i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];var r=kr(this,e),a=r.isTargetingSelf,f=r.target,y=r.type,E=r.listener;if(hr(f,"on",y,E),!a){var D=function(){return n.off(f,y,E)};D.guid=E.guid;var N=function(){return n.off("dispose",D)};N.guid=E.guid,hr(this,"on","dispose",D),hr(f,"on","dispose",N)}},one:function(){for(var n=this,i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];var r=kr(this,e),a=r.isTargetingSelf,f=r.target,y=r.type,E=r.listener;if(a)hr(f,"one",y,E);else{var D=function N(){n.off(f,y,N);for(var q=arguments.length,Y=new Array(q),Q=0;Q<q;Q++)Y[Q]=arguments[Q];E.apply(null,Y)};D.guid=E.guid,hr(f,"one",y,D)}},any:function(){for(var n=this,i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];var r=kr(this,e),a=r.isTargetingSelf,f=r.target,y=r.type,E=r.listener;if(a)hr(f,"any",y,E);else{var D=function N(){n.off(f,y,N);for(var q=arguments.length,Y=new Array(q),Q=0;Q<q;Q++)Y[Q]=arguments[Q];E.apply(null,Y)};D.guid=E.guid,hr(f,"any",y,D)}},off:function(n,i,e){if(!n||Xe(n))ft(this.eventBusEl_,n,i);else{var t=n,r=i;ir(t),gr(r),ur(e),e=he(this,e),this.off("dispose",e),t.nodeName?(ft(t,r,e),ft(t,"dispose",e)):rn(t)&&(t.off(r,e),t.off("dispose",e))}},trigger:function(n,i){return pt(this.eventBusEl_,n,i)}},Ds={state:{},setState:function(n){var i,e=this;return typeof n=="function"&&(n=n()),o(n,function(t,r){e.state[r]!==t&&((i=i||{})[r]={from:e.state[r],to:t}),e.state[r]=t}),i&&rn(this)&&this.trigger({changes:i,type:"statechanged"}),i}},Ms=function(n){return typeof n!="string"?n:n.replace(/./,function(i){return i.toLowerCase()})},yr=function(n){return typeof n!="string"?n:n.replace(/./,function(i){return i.toUpperCase()})},ge=function(){function n(e,t,r){if(!e&&this.play?this.player_=e=this:this.player_=e,this.parentComponent_=null,this.options_=ue({},this.options_),t=this.options_=ue(this.options_,t),this.id_=t.id||t.el&&t.el.id,!this.id_){var a=e&&e.id&&e.id()||"no_player";this.id_=a+"_component_"+ut()}this.name_=t.name||null,t.el?this.el_=t.el:t.createEl!==!1&&(this.el_=this.createEl()),t.evented!==!1&&oe(this,{eventBusKey:this.el_?"el_":null}),Oe(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.setTimeoutIds_=new Set,this.setIntervalIds_=new Set,this.rafIds_=new Set,this.clearingTimersOnDispose_=!1,t.initChildren!==!1&&this.initChildren(),this.ready(r),t.reportTouchActivity!==!1&&this.enableTouchActivity()}var i=n.prototype;return i.dispose=function(){if(this.trigger({type:"dispose",bubbles:!1}),this.children_)for(var e=this.children_.length-1;e>=0;e--)this.children_[e].dispose&&this.children_[e].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),qe.has(this.el_)&&qe.delete(this.el_),this.el_=null),this.player_=null},i.player=function(){return this.player_},i.options=function(e){return e?(this.options_=ue(this.options_,e),this.options_):this.options_},i.el=function(){return this.el_},i.createEl=function(e,t,r){return T(e,t,r)},i.localize=function(e,t,r){r===void 0&&(r=e);var a=this.player_.language&&this.player_.language(),f=this.player_.languages&&this.player_.languages(),y=f&&f[a],E=a&&a.split("-")[0],D=f&&f[E],N=r;return y&&y[e]?N=y[e]:D&&D[e]&&(N=D[e]),t&&(N=N.replace(/\{(\d+)\}/g,function(q,Y){var Q=t[Y-1],dt=Q;return Q===void 0&&(dt=q),dt})),N},i.contentEl=function(){return this.contentEl_||this.el_},i.id=function(){return this.id_},i.name=function(){return this.name_},i.children=function(){return this.children_},i.getChildById=function(e){return this.childIndex_[e]},i.getChild=function(e){if(e)return this.childNameIndex_[e]},i.addChild=function(e,t,r){var a,f;if(t===void 0&&(t={}),r===void 0&&(r=this.children_.length),typeof e=="string"){f=yr(e);var y=t.componentClass||f;t.name=f;var E=n.getComponent(y);if(!E)throw new Error("Component "+y+" does not exist");if(typeof E!="function")return null;a=new E(this.player_||this,t)}else a=e;if(a.parentComponent_&&a.parentComponent_.removeChild(a),this.children_.splice(r,0,a),a.parentComponent_=this,typeof a.id=="function"&&(this.childIndex_[a.id()]=a),(f=f||a.name&&yr(a.name()))&&(this.childNameIndex_[f]=a,this.childNameIndex_[Ms(f)]=a),typeof a.el=="function"&&a.el()){var D=this.contentEl().children[r]||null;this.contentEl().insertBefore(a.el(),D)}return a},i.removeChild=function(e){if(typeof e=="string"&&(e=this.getChild(e)),e&&this.children_){for(var t=!1,r=this.children_.length-1;r>=0;r--)if(this.children_[r]===e){t=!0,this.children_.splice(r,1);break}if(t){e.parentComponent_=null,this.childIndex_[e.id()]=null,this.childNameIndex_[yr(e.name())]=null,this.childNameIndex_[Ms(e.name())]=null;var a=e.el();a&&a.parentNode===this.contentEl()&&this.contentEl().removeChild(e.el())}}},i.initChildren=function(){var e=this,t=this.options_.children;if(t){var r,a=this.options_,f=n.getComponent("Tech");(r=Array.isArray(t)?t:Object.keys(t)).concat(Object.keys(this.options_).filter(function(y){return!r.some(function(E){return typeof E=="string"?y===E:y===E.name})})).map(function(y){var E,D;return typeof y=="string"?D=t[E=y]||e.options_[E]||{}:(E=y.name,D=y),{name:E,opts:D}}).filter(function(y){var E=n.getComponent(y.opts.componentClass||yr(y.name));return E&&!f.isTech(E)}).forEach(function(y){var E=y.name,D=y.opts;if(a[E]!==void 0&&(D=a[E]),D!==!1){D===!0&&(D={}),D.playerOptions=e.options_.playerOptions;var N=e.addChild(E,D);N&&(e[E]=N)}})}},i.buildCSSClass=function(){return""},i.ready=function(e,t){if(t===void 0&&(t=!1),e)return this.isReady_?void(t?e.call(this):this.setTimeout(e,1)):(this.readyQueue_=this.readyQueue_||[],void this.readyQueue_.push(e))},i.triggerReady=function(){this.isReady_=!0,this.setTimeout(function(){var e=this.readyQueue_;this.readyQueue_=[],e&&e.length>0&&e.forEach(function(t){t.call(this)},this),this.trigger("ready")},1)},i.$=function(e,t){return cn(e,t||this.contentEl())},i.$$=function(e,t){return $r(e,t||this.contentEl())},i.hasClass=function(e){return _(this.el_,e)},i.addClass=function(e){k(this.el_,e)},i.removeClass=function(e){O(this.el_,e)},i.toggleClass=function(e,t){I(this.el_,e,t)},i.show=function(){this.removeClass("vjs-hidden")},i.hide=function(){this.addClass("vjs-hidden")},i.lockShowing=function(){this.addClass("vjs-lock-showing")},i.unlockShowing=function(){this.removeClass("vjs-lock-showing")},i.getAttribute=function(e){return G(this.el_,e)},i.setAttribute=function(e,t){K(this.el_,e,t)},i.removeAttribute=function(e){et(this.el_,e)},i.width=function(e,t){return this.dimension("width",e,t)},i.height=function(e,t){return this.dimension("height",e,t)},i.dimensions=function(e,t){this.width(e,!0),this.height(t)},i.dimension=function(e,t,r){if(t!==void 0)return t!==null&&t==t||(t=0),(""+t).indexOf("%")!==-1||(""+t).indexOf("px")!==-1?this.el_.style[e]=t:this.el_.style[e]=t==="auto"?"":t+"px",void(r||this.trigger("componentresize"));if(!this.el_)return 0;var a=this.el_.style[e],f=a.indexOf("px");return parseInt(f!==-1?a.slice(0,f):this.el_["offset"+yr(e)],10)},i.currentDimension=function(e){var t=0;if(e!=="width"&&e!=="height")throw new Error("currentDimension only accepts width or height value");if(t=u(this.el_,e),(t=parseFloat(t))===0||isNaN(t)){var r="offset"+yr(e);t=this.el_[r]}return t},i.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},i.currentWidth=function(){return this.currentDimension("width")},i.currentHeight=function(){return this.currentDimension("height")},i.focus=function(){this.el_.focus()},i.blur=function(){this.el_.blur()},i.handleKeyDown=function(e){this.player_&&(e.stopPropagation(),this.player_.handleKeyDown(e))},i.handleKeyPress=function(e){this.handleKeyDown(e)},i.emitTapEvents=function(){var e,t=0,r=null;this.on("touchstart",function(f){f.touches.length===1&&(r={pageX:f.touches[0].pageX,pageY:f.touches[0].pageY},t=C.performance.now(),e=!0)}),this.on("touchmove",function(f){if(f.touches.length>1)e=!1;else if(r){var y=f.touches[0].pageX-r.pageX,E=f.touches[0].pageY-r.pageY;Math.sqrt(y*y+E*E)>10&&(e=!1)}});var a=function(){e=!1};this.on("touchleave",a),this.on("touchcancel",a),this.on("touchend",function(f){r=null,e===!0&&C.performance.now()-t<200&&(f.preventDefault(),this.trigger("tap"))})},i.enableTouchActivity=function(){if(this.player()&&this.player().reportUserActivity){var e,t=he(this.player(),this.player().reportUserActivity);this.on("touchstart",function(){t(),this.clearInterval(e),e=this.setInterval(t,250)});var r=function(a){t(),this.clearInterval(e)};this.on("touchmove",t),this.on("touchend",r),this.on("touchcancel",r)}},i.setTimeout=function(e,t){var r,a=this;return e=he(this,e),this.clearTimersOnDispose_(),r=C.setTimeout(function(){a.setTimeoutIds_.has(r)&&a.setTimeoutIds_.delete(r),e()},t),this.setTimeoutIds_.add(r),r},i.clearTimeout=function(e){return this.setTimeoutIds_.has(e)&&(this.setTimeoutIds_.delete(e),C.clearTimeout(e)),e},i.setInterval=function(e,t){e=he(this,e),this.clearTimersOnDispose_();var r=C.setInterval(e,t);return this.setIntervalIds_.add(r),r},i.clearInterval=function(e){return this.setIntervalIds_.has(e)&&(this.setIntervalIds_.delete(e),C.clearInterval(e)),e},i.requestAnimationFrame=function(e){var t,r=this;return this.supportsRaf_?(this.clearTimersOnDispose_(),e=he(this,e),t=C.requestAnimationFrame(function(){r.rafIds_.has(t)&&r.rafIds_.delete(t),e()}),this.rafIds_.add(t),t):this.setTimeout(e,1e3/60)},i.cancelAnimationFrame=function(e){return this.supportsRaf_?(this.rafIds_.has(e)&&(this.rafIds_.delete(e),C.cancelAnimationFrame(e)),e):this.clearTimeout(e)},i.clearTimersOnDispose_=function(){var e=this;this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",function(){[["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach(function(t){var r=t[0],a=t[1];e[r].forEach(e[a],e)}),e.clearingTimersOnDispose_=!1}))},n.registerComponent=function(e,t){if(typeof e!="string"||!e)throw new Error('Illegal component name, "'+e+'"; must be a non-empty string.');var r=n.getComponent("Tech"),a=r&&r.isTech(t),f=n===t||n.prototype.isPrototypeOf(t.prototype);if(a||!f)throw new Error('Illegal component, "'+e+'"; '+(a?"techs must be registered using Tech.registerTech()":"must be a Component subclass")+".");e=yr(e),n.components_||(n.components_={});var y=n.getComponent("Player");if(e==="Player"&&y&&y.players){var E=y.players,D=Object.keys(E);if(E&&D.length>0&&D.map(function(N){return E[N]}).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return n.components_[e]=t,n.components_[Ms(e)]=t,t},n.getComponent=function(e){if(e&&n.components_)return n.components_[e]},n}();ge.prototype.supportsRaf_=typeof C.requestAnimationFrame=="function"&&typeof C.cancelAnimationFrame=="function",ge.registerComponent("Component",ge);for(var Ko,Zn=C.navigator&&C.navigator.userAgent||"",xl=/AppleWebKit\/([\d.]+)/i.exec(Zn),zi=xl?parseFloat(xl.pop()):null,Lu=/iPad/i.test(Zn),Pu=/iPhone/i.test(Zn)&&!Lu,Ia=/iPod/i.test(Zn),ui=Pu||Lu||Ia,Us=function(){var n=Zn.match(/OS (\d+)_/i);return n&&n[1]?n[1]:null}(),Kn=/Android/i.test(Zn),ra=function(){var n=Zn.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!n)return null;var i=n[1]&&parseFloat(n[1]),e=n[2]&&parseFloat(n[2]);return i&&e?parseFloat(n[1]+"."+n[2]):i||null}(),Xo=Kn&&ra<5&&zi<537,Ol=/Firefox/i.test(Zn),Yo=/Edge/i.test(Zn),Da=!Yo&&(/Chrome/i.test(Zn)||/CriOS/i.test(Zn)),Jo=function(){var n=Zn.match(/(Chrome|CriOS)\/(\d+)/);return n&&n[2]?parseFloat(n[2]):null}(),_a=function(){var n=/MSIE\s(\d+)\.\d/.exec(Zn),i=n&&parseFloat(n[1]);return!i&&/Trident\/7.0/i.test(Zn)&&/rv:11.0/.test(Zn)&&(i=11),i}(),Ma=/Safari/i.test(Zn)&&!Da&&!Kn&&!Yo,Bs=(Ma||ui)&&!Da,Zo=/Windows/i.test(Zn),So=d()&&("ontouchstart"in C||C.navigator.maxTouchPoints||C.DocumentTouch&&C.document instanceof C.DocumentTouch),Ll=Object.freeze({IS_IPAD:Lu,IS_IPHONE:Pu,IS_IPOD:Ia,IS_IOS:ui,IOS_VERSION:Us,IS_ANDROID:Kn,ANDROID_VERSION:ra,IS_NATIVE_ANDROID:Xo,IS_FIREFOX:Ol,IS_EDGE:Yo,IS_CHROME:Da,CHROME_VERSION:Jo,IE_VERSION:_a,IS_SAFARI:Ma,IS_ANY_SAFARI:Bs,IS_WINDOWS:Zo,TOUCH_ENABLED:So}),Ns={prefixed:!0},Fs=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"]],Vs=Fs[0],Gi=0;Gi<Fs.length;Gi++)if(Fs[Gi][1]in F){Ko=Fs[Gi];break}if(Ko){for(var Qo=0;Qo<Ko.length;Qo++)Ns[Vs[Qo]]=Ko[Qo];Ns.prefixed=Ko[0]!==Vs[0]}le.prototype.code=0,le.prototype.message="",le.prototype.status=null,le.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],le.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var Pr=0;Pr<le.errorTypes.length;Pr++)le[le.errorTypes[Pr]]=Pr,le.prototype[le.errorTypes[Pr]]=Pr;var Hs=function(n,i){var e,t=null;try{e=JSON.parse(n,i)}catch(r){t=r}return[t,e]},Kr=function(n){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(function(i,e,t){return n[e]&&(i[e]=n[e]),i},{cues:n.cues&&Array.prototype.map.call(n.cues,function(i){return{startTime:i.startTime,endTime:i.endTime,text:i.text,id:i.id}})})},ba=function(n){var i=n.$$("track"),e=Array.prototype.map.call(i,function(t){return t.track});return Array.prototype.map.call(i,function(t){var r=Kr(t.track);return t.src&&(r.src=t.src),r}).concat(Array.prototype.filter.call(n.textTracks(),function(t){return e.indexOf(t)===-1}).map(Kr))},Ru=function(n,i){return n.forEach(function(e){var t=i.addRemoteTextTrack(e).track;!e.src&&e.cues&&e.cues.forEach(function(r){return t.addCue(r)})}),i.textTracks()},sn=vn(function(n,i){function e(E){if(E&&typeof E=="object"){var D=E.which||E.keyCode||E.charCode;D&&(E=D)}if(typeof E=="number")return f[E];var N,q=String(E);return(N=t[q.toLowerCase()])?N:(N=r[q.toLowerCase()])||(q.length===1?q.charCodeAt(0):void 0)}e.isEventKey=function(E,D){if(E&&typeof E=="object"){var N=E.which||E.keyCode||E.charCode;if(N==null)return!1;if(typeof D=="string"){var q;if((q=t[D.toLowerCase()])||(q=r[D.toLowerCase()]))return q===N}else if(typeof D=="number")return D===N;return!1}};var t=(i=n.exports=e).code=i.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},r=i.aliases={windows:91,"\u21E7":16,"\u2325":18,"\u2303":17,"\u2318":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};for(a=97;a<123;a++)t[String.fromCharCode(a)]=a-32;for(var a=48;a<58;a++)t[a-48]=a;for(a=1;a<13;a++)t["f"+a]=a+111;for(a=0;a<10;a++)t["numpad "+a]=a+96;var f=i.names=i.title={};for(a in t)f[t[a]]=a;for(var y in r)t[y]=r[y]}),zs=(sn.code,sn.codes,sn.aliases,sn.names,sn.title,"vjs-modal-dialog"),Za=function(n){function i(t,r){var a;return(a=n.call(this,t,r)||this).opened_=a.hasBeenOpened_=a.hasBeenFilled_=!1,a.closeable(!a.options_.uncloseable),a.content(a.options_.content),a.contentEl_=T("div",{className:zs+"-content"},{role:"document"}),a.descEl_=T("p",{className:zs+"-description vjs-control-text",id:a.el().getAttribute("aria-describedby")}),b(a.descEl_,a.description()),a.el_.appendChild(a.descEl_),a.el_.appendChild(a.contentEl_),a}Yt(i,n);var e=i.prototype;return e.createEl=function(){return n.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},e.dispose=function(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,n.prototype.dispose.call(this)},e.buildCSSClass=function(){return zs+" vjs-hidden "+n.prototype.buildCSSClass.call(this)},e.label=function(){return this.localize(this.options_.label||"Modal Window")},e.description=function(){var t=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(t+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),t},e.open=function(){if(!this.opened_){var t=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!t.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&t.pause(),this.on("keydown",this.handleKeyDown),this.hadControls_=t.controls(),t.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}},e.opened=function(t){return typeof t=="boolean"&&this[t?"open":"close"](),this.opened_},e.close=function(){if(this.opened_){var t=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&t.play(),this.off("keydown",this.handleKeyDown),this.hadControls_&&t.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}},e.closeable=function(t){if(typeof t=="boolean"){var r=this.closeable_=!!t,a=this.getChild("closeButton");if(r&&!a){var f=this.contentEl_;this.contentEl_=this.el_,a=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=f,this.on(a,"close",this.close)}!r&&a&&(this.off(a,"close",this.close),this.removeChild(a),a.dispose())}return this.closeable_},e.fill=function(){this.fillWith(this.content())},e.fillWith=function(t){var r=this.contentEl(),a=r.parentNode,f=r.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,a.removeChild(r),this.empty(),Gt(r,t),this.trigger("modalfill"),f?a.insertBefore(r,f):a.appendChild(r);var y=this.getChild("closeButton");y&&a.appendChild(y.el_)},e.empty=function(){this.trigger("beforemodalempty"),Lt(this.contentEl()),this.trigger("modalempty")},e.content=function(t){return t!==void 0&&(this.content_=t),this.content_},e.conditionalFocus_=function(){var t=F.activeElement,r=this.player_.el_;this.previouslyActiveEl_=null,(r.contains(t)||r===t)&&(this.previouslyActiveEl_=t,this.focus())},e.conditionalBlur_=function(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)},e.handleKeyDown=function(t){if(t.stopPropagation(),sn.isEventKey(t,"Escape")&&this.closeable())return t.preventDefault(),void this.close();if(sn.isEventKey(t,"Tab")){for(var r,a=this.focusableEls_(),f=this.el_.querySelector(":focus"),y=0;y<a.length;y++)if(f===a[y]){r=y;break}F.activeElement===this.el_&&(r=0),t.shiftKey&&r===0?(a[a.length-1].focus(),t.preventDefault()):t.shiftKey||r!==a.length-1||(a[0].focus(),t.preventDefault())}},e.focusableEls_=function(){var t=this.el_.querySelectorAll("*");return Array.prototype.filter.call(t,function(r){return(r instanceof C.HTMLAnchorElement||r instanceof C.HTMLAreaElement)&&r.hasAttribute("href")||(r instanceof C.HTMLInputElement||r instanceof C.HTMLSelectElement||r instanceof C.HTMLTextAreaElement||r instanceof C.HTMLButtonElement)&&!r.hasAttribute("disabled")||r instanceof C.HTMLIFrameElement||r instanceof C.HTMLObjectElement||r instanceof C.HTMLEmbedElement||r.hasAttribute("tabindex")&&r.getAttribute("tabindex")!==-1||r.hasAttribute("contenteditable")})},i}(ge);Za.prototype.options_={pauseOnOpen:!0,temporary:!0},ge.registerComponent("ModalDialog",Za);var ia=function(n){function i(t){var r;t===void 0&&(t=[]),(r=n.call(this)||this).tracks_=[],Object.defineProperty(Te(r),"length",{get:function(){return this.tracks_.length}});for(var a=0;a<t.length;a++)r.addTrack(t[a]);return r}Yt(i,n);var e=i.prototype;return e.addTrack=function(t){var r=this.tracks_.length;""+r in this||Object.defineProperty(this,r,{get:function(){return this.tracks_[r]}}),this.tracks_.indexOf(t)===-1&&(this.tracks_.push(t),this.trigger({track:t,type:"addtrack",target:this}))},e.removeTrack=function(t){for(var r,a=0,f=this.length;a<f;a++)if(this[a]===t){(r=this[a]).off&&r.off(),this.tracks_.splice(a,1);break}r&&this.trigger({track:r,type:"removetrack",target:this})},e.getTrackById=function(t){for(var r=null,a=0,f=this.length;a<f;a++){var y=this[a];if(y.id===t){r=y;break}}return r},i}(Ne);for(var wo in ia.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack"},ia.prototype.allowedEvents_)ia.prototype["on"+wo]=null;var ts,es=function(n,i){for(var e=0;e<n.length;e++)Object.keys(n[e]).length&&i.id!==n[e].id&&(n[e].enabled=!1)},Qa=function(n){function i(t){var r;t===void 0&&(t=[]);for(var a=t.length-1;a>=0;a--)if(t[a].enabled){es(t,t[a]);break}return(r=n.call(this,t)||this).changing_=!1,r}Yt(i,n);var e=i.prototype;return e.addTrack=function(t){var r=this;t.enabled&&es(this,t),n.prototype.addTrack.call(this,t),t.addEventListener&&(t.enabledChange_=function(){r.changing_||(r.changing_=!0,es(r,t),r.changing_=!1,r.trigger("change"))},t.addEventListener("enabledchange",t.enabledChange_))},e.removeTrack=function(t){n.prototype.removeTrack.call(this,t),t.removeEventListener&&t.enabledChange_&&(t.removeEventListener("enabledchange",t.enabledChange_),t.enabledChange_=null)},i}(ia),ns=function(n,i){for(var e=0;e<n.length;e++)Object.keys(n[e]).length&&i.id!==n[e].id&&(n[e].selected=!1)},aa=function(n){function i(t){var r;t===void 0&&(t=[]);for(var a=t.length-1;a>=0;a--)if(t[a].selected){ns(t,t[a]);break}return(r=n.call(this,t)||this).changing_=!1,Object.defineProperty(Te(r),"selectedIndex",{get:function(){for(var f=0;f<this.length;f++)if(this[f].selected)return f;return-1},set:function(){}}),r}Yt(i,n);var e=i.prototype;return e.addTrack=function(t){var r=this;t.selected&&ns(this,t),n.prototype.addTrack.call(this,t),t.addEventListener&&(t.selectedChange_=function(){r.changing_||(r.changing_=!0,ns(r,t),r.changing_=!1,r.trigger("change"))},t.addEventListener("selectedchange",t.selectedChange_))},e.removeTrack=function(t){n.prototype.removeTrack.call(this,t),t.removeEventListener&&t.selectedChange_&&(t.removeEventListener("selectedchange",t.selectedChange_),t.selectedChange_=null)},i}(ia),gi=function(n){function i(){return n.apply(this,arguments)||this}Yt(i,n);var e=i.prototype;return e.addTrack=function(t){var r=this;n.prototype.addTrack.call(this,t),this.queueChange_||(this.queueChange_=function(){return r.queueTrigger("change")}),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=function(){return r.trigger("selectedlanguagechange")}),t.addEventListener("modechange",this.queueChange_),["metadata","chapters"].indexOf(t.kind)===-1&&t.addEventListener("modechange",this.triggerSelectedlanguagechange_)},e.removeTrack=function(t){n.prototype.removeTrack.call(this,t),t.removeEventListener&&(this.queueChange_&&t.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&t.removeEventListener("modechange",this.triggerSelectedlanguagechange_))},i}(ia),ji=function(){function n(e){e===void 0&&(e=[]),this.trackElements_=[],Object.defineProperty(this,"length",{get:function(){return this.trackElements_.length}});for(var t=0,r=e.length;t<r;t++)this.addTrackElement_(e[t])}var i=n.prototype;return i.addTrackElement_=function(e){var t=this.trackElements_.length;""+t in this||Object.defineProperty(this,t,{get:function(){return this.trackElements_[t]}}),this.trackElements_.indexOf(e)===-1&&this.trackElements_.push(e)},i.getTrackElementByTrack_=function(e){for(var t,r=0,a=this.trackElements_.length;r<a;r++)if(e===this.trackElements_[r].track){t=this.trackElements_[r];break}return t},i.removeTrackElement_=function(e){for(var t=0,r=this.trackElements_.length;t<r;t++)if(e===this.trackElements_[t]){this.trackElements_[t].track&&typeof this.trackElements_[t].track.off=="function"&&this.trackElements_[t].track.off(),typeof this.trackElements_[t].off=="function"&&this.trackElements_[t].off(),this.trackElements_.splice(t,1);break}},n}(),Pl=function(){function n(e){n.prototype.setCues_.call(this,e),Object.defineProperty(this,"length",{get:function(){return this.length_}})}var i=n.prototype;return i.setCues_=function(e){var t=this.length||0,r=0,a=e.length;this.cues_=e,this.length_=e.length;var f=function(y){""+y in this||Object.defineProperty(this,""+y,{get:function(){return this.cues_[y]}})};if(t<a)for(r=t;r<a;r++)f.call(this,r)},i.getCueById=function(e){for(var t=null,r=0,a=this.length;r<a;r++){var f=this[r];if(f.id===e){t=f;break}}return t},n}(),Sc={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},Gs={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},zt={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},ae={disabled:"disabled",hidden:"hidden",showing:"showing"},se=function(n){function i(e){var t;e===void 0&&(e={}),t=n.call(this)||this;var r={id:e.id||"vjs_track_"+ut(),kind:e.kind||"",label:e.label||"",language:e.language||""};for(var a in r)(function(f){Object.defineProperty(Te(t),f,{get:function(){return r[f]},set:function(){}})})(a);return t}return Yt(i,n),i}(Ne),Ae=function(n){var i=["protocol","hostname","port","pathname","search","hash","host"],e=F.createElement("a");e.href=n;var t,r=e.host===""&&e.protocol!=="file:";r&&((t=F.createElement("div")).innerHTML='<a href="'+n+'"></a>',e=t.firstChild,t.setAttribute("style","display:none; position:absolute;"),F.body.appendChild(t));for(var a={},f=0;f<i.length;f++)a[i[f]]=e[i[f]];return a.protocol==="http:"&&(a.host=a.host.replace(/:80$/,"")),a.protocol==="https:"&&(a.host=a.host.replace(/:443$/,"")),a.protocol||(a.protocol=C.location.protocol),r&&F.body.removeChild(t),a},Ue=function(n){if(!n.match(/^https?:\/\//)){var i=F.createElement("div");i.innerHTML='<a href="'+n+'">x</a>',n=i.firstChild.href}return n},Bn=function(n){if(typeof n=="string"){var i=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/.exec(n);if(i)return i.pop().toLowerCase()}return""},lr=function(n){var i=C.location,e=Ae(n);return(e.protocol===":"?i.protocol:e.protocol)+e.host!==i.protocol+i.host},oa=Object.freeze({parseUrl:Ae,getAbsoluteURL:Ue,getFileExtension:Bn,isCrossOrigin:lr}),ar=function(n){var i=Iu.call(n);return i==="[object Function]"||typeof n=="function"&&i!=="[object RegExp]"||typeof window!="undefined"&&(n===window.setTimeout||n===window.alert||n===window.confirm||n===window.prompt)},Iu=Object.prototype.toString,Rl=Array.prototype.slice,Wi=Object.prototype.toString,rs=Function.prototype.bind||function(n){var i=this;if(typeof i!="function"||Wi.call(i)!=="[object Function]")throw new TypeError("Function.prototype.bind called on incompatible "+i);for(var e,t=Rl.call(arguments,1),r=function(){if(this instanceof e){var D=i.apply(this,t.concat(Rl.call(arguments)));return Object(D)===D?D:this}return i.apply(n,t.concat(Rl.call(arguments)))},a=Math.max(0,i.length-t.length),f=[],y=0;y<a;y++)f.push("$"+y);if(e=Function("binder","return function ("+f.join(",")+"){ return binder.apply(this,arguments); }")(r),i.prototype){var E=function(){};E.prototype=i.prototype,e.prototype=new E,E.prototype=null}return e},Il=Object.prototype.toString,to=function(n){var i=Il.call(n),e=i==="[object Arguments]";return e||(e=i!=="[object Array]"&&n!==null&&typeof n=="object"&&typeof n.length=="number"&&n.length>=0&&Il.call(n.callee)==="[object Function]"),e};if(!Object.keys){var ko=Object.prototype.hasOwnProperty,Ws=Object.prototype.toString,Xn=to,Du=Object.prototype.propertyIsEnumerable,Dl=!Du.call({toString:null},"toString"),Eo=Du.call(function(){},"prototype"),qs=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],$s=function(n){var i=n.constructor;return i&&i.prototype===n},Ml={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},Mu=function(){if(typeof window=="undefined")return!1;for(var n in window)try{if(!Ml["$"+n]&&ko.call(window,n)&&window[n]!==null&&typeof window[n]=="object")try{$s(window[n])}catch(i){return!0}}catch(i){return!0}return!1}();ts=function(n){var i=n!==null&&typeof n=="object",e=Ws.call(n)==="[object Function]",t=Xn(n),r=i&&Ws.call(n)==="[object String]",a=[];if(!i&&!e&&!t)throw new TypeError("Object.keys called on a non-object");var f=Eo&&e;if(r&&n.length>0&&!ko.call(n,0))for(var y=0;y<n.length;++y)a.push(String(y));if(t&&n.length>0)for(var E=0;E<n.length;++E)a.push(String(E));else for(var D in n)f&&D==="prototype"||!ko.call(n,D)||a.push(String(D));if(Dl)for(var N=function(Y){if(typeof window=="undefined"||!Mu)return $s(Y);try{return $s(Y)}catch(Q){return!1}}(n),q=0;q<qs.length;++q)N&&qs[q]==="constructor"||!ko.call(n,qs[q])||a.push(qs[q]);return a}}var eo=ts,is=Array.prototype.slice,Ks=Object.keys,no=Ks?function(n){return Ks(n)}:eo,Xs=Object.keys;no.shim=function(){return Object.keys?function(){var n=Object.keys(arguments);return n&&n.length===arguments.length}(1,2)||(Object.keys=function(n){return Xs(to(n)?is.call(n):n)}):Object.keys=no,Object.keys||no};var Uu=no,as=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",wc=Object.prototype.toString,Ys=Array.prototype.concat,yi=Object.defineProperty,sa=yi&&function(){var n={};try{for(var i in yi(n,"x",{enumerable:!1,value:n}),n)return!1;return n.x===n}catch(e){return!1}}(),Js=function(n,i,e,t){(!(i in n)||function(r){return typeof r=="function"&&wc.call(r)==="[object Function]"}(t)&&t())&&(sa?yi(n,i,{configurable:!0,enumerable:!1,value:e,writable:!0}):n[i]=e)},ro=function(n,i){var e=arguments.length>2?arguments[2]:{},t=Uu(i);as&&(t=Ys.call(t,Object.getOwnPropertySymbols(i)));for(var r=0;r<t.length;r+=1)Js(n,t[r],i[t[r]],e[t[r]])};ro.supportsDescriptors=!!sa;var kc=ro,Bu=Object.getOwnPropertyDescriptor?function(){return Object.getOwnPropertyDescriptor(arguments,"callee").get}():function(){throw new TypeError},qi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol",Ua=Object.getPrototypeOf||function(n){return n.__proto__},Nu=typeof Uint8Array=="undefined"?void 0:Ua(Uint8Array),Fu={"$ %Array%":Array,"$ %ArrayBuffer%":typeof ArrayBuffer=="undefined"?void 0:ArrayBuffer,"$ %ArrayBufferPrototype%":typeof ArrayBuffer=="undefined"?void 0:ArrayBuffer.prototype,"$ %ArrayIteratorPrototype%":qi?Ua([][Symbol.iterator]()):void 0,"$ %ArrayPrototype%":Array.prototype,"$ %ArrayProto_entries%":Array.prototype.entries,"$ %ArrayProto_forEach%":Array.prototype.forEach,"$ %ArrayProto_keys%":Array.prototype.keys,"$ %ArrayProto_values%":Array.prototype.values,"$ %AsyncFromSyncIteratorPrototype%":void 0,"$ %AsyncFunction%":void 0,"$ %AsyncFunctionPrototype%":void 0,"$ %AsyncGenerator%":void 0,"$ %AsyncGeneratorFunction%":void 0,"$ %AsyncGeneratorPrototype%":void 0,"$ %AsyncIteratorPrototype%":void 0,"$ %Atomics%":typeof Atomics=="undefined"?void 0:Atomics,"$ %Boolean%":Boolean,"$ %BooleanPrototype%":Boolean.prototype,"$ %DataView%":typeof DataView=="undefined"?void 0:DataView,"$ %DataViewPrototype%":typeof DataView=="undefined"?void 0:DataView.prototype,"$ %Date%":Date,"$ %DatePrototype%":Date.prototype,"$ %decodeURI%":decodeURI,"$ %decodeURIComponent%":decodeURIComponent,"$ %encodeURI%":encodeURI,"$ %encodeURIComponent%":encodeURIComponent,"$ %Error%":Error,"$ %ErrorPrototype%":Error.prototype,"$ %eval%":eval,"$ %EvalError%":EvalError,"$ %EvalErrorPrototype%":EvalError.prototype,"$ %Float32Array%":typeof Float32Array=="undefined"?void 0:Float32Array,"$ %Float32ArrayPrototype%":typeof Float32Array=="undefined"?void 0:Float32Array.prototype,"$ %Float64Array%":typeof Float64Array=="undefined"?void 0:Float64Array,"$ %Float64ArrayPrototype%":typeof Float64Array=="undefined"?void 0:Float64Array.prototype,"$ %Function%":Function,"$ %FunctionPrototype%":Function.prototype,"$ %Generator%":void 0,"$ %GeneratorFunction%":void 0,"$ %GeneratorPrototype%":void 0,"$ %Int8Array%":typeof Int8Array=="undefined"?void 0:Int8Array,"$ %Int8ArrayPrototype%":typeof Int8Array=="undefined"?void 0:Int8Array.prototype,"$ %Int16Array%":typeof Int16Array=="undefined"?void 0:Int16Array,"$ %Int16ArrayPrototype%":typeof Int16Array=="undefined"?void 0:Int8Array.prototype,"$ %Int32Array%":typeof Int32Array=="undefined"?void 0:Int32Array,"$ %Int32ArrayPrototype%":typeof Int32Array=="undefined"?void 0:Int32Array.prototype,"$ %isFinite%":isFinite,"$ %isNaN%":isNaN,"$ %IteratorPrototype%":qi?Ua(Ua([][Symbol.iterator]())):void 0,"$ %JSON%":JSON,"$ %JSONParse%":JSON.parse,"$ %Map%":typeof Map=="undefined"?void 0:Map,"$ %MapIteratorPrototype%":typeof Map!="undefined"&&qi?Ua(new Map()[Symbol.iterator]()):void 0,"$ %MapPrototype%":typeof Map=="undefined"?void 0:Map.prototype,"$ %Math%":Math,"$ %Number%":Number,"$ %NumberPrototype%":Number.prototype,"$ %Object%":Object,"$ %ObjectPrototype%":Object.prototype,"$ %ObjProto_toString%":Object.prototype.toString,"$ %ObjProto_valueOf%":Object.prototype.valueOf,"$ %parseFloat%":parseFloat,"$ %parseInt%":parseInt,"$ %Promise%":typeof Promise=="undefined"?void 0:Promise,"$ %PromisePrototype%":typeof Promise=="undefined"?void 0:Promise.prototype,"$ %PromiseProto_then%":typeof Promise=="undefined"?void 0:Promise.prototype.then,"$ %Promise_all%":typeof Promise=="undefined"?void 0:Promise.all,"$ %Promise_reject%":typeof Promise=="undefined"?void 0:Promise.reject,"$ %Promise_resolve%":typeof Promise=="undefined"?void 0:Promise.resolve,"$ %Proxy%":typeof Proxy=="undefined"?void 0:Proxy,"$ %RangeError%":RangeError,"$ %RangeErrorPrototype%":RangeError.prototype,"$ %ReferenceError%":ReferenceError,"$ %ReferenceErrorPrototype%":ReferenceError.prototype,"$ %Reflect%":typeof Reflect=="undefined"?void 0:Reflect,"$ %RegExp%":RegExp,"$ %RegExpPrototype%":RegExp.prototype,"$ %Set%":typeof Set=="undefined"?void 0:Set,"$ %SetIteratorPrototype%":typeof Set!="undefined"&&qi?Ua(new Set()[Symbol.iterator]()):void 0,"$ %SetPrototype%":typeof Set=="undefined"?void 0:Set.prototype,"$ %SharedArrayBuffer%":typeof SharedArrayBuffer=="undefined"?void 0:SharedArrayBuffer,"$ %SharedArrayBufferPrototype%":typeof SharedArrayBuffer=="undefined"?void 0:SharedArrayBuffer.prototype,"$ %String%":String,"$ %StringIteratorPrototype%":qi?Ua(""[Symbol.iterator]()):void 0,"$ %StringPrototype%":String.prototype,"$ %Symbol%":qi?Symbol:void 0,"$ %SymbolPrototype%":qi?Symbol.prototype:void 0,"$ %SyntaxError%":SyntaxError,"$ %SyntaxErrorPrototype%":SyntaxError.prototype,"$ %ThrowTypeError%":Bu,"$ %TypedArray%":Nu,"$ %TypedArrayPrototype%":Nu?Nu.prototype:void 0,"$ %TypeError%":TypeError,"$ %TypeErrorPrototype%":TypeError.prototype,"$ %Uint8Array%":typeof Uint8Array=="undefined"?void 0:Uint8Array,"$ %Uint8ArrayPrototype%":typeof Uint8Array=="undefined"?void 0:Uint8Array.prototype,"$ %Uint8ClampedArray%":typeof Uint8ClampedArray=="undefined"?void 0:Uint8ClampedArray,"$ %Uint8ClampedArrayPrototype%":typeof Uint8ClampedArray=="undefined"?void 0:Uint8ClampedArray.prototype,"$ %Uint16Array%":typeof Uint16Array=="undefined"?void 0:Uint16Array,"$ %Uint16ArrayPrototype%":typeof Uint16Array=="undefined"?void 0:Uint16Array.prototype,"$ %Uint32Array%":typeof Uint32Array=="undefined"?void 0:Uint32Array,"$ %Uint32ArrayPrototype%":typeof Uint32Array=="undefined"?void 0:Uint32Array.prototype,"$ %URIError%":URIError,"$ %URIErrorPrototype%":URIError.prototype,"$ %WeakMap%":typeof WeakMap=="undefined"?void 0:WeakMap,"$ %WeakMapPrototype%":typeof WeakMap=="undefined"?void 0:WeakMap.prototype,"$ %WeakSet%":typeof WeakSet=="undefined"?void 0:WeakSet,"$ %WeakSetPrototype%":typeof WeakSet=="undefined"?void 0:WeakSet.prototype},Ba=function(n,i){if(arguments.length>1&&typeof i!="boolean")throw new TypeError('"allowMissing" argument must be a boolean');var e="$ "+n;if(!(e in Fu))throw new SyntaxError("intrinsic "+n+" does not exist!");if(Fu[e]===void 0&&!i)throw new TypeError("intrinsic "+n+" exists, but is not available. Please file an issue!");return Fu[e]},_r=rs.call(Function.call,Object.prototype.hasOwnProperty),Er=Ba("%TypeError%"),Fr=Ba("%SyntaxError%"),Ec={"Property Descriptor":function(n,i){if(n.Type(i)!=="Object")return!1;var e={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var t in i)if(_r(i,t)&&!e[t])return!1;var r=_r(i,"[[Value]]"),a=_r(i,"[[Get]]")||_r(i,"[[Set]]");if(r&&a)throw new Er("Property Descriptors may not be both accessor and data descriptors");return!0}},Vu=function(n,i,e,t){var r=Ec[i];if(typeof r!="function")throw new Fr("unknown record type: "+i);if(!r(n,t))throw new Er(e+" must be a "+i);console.log(r(n,t),t)},os=Number.isNaN||function(n){return n!=n},Ul=Number.isNaN||function(n){return n!=n},Zs=Number.isFinite||function(n){return typeof n=="number"&&!Ul(n)&&n!==1/0&&n!==-1/0},Na=function(n){return n>=0?1:-1},ua=Function.prototype.toString,Fa=/^\s*class\b/,io=function(n){try{var i=ua.call(n);return Fa.test(i)}catch(e){return!1}},Qs=Object.prototype.toString,Hu=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",Ta=function(n){if(!n||typeof n!="function"&&typeof n!="object")return!1;if(typeof n=="function"&&!n.prototype)return!0;if(Hu)return function(e){try{return!io(e)&&(ua.call(e),!0)}catch(t){return!1}}(n);if(io(n))return!1;var i=Qs.call(n);return i==="[object Function]"||i==="[object GeneratorFunction]"},Cc=function(n){return n===null||typeof n!="function"&&typeof n!="object"},Ac=Object.prototype.toString,ss=function(n){var i;if((i=arguments.length>1?arguments[1]:Ac.call(n)==="[object Date]"?String:Number)===String||i===Number){var e,t,r=i===String?["toString","valueOf"]:["valueOf","toString"];for(t=0;t<r.length;++t)if(Ta(n[r[t]])&&(e=n[r[t]](),Cc(e)))return e;throw new TypeError("No default value")}throw new TypeError("invalid [[DefaultValue]] hint supplied")},Co=Ba("%Object%"),ao=Ba("%TypeError%"),us=Ba("%String%"),ls={ToPrimitive:function(n){return Cc(n)?n:arguments.length>1?ss(n,arguments[1]):ss(n)},ToBoolean:function(n){return!!n},ToNumber:function(n){return+n},ToInteger:function(n){var i=this.ToNumber(n);return os(i)?0:i!==0&&Zs(i)?Na(i)*Math.floor(Math.abs(i)):i},ToInt32:function(n){return this.ToNumber(n)>>0},ToUint32:function(n){return this.ToNumber(n)>>>0},ToUint16:function(n){var i=this.ToNumber(n);return os(i)||i===0||!Zs(i)?0:function(e,t){var r=e%t;return Math.floor(r>=0?r:r+t)}(Na(i)*Math.floor(Math.abs(i)),65536)},ToString:function(n){return us(n)},ToObject:function(n){return this.CheckObjectCoercible(n),Co(n)},CheckObjectCoercible:function(n,i){if(n==null)throw new ao(i||"Cannot call method on "+n);return n},IsCallable:Ta,SameValue:function(n,i){return n===i?n!==0||1/n==1/i:os(n)&&os(i)},Type:function(n){return n===null?"Null":n===void 0?"Undefined":typeof n=="function"||typeof n=="object"?"Object":typeof n=="number"?"Number":typeof n=="boolean"?"Boolean":typeof n=="string"?"String":void 0},IsPropertyDescriptor:function(n){if(this.Type(n)!=="Object")return!1;var i={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var e in n)if(_r(n,e)&&!i[e])return!1;var t=_r(n,"[[Value]]"),r=_r(n,"[[Get]]")||_r(n,"[[Set]]");if(t&&r)throw new ao("Property Descriptors may not be both accessor and data descriptors");return!0},IsAccessorDescriptor:function(n){return n!==void 0&&(Vu(this,"Property Descriptor","Desc",n),!(!_r(n,"[[Get]]")&&!_r(n,"[[Set]]")))},IsDataDescriptor:function(n){return n!==void 0&&(Vu(this,"Property Descriptor","Desc",n),!(!_r(n,"[[Value]]")&&!_r(n,"[[Writable]]")))},IsGenericDescriptor:function(n){return n!==void 0&&(Vu(this,"Property Descriptor","Desc",n),!this.IsAccessorDescriptor(n)&&!this.IsDataDescriptor(n))},FromPropertyDescriptor:function(n){if(n===void 0)return n;if(Vu(this,"Property Descriptor","Desc",n),this.IsDataDescriptor(n))return{value:n["[[Value]]"],writable:!!n["[[Writable]]"],enumerable:!!n["[[Enumerable]]"],configurable:!!n["[[Configurable]]"]};if(this.IsAccessorDescriptor(n))return{get:n["[[Get]]"],set:n["[[Set]]"],enumerable:!!n["[[Enumerable]]"],configurable:!!n["[[Configurable]]"]};throw new ao("FromPropertyDescriptor must be called with a fully populated Property Descriptor")},ToPropertyDescriptor:function(n){if(this.Type(n)!=="Object")throw new ao("ToPropertyDescriptor requires an object");var i={};if(_r(n,"enumerable")&&(i["[[Enumerable]]"]=this.ToBoolean(n.enumerable)),_r(n,"configurable")&&(i["[[Configurable]]"]=this.ToBoolean(n.configurable)),_r(n,"value")&&(i["[[Value]]"]=n.value),_r(n,"writable")&&(i["[[Writable]]"]=this.ToBoolean(n.writable)),_r(n,"get")){var e=n.get;if(e!==void 0&&!this.IsCallable(e))throw new TypeError("getter must be a function");i["[[Get]]"]=e}if(_r(n,"set")){var t=n.set;if(t!==void 0&&!this.IsCallable(t))throw new ao("setter must be a function");i["[[Set]]"]=t}if((_r(i,"[[Get]]")||_r(i,"[[Set]]"))&&(_r(i,"[[Value]]")||_r(i,"[[Writable]]")))throw new ao("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");return i}},tu=rs.call(Function.call,String.prototype.replace),rt=/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/,Vr=/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/,dr=function(){var n=ls.ToString(ls.CheckObjectCoercible(this));return tu(tu(n,rt,""),Vr,"")},li=function(){return String.prototype.trim&&"\u200B".trim()==="\u200B"?String.prototype.trim:dr},xn=rs.call(Function.call,li());kc(xn,{getPolyfill:li,implementation:dr,shim:function(){var n=li();return kc(String.prototype,{trim:n},{trim:function(){return String.prototype.trim!==n}}),n}});var Sa=xn,Xr=Object.prototype.toString,$i=Object.prototype.hasOwnProperty,Va=function(n,i,e){for(var t=0,r=n.length;t<r;t++)$i.call(n,t)&&(e==null?i(n[t],t,n):i.call(e,n[t],t,n))},Ki=function(n,i,e){for(var t=0,r=n.length;t<r;t++)e==null?i(n.charAt(t),t,n):i.call(e,n.charAt(t),t,n)},jc=function(n,i,e){for(var t in n)$i.call(n,t)&&(e==null?i(n[t],t,n):i.call(e,n[t],t,n))},Bl=function(n,i,e){if(!Ta(i))throw new TypeError("iterator must be a function");var t;arguments.length>=3&&(t=e),Xr.call(n)==="[object Array]"?Va(n,i,t):typeof n=="string"?Ki(n,i,t):jc(n,i,t)},eu=function(n){if(!n)return{};var i={};return Bl(Sa(n).split(`
`),function(e){var t=e.indexOf(":"),r=Sa(e.slice(0,t)).toLowerCase(),a=Sa(e.slice(t+1));i[r]===void 0?i[r]=a:function(f){return Object.prototype.toString.call(f)==="[object Array]"}(i[r])?i[r].push(a):i[r]=[i[r],a]}),i},nd=function(){for(var n={},i=0;i<arguments.length;i++){var e=arguments[i];for(var t in e)Nl.call(e,t)&&(n[t]=e[t])}return n},Nl=Object.prototype.hasOwnProperty,cs=En;En.XMLHttpRequest=C.XMLHttpRequest||function(){},En.XDomainRequest="withCredentials"in new En.XMLHttpRequest?En.XMLHttpRequest:C.XDomainRequest,function(n,i){for(var e=0;e<n.length;e++)i(n[e])}(["get","put","post","patch","head","delete"],function(n){En[n==="delete"?"del":n]=function(i,e,t){return(e=Sn(i,e,t)).method=n.toUpperCase(),sr(e)}});var nu=function(n,i){var e=new C.WebVTT.Parser(C,C.vttjs,C.WebVTT.StringDecoder()),t=[];e.oncue=function(r){i.addCue(r)},e.onparsingerror=function(r){t.push(r)},e.onflush=function(){i.trigger({type:"loadeddata",target:i})},e.parse(n),t.length>0&&(C.console&&C.console.groupCollapsed&&C.console.groupCollapsed("Text Track parsing errors for "+i.src),t.forEach(function(r){return re.error(r)}),C.console&&C.console.groupEnd&&C.console.groupEnd()),e.flush()},xc=function(n,i){var e={uri:n},t=lr(n);t&&(e.cors=t),cs(e,he(this,function(r,a,f){if(r)return re.error(r,a);i.loaded_=!0,typeof C.WebVTT!="function"?i.tech_&&i.tech_.any(["vttjsloaded","vttjserror"],function(y){return y.type==="vttjserror"?void re.error("vttjs failed to load, stopping trying to process "+i.src):nu(f,i)}):nu(f,i)}))},Ao=function(n){function i(t){var r;if(t===void 0&&(t={}),!t.tech)throw new Error("A tech was not provided.");var a=ue(t,{kind:zt[t.kind]||"subtitles",language:t.language||t.srclang||""}),f=ae[a.mode]||"disabled",y=a.default;a.kind!=="metadata"&&a.kind!=="chapters"||(f="hidden"),(r=n.call(this,a)||this).tech_=a.tech,r.cues_=[],r.activeCues_=[];var E=new Pl(r.cues_),D=new Pl(r.activeCues_),N=!1,q=he(Te(r),function(){this.activeCues=this.activeCues,N&&(this.trigger("cuechange"),N=!1)});return f!=="disabled"&&r.tech_.ready(function(){r.tech_.on("timeupdate",q)},!0),Object.defineProperties(Te(r),{default:{get:function(){return y},set:function(){}},mode:{get:function(){return f},set:function(Y){var Q=this;ae[Y]&&((f=Y)!=="disabled"?this.tech_.ready(function(){Q.tech_.on("timeupdate",q)},!0):this.tech_.off("timeupdate",q),this.trigger("modechange"))}},cues:{get:function(){return this.loaded_?E:null},set:function(){}},activeCues:{get:function(){if(!this.loaded_)return null;if(this.cues.length===0)return D;for(var Y=this.tech_.currentTime(),Q=[],dt=0,lt=this.cues.length;dt<lt;dt++){var At=this.cues[dt];(At.startTime<=Y&&At.endTime>=Y||At.startTime===At.endTime&&At.startTime<=Y&&At.startTime+.5>=Y)&&Q.push(At)}if(N=!1,Q.length!==this.activeCues_.length)N=!0;else for(var St=0;St<Q.length;St++)this.activeCues_.indexOf(Q[St])===-1&&(N=!0);return this.activeCues_=Q,D.setCues_(this.activeCues_),D},set:function(){}}}),a.src?(r.src=a.src,xc(a.src,Te(r))):r.loaded_=!0,r}Yt(i,n);var e=i.prototype;return e.addCue=function(t){var r=t;if(C.vttjs&&!(t instanceof C.vttjs.VTTCue)){for(var a in r=new C.vttjs.VTTCue(t.startTime,t.endTime,t.text),t)a in r||(r[a]=t[a]);r.id=t.id,r.originalCue_=t}for(var f=this.tech_.textTracks(),y=0;y<f.length;y++)f[y]!==this&&f[y].removeCue(r);this.cues_.push(r),this.cues.setCues_(this.cues_)},e.removeCue=function(t){for(var r=this.cues_.length;r--;){var a=this.cues_[r];if(a===t||a.originalCue_&&a.originalCue_===t){this.cues_.splice(r,1),this.cues.setCues_(this.cues_);break}}},i}(se);Ao.prototype.allowedEvents_={cuechange:"cuechange"};var Xi=function(n){function i(e){var t;e===void 0&&(e={});var r=ue(e,{kind:Gs[e.kind]||""});t=n.call(this,r)||this;var a=!1;return Object.defineProperty(Te(t),"enabled",{get:function(){return a},set:function(f){typeof f=="boolean"&&f!==a&&(a=f,this.trigger("enabledchange"))}}),r.enabled&&(t.enabled=r.enabled),t.loaded_=!0,t}return Yt(i,n),i}(se),zu=function(n){function i(e){var t;e===void 0&&(e={});var r=ue(e,{kind:Sc[e.kind]||""});t=n.call(this,r)||this;var a=!1;return Object.defineProperty(Te(t),"selected",{get:function(){return a},set:function(f){typeof f=="boolean"&&f!==a&&(a=f,this.trigger("selectedchange"))}}),r.selected&&(t.selected=r.selected),t}return Yt(i,n),i}(se),xi=function(n){function i(e){var t;e===void 0&&(e={}),t=n.call(this)||this;var r,a=new Ao(e);return t.kind=a.kind,t.src=a.src,t.srclang=a.language,t.label=a.label,t.default=a.default,Object.defineProperties(Te(t),{readyState:{get:function(){return r}},track:{get:function(){return a}}}),r=0,a.addEventListener("loadeddata",function(){r=2,t.trigger({type:"load",target:Te(t)})}),t}return Yt(i,n),i}(Ne);xi.prototype.allowedEvents_={load:"load"},xi.NONE=0,xi.LOADING=1,xi.LOADED=2,xi.ERROR=3;var pr={audio:{ListClass:Qa,TrackClass:Xi,capitalName:"Audio"},video:{ListClass:aa,TrackClass:zu,capitalName:"Video"},text:{ListClass:gi,TrackClass:Ao,capitalName:"Text"}};Object.keys(pr).forEach(function(n){pr[n].getterName=n+"Tracks",pr[n].privateName=n+"Tracks_"});var ds={remoteText:{ListClass:gi,TrackClass:Ao,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:ji,TrackClass:xi,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},Hr=ue(pr,ds);ds.names=Object.keys(ds),pr.names=Object.keys(pr),Hr.names=[].concat(ds.names).concat(pr.names);var Ha=Object.create||function(){function n(){}return function(i){if(arguments.length!==1)throw new Error("Object.create shim only accepts one parameter.");return n.prototype=i,new n}}();In.prototype=Ha(Error.prototype),In.prototype.constructor=In,In.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},tr.prototype={set:function(n,i){this.get(n)||i===""||(this.values[n]=i)},get:function(n,i,e){return e?this.has(n)?this.values[n]:i[e]:this.has(n)?this.values[n]:i},has:function(n){return n in this.values},alt:function(n,i,e){for(var t=0;t<e.length;++t)if(i===e[t]){this.set(n,i);break}},integer:function(n,i){/^-?\d+$/.test(i)&&this.set(n,parseInt(i,10))},percent:function(n,i){return!!(i.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(i=parseFloat(i))>=0&&i<=100)&&(this.set(n,i),!0)}};var za={"&amp;":"&","&lt;":"<","&gt;":">","&lrm;":"\u200E","&rlm;":"\u200F","&nbsp;":"\xA0"},ru={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},rd={v:"title",lang:"lang"},fs={rt:"ruby"},Gu=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];qr.prototype.applyStyles=function(n,i){for(var e in i=i||this.div,n)n.hasOwnProperty(e)&&(i.style[e]=n[e])},qr.prototype.formatStyle=function(n,i){return n===0?0:n+i},Ar.prototype=Ha(qr.prototype),Ar.prototype.constructor=Ar,Jn.prototype.move=function(n,i){switch(i=i!==void 0?i:this.lineHeight,n){case"+x":this.left+=i,this.right+=i;break;case"-x":this.left-=i,this.right-=i;break;case"+y":this.top+=i,this.bottom+=i;break;case"-y":this.top-=i,this.bottom-=i}},Jn.prototype.overlaps=function(n){return this.left<n.right&&this.right>n.left&&this.top<n.bottom&&this.bottom>n.top},Jn.prototype.overlapsAny=function(n){for(var i=0;i<n.length;i++)if(this.overlaps(n[i]))return!0;return!1},Jn.prototype.within=function(n){return this.top>=n.top&&this.bottom<=n.bottom&&this.left>=n.left&&this.right<=n.right},Jn.prototype.overlapsOppositeAxis=function(n,i){switch(i){case"+x":return this.left<n.left;case"-x":return this.right>n.right;case"+y":return this.top<n.top;case"-y":return this.bottom>n.bottom}},Jn.prototype.intersectPercentage=function(n){return Math.max(0,Math.min(this.right,n.right)-Math.max(this.left,n.left))*Math.max(0,Math.min(this.bottom,n.bottom)-Math.max(this.top,n.top))/(this.height*this.width)},Jn.prototype.toCSSCompatValues=function(n){return{top:this.top-n.top,bottom:n.bottom-this.bottom,left:this.left-n.left,right:n.right-this.right,height:this.height,width:this.width}},Jn.getSimpleBoxPosition=function(n){var i=n.div?n.div.offsetHeight:n.tagName?n.offsetHeight:0,e=n.div?n.div.offsetWidth:n.tagName?n.offsetWidth:0,t=n.div?n.div.offsetTop:n.tagName?n.offsetTop:0;return{left:(n=n.div?n.div.getBoundingClientRect():n.tagName?n.getBoundingClientRect():n).left,right:n.right,top:n.top||t,height:n.height||i,bottom:n.bottom||t+(n.height||i),width:n.width||e}},hi.StringDecoder=function(){return{decode:function(n){if(!n)return"";if(typeof n!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(n))}}},hi.convertCueToDOMTree=function(n,i){return n&&i?Mi(n,i):null},hi.processCues=function(n,i,e){if(!n||!i||!e)return null;for(;e.firstChild;)e.removeChild(e.firstChild);var t=n.document.createElement("div");if(t.style.position="absolute",t.style.left="0",t.style.right="0",t.style.top="0",t.style.bottom="0",t.style.margin="1.5%",e.appendChild(t),function(E){for(var D=0;D<E.length;D++)if(E[D].hasBeenReset||!E[D].displayState)return!0;return!1}(i)){var r=[],a=Jn.getSimpleBoxPosition(t),f={font:Math.round(.05*a.height*100)/100+"px sans-serif"};(function(){for(var E,D,N=0;N<i.length;N++)D=i[N],E=new Ar(n,D,f),t.appendChild(E.div),ai(0,E,a,r),D.displayState=E.div,r.push(Jn.getSimpleBoxPosition(E))})()}else for(var y=0;y<i.length;y++)t.appendChild(i[y].displayState)},hi.Parser=function(n,i,e){e||(e=i,i={}),i||(i={}),this.window=n,this.vttjs=i,this.state="INITIAL",this.buffer="",this.decoder=e||new TextDecoder("utf8"),this.regionList=[]},hi.Parser.prototype={reportOrThrowError:function(n){if(!(n instanceof In))throw n;this.onparsingerror&&this.onparsingerror(n)},parse:function(n){function i(){for(var D=r.buffer,N=0;N<D.length&&D[N]!=="\r"&&D[N]!==`
`;)++N;var q=D.substr(0,N);return D[N]==="\r"&&++N,D[N]===`
`&&++N,r.buffer=D.substr(N),q}function e(D){var N=new tr;if(ri(D,function(Y,Q){switch(Y){case"id":N.set(Y,Q);break;case"width":N.percent(Y,Q);break;case"lines":N.integer(Y,Q);break;case"regionanchor":case"viewportanchor":var dt=Q.split(",");if(dt.length!==2)break;var lt=new tr;if(lt.percent("x",dt[0]),lt.percent("y",dt[1]),!lt.has("x")||!lt.has("y"))break;N.set(Y+"X",lt.get("x")),N.set(Y+"Y",lt.get("y"));break;case"scroll":N.alt(Y,Q,["up"])}},/=/,/\s/),N.has("id")){var q=new(r.vttjs.VTTRegion||r.window.VTTRegion);q.width=N.get("width",100),q.lines=N.get("lines",3),q.regionAnchorX=N.get("regionanchorX",0),q.regionAnchorY=N.get("regionanchorY",100),q.viewportAnchorX=N.get("viewportanchorX",0),q.viewportAnchorY=N.get("viewportanchorY",100),q.scroll=N.get("scroll",""),r.onregion&&r.onregion(q),r.regionList.push({id:N.get("id"),region:q})}}function t(D){var N=new tr;ri(D,function(q,Y){switch(q){case"MPEGT":N.integer(q+"S",Y);break;case"LOCA":N.set(q+"L",ni(Y))}},/[^\d]:/,/,/),r.ontimestampmap&&r.ontimestampmap({MPEGTS:N.get("MPEGTS"),LOCAL:N.get("LOCAL")})}var r=this;n&&(r.buffer+=r.decoder.decode(n,{stream:!0}));try{var a;if(r.state==="INITIAL"){if(!/\r\n|\n/.test(r.buffer))return this;var f=(a=i()).match(/^WEBVTT([ \t].*)?$/);if(!f||!f[0])throw new In(In.Errors.BadSignature);r.state="HEADER"}for(var y=!1;r.buffer;){if(!/\r\n|\n/.test(r.buffer))return this;switch(y?y=!1:a=i(),r.state){case"HEADER":/:/.test(a)?function(D){D.match(/X-TIMESTAMP-MAP/)?ri(D,function(N,q){switch(N){case"X-TIMESTAMP-MAP":t(q)}},/=/):ri(D,function(N,q){switch(N){case"Region":e(q)}},/:/)}(a):a||(r.state="ID");continue;case"NOTE":a||(r.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(a)){r.state="NOTE";break}if(!a)continue;if(r.cue=new(r.vttjs.VTTCue||r.window.VTTCue)(0,0,""),r.state="CUE",a.indexOf("-->")===-1){r.cue.id=a;continue}case"CUE":try{ii(a,r.cue,r.regionList)}catch(D){r.reportOrThrowError(D),r.cue=null,r.state="BADCUE";continue}r.state="CUETEXT";continue;case"CUETEXT":var E=a.indexOf("-->")!==-1;if(!a||E&&(y=!0)){r.oncue&&r.oncue(r.cue),r.cue=null,r.state="ID";continue}r.cue.text&&(r.cue.text+=`
`),r.cue.text+=a;continue;case"BADCUE":a||(r.state="ID");continue}}}catch(D){r.reportOrThrowError(D),r.state==="CUETEXT"&&r.cue&&r.oncue&&r.oncue(r.cue),r.cue=null,r.state=r.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this},flush:function(){var n=this;try{if(n.buffer+=n.decoder.decode(),(n.cue||n.state==="HEADER")&&(n.buffer+=`

`,n.parse()),n.state==="INITIAL")throw new In(In.Errors.BadSignature)}catch(i){n.reportOrThrowError(i)}return n.onflush&&n.onflush(),this}};var Mr=hi,Fl="auto",Vl={"":1,lr:1,rl:1},wa={start:1,middle:1,end:1,left:1,right:1};Ra.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)};var Wu=Ra,iu={"":!0,up:!0},oo=function(){var n=100,i=3,e=0,t=100,r=0,a=100,f="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return n},set:function(y){if(!Tr(y))throw new Error("Width must be between 0 and 100.");n=y}},lines:{enumerable:!0,get:function(){return i},set:function(y){if(typeof y!="number")throw new TypeError("Lines must be set to a number.");i=y}},regionAnchorY:{enumerable:!0,get:function(){return t},set:function(y){if(!Tr(y))throw new Error("RegionAnchorX must be between 0 and 100.");t=y}},regionAnchorX:{enumerable:!0,get:function(){return e},set:function(y){if(!Tr(y))throw new Error("RegionAnchorY must be between 0 and 100.");e=y}},viewportAnchorY:{enumerable:!0,get:function(){return a},set:function(y){if(!Tr(y))throw new Error("ViewportAnchorY must be between 0 and 100.");a=y}},viewportAnchorX:{enumerable:!0,get:function(){return r},set:function(y){if(!Tr(y))throw new Error("ViewportAnchorX must be between 0 and 100.");r=y}},scroll:{enumerable:!0,get:function(){return f},set:function(y){var E=function(D){return typeof D=="string"&&!!iu[D.toLowerCase()]&&D.toLowerCase()}(y);if(E===!1)throw new SyntaxError("An invalid or illegal string was specified.");f=E}}})},jo=vn(function(n){var i=n.exports={WebVTT:Mr,VTTCue:Wu,VTTRegion:oo};C.vttjs=i,C.WebVTT=i.WebVTT;var e=i.VTTCue,t=i.VTTRegion,r=C.VTTCue,a=C.VTTRegion;i.shim=function(){C.VTTCue=e,C.VTTRegion=t},i.restore=function(){C.VTTCue=r,C.VTTRegion=a},C.VTTCue||i.shim()}),On=(jo.WebVTT,jo.VTTCue,jo.VTTRegion,function(n){function i(t,r){var a;return t===void 0&&(t={}),r===void 0&&(r=function(){}),t.reportTouchActivity=!1,(a=n.call(this,null,t,r)||this).hasStarted_=!1,a.on("playing",function(){this.hasStarted_=!0}),a.on("loadstart",function(){this.hasStarted_=!1}),Hr.names.forEach(function(f){var y=Hr[f];t&&t[y.getterName]&&(a[y.privateName]=t[y.getterName])}),a.featuresProgressEvents||a.manualProgressOn(),a.featuresTimeupdateEvents||a.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(function(f){t["native"+f+"Tracks"]===!1&&(a["featuresNative"+f+"Tracks"]=!1)}),t.nativeCaptions===!1||t.nativeTextTracks===!1?a.featuresNativeTextTracks=!1:t.nativeCaptions!==!0&&t.nativeTextTracks!==!0||(a.featuresNativeTextTracks=!0),a.featuresNativeTextTracks||a.emulateTextTracks(),a.autoRemoteTextTracks_=new Hr.text.ListClass,a.initTrackListeners(),t.nativeControlsForTouch||a.emitTapEvents(),a.constructor&&(a.name_=a.constructor.name||"Unknown Tech"),a}Yt(i,n);var e=i.prototype;return e.triggerSourceset=function(t){var r=this;this.isReady_||this.one("ready",function(){return r.setTimeout(function(){return r.triggerSourceset(t)},1)}),this.trigger({src:t,type:"sourceset"})},e.manualProgressOn=function(){this.on("durationchange",this.onDurationChange),this.manualProgress=!0,this.one("ready",this.trackProgress)},e.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange)},e.trackProgress=function(t){this.stopTrackingProgress(),this.progressInterval=this.setInterval(he(this,function(){var r=this.bufferedPercent();this.bufferedPercent_!==r&&this.trigger("progress"),this.bufferedPercent_=r,r===1&&this.stopTrackingProgress()}),500)},e.onDurationChange=function(t){this.duration_=this.duration()},e.buffered=function(){return Se(0,0)},e.bufferedPercent=function(){return ve(this.buffered(),this.duration_)},e.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},e.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime),this.on("pause",this.stopTrackingCurrentTime)},e.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime),this.off("pause",this.stopTrackingCurrentTime)},e.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)},e.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},e.dispose=function(){this.clearTracks(pr.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),n.prototype.dispose.call(this)},e.clearTracks=function(t){var r=this;(t=[].concat(t)).forEach(function(a){for(var f=r[a+"Tracks"]()||[],y=f.length;y--;){var E=f[y];a==="text"&&r.removeRemoteTextTrack(E),f.removeTrack(E)}})},e.cleanupAutoTextTracks=function(){for(var t=this.autoRemoteTextTracks_||[],r=t.length;r--;){var a=t[r];this.removeRemoteTextTrack(a)}},e.reset=function(){},e.error=function(t){return t!==void 0&&(this.error_=new le(t),this.trigger("error")),this.error_},e.played=function(){return this.hasStarted_?Se(0,0):Se()},e.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},e.initTrackListeners=function(){var t=this;pr.names.forEach(function(r){var a=pr[r],f=function(){t.trigger(r+"trackchange")},y=t[a.getterName]();y.addEventListener("removetrack",f),y.addEventListener("addtrack",f),t.on("dispose",function(){y.removeEventListener("removetrack",f),y.removeEventListener("addtrack",f)})})},e.addWebVttScript_=function(){var t=this;if(!C.WebVTT)if(F.body.contains(this.el())){if(!this.options_["vtt.js"]&&v(jo)&&Object.keys(jo).length>0)return void this.trigger("vttjsloaded");var r=F.createElement("script");r.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",r.onload=function(){t.trigger("vttjsloaded")},r.onerror=function(){t.trigger("vttjserror")},this.on("dispose",function(){r.onload=null,r.onerror=null}),C.WebVTT=!0,this.el().parentNode.appendChild(r)}else this.ready(this.addWebVttScript_)},e.emulateTextTracks=function(){var t=this,r=this.textTracks(),a=this.remoteTextTracks(),f=function(N){return r.addTrack(N.track)},y=function(N){return r.removeTrack(N.track)};a.on("addtrack",f),a.on("removetrack",y),this.addWebVttScript_();var E=function(){return t.trigger("texttrackchange")},D=function(){E();for(var N=0;N<r.length;N++){var q=r[N];q.removeEventListener("cuechange",E),q.mode==="showing"&&q.addEventListener("cuechange",E)}};D(),r.addEventListener("change",D),r.addEventListener("addtrack",D),r.addEventListener("removetrack",D),this.on("dispose",function(){a.off("addtrack",f),a.off("removetrack",y),r.removeEventListener("change",D),r.removeEventListener("addtrack",D),r.removeEventListener("removetrack",D);for(var N=0;N<r.length;N++)r[N].removeEventListener("cuechange",E)})},e.addTextTrack=function(t,r,a){if(!t)throw new Error("TextTrack kind is required but was not provided");return function(f,y,E,D,N){N===void 0&&(N={});var q=f.textTracks();N.kind=y,E&&(N.label=E),D&&(N.language=D),N.tech=f;var Y=new Hr.text.TrackClass(N);return q.addTrack(Y),Y}(this,t,r,a)},e.createRemoteTextTrack=function(t){var r=ue(t,{tech:this});return new ds.remoteTextEl.TrackClass(r)},e.addRemoteTextTrack=function(t,r){var a=this;t===void 0&&(t={});var f=this.createRemoteTextTrack(t);return r!==!0&&r!==!1&&(re.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),r=!0),this.remoteTextTrackEls().addTrackElement_(f),this.remoteTextTracks().addTrack(f.track),r!==!0&&this.ready(function(){return a.autoRemoteTextTracks_.addTrack(f.track)}),f},e.removeRemoteTextTrack=function(t){var r=this.remoteTextTrackEls().getTrackElementByTrack_(t);this.remoteTextTrackEls().removeTrackElement_(r),this.remoteTextTracks().removeTrack(t),this.autoRemoteTextTracks_.removeTrack(t)},e.getVideoPlaybackQuality=function(){return{}},e.requestPictureInPicture=function(){var t=this.options_.Promise||C.Promise;if(t)return t.reject()},e.setPoster=function(){},e.playsinline=function(){},e.setPlaysinline=function(){},e.overrideNativeAudioTracks=function(){},e.overrideNativeVideoTracks=function(){},e.canPlayType=function(){return""},i.canPlayType=function(){return""},i.canPlaySource=function(t,r){return i.canPlayType(t.type)},i.isTech=function(t){return t.prototype instanceof i||t instanceof i||t===i},i.registerTech=function(t,r){if(i.techs_||(i.techs_={}),!i.isTech(r))throw new Error("Tech "+t+" must be a Tech");if(!i.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!i.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return t=yr(t),i.techs_[t]=r,i.techs_[Ms(t)]=r,t!=="Tech"&&i.defaultTechOrder_.push(t),r},i.getTech=function(t){if(t)return i.techs_&&i.techs_[t]?i.techs_[t]:(t=yr(t),C&&C.videojs&&C.videojs[t]?(re.warn("The "+t+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),C.videojs[t]):void 0)},i}(ge));Hr.names.forEach(function(n){var i=Hr[n];On.prototype[i.getterName]=function(){return this[i.privateName]=this[i.privateName]||new i.ListClass,this[i.privateName]}}),On.prototype.featuresVolumeControl=!0,On.prototype.featuresMuteControl=!0,On.prototype.featuresFullscreenResize=!1,On.prototype.featuresPlaybackRate=!1,On.prototype.featuresProgressEvents=!1,On.prototype.featuresSourceset=!1,On.prototype.featuresTimeupdateEvents=!1,On.prototype.featuresNativeTextTracks=!1,On.withSourceHandlers=function(n){n.registerSourceHandler=function(i,e){var t=n.sourceHandlers;t||(t=n.sourceHandlers=[]),e===void 0&&(e=t.length),t.splice(e,0,i)},n.canPlayType=function(i){for(var e,t=n.sourceHandlers||[],r=0;r<t.length;r++)if(e=t[r].canPlayType(i))return e;return""},n.selectSourceHandler=function(i,e){for(var t=n.sourceHandlers||[],r=0;r<t.length;r++)if(t[r].canHandleSource(i,e))return t[r];return null},n.canPlaySource=function(i,e){var t=n.selectSourceHandler(i,e);return t?t.canHandleSource(i,e):""},["seekable","seeking","duration"].forEach(function(i){var e=this[i];typeof e=="function"&&(this[i]=function(){return this.sourceHandler_&&this.sourceHandler_[i]?this.sourceHandler_[i].apply(this.sourceHandler_,arguments):e.apply(this,arguments)})},n.prototype),n.prototype.setSource=function(i){var e=n.selectSourceHandler(i,this.options_);e||(n.nativeSourceHandler?e=n.nativeSourceHandler:re.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler),e!==n.nativeSourceHandler&&(this.currentSource_=i),this.sourceHandler_=e.handleSource(i,this,this.options_),this.one("dispose",this.disposeSourceHandler)},n.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}},ge.registerComponent("Tech",On),On.registerTech("Tech",On),On.defaultTechOrder_=[];var ka={},so={},hs={},ps={buffered:1,currentTime:1,duration:1,seekable:1,played:1,paused:1,volume:1},uo={setCurrentTime:1,setVolume:1},au={play:1,pause:1},ms={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",oga:"audio/ogg",m3u8:"application/x-mpegURL",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},xo=function(n){n===void 0&&(n="");var i=Bn(n);return ms[i.toLowerCase()]||""},Hl=function(n){function i(e,t,r){var a,f=ue({createEl:!1},t);if(a=n.call(this,e,f,r)||this,t.playerOptions.sources&&t.playerOptions.sources.length!==0)e.src(t.playerOptions.sources);else for(var y=0,E=t.playerOptions.techOrder;y<E.length;y++){var D=yr(E[y]),N=On.getTech(D);if(D||(N=ge.getComponent(D)),N&&N.isSupported()){e.loadTech_(D);break}}return a}return Yt(i,n),i}(ge);ge.registerComponent("MediaLoader",Hl);var la=function(n){function i(t,r){var a;return(a=n.call(this,t,r)||this).emitTapEvents(),a.enable(),a}Yt(i,n);var e=i.prototype;return e.createEl=function(t,r,a){t===void 0&&(t="div"),r===void 0&&(r={}),a===void 0&&(a={}),r=c({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass(),tabIndex:0},r),t==="button"&&re.error("Creating a ClickableComponent with an HTML element of "+t+" is not supported; use a Button instead."),a=c({role:"button"},a),this.tabIndex_=r.tabIndex;var f=n.prototype.createEl.call(this,t,r,a);return this.createControlTextEl(f),f},e.dispose=function(){this.controlTextEl_=null,n.prototype.dispose.call(this)},e.createControlTextEl=function(t){return this.controlTextEl_=T("span",{className:"vjs-control-text"},{"aria-live":"polite"}),t&&t.appendChild(this.controlTextEl_),this.controlText(this.controlText_,t),this.controlTextEl_},e.controlText=function(t,r){if(r===void 0&&(r=this.el()),t===void 0)return this.controlText_||"Need Text";var a=this.localize(t);this.controlText_=t,b(this.controlTextEl_,a),this.nonIconControl||r.setAttribute("title",a)},e.buildCSSClass=function(){return"vjs-control vjs-button "+n.prototype.buildCSSClass.call(this)},e.enable=function(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),this.tabIndex_!==void 0&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick),this.on("keydown",this.handleKeyDown))},e.disable=function(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),this.tabIndex_!==void 0&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver),this.off("mouseout",this.handleMouseOut),this.off(["tap","click"],this.handleClick),this.off("keydown",this.handleKeyDown)},e.handleClick=function(t){},e.handleKeyDown=function(t){sn.isEventKey(t,"Space")||sn.isEventKey(t,"Enter")?(t.preventDefault(),t.stopPropagation(),this.trigger("click")):n.prototype.handleKeyDown.call(this,t)},i}(ge);ge.registerComponent("ClickableComponent",la);var ca=function(n){function i(t,r){var a;return(a=n.call(this,t,r)||this).update(),t.on("posterchange",he(Te(a),a.update)),a}Yt(i,n);var e=i.prototype;return e.dispose=function(){this.player().off("posterchange",this.update),n.prototype.dispose.call(this)},e.createEl=function(){return T("div",{className:"vjs-poster",tabIndex:-1})},e.update=function(t){var r=this.player().poster();this.setSrc(r),r?this.show():this.hide()},e.setSrc=function(t){var r="";t&&(r='url("'+t+'")'),this.el_.style.backgroundImage=r},e.handleClick=function(t){this.player_.controls()&&(this.player_.tech(!0)&&this.player_.tech(!0).focus(),this.player_.paused()?on(this.player_.play()):this.player_.pause())},i}(la);ge.registerComponent("PosterImage",ca);var Oc={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'},zl=function(n){function i(t,r,a){var f;f=n.call(this,t,r,a)||this;var y=he(Te(f),f.updateDisplay);return t.on("loadstart",he(Te(f),f.toggleDisplay)),t.on("texttrackchange",y),t.on("loadedmetadata",he(Te(f),f.preselectTrack)),t.ready(he(Te(f),function(){if(t.tech_&&t.tech_.featuresNativeTextTracks)this.hide();else{t.on("fullscreenchange",y),t.on("playerresize",y),C.addEventListener("orientationchange",y),t.on("dispose",function(){return C.removeEventListener("orientationchange",y)});for(var E=this.options_.playerOptions.tracks||[],D=0;D<E.length;D++)this.player_.addRemoteTextTrack(E[D],!0);this.preselectTrack()}})),f}Yt(i,n);var e=i.prototype;return e.preselectTrack=function(){for(var t,r,a,f={captions:1,subtitles:1},y=this.player_.textTracks(),E=this.player_.cache_.selectedLanguage,D=0;D<y.length;D++){var N=y[D];E&&E.enabled&&E.language&&E.language===N.language&&N.kind in f?N.kind===E.kind?a=N:a||(a=N):E&&!E.enabled?(a=null,t=null,r=null):N.default&&(N.kind!=="descriptions"||t?N.kind in f&&!r&&(r=N):t=N)}a?a.mode="showing":r?r.mode="showing":t&&(t.mode="showing")},e.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},e.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{"aria-live":"off","aria-atomic":"true"})},e.clearDisplay=function(){typeof C.WebVTT=="function"&&C.WebVTT.processCues(C,[],this.el_)},e.updateDisplay=function(){var t=this.player_.textTracks(),r=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),r){for(var a=[],f=0;f<t.length;++f){var y=t[f];y.mode==="showing"&&a.push(y)}this.updateForTrack(a)}else{for(var E=null,D=null,N=t.length;N--;){var q=t[N];q.mode==="showing"&&(q.kind==="descriptions"?E=q:D=q)}D?(this.getAttribute("aria-live")!=="off"&&this.setAttribute("aria-live","off"),this.updateForTrack(D)):E&&(this.getAttribute("aria-live")!=="assertive"&&this.setAttribute("aria-live","assertive"),this.updateForTrack(E))}},e.updateDisplayState=function(t){for(var r=this.player_.textTrackSettings.getValues(),a=t.activeCues,f=a.length;f--;){var y=a[f];if(y){var E=y.displayState;if(r.color&&(E.firstChild.style.color=r.color),r.textOpacity&&Dr(E.firstChild,"color",Bi(r.color||"#fff",r.textOpacity)),r.backgroundColor&&(E.firstChild.style.backgroundColor=r.backgroundColor),r.backgroundOpacity&&Dr(E.firstChild,"backgroundColor",Bi(r.backgroundColor||"#000",r.backgroundOpacity)),r.windowColor&&(r.windowOpacity?Dr(E,"backgroundColor",Bi(r.windowColor,r.windowOpacity)):E.style.backgroundColor=r.windowColor),r.edgeStyle&&(r.edgeStyle==="dropshadow"?E.firstChild.style.textShadow="2px 2px 3px #222, 2px 2px 4px #222, 2px 2px 5px #222":r.edgeStyle==="raised"?E.firstChild.style.textShadow="1px 1px #222, 2px 2px #222, 3px 3px #222":r.edgeStyle==="depressed"?E.firstChild.style.textShadow="1px 1px #ccc, 0 1px #ccc, -1px -1px #222, 0 -1px #222":r.edgeStyle==="uniform"&&(E.firstChild.style.textShadow="0 0 4px #222, 0 0 4px #222, 0 0 4px #222, 0 0 4px #222")),r.fontPercent&&r.fontPercent!==1){var D=C.parseFloat(E.style.fontSize);E.style.fontSize=D*r.fontPercent+"px",E.style.height="auto",E.style.top="auto",E.style.bottom="2px"}r.fontFamily&&r.fontFamily!=="default"&&(r.fontFamily==="small-caps"?E.firstChild.style.fontVariant="small-caps":E.firstChild.style.fontFamily=Oc[r.fontFamily])}}},e.updateForTrack=function(t){if(Array.isArray(t)||(t=[t]),typeof C.WebVTT=="function"&&!t.every(function(Y){return!Y.activeCues})){for(var r=[],a=0;a<t.length;++a)for(var f=t[a],y=0;y<f.activeCues.length;++y)r.push(f.activeCues[y]);C.WebVTT.processCues(C,r,this.el_);for(var E=0;E<t.length;++E){for(var D=t[E],N=0;N<D.activeCues.length;++N){var q=D.activeCues[N].displayState;k(q,"vjs-text-track-cue"),k(q,"vjs-text-track-cue-"+(D.language?D.language:E))}this.player_.textTrackSettings&&this.updateDisplayState(D)}}},i}(ge);ge.registerComponent("TextTrackDisplay",zl);var Gl=function(n){function i(){return n.apply(this,arguments)||this}return Yt(i,n),i.prototype.createEl=function(){var e=this.player_.isAudio(),t=this.localize(e?"Audio Player":"Video Player"),r=T("span",{className:"vjs-control-text",innerHTML:this.localize("{1} is loading.",[t])}),a=n.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"});return a.appendChild(r),a},i}(ge);ge.registerComponent("LoadingSpinner",Gl);var Oi=function(n){function i(){return n.apply(this,arguments)||this}Yt(i,n);var e=i.prototype;return e.createEl=function(t,r,a){r===void 0&&(r={}),a===void 0&&(a={}),r=c({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass()},r),a=c({type:"button"},a);var f=ge.prototype.createEl.call(this,"button",r,a);return this.createControlTextEl(f),f},e.addChild=function(t,r){r===void 0&&(r={});var a=this.constructor.name;return re.warn("Adding an actionable (user controllable) child to a Button ("+a+") is not supported; use a ClickableComponent instead."),ge.prototype.addChild.call(this,t,r)},e.enable=function(){n.prototype.enable.call(this),this.el_.removeAttribute("disabled")},e.disable=function(){n.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},e.handleKeyDown=function(t){sn.isEventKey(t,"Space")||sn.isEventKey(t,"Enter")?t.stopPropagation():n.prototype.handleKeyDown.call(this,t)},i}(la);ge.registerComponent("Button",Oi);var qu=function(n){function i(t,r){var a;return(a=n.call(this,t,r)||this).mouseused_=!1,a.on("mousedown",a.handleMouseDown),a}Yt(i,n);var e=i.prototype;return e.buildCSSClass=function(){return"vjs-big-play-button"},e.handleClick=function(t){var r=this.player_.play();if(this.mouseused_&&t.clientX&&t.clientY)return on(r),void(this.player_.tech(!0)&&this.player_.tech(!0).focus());var a=this.player_.getChild("controlBar"),f=a&&a.getChild("playToggle");if(f){var y=function(){return f.focus()};Be(r)?r.then(y,function(){}):this.setTimeout(y,1)}else this.player_.tech(!0).focus()},e.handleKeyDown=function(t){this.mouseused_=!1,n.prototype.handleKeyDown.call(this,t)},e.handleMouseDown=function(t){this.mouseused_=!0},i}(Oi);qu.prototype.controlText_="Play Video",ge.registerComponent("BigPlayButton",qu);var vs=function(n){function i(t,r){var a;return(a=n.call(this,t,r)||this).controlText(r&&r.controlText||a.localize("Close")),a}Yt(i,n);var e=i.prototype;return e.buildCSSClass=function(){return"vjs-close-button "+n.prototype.buildCSSClass.call(this)},e.handleClick=function(t){this.trigger({type:"close",bubbles:!1})},e.handleKeyDown=function(t){sn.isEventKey(t,"Esc")?(t.preventDefault(),t.stopPropagation(),this.trigger("click")):n.prototype.handleKeyDown.call(this,t)},i}(Oi);ge.registerComponent("CloseButton",vs);var $u=function(n){function i(t,r){var a;return r===void 0&&(r={}),a=n.call(this,t,r)||this,r.replay=r.replay===void 0||r.replay,a.on(t,"play",a.handlePlay),a.on(t,"pause",a.handlePause),r.replay&&a.on(t,"ended",a.handleEnded),a}Yt(i,n);var e=i.prototype;return e.buildCSSClass=function(){return"vjs-play-control "+n.prototype.buildCSSClass.call(this)},e.handleClick=function(t){this.player_.paused()?this.player_.play():this.player_.pause()},e.handleSeeked=function(t){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(t):this.handlePlay(t)},e.handlePlay=function(t){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},e.handlePause=function(t){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},e.handleEnded=function(t){this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay"),this.one(this.player_,"seeked",this.handleSeeked)},i}(Oi);$u.prototype.controlText_="Play",ge.registerComponent("PlayToggle",$u);var Ku=function(n,i){n=n<0?0:n;var e=Math.floor(n%60),t=Math.floor(n/60%60),r=Math.floor(n/3600),a=Math.floor(i/60%60),f=Math.floor(i/3600);return(isNaN(n)||n===1/0)&&(r=t=e="-"),(r=r>0||f>0?r+":":"")+(t=((r||a>=10)&&t<10?"0"+t:t)+":")+(e=e<10?"0"+e:e)},gs=Ku,Ga=function(n){function i(t,r){var a;return(a=n.call(this,t,r)||this).throttledUpdateContent=Re(he(Te(a),a.updateContent),fe),a.on(t,"timeupdate",a.throttledUpdateContent),a}Yt(i,n);var e=i.prototype;return e.createEl=function(){var t=this.buildCSSClass(),r=n.prototype.createEl.call(this,"div",{className:t+" vjs-time-control vjs-control",innerHTML:'<span class="vjs-control-text" role="presentation">'+this.localize(this.labelText_)+"\xA0</span>"});return this.contentEl_=T("span",{className:t+"-display"},{"aria-live":"off",role:"presentation"}),this.updateTextNode_(),r.appendChild(this.contentEl_),r},e.dispose=function(){this.contentEl_=null,this.textNode_=null,n.prototype.dispose.call(this)},e.updateTextNode_=function(){if(this.contentEl_){for(;this.contentEl_.firstChild;)this.contentEl_.removeChild(this.contentEl_.firstChild);this.textNode_=F.createTextNode(this.formattedTime_||this.formatTime_(0)),this.contentEl_.appendChild(this.textNode_)}},e.formatTime_=function(t){return wr(t)},e.updateFormattedTime_=function(t){var r=this.formatTime_(t);r!==this.formattedTime_&&(this.formattedTime_=r,this.requestAnimationFrame(this.updateTextNode_))},e.updateContent=function(t){},i}(ge);Ga.prototype.labelText_="Time",Ga.prototype.controlText_="Time",ge.registerComponent("TimeDisplay",Ga);var Xu=function(n){function i(t,r){var a;return(a=n.call(this,t,r)||this).on(t,"ended",a.handleEnded),a}Yt(i,n);var e=i.prototype;return e.buildCSSClass=function(){return"vjs-current-time"},e.updateContent=function(t){var r=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();this.updateFormattedTime_(r)},e.handleEnded=function(t){this.player_.duration()&&this.updateFormattedTime_(this.player_.duration())},i}(Ga);Xu.prototype.labelText_="Current Time",Xu.prototype.controlText_="Current Time",ge.registerComponent("CurrentTimeDisplay",Xu);var ys=function(n){function i(t,r){var a;return(a=n.call(this,t,r)||this).on(t,"durationchange",a.updateContent),a.on(t,"loadstart",a.updateContent),a.on(t,"loadedmetadata",a.throttledUpdateContent),a}Yt(i,n);var e=i.prototype;return e.buildCSSClass=function(){return"vjs-duration"},e.updateContent=function(t){var r=this.player_.duration();this.duration_!==r&&(this.duration_=r,this.updateFormattedTime_(r))},i}(Ga);ys.prototype.labelText_="Duration",ys.prototype.controlText_="Duration",ge.registerComponent("DurationDisplay",ys);var Yu=function(n){function i(){return n.apply(this,arguments)||this}return Yt(i,n),i.prototype.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider",innerHTML:"<div><span>/</span></div>"},{"aria-hidden":!0})},i}(ge);ge.registerComponent("TimeDivider",Yu);var Cn=function(n){function i(t,r){var a;return(a=n.call(this,t,r)||this).on(t,"durationchange",a.throttledUpdateContent),a.on(t,"ended",a.handleEnded),a}Yt(i,n);var e=i.prototype;return e.buildCSSClass=function(){return"vjs-remaining-time"},e.createEl=function(){var t=n.prototype.createEl.call(this);return t.insertBefore(T("span",{},{"aria-hidden":!0},"-"),this.contentEl_),t},e.updateContent=function(t){typeof this.player_.duration()=="number"&&(this.player_.remainingTimeDisplay?this.updateFormattedTime_(this.player_.remainingTimeDisplay()):this.updateFormattedTime_(this.player_.remainingTime()))},e.handleEnded=function(t){this.player_.duration()&&this.updateFormattedTime_(0)},i}(Ga);Cn.prototype.labelText_="Remaining Time",Cn.prototype.controlText_="Remaining Time",ge.registerComponent("RemainingTimeDisplay",Cn);var Lc=function(n){function i(t,r){var a;return(a=n.call(this,t,r)||this).updateShowing(),a.on(a.player(),"durationchange",a.updateShowing),a}Yt(i,n);var e=i.prototype;return e.createEl=function(){var t=n.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=T("div",{className:"vjs-live-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Stream Type")+"\xA0</span>"+this.localize("LIVE")},{"aria-live":"off"}),t.appendChild(this.contentEl_),t},e.dispose=function(){this.contentEl_=null,n.prototype.dispose.call(this)},e.updateShowing=function(t){this.player().duration()===1/0?this.show():this.hide()},i}(ge);ge.registerComponent("LiveDisplay",Lc);var ou=function(n){function i(t,r){var a;return(a=n.call(this,t,r)||this).updateLiveEdgeStatus(),a.player_.liveTracker&&a.on(a.player_.liveTracker,"liveedgechange",a.updateLiveEdgeStatus),a}Yt(i,n);var e=i.prototype;return e.createEl=function(){var t=n.prototype.createEl.call(this,"button",{className:"vjs-seek-to-live-control vjs-control"});return this.textEl_=T("span",{className:"vjs-seek-to-live-text",innerHTML:this.localize("LIVE")},{"aria-hidden":"true"}),t.appendChild(this.textEl_),t},e.updateLiveEdgeStatus=function(t){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))},e.handleClick=function(){this.player_.liveTracker.seekToLiveEdge()},e.dispose=function(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatus),this.textEl_=null,n.prototype.dispose.call(this)},i}(Oi);ou.prototype.controlText_="Seek to live, currently playing live",ge.registerComponent("SeekToLive",ou);var Oo=function(n){function i(t,r){var a;return(a=n.call(this,t,r)||this).bar=a.getChild(a.options_.barName),a.vertical(!!a.options_.vertical),a.enable(),a}Yt(i,n);var e=i.prototype;return e.enabled=function(){return this.enabled_},e.enable=function(){this.enabled()||(this.on("mousedown",this.handleMouseDown),this.on("touchstart",this.handleMouseDown),this.on("keydown",this.handleKeyDown),this.on("click",this.handleClick),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)},e.disable=function(){if(this.enabled()){var t=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown),this.off("touchstart",this.handleMouseDown),this.off("keydown",this.handleKeyDown),this.off("click",this.handleClick),this.off(this.player_,"controlsvisible",this.update),this.off(t,"mousemove",this.handleMouseMove),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchmove",this.handleMouseMove),this.off(t,"touchend",this.handleMouseUp),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}},e.createEl=function(t,r,a){return r===void 0&&(r={}),a===void 0&&(a={}),r.className=r.className+" vjs-slider",r=c({tabIndex:0},r),a=c({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},a),n.prototype.createEl.call(this,t,r,a)},e.handleMouseDown=function(t){var r=this.bar.el_.ownerDocument;t.type==="mousedown"&&t.preventDefault(),t.type!=="touchstart"||Da||t.preventDefault(),ct(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(r,"mousemove",this.handleMouseMove),this.on(r,"mouseup",this.handleMouseUp),this.on(r,"touchmove",this.handleMouseMove),this.on(r,"touchend",this.handleMouseUp),this.handleMouseMove(t)},e.handleMouseMove=function(t){},e.handleMouseUp=function(){var t=this.bar.el_.ownerDocument;gt(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(t,"mousemove",this.handleMouseMove),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchmove",this.handleMouseMove),this.off(t,"touchend",this.handleMouseUp),this.update()},e.update=function(){if(this.el_){var t=this.getPercent(),r=this.bar;if(r){(typeof t!="number"||t!=t||t<0||t===1/0)&&(t=0);var a=(100*t).toFixed(2)+"%",f=r.el().style,y=this.vertical()?"height":"width";return f[y]!==a&&(f[y]=a),t}}},e.calculateDistance=function(t){var r=ee(this.el_,t);return this.vertical()?r.y:r.x},e.handleKeyDown=function(t){sn.isEventKey(t,"Left")||sn.isEventKey(t,"Down")?(t.preventDefault(),t.stopPropagation(),this.stepBack()):sn.isEventKey(t,"Right")||sn.isEventKey(t,"Up")?(t.preventDefault(),t.stopPropagation(),this.stepForward()):n.prototype.handleKeyDown.call(this,t)},e.handleClick=function(t){t.stopPropagation(),t.preventDefault()},e.vertical=function(t){if(t===void 0)return this.vertical_||!1;this.vertical_=!!t,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")},i}(ge);ge.registerComponent("Slider",Oo);var Wl=function(n){function i(t,r){var a;return(a=n.call(this,t,r)||this).partEls_=[],a.on(t,"progress",a.update),a}Yt(i,n);var e=i.prototype;return e.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Loaded")+'</span>: <span class="vjs-control-text-loaded-percentage">0%</span></span>'})},e.dispose=function(){this.partEls_=null,n.prototype.dispose.call(this)},e.update=function(t){var r=this.player_.liveTracker,a=this.player_.buffered(),f=r&&r.isLive()?r.seekableEnd():this.player_.duration(),y=this.player_.bufferedEnd(),E=this.partEls_,D=this.$(".vjs-control-text-loaded-percentage"),N=function(At,St,kt){var te=At/St||0;return te=100*(te>=1?1:te),kt&&(te=te.toFixed(2)),te+"%"};this.el_.style.width=N(y,f),b(D,N(y,f,!0));for(var q=0;q<a.length;q++){var Y=a.start(q),Q=a.end(q),dt=E[q];dt||(dt=this.el_.appendChild(T()),E[q]=dt),dt.style.left=N(Y,y),dt.style.width=N(Q-Y,y)}for(var lt=E.length;lt>a.length;lt--)this.el_.removeChild(E[lt-1]);E.length=a.length},i}(ge);ge.registerComponent("LoadProgressBar",Wl);var ql=function(n){function i(t,r){var a;return(a=n.call(this,t,r)||this).update=Re(he(Te(a),a.update),fe),a}Yt(i,n);var e=i.prototype;return e.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})},e.update=function(t,r,a){var f=Mt(this.el_),y=Mt(this.player_.el()),E=t.width*r;if(y&&f){var D=t.left-y.left+E,N=t.width-E+(y.right-t.right),q=f.width/2;D<q?q+=q-D:N<q&&(q=N),q<0?q=0:q>f.width&&(q=f.width),this.el_.style.right="-"+q+"px",this.write(a)}},e.write=function(t){b(this.el_,t)},e.updateTime=function(t,r,a,f){var y=this;this.rafId_&&this.cancelAnimationFrame(this.rafId_),this.rafId_=this.requestAnimationFrame(function(){var E,D=y.player_.duration();if(y.player_.liveTracker&&y.player_.liveTracker.isLive()){var N=y.player_.liveTracker.liveWindow(),q=N-r*N;E=(q<1?"":"-")+wr(q,N)}else E=wr(a,D);y.update(t,r,E),f&&f()})},i}(ge);ge.registerComponent("TimeTooltip",ql);var su=function(n){function i(t,r){var a;return(a=n.call(this,t,r)||this).update=Re(he(Te(a),a.update),fe),a}Yt(i,n);var e=i.prototype;return e.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})},e.update=function(t,r){var a=this.getChild("timeTooltip");if(a){var f=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();a.updateTime(t,r,f)}},i}(ge);su.prototype.options_={children:[]},ui||Kn||su.prototype.options_.children.push("timeTooltip"),ge.registerComponent("PlayProgressBar",su);var Li=function(n){function i(t,r){var a;return(a=n.call(this,t,r)||this).update=Re(he(Te(a),a.update),fe),a}Yt(i,n);var e=i.prototype;return e.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},e.update=function(t,r){var a=this,f=r*this.player_.duration();this.getChild("timeTooltip").updateTime(t,r,f,function(){a.el_.style.left=t.width*r+"px"})},i}(ge);Li.prototype.options_={children:["timeTooltip"]},ge.registerComponent("MouseTimeDisplay",Li);var Ju=function(n){function i(t,r){var a;return(a=n.call(this,t,r)||this).setEventHandlers_(),a}Yt(i,n);var e=i.prototype;return e.setEventHandlers_=function(){this.update=Re(he(this,this.update),30),this.on(this.player_,"timeupdate",this.update),this.on(this.player_,"ended",this.handleEnded),this.on(this.player_,"durationchange",this.update),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.on(this.player_,["playing"],this.enableInterval_),this.on(this.player_,["ended","pause","waiting"],this.disableInterval_),"hidden"in F&&"visibilityState"in F&&this.on(F,"visibilitychange",this.toggleVisibility_)},e.toggleVisibility_=function(t){F.hidden?this.disableInterval_(t):(this.enableInterval_(),this.requestAnimationFrame(this.update))},e.enableInterval_=function(){var t=this;this.clearInterval(this.updateInterval),this.updateInterval=this.setInterval(function(){t.requestAnimationFrame(t.update)},30)},e.disableInterval_=function(t){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&t.type!=="ended"||this.clearInterval(this.updateInterval)},e.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},e.update_=function(t,r){var a=this.player_.liveTracker,f=this.player_.duration();a&&a.isLive()&&(f=this.player_.liveTracker.liveCurrentTime()),this.el_.setAttribute("aria-valuenow",(100*r).toFixed(2)),this.el_.setAttribute("aria-valuetext",this.localize("progress bar timing: currentTime={1} duration={2}",[wr(t,f),wr(f,f)],"{1} of {2}")),this.bar&&this.bar.update(Mt(this.el_),r)},e.update=function(t){if(this.el().offsetParent!==null){var r=n.prototype.update.call(this);return this.update_(this.getCurrentTime_(),r),r}},e.getCurrentTime_=function(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()},e.handleEnded=function(t){this.update_(this.player_.duration(),1)},e.getPercent=function(){var t,r=this.getCurrentTime_(),a=this.player_.liveTracker;return a&&a.isLive()?(t=(r-a.seekableStart())/a.liveWindow(),a.atLiveEdge()&&(t=1)):t=r/this.player_.duration(),t>=1?1:t||0},e.handleMouseDown=function(t){U(t)&&(t.stopPropagation(),this.player_.scrubbing(!0),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),n.prototype.handleMouseDown.call(this,t))},e.handleMouseMove=function(t){if(U(t)){var r,a=this.calculateDistance(t),f=this.player_.liveTracker;if(f&&f.isLive()){var y=f.seekableStart(),E=f.liveCurrentTime();if((r=y+a*f.liveWindow())>=E&&(r=E),r<=y&&(r=y+.1),r===1/0)return}else(r=a*this.player_.duration())===this.player_.duration()&&(r-=.1);this.player_.currentTime(r)}},e.enable=function(){n.prototype.enable.call(this);var t=this.getChild("mouseTimeDisplay");t&&t.show()},e.disable=function(){n.prototype.disable.call(this);var t=this.getChild("mouseTimeDisplay");t&&t.hide()},e.handleMouseUp=function(t){n.prototype.handleMouseUp.call(this,t),t&&t.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying&&on(this.player_.play())},e.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+5)},e.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-5)},e.handleAction=function(t){this.player_.paused()?this.player_.play():this.player_.pause()},e.handleKeyDown=function(t){if(sn.isEventKey(t,"Space")||sn.isEventKey(t,"Enter"))t.preventDefault(),t.stopPropagation(),this.handleAction(t);else if(sn.isEventKey(t,"Home"))t.preventDefault(),t.stopPropagation(),this.player_.currentTime(0);else if(sn.isEventKey(t,"End"))t.preventDefault(),t.stopPropagation(),this.player_.currentTime(this.player_.duration());else if(/^[0-9]$/.test(sn(t))){t.preventDefault(),t.stopPropagation();var r=10*(sn.codes[sn(t)]-sn.codes[0])/100;this.player_.currentTime(this.player_.duration()*r)}else sn.isEventKey(t,"PgDn")?(t.preventDefault(),t.stopPropagation(),this.player_.currentTime(this.player_.currentTime()-60)):sn.isEventKey(t,"PgUp")?(t.preventDefault(),t.stopPropagation(),this.player_.currentTime(this.player_.currentTime()+60)):n.prototype.handleKeyDown.call(this,t)},i}(Oo);Ju.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"},ui||Kn||Ju.prototype.options_.children.splice(1,0,"mouseTimeDisplay"),ge.registerComponent("SeekBar",Ju);var Lo=function(n){function i(t,r){var a;return(a=n.call(this,t,r)||this).handleMouseMove=Re(he(Te(a),a.handleMouseMove),fe),a.throttledHandleMouseSeek=Re(he(Te(a),a.handleMouseSeek),fe),a.enable(),a}Yt(i,n);var e=i.prototype;return e.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},e.handleMouseMove=function(t){var r=this.getChild("seekBar");if(r){var a=r.getChild("mouseTimeDisplay"),f=r.el(),y=Mt(f),E=ee(f,t).x;E>1?E=1:E<0&&(E=0),a&&a.update(y,E)}},e.handleMouseSeek=function(t){var r=this.getChild("seekBar");r&&r.handleMouseMove(t)},e.enabled=function(){return this.enabled_},e.disable=function(){this.children().forEach(function(t){return t.disable&&t.disable()}),this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDown),this.off(this.el_,"mousemove",this.handleMouseMove),this.handleMouseUp(),this.addClass("disabled"),this.enabled_=!1)},e.enable=function(){this.children().forEach(function(t){return t.enable&&t.enable()}),this.enabled()||(this.on(["mousedown","touchstart"],this.handleMouseDown),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)},e.handleMouseDown=function(t){var r=this.el_.ownerDocument,a=this.getChild("seekBar");a&&a.handleMouseDown(t),this.on(r,"mousemove",this.throttledHandleMouseSeek),this.on(r,"touchmove",this.throttledHandleMouseSeek),this.on(r,"mouseup",this.handleMouseUp),this.on(r,"touchend",this.handleMouseUp)},e.handleMouseUp=function(t){var r=this.el_.ownerDocument,a=this.getChild("seekBar");a&&a.handleMouseUp(t),this.off(r,"mousemove",this.throttledHandleMouseSeek),this.off(r,"touchmove",this.throttledHandleMouseSeek),this.off(r,"mouseup",this.handleMouseUp),this.off(r,"touchend",this.handleMouseUp)},i}(ge);Lo.prototype.options_={children:["seekBar"]},ge.registerComponent("ProgressControl",Lo);var uu=function(n){function i(t,r){var a;return(a=n.call(this,t,r)||this).on(t,["enterpictureinpicture","leavepictureinpicture"],a.handlePictureInPictureChange),F.pictureInPictureEnabled||a.disable(),a}Yt(i,n);var e=i.prototype;return e.buildCSSClass=function(){return"vjs-picture-in-picture-control "+n.prototype.buildCSSClass.call(this)},e.handlePictureInPictureChange=function(t){this.player_.isInPictureInPicture()?this.controlText("Exit Picture-in-Picture"):this.controlText("Picture-in-Picture")},e.handleClick=function(t){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()},i}(Oi);uu.prototype.controlText_="Picture-in-Picture",ge.registerComponent("PictureInPictureToggle",uu);var Zu=function(n){function i(t,r){var a;return(a=n.call(this,t,r)||this).on(t,"fullscreenchange",a.handleFullscreenChange),F[t.fsApi_.fullscreenEnabled]===!1&&a.disable(),a}Yt(i,n);var e=i.prototype;return e.buildCSSClass=function(){return"vjs-fullscreen-control "+n.prototype.buildCSSClass.call(this)},e.handleFullscreenChange=function(t){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},e.handleClick=function(t){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},i}(Oi);Zu.prototype.controlText_="Fullscreen",ge.registerComponent("FullscreenToggle",Zu);var Pc=function(n){function i(){return n.apply(this,arguments)||this}return Yt(i,n),i.prototype.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})},i}(ge);ge.registerComponent("VolumeLevel",Pc);var ci=function(n){function i(t,r){var a;return(a=n.call(this,t,r)||this).on("slideractive",a.updateLastVolume_),a.on(t,"volumechange",a.updateARIAAttributes),t.ready(function(){return a.updateARIAAttributes()}),a}Yt(i,n);var e=i.prototype;return e.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},e.handleMouseDown=function(t){U(t)&&n.prototype.handleMouseDown.call(this,t)},e.handleMouseMove=function(t){U(t)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(t)))},e.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},e.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},e.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},e.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},e.updateARIAAttributes=function(t){var r=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",r),this.el_.setAttribute("aria-valuetext",r+"%")},e.volumeAsPercentage_=function(){return Math.round(100*this.player_.volume())},e.updateLastVolume_=function(){var t=this,r=this.player_.volume();this.one("sliderinactive",function(){t.player_.volume()===0&&t.player_.lastVolume_(r)})},i}(Oo);ci.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},ci.prototype.playerEvent="volumechange",ge.registerComponent("VolumeBar",ci);var Wa=function(n){function i(t,r){var a;return r===void 0&&(r={}),r.vertical=r.vertical||!1,(r.volumeBar===void 0||v(r.volumeBar))&&(r.volumeBar=r.volumeBar||{},r.volumeBar.vertical=r.vertical),function(f,y){y.tech_&&!y.tech_.featuresVolumeControl&&f.addClass("vjs-hidden"),f.on(y,"loadstart",function(){y.tech_.featuresVolumeControl?f.removeClass("vjs-hidden"):f.addClass("vjs-hidden")})}(Te(a=n.call(this,t,r)||this),t),a.throttledHandleMouseMove=Re(he(Te(a),a.handleMouseMove),fe),a.on("mousedown",a.handleMouseDown),a.on("touchstart",a.handleMouseDown),a.on(a.volumeBar,["focus","slideractive"],function(){a.volumeBar.addClass("vjs-slider-active"),a.addClass("vjs-slider-active"),a.trigger("slideractive")}),a.on(a.volumeBar,["blur","sliderinactive"],function(){a.volumeBar.removeClass("vjs-slider-active"),a.removeClass("vjs-slider-active"),a.trigger("sliderinactive")}),a}Yt(i,n);var e=i.prototype;return e.createEl=function(){var t="vjs-volume-horizontal";return this.options_.vertical&&(t="vjs-volume-vertical"),n.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+t})},e.handleMouseDown=function(t){var r=this.el_.ownerDocument;this.on(r,"mousemove",this.throttledHandleMouseMove),this.on(r,"touchmove",this.throttledHandleMouseMove),this.on(r,"mouseup",this.handleMouseUp),this.on(r,"touchend",this.handleMouseUp)},e.handleMouseUp=function(t){var r=this.el_.ownerDocument;this.off(r,"mousemove",this.throttledHandleMouseMove),this.off(r,"touchmove",this.throttledHandleMouseMove),this.off(r,"mouseup",this.handleMouseUp),this.off(r,"touchend",this.handleMouseUp)},e.handleMouseMove=function(t){this.volumeBar.handleMouseMove(t)},i}(ge);Wa.prototype.options_={children:["volumeBar"]},ge.registerComponent("VolumeControl",Wa);var lu=function(n){function i(t,r){var a;return function(f,y){y.tech_&&!y.tech_.featuresMuteControl&&f.addClass("vjs-hidden"),f.on(y,"loadstart",function(){y.tech_.featuresMuteControl?f.removeClass("vjs-hidden"):f.addClass("vjs-hidden")})}(Te(a=n.call(this,t,r)||this),t),a.on(t,["loadstart","volumechange"],a.update),a}Yt(i,n);var e=i.prototype;return e.buildCSSClass=function(){return"vjs-mute-control "+n.prototype.buildCSSClass.call(this)},e.handleClick=function(t){var r=this.player_.volume(),a=this.player_.lastVolume_();if(r===0){var f=a<.1?.1:a;this.player_.volume(f),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())},e.update=function(t){this.updateIcon_(),this.updateControlText_()},e.updateIcon_=function(){var t=this.player_.volume(),r=3;ui&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),t===0||this.player_.muted()?r=0:t<.33?r=1:t<.67&&(r=2);for(var a=0;a<4;a++)O(this.el_,"vjs-vol-"+a);k(this.el_,"vjs-vol-"+r)},e.updateControlText_=function(){var t=this.player_.muted()||this.player_.volume()===0?"Unmute":"Mute";this.controlText()!==t&&this.controlText(t)},i}(Oi);lu.prototype.controlText_="Mute",ge.registerComponent("MuteToggle",lu);var $l=function(n){function i(t,r){var a;return r===void 0&&(r={}),r.inline!==void 0?r.inline=r.inline:r.inline=!0,(r.volumeControl===void 0||v(r.volumeControl))&&(r.volumeControl=r.volumeControl||{},r.volumeControl.vertical=!r.inline),(a=n.call(this,t,r)||this).on(t,["loadstart"],a.volumePanelState_),a.on(a.muteToggle,"keyup",a.handleKeyPress),a.on(a.volumeControl,"keyup",a.handleVolumeControlKeyUp),a.on("keydown",a.handleKeyPress),a.on("mouseover",a.handleMouseOver),a.on("mouseout",a.handleMouseOut),a.on(a.volumeControl,["slideractive"],a.sliderActive_),a.on(a.volumeControl,["sliderinactive"],a.sliderInactive_),a}Yt(i,n);var e=i.prototype;return e.sliderActive_=function(){this.addClass("vjs-slider-active")},e.sliderInactive_=function(){this.removeClass("vjs-slider-active")},e.volumePanelState_=function(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")},e.createEl=function(){var t="vjs-volume-panel-horizontal";return this.options_.inline||(t="vjs-volume-panel-vertical"),n.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+t})},e.dispose=function(){this.handleMouseOut(),n.prototype.dispose.call(this)},e.handleVolumeControlKeyUp=function(t){sn.isEventKey(t,"Esc")&&this.muteToggle.focus()},e.handleMouseOver=function(t){this.addClass("vjs-hover"),mt(F,"keyup",he(this,this.handleKeyPress))},e.handleMouseOut=function(t){this.removeClass("vjs-hover"),ft(F,"keyup",he(this,this.handleKeyPress))},e.handleKeyPress=function(t){sn.isEventKey(t,"Esc")&&this.handleMouseOut()},i}(ge);$l.prototype.options_={children:["muteToggle","volumeControl"]},ge.registerComponent("VolumePanel",$l);var _s=function(n){function i(t,r){var a;return a=n.call(this,t,r)||this,r&&(a.menuButton_=r.menuButton),a.focusedChild_=-1,a.on("keydown",a.handleKeyDown),a.boundHandleBlur_=he(Te(a),a.handleBlur),a.boundHandleTapClick_=he(Te(a),a.handleTapClick),a}Yt(i,n);var e=i.prototype;return e.addEventListenerForItem=function(t){t instanceof ge&&(this.on(t,"blur",this.boundHandleBlur_),this.on(t,["tap","click"],this.boundHandleTapClick_))},e.removeEventListenerForItem=function(t){t instanceof ge&&(this.off(t,"blur",this.boundHandleBlur_),this.off(t,["tap","click"],this.boundHandleTapClick_))},e.removeChild=function(t){typeof t=="string"&&(t=this.getChild(t)),this.removeEventListenerForItem(t),n.prototype.removeChild.call(this,t)},e.addItem=function(t){var r=this.addChild(t);r&&this.addEventListenerForItem(r)},e.createEl=function(){var t=this.options_.contentElType||"ul";this.contentEl_=T(t,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var r=n.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return r.appendChild(this.contentEl_),mt(r,"click",function(a){a.preventDefault(),a.stopImmediatePropagation()}),r},e.dispose=function(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,n.prototype.dispose.call(this)},e.handleBlur=function(t){var r=t.relatedTarget||F.activeElement;if(!this.children().some(function(f){return f.el()===r})){var a=this.menuButton_;a&&a.buttonPressed_&&r!==a.el().firstChild&&a.unpressButton()}},e.handleTapClick=function(t){if(this.menuButton_){this.menuButton_.unpressButton();var r=this.children();if(!Array.isArray(r))return;var a=r.filter(function(f){return f.el()===t.target})[0];if(!a)return;a.name()!=="CaptionSettingsMenuItem"&&this.menuButton_.focus()}},e.handleKeyDown=function(t){sn.isEventKey(t,"Left")||sn.isEventKey(t,"Down")?(t.preventDefault(),t.stopPropagation(),this.stepForward()):(sn.isEventKey(t,"Right")||sn.isEventKey(t,"Up"))&&(t.preventDefault(),t.stopPropagation(),this.stepBack())},e.stepForward=function(){var t=0;this.focusedChild_!==void 0&&(t=this.focusedChild_+1),this.focus(t)},e.stepBack=function(){var t=0;this.focusedChild_!==void 0&&(t=this.focusedChild_-1),this.focus(t)},e.focus=function(t){t===void 0&&(t=0);var r=this.children().slice();r.length&&r[0].className&&/vjs-menu-title/.test(r[0].className)&&r.shift(),r.length>0&&(t<0?t=0:t>=r.length&&(t=r.length-1),this.focusedChild_=t,r[t].el_.focus())},i}(ge);ge.registerComponent("Menu",_s);var Qu=function(n){function i(t,r){var a;r===void 0&&(r={}),(a=n.call(this,t,r)||this).menuButton_=new Oi(t,r),a.menuButton_.controlText(a.controlText_),a.menuButton_.el_.setAttribute("aria-haspopup","true");var f=Oi.prototype.buildCSSClass();return a.menuButton_.el_.className=a.buildCSSClass()+" "+f,a.menuButton_.removeClass("vjs-control"),a.addChild(a.menuButton_),a.update(),a.enabled_=!0,a.on(a.menuButton_,"tap",a.handleClick),a.on(a.menuButton_,"click",a.handleClick),a.on(a.menuButton_,"keydown",a.handleKeyDown),a.on(a.menuButton_,"mouseenter",function(){a.addClass("vjs-hover"),a.menu.show(),mt(F,"keyup",he(Te(a),a.handleMenuKeyUp))}),a.on("mouseleave",a.handleMouseLeave),a.on("keydown",a.handleSubmenuKeyDown),a}Yt(i,n);var e=i.prototype;return e.update=function(){var t=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=t,this.addChild(t),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?this.hide():this.show()},e.createMenu=function(){var t=new _s(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){var r=T("li",{className:"vjs-menu-title",innerHTML:yr(this.options_.title),tabIndex:-1});this.hideThreshold_+=1;var a=new ge(this.player_,{el:r});t.addItem(a)}if(this.items=this.createItems(),this.items)for(var f=0;f<this.items.length;f++)t.addItem(this.items[f]);return t},e.createItems=function(){},e.createEl=function(){return n.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},e.buildWrapperCSSClass=function(){var t="vjs-menu-button";return this.options_.inline===!0?t+="-inline":t+="-popup","vjs-menu-button "+t+" "+Oi.prototype.buildCSSClass()+" "+n.prototype.buildCSSClass.call(this)},e.buildCSSClass=function(){var t="vjs-menu-button";return this.options_.inline===!0?t+="-inline":t+="-popup","vjs-menu-button "+t+" "+n.prototype.buildCSSClass.call(this)},e.controlText=function(t,r){return r===void 0&&(r=this.menuButton_.el()),this.menuButton_.controlText(t,r)},e.dispose=function(){this.handleMouseLeave(),n.prototype.dispose.call(this)},e.handleClick=function(t){this.buttonPressed_?this.unpressButton():this.pressButton()},e.handleMouseLeave=function(t){this.removeClass("vjs-hover"),ft(F,"keyup",he(this,this.handleMenuKeyUp))},e.focus=function(){this.menuButton_.focus()},e.blur=function(){this.menuButton_.blur()},e.handleKeyDown=function(t){sn.isEventKey(t,"Esc")||sn.isEventKey(t,"Tab")?(this.buttonPressed_&&this.unpressButton(),sn.isEventKey(t,"Tab")||(t.preventDefault(),this.menuButton_.focus())):(sn.isEventKey(t,"Up")||sn.isEventKey(t,"Down"))&&(this.buttonPressed_||(t.preventDefault(),this.pressButton()))},e.handleMenuKeyUp=function(t){(sn.isEventKey(t,"Esc")||sn.isEventKey(t,"Tab"))&&this.removeClass("vjs-hover")},e.handleSubmenuKeyPress=function(t){this.handleSubmenuKeyDown(t)},e.handleSubmenuKeyDown=function(t){(sn.isEventKey(t,"Esc")||sn.isEventKey(t,"Tab"))&&(this.buttonPressed_&&this.unpressButton(),sn.isEventKey(t,"Tab")||(t.preventDefault(),this.menuButton_.focus()))},e.pressButton=function(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),ui&&w())return;this.menu.focus()}},e.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},e.disable=function(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()},e.enable=function(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()},i}(ge);ge.registerComponent("MenuButton",Qu);var cu=function(n){function i(e,t){var r,a=t.tracks;if((r=n.call(this,e,t)||this).items.length<=1&&r.hide(),!a)return Te(r);var f=he(Te(r),r.update);return a.addEventListener("removetrack",f),a.addEventListener("addtrack",f),r.player_.on("ready",f),r.player_.on("dispose",function(){a.removeEventListener("removetrack",f),a.removeEventListener("addtrack",f)}),r}return Yt(i,n),i}(Qu);ge.registerComponent("TrackButton",cu);var tl=["Tab","Esc","Up","Down","Right","Left"],Po=function(n){function i(t,r){var a;return(a=n.call(this,t,r)||this).selectable=r.selectable,a.isSelected_=r.selected||!1,a.multiSelectable=r.multiSelectable,a.selected(a.isSelected_),a.selectable?a.multiSelectable?a.el_.setAttribute("role","menuitemcheckbox"):a.el_.setAttribute("role","menuitemradio"):a.el_.setAttribute("role","menuitem"),a}Yt(i,n);var e=i.prototype;return e.createEl=function(t,r,a){return this.nonIconControl=!0,n.prototype.createEl.call(this,"li",c({className:"vjs-menu-item",innerHTML:'<span class="vjs-menu-item-text">'+this.localize(this.options_.label)+"</span>",tabIndex:-1},r),a)},e.handleKeyDown=function(t){tl.some(function(r){return sn.isEventKey(t,r)})||n.prototype.handleKeyDown.call(this,t)},e.handleClick=function(t){this.selected(!0)},e.selected=function(t){this.selectable&&(t?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))},i}(la);ge.registerComponent("MenuItem",Po);var lo=function(n){function i(t,r){var a,f=r.track,y=t.textTracks();r.label=f.label||f.language||"Unknown",r.selected=f.mode==="showing",(a=n.call(this,t,r)||this).track=f,a.kinds=(r.kinds||[r.kind||a.track.kind]).filter(Boolean);var E,D=function(){for(var q=arguments.length,Y=new Array(q),Q=0;Q<q;Q++)Y[Q]=arguments[Q];a.handleTracksChange.apply(Te(a),Y)},N=function(){for(var q=arguments.length,Y=new Array(q),Q=0;Q<q;Q++)Y[Q]=arguments[Q];a.handleSelectedLanguageChange.apply(Te(a),Y)};return t.on(["loadstart","texttrackchange"],D),y.addEventListener("change",D),y.addEventListener("selectedlanguagechange",N),a.on("dispose",function(){t.off(["loadstart","texttrackchange"],D),y.removeEventListener("change",D),y.removeEventListener("selectedlanguagechange",N)}),y.onchange===void 0&&a.on(["tap","click"],function(){if(typeof C.Event!="object")try{E=new C.Event("change")}catch(q){}E||(E=F.createEvent("Event")).initEvent("change",!0,!0),y.dispatchEvent(E)}),a.handleTracksChange(),a}Yt(i,n);var e=i.prototype;return e.handleClick=function(t){var r=this.track,a=this.player_.textTracks();if(n.prototype.handleClick.call(this,t),a)for(var f=0;f<a.length;f++){var y=a[f];this.kinds.indexOf(y.kind)!==-1&&(y===r?y.mode!=="showing"&&(y.mode="showing"):y.mode!=="disabled"&&(y.mode="disabled"))}},e.handleTracksChange=function(t){var r=this.track.mode==="showing";r!==this.isSelected_&&this.selected(r)},e.handleSelectedLanguageChange=function(t){if(this.track.mode==="showing"){var r=this.player_.cache_.selectedLanguage;if(r&&r.enabled&&r.language===this.track.language&&r.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}},e.dispose=function(){this.track=null,n.prototype.dispose.call(this)},i}(Po);ge.registerComponent("TextTrackMenuItem",lo);var qa=function(n){function i(t,r){return r.track={player:t,kind:r.kind,kinds:r.kinds,default:!1,mode:"disabled"},r.kinds||(r.kinds=[r.kind]),r.label?r.track.label=r.label:r.track.label=r.kinds.join(" and ")+" off",r.selectable=!0,r.multiSelectable=!1,n.call(this,t,r)||this}Yt(i,n);var e=i.prototype;return e.handleTracksChange=function(t){for(var r=this.player().textTracks(),a=!0,f=0,y=r.length;f<y;f++){var E=r[f];if(this.options_.kinds.indexOf(E.kind)>-1&&E.mode==="showing"){a=!1;break}}a!==this.isSelected_&&this.selected(a)},e.handleSelectedLanguageChange=function(t){for(var r=this.player().textTracks(),a=!0,f=0,y=r.length;f<y;f++){var E=r[f];if(["captions","descriptions","subtitles"].indexOf(E.kind)>-1&&E.mode==="showing"){a=!1;break}}a&&(this.player_.cache_.selectedLanguage={enabled:!1})},i}(lo);ge.registerComponent("OffTextTrackMenuItem",qa);var bs=function(n){function i(e,t){return t===void 0&&(t={}),t.tracks=e.textTracks(),n.call(this,e,t)||this}return Yt(i,n),i.prototype.createItems=function(e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=lo),this.label_&&(r=this.label_+" off"),e.push(new qa(this.player_,{kinds:this.kinds_,kind:this.kind_,label:r})),this.hideThreshold_+=1;var a=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(var f=0;f<a.length;f++){var y=a[f];if(this.kinds_.indexOf(y.kind)>-1){var E=new t(this.player_,{track:y,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});E.addClass("vjs-"+y.kind+"-menu-item"),e.push(E)}}return e},i}(cu);ge.registerComponent("TextTrackButton",bs);var $a=function(n){function i(t,r){var a,f=r.track,y=r.cue,E=t.currentTime();return r.selectable=!0,r.multiSelectable=!1,r.label=y.text,r.selected=y.startTime<=E&&E<y.endTime,(a=n.call(this,t,r)||this).track=f,a.cue=y,f.addEventListener("cuechange",he(Te(a),a.update)),a}Yt(i,n);var e=i.prototype;return e.handleClick=function(t){n.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},e.update=function(t){var r=this.cue,a=this.player_.currentTime();this.selected(r.startTime<=a&&a<r.endTime)},i}(Po);ge.registerComponent("ChaptersTrackMenuItem",$a);var el=function(n){function i(t,r,a){return n.call(this,t,r,a)||this}Yt(i,n);var e=i.prototype;return e.buildCSSClass=function(){return"vjs-chapters-button "+n.prototype.buildCSSClass.call(this)},e.buildWrapperCSSClass=function(){return"vjs-chapters-button "+n.prototype.buildWrapperCSSClass.call(this)},e.update=function(t){this.track_&&(!t||t.type!=="addtrack"&&t.type!=="removetrack")||this.setTrack(this.findChaptersTrack()),n.prototype.update.call(this)},e.setTrack=function(t){if(this.track_!==t){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var r=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);r&&r.removeEventListener("load",this.updateHandler_),this.track_=null}if(this.track_=t,this.track_){this.track_.mode="hidden";var a=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);a&&a.addEventListener("load",this.updateHandler_)}}},e.findChaptersTrack=function(){for(var t=this.player_.textTracks()||[],r=t.length-1;r>=0;r--){var a=t[r];if(a.kind===this.kind_)return a}},e.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize(yr(this.kind_))},e.createMenu=function(){return this.options_.title=this.getMenuCaption(),n.prototype.createMenu.call(this)},e.createItems=function(){var t=[];if(!this.track_)return t;var r=this.track_.cues;if(!r)return t;for(var a=0,f=r.length;a<f;a++){var y=r[a],E=new $a(this.player_,{track:this.track_,cue:y});t.push(E)}return t},i}(bs);el.prototype.kind_="chapters",el.prototype.controlText_="Chapters",ge.registerComponent("ChaptersButton",el);var nl=function(n){function i(t,r,a){var f;f=n.call(this,t,r,a)||this;var y=t.textTracks(),E=he(Te(f),f.handleTracksChange);return y.addEventListener("change",E),f.on("dispose",function(){y.removeEventListener("change",E)}),f}Yt(i,n);var e=i.prototype;return e.handleTracksChange=function(t){for(var r=this.player().textTracks(),a=!1,f=0,y=r.length;f<y;f++){var E=r[f];if(E.kind!==this.kind_&&E.mode==="showing"){a=!0;break}}a?this.disable():this.enable()},e.buildCSSClass=function(){return"vjs-descriptions-button "+n.prototype.buildCSSClass.call(this)},e.buildWrapperCSSClass=function(){return"vjs-descriptions-button "+n.prototype.buildWrapperCSSClass.call(this)},i}(bs);nl.prototype.kind_="descriptions",nl.prototype.controlText_="Descriptions",ge.registerComponent("DescriptionsButton",nl);var du=function(n){function i(t,r,a){return n.call(this,t,r,a)||this}Yt(i,n);var e=i.prototype;return e.buildCSSClass=function(){return"vjs-subtitles-button "+n.prototype.buildCSSClass.call(this)},e.buildWrapperCSSClass=function(){return"vjs-subtitles-button "+n.prototype.buildWrapperCSSClass.call(this)},i}(bs);du.prototype.kind_="subtitles",du.prototype.controlText_="Subtitles",ge.registerComponent("SubtitlesButton",du);var rl=function(n){function i(e,t){var r;return t.track={player:e,kind:t.kind,label:t.kind+" settings",selectable:!1,default:!1,mode:"disabled"},t.selectable=!1,t.name="CaptionSettingsMenuItem",(r=n.call(this,e,t)||this).addClass("vjs-texttrack-settings"),r.controlText(", opens "+t.kind+" settings dialog"),r}return Yt(i,n),i.prototype.handleClick=function(e){this.player().getChild("textTrackSettings").open()},i}(lo);ge.registerComponent("CaptionSettingsMenuItem",rl);var il=function(n){function i(t,r,a){return n.call(this,t,r,a)||this}Yt(i,n);var e=i.prototype;return e.buildCSSClass=function(){return"vjs-captions-button "+n.prototype.buildCSSClass.call(this)},e.buildWrapperCSSClass=function(){return"vjs-captions-button "+n.prototype.buildWrapperCSSClass.call(this)},e.createItems=function(){var t=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(t.push(new rl(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),n.prototype.createItems.call(this,t)},i}(bs);il.prototype.kind_="captions",il.prototype.controlText_="Captions",ge.registerComponent("CaptionsButton",il);var al=function(n){function i(){return n.apply(this,arguments)||this}return Yt(i,n),i.prototype.createEl=function(e,t,r){var a='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);return this.options_.track.kind==="captions"&&(a+=`
        <span aria-hidden="true" class="vjs-icon-placeholder"></span>
        <span class="vjs-control-text"> `+this.localize("Captions")+`</span>
      `),a+="</span>",n.prototype.createEl.call(this,e,c({innerHTML:a},t),r)},i}(lo);ge.registerComponent("SubsCapsMenuItem",al);var fu=function(n){function i(t,r){var a;return r===void 0&&(r={}),(a=n.call(this,t,r)||this).label_="subtitles",["en","en-us","en-ca","fr-ca"].indexOf(a.player_.language_)>-1&&(a.label_="captions"),a.menuButton_.controlText(yr(a.label_)),a}Yt(i,n);var e=i.prototype;return e.buildCSSClass=function(){return"vjs-subs-caps-button "+n.prototype.buildCSSClass.call(this)},e.buildWrapperCSSClass=function(){return"vjs-subs-caps-button "+n.prototype.buildWrapperCSSClass.call(this)},e.createItems=function(){var t=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(t.push(new rl(this.player_,{kind:this.label_})),this.hideThreshold_+=1),n.prototype.createItems.call(this,t,al)},i}(bs);fu.prototype.kinds_=["captions","subtitles"],fu.prototype.controlText_="Subtitles",ge.registerComponent("SubsCapsButton",fu);var Yr=function(n){function i(t,r){var a,f=r.track,y=t.audioTracks();r.label=f.label||f.language||"Unknown",r.selected=f.enabled,(a=n.call(this,t,r)||this).track=f,a.addClass("vjs-"+f.kind+"-menu-item");var E=function(){for(var D=arguments.length,N=new Array(D),q=0;q<D;q++)N[q]=arguments[q];a.handleTracksChange.apply(Te(a),N)};return y.addEventListener("change",E),a.on("dispose",function(){y.removeEventListener("change",E)}),a}Yt(i,n);var e=i.prototype;return e.createEl=function(t,r,a){var f='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);return this.options_.track.kind==="main-desc"&&(f+=`
        <span aria-hidden="true" class="vjs-icon-placeholder"></span>
        <span class="vjs-control-text"> `+this.localize("Descriptions")+`</span>
      `),f+="</span>",n.prototype.createEl.call(this,t,c({innerHTML:f},r),a)},e.handleClick=function(t){var r=this.player_.audioTracks();n.prototype.handleClick.call(this,t);for(var a=0;a<r.length;a++){var f=r[a];f.enabled=f===this.track}},e.handleTracksChange=function(t){this.selected(this.track.enabled)},i}(Po);ge.registerComponent("AudioTrackMenuItem",Yr);var da=function(n){function i(t,r){return r===void 0&&(r={}),r.tracks=t.audioTracks(),n.call(this,t,r)||this}Yt(i,n);var e=i.prototype;return e.buildCSSClass=function(){return"vjs-audio-button "+n.prototype.buildCSSClass.call(this)},e.buildWrapperCSSClass=function(){return"vjs-audio-button "+n.prototype.buildWrapperCSSClass.call(this)},e.createItems=function(t){t===void 0&&(t=[]),this.hideThreshold_=1;for(var r=this.player_.audioTracks(),a=0;a<r.length;a++){var f=r[a];t.push(new Yr(this.player_,{track:f,selectable:!0,multiSelectable:!1}))}return t},i}(cu);da.prototype.controlText_="Audio Track",ge.registerComponent("AudioTrackButton",da);var Ro=function(n){function i(t,r){var a,f=r.rate,y=parseFloat(f,10);return r.label=f,r.selected=y===1,r.selectable=!0,r.multiSelectable=!1,(a=n.call(this,t,r)||this).label=f,a.rate=y,a.on(t,"ratechange",a.update),a}Yt(i,n);var e=i.prototype;return e.handleClick=function(t){n.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},e.update=function(t){this.selected(this.player().playbackRate()===this.rate)},i}(Po);Ro.prototype.contentElType="button",ge.registerComponent("PlaybackRateMenuItem",Ro);var Io=function(n){function i(t,r){var a;return(a=n.call(this,t,r)||this).updateVisibility(),a.updateLabel(),a.on(t,"loadstart",a.updateVisibility),a.on(t,"ratechange",a.updateLabel),a}Yt(i,n);var e=i.prototype;return e.createEl=function(){var t=n.prototype.createEl.call(this);return this.labelEl_=T("div",{className:"vjs-playback-rate-value",innerHTML:"1x"}),t.appendChild(this.labelEl_),t},e.dispose=function(){this.labelEl_=null,n.prototype.dispose.call(this)},e.buildCSSClass=function(){return"vjs-playback-rate "+n.prototype.buildCSSClass.call(this)},e.buildWrapperCSSClass=function(){return"vjs-playback-rate "+n.prototype.buildWrapperCSSClass.call(this)},e.createMenu=function(){var t=new _s(this.player()),r=this.playbackRates();if(r)for(var a=r.length-1;a>=0;a--)t.addChild(new Ro(this.player(),{rate:r[a]+"x"}));return t},e.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},e.handleClick=function(t){for(var r=this.player().playbackRate(),a=this.playbackRates(),f=a[0],y=0;y<a.length;y++)if(a[y]>r){f=a[y];break}this.player().playbackRate(f)},e.playbackRates=function(){return this.options_.playbackRates||this.options_.playerOptions&&this.options_.playerOptions.playbackRates},e.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},e.updateVisibility=function(t){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},e.updateLabel=function(t){this.playbackRateSupported()&&(this.labelEl_.innerHTML=this.player().playbackRate()+"x")},i}(Qu);Io.prototype.controlText_="Playback Rate",ge.registerComponent("PlaybackRateMenuButton",Io);var ol=function(n){function i(){return n.apply(this,arguments)||this}Yt(i,n);var e=i.prototype;return e.buildCSSClass=function(){return"vjs-spacer "+n.prototype.buildCSSClass.call(this)},e.createEl=function(){return n.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},i}(ge);ge.registerComponent("Spacer",ol);var Kl=function(n){function i(){return n.apply(this,arguments)||this}Yt(i,n);var e=i.prototype;return e.buildCSSClass=function(){return"vjs-custom-control-spacer "+n.prototype.buildCSSClass.call(this)},e.createEl=function(){var t=n.prototype.createEl.call(this,{className:this.buildCSSClass()});return t.innerHTML="\xA0",t},i}(ol);ge.registerComponent("CustomControlSpacer",Kl);var Ts=function(n){function i(){return n.apply(this,arguments)||this}return Yt(i,n),i.prototype.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"})},i}(ge);Ts.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]},"exitPictureInPicture"in F&&Ts.prototype.options_.children.splice(Ts.prototype.options_.children.length-1,0,"pictureInPictureToggle"),ge.registerComponent("ControlBar",Ts);var co=function(n){function i(t,r){var a;return(a=n.call(this,t,r)||this).on(t,"error",a.open),a}Yt(i,n);var e=i.prototype;return e.buildCSSClass=function(){return"vjs-error-display "+n.prototype.buildCSSClass.call(this)},e.content=function(){var t=this.player().error();return t?this.localize(t.message):""},i}(Za);co.prototype.options_=ue(Za.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),ge.registerComponent("ErrorDisplay",co);var Ss=["#000","Black"],Xl=["#00F","Blue"],Yl=["#0FF","Cyan"],hu=["#0F0","Green"],sl=["#F0F","Magenta"],pu=["#F00","Red"],mu=["#FFF","White"],ws=["#FF0","Yellow"],ks=["1","Opaque"],fo=["0.5","Semi-Transparent"],vu=["0","Transparent"],fa={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[Ss,mu,pu,hu,Xl,ws,sl,Yl]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[ks,fo,vu]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[mu,Ss,pu,hu,Xl,ws,sl,Yl]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(n){return n==="1.00"?null:Number(n)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[ks,fo]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[vu,fo,ks]}};fa.windowColor.options=fa.backgroundColor.options;var Jl=function(n){function i(t,r){var a;return r.temporary=!1,(a=n.call(this,t,r)||this).updateDisplay=he(Te(a),a.updateDisplay),a.fill(),a.hasBeenOpened_=a.hasBeenFilled_=!0,a.endDialog=T("p",{className:"vjs-control-text",textContent:a.localize("End of dialog window.")}),a.el().appendChild(a.endDialog),a.setDefaults(),r.persistTextTrackSettings===void 0&&(a.options_.persistTextTrackSettings=a.options_.playerOptions.persistTextTrackSettings),a.on(a.$(".vjs-done-button"),"click",function(){a.saveSettings(),a.close()}),a.on(a.$(".vjs-default-button"),"click",function(){a.setDefaults(),a.updateDisplay()}),o(fa,function(f){a.on(a.$(f.selector),"change",a.updateDisplay)}),a.options_.persistTextTrackSettings&&a.restoreSettings(),a}Yt(i,n);var e=i.prototype;return e.dispose=function(){this.endDialog=null,n.prototype.dispose.call(this)},e.createElSelect_=function(t,r,a){var f=this;r===void 0&&(r=""),a===void 0&&(a="label");var y=fa[t],E=y.id.replace("%s",this.id_),D=[r,E].join(" ").trim();return["<"+a+' id="'+E+'" class="'+(a==="label"?"vjs-label":"")+'">',this.localize(y.label),"</"+a+">",'<select aria-labelledby="'+D+'">'].concat(y.options.map(function(N){var q=E+"-"+N[1].replace(/\W+/g,"");return['<option id="'+q+'" value="'+N[0]+'" ','aria-labelledby="'+D+" "+q+'">',f.localize(N[1]),"</option>"].join("")})).concat("</select>").join("")},e.createElFgColor_=function(){var t="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",t),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",t),"</span>","</fieldset>"].join("")},e.createElBgColor_=function(){var t="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",t),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",t),"</span>","</fieldset>"].join("")},e.createElWinColor_=function(){var t="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Window"),"</legend>",this.createElSelect_("windowColor",t),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",t),"</span>","</fieldset>"].join("")},e.createElColors_=function(){return T("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})},e.createElFont_=function(){return T("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})},e.createElControls_=function(){var t=this.localize("restore all settings to the default values");return T("div",{className:"vjs-track-settings-controls",innerHTML:['<button type="button" class="vjs-default-button" title="'+t+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+t+"</span>","</button>",'<button type="button" class="vjs-done-button">'+this.localize("Done")+"</button>"].join("")})},e.content=function(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},e.label=function(){return this.localize("Caption Settings Dialog")},e.description=function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},e.buildCSSClass=function(){return n.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},e.getValues=function(){var t=this;return function(r,a,f){return f===void 0&&(f=0),nr(r).reduce(function(y,E){return a(y,r[E],E)},f)}(fa,function(r,a,f){var y=function(E,D){return Ni(E.options[E.options.selectedIndex].value,D)}(t.$(a.selector),a.parser);return y!==void 0&&(r[f]=y),r},{})},e.setValues=function(t){var r=this;o(fa,function(a,f){(function(y,E,D){if(E){for(var N=0;N<y.options.length;N++)if(Ni(y.options[N].value,D)===E){y.selectedIndex=N;break}}})(r.$(a.selector),t[f],a.parser)})},e.setDefaults=function(){var t=this;o(fa,function(r){var a=r.hasOwnProperty("default")?r.default:0;t.$(r.selector).selectedIndex=a})},e.restoreSettings=function(){var t;try{t=JSON.parse(C.localStorage.getItem("vjs-text-track-settings"))}catch(r){re.warn(r)}t&&this.setValues(t)},e.saveSettings=function(){if(this.options_.persistTextTrackSettings){var t=this.getValues();try{Object.keys(t).length?C.localStorage.setItem("vjs-text-track-settings",JSON.stringify(t)):C.localStorage.removeItem("vjs-text-track-settings")}catch(r){re.warn(r)}}},e.updateDisplay=function(){var t=this.player_.getChild("textTrackDisplay");t&&t.updateDisplay()},e.conditionalBlur_=function(){this.previouslyActiveEl_=null;var t=this.player_.controlBar,r=t&&t.subsCapsButton,a=t&&t.captionsButton;r?r.focus():a&&a.focus()},i}(Za);ge.registerComponent("TextTrackSettings",Jl);var Zl=function(n){function i(t,r){var a,f=r.ResizeObserver||C.ResizeObserver;r.ResizeObserver===null&&(f=!1);var y=ue({createEl:!f,reportTouchActivity:!1},r);return(a=n.call(this,t,y)||this).ResizeObserver=r.ResizeObserver||C.ResizeObserver,a.loadListener_=null,a.resizeObserver_=null,a.debouncedHandler_=function(E,D,N,q){q===void 0&&(q=C);var Y,Q=function(){var dt=this,lt=arguments,At=function(){Y=null,At=null,N||E.apply(dt,lt)};!Y&&N&&E.apply(dt,lt),q.clearTimeout(Y),Y=q.setTimeout(At,D)};return Q.cancel=function(){q.clearTimeout(Y),Y=null},Q}(function(){a.resizeHandler()},100,!1,Te(a)),f?(a.resizeObserver_=new a.ResizeObserver(a.debouncedHandler_),a.resizeObserver_.observe(t.el())):(a.loadListener_=function(){if(a.el_&&a.el_.contentWindow){var E=a.debouncedHandler_,D=a.unloadListener_=function(){ft(this,"resize",E),ft(this,"unload",D),D=null};mt(a.el_.contentWindow,"unload",D),mt(a.el_.contentWindow,"resize",E)}},a.one("load",a.loadListener_)),a}Yt(i,n);var e=i.prototype;return e.createEl=function(){return n.prototype.createEl.call(this,"iframe",{className:"vjs-resize-manager",tabIndex:-1},{"aria-hidden":"true"})},e.resizeHandler=function(){this.player_&&this.player_.trigger&&this.player_.trigger("playerresize")},e.dispose=function(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,n.prototype.dispose.call(this)},i}(ge);ge.registerComponent("ResizeManager",Zl);var Ea=function(n){function i(t,r){var a,f=ue({createEl:!1},r);return(a=n.call(this,t,f)||this).reset_(),a.on(a.player_,"durationchange",a.handleDurationchange),_a&&"hidden"in F&&"visibilityState"in F&&a.on(F,"visibilitychange",a.handleVisibilityChange),a}Yt(i,n);var e=i.prototype;return e.handleVisibilityChange=function(){this.player_.duration()===1/0&&(F.hidden?this.stopTracking():this.startTracking())},e.isBehind_=function(){if(!this.timeupdateSeen_)return!1;var t=this.liveCurrentTime(),r=this.player_.currentTime(),a=this.seekableIncrement_;return t!==1/0&&t-(2*a+.07)>=r},e.trackLive_=function(){this.pastSeekEnd_=this.pastSeekEnd_;var t=this.player_.seekable();if(t&&t.length){var r=this.seekableEnd();r!==this.lastSeekEnd_&&(this.lastSeekEnd_&&(this.seekableIncrement_=Math.abs(r-this.lastSeekEnd_)),this.pastSeekEnd_=0,this.lastSeekEnd_=r,this.trigger("seekableendchange")),this.pastSeekEnd_=this.pastSeekEnd()+.03,this.isBehind_()!==this.behindLiveEdge()&&(this.behindLiveEdge_=this.isBehind_(),this.trigger("liveedgechange"))}},e.handleDurationchange=function(){this.player_.duration()===1/0?this.startTracking():this.stopTracking()},e.startTracking=function(){var t=this;this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLive_,30),this.trackLive_(),this.on(this.player_,"play",this.trackLive_),this.on(this.player_,"pause",this.trackLive_),this.timeupdateSeen_||(this.one(this.player_,"play",this.handlePlay),this.handleTimeupdate=function(){t.timeupdateSeen_=!0,t.handleTimeupdate=null},this.one(this.player_,"timeupdate",this.handleTimeupdate)))},e.handlePlay=function(){this.one(this.player_,"timeupdate",this.seekToLiveEdge)},e.reset_=function(){this.pastSeekEnd_=0,this.lastSeekEnd_=null,this.behindLiveEdge_=null,this.timeupdateSeen_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.seekableIncrement_=12,this.off(this.player_,"play",this.trackLive_),this.off(this.player_,"pause",this.trackLive_),this.off(this.player_,"play",this.handlePlay),this.off(this.player_,"timeupdate",this.seekToLiveEdge),this.handleTimeupdate&&(this.off(this.player_,"timeupdate",this.handleTimeupdate),this.handleTimeupdate=null)},e.stopTracking=function(){this.isTracking()&&this.reset_()},e.seekableEnd=function(){for(var t=this.player_.seekable(),r=[],a=t?t.length:0;a--;)r.push(t.end(a));return r.length?r.sort()[r.length-1]:1/0},e.seekableStart=function(){for(var t=this.player_.seekable(),r=[],a=t?t.length:0;a--;)r.push(t.start(a));return r.length?r.sort()[0]:0},e.liveWindow=function(){var t=this.liveCurrentTime();return t===1/0?1/0:t-this.seekableStart()},e.isLive=function(){return this.isTracking()},e.atLiveEdge=function(){return!this.behindLiveEdge()},e.liveCurrentTime=function(){return this.pastSeekEnd()+this.seekableEnd()},e.pastSeekEnd=function(){return this.pastSeekEnd_},e.behindLiveEdge=function(){return this.behindLiveEdge_},e.isTracking=function(){return typeof this.trackingInterval_=="number"},e.seekToLiveEdge=function(){this.atLiveEdge()||(this.player_.currentTime(this.liveCurrentTime()),this.player_.paused()&&this.player_.play())},e.dispose=function(){this.stopTracking(),n.prototype.dispose.call(this)},i}(ge);ge.registerComponent("LiveTracker",Ea);var Es=function(n){var i=n.el();if(i.hasAttribute("src"))return n.triggerSourceset(i.src),!0;var e=n.$$("source"),t=[],r="";if(!e.length)return!1;for(var a=0;a<e.length;a++){var f=e[a].src;f&&t.indexOf(f)===-1&&t.push(f)}return!!t.length&&(t.length===1&&(r=t[0]),n.triggerSourceset(r),!0)},Rc=Object.defineProperty({},"innerHTML",{get:function(){return this.cloneNode(!0).innerHTML},set:function(n){var i=F.createElement(this.nodeName.toLowerCase());i.innerHTML=n;for(var e=F.createDocumentFragment();i.childNodes.length;)e.appendChild(i.childNodes[0]);return this.innerText="",C.Element.prototype.appendChild.call(this,e),this.innerHTML}}),Ql=function(n,i){for(var e={},t=0;t<n.length&&!((e=Object.getOwnPropertyDescriptor(n[t],i))&&e.set&&e.get);t++);return e.enumerable=!0,e.configurable=!0,e},Ic=function(n){return Ql([n.el(),C.HTMLMediaElement.prototype,C.Element.prototype,Rc],"innerHTML")},Pi=function(n){var i=n.el();if(!i.resetSourceWatch_){var e={},t=Ic(n),r=function(a){return function(){for(var f=arguments.length,y=new Array(f),E=0;E<f;E++)y[E]=arguments[E];var D=a.apply(i,y);return Es(n),D}};["append","appendChild","insertAdjacentHTML"].forEach(function(a){i[a]&&(e[a]=i[a],i[a]=r(e[a]))}),Object.defineProperty(i,"innerHTML",ue(t,{set:r(t.set)})),i.resetSourceWatch_=function(){i.resetSourceWatch_=null,Object.keys(e).forEach(function(a){i[a]=e[a]}),Object.defineProperty(i,"innerHTML",t)},n.one("sourceset",i.resetSourceWatch_)}},tc=Object.defineProperty({},"src",{get:function(){return this.hasAttribute("src")?Ue(C.Element.prototype.getAttribute.call(this,"src")):""},set:function(n){return C.Element.prototype.setAttribute.call(this,"src",n),n}}),ul=function(n){return Ql([n.el(),C.HTMLMediaElement.prototype,tc],"src")},Ce=function(n){function i(t,r){var a;a=n.call(this,t,r)||this;var f=t.source,y=!1;if(f&&(a.el_.currentSrc!==f.src||t.tag&&t.tag.initNetworkState_===3)?a.setSource(f):a.handleLateInit_(a.el_),t.enableSourceset&&a.setupSourcesetHandling_(),a.el_.hasChildNodes()){for(var E=a.el_.childNodes,D=E.length,N=[];D--;){var q=E[D];q.nodeName.toLowerCase()==="track"&&(a.featuresNativeTextTracks?(a.remoteTextTrackEls().addTrackElement_(q),a.remoteTextTracks().addTrack(q.track),a.textTracks().addTrack(q.track),y||a.el_.hasAttribute("crossorigin")||!lr(q.src)||(y=!0)):N.push(q))}for(var Y=0;Y<N.length;Y++)a.el_.removeChild(N[Y])}return a.proxyNativeTracks_(),a.featuresNativeTextTracks&&y&&re.warn(`Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.
This may prevent text tracks from loading.`),a.restoreMetadataTracksInIOSNativePlayer_(),(So||Pu||Xo)&&t.nativeControlsForTouch===!0&&a.setControls(!0),a.proxyWebkitFullscreen_(),a.triggerReady(),a}Yt(i,n);var e=i.prototype;return e.dispose=function(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),i.disposeMediaElement(this.el_),this.options_=null,n.prototype.dispose.call(this)},e.setupSourcesetHandling_=function(){(function(t){if(t.featuresSourceset){var r=t.el();if(!r.resetSourceset_){var a=ul(t),f=r.setAttribute,y=r.load;Object.defineProperty(r,"src",ue(a,{set:function(E){var D=a.set.call(r,E);return t.triggerSourceset(r.src),D}})),r.setAttribute=function(E,D){var N=f.call(r,E,D);return/src/i.test(E)&&t.triggerSourceset(r.src),N},r.load=function(){var E=y.call(r);return Es(t)||(t.triggerSourceset(""),Pi(t)),E},r.currentSrc?t.triggerSourceset(r.currentSrc):Es(t)||Pi(t),r.resetSourceset_=function(){r.resetSourceset_=null,r.load=y,r.setAttribute=f,Object.defineProperty(r,"src",a),r.resetSourceWatch_&&r.resetSourceWatch_()}}}})(this)},e.restoreMetadataTracksInIOSNativePlayer_=function(){var t,r=this.textTracks(),a=function(){t=[];for(var y=0;y<r.length;y++){var E=r[y];E.kind==="metadata"&&t.push({track:E,storedMode:E.mode})}};a(),r.addEventListener("change",a),this.on("dispose",function(){return r.removeEventListener("change",a)});var f=function y(){for(var E=0;E<t.length;E++){var D=t[E];D.track.mode==="disabled"&&D.track.mode!==D.storedMode&&(D.track.mode=D.storedMode)}r.removeEventListener("change",y)};this.on("webkitbeginfullscreen",function(){r.removeEventListener("change",a),r.removeEventListener("change",f),r.addEventListener("change",f)}),this.on("webkitendfullscreen",function(){r.removeEventListener("change",a),r.addEventListener("change",a),r.removeEventListener("change",f)})},e.overrideNative_=function(t,r){var a=this;if(r===this["featuresNative"+t+"Tracks"]){var f=t.toLowerCase();this[f+"TracksListeners_"]&&Object.keys(this[f+"TracksListeners_"]).forEach(function(y){a.el()[f+"Tracks"].removeEventListener(y,a[f+"TracksListeners_"][y])}),this["featuresNative"+t+"Tracks"]=!r,this[f+"TracksListeners_"]=null,this.proxyNativeTracksForType_(f)}},e.overrideNativeAudioTracks=function(t){this.overrideNative_("Audio",t)},e.overrideNativeVideoTracks=function(t){this.overrideNative_("Video",t)},e.proxyNativeTracksForType_=function(t){var r=this,a=pr[t],f=this.el()[a.getterName],y=this[a.getterName]();if(this["featuresNative"+a.capitalName+"Tracks"]&&f&&f.addEventListener){var E={change:function(N){y.trigger({type:"change",target:y,currentTarget:y,srcElement:y})},addtrack:function(N){y.addTrack(N.track)},removetrack:function(N){y.removeTrack(N.track)}},D=function(){for(var N=[],q=0;q<y.length;q++){for(var Y=!1,Q=0;Q<f.length;Q++)if(f[Q]===y[q]){Y=!0;break}Y||N.push(y[q])}for(;N.length;)y.removeTrack(N.shift())};this[a.getterName+"Listeners_"]=E,Object.keys(E).forEach(function(N){var q=E[N];f.addEventListener(N,q),r.on("dispose",function(Y){return f.removeEventListener(N,q)})}),this.on("loadstart",D),this.on("dispose",function(N){return r.off("loadstart",D)})}},e.proxyNativeTracks_=function(){var t=this;pr.names.forEach(function(r){t.proxyNativeTracksForType_(r)})},e.createEl=function(){var t=this.options_.tag;if(!t||!this.options_.playerElIngest&&!this.movingMediaElementInDOM){if(t){var r=t.cloneNode(!0);t.parentNode&&t.parentNode.insertBefore(r,t),i.disposeMediaElement(t),t=r}else{t=F.createElement("video");var a=ue({},this.options_.tag&&H(this.options_.tag));So&&this.options_.nativeControlsForTouch===!0||delete a.controls,V(t,c(a,{id:this.options_.techId,class:"vjs-tech"}))}t.playerId=this.options_.playerId}this.options_.preload!==void 0&&K(t,"preload",this.options_.preload);for(var f=["loop","muted","playsinline","autoplay","stretch","fluent"],y=0;y<f.length;y++){var E=f[y],D=this.options_[E];D!==void 0&&(D?K(t,E,E):et(t,E),t[E]=D)}return t},e.handleLateInit_=function(t){if(t.networkState!==0&&t.networkState!==3){if(t.readyState===0){var r=!1,a=function(){r=!0};this.on("loadstart",a);var f=function(){r||this.trigger("loadstart")};return this.on("loadedmetadata",f),void this.ready(function(){this.off("loadstart",a),this.off("loadedmetadata",f),r||this.trigger("loadstart")})}var y=["loadstart"];y.push("loadedmetadata"),t.readyState>=2&&y.push("loadeddata"),t.readyState>=3&&y.push("canplay"),t.readyState>=4&&y.push("canplaythrough"),this.ready(function(){y.forEach(function(E){this.trigger(E)},this)})}},e.setCurrentTime=function(t){try{this.el_.currentTime=t}catch(r){re(r,"Video is not ready. (Video.js)")}},e.duration=function(){var t=this;return this.el_.duration===1/0&&Kn&&Da&&this.el_.currentTime===0?(this.on("timeupdate",function r(){t.el_.currentTime>0&&(t.el_.duration===1/0&&t.trigger("durationchange"),t.off("timeupdate",r))}),NaN):this.el_.duration||NaN},e.width=function(){return this.el_.offsetWidth},e.height=function(){return this.el_.offsetHeight},e.proxyWebkitFullscreen_=function(){var t=this;if("webkitDisplayingFullscreen"in this.el_){var r=function(){this.trigger("fullscreenchange",{isFullscreen:!1})},a=function(){"webkitPresentationMode"in this.el_&&this.el_.webkitPresentationMode!=="picture-in-picture"&&(this.one("webkitendfullscreen",r),this.trigger("fullscreenchange",{isFullscreen:!0}))};this.on("webkitbeginfullscreen",a),this.on("dispose",function(){t.off("webkitbeginfullscreen",a),t.off("webkitendfullscreen",r)})}},e.supportsFullScreen=function(){if(typeof this.el_.webkitEnterFullScreen=="function"){var t=C.navigator&&C.navigator.userAgent||"";if(/Android/.test(t)||!/Chrome|Mac OS X 10.5/.test(t))return!0}return!1},e.enterFullScreen=function(){var t=this.el_;t.paused&&t.networkState<=t.HAVE_METADATA?(this.el_.play(),this.setTimeout(function(){t.pause(),t.webkitEnterFullScreen()},0)):t.webkitEnterFullScreen()},e.exitFullScreen=function(){this.el_.webkitExitFullScreen()},e.requestPictureInPicture=function(){return this.el_.requestPictureInPicture()},e.src=function(t){if(t===void 0)return this.el_.src;this.setSrc(t)},e.reset=function(){i.resetMediaElement(this.el_)},e.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},e.setControls=function(t){this.el_.controls=!!t},e.addTextTrack=function(t,r,a){return this.featuresNativeTextTracks?this.el_.addTextTrack(t,r,a):n.prototype.addTextTrack.call(this,t,r,a)},e.createRemoteTextTrack=function(t){if(!this.featuresNativeTextTracks)return n.prototype.createRemoteTextTrack.call(this,t);var r=F.createElement("track");return t.kind&&(r.kind=t.kind),t.label&&(r.label=t.label),(t.language||t.srclang)&&(r.srclang=t.language||t.srclang),t.default&&(r.default=t.default),t.id&&(r.id=t.id),t.src&&(r.src=t.src),r},e.addRemoteTextTrack=function(t,r){var a=n.prototype.addRemoteTextTrack.call(this,t,r);return this.featuresNativeTextTracks&&this.el().appendChild(a),a},e.removeRemoteTextTrack=function(t){if(n.prototype.removeRemoteTextTrack.call(this,t),this.featuresNativeTextTracks)for(var r=this.$$("track"),a=r.length;a--;)t!==r[a]&&t!==r[a].track||this.el().removeChild(r[a])},e.getVideoPlaybackQuality=function(){if(typeof this.el().getVideoPlaybackQuality=="function")return this.el().getVideoPlaybackQuality();var t={};return this.el().webkitDroppedFrameCount!==void 0&&this.el().webkitDecodedFrameCount!==void 0&&(t.droppedVideoFrames=this.el().webkitDroppedFrameCount,t.totalVideoFrames=this.el().webkitDecodedFrameCount),C.performance&&typeof C.performance.now=="function"?t.creationTime=C.performance.now():C.performance&&C.performance.timing&&typeof C.performance.timing.navigationStart=="number"&&(t.creationTime=C.Date.now()-C.performance.timing.navigationStart),t},i}(On);if(d()){Ce.TEST_VID=F.createElement("video");var Ka=F.createElement("track");Ka.kind="captions",Ka.srclang="en",Ka.label="English",Ce.TEST_VID.appendChild(Ka)}Ce.isSupported=function(){try{Ce.TEST_VID.volume=.5}catch(n){return!1}return!(!Ce.TEST_VID||!Ce.TEST_VID.canPlayType)},Ce.canPlayType=function(n){return Ce.TEST_VID.canPlayType(n)},Ce.canPlaySource=function(n,i){return Ce.canPlayType(n.type)},Ce.canControlVolume=function(){try{var n=Ce.TEST_VID.volume;return Ce.TEST_VID.volume=n/2+.1,n!==Ce.TEST_VID.volume}catch(i){return!1}},Ce.canMuteVolume=function(){try{var n=Ce.TEST_VID.muted;return Ce.TEST_VID.muted=!n,Ce.TEST_VID.muted?K(Ce.TEST_VID,"muted","muted"):et(Ce.TEST_VID,"muted"),n!==Ce.TEST_VID.muted}catch(i){return!1}},Ce.canControlPlaybackRate=function(){if(Kn&&Da&&Jo<58)return!1;try{var n=Ce.TEST_VID.playbackRate;return Ce.TEST_VID.playbackRate=n/2+.1,n!==Ce.TEST_VID.playbackRate}catch(i){return!1}},Ce.canOverrideAttributes=function(){try{var n=function(){};Object.defineProperty(F.createElement("video"),"src",{get:n,set:n}),Object.defineProperty(F.createElement("audio"),"src",{get:n,set:n}),Object.defineProperty(F.createElement("video"),"innerHTML",{get:n,set:n}),Object.defineProperty(F.createElement("audio"),"innerHTML",{get:n,set:n})}catch(i){return!1}return!0},Ce.supportsNativeTextTracks=function(){return Bs||ui&&Da},Ce.supportsNativeVideoTracks=function(){return!(!Ce.TEST_VID||!Ce.TEST_VID.videoTracks)},Ce.supportsNativeAudioTracks=function(){return!(!Ce.TEST_VID||!Ce.TEST_VID.audioTracks)},Ce.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"],Ce.prototype.featuresVolumeControl=Ce.canControlVolume(),Ce.prototype.featuresMuteControl=Ce.canMuteVolume(),Ce.prototype.featuresPlaybackRate=Ce.canControlPlaybackRate(),Ce.prototype.featuresSourceset=Ce.canOverrideAttributes(),Ce.prototype.movingMediaElementInDOM=!ui,Ce.prototype.featuresFullscreenResize=!0,Ce.prototype.featuresProgressEvents=!0,Ce.prototype.featuresTimeupdateEvents=!0,Ce.prototype.featuresNativeTextTracks=Ce.supportsNativeTextTracks(),Ce.prototype.featuresNativeVideoTracks=Ce.supportsNativeVideoTracks(),Ce.prototype.featuresNativeAudioTracks=Ce.supportsNativeAudioTracks();var Do=Ce.TEST_VID&&Ce.TEST_VID.constructor.prototype.canPlayType,un=/^application\/(?:x-|vnd\.apple\.)mpegurl/i;Ce.patchCanPlayType=function(){ra>=4&&!Ol&&!Da&&(Ce.TEST_VID.constructor.prototype.canPlayType=function(n){return n&&un.test(n)?"maybe":Do.call(this,n)})},Ce.unpatchCanPlayType=function(){var n=Ce.TEST_VID.constructor.prototype.canPlayType;return Ce.TEST_VID.constructor.prototype.canPlayType=Do,n},Ce.patchCanPlayType(),Ce.disposeMediaElement=function(n){if(n){for(n.parentNode&&n.parentNode.removeChild(n);n.hasChildNodes();)n.removeChild(n.firstChild);n.removeAttribute("src"),typeof n.load=="function"&&function(){try{n.load()}catch(i){}}()}},Ce.resetMediaElement=function(n){if(n){for(var i=n.querySelectorAll("source"),e=i.length;e--;)n.removeChild(i[e]);n.removeAttribute("src"),typeof n.load=="function"&&function(){try{n.load()}catch(t){}}()}},["muted","defaultMuted","autoplay","stretch","fluent","controls","loop","playsinline"].forEach(function(n){Ce.prototype[n]=function(){return this.el_[n]||this.el_.hasAttribute(n)}}),["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(n){Ce.prototype["set"+yr(n)]=function(i){this.el_[n]=i,i?this.el_.setAttribute(n,n):this.el_.removeAttribute(n)}}),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","played","networkState","readyState","videoWidth","videoHeight"].forEach(function(n){Ce.prototype[n]=function(){return this.el_[n]}}),["volume","src","poster","preload","playbackRate","defaultPlaybackRate"].forEach(function(n){Ce.prototype["set"+yr(n)]=function(i){this.el_[n]=i}}),["pause","load","play"].forEach(function(n){Ce.prototype[n]=function(){return this.el_[n]()}}),On.withSourceHandlers(Ce),Ce.nativeSourceHandler={},Ce.nativeSourceHandler.canPlayType=function(n){try{return Ce.TEST_VID.canPlayType(n)}catch(i){return""}},Ce.nativeSourceHandler.canHandleSource=function(n,i){if(n.type)return Ce.nativeSourceHandler.canPlayType(n.type);if(n.src){var e=Bn(n.src);return Ce.nativeSourceHandler.canPlayType("video/"+e)}return""},Ce.nativeSourceHandler.handleSource=function(n,i,e){i.setSrc(n.src)},Ce.nativeSourceHandler.dispose=function(){},Ce.registerSourceHandler(Ce.nativeSourceHandler),On.registerTech("Html5",Ce);var gu=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],ho={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},ha=["tiny","xsmall","small","medium","large","xlarge","huge"],Xa={};ha.forEach(function(n){var i=n.charAt(0)==="x"?"x-"+n.substring(1):n;Xa[n]="vjs-layout-"+i});var ec={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0},Dn=function(n){function i(t,r,a){var f;if(t.id=t.id||r.id||"vjs_video_"+ut(),(r=c(i.getTagSettings(t),r)).initChildren=!1,r.createEl=!1,r.evented=!1,r.reportTouchActivity=!1,!r.language)if(typeof t.closest=="function"){var y=t.closest("[lang]");y&&y.getAttribute&&(r.language=y.getAttribute("lang"))}else for(var E=t;E&&E.nodeType===1;){if(H(E).hasOwnProperty("lang")){r.language=E.getAttribute("lang");break}E=E.parentNode}if((f=n.call(this,null,r,a)||this).boundDocumentFullscreenChange_=he(Te(f),f.documentFullscreenChange_),f.boundFullWindowOnEscKey_=he(Te(f),f.fullWindowOnEscKey),f.log=Le(f.id_),f.fsApi_=Ns,f.isPosterFromTech_=!1,f.queuedCallbacks_=[],f.isReady_=!1,f.hasStarted_=!1,f.userActive_=!1,!f.options_||!f.options_.techOrder||!f.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(f.tag=t,f.tagAttributes=t&&H(t),f.language(f.options_.language),r.languages){var D={};Object.getOwnPropertyNames(r.languages).forEach(function(Y){D[Y.toLowerCase()]=r.languages[Y]}),f.languages_=D}else f.languages_=i.prototype.options_.languages;f.resetCache_(),f.poster_=r.poster||"",f.controls_=!!r.controls,t.controls=!1,t.removeAttribute("controls"),f.changingSrc_=!1,f.playCallbacks_=[],f.playTerminatedQueue_=[],t.hasAttribute("autoplay")?f.autoplay(!0):f.autoplay(f.options_.autoplay),r.plugins&&Object.keys(r.plugins).forEach(function(Y){if(typeof f[Y]!="function")throw new Error('plugin "'+Y+'" does not exist')}),f.scrubbing_=!1,f.el_=f.createEl(),oe(Te(f),{eventBusKey:"el_"}),f.fluid_&&f.on("playerreset",f.updateStyleEl_);var N=ue(f.options_);r.plugins&&Object.keys(r.plugins).forEach(function(Y){f[Y](r.plugins[Y])}),f.options_.playerOptions=N,f.middleware_=[],f.initChildren(),f.isAudio(t.nodeName.toLowerCase()==="audio"),f.controls()?f.addClass("vjs-controls-enabled"):f.addClass("vjs-controls-disabled"),f.el_.setAttribute("role","region"),f.isAudio()?f.el_.setAttribute("aria-label",f.localize("Audio Player")):f.el_.setAttribute("aria-label",f.localize("Video Player")),f.isAudio()&&f.addClass("vjs-audio"),f.flexNotSupported_()&&f.addClass("vjs-no-flex"),So&&f.addClass("vjs-touch-enabled"),ui||f.addClass("vjs-workinghover"),i.players[f.id_]=Te(f);var q=Hi.split(".")[0];return f.addClass("vjs-v"+q),f.userActive(!0),f.reportUserActivity(),f.one("play",f.listenForUserActivity_),f.on("stageclick",f.handleStageClick_),f.on("keydown",f.handleKeyDown),f.breakpoints(f.options_.breakpoints),f.responsive(f.options_.responsive),f}Yt(i,n);var e=i.prototype;return e.dispose=function(){var t=this;this.trigger("dispose"),this.off("dispose"),ft(F,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),ft(F,"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),i.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),function(r){so[r.id()]=null}(this),Hr.names.forEach(function(r){var a=Hr[r],f=t[a.getterName]();f&&f.off&&f.off()}),n.prototype.dispose.call(this)},e.createEl=function(){var t,r=this.tag,a=this.playerElIngest_=r.parentNode&&r.parentNode.hasAttribute&&r.parentNode.hasAttribute("data-vjs-player"),f=this.tag.tagName.toLowerCase()==="video-js";a?t=this.el_=r.parentNode:f||(t=this.el_=n.prototype.createEl.call(this,"div"));var y=H(r);if(f){for(t=this.el_=r,r=this.tag=F.createElement("video");t.children.length;)r.appendChild(t.firstChild);_(t,"video-js")||k(t,"video-js"),t.appendChild(r),a=this.playerElIngest_=t,Object.keys(t).forEach(function(Q){r[Q]=t[Q]})}if(r.setAttribute("tabindex","-1"),y.tabindex="-1",(_a||Da&&Zo)&&(r.setAttribute("role","application"),y.role="application"),r.removeAttribute("width"),r.removeAttribute("height"),"width"in y&&delete y.width,"height"in y&&delete y.height,Object.getOwnPropertyNames(y).forEach(function(Q){f&&Q==="class"||t.setAttribute(Q,y[Q]),f&&r.setAttribute(Q,y[Q])}),r.playerId=r.id,r.id+="_html5_api",r.className="vjs-tech",r.player=t.player=this,this.addClass("vjs-paused"),C.VIDEOJS_NO_DYNAMIC_STYLE!==!0){this.styleEl_=$t("vjs-styles-dimensions");var E=cn(".vjs-styles-defaults"),D=cn("head");D.insertBefore(this.styleEl_,E?E.nextSibling:D.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio);for(var N=r.getElementsByTagName("a"),q=0;q<N.length;q++){var Y=N.item(q);k(Y,"vjs-hidden"),Y.setAttribute("hidden","hidden")}return r.initNetworkState_=r.networkState,r.parentNode&&!a&&r.parentNode.insertBefore(t,r),x(r,t),this.children_.unshift(r),this.el_.setAttribute("lang",this.language_),this.el_=t,t},e.width=function(t){return this.dimension("width",t)},e.height=function(t){return this.dimension("height",t)},e.dimension=function(t,r){var a=t+"_";if(r===void 0)return this[a]||0;if(r==="")return this[a]=void 0,void this.updateStyleEl_();var f=parseFloat(r);isNaN(f)?re.error('Improper value "'+r+'" supplied for for '+t):(this[a]=f,this.updateStyleEl_())},e.fluid=function(t){if(t===void 0)return!!this.fluid_;this.fluid_=!!t,rn(this)&&this.off("playerreset",this.updateStyleEl_),t?(this.addClass("vjs-fluid"),this.fill(!1),function(r,a){rn(r)?a():(r.eventedCallbacks||(r.eventedCallbacks=[]),r.eventedCallbacks.push(a))}(function(){this.on("playerreset",this.updateStyleEl_)})):this.removeClass("vjs-fluid"),this.updateStyleEl_()},e.fill=function(t){if(t===void 0)return!!this.fill_;this.fill_=!!t,t?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")},e.aspectRatio=function(t){if(t===void 0)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(t))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=t,this.fluid(!0),this.updateStyleEl_()},e.updateStyleEl_=function(){if(C.VIDEOJS_NO_DYNAMIC_STYLE!==!0){var t,r,a,f=(this.aspectRatio_!==void 0&&this.aspectRatio_!=="auto"?this.aspectRatio_:this.videoWidth()>0?this.videoWidth()+":"+this.videoHeight():"16:9").split(":"),y=f[1]/f[0];t=this.width_!==void 0?this.width_:this.height_!==void 0?this.height_/y:this.videoWidth()||300,r=this.height_!==void 0?this.height_:t*y,a=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(a),qt(this.styleEl_,`
      .`+a+` {
        width: `+t+`px;
        height: `+r+`px;
      }

      .`+a+`.vjs-fluid {
        padding-top: `+100*y+`%;
      }
    `)}else{var E=typeof this.width_=="number"?this.width_:this.options_.width,D=typeof this.height_=="number"?this.height_:this.options_.height,N=this.tech_&&this.tech_.el();N&&(E>=0&&(N.width=E),D>=0&&(N.height=D))}},e.loadTech_=function(t,r){var a=this;this.tech_&&this.unloadTech_();var f=yr(t),y=t.charAt(0).toLowerCase()+t.slice(1);f!=="Html5"&&this.tag&&(On.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=f,this.isReady_=!1;var E={source:r,autoplay:typeof this.autoplay()!="string"&&this.autoplay(),nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+y+"_api",playsinline:this.options_.playsinline,stretch:this.options_.stretch,fluent:this.options_.fluent,preload:this.options_.preload,loop:this.options_.loop,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset,Promise:this.options_.Promise};Hr.names.forEach(function(N){var q=Hr[N];E[q.getterName]=a[q.privateName]}),c(E,this.options_[f]),c(E,this.options_[y]),c(E,this.options_[t.toLowerCase()]),this.tag&&(E.tag=this.tag),r&&r.src===this.cache_.src&&this.cache_.currentTime>0&&(E.startTime=this.cache_.currentTime);var D=On.getTech(t);if(!D)throw new Error("No Tech named '"+f+"' exists! '"+f+"' should be registered using videojs.registerTech()'");this.tech_=new D(E),this.tech_.ready(he(this,this.handleTechReady_),!0),Ru(this.textTracksJson_||[],this.tech_),gu.forEach(function(N){a.on(a.tech_,N,a["handleTech"+yr(N)+"_"])}),Object.keys(ho).forEach(function(N){a.on(a.tech_,N,function(q){a.tech_.playbackRate()===0&&a.tech_.seeking()?a.queuedCallbacks_.push({callback:a["handleTech"+ho[N]+"_"].bind(a),event:q}):a["handleTech"+ho[N]+"_"](q)})}),this.on(this.tech_,"loadstart",this.handleTechLoadStart_),this.on(this.tech_,"sourceset",this.handleTechSourceset_),this.on(this.tech_,"waiting",this.handleTechWaiting_),this.on(this.tech_,"ended",this.handleTechEnded_),this.on(this.tech_,"seeking",this.handleTechSeeking_),this.on(this.tech_,"play",this.handleTechPlay_),this.on(this.tech_,"firstplay",this.handleTechFirstPlay_),this.on(this.tech_,"pause",this.handleTechPause_),this.on(this.tech_,"durationchange",this.handleTechDurationChange_),this.on(this.tech_,"fullscreenchange",this.handleTechFullscreenChange_),this.on(this.tech_,"fullscreentoggle",this.handleTechFullscreenToggle_),this.on(this.tech_,"enterpictureinpicture",this.handleTechEnterPictureInPicture_),this.on(this.tech_,"leavepictureinpicture",this.handleTechLeavePictureInPicture_),this.on(this.tech_,"error",this.handleTechError_),this.on(this.tech_,"loadedmetadata",this.updateStyleEl_),this.on(this.tech_,"posterchange",this.handleTechPosterChange_),this.on(this.tech_,"textdata",this.handleTechTextData_),this.on(this.tech_,"ratechange",this.handleTechRateChange_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||f==="Html5"&&this.tag||x(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},e.unloadTech_=function(){var t=this;Hr.names.forEach(function(r){var a=Hr[r];t[a.privateName]=t[a.getterName]()}),this.textTracksJson_=ba(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1},e.tech=function(t){return t===void 0&&re.warn(`Using the tech directly can be dangerous. I hope you know what you're doing.
See https://github.com/videojs/video.js/issues/2617 for more info.
`),this.tech_},e.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"mouseup",this.handleTechClick_),this.on(this.tech_,"dblclick",this.handleTechDoubleClick_),this.on(this.tech_,"touchstart",this.handleTechTouchStart_),this.on(this.tech_,"touchmove",this.handleTechTouchMove_),this.on(this.tech_,"touchend",this.handleTechTouchEnd_),this.on(this.tech_,"tap",this.handleTechTap_)},e.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.handleTechTap_),this.off(this.tech_,"touchstart",this.handleTechTouchStart_),this.off(this.tech_,"touchmove",this.handleTechTouchMove_),this.off(this.tech_,"touchend",this.handleTechTouchEnd_),this.off(this.tech_,"mouseup",this.handleTechClick_),this.off(this.tech_,"dblclick",this.handleTechDoubleClick_)},e.handleTechReady_=function(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()},e.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.seekingTimer&&(clearTimeout(this.seekingTimer),this.seekingTimer=0),this.removeClass("vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay")),this.manualAutoplay_(this.autoplay())},e.manualAutoplay_=function(t){var r=this;if(this.tech_&&typeof t=="string"){var a,f=function(){var y=r.muted();r.muted(!0);var E=function(){r.muted(y)};r.playTerminatedQueue_.push(E);var D=r.play();if(Be(D))return D.catch(E)};if(t==="any"&&this.muted()!==!0?Be(a=this.play())&&(a=a.catch(f)):a=t==="muted"&&this.muted()!==!0?f():this.play(),Be(a))return a.then(function(){r.trigger({type:"autoplay-success",autoplay:t})}).catch(function(y){r.trigger({type:"autoplay-failure",autoplay:t})})}},e.updateSourceCaches_=function(t){t===void 0&&(t="");var r=t,a="";typeof r!="string"&&(r=t.src,a=t.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],r&&!a&&(a=function(Y,Q){if(!Q)return"";if(Y.cache_.source.src===Q&&Y.cache_.source.type)return Y.cache_.source.type;var dt=Y.cache_.sources.filter(function(kt){return kt.src===Q});if(dt.length)return dt[0].type;for(var lt=Y.$$("source"),At=0;At<lt.length;At++){var St=lt[At];if(St.type&&St.src&&St.src===Q)return St.type}return xo(Q)}(this,r)),this.cache_.source=ue({},t,{src:r,type:a});for(var f=this.cache_.sources.filter(function(Y){return Y.src&&Y.src===r}),y=[],E=this.$$("source"),D=[],N=0;N<E.length;N++){var q=H(E[N]);y.push(q),q.src&&q.src===r&&D.push(q.src)}D.length&&!f.length?this.cache_.sources=y:f.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=r},e.handleTechSourceset_=function(t){var r=this;if(!this.changingSrc_){var a=function(E){return r.updateSourceCaches_(E)},f=this.currentSource().src,y=t.src;f&&!/^blob:/.test(f)&&/^blob:/.test(y)&&(!this.lastSource_||this.lastSource_.tech!==y&&this.lastSource_.player!==f)&&(a=function(){}),a(y),t.src||this.tech_.any(["sourceset","loadstart"],function(E){if(E.type!=="sourceset"){var D=r.techGet("currentSrc");r.lastSource_.tech=D,r.updateSourceCaches_(D)}})}this.lastSource_={player:this.currentSource().src,tech:t.src},this.trigger({src:t.src,type:"sourceset"})},e.hasStarted=function(t){if(t===void 0)return this.hasStarted_;t!==this.hasStarted_&&(this.hasStarted_=t,this.hasStarted_?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started"))},e.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},e.handleTechRateChange_=function(){this.tech_.playbackRate()>0&&this.cache_.lastPlaybackRate===0&&(this.queuedCallbacks_.forEach(function(t){return t.callback(t.event)}),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")},e.waitingTimer=0,e.seekingTimer=0,e.handleTechWaiting_=function(){var t=this;this.waitingTimer&&clearTimeout(this.waitingTimer),this.waitingTimer=setTimeout(function(){t.addClass("vjs-waiting")},1e3),this.trigger("waiting");var r=this.currentTime();this.on("timeupdate",function a(){t.waitingTimer&&(clearTimeout(t.waitingTimer),t.waitingTimer=0),r!==t.currentTime()&&(t.removeClass("vjs-waiting"),t.off("timeupdate",a))})},e.handleTechCanPlay_=function(){this.waitingTimer&&(clearTimeout(this.waitingTimer),this.waitingTimer=0),this.removeClass("vjs-waiting"),this.trigger("canplay")},e.handleTechCanPlayThrough_=function(){this.waitingTimer&&(clearTimeout(this.waitingTimer),this.waitingTimer=0),this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},e.handleTechPlaying_=function(){this.waitingTimer&&(clearTimeout(this.waitingTimer),this.waitingTimer=0),this.removeClass("vjs-waiting"),this.trigger("playing")},e.handleTechSeeking_=function(){var t=this;this.seekingTimer&&clearTimeout(this.seekingTimer),this.seekingTimer=setTimeout(function(){t.addClass("vjs-seeking")},1e3),this.trigger("seeking")},e.handleTechSeeked_=function(){this.seekingTimer&&(clearTimeout(this.seekingTimer),this.seekingTimer=0),this.removeClass("vjs-seeking"),this.removeClass("vjs-ended"),this.trigger("seeked")},e.handleTechFirstPlay_=function(){this.options_.starttime&&(re.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},e.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},e.handleTechEnded_=function(){this.addClass("vjs-ended"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},e.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},e.handleTechClick_=function(t){U(t)&&this.controls_&&this.paused()},e.handleTechDoubleClick_=function(t){this.controls_&&(Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),function(r){return r.contains(t.target)})||this.options_!==void 0&&this.options_.userActions!==void 0&&this.options_.userActions.doubleClick!==void 0&&this.options_.userActions.doubleClick===!1||(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.doubleClick=="function"?this.options_.userActions.doubleClick.call(this,t):this.isFullscreen()?this.exitFullscreen():this.requestFullscreen()))},e.handleTechTap_=function(){this.userActive(!this.userActive())},e.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},e.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},e.handleTechTouchEnd_=function(t){t.preventDefault()},e.handleStageClick_=function(){this.reportUserActivity()},e.toggleFullscreenClass_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},e.documentFullscreenChange_=function(t){var r=this.el(),a=F[this.fsApi_.fullscreenElement]===r;!a&&r.matches?a=r.matches(":"+this.fsApi_.fullscreen):!a&&r.msMatchesSelector&&(a=r.msMatchesSelector(":"+this.fsApi_.fullscreen)),this.isFullscreen(a),this.isFullscreen()===!1&&ft(F,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),this.fsApi_.prefixed&&this.trigger("fullscreenchange")},e.handleTechFullscreenChange_=function(t,r){r&&this.isFullscreen(r.isFullscreen),this.trigger("fullscreenchange")},e.handleTechFullscreenToggle_=function(t,r){this.isFullscreen()?this.exitFullscreen():this.requestFullscreen()},e.togglePictureInPictureClass_=function(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")},e.handleTechEnterPictureInPicture_=function(t){this.isInPictureInPicture(!0)},e.handleTechLeavePictureInPicture_=function(t){this.isInPictureInPicture(!1)},e.handleTechError_=function(){var t=this.tech_.error();this.error(t)},e.handleTechTextData_=function(){var t=null;arguments.length>1&&(t=arguments[1]),this.trigger("textdata",t)},e.getCache=function(){return this.cache_},e.resetCache_=function(){this.cache_={currentTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],volume:1}},e.techCall_=function(t,r){this.ready(function(){if(t in uo)return function(a,f,y,E){return f[y](a.reduce(jn(y),E))}(this.middleware_,this.tech_,t,r);if(t in au)return Sr(this.middleware_,this.tech_,t,r);try{this.tech_&&this.tech_[t](r)}catch(a){throw re(a),a}},!0)},e.techGet_=function(t){if(this.tech_&&this.tech_.isReady_){if(t in ps)return function(r,a,f){return r.reduceRight(jn(f),a[f]())}(this.middleware_,this.tech_,t);if(t in au)return Sr(this.middleware_,this.tech_,t);try{return this.tech_[t]()}catch(r){throw this.tech_[t]===void 0?(re("Video.js: "+t+" method not defined for "+this.techName_+" playback technology.",r),r):r.name==="TypeError"?(re("Video.js: "+t+" unavailable on "+this.techName_+" playback technology element.",r),this.tech_.isReady_=!1,r):(re(r),r)}}},e.play=function(){var t=this,r=this.options_.Promise||C.Promise;return r?new r(function(a){t.play_(a)}):this.play_()},e.play_=function(t){var r=this;t===void 0&&(t=on),this.playCallbacks_.push(t);var a=Boolean(!this.changingSrc_&&(this.src()||this.currentSrc()));if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!a)return this.waitToPlay_=function(y){r.play_()},this.one(["ready","loadstart"],this.waitToPlay_),void(a||!Bs&&!ui||this.load());var f=this.techGet_("play");f===null?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(f)},e.runPlayTerminatedQueue_=function(){var t=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],t.forEach(function(r){r()})},e.runPlayCallbacks_=function(t){var r=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],r.forEach(function(a){a(t)})},e.pause=function(){this.techCall_("pause")},e.paused=function(){return this.techGet_("paused")!==!1},e.played=function(){return this.techGet_("played")||Se(0,0)},e.scrubbing=function(t){if(t===void 0)return this.scrubbing_;this.scrubbing_=!!t,t?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")},e.currentTime=function(t){return t!==void 0?(t<0&&(t=0),void this.techCall_("setCurrentTime",t)):(this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime)},e.duration=function(t){if(t===void 0)return this.cache_.duration!==void 0?this.cache_.duration:NaN;(t=parseFloat(t))<0&&(t=1/0),t!==this.cache_.duration&&(this.cache_.duration=t,t===1/0?(this.addClass("vjs-live"),this.options_.liveui&&this.player_.liveTracker&&this.addClass("vjs-liveui")):(this.removeClass("vjs-live"),this.removeClass("vjs-liveui")),isNaN(t)||this.trigger("durationchange"))},e.remainingTime=function(){return this.duration()-this.currentTime()},e.remainingTimeDisplay=function(){return Math.floor(this.duration())-Math.floor(this.currentTime())},e.buffered=function(){var t=this.techGet_("buffered");return t&&t.length||(t=Se(0,0)),t},e.bufferedPercent=function(){return ve(this.buffered(),this.duration())},e.bufferedEnd=function(){var t=this.buffered(),r=this.duration(),a=t.end(t.length-1);return a>r&&(a=r),a},e.volume=function(t){var r;return t!==void 0?(r=Math.max(0,Math.min(1,parseFloat(t))),this.cache_.volume=r,this.techCall_("setVolume",r),void(r>0&&this.lastVolume_(r))):(r=parseFloat(this.techGet_("volume")),isNaN(r)?1:r)},e.muted=function(t){return t!==void 0?void this.techCall_("setMuted",t):this.techGet_("muted")||!1},e.defaultMuted=function(t){return t!==void 0?this.techCall_("setDefaultMuted",t):this.techGet_("defaultMuted")||!1},e.lastVolume_=function(t){return t!==void 0&&t!==0?void(this.cache_.lastVolume=t):this.cache_.lastVolume},e.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},e.isFullscreen=function(t){return t!==void 0?(this.isFullscreen_=!!t,void this.toggleFullscreenClass_()):!!this.isFullscreen_},e.requestFullscreen=function(t){var r;this.isFullscreen(!0),this.fsApi_.requestFullscreen?(mt(F,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),this.fsApi_.prefixed||(r=this.options_.fullscreen&&this.options_.fullscreen.options||{},t!==void 0&&(r=t)),on(this.el_[this.fsApi_.requestFullscreen](r))):this.tech_.supportsFullScreen()?this.techCall_("enterFullScreen"):(this.enterFullWindow(),this.trigger("fullscreenchange"))},e.exitFullscreen=function(){this.isFullscreen(!1),this.fsApi_.requestFullscreen?(F.fullscreenElement||F.webkitFullscreenElement||F.mozFullScreenElement||F.msFullscreenElement)&&on(F[this.fsApi_.exitFullscreen]()):this.tech_.supportsFullScreen()?this.techCall_("exitFullScreen"):(this.exitFullWindow(),this.trigger("fullscreenchange"))},e.enterFullWindow=function(){this.isFullWindow=!0,this.docOrigOverflow=F.documentElement.style.overflow,mt(F,"keydown",this.boundFullWindowOnEscKey_),F.documentElement.style.overflow="hidden",k(F.body,"vjs-full-window"),this.trigger("enterFullWindow")},e.fullWindowOnEscKey=function(t){sn.isEventKey(t,"Esc")&&(this.isFullscreen()===!0?this.exitFullscreen():this.exitFullWindow())},e.exitFullWindow=function(){this.isFullWindow=!1,ft(F,"keydown",this.boundFullWindowOnEscKey_),F.documentElement.style.overflow=this.docOrigOverflow,O(F.body,"vjs-full-window"),this.trigger("exitFullWindow")},e.isInPictureInPicture=function(t){return t!==void 0?(this.isInPictureInPicture_=!!t,void this.togglePictureInPictureClass_()):!!this.isInPictureInPicture_},e.requestPictureInPicture=function(){if("pictureInPictureEnabled"in F)return this.techGet_("requestPictureInPicture")},e.exitPictureInPicture=function(){if("pictureInPictureEnabled"in F)return F.exitPictureInPicture()},e.handleKeyDown=function(t){var r=this.options_.userActions;r&&r.hotkeys&&(function(a){var f=a.tagName.toLowerCase();return a.isContentEditable?!0:f==="input"?["button","checkbox","hidden","radio","reset","submit"].indexOf(a.type)===-1:["textarea"].indexOf(f)!==-1}(this.el_.ownerDocument.activeElement)||(typeof r.hotkeys=="function"?r.hotkeys.call(this,t):this.handleHotkeys(t)))},e.handleHotkeys=function(t){var r=this.options_.userActions?this.options_.userActions.hotkeys:{},a=r.fullscreenKey,f=a===void 0?function(Y){return sn.isEventKey(Y,"f")}:a,y=r.muteKey,E=y===void 0?function(Y){return sn.isEventKey(Y,"m")}:y,D=r.playPauseKey,N=D===void 0?function(Y){return sn.isEventKey(Y,"k")||sn.isEventKey(Y,"Space")}:D;if(f.call(this,t)){t.preventDefault(),t.stopPropagation();var q=ge.getComponent("FullscreenToggle");F[this.fsApi_.fullscreenEnabled]!==!1&&q.prototype.handleClick.call(this,t)}else E.call(this,t)?(t.preventDefault(),t.stopPropagation(),ge.getComponent("MuteToggle").prototype.handleClick.call(this,t)):N.call(this,t)&&(t.preventDefault(),t.stopPropagation(),ge.getComponent("PlayToggle").prototype.handleClick.call(this,t))},e.canPlayType=function(t){for(var r,a=0,f=this.options_.techOrder;a<f.length;a++){var y=f[a],E=On.getTech(y);if(E||(E=ge.getComponent(y)),E){if(E.isSupported()&&(r=E.canPlayType(t)))return r}else re.error('The "'+y+'" tech is undefined. Skipped browser support check for that tech.')}return""},e.selectSource=function(t){var r=this,a=this.options_.techOrder.map(function(E){return[E,On.getTech(E)]}).filter(function(E){var D=E[0],N=E[1];return N?N.isSupported():(re.error('The "'+D+'" tech is undefined. Skipped browser support check for that tech.'),!1)}),f=function(E,D,N){var q;return E.some(function(Y){return D.some(function(Q){if(q=N(Y,Q))return!0})}),q},y=function(E,D){var N=E[0];if(E[1].canPlaySource(D,r.options_[N.toLowerCase()]))return{source:D,tech:N}};return(this.options_.sourceOrder?f(t,a,function(E){return function(D,N){return E(N,D)}}(y)):f(a,t,y))||!1},e.src=function(t){var r=this;if(t===void 0)return this.cache_.src||"";var a=function f(y){if(Array.isArray(y)){var E=[];y.forEach(function(D){D=f(D),Array.isArray(D)?E=E.concat(D):g(D)&&E.push(D)}),y=E}else y=typeof y=="string"&&y.trim()?[pi({src:y})]:g(y)&&typeof y.src=="string"&&y.src&&y.src.trim()?[pi(y)]:[];return y}(t);a.length?(this.changingSrc_=!0,this.cache_.sources=a,this.updateSourceCaches_(a[0]),Ui(this,a[0],function(f,y){if(r.middleware_=y,r.cache_.sources=a,r.updateSourceCaches_(f),r.src_(f))return a.length>1?r.src(a.slice(1)):(r.changingSrc_=!1,r.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0),void r.triggerReady());(function(E,D){E.forEach(function(N){return N.setTech&&N.setTech(D)})})(y,r.tech_)})):this.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0)},e.src_=function(t){var r=this,a=this.selectSource([t]);return!a||(function(f,y){return yr(f)===yr(y)}(a.tech,this.techName_)?(this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",t):this.techCall_("src",t.src),this.changingSrc_=!1},!0),!1):(this.changingSrc_=!0,this.loadTech_(a.tech,a.source),this.tech_.ready(function(){r.changingSrc_=!1}),!1))},e.load=function(){this.techCall_("load")},e.reset=function(){var t=this,r=this.options_.Promise||C.Promise;this.paused()||!r?this.doReset_():on(this.play().then(function(){return t.doReset_()}))},e.doReset_=function(){this.tech_&&this.tech_.clearTracks("text"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),rn(this)&&this.trigger("playerreset")},e.resetControlBarUI_=function(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()},e.resetProgressBar_=function(){this.currentTime(0);var t=this.controlBar,r=t.durationDisplay,a=t.remainingTimeDisplay;r&&r.updateContent(),a&&a.updateContent()},e.resetPlaybackRate_=function(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()},e.resetVolumeBar_=function(){this.volume(1),this.trigger("volumechange")},e.currentSources=function(){var t=this.currentSource(),r=[];return Object.keys(t).length!==0&&r.push(t),this.cache_.sources||r},e.currentSource=function(){return this.cache_.source||{}},e.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""},e.currentType=function(){return this.currentSource()&&this.currentSource().type||""},e.preload=function(t){return t!==void 0?(this.techCall_("setPreload",t),void(this.options_.preload=t)):this.techGet_("preload")},e.autoplay=function(t){if(t===void 0)return this.options_.autoplay||!1;var r;typeof t=="string"&&/(any|play|muted)/.test(t)?(this.options_.autoplay=t,this.manualAutoplay_(t),r=!1):this.options_.autoplay=!!t,r=r===void 0?this.options_.autoplay:r,this.tech_&&this.techCall_("setAutoplay",r)},e.playsinline=function(t){return t!==void 0?(this.techCall_("setPlaysinline",t),this.options_.playsinline=t,this):this.techGet_("playsinline")},e.loop=function(t){return t!==void 0?(this.techCall_("setLoop",t),void(this.options_.loop=t)):this.techGet_("loop")},e.stretch=function(t){return t!==void 0?(this.techCall_("setStretch",t),void(this.options_.stretch=t)):this.techGet_("stretch")},e.fluent=function(t){return t!=null?(this.techCall_("setFluent",t),this.options_.fluent=t,this):this.techGet_("fluent")},e.poster=function(t){if(t===void 0)return this.poster_;t||(t=""),t!==this.poster_&&(this.poster_=t,this.techCall_("setPoster",t),this.isPosterFromTech_=!1,this.trigger("posterchange"))},e.handleTechPosterChange_=function(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){var t=this.tech_.poster()||"";t!==this.poster_&&(this.poster_=t,this.isPosterFromTech_=!0,this.trigger("posterchange"))}},e.controls=function(t){if(t===void 0)return!!this.controls_;t=!!t,this.controls_!==t&&(this.controls_=t,this.usingNativeControls()&&this.techCall_("setControls",t),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))},e.usingNativeControls=function(t){if(t===void 0)return!!this.usingNativeControls_;t=!!t,this.usingNativeControls_!==t&&(this.usingNativeControls_=t,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))},e.error=function(t){if(t===void 0)return this.error_||null;if(this.options_.suppressNotSupportedError&&t&&t.message&&t.message===this.localize(this.options_.notSupportedMessage)){var r=function(){this.error(t)};return this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],r),void this.one("loadstart",function(){this.off(["click","touchstart"],r)})}if(t===null)return this.error_=t,this.removeClass("vjs-error"),void(this.errorDisplay&&this.errorDisplay.close());this.error_=new le(t),this.addClass("vjs-error"),re.error("(CODE:"+this.error_.code+" "+le.errorTypes[this.error_.code]+")",this.error_.message,this.error_),this.trigger("error")},e.reportUserActivity=function(t){this.userActivity_=!0},e.userActive=function(t){if(t===void 0)return this.userActive_;if((t=!!t)!==this.userActive_){if(this.userActive_=t,this.userActive_)return this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),void this.trigger("useractive");this.tech_&&this.tech_.one("mousemove",function(r){r.stopPropagation(),r.preventDefault()}),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}},e.listenForUserActivity_=function(){var t,r,a,f=he(this,this.reportUserActivity);this.on("mousedown",function(){f(),this.clearInterval(t),t=this.setInterval(f,250)}),this.on("mousemove",function(D){D.screenX===r&&D.screenY===a||(r=D.screenX,a=D.screenY,f())}),this.on("mouseup",function(D){f(),this.clearInterval(t)});var y,E=this.getChild("controlBar");!E||ui||Kn||(E.on("mouseenter",function(D){this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout,this.player().options_.inactivityTimeout=0}),E.on("mouseleave",function(D){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout})),this.on("keydown",f),this.on("keyup",f),this.setInterval(function(){if(this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(y);var D=this.options_.inactivityTimeout;D<=0||(y=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},D))}},250)},e.playbackRate=function(t){return t!==void 0?void this.techCall_("setPlaybackRate",t):this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1},e.defaultPlaybackRate=function(t){return t!==void 0?this.techCall_("setDefaultPlaybackRate",t):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1},e.isAudio=function(t){return t!==void 0?void(this.isAudio_=!!t):!!this.isAudio_},e.addTextTrack=function(t,r,a){if(this.tech_)return this.tech_.addTextTrack(t,r,a)},e.addRemoteTextTrack=function(t,r){if(this.tech_)return this.tech_.addRemoteTextTrack(t,r)},e.removeRemoteTextTrack=function(t){t===void 0&&(t={});var r=t.track;if(r||(r=t),this.tech_)return this.tech_.removeRemoteTextTrack(r)},e.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},e.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},e.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},e.language=function(t){if(t===void 0)return this.language_;this.language_=String(t).toLowerCase()},e.languages=function(){return ue(i.prototype.options_.languages,this.languages_)},e.toJSON=function(){var t=ue(this.options_),r=t.tracks;t.tracks=[];for(var a=0;a<r.length;a++){var f=r[a];(f=ue(f)).player=void 0,t.tracks[a]=f}return t},e.createModal=function(t,r){var a=this;(r=r||{}).content=t||"";var f=new Za(this,r);return this.addChild(f),f.on("dispose",function(){a.removeChild(f)}),f.open(),f},e.updateCurrentBreakpoint_=function(){if(this.responsive())for(var t=this.currentBreakpoint(),r=this.currentWidth(),a=0;a<ha.length;a++){var f=ha[a];if(r<=this.breakpoints_[f]){if(t===f)return;t&&this.removeClass(Xa[t]),this.addClass(Xa[f]),this.breakpoint_=f;break}}},e.removeCurrentBreakpoint_=function(){var t=this.currentBreakpointClass();this.breakpoint_="",t&&this.removeClass(t)},e.breakpoints=function(t){return t===void 0||(this.breakpoint_="",this.breakpoints_=c({},ec,t),this.updateCurrentBreakpoint_()),c(this.breakpoints_)},e.responsive=function(t){return t===void 0?this.responsive_:(t=Boolean(t))!==this.responsive_?(this.responsive_=t,t?(this.on("playerresize",this.updateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.updateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),t):void 0},e.currentBreakpoint=function(){return this.breakpoint_},e.currentBreakpointClass=function(){return Xa[this.breakpoint_]||""},e.loadMedia=function(t,r){var a=this;if(t&&typeof t=="object"){this.reset(),this.cache_.media=ue(t);var f=this.cache_.media,y=f.artwork,E=f.poster,D=f.src,N=f.textTracks;!y&&E&&(this.cache_.media.artwork=[{src:E,type:xo(E)}]),D&&this.src(D),E&&this.poster(E),Array.isArray(N)&&N.forEach(function(q){return a.addRemoteTextTrack(q,!1)}),this.ready(r)}},e.getMedia=function(){if(!this.cache_.media){var t=this.poster(),r={src:this.currentSources(),textTracks:Array.prototype.map.call(this.remoteTextTracks(),function(a){return{kind:a.kind,label:a.label,language:a.language,src:a.src}})};return t&&(r.poster=t,r.artwork=[{src:r.poster,type:xo(r.poster)}]),r}return ue(this.cache_.media)},i.getTagSettings=function(t){var r={sources:[],tracks:[]},a=H(t),f=a["data-setup"];if(_(t,"vjs-fill")&&(a.fill=!0),_(t,"vjs-fluid")&&(a.fluid=!0),f!==null){var y=Hs(f||"{}"),E=y[0],D=y[1];E&&re.error(E),c(a,D)}if(c(r,a),t.hasChildNodes())for(var N=t.childNodes,q=0,Y=N.length;q<Y;q++){var Q=N[q],dt=Q.nodeName.toLowerCase();dt==="source"?r.sources.push(H(Q)):dt==="track"&&r.tracks.push(H(Q))}return r},e.flexNotSupported_=function(){var t=F.createElement("i");return!("flexBasis"in t.style||"webkitFlexBasis"in t.style||"mozFlexBasis"in t.style||"msFlexBasis"in t.style||"msFlexOrder"in t.style)},i}(ge);Hr.names.forEach(function(n){var i=Hr[n];Dn.prototype[i.getterName]=function(){return this.tech_?this.tech_[i.getterName]():(this[i.privateName]=this[i.privateName]||new i.ListClass,this[i.privateName])}}),Dn.players={};var Mo=C.navigator;Dn.prototype.options_={techOrder:On.defaultTechOrder_,html5:{},flash:{},inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:Mo&&(Mo.languages&&Mo.languages[0]||Mo.userLanguage||Mo.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1},["ended","seeking","seekable","networkState","readyState"].forEach(function(n){Dn.prototype[n]=function(){return this.techGet_(n)}}),gu.forEach(function(n){Dn.prototype["handleTech"+yr(n)+"_"]=function(){return this.trigger(n)}}),ge.registerComponent("Player",Dn);var Uo={},ll=function(n){return Uo.hasOwnProperty(n)},Yi=function(n){return ll(n)?Uo[n]:void 0},Jr=function(n,i){n.activePlugins_=n.activePlugins_||{},n.activePlugins_[i]=!0},po=function(n,i,e){var t=(e?"before":"")+"pluginsetup";n.trigger(t,i),n.trigger(t+":"+i.name,i)},yu=function(n,i){return i.prototype.name=n,function(){po(this,{name:n,plugin:i,instance:null},!0);for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var a=Je(i,[this].concat(t));return this[n]=function(){return a},po(this,a.getEventHash()),a}},Ji=function(){function n(e){if(this.constructor===n)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=e,oe(this),delete this.trigger,Oe(this,this.constructor.defaultState),Jr(e,this.name),this.dispose=he(this,this.dispose),e.on("dispose",this.dispose)}var i=n.prototype;return i.version=function(){return this.constructor.VERSION},i.getEventHash=function(e){return e===void 0&&(e={}),e.name=this.name,e.plugin=this.constructor,e.instance=this,e},i.trigger=function(e,t){return t===void 0&&(t={}),pt(this.eventBusEl_,e,this.getEventHash(t))},i.handleStateChanged=function(e){},i.dispose=function(){var e=this.name,t=this.player;this.trigger("dispose"),this.off(),t.off("dispose",this.dispose),t.activePlugins_[e]=!1,this.player=this.state=null,t[e]=yu(e,Uo[e])},n.isBasic=function(e){var t=typeof e=="string"?Yi(e):e;return typeof t=="function"&&!n.prototype.isPrototypeOf(t.prototype)},n.registerPlugin=function(e,t){if(typeof e!="string")throw new Error('Illegal plugin name, "'+e+'", must be a string, was '+typeof e+".");if(ll(e))re.warn('A plugin named "'+e+'" already exists. You may want to avoid re-registering plugins!');else if(Dn.prototype.hasOwnProperty(e))throw new Error('Illegal plugin name, "'+e+'", cannot share a name with an existing player method!');if(typeof t!="function")throw new Error('Illegal plugin for "'+e+'", must be a function, was '+typeof t+".");return Uo[e]=t,e!=="plugin"&&(n.isBasic(t)?Dn.prototype[e]=function(r,a){var f=function(){po(this,{name:r,plugin:a,instance:null},!0);var y=a.apply(this,arguments);return Jr(this,r),po(this,{name:r,plugin:a,instance:y}),y};return Object.keys(a).forEach(function(y){f[y]=a[y]}),f}(e,t):Dn.prototype[e]=yu(e,t)),t},n.deregisterPlugin=function(e){if(e==="plugin")throw new Error("Cannot de-register base plugin.");ll(e)&&(delete Uo[e],delete Dn.prototype[e])},n.getPlugins=function(e){var t;return e===void 0&&(e=Object.keys(Uo)),e.forEach(function(r){var a=Yi(r);a&&((t=t||{})[r]=a)}),t},n.getPluginVersion=function(e){var t=Yi(e);return t&&t.VERSION||""},n}();Ji.getPlugin=Yi,Ji.BASE_PLUGIN_NAME="plugin",Ji.registerPlugin("plugin",Ji),Dn.prototype.usingPlugin=function(n){return!!this.activePlugins_&&this.activePlugins_[n]===!0},Dn.prototype.hasPlugin=function(n){return!!ll(n)};var Bo=function(n){return n.indexOf("#")===0?n.slice(1):n};if(Et.hooks_={},Et.hooks=function(n,i){return Et.hooks_[n]=Et.hooks_[n]||[],i&&(Et.hooks_[n]=Et.hooks_[n].concat(i)),Et.hooks_[n]},Et.hook=function(n,i){Et.hooks(n,i)},Et.hookOnce=function(n,i){Et.hooks(n,[].concat(i).map(function(e){return function t(){return Et.removeHook(n,t),e.apply(void 0,arguments)}}))},Et.removeHook=function(n,i){var e=Et.hooks(n).indexOf(i);return!(e<=-1||(Et.hooks_[n]=Et.hooks_[n].slice(),Et.hooks_[n].splice(e,1),0))},C.VIDEOJS_NO_DYNAMIC_STYLE!==!0&&d()){var _u=cn(".vjs-styles-defaults");if(!_u){_u=$t("vjs-styles-defaults");var cl=cn("head");cl&&cl.insertBefore(_u,cl.firstChild),qt(_u,`
      .video-js {
        width: 300px;
        height: 150px;
      }

      .vjs-fluid {
        padding-top: 56.25%
      }
    `)}}Ht(1,Et),Et.VERSION=Hi,Et.options=Dn.prototype.options_,Et.getPlayers=function(){return Dn.players},Et.getPlayer=function(n){var i,e=Dn.players;if(typeof n=="string"){var t=Bo(n),r=e[t];if(r)return r;i=cn("#"+t)}else i=n;if(S(i)){var a=i,f=a.player,y=a.playerId;if(f||e[y])return f||e[y]}},Et.getAllPlayers=function(){return Object.keys(Dn.players).map(function(n){return Dn.players[n]}).filter(Boolean)},Et.players=Dn.players,Et.getComponent=ge.getComponent,Et.registerComponent=function(n,i){On.isTech(i)&&re.warn("The "+n+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),ge.registerComponent.call(ge,n,i)},Et.getTech=On.getTech,Et.registerTech=On.registerTech,Et.use=function(n,i){ka[n]=ka[n]||[],ka[n].push(i)},Object.defineProperty(Et,"middleware",{value:{},writeable:!1,enumerable:!0}),Object.defineProperty(Et.middleware,"TERMINATOR",{value:hs,writeable:!1,enumerable:!0}),Et.browser=Ll,Et.TOUCH_ENABLED=So,Et.extend=function(n,i){i===void 0&&(i={});var e=function(){n.apply(this,arguments)},t={};for(var r in typeof i=="object"?(i.constructor!==Object.prototype.constructor&&(e=i.constructor),t=i):typeof i=="function"&&(e=i),function(a,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);a.prototype=Object.create(f&&f.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),f&&(a.super_=f)}(e,n),t)t.hasOwnProperty(r)&&(e.prototype[r]=t[r]);return e},Et.mergeOptions=ue,Et.bind=he,Et.registerPlugin=Ji.registerPlugin,Et.deregisterPlugin=Ji.deregisterPlugin,Et.plugin=function(n,i){return re.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),Ji.registerPlugin(n,i)},Et.getPlugins=Ji.getPlugins,Et.getPlugin=Ji.getPlugin,Et.getPluginVersion=Ji.getPluginVersion,Et.addLanguage=function(n,i){var e;return n=(""+n).toLowerCase(),Et.options.languages=ue(Et.options.languages,((e={})[n]=i,e)),Et.options.languages[n]},Et.log=re,Et.createLogger=Le,Et.createTimeRange=Et.createTimeRanges=Se,Et.formatTime=wr,Et.setFormatTime=function(n){gs=n},Et.resetFormatTime=function(){gs=Ku},Et.parseUrl=Ae,Et.isCrossOrigin=lr,Et.EventTarget=Ne,Et.on=mt,Et.one=Rt,Et.off=ft,Et.trigger=pt,Et.xhr=cs,Et.TextTrack=Ao,Et.AudioTrack=Xi,Et.VideoTrack=zu,["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(function(n){Et[n]=function(){return re.warn("videojs."+n+"() is deprecated; use videojs.dom."+n+"() instead"),Ei[n].apply(null,arguments)}}),Et.computedStyle=u,Et.dom=Ei,Et.url=oa;var Zi,dl,nc,bu,rc,_i=vn(function(n,i){(function(e){var t=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/\?#]*\/)*.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,r=/^([^\/?#]*)(.*)$/,a=/(?:\/|^)\.(?=\/)/g,f=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,y={buildAbsoluteURL:function(E,D,N){if(N=N||{},E=E.trim(),!(D=D.trim())){if(!N.alwaysNormalize)return E;var q=y.parseURL(E);if(!q)throw new Error("Error trying to parse base URL.");return q.path=y.normalizePath(q.path),y.buildURLFromParts(q)}var Y=y.parseURL(D);if(!Y)throw new Error("Error trying to parse relative URL.");if(Y.scheme)return N.alwaysNormalize?(Y.path=y.normalizePath(Y.path),y.buildURLFromParts(Y)):D;var Q=y.parseURL(E);if(!Q)throw new Error("Error trying to parse base URL.");if(!Q.netLoc&&Q.path&&Q.path[0]!=="/"){var dt=r.exec(Q.path);Q.netLoc=dt[1],Q.path=dt[2]}Q.netLoc&&!Q.path&&(Q.path="/");var lt={scheme:Q.scheme,netLoc:Y.netLoc,path:null,params:Y.params,query:Y.query,fragment:Y.fragment};if(!Y.netLoc&&(lt.netLoc=Q.netLoc,Y.path[0]!=="/"))if(Y.path){var At=Q.path,St=At.substring(0,At.lastIndexOf("/")+1)+Y.path;lt.path=y.normalizePath(St)}else lt.path=Q.path,Y.params||(lt.params=Q.params,Y.query||(lt.query=Q.query));return lt.path===null&&(lt.path=N.alwaysNormalize?y.normalizePath(Y.path):Y.path),y.buildURLFromParts(lt)},parseURL:function(E){var D=t.exec(E);return D?{scheme:D[1]||"",netLoc:D[2]||"",path:D[3]||"",params:D[4]||"",query:D[5]||"",fragment:D[6]||""}:null},normalizePath:function(E){for(E=E.split("").reverse().join("").replace(a,"");E.length!==(E=E.replace(f,"")).length;);return E.split("").reverse().join("")},buildURLFromParts:function(E){return E.scheme+E.netLoc+E.path+E.params+E.query+E.fragment}};n.exports=y})()}),Cs=function(){function n(){this.listeners={}}var i=n.prototype;return i.on=function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},i.off=function(e,t){if(!this.listeners[e])return!1;var r=this.listeners[e].indexOf(t);return this.listeners[e].splice(r,1),r>-1},i.trigger=function(e){var t,r,a,f=this.listeners[e];if(f)if(arguments.length===2)for(r=f.length,t=0;t<r;++t)f[t].call(this,arguments[1]);else for(a=Array.prototype.slice.call(arguments,1),r=f.length,t=0;t<r;++t)f[t].apply(this,a)},i.dispose=function(){this.listeners={}},i.pipe=function(e){this.on("data",function(t){e.push(t)})},n}(),ic=function(n){function i(){var e;return(e=n.call(this)||this).buffer="",e}return na(i,n),i.prototype.push=function(e){var t;for(this.buffer+=e,t=this.buffer.indexOf(`
`);t>-1;t=this.buffer.indexOf(`
`))this.trigger("data",this.buffer.substring(0,t)),this.buffer=this.buffer.substring(t+1)},i}(Cs),No=function(n){for(var i,e=n.split(new RegExp('(?:^|,)((?:[^=]*)=(?:"[^"]*"|[^,]*))')),t={},r=e.length;r--;)e[r]!==""&&((i=/([^=]*)=(.*)/.exec(e[r]).slice(1))[0]=i[0].replace(/^\s+|\s+$/g,""),i[1]=i[1].replace(/^\s+|\s+$/g,""),i[1]=i[1].replace(/^['"](.*)['"]$/g,"$1"),t[i[0]]=i[1]);return t},fl=function(n){function i(){var t;return(t=n.call(this)||this).customParsers=[],t.tagMappers=[],t}na(i,n);var e=i.prototype;return e.push=function(t){var r,a,f=this;if((t=t.trim()).length!==0){if(t[0]!=="#")return void this.trigger("data",{type:"uri",uri:t});this.tagMappers.reduce(function(y,E){var D=E(t);return D===t?y:y.concat([D])},[t]).forEach(function(y){for(var E=0;E<f.customParsers.length;E++)if(f.customParsers[E].call(f,y))return;if(y.indexOf("#EXT")===0)if(y=y.replace("\r",""),r=/^#EXTM3U/.exec(y))f.trigger("data",{type:"tag",tagType:"m3u"});else{if(r=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(y))return a={type:"tag",tagType:"inf"},r[1]&&(a.duration=parseFloat(r[1])),r[2]&&(a.title=r[2]),void f.trigger("data",a);if(r=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(y))return a={type:"tag",tagType:"targetduration"},r[1]&&(a.duration=parseInt(r[1],10)),void f.trigger("data",a);if(r=/^#ZEN-TOTAL-DURATION:?([0-9.]*)?/.exec(y))return a={type:"tag",tagType:"totalduration"},r[1]&&(a.duration=parseInt(r[1],10)),void f.trigger("data",a);if(r=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(y))return a={type:"tag",tagType:"version"},r[1]&&(a.version=parseInt(r[1],10)),void f.trigger("data",a);if(r=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(y))return a={type:"tag",tagType:"media-sequence"},r[1]&&(a.number=parseInt(r[1],10)),void f.trigger("data",a);if(r=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(y))return a={type:"tag",tagType:"discontinuity-sequence"},r[1]&&(a.number=parseInt(r[1],10)),void f.trigger("data",a);if(r=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(y))return a={type:"tag",tagType:"playlist-type"},r[1]&&(a.playlistType=r[1]),void f.trigger("data",a);if(r=/^#EXT-X-BYTERANGE:?([0-9.]*)?@?([0-9.]*)?/.exec(y))return a={type:"tag",tagType:"byterange"},r[1]&&(a.length=parseInt(r[1],10)),r[2]&&(a.offset=parseInt(r[2],10)),void f.trigger("data",a);if(r=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(y))return a={type:"tag",tagType:"allow-cache"},r[1]&&(a.allowed=!/NO/.test(r[1])),void f.trigger("data",a);if(r=/^#EXT-X-MAP:?(.*)$/.exec(y)){if(a={type:"tag",tagType:"map"},r[1]){var D=No(r[1]);if(D.URI&&(a.uri=D.URI),D.BYTERANGE){var N=D.BYTERANGE.split("@"),q=N[0],Y=N[1];a.byterange={},q&&(a.byterange.length=parseInt(q,10)),Y&&(a.byterange.offset=parseInt(Y,10))}}f.trigger("data",a)}else{if(!(r=/^#EXT-X-STREAM-INF:?(.*)$/.exec(y)))return(r=/^#EXT-X-MEDIA:?(.*)$/.exec(y))?(a={type:"tag",tagType:"media"},r[1]&&(a.attributes=No(r[1])),void f.trigger("data",a)):(r=/^#EXT-X-ENDLIST/.exec(y))?void f.trigger("data",{type:"tag",tagType:"endlist"}):(r=/^#EXT-X-DISCONTINUITY/.exec(y))?void f.trigger("data",{type:"tag",tagType:"discontinuity"}):(r=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(y))?(a={type:"tag",tagType:"program-date-time"},r[1]&&(a.dateTimeString=r[1],a.dateTimeObject=new Date(r[1])),void f.trigger("data",a)):(r=/^#EXT-X-KEY:?(.*)$/.exec(y))?(a={type:"tag",tagType:"key"},r[1]&&(a.attributes=No(r[1]),a.attributes.IV&&(a.attributes.IV.substring(0,2).toLowerCase()==="0x"&&(a.attributes.IV=a.attributes.IV.substring(2)),a.attributes.IV=a.attributes.IV.match(/.{8}/g),a.attributes.IV[0]=parseInt(a.attributes.IV[0],16),a.attributes.IV[1]=parseInt(a.attributes.IV[1],16),a.attributes.IV[2]=parseInt(a.attributes.IV[2],16),a.attributes.IV[3]=parseInt(a.attributes.IV[3],16),a.attributes.IV=new Uint32Array(a.attributes.IV))),void f.trigger("data",a)):(r=/^#EXT-X-START:?(.*)$/.exec(y))?(a={type:"tag",tagType:"start"},r[1]&&(a.attributes=No(r[1]),a.attributes["TIME-OFFSET"]=parseFloat(a.attributes["TIME-OFFSET"]),a.attributes.PRECISE=/YES/.test(a.attributes.PRECISE)),void f.trigger("data",a)):(r=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(y))?(a={type:"tag",tagType:"cue-out-cont"},r[1]?a.data=r[1]:a.data="",void f.trigger("data",a)):(r=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(y))?(a={type:"tag",tagType:"cue-out"},r[1]?a.data=r[1]:a.data="",void f.trigger("data",a)):(r=/^#EXT-X-CUE-IN:?(.*)?$/.exec(y))?(a={type:"tag",tagType:"cue-in"},r[1]?a.data=r[1]:a.data="",void f.trigger("data",a)):void f.trigger("data",{type:"tag",data:y.slice(4)});if(a={type:"tag",tagType:"stream-inf"},r[1]){if(a.attributes=No(r[1]),a.attributes.RESOLUTION){var Q=a.attributes.RESOLUTION.split("x"),dt={};Q[0]&&(dt.width=parseInt(Q[0],10)),Q[1]&&(dt.height=parseInt(Q[1],10)),a.attributes.RESOLUTION=dt}a.attributes.BANDWIDTH&&(a.attributes.BANDWIDTH=parseInt(a.attributes.BANDWIDTH,10)),a.attributes["PROGRAM-ID"]&&(a.attributes["PROGRAM-ID"]=parseInt(a.attributes["PROGRAM-ID"],10))}f.trigger("data",a)}}else f.trigger("data",{type:"comment",text:y.slice(1)})})}},e.addParser=function(t){var r=this,a=t.expression,f=t.customType,y=t.dataParser,E=t.segment;typeof y!="function"&&(y=function(D){return D}),this.customParsers.push(function(D){if(a.exec(D))return r.trigger("data",{type:"custom",data:y(D),customType:f,segment:E}),!0})},e.addTagMapper=function(t){var r=t.expression,a=t.map;this.tagMappers.push(function(f){return r.test(f)?a(f):f})},i}(Cs),ac=function(n){function i(){var t;(t=n.call(this)||this).lineStream=new ic,t.parseStream=new fl,t.lineStream.pipe(t.parseStream);var r,a,f=mi(mi(t)),y=[],E={},D=function(){},N={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},q=0;return t.manifest={allowCache:!0,discontinuityStarts:[],segments:[]},t.parseStream.on("data",function(Y){var Q,dt;({tag:function(){({"allow-cache":function(){this.manifest.allowCache=Y.allowed,"allowed"in Y||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function(){var lt={};"length"in Y&&(E.byterange=lt,lt.length=Y.length,"offset"in Y||(this.trigger("info",{message:"defaulting offset to zero"}),Y.offset=0)),"offset"in Y&&(E.byterange=lt,lt.offset=Y.offset)},endlist:function(){this.manifest.endList=!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),Y.duration>0&&(E.duration=Y.duration),Y.duration===0&&(E.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=y},key:function(){return Y.attributes?Y.attributes.METHOD==="NONE"?void(a=null):Y.attributes.URI?(Y.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),a={method:Y.attributes.METHOD||"AES-128",uri:Y.attributes.URI},void(Y.attributes.IV!==void 0&&(a.iv=Y.attributes.IV))):void this.trigger("warn",{message:"ignoring key declaration without URI"}):void this.trigger("warn",{message:"ignoring key declaration without attribute list"})},"media-sequence":function(){isFinite(Y.number)?this.manifest.mediaSequence=Y.number:this.trigger("warn",{message:"ignoring invalid media sequence: "+Y.number})},"discontinuity-sequence":function(){isFinite(Y.number)?(this.manifest.discontinuitySequence=Y.number,q=Y.number):this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+Y.number})},"playlist-type":function(){/VOD|EVENT/.test(Y.playlistType)?this.manifest.playlistType=Y.playlistType:this.trigger("warn",{message:"ignoring unknown playlist type: "+Y.playlist})},map:function(){r={},Y.uri&&(r.uri=Y.uri),Y.byterange&&(r.byterange=Y.byterange)},"stream-inf":function(){this.manifest.playlists=y,this.manifest.mediaGroups=this.manifest.mediaGroups||N,Y.attributes?(E.attributes||(E.attributes={}),Fi(E.attributes,Y.attributes)):this.trigger("warn",{message:"ignoring empty stream-inf attributes"})},media:function(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||N,Y.attributes&&Y.attributes.TYPE&&Y.attributes["GROUP-ID"]&&Y.attributes.NAME){var lt=this.manifest.mediaGroups[Y.attributes.TYPE];lt[Y.attributes["GROUP-ID"]]=lt[Y.attributes["GROUP-ID"]]||{},Q=lt[Y.attributes["GROUP-ID"]],(dt={default:/yes/i.test(Y.attributes.DEFAULT)}).default?dt.autoselect=!0:dt.autoselect=/yes/i.test(Y.attributes.AUTOSELECT),Y.attributes.LANGUAGE&&(dt.language=Y.attributes.LANGUAGE),Y.attributes.URI&&(dt.uri=Y.attributes.URI),Y.attributes["INSTREAM-ID"]&&(dt.instreamId=Y.attributes["INSTREAM-ID"]),Y.attributes.CHARACTERISTICS&&(dt.characteristics=Y.attributes.CHARACTERISTICS),Y.attributes.FORCED&&(dt.forced=/yes/i.test(Y.attributes.FORCED)),Q[Y.attributes.NAME]=dt}else this.trigger("warn",{message:"ignoring incomplete or missing media group"})},discontinuity:function(){q+=1,E.discontinuity=!0,this.manifest.discontinuityStarts.push(y.length)},"program-date-time":function(){this.manifest.dateTimeString===void 0&&(this.manifest.dateTimeString=Y.dateTimeString,this.manifest.dateTimeObject=Y.dateTimeObject),E.dateTimeString=Y.dateTimeString,E.dateTimeObject=Y.dateTimeObject},targetduration:function(){!isFinite(Y.duration)||Y.duration<0?this.trigger("warn",{message:"ignoring invalid target duration: "+Y.duration}):this.manifest.targetDuration=Y.duration},totalduration:function(){!isFinite(Y.duration)||Y.duration<0?this.trigger("warn",{message:"ignoring invalid total duration: "+Y.duration}):this.manifest.totalDuration=Y.duration},start:function(){Y.attributes&&!isNaN(Y.attributes["TIME-OFFSET"])?this.manifest.start={timeOffset:Y.attributes["TIME-OFFSET"],precise:Y.attributes.PRECISE}:this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"})},"cue-out":function(){E.cueOut=Y.data},"cue-out-cont":function(){E.cueOutCont=Y.data},"cue-in":function(){E.cueIn=Y.data}}[Y.tagType]||D).call(f)},uri:function(){E.uri=Y.uri,y.push(E),!this.manifest.targetDuration||"duration"in E||(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),E.duration=this.manifest.targetDuration),a&&(E.key=a),E.timeline=q,r&&(E.map=r),E={}},comment:function(){},custom:function(){Y.segment?(E.custom=E.custom||{},E.custom[Y.customType]=Y.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[Y.customType]=Y.data)}})[Y.type].call(f)}),t}na(i,n);var e=i.prototype;return e.push=function(t){this.lineStream.push(t)},e.end=function(){this.lineStream.push(`
`)},e.addParser=function(t){this.parseStream.addParser(t)},e.addTagMapper=function(t){this.parseStream.addTagMapper(t)},i}(Cs),pa=function(n){return!!n&&typeof n=="object"},xr=function n(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];return e.reduce(function(r,a){return Object.keys(a).forEach(function(f){Array.isArray(r[f])&&Array.isArray(a[f])?r[f]=r[f].concat(a[f]):pa(r[f])&&pa(a[f])?r[f]=n(r[f],a[f]):r[f]=a[f]}),r},{})},Ri=function(n){return n.reduce(function(i,e){return i.concat(e)},[])},oc=function(n){if(!n.length)return[];for(var i=[],e=0;e<n.length;e++)i.push(n[e]);return i},Dc="INVALID_NUMBER_OF_PERIOD",sc="DASH_EMPTY_MANIFEST",uc="DASH_INVALID_XML",lc="NO_BASE_URL",cc="SEGMENT_TIME_UNSPECIFIED",hl="UNSUPPORTED_UTC_TIMING_SCHEME",Fo=function(n,i){return function(e,t){(function(r){var a=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/\?#]*\/)*.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,f=/^([^\/?#]*)(.*)$/,y=/(?:\/|^)\.(?=\/)/g,E=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,D={buildAbsoluteURL:function(N,q,Y){if(Y=Y||{},N=N.trim(),!(q=q.trim())){if(!Y.alwaysNormalize)return N;var Q=D.parseURL(N);if(!Q)throw new Error("Error trying to parse base URL.");return Q.path=D.normalizePath(Q.path),D.buildURLFromParts(Q)}var dt=D.parseURL(q);if(!dt)throw new Error("Error trying to parse relative URL.");if(dt.scheme)return Y.alwaysNormalize?(dt.path=D.normalizePath(dt.path),D.buildURLFromParts(dt)):q;var lt=D.parseURL(N);if(!lt)throw new Error("Error trying to parse base URL.");if(!lt.netLoc&&lt.path&&lt.path[0]!=="/"){var At=f.exec(lt.path);lt.netLoc=At[1],lt.path=At[2]}lt.netLoc&&!lt.path&&(lt.path="/");var St={scheme:lt.scheme,netLoc:dt.netLoc,path:null,params:dt.params,query:dt.query,fragment:dt.fragment};if(!dt.netLoc&&(St.netLoc=lt.netLoc,dt.path[0]!=="/"))if(dt.path){var kt=lt.path,te=kt.substring(0,kt.lastIndexOf("/")+1)+dt.path;St.path=D.normalizePath(te)}else St.path=lt.path,dt.params||(St.params=lt.params,dt.query||(St.query=lt.query));return St.path===null&&(St.path=Y.alwaysNormalize?D.normalizePath(dt.path):dt.path),D.buildURLFromParts(St)},parseURL:function(N){var q=a.exec(N);return q?{scheme:q[1]||"",netLoc:q[2]||"",path:q[3]||"",params:q[4]||"",query:q[5]||"",fragment:q[6]||""}:null},normalizePath:function(N){for(N=N.split("").reverse().join("").replace(y,"");N.length!==(N=N.replace(E,"")).length;);return N.split("").reverse().join("")},buildURLFromParts:function(N){return N.scheme+N.netLoc+N.path+N.params+N.query+N.fragment}};e.exports=D})()}(i={exports:{}}),i.exports}(),pl=function(n,i){return/^[a-z]+:/i.test(i)?i:(/\/\//i.test(n)||(n=Fo.buildAbsoluteURL(C.location.href,n)),Fo.buildAbsoluteURL(n,i))},Tu=function(n){var i=n.baseUrl,e=i===void 0?"":i,t=n.source,r=t===void 0?"":t,a=n.range,f=a===void 0?"":a,y=n.indexRange,E=y===void 0?"":y,D={uri:r,resolvedUri:pl(e||"",r)};if(f||E){var N=(f||E).split("-"),q=parseInt(N[0],10),Y=parseInt(N[1],10);D.byterange={length:Y-q+1,offset:q}}return D},di=function(n){var i=n.offset+n.length-1;return n.offset+"-"+i},Mc={static:function(n){var i=n.duration,e=n.timescale,t=e===void 0?1:e,r=n.sourceDuration;return{start:0,end:Math.ceil(r/(i/t))}},dynamic:function(n){var i=n.NOW,e=n.clientOffset,t=n.availabilityStartTime,r=n.timescale,a=r===void 0?1:r,f=n.duration,y=n.start,E=y===void 0?0:y,D=n.minimumUpdatePeriod,N=D===void 0?0:D,q=n.timeShiftBufferDepth,Y=q===void 0?1/0:q,Q=(i+e)/1e3,dt=t+E,lt=Q+N-dt,At=Math.ceil(lt*a/f),St=Math.floor((Q-dt-Y)*a/f),kt=Math.floor((Q-dt)*a/f);return{start:Math.max(0,St),end:Math.min(At,kt)}}},Su=function(n){var i=n.type,e=i===void 0?"static":i,t=n.duration,r=n.timescale,a=r===void 0?1:r,f=n.sourceDuration,y=Mc[e](n),E=function(N,q){for(var Y=[],Q=N;Q<q;Q++)Y.push(Q);return Y}(y.start,y.end).map(function(N){return function(q,Y){var Q=N.duration,dt=N.timescale,lt=dt===void 0?1:dt,At=N.periodIndex,St=N.startNumber;return{number:(St===void 0?1:St)+q,duration:Q/lt,timeline:At,time:Y*Q}}}(n));if(e==="static"){var D=E.length-1;E[D].duration=f-t/a*D}return E},Uc=function(n){var i=n.baseUrl,e=n.initialization,t=e===void 0?{}:e,r=n.sourceDuration,a=n.timescale,f=a===void 0?1:a,y=n.indexRange,E=y===void 0?"":y,D=n.duration;if(!i)throw new Error(lc);var N=Tu({baseUrl:i,source:t.sourceURL,range:t.range}),q=Tu({baseUrl:i,source:i,indexRange:E});if(q.map=N,D){var Y=Su(n);Y.length&&(q.duration=Y[0].duration,q.timeline=Y[0].timeline)}else r&&(q.duration=r/f,q.timeline=0);return q.number=0,[q]},ml=function(n,i,e){for(var t=n.sidx.map?n.sidx.map:null,r=n.sidx.duration,a=n.timeline||0,f=n.sidx.byterange,y=f.offset+f.length,E=i.timescale,D=i.references.filter(function(St){return St.referenceType!==1}),N=[],q=y+i.firstOffset,Y=0;Y<D.length;Y++){var Q=i.references[Y],dt=Q.referencedSize,lt=Q.subsegmentDuration,At=Uc({baseUrl:e,timescale:E,timeline:a,periodIndex:a,duration:lt,sourceDuration:r,indexRange:q+"-"+(q+dt-1)})[0];t&&(At.map=t),N.push(At),q+=dt}return n.segments=N,n},vl=function(n){return function(i){return Object.keys(i).map(function(e){return i[e]})}(n.reduce(function(i,e){var t,r=e.attributes.id+(e.attributes.lang||"");return i[r]?(e.segments[0]&&(e.segments[0].discontinuity=!0),(t=i[r].segments).push.apply(t,e.segments),e.attributes.contentProtection&&(i[r].attributes.contentProtection=e.attributes.contentProtection)):i[r]=e,i},{})).map(function(i){return i.discontinuityStarts=function(e,t){return e.reduce(function(r,a,f){return a[t]&&r.push(f),r},[])}(i.segments,"discontinuity"),i})},gl=function(n,i){if(i===void 0&&(i={}),!Object.keys(i).length)return n;for(var e in n){var t=n[e];if(t.sidx){var r=t.sidx.uri+"-"+di(t.sidx.byterange),a=i[r]&&i[r].sidx;t.sidx&&a&&ml(t,a,t.sidx.resolvedUri)}}return n},Bc=function(n){var i,e=n.attributes,t=n.segments,r=n.sidx,a={attributes:(i={NAME:e.id,BANDWIDTH:e.bandwidth,CODECS:e.codecs},i["PROGRAM-ID"]=1,i),uri:"",endList:(e.type||"static")==="static",timeline:e.periodIndex,resolvedUri:"",targetDuration:e.duration,segments:t,mediaSequence:t.length?t[0].number:1};return e.contentProtection&&(a.contentProtection=e.contentProtection),r&&(a.sidx=r),a},yl=function(n){var i,e=n.attributes,t=n.segments;return t===void 0&&(t=[{uri:e.baseUrl,timeline:e.periodIndex,resolvedUri:e.baseUrl||"",duration:e.sourceDuration,number:0}],e.duration=e.sourceDuration),{attributes:(i={NAME:e.id,BANDWIDTH:e.bandwidth},i["PROGRAM-ID"]=1,i),uri:"",endList:(e.type||"static")==="static",timeline:e.periodIndex,resolvedUri:e.baseUrl||"",targetDuration:e.duration,segments:t,mediaSequence:t.length?t[0].number:1}},Nc=function(n){var i,e=n.attributes,t=n.segments,r=n.sidx,a={attributes:(i={NAME:e.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:e.width,height:e.height},CODECS:e.codecs,BANDWIDTH:e.bandwidth},i["PROGRAM-ID"]=1,i),uri:"",endList:(e.type||"static")==="static",timeline:e.periodIndex,resolvedUri:"",targetDuration:e.duration,segments:t,mediaSequence:t.length?t[0].number:1};return e.contentProtection&&(a.contentProtection=e.contentProtection),r&&(a.sidx=r),a},id=function(n,i){var e;if(i===void 0&&(i={}),!n.length)return{};var t=n[0].attributes,r=t.sourceDuration,a=t.minimumUpdatePeriod,f=a===void 0?0:a,y=vl(n.filter(function(q){var Y=q.attributes;return Y.mimeType==="video/mp4"||Y.contentType==="video"})).map(Nc),E=vl(n.filter(function(q){var Y=q.attributes;return Y.mimeType==="audio/mp4"||Y.contentType==="audio"})),D=n.filter(function(q){var Y=q.attributes;return Y.mimeType==="text/vtt"||Y.contentType==="text"}),N={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:(e={AUDIO:{},VIDEO:{}},e["CLOSED-CAPTIONS"]={},e.SUBTITLES={},e),uri:"",duration:r,playlists:gl(y,i),minimumUpdatePeriod:1e3*f};return E.length&&(N.mediaGroups.AUDIO.audio=function(q,Y){Y===void 0&&(Y={});var Q,dt=q.reduce(function(lt,At){var St=At.attributes.role&&At.attributes.role.value||"",kt=At.attributes.lang||"",te="main";if(kt){var ie=St?" ("+St+")":"";te=""+At.attributes.lang+ie}return lt[te]&&lt[te].playlists[0].attributes.BANDWIDTH>At.attributes.bandwidth||(lt[te]={language:kt,autoselect:!0,default:St==="main",playlists:gl([Bc(At)],Y),uri:""},Q===void 0&&St==="main"&&((Q=At).default=!0)),lt},{});return Q||(dt[Object.keys(dt)[0]].default=!0),dt}(E,i)),D.length&&(N.mediaGroups.SUBTITLES.subs=function(q,Y){return Y===void 0&&(Y={}),q.reduce(function(Q,dt){var lt=dt.attributes.lang||"text";return Q[lt]||(Q[lt]={language:lt,default:!1,autoselect:!1,playlists:gl([yl(dt)],Y),uri:""}),Q},{})}(D,i)),N},ad=function(n,i,e){var t=n.NOW,r=n.clientOffset,a=n.availabilityStartTime,f=n.timescale,y=f===void 0?1:f,E=n.start,D=E===void 0?0:E,N=n.minimumUpdatePeriod,q=(t+r)/1e3+(N===void 0?0:N)-(a+D);return Math.ceil((q*y-i)/e)},Fc=function(n,i){for(var e=n.type,t=e===void 0?"static":e,r=n.minimumUpdatePeriod,a=r===void 0?0:r,f=n.media,y=f===void 0?"":f,E=n.sourceDuration,D=n.timescale,N=D===void 0?1:D,q=n.startNumber,Y=q===void 0?1:q,Q=n.periodIndex,dt=[],lt=-1,At=0;At<i.length;At++){var St=i[At],kt=St.d,te=St.r||0,ie=St.t||0;lt<0&&(lt=ie),ie&&ie>lt&&(lt=ie);var Ie=void 0;if(te<0){var Fe=At+1;Ie=Fe===i.length?t==="dynamic"&&a>0&&y.indexOf("$Number$")>0?ad(n,lt,kt):(E*N-lt)/kt:(i[Fe].t-lt)/kt}else Ie=te+1;for(var Ye=Y+dt.length+Ie,an=Y+dt.length;an<Ye;)dt.push({number:an,duration:kt/N,time:lt,timeline:Q}),lt+=kt,an++}return dt},h=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,A=function(n,i){return n.replace(h,function(e){return function(t,r,a,f){if(t==="$$")return"$";if(e[r]===void 0)return t;var y=""+e[r];return r==="RepresentationID"?y:(f=a?parseInt(f,10):1,y.length>=f?y:""+new Array(f-y.length+1).join("0")+y)}}(i))},L=function(n,i){var e={RepresentationID:n.id,Bandwidth:n.bandwidth||0},t=n.initialization,r=t===void 0?{sourceURL:"",range:""}:t,a=Tu({baseUrl:n.baseUrl,source:A(r.sourceURL,e),range:r.range});return function(f,y){return f.duration||y?f.duration?Su(f):Fc(f,y):[{number:f.startNumber||1,duration:f.sourceDuration,time:0,timeline:f.periodIndex}]}(n,i).map(function(f){e.Number=f.number,e.Time=f.time;var y=A(n.media||"",e);return{uri:y,timeline:f.timeline,duration:f.duration,resolvedUri:pl(n.baseUrl||"",y),map:a,number:f.number}})},M=function(n,i){var e=n.duration,t=n.segmentUrls,r=t===void 0?[]:t;if(!e&&!i||e&&i)throw new Error(cc);var a,f=r.map(function(y){return function(E,D){var N=E.baseUrl,q=E.initialization,Y=q===void 0?{}:q,Q=Tu({baseUrl:N,source:Y.sourceURL,range:Y.range}),dt=Tu({baseUrl:N,source:D.media,range:D.mediaRange});return dt.map=Q,dt}(n,y)});return e&&(a=Su(n)),i&&(a=Fc(n,i)),a.map(function(y,E){if(f[E]){var D=f[E];return D.timeline=y.timeline,D.duration=y.duration,D.number=y.number,D}}).filter(function(y){return y})},$=function(n){var i,e,t=n.attributes,r=n.segmentInfo;r.template?(e=L,i=xr(t,r.template)):r.base?(e=Uc,i=xr(t,r.base)):r.list&&(e=M,i=xr(t,r.list));var a={attributes:t};if(!e)return a;var f=e(i,r.timeline);if(i.duration){var y=i,E=y.duration,D=y.timescale,N=D===void 0?1:D;i.duration=E/N}else f.length?i.duration=f.reduce(function(q,Y){return Math.max(q,Math.ceil(Y.duration))},0):i.duration=0;return a.attributes=i,a.segments=f,r.base&&i.indexRange&&(a.sidx=f[0],a.segments=[]),a},B=function(n,i){return oc(n.childNodes).filter(function(e){return e.tagName===i})},tt=function(n){return n.textContent.trim()},it=function(n){var i=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(n);if(!i)return 0;var e=i.slice(1),t=e[0],r=e[1],a=e[2],f=e[3],y=e[4],E=e[5];return 31536e3*parseFloat(t||0)+2592e3*parseFloat(r||0)+86400*parseFloat(a||0)+3600*parseFloat(f||0)+60*parseFloat(y||0)+parseFloat(E||0)},at={mediaPresentationDuration:function(n){return it(n)},availabilityStartTime:function(n){return function(i){return/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(i)&&(i+="Z"),Date.parse(i)}(n)/1e3},minimumUpdatePeriod:function(n){return it(n)},timeShiftBufferDepth:function(n){return it(n)},start:function(n){return it(n)},width:function(n){return parseInt(n,10)},height:function(n){return parseInt(n,10)},bandwidth:function(n){return parseInt(n,10)},startNumber:function(n){return parseInt(n,10)},timescale:function(n){return parseInt(n,10)},duration:function(n){var i=parseInt(n,10);return isNaN(i)?it(n):i},d:function(n){return parseInt(n,10)},t:function(n){return parseInt(n,10)},r:function(n){return parseInt(n,10)},DEFAULT:function(n){return n}},vt=function(n){return n&&n.attributes?oc(n.attributes).reduce(function(i,e){var t=at[e.name]||at.DEFAULT;return i[e.name]=t(e.value),i},{}):{}},Ot={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},wt=function(n,i){return i.length?Ri(n.map(function(e){return i.map(function(t){return pl(e,tt(t))})})):n},Xt=function(n){var i=B(n,"SegmentTemplate")[0],e=B(n,"SegmentList")[0],t=e&&B(e,"SegmentURL").map(function(q){return xr({tag:"SegmentURL"},vt(q))}),r=B(n,"SegmentBase")[0],a=e||i,f=a&&B(a,"SegmentTimeline")[0],y=e||r||i,E=y&&B(y,"Initialization")[0],D=i&&vt(i);D&&E?D.initialization=E&&vt(E):D&&D.initialization&&(D.initialization={sourceURL:D.initialization});var N={template:D,timeline:f&&B(f,"S").map(function(q){return vt(q)}),list:e&&xr(vt(e),{segmentUrls:t,initialization:vt(E)}),base:r&&xr(vt(r),{initialization:vt(E)})};return Object.keys(N).forEach(function(q){N[q]||delete N[q]}),N},ne=function(n,i,e){return function(t){var r=vt(t),a=wt(i,B(t,"BaseURL")),f=B(t,"Role")[0],y={role:vt(f)},E=xr(n,r,y),D=function(Q){return Q.reduce(function(dt,lt){var At=vt(lt),St=Ot[At.schemeIdUri];if(St){dt[St]={attributes:At};var kt=B(lt,"cenc:pssh")[0];if(kt){var te=tt(kt),ie=te&&wi(te);dt[St].pssh=ie}}return dt},{})}(B(t,"ContentProtection"));Object.keys(D).length&&(E=xr(E,{contentProtection:D}));var N=Xt(t),q=B(t,"Representation"),Y=xr(e,N);return Ri(q.map(function(Q,dt,lt){return function(At){var St=B(At,"BaseURL"),kt=wt(dt,St),te=xr(Q,vt(At)),ie=Xt(At);return kt.map(function(Ie){return{segmentInfo:xr(lt,ie),attributes:xr(te,{baseUrl:Ie})}})}}(E,a,Y)))}},Kt=function(n,i){return function(e,t){var r=wt(i,B(e,"BaseURL")),a=vt(e),f=parseInt(a.id,10),y=C.isNaN(f)?t:f,E=xr(n,{periodIndex:y}),D=B(e,"AdaptationSet"),N=Xt(e);return Ri(D.map(ne(E,r,N)))}},Ft=function(n){if(n==="")throw new Error(sc);var i=new C.DOMParser().parseFromString(n,"application/xml"),e=i&&i.documentElement.tagName==="MPD"?i.documentElement:null;if(!e||e&&e.getElementsByTagName("parsererror").length>0)throw new Error(uc);return e},ye=function(n,i){return i===void 0&&(i={}),id(function(e){return e.map($)}(function(e,t){t===void 0&&(t={});var r=t,a=r.manifestUri,f=a===void 0?"":a,y=r.NOW,E=y===void 0?Date.now():y,D=r.clientOffset,N=D===void 0?0:D,q=B(e,"Period");if(!q.length)throw new Error(Dc);var Y=vt(e),Q=wt([f],B(e,"BaseURL"));return Y.sourceDuration=Y.mediaPresentationDuration||0,Y.NOW=E,Y.clientOffset=N,Ri(q.map(Kt(Y,Q)))}(Ft(n),i)),i.sidxMapping)},Ve=function(n){return function(i){var e=B(i,"UTCTiming")[0];if(!e)return null;var t=vt(e);switch(t.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":t.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":t.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":t.method="DIRECT",t.value=Date.parse(t.value);break;case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:throw new Error(hl)}return t}(Ft(n))},ze=function(n){return n>>>0};nc=function(n){return Zi(n,["moov","trak"]).reduce(function(i,e){var t,r,a,f,y;return(t=Zi(e,["tkhd"])[0])?(r=t[0],f=ze(t[a=r===0?12:20]<<24|t[a+1]<<16|t[a+2]<<8|t[a+3]),(y=Zi(e,["mdia","mdhd"])[0])?(a=(r=y[0])===0?12:20,i[f]=ze(y[a]<<24|y[a+1]<<16|y[a+2]<<8|y[a+3]),i):null):null},{})},bu=function(n,i){var e,t,r;return e=Zi(i,["moof","traf"]),t=[].concat.apply([],e.map(function(a){return Zi(a,["tfhd"]).map(function(f){var y,E;return y=ze(f[4]<<24|f[5]<<16|f[6]<<8|f[7]),E=n[y]||9e4,(Zi(a,["tfdt"]).map(function(D){var N,q;return N=D[0],q=ze(D[4]<<24|D[5]<<16|D[6]<<8|D[7]),N===1&&(q*=Math.pow(2,32),q+=ze(D[8]<<24|D[9]<<16|D[10]<<8|D[11])),q})[0]||1/0)/E})})),r=Math.min.apply(null,t),isFinite(r)?r:0},rc=function(n){var i=Zi(n,["moov","trak"]),e=[];return i.forEach(function(t){var r=Zi(t,["mdia","hdlr"]),a=Zi(t,["tkhd"]);r.forEach(function(f,y){var E,D,N=dl(f.subarray(8,12)),q=a[y];N==="vide"&&(D=(E=new DataView(q.buffer,q.byteOffset,q.byteLength)).getUint8(0)===0?E.getUint32(12):E.getUint32(20),e.push(D))})}),e};var Ze,An,Pe,gn,It,Bt,_e,He,dn,fn,Tn,Pn,Hn,er,qn,$n,xe,Rn,Nn,Mn,Zr,mo,bi,wn,we,Fn,tn,Ln,Or,Cr,zr,vo,dc,fc,Ti,wu,jd,xd,Ca={findBox:Zi=function(n,i){var e,t,r,a,f,y=[];if(!i.length)return null;for(e=0;e<n.byteLength;)t=ze(n[e]<<24|n[e+1]<<16|n[e+2]<<8|n[e+3]),r=dl(n.subarray(e+4,e+8)),a=t>1?e+t:n.byteLength,r===i[0]&&(i.length===1?y.push(n.subarray(e+8,a)):(f=Zi(n.subarray(e+8,a),i.slice(1))).length&&(y=y.concat(f))),e=a;return y},parseType:dl=function(n){var i="";return i+=String.fromCharCode(n[0]),i+=String.fromCharCode(n[1]),(i+=String.fromCharCode(n[2]))+String.fromCharCode(n[3])},timescale:nc,startTime:bu,videoTrackIds:rc},Aa=Ca.parseType,ln=function(n){return new Date(1e3*n-20828448e5)},od=function(n){return{isLeading:(12&n[0])>>>2,dependsOn:3&n[0],isDependedOn:(192&n[1])>>>6,hasRedundancy:(48&n[1])>>>4,paddingValue:(14&n[1])>>>1,isNonSyncSample:1&n[1],degradationPriority:n[2]<<8|n[3]}},ja=function(n){var i,e,t=new DataView(n.buffer,n.byteOffset,n.byteLength),r=[];for(i=0;i+4<n.length;i+=e)if(e=t.getUint32(i),i+=4,e<=0)r.push("<span style='color:red;'>MALFORMED DATA</span>");else switch(31&n[i]){case 1:r.push("slice_layer_without_partitioning_rbsp");break;case 5:r.push("slice_layer_without_partitioning_rbsp_idr");break;case 6:r.push("sei_rbsp");break;case 7:r.push("seq_parameter_set_rbsp");break;case 8:r.push("pic_parameter_set_rbsp");break;case 9:r.push("access_unit_delimiter_rbsp");break;default:r.push("UNKNOWN NAL - "+n[i]&31)}return r},As={avc1:function(n){var i=new DataView(n.buffer,n.byteOffset,n.byteLength);return{dataReferenceIndex:i.getUint16(6),width:i.getUint16(24),height:i.getUint16(26),horizresolution:i.getUint16(28)+i.getUint16(30)/16,vertresolution:i.getUint16(32)+i.getUint16(34)/16,frameCount:i.getUint16(40),depth:i.getUint16(74),config:Ze(n.subarray(78,n.byteLength))}},avcC:function(n){var i,e,t,r,a=new DataView(n.buffer,n.byteOffset,n.byteLength),f={configurationVersion:n[0],avcProfileIndication:n[1],profileCompatibility:n[2],avcLevelIndication:n[3],lengthSizeMinusOne:3&n[4],sps:[],pps:[]},y=31&n[5];for(t=6,r=0;r<y;r++)e=a.getUint16(t),t+=2,f.sps.push(new Uint8Array(n.subarray(t,t+e))),t+=e;for(i=n[t],t++,r=0;r<i;r++)e=a.getUint16(t),t+=2,f.pps.push(new Uint8Array(n.subarray(t,t+e))),t+=e;return f},btrt:function(n){var i=new DataView(n.buffer,n.byteOffset,n.byteLength);return{bufferSizeDB:i.getUint32(0),maxBitrate:i.getUint32(4),avgBitrate:i.getUint32(8)}},esds:function(n){return{version:n[0],flags:new Uint8Array(n.subarray(1,4)),esId:n[6]<<8|n[7],streamPriority:31&n[8],decoderConfig:{objectProfileIndication:n[11],streamType:n[12]>>>2&63,bufferSize:n[13]<<16|n[14]<<8|n[15],maxBitrate:n[16]<<24|n[17]<<16|n[18]<<8|n[19],avgBitrate:n[20]<<24|n[21]<<16|n[22]<<8|n[23],decoderConfigDescriptor:{tag:n[24],length:n[25],audioObjectType:n[26]>>>3&31,samplingFrequencyIndex:(7&n[26])<<1|n[27]>>>7&1,channelConfiguration:n[27]>>>3&15}}}},ftyp:function(n){for(var i=new DataView(n.buffer,n.byteOffset,n.byteLength),e={majorBrand:Aa(n.subarray(0,4)),minorVersion:i.getUint32(4),compatibleBrands:[]},t=8;t<n.byteLength;)e.compatibleBrands.push(Aa(n.subarray(t,t+4))),t+=4;return e},dinf:function(n){return{boxes:Ze(n)}},dref:function(n){return{version:n[0],flags:new Uint8Array(n.subarray(1,4)),dataReferences:Ze(n.subarray(8))}},hdlr:function(n){var i={version:new DataView(n.buffer,n.byteOffset,n.byteLength).getUint8(0),flags:new Uint8Array(n.subarray(1,4)),handlerType:Aa(n.subarray(8,12)),name:""},e=8;for(e=24;e<n.byteLength;e++){if(n[e]===0){e++;break}i.name+=String.fromCharCode(n[e])}return i.name=decodeURIComponent(escape(i.name)),i},mdat:function(n){return{byteLength:n.byteLength,nals:ja(n)}},mdhd:function(n){var i,e=new DataView(n.buffer,n.byteOffset,n.byteLength),t=4,r={version:e.getUint8(0),flags:new Uint8Array(n.subarray(1,4)),language:""};return r.version===1?(t+=4,r.creationTime=ln(e.getUint32(t)),t+=8,r.modificationTime=ln(e.getUint32(t)),t+=4,r.timescale=e.getUint32(t),t+=8,r.duration=e.getUint32(t)):(r.creationTime=ln(e.getUint32(t)),t+=4,r.modificationTime=ln(e.getUint32(t)),t+=4,r.timescale=e.getUint32(t),t+=4,r.duration=e.getUint32(t)),t+=4,i=e.getUint16(t),r.language+=String.fromCharCode(96+(i>>10)),r.language+=String.fromCharCode(96+((992&i)>>5)),r.language+=String.fromCharCode(96+(31&i)),r},mdia:function(n){return{boxes:Ze(n)}},mfhd:function(n){return{version:n[0],flags:new Uint8Array(n.subarray(1,4)),sequenceNumber:n[4]<<24|n[5]<<16|n[6]<<8|n[7]}},minf:function(n){return{boxes:Ze(n)}},mp4a:function(n){var i=new DataView(n.buffer,n.byteOffset,n.byteLength),e={dataReferenceIndex:i.getUint16(6),channelcount:i.getUint16(16),samplesize:i.getUint16(18),samplerate:i.getUint16(24)+i.getUint16(26)/65536};return n.byteLength>28&&(e.streamDescriptor=Ze(n.subarray(28))[0]),e},moof:function(n){return{boxes:Ze(n)}},moov:function(n){return{boxes:Ze(n)}},mvex:function(n){return{boxes:Ze(n)}},mvhd:function(n){var i=new DataView(n.buffer,n.byteOffset,n.byteLength),e=4,t={version:i.getUint8(0),flags:new Uint8Array(n.subarray(1,4))};return t.version===1?(e+=4,t.creationTime=ln(i.getUint32(e)),e+=8,t.modificationTime=ln(i.getUint32(e)),e+=4,t.timescale=i.getUint32(e),e+=8,t.duration=i.getUint32(e)):(t.creationTime=ln(i.getUint32(e)),e+=4,t.modificationTime=ln(i.getUint32(e)),e+=4,t.timescale=i.getUint32(e),e+=4,t.duration=i.getUint32(e)),e+=4,t.rate=i.getUint16(e)+i.getUint16(e+2)/16,e+=4,t.volume=i.getUint8(e)+i.getUint8(e+1)/8,e+=2,e+=2,e+=8,t.matrix=new Uint32Array(n.subarray(e,e+36)),e+=36,e+=24,t.nextTrackId=i.getUint32(e),t},pdin:function(n){var i=new DataView(n.buffer,n.byteOffset,n.byteLength);return{version:i.getUint8(0),flags:new Uint8Array(n.subarray(1,4)),rate:i.getUint32(4),initialDelay:i.getUint32(8)}},sdtp:function(n){var i,e={version:n[0],flags:new Uint8Array(n.subarray(1,4)),samples:[]};for(i=4;i<n.byteLength;i++)e.samples.push({dependsOn:(48&n[i])>>4,isDependedOn:(12&n[i])>>2,hasRedundancy:3&n[i]});return e},sidx:function(n){var i,e=new DataView(n.buffer,n.byteOffset,n.byteLength),t={version:n[0],flags:new Uint8Array(n.subarray(1,4)),references:[],referenceId:e.getUint32(4),timescale:e.getUint32(8),earliestPresentationTime:e.getUint32(12),firstOffset:e.getUint32(16)},r=e.getUint16(22);for(i=24;r;i+=12,r--)t.references.push({referenceType:(128&n[i])>>>7,referencedSize:2147483647&e.getUint32(i),subsegmentDuration:e.getUint32(i+4),startsWithSap:!!(128&n[i+8]),sapType:(112&n[i+8])>>>4,sapDeltaTime:268435455&e.getUint32(i+8)});return t},smhd:function(n){return{version:n[0],flags:new Uint8Array(n.subarray(1,4)),balance:n[4]+n[5]/256}},stbl:function(n){return{boxes:Ze(n)}},stco:function(n){var i,e=new DataView(n.buffer,n.byteOffset,n.byteLength),t={version:n[0],flags:new Uint8Array(n.subarray(1,4)),chunkOffsets:[]},r=e.getUint32(4);for(i=8;r;i+=4,r--)t.chunkOffsets.push(e.getUint32(i));return t},stsc:function(n){var i,e=new DataView(n.buffer,n.byteOffset,n.byteLength),t=e.getUint32(4),r={version:n[0],flags:new Uint8Array(n.subarray(1,4)),sampleToChunks:[]};for(i=8;t;i+=12,t--)r.sampleToChunks.push({firstChunk:e.getUint32(i),samplesPerChunk:e.getUint32(i+4),sampleDescriptionIndex:e.getUint32(i+8)});return r},stsd:function(n){return{version:n[0],flags:new Uint8Array(n.subarray(1,4)),sampleDescriptions:Ze(n.subarray(8))}},stsz:function(n){var i,e=new DataView(n.buffer,n.byteOffset,n.byteLength),t={version:n[0],flags:new Uint8Array(n.subarray(1,4)),sampleSize:e.getUint32(4),entries:[]};for(i=12;i<n.byteLength;i+=4)t.entries.push(e.getUint32(i));return t},stts:function(n){var i,e=new DataView(n.buffer,n.byteOffset,n.byteLength),t={version:n[0],flags:new Uint8Array(n.subarray(1,4)),timeToSamples:[]},r=e.getUint32(4);for(i=8;r;i+=8,r--)t.timeToSamples.push({sampleCount:e.getUint32(i),sampleDelta:e.getUint32(i+4)});return t},styp:function(n){return As.ftyp(n)},tfdt:function(n){var i={version:n[0],flags:new Uint8Array(n.subarray(1,4)),baseMediaDecodeTime:n[4]<<24|n[5]<<16|n[6]<<8|n[7]};return i.version===1&&(i.baseMediaDecodeTime*=Math.pow(2,32),i.baseMediaDecodeTime+=n[8]<<24|n[9]<<16|n[10]<<8|n[11]),i},tfhd:function(n){var i,e=new DataView(n.buffer,n.byteOffset,n.byteLength),t={version:n[0],flags:new Uint8Array(n.subarray(1,4)),trackId:e.getUint32(4)},r=1&t.flags[2],a=2&t.flags[2],f=8&t.flags[2],y=16&t.flags[2],E=32&t.flags[2],D=65536&t.flags[0],N=131072&t.flags[0];return i=8,r&&(i+=4,t.baseDataOffset=e.getUint32(12),i+=4),a&&(t.sampleDescriptionIndex=e.getUint32(i),i+=4),f&&(t.defaultSampleDuration=e.getUint32(i),i+=4),y&&(t.defaultSampleSize=e.getUint32(i),i+=4),E&&(t.defaultSampleFlags=e.getUint32(i)),D&&(t.durationIsEmpty=!0),!r&&N&&(t.baseDataOffsetIsMoof=!0),t},tkhd:function(n){var i=new DataView(n.buffer,n.byteOffset,n.byteLength),e=4,t={version:i.getUint8(0),flags:new Uint8Array(n.subarray(1,4))};return t.version===1?(e+=4,t.creationTime=ln(i.getUint32(e)),e+=8,t.modificationTime=ln(i.getUint32(e)),e+=4,t.trackId=i.getUint32(e),e+=4,e+=8,t.duration=i.getUint32(e)):(t.creationTime=ln(i.getUint32(e)),e+=4,t.modificationTime=ln(i.getUint32(e)),e+=4,t.trackId=i.getUint32(e),e+=4,e+=4,t.duration=i.getUint32(e)),e+=4,e+=8,t.layer=i.getUint16(e),e+=2,t.alternateGroup=i.getUint16(e),e+=2,t.volume=i.getUint8(e)+i.getUint8(e+1)/8,e+=2,e+=2,t.matrix=new Uint32Array(n.subarray(e,e+36)),e+=36,t.width=i.getUint16(e)+i.getUint16(e+2)/16,e+=4,t.height=i.getUint16(e)+i.getUint16(e+2)/16,t},traf:function(n){return{boxes:Ze(n)}},trak:function(n){return{boxes:Ze(n)}},trex:function(n){var i=new DataView(n.buffer,n.byteOffset,n.byteLength);return{version:n[0],flags:new Uint8Array(n.subarray(1,4)),trackId:i.getUint32(4),defaultSampleDescriptionIndex:i.getUint32(8),defaultSampleDuration:i.getUint32(12),defaultSampleSize:i.getUint32(16),sampleDependsOn:3&n[20],sampleIsDependedOn:(192&n[21])>>6,sampleHasRedundancy:(48&n[21])>>4,samplePaddingValue:(14&n[21])>>1,sampleIsDifferenceSample:!!(1&n[21]),sampleDegradationPriority:i.getUint16(22)}},trun:function(n){var i,e={version:n[0],flags:new Uint8Array(n.subarray(1,4)),samples:[]},t=new DataView(n.buffer,n.byteOffset,n.byteLength),r=1&e.flags[2],a=4&e.flags[2],f=1&e.flags[1],y=2&e.flags[1],E=4&e.flags[1],D=8&e.flags[1],N=t.getUint32(4),q=8;for(r&&(e.dataOffset=t.getInt32(q),q+=4),a&&N&&(i={flags:od(n.subarray(q,q+4))},q+=4,f&&(i.duration=t.getUint32(q),q+=4),y&&(i.size=t.getUint32(q),q+=4),D&&(i.compositionTimeOffset=t.getUint32(q),q+=4),e.samples.push(i),N--);N--;)i={},f&&(i.duration=t.getUint32(q),q+=4),y&&(i.size=t.getUint32(q),q+=4),E&&(i.flags=od(n.subarray(q,q+4)),q+=4),D&&(i.compositionTimeOffset=t.getUint32(q),q+=4),e.samples.push(i);return e},"url ":function(n){return{version:n[0],flags:new Uint8Array(n.subarray(1,4))}},vmhd:function(n){var i=new DataView(n.buffer,n.byteOffset,n.byteLength);return{version:n[0],flags:new Uint8Array(n.subarray(1,4)),graphicsmode:i.getUint16(4),opcolor:new Uint16Array([i.getUint16(6),i.getUint16(8),i.getUint16(10)])}}},Yn={inspect:Ze=function(n){for(var i,e,t,r,a,f=0,y=[],E=new ArrayBuffer(n.length),D=new Uint8Array(E),N=0;N<n.length;++N)D[N]=n[N];for(i=new DataView(E);f<n.byteLength;)e=i.getUint32(f),t=Aa(n.subarray(f+4,f+8)),r=e>1?f+e:n.byteLength,(a=(As[t]||function(q){return{data:q}})(n.subarray(f+8,r))).size=e,a.type=t,y.push(a),f=r;return y},textify:An=function(n,i){var e;return i=i||0,e=new Array(2*i+1).join(" "),n.map(function(t,r){return e+t.type+`
`+Object.keys(t).filter(function(a){return a!=="type"&&a!=="boxes"}).map(function(a){var f=e+"  "+a+": ",y=t[a];if(y instanceof Uint8Array||y instanceof Uint32Array){var E=Array.prototype.slice.call(new Uint8Array(y.buffer,y.byteOffset,y.byteLength)).map(function(D){return" "+("00"+D.toString(16)).slice(-2)}).join("").match(/.{1,24}/g);return E?E.length===1?f+"<"+E.join("").slice(1)+">":f+`<
`+E.map(function(D){return e+"  "+D}).join(`
`)+`
`+e+"  >":f+"<>"}return f+JSON.stringify(y,null,2).split(`
`).map(function(D,N){return N===0?D:e+"  "+D}).join(`
`)}).join(`
`)+(t.boxes?`
`+An(t.boxes,i+1):"")}).join(`
`)},parseTfdt:As.tfdt,parseHdlr:As.hdlr,parseTfhd:As.tfhd,parseTrun:As.trun,parseSidx:As.sidx},Od=Math.pow(2,32)-1;(function(){var n;if(we={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},typeof Uint8Array!="undefined"){for(n in we)we.hasOwnProperty(n)&&(we[n]=[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3)]);Fn=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),Ln=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),tn=new Uint8Array([0,0,0,1]),Or=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),Cr=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),zr={video:Or,audio:Cr},fc=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),dc=new Uint8Array([0,0,0,0,0,0,0,0]),Ti=new Uint8Array([0,0,0,0,0,0,0,0]),wu=Ti,jd=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),xd=Ti,vo=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}})(),Pe=function(n){var i,e,t=[],r=0;for(i=1;i<arguments.length;i++)t.push(arguments[i]);for(i=t.length;i--;)r+=t[i].byteLength;for(e=new Uint8Array(r+8),new DataView(e.buffer,e.byteOffset,e.byteLength).setUint32(0,e.byteLength),e.set(n,4),i=0,r=8;i<t.length;i++)e.set(t[i],r),r+=t[i].byteLength;return e},gn=function(){return Pe(we.dinf,Pe(we.dref,fc))},It=function(n){return Pe(we.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,n.audioobjecttype<<3|n.samplingfrequencyindex>>>1,n.samplingfrequencyindex<<7|n.channelcount<<3,6,1,2]))},Bt=function(){return Pe(we.ftyp,Fn,tn,Fn,Ln)},Rn=function(n){return Pe(we.hdlr,zr[n])},_e=function(n){return Pe(we.mdat,n)},xe=function(n){var i=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,n.duration>>>24&255,n.duration>>>16&255,n.duration>>>8&255,255&n.duration,85,196,0,0]);return n.samplerate&&(i[12]=n.samplerate>>>24&255,i[13]=n.samplerate>>>16&255,i[14]=n.samplerate>>>8&255,i[15]=255&n.samplerate),Pe(we.mdhd,i)},$n=function(n){return Pe(we.mdia,xe(n),Rn(n.type),dn(n))},He=function(n){return Pe(we.mfhd,new Uint8Array([0,0,0,0,(4278190080&n)>>24,(16711680&n)>>16,(65280&n)>>8,255&n]))},dn=function(n){return Pe(we.minf,n.type==="video"?Pe(we.vmhd,vo):Pe(we.smhd,dc),gn(),Mn(n))},fn=function(n,i){for(var e=[],t=i.length;t--;)e[t]=mo(i[t]);return Pe.apply(null,[we.moof,He(n)].concat(e))},Tn=function(n){for(var i=n.length,e=[];i--;)e[i]=er(n[i]);return Pe.apply(null,[we.moov,Hn(4294967295)].concat(e).concat(Pn(n)))},Pn=function(n){for(var i=n.length,e=[];i--;)e[i]=bi(n[i]);return Pe.apply(null,[we.mvex].concat(e))},Hn=function(n){var i=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(4278190080&n)>>24,(16711680&n)>>16,(65280&n)>>8,255&n,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return Pe(we.mvhd,i)},Nn=function(n){var i,e,t=n.samples||[],r=new Uint8Array(4+t.length);for(e=0;e<t.length;e++)i=t[e].flags,r[e+4]=i.dependsOn<<4|i.isDependedOn<<2|i.hasRedundancy;return Pe(we.sdtp,r)},Mn=function(n){return Pe(we.stbl,Zr(n),Pe(we.stts,xd),Pe(we.stsc,wu),Pe(we.stsz,jd),Pe(we.stco,Ti))},function(){var n,i;Zr=function(e){return Pe(we.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),e.type==="video"?n(e):i(e))},n=function(e){var t,r=e.sps||[],a=e.pps||[],f=[],y=[];for(t=0;t<r.length;t++)f.push((65280&r[t].byteLength)>>>8),f.push(255&r[t].byteLength),f=f.concat(Array.prototype.slice.call(r[t]));for(t=0;t<a.length;t++)y.push((65280&a[t].byteLength)>>>8),y.push(255&a[t].byteLength),y=y.concat(Array.prototype.slice.call(a[t]));return Pe(we.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&e.width)>>8,255&e.width,(65280&e.height)>>8,255&e.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),Pe(we.avcC,new Uint8Array([1,e.profileIdc,e.profileCompatibility,e.levelIdc,255].concat([r.length]).concat(f).concat([a.length]).concat(y))),Pe(we.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])))},i=function(e){return Pe(we.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(65280&e.channelcount)>>8,255&e.channelcount,(65280&e.samplesize)>>8,255&e.samplesize,0,0,0,0,(65280&e.samplerate)>>8,255&e.samplerate,0,0]),It(e))}}(),qn=function(n){var i=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(4278190080&n.id)>>24,(16711680&n.id)>>16,(65280&n.id)>>8,255&n.id,0,0,0,0,(4278190080&n.duration)>>24,(16711680&n.duration)>>16,(65280&n.duration)>>8,255&n.duration,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(65280&n.width)>>8,255&n.width,0,0,(65280&n.height)>>8,255&n.height,0,0]);return Pe(we.tkhd,i)},mo=function(n){var i,e,t,r,a,f;return i=Pe(we.tfhd,new Uint8Array([0,0,0,58,(4278190080&n.id)>>24,(16711680&n.id)>>16,(65280&n.id)>>8,255&n.id,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),a=Math.floor(n.baseMediaDecodeTime/(Od+1)),f=Math.floor(n.baseMediaDecodeTime%(Od+1)),e=Pe(we.tfdt,new Uint8Array([1,0,0,0,a>>>24&255,a>>>16&255,a>>>8&255,255&a,f>>>24&255,f>>>16&255,f>>>8&255,255&f])),n.type==="audio"?(t=wn(n,92),Pe(we.traf,i,e,t)):(r=Nn(n),t=wn(n,r.length+92),Pe(we.traf,i,e,t,r))},er=function(n){return n.duration=n.duration||4294967295,Pe(we.trak,qn(n),$n(n))},bi=function(n){var i=new Uint8Array([0,0,0,0,(4278190080&n.id)>>24,(16711680&n.id)>>16,(65280&n.id)>>8,255&n.id,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return n.type!=="video"&&(i[i.length-1]=0),Pe(we.trex,i)},function(){var n,i,e;e=function(t,r){var a=0,f=0,y=0,E=0;return t.length&&(t[0].duration!==void 0&&(a=1),t[0].size!==void 0&&(f=2),t[0].flags!==void 0&&(y=4),t[0].compositionTimeOffset!==void 0&&(E=8)),[0,0,a|f|y|E,1,(4278190080&t.length)>>>24,(16711680&t.length)>>>16,(65280&t.length)>>>8,255&t.length,(4278190080&r)>>>24,(16711680&r)>>>16,(65280&r)>>>8,255&r]},i=function(t,r){var a,f,y,E;for(r+=20+16*(f=t.samples||[]).length,a=e(f,r),E=0;E<f.length;E++)y=f[E],a=a.concat([(4278190080&y.duration)>>>24,(16711680&y.duration)>>>16,(65280&y.duration)>>>8,255&y.duration,(4278190080&y.size)>>>24,(16711680&y.size)>>>16,(65280&y.size)>>>8,255&y.size,y.flags.isLeading<<2|y.flags.dependsOn,y.flags.isDependedOn<<6|y.flags.hasRedundancy<<4|y.flags.paddingValue<<1|y.flags.isNonSyncSample,61440&y.flags.degradationPriority,15&y.flags.degradationPriority,(4278190080&y.compositionTimeOffset)>>>24,(16711680&y.compositionTimeOffset)>>>16,(65280&y.compositionTimeOffset)>>>8,255&y.compositionTimeOffset]);return Pe(we.trun,new Uint8Array(a))},n=function(t,r){var a,f,y,E;for(r+=20+8*(f=t.samples||[]).length,a=e(f,r),E=0;E<f.length;E++)y=f[E],a=a.concat([(4278190080&y.duration)>>>24,(16711680&y.duration)>>>16,(65280&y.duration)>>>8,255&y.duration,(4278190080&y.size)>>>24,(16711680&y.size)>>>16,(65280&y.size)>>>8,255&y.size]);return Pe(we.trun,new Uint8Array(a))},wn=function(t,r){return t.type==="audio"?n(t,r):i(t,r)}}();var ku={ftyp:Bt,mdat:_e,moof:fn,moov:Tn,initSegment:function(n){var i,e=Bt(),t=Tn(n);return(i=new Uint8Array(e.byteLength+t.byteLength)).set(e),i.set(t,e.byteLength),i}},Eu=function(){this.init=function(){var n={};this.on=function(i,e){n[i]||(n[i]=[]),n[i]=n[i].concat(e)},this.off=function(i,e){var t;return!!n[i]&&(t=n[i].indexOf(e),n[i]=n[i].slice(),n[i].splice(t,1),t>-1)},this.trigger=function(i){var e,t,r,a;if(e=n[i])if(arguments.length===2)for(r=e.length,t=0;t<r;++t)e[t].call(this,arguments[1]);else{for(a=[],t=arguments.length,t=1;t<arguments.length;++t)a.push(arguments[t]);for(r=e.length,t=0;t<r;++t)e[t].apply(this,a)}},this.dispose=function(){n={}}}};Eu.prototype.pipe=function(n){return this.on("data",function(i){n.push(i)}),this.on("done",function(i){n.flush(i)}),n},Eu.prototype.push=function(n){this.trigger("data",n)},Eu.prototype.flush=function(n){this.trigger("done",n)};var Ld,Pd,Rd,Id,Vc,Hc,Ii=Eu,lf=function(n,i){var e={size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}};return e.dataOffset=i,e.compositionTimeOffset=n.pts-n.dts,e.duration=n.duration,e.size=4*n.length,e.size+=n.byteLength,n.keyFrame&&(e.flags.dependsOn=2,e.flags.isNonSyncSample=0),e},cf=function(n){var i,e,t=[],r=[];for(t.byteLength=0,i=0;i<n.length;i++)(e=n[i]).nalUnitType==="access_unit_delimiter_rbsp"?(t.length&&(t.duration=e.dts-t.dts,r.push(t)),(t=[e]).byteLength=e.data.byteLength,t.pts=e.pts,t.dts=e.dts):(e.nalUnitType==="slice_layer_without_partitioning_rbsp_idr"&&(t.keyFrame=!0),t.duration=e.dts-t.dts,t.byteLength+=e.data.byteLength,t.push(e));return r.length&&(!t.duration||t.duration<=0)&&(t.duration=r[r.length-1].duration),r.push(t),r},Qr=function(n){var i,e,t=[],r=[];for(t.byteLength=0,t.nalCount=0,t.duration=0,t.pts=n[0].pts,t.dts=n[0].dts,r.byteLength=0,r.nalCount=0,r.duration=0,r.pts=n[0].pts,r.dts=n[0].dts,i=0;i<n.length;i++)(e=n[i]).keyFrame?(t.length&&(r.push(t),r.byteLength+=t.byteLength,r.nalCount+=t.nalCount,r.duration+=t.duration),(t=[e]).nalCount=e.length,t.byteLength=e.byteLength,t.pts=e.pts,t.dts=e.dts,t.duration=e.duration):(t.duration+=e.duration,t.nalCount+=e.length,t.byteLength+=e.byteLength,t.push(e));return r.length&&t.duration<=0&&(t.duration=r[r.length-1].duration),r.byteLength+=t.byteLength,r.nalCount+=t.nalCount,r.duration+=t.duration,r.push(t),r},Qi=function(n){var i;return!n[0][0].keyFrame&&n.length>1&&(i=n.shift(),n.byteLength-=i.byteLength,n.nalCount-=i.nalCount,n[0][0].dts=i.dts,n[0][0].pts=i.pts,n[0][0].duration+=i.duration),n},df=function(n,i){var e,t,r,a,f,y=i||0,E=[];for(e=0;e<n.length;e++)for(a=n[e],t=0;t<a.length;t++)f=a[t],y+=(r=lf(f,y)).size,E.push(r);return E},Dd=function(n){var i,e,t,r,a,f,y=0,E=n.byteLength,D=n.nalCount,N=new Uint8Array(E+4*D),q=new DataView(N.buffer);for(i=0;i<n.length;i++)for(r=n[i],e=0;e<r.length;e++)for(a=r[e],t=0;t<a.length;t++)f=a[t],q.setUint32(y,f.data.byteLength),y+=4,N.set(f.data,y),y+=f.data.byteLength;return N},js=[33,16,5,32,164,27],sd=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],rr=function(n){for(var i=[];n--;)i.push(0);return i},Md=function(n){return Object.keys(n).reduce(function(i,e){return i[e]=new Uint8Array(n[e].reduce(function(t,r){return t.concat(r)},[])),i},{})}({96e3:[js,[227,64],rr(154),[56]],88200:[js,[231],rr(170),[56]],64e3:[js,[248,192],rr(240),[56]],48e3:[js,[255,192],rr(268),[55,148,128],rr(54),[112]],44100:[js,[255,192],rr(268),[55,163,128],rr(84),[112]],32e3:[js,[255,192],rr(268),[55,234],rr(226),[112]],24e3:[js,[255,192],rr(268),[55,255,128],rr(268),[111,112],rr(126),[224]],16e3:[js,[255,192],rr(268),[55,255,128],rr(268),[111,255],rr(269),[223,108],rr(195),[1,192]],12e3:[sd,rr(268),[3,127,248],rr(268),[6,255,240],rr(268),[13,255,224],rr(268),[27,253,128],rr(259),[56]],11025:[sd,rr(268),[3,127,248],rr(268),[6,255,240],rr(268),[13,255,224],rr(268),[27,255,192],rr(268),[55,175,128],rr(108),[112]],8e3:[sd,rr(268),[3,121,16],rr(47),[7]]});Vc=function(n,i){return Ld(Id(n,i))},Hc=function(n,i){return Pd(Rd(n),i)},Ld=function(n){return 9e4*n},Pd=function(n,i){return n*i},Rd=function(n){return n/9e4},Id=function(n,i){return n/i};var Ud=Vc,_l=Hc,ff=function(n,i,e,t){var r,a,f,y=0,E=0,D=0,N=0;if(i.length&&(r=Ud(n.baseMediaDecodeTime,n.samplerate),y=Math.ceil(9e4/(n.samplerate/1024)),e&&t&&(E=r-Math.max(e,t),N=(D=Math.floor(E/y))*y),!(D<1||N>45e3))){for((a=Md[n.samplerate])||(a=i[0].data),f=0;f<D;f++)i.splice(f,0,{data:a});n.baseMediaDecodeTime-=Math.floor(_l(N,n.samplerate))}},Bd=function(n,i,e){return i.minSegmentDts>=e?n:(i.minSegmentDts=1/0,n.filter(function(t){return t.dts>=e&&(i.minSegmentDts=Math.min(i.minSegmentDts,t.dts),i.minSegmentPts=i.minSegmentDts,!0)}))},Nd=function(n){var i,e,t=[];for(i=0;i<n.length;i++)e=n[i],t.push({size:e.data.byteLength,duration:1024});return t},hf=function(n){var i,e,t=0,r=new Uint8Array(function(a){var f,y=0;for(f=0;f<a.length;f++)y+=a[f].data.byteLength;return y}(n));for(i=0;i<n.length;i++)e=n[i],r.set(e.data,t),t+=e.data.byteLength;return r},hc=function(n){delete n.minSegmentDts,delete n.maxSegmentDts,delete n.minSegmentPts,delete n.maxSegmentPts},Fd=function(n,i){var e,t=n.minSegmentDts;return i||(t-=n.timelineStartInfo.dts),e=n.timelineStartInfo.baseMediaDecodeTime,e+=t,e=Math.max(0,e),n.type==="audio"&&(e*=n.samplerate/9e4,e=Math.floor(e)),e},ud=function(n,i){typeof i.pts=="number"&&(n.timelineStartInfo.pts===void 0&&(n.timelineStartInfo.pts=i.pts),n.minSegmentPts===void 0?n.minSegmentPts=i.pts:n.minSegmentPts=Math.min(n.minSegmentPts,i.pts),n.maxSegmentPts===void 0?n.maxSegmentPts=i.pts:n.maxSegmentPts=Math.max(n.maxSegmentPts,i.pts)),typeof i.dts=="number"&&(n.timelineStartInfo.dts===void 0&&(n.timelineStartInfo.dts=i.dts),n.minSegmentDts===void 0?n.minSegmentDts=i.dts:n.minSegmentDts=Math.min(n.minSegmentDts,i.dts),n.maxSegmentDts===void 0?n.maxSegmentDts=i.dts:n.maxSegmentDts=Math.max(n.maxSegmentDts,i.dts))},pf=function(n){for(var i=0,e={payloadType:-1,payloadSize:0},t=0,r=0;i<n.byteLength&&n[i]!==128;){for(;n[i]===255;)t+=255,i++;for(t+=n[i++];n[i]===255;)r+=255,i++;if(r+=n[i++],!e.payload&&t===4){e.payloadType=t,e.payloadSize=r,e.payload=n.subarray(i,i+r);break}i+=r,t=0,r=0}return e},mf=function(n){return n.payload[0]!==181||(n.payload[1]<<8|n.payload[2])!=49||String.fromCharCode(n.payload[3],n.payload[4],n.payload[5],n.payload[6])!=="GA94"||n.payload[7]!==3?null:n.payload.subarray(8,n.payload.length-1)},ld=function(n,i){var e,t,r,a,f=[];if(!(64&i[0]))return f;for(t=31&i[0],e=0;e<t;e++)a={type:3&i[(r=3*e)+2],pts:n},4&i[r+2]&&(a.ccData=i[r+3]<<8|i[r+4],f.push(a));return f},Vd=function(n){for(var i,e,t=n.byteLength,r=[],a=1;a<t-2;)n[a]===0&&n[a+1]===0&&n[a+2]===3?(r.push(a+2),a+=2):a++;if(r.length===0)return n;i=t-r.length,e=new Uint8Array(i);var f=0;for(a=0;a<i;f++,a++)f===r[0]&&(f++,r.shift()),e[a]=n[f];return e},Hd=4,xs=function n(){n.prototype.init.call(this),this.captionPackets_=[],this.ccStreams_=[new mr(0,0),new mr(0,1),new mr(1,0),new mr(1,1)],this.reset(),this.ccStreams_.forEach(function(i){i.on("data",this.trigger.bind(this,"data")),i.on("done",this.trigger.bind(this,"done"))},this)};(xs.prototype=new Ii).push=function(n){var i,e,t;if(n.nalUnitType==="sei_rbsp"&&(i=pf(n.escapedRBSP)).payloadType===Hd&&(e=mf(i))){if(n.dts<this.latestDts_)return void(this.ignoreNextEqualDts_=!0);if(n.dts===this.latestDts_&&this.ignoreNextEqualDts_)return void(--this.numSameDts_||(this.ignoreNextEqualDts_=!1));t=ld(n.pts,e),this.captionPackets_=this.captionPackets_.concat(t),this.latestDts_!==n.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=n.dts}},xs.prototype.flush=function(){this.captionPackets_.length?(this.captionPackets_.forEach(function(n,i){n.presortIndex=i}),this.captionPackets_.sort(function(n,i){return n.pts===i.pts?n.presortIndex-i.presortIndex:n.pts-i.pts}),this.captionPackets_.forEach(function(n){n.type<2&&this.dispatchCea608Packet(n)},this),this.captionPackets_.length=0,this.ccStreams_.forEach(function(n){n.flush()},this)):this.ccStreams_.forEach(function(n){n.flush()},this)},xs.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(n){n.reset()})},xs.prototype.dispatchCea608Packet=function(n){this.setsTextOrXDSActive(n)?this.activeCea608Channel_[n.type]=null:this.setsChannel1Active(n)?this.activeCea608Channel_[n.type]=0:this.setsChannel2Active(n)&&(this.activeCea608Channel_[n.type]=1),this.activeCea608Channel_[n.type]!==null&&this.ccStreams_[(n.type<<1)+this.activeCea608Channel_[n.type]].push(n)},xs.prototype.setsChannel1Active=function(n){return(30720&n.ccData)==4096},xs.prototype.setsChannel2Active=function(n){return(30720&n.ccData)==6144},xs.prototype.setsTextOrXDSActive=function(n){return(28928&n.ccData)==256||(30974&n.ccData)==4138||(30974&n.ccData)==6186};var cd={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},zc=function(n){return n===null?"":(n=cd[n]||n,String.fromCharCode(n))},vf=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],Ur=function(){for(var n=[],i=15;i--;)n.push("");return n},mr=function n(i,e){n.prototype.init.call(this),this.field_=i||0,this.dataChannel_=e||0,this.name_="CC"+(1+(this.field_<<1|this.dataChannel_)),this.setConstants(),this.reset(),this.push=function(t){var r,a,f,y,E;if((r=32639&t.ccData)!==this.lastControlCode_){if((61440&r)==4096?this.lastControlCode_=r:r!==this.PADDING_&&(this.lastControlCode_=null),f=r>>>8,y=255&r,r!==this.PADDING_)if(r===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(r===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(t.pts),this.flushDisplayed(t.pts),a=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=a,this.startPts_=t.pts;else if(r===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(t.pts);else if(r===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(t.pts);else if(r===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(t.pts);else if(r===this.CARRIAGE_RETURN_)this.clearFormatting(t.pts),this.flushDisplayed(t.pts),this.shiftRowsUp_(),this.startPts_=t.pts;else if(r===this.BACKSPACE_)this.mode_==="popOn"?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(r===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(t.pts),this.displayed_=Ur();else if(r===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=Ur();else if(r===this.RESUME_DIRECT_CAPTIONING_)this.mode_!=="paintOn"&&(this.flushDisplayed(t.pts),this.displayed_=Ur()),this.mode_="paintOn",this.startPts_=t.pts;else if(this.isSpecialCharacter(f,y))E=zc((f=(3&f)<<8)|y),this[this.mode_](t.pts,E),this.column_++;else if(this.isExtCharacter(f,y))this.mode_==="popOn"?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),E=zc((f=(3&f)<<8)|y),this[this.mode_](t.pts,E),this.column_++;else if(this.isMidRowCode(f,y))this.clearFormatting(t.pts),this[this.mode_](t.pts," "),this.column_++,(14&y)==14&&this.addFormatting(t.pts,["i"]),(1&y)==1&&this.addFormatting(t.pts,["u"]);else if(this.isOffsetControlCode(f,y))this.column_+=3&y;else if(this.isPAC(f,y)){var D=vf.indexOf(7968&r);this.mode_==="rollUp"&&(D-this.rollUpRows_+1<0&&(D=this.rollUpRows_-1),this.setRollUp(t.pts,D)),D!==this.row_&&(this.clearFormatting(t.pts),this.row_=D),1&y&&this.formatting_.indexOf("u")===-1&&this.addFormatting(t.pts,["u"]),(16&r)==16&&(this.column_=4*((14&r)>>1)),this.isColorPAC(y)&&(14&y)==14&&this.addFormatting(t.pts,["i"])}else this.isNormalChar(f)&&(y===0&&(y=null),E=zc(f),E+=zc(y),this[this.mode_](t.pts,E),this.column_+=E.length)}else this.lastControlCode_=null}};mr.prototype=new Ii,mr.prototype.flushDisplayed=function(n){var i=this.displayed_.map(function(e){try{return e.trim()}catch(t){return console.error("Skipping malformed caption."),""}}).join(`
`).replace(/^\n+|\n+$/g,"");i.length&&this.trigger("data",{startPts:this.startPts_,endPts:n,text:i,stream:this.name_})},mr.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=Ur(),this.nonDisplayed_=Ur(),this.lastControlCode_=null,this.column_=0,this.row_=14,this.rollUpRows_=2,this.formatting_=[]},mr.prototype.setConstants=function(){this.dataChannel_===0?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):this.dataChannel_===1&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=32|this.CONTROL_,this.END_OF_CAPTION_=47|this.CONTROL_,this.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_,this.CARRIAGE_RETURN_=45|this.CONTROL_,this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_},mr.prototype.isSpecialCharacter=function(n,i){return n===this.EXT_&&i>=48&&i<=63},mr.prototype.isExtCharacter=function(n,i){return(n===this.EXT_+1||n===this.EXT_+2)&&i>=32&&i<=63},mr.prototype.isMidRowCode=function(n,i){return n===this.EXT_&&i>=32&&i<=47},mr.prototype.isOffsetControlCode=function(n,i){return n===this.OFFSET_&&i>=33&&i<=35},mr.prototype.isPAC=function(n,i){return n>=this.BASE_&&n<this.BASE_+8&&i>=64&&i<=127},mr.prototype.isColorPAC=function(n){return n>=64&&n<=79||n>=96&&n<=127},mr.prototype.isNormalChar=function(n){return n>=32&&n<=127},mr.prototype.setRollUp=function(n,i){if(this.mode_!=="rollUp"&&(this.row_=14,this.mode_="rollUp",this.flushDisplayed(n),this.nonDisplayed_=Ur(),this.displayed_=Ur()),i!==void 0&&i!==this.row_)for(var e=0;e<this.rollUpRows_;e++)this.displayed_[i-e]=this.displayed_[this.row_-e],this.displayed_[this.row_-e]="";i===void 0&&(i=this.row_),this.topRow_=i-this.rollUpRows_+1},mr.prototype.addFormatting=function(n,i){this.formatting_=this.formatting_.concat(i);var e=i.reduce(function(t,r){return t+"<"+r+">"},"");this[this.mode_](n,e)},mr.prototype.clearFormatting=function(n){if(this.formatting_.length){var i=this.formatting_.reverse().reduce(function(e,t){return e+"</"+t+">"},"");this.formatting_=[],this[this.mode_](n,i)}},mr.prototype.popOn=function(n,i){var e=this.nonDisplayed_[this.row_];e+=i,this.nonDisplayed_[this.row_]=e},mr.prototype.rollUp=function(n,i){var e=this.displayed_[this.row_];e+=i,this.displayed_[this.row_]=e},mr.prototype.shiftRowsUp_=function(){var n;for(n=0;n<this.topRow_;n++)this.displayed_[n]="";for(n=this.row_+1;n<15;n++)this.displayed_[n]="";for(n=this.topRow_;n<this.row_;n++)this.displayed_[n]=this.displayed_[n+1];this.displayed_[this.row_]=""},mr.prototype.paintOn=function(n,i){var e=this.displayed_[this.row_];e+=i,this.displayed_[this.row_]=e};var dd={CaptionStream:xs,Cea608Stream:mr},ti={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},pc=function(n,i){var e=1;for(n>i&&(e=-1);Math.abs(i-n)>4294967296;)n+=8589934592*e;return n},Gc=function n(i){var e,t;n.prototype.init.call(this),this.type_=i,this.push=function(r){r.type===this.type_&&(t===void 0&&(t=r.dts),r.dts=pc(r.dts,t),r.pts=pc(r.pts,t),e=r.dts,this.trigger("data",r))},this.flush=function(){t=e,this.trigger("done")},this.discontinuity=function(){t=void 0,e=void 0}};Gc.prototype=new Ii;var fd,gf=Gc,yf=pc,hd=function(n,i,e){var t,r="";for(t=i;t<e;t++)r+="%"+("00"+n[t].toString(16)).slice(-2);return r},Wc=function(n,i,e){return decodeURIComponent(hd(n,i,e))},_f=function(n,i,e){return unescape(hd(n,i,e))},bl=function(n){return n[0]<<21|n[1]<<14|n[2]<<7|n[3]},qc={TXXX:function(n){var i;if(n.data[0]===3){for(i=1;i<n.data.length;i++)if(n.data[i]===0){n.description=Wc(n.data,1,i),n.value=Wc(n.data,i+1,n.data.length).replace(/\0*$/,"");break}n.data=n.value}},WXXX:function(n){var i;if(n.data[0]===3){for(i=1;i<n.data.length;i++)if(n.data[i]===0){n.description=Wc(n.data,1,i),n.url=Wc(n.data,i+1,n.data.length);break}}},PRIV:function(n){var i;for(i=0;i<n.data.length;i++)if(n.data[i]===0){n.owner=_f(n.data,0,i);break}n.privateData=n.data.subarray(i+1),n.data=n.privateData}};(fd=function(n){var i,e={debug:!(!n||!n.debug),descriptor:n&&n.descriptor},t=0,r=[],a=0;if(fd.prototype.init.call(this),this.dispatchType=ti.METADATA_STREAM_TYPE.toString(16),e.descriptor)for(i=0;i<e.descriptor.length;i++)this.dispatchType+=("00"+e.descriptor[i].toString(16)).slice(-2);this.push=function(f){var y,E,D,N,q;if(f.type==="timed-metadata"){if(f.dataAlignmentIndicator&&(a=0,r.length=0),r.length===0&&(f.data.length<10||f.data[0]!=="I".charCodeAt(0)||f.data[1]!=="D".charCodeAt(0)||f.data[2]!=="3".charCodeAt(0)))return void(e.debug&&console.log("Skipping unrecognized metadata packet"));if(r.push(f),a+=f.data.byteLength,r.length===1&&(t=bl(f.data.subarray(6,10)),t+=10),!(a<t)){for(y={data:new Uint8Array(t),frames:[],pts:r[0].pts,dts:r[0].dts},q=0;q<t;)y.data.set(r[0].data.subarray(0,t-q),q),q+=r[0].data.byteLength,a-=r[0].data.byteLength,r.shift();E=10,64&y.data[5]&&(E+=4,E+=bl(y.data.subarray(10,14)),t-=bl(y.data.subarray(16,20)));do{if((D=bl(y.data.subarray(E+4,E+8)))<1)return console.log("Malformed ID3 frame encountered. Skipping metadata parsing.");if((N={id:String.fromCharCode(y.data[E],y.data[E+1],y.data[E+2],y.data[E+3]),data:y.data.subarray(E+10,E+D+10)}).key=N.id,qc[N.id]&&(qc[N.id](N),N.owner==="com.apple.streaming.transportStreamTimestamp")){var Y=N.data,Q=(1&Y[3])<<30|Y[4]<<22|Y[5]<<14|Y[6]<<6|Y[7]>>>2;Q*=4,Q+=3&Y[7],N.timeStamp=Q,y.pts===void 0&&y.dts===void 0&&(y.pts=N.timeStamp,y.dts=N.timeStamp),this.trigger("timestamp",N)}y.frames.push(N),E+=10,E+=D}while(E<t);this.trigger("data",y)}}}}).prototype=new Ii;var pd,$c,md,bf=fd,vd=gf;(pd=function(){var n=new Uint8Array(188),i=0;pd.prototype.init.call(this),this.push=function(e){var t,r=0,a=188;for(i?((t=new Uint8Array(e.byteLength+i)).set(n.subarray(0,i)),t.set(e,i),i=0):t=e;a<t.byteLength;)t[r]!==71||t[a]!==71?(r++,a++):(this.trigger("data",t.subarray(r,a)),r+=188,a+=188);r<t.byteLength&&(n.set(t.subarray(r),0),i=t.byteLength-r)},this.flush=function(){i===188&&n[0]===71&&(this.trigger("data",n),i=0),this.trigger("done")}}).prototype=new Ii,($c=function(){var n,i,e,t;$c.prototype.init.call(this),t=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,n=function(r,a){var f=0;a.payloadUnitStartIndicator&&(f+=r[f]+1),a.type==="pat"?i(r.subarray(f),a):e(r.subarray(f),a)},i=function(r,a){a.section_number=r[7],a.last_section_number=r[8],t.pmtPid=(31&r[10])<<8|r[11],a.pmtPid=t.pmtPid},e=function(r,a){var f,y;if(1&r[5]){for(t.programMapTable={video:null,audio:null,"timed-metadata":{}},f=3+((15&r[1])<<8|r[2])-4,y=12+((15&r[10])<<8|r[11]);y<f;){var E=r[y],D=(31&r[y+1])<<8|r[y+2];E===ti.H264_STREAM_TYPE&&t.programMapTable.video===null?t.programMapTable.video=D:E===ti.ADTS_STREAM_TYPE&&t.programMapTable.audio===null?t.programMapTable.audio=D:E===ti.METADATA_STREAM_TYPE&&(t.programMapTable["timed-metadata"][D]=E),y+=5+((15&r[y+3])<<8|r[y+4])}a.programMapTable=t.programMapTable}},this.push=function(r){var a={},f=4;if(a.payloadUnitStartIndicator=!!(64&r[1]),a.pid=31&r[1],a.pid<<=8,a.pid|=r[2],(48&r[3])>>>4>1&&(f+=r[f]+1),a.pid===0)a.type="pat",n(r.subarray(f),a),this.trigger("data",a);else if(a.pid===this.pmtPid)for(a.type="pmt",n(r.subarray(f),a),this.trigger("data",a);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else this.programMapTable===void 0?this.packetsWaitingForPmt.push([r,f,a]):this.processPes_(r,f,a)},this.processPes_=function(r,a,f){f.pid===this.programMapTable.video?f.streamType=ti.H264_STREAM_TYPE:f.pid===this.programMapTable.audio?f.streamType=ti.ADTS_STREAM_TYPE:f.streamType=this.programMapTable["timed-metadata"][f.pid],f.type="pes",f.data=r.subarray(a),this.trigger("data",f)}}).prototype=new Ii,$c.STREAM_TYPES={h264:27,adts:15},(md=function(){var n=this,i={data:[],size:0},e={data:[],size:0},t={data:[],size:0},r=function(a,f,y){var E,D=new Uint8Array(a.size),N={type:f},q=0,Y=0,Q=!1;if(a.data.length&&!(a.size<9)){for(N.trackId=a.data[0].pid,q=0;q<a.data.length;q++)E=a.data[q],D.set(E.data,Y),Y+=E.data.byteLength;(function(dt,lt){var At;lt.packetLength=6+(dt[4]<<8|dt[5]),lt.dataAlignmentIndicator=(4&dt[6])!=0,192&(At=dt[7])&&(lt.pts=(14&dt[9])<<27|(255&dt[10])<<20|(254&dt[11])<<12|(255&dt[12])<<5|(254&dt[13])>>>3,lt.pts*=4,lt.pts+=(6&dt[13])>>>1,lt.dts=lt.pts,64&At&&(lt.dts=(14&dt[14])<<27|(255&dt[15])<<20|(254&dt[16])<<12|(255&dt[17])<<5|(254&dt[18])>>>3,lt.dts*=4,lt.dts+=(6&dt[18])>>>1)),lt.data=dt.subarray(9+dt[8])})(D,N),Q=f==="video"||N.packetLength<=a.size,(y||Q)&&(a.size=0,a.data.length=0),Q&&n.trigger("data",N)}};md.prototype.init.call(this),this.push=function(a){({pat:function(){},pes:function(){var f,y;switch(a.streamType){case ti.H264_STREAM_TYPE:case ti.H264_STREAM_TYPE:f=i,y="video";break;case ti.ADTS_STREAM_TYPE:f=e,y="audio";break;case ti.METADATA_STREAM_TYPE:f=t,y="timed-metadata";break;default:return}a.payloadUnitStartIndicator&&r(f,y,!0),f.data.push(a),f.size+=a.data.byteLength},pmt:function(){var f={type:"metadata",tracks:[]},y=a.programMapTable;y.video!==null&&f.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+y.video,codec:"avc",type:"video"}),y.audio!==null&&f.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+y.audio,codec:"adts",type:"audio"}),n.trigger("data",f)}})[a.type]()},this.flush=function(){r(i,"video"),r(e,"audio"),r(t,"timed-metadata"),this.trigger("done")}}).prototype=new Ii;var zd={PAT_PID:0,MP2T_PACKET_LENGTH:188,TransportPacketStream:pd,TransportParseStream:$c,ElementaryStream:md,TimestampRolloverStream:vd,CaptionStream:dd.CaptionStream,Cea608Stream:dd.Cea608Stream,MetadataStream:bf};for(var gd in ti)ti.hasOwnProperty(gd)&&(zd[gd]=ti[gd]);var yd,s=zd,p=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];(yd=function(){var n;yd.prototype.init.call(this),this.push=function(i){var e,t,r,a,f,y,E=0,D=0;if(i.type==="audio")for(n?(a=n,(n=new Uint8Array(a.byteLength+i.data.byteLength)).set(a),n.set(i.data,a.byteLength)):n=i.data;E+5<n.length;)if(n[E]===255&&(246&n[E+1])==240){if(t=2*(1&~n[E+1]),e=(3&n[E+3])<<11|n[E+4]<<3|(224&n[E+5])>>5,y=9e4*(f=1024*(1+(3&n[E+6])))/p[(60&n[E+2])>>>2],r=E+e,n.byteLength<r)return;if(this.trigger("data",{pts:i.pts+D*y,dts:i.dts+D*y,sampleCount:f,audioobjecttype:1+(n[E+2]>>>6&3),channelcount:(1&n[E+2])<<2|(192&n[E+3])>>>6,samplerate:p[(60&n[E+2])>>>2],samplingfrequencyindex:(60&n[E+2])>>>2,samplesize:16,data:n.subarray(E+7+t,r)}),n.byteLength===r)return void(n=void 0);D++,n=n.subarray(r)}else E++},this.flush=function(){this.trigger("done")}}).prototype=new Ii;var R,W,Z,ot=yd,Tt=function(n){var i=n.byteLength,e=0,t=0;this.length=function(){return 8*i},this.bitsAvailable=function(){return 8*i+t},this.loadWord=function(){var r=n.byteLength-i,a=new Uint8Array(4),f=Math.min(4,i);if(f===0)throw new Error("no bytes available");a.set(n.subarray(r,r+f)),e=new DataView(a.buffer).getUint32(0),t=8*f,i-=f},this.skipBits=function(r){var a;t>r?(e<<=r,t-=r):(r-=t,r-=8*(a=Math.floor(r/8)),i-=a,this.loadWord(),e<<=r,t-=r)},this.readBits=function(r){var a=Math.min(t,r),f=e>>>32-a;return(t-=a)>0?e<<=a:i>0&&this.loadWord(),(a=r-a)>0?f<<a|this.readBits(a):f},this.skipLeadingZeros=function(){var r;for(r=0;r<t;++r)if((e&2147483648>>>r)!=0)return e<<=r,t-=r,r;return this.loadWord(),r+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var r=this.skipLeadingZeros();return this.readBits(r+1)-1},this.readExpGolomb=function(){var r=this.readUnsignedExpGolomb();return 1&r?1+r>>>1:-1*(r>>>1)},this.readBoolean=function(){return this.readBits(1)===1},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};(W=function(){var n,i,e=0;W.prototype.init.call(this),this.push=function(t){var r;for(i?((r=new Uint8Array(i.byteLength+t.data.byteLength)).set(i),r.set(t.data,i.byteLength),i=r):i=t.data;e<i.byteLength-3;e++)if(i[e+2]===1){n=e+5;break}for(;n<i.byteLength;)switch(i[n]){case 0:if(i[n-1]!==0){n+=2;break}if(i[n-2]!==0){n++;break}e+3!==n-2&&this.trigger("data",i.subarray(e+3,n-2));do n++;while(i[n]!==1&&n<i.length);e=n-2,n+=3;break;case 1:if(i[n-1]!==0||i[n-2]!==0){n+=3;break}this.trigger("data",i.subarray(e+3,n-2)),e=n-2,n+=3;break;default:n+=3}i=i.subarray(e),n-=e,e=0},this.flush=function(){i&&i.byteLength>3&&this.trigger("data",i.subarray(e+3)),i=null,e=0,this.trigger("done")}}).prototype=new Ii,Z={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},(R=function(){var n,i,e,t,r,a,f,y=new W;R.prototype.init.call(this),n=this,this.push=function(E){E.type==="video"&&(i=E.trackId,e=E.pts,t=E.dts,y.push(E))},y.on("data",function(E){var D={trackId:i,pts:e,dts:t,data:E};switch(31&E[0]){case 5:D.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:D.nalUnitType="sei_rbsp",D.escapedRBSP=r(E.subarray(1));break;case 7:D.nalUnitType="seq_parameter_set_rbsp",D.escapedRBSP=r(E.subarray(1)),D.config=a(D.escapedRBSP);break;case 8:D.nalUnitType="pic_parameter_set_rbsp";break;case 9:D.nalUnitType="access_unit_delimiter_rbsp"}n.trigger("data",D)}),y.on("done",function(){n.trigger("done")}),this.flush=function(){y.flush()},f=function(E,D){var N,q=8,Y=8;for(N=0;N<E;N++)Y!==0&&(Y=(q+D.readExpGolomb()+256)%256),q=Y===0?q:Y},r=function(E){for(var D,N,q=E.byteLength,Y=[],Q=1;Q<q-2;)E[Q]===0&&E[Q+1]===0&&E[Q+2]===3?(Y.push(Q+2),Q+=2):Q++;if(Y.length===0)return E;D=q-Y.length,N=new Uint8Array(D);var dt=0;for(Q=0;Q<D;dt++,Q++)dt===Y[0]&&(dt++,Y.shift()),N[Q]=E[dt];return N},a=function(E){var D,N,q,Y,Q,dt,lt,At,St,kt,te,ie,Ie,Fe=0,Ye=0,an=0,Me=0,Lr=1;if(N=(D=new Tt(E)).readUnsignedByte(),Y=D.readUnsignedByte(),q=D.readUnsignedByte(),D.skipUnsignedExpGolomb(),Z[N]&&((Q=D.readUnsignedExpGolomb())===3&&D.skipBits(1),D.skipUnsignedExpGolomb(),D.skipUnsignedExpGolomb(),D.skipBits(1),D.readBoolean()))for(te=Q!==3?8:12,Ie=0;Ie<te;Ie++)D.readBoolean()&&f(Ie<6?16:64,D);if(D.skipUnsignedExpGolomb(),(dt=D.readUnsignedExpGolomb())===0)D.readUnsignedExpGolomb();else if(dt===1)for(D.skipBits(1),D.skipExpGolomb(),D.skipExpGolomb(),lt=D.readUnsignedExpGolomb(),Ie=0;Ie<lt;Ie++)D.skipExpGolomb();if(D.skipUnsignedExpGolomb(),D.skipBits(1),At=D.readUnsignedExpGolomb(),St=D.readUnsignedExpGolomb(),(kt=D.readBits(1))===0&&D.skipBits(1),D.skipBits(1),D.readBoolean()&&(Fe=D.readUnsignedExpGolomb(),Ye=D.readUnsignedExpGolomb(),an=D.readUnsignedExpGolomb(),Me=D.readUnsignedExpGolomb()),D.readBoolean()&&D.readBoolean()){switch(D.readUnsignedByte()){case 1:ie=[1,1];break;case 2:ie=[12,11];break;case 3:ie=[10,11];break;case 4:ie=[16,11];break;case 5:ie=[40,33];break;case 6:ie=[24,11];break;case 7:ie=[20,11];break;case 8:ie=[32,11];break;case 9:ie=[80,33];break;case 10:ie=[18,11];break;case 11:ie=[15,11];break;case 12:ie=[64,33];break;case 13:ie=[160,99];break;case 14:ie=[4,3];break;case 15:ie=[3,2];break;case 16:ie=[2,1];break;case 255:ie=[D.readUnsignedByte()<<8|D.readUnsignedByte(),D.readUnsignedByte()<<8|D.readUnsignedByte()]}ie&&(Lr=ie[0]/ie[1])}return{profileIdc:N,levelIdc:q,profileCompatibility:Y,width:Math.ceil((16*(At+1)-2*Fe-2*Ye)*Lr),height:(2-kt)*(St+1)*16-2*an-2*Me}}}).prototype=new Ii;var Ct,Vt={H264Stream:R,NalByteStream:W},ce=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],de=function(n){return n[0]<<21|n[1]<<14|n[2]<<7|n[3]},be=function(n,i,e){return unescape(function(t,r,a){var f,y="";for(f=r;f<a;f++)y+="%"+("00"+t[f].toString(16)).slice(-2);return y}(n,i,e))},Ge={isLikelyAacData:function(n){return n[0]==="I".charCodeAt(0)&&n[1]==="D".charCodeAt(0)&&n[2]==="3".charCodeAt(0)},parseId3TagSize:function(n,i){var e=n[i+6]<<21|n[i+7]<<14|n[i+8]<<7|n[i+9];return(16&n[i+5])>>4?e+20:e+10},parseAdtsSize:function(n,i){var e=(224&n[i+5])>>5,t=n[i+4]<<3;return 6144&n[i+3]|t|e},parseType:function(n,i){return n[i]==="I".charCodeAt(0)&&n[i+1]==="D".charCodeAt(0)&&n[i+2]==="3".charCodeAt(0)?"timed-metadata":!0&n[i]&&(240&n[i+1])==240?"audio":null},parseSampleRate:function(n){for(var i=0;i+5<n.length;){if(n[i]===255&&(246&n[i+1])==240)return ce[(60&n[i+2])>>>2];i++}return null},parseAacTimestamp:function(n){var i,e,t;i=10,64&n[5]&&(i+=4,i+=de(n.subarray(10,14)));do{if((e=de(n.subarray(i+4,i+8)))<1)return null;if(String.fromCharCode(n[i],n[i+1],n[i+2],n[i+3])==="PRIV"){t=n.subarray(i+10,i+e+10);for(var r=0;r<t.byteLength;r++)if(t[r]===0){if(be(t,0,r)==="com.apple.streaming.transportStreamTimestamp"){var a=t.subarray(r+1),f=(1&a[3])<<30|a[4]<<22|a[5]<<14|a[6]<<6|a[7]>>>2;return(f*=4)+(3&a[7])}break}}i+=10,i+=e}while(i<n.byteLength);return null}};(Ct=function(){var n=new Uint8Array,i=0;Ct.prototype.init.call(this),this.setTimestamp=function(e){i=e},this.push=function(e){var t,r,a,f,y=0,E=0;for(n.length?(f=n.length,(n=new Uint8Array(e.byteLength+f)).set(n.subarray(0,f)),n.set(e,f)):n=e;n.length-E>=3;)if(n[E]!=="I".charCodeAt(0)||n[E+1]!=="D".charCodeAt(0)||n[E+2]!=="3".charCodeAt(0))if((255&n[E])!=255||(240&n[E+1])!=240)E++;else{if(n.length-E<7||E+(y=Ge.parseAdtsSize(n,E))>n.length)break;a={type:"audio",data:n.subarray(E,E+y),pts:i,dts:i},this.trigger("data",a),E+=y}else{if(n.length-E<10||E+(y=Ge.parseId3TagSize(n,E))>n.length)break;r={type:"timed-metadata",data:n.subarray(E,E+y)},this.trigger("data",r),E+=y}t=n.length-E,n=t>0?n.subarray(E):new Uint8Array}}).prototype=new Ii;var $e,en,pe,ke,yn=Ct,We=Vt.H264Stream,_n=Ge.isLikelyAacData,pn=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],Vn=["width","height","profileIdc","levelIdc","profileCompatibility"],nn=function(n,i){var e;if(n.length!==i.length)return!1;for(e=0;e<n.length;e++)if(n[e]!==i[e])return!1;return!0},hn=function(n,i,e,t,r,a){return{start:{dts:n,pts:n+(e-i)},end:{dts:n+(t-i),pts:n+(r-e)},prependedContentDuration:a,baseMediaDecodeTime:n}};(en=function(n,i){var e=[],t=0,r=0,a=0,f=1/0;i=i||{},en.prototype.init.call(this),this.push=function(y){ud(n,y),n&&pn.forEach(function(E){n[E]=y[E]}),e.push(y)},this.setEarliestDts=function(y){r=y-n.timelineStartInfo.baseMediaDecodeTime},this.setVideoBaseMediaDecodeTime=function(y){f=y},this.setAudioAppendStart=function(y){a=y},this.flush=function(){var y,E,D,N;e.length!==0?(y=Bd(e,n,r),n.baseMediaDecodeTime=Fd(n,i.keepOriginalTimestamps),ff(n,y,a,f),n.samples=Nd(y),D=ku.mdat(hf(y)),e=[],E=ku.moof(t,[n]),N=new Uint8Array(E.byteLength+D.byteLength),t++,N.set(E),N.set(D,E.byteLength),hc(n),this.trigger("data",{track:n,boxes:N}),this.trigger("done","AudioSegmentStream")):this.trigger("done","AudioSegmentStream")}}).prototype=new Ii,($e=function(n,i){var e,t,r=0,a=[],f=[];i=i||{},$e.prototype.init.call(this),delete n.minPTS,this.gopCache_=[],this.push=function(y){ud(n,y),y.nalUnitType!=="seq_parameter_set_rbsp"||e||(e=y.config,n.sps=[y.data],Vn.forEach(function(E){n[E]=e[E]},this)),y.nalUnitType!=="pic_parameter_set_rbsp"||t||(t=y.data,n.pps=[y.data]),a.push(y)},this.flush=function(){for(var y,E,D,N,q,Y,Q,dt,lt=0;a.length&&a[0].nalUnitType!=="access_unit_delimiter_rbsp";)a.shift();if(a.length===0)return this.resetStream_(),void this.trigger("done","VideoSegmentStream");if(y=cf(a),(D=Qr(y))[0][0].keyFrame||((E=this.getGopForFusion_(a[0],n))?(lt=E.duration,D.unshift(E),D.byteLength+=E.byteLength,D.nalCount+=E.nalCount,D.pts=E.pts,D.dts=E.dts,D.duration+=E.duration):D=Qi(D)),f.length){var At;if(!(At=i.alignGopsAtEnd?this.alignGopsAtEnd_(D):this.alignGopsAtStart_(D)))return this.gopCache_.unshift({gop:D.pop(),pps:n.pps,sps:n.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),a=[],this.resetStream_(),void this.trigger("done","VideoSegmentStream");hc(n),D=At}ud(n,D),n.samples=df(D),q=ku.mdat(Dd(D)),n.baseMediaDecodeTime=Fd(n,i.keepOriginalTimestamps),this.trigger("processedGopsInfo",D.map(function(St){return{pts:St.pts,dts:St.dts,byteLength:St.byteLength}})),Q=D[0],dt=D[D.length-1],this.trigger("segmentTimingInfo",hn(n.baseMediaDecodeTime,Q.dts,Q.pts,dt.dts+dt.duration,dt.pts+dt.duration,lt)),this.gopCache_.unshift({gop:D.pop(),pps:n.pps,sps:n.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),a=[],this.trigger("baseMediaDecodeTime",n.baseMediaDecodeTime),this.trigger("timelineStartInfo",n.timelineStartInfo),N=ku.moof(r,[n]),Y=new Uint8Array(N.byteLength+q.byteLength),r++,Y.set(N),Y.set(q,N.byteLength),this.trigger("data",{track:n,boxes:Y}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.resetStream_=function(){hc(n),e=void 0,t=void 0},this.getGopForFusion_=function(y){var E,D,N,q,Y,Q=1/0;for(Y=0;Y<this.gopCache_.length;Y++)N=(q=this.gopCache_[Y]).gop,n.pps&&nn(n.pps[0],q.pps[0])&&n.sps&&nn(n.sps[0],q.sps[0])&&(N.dts<n.timelineStartInfo.dts||(E=y.dts-N.dts-N.duration)>=-1e4&&E<=45e3&&(!D||Q>E)&&(D=q,Q=E));return D?D.gop:null},this.alignGopsAtStart_=function(y){var E,D,N,q,Y,Q,dt,lt;for(Y=y.byteLength,Q=y.nalCount,dt=y.duration,E=D=0;E<f.length&&D<y.length&&(N=f[E],q=y[D],N.pts!==q.pts);)q.pts>N.pts?E++:(D++,Y-=q.byteLength,Q-=q.nalCount,dt-=q.duration);return D===0?y:D===y.length?null:((lt=y.slice(D)).byteLength=Y,lt.duration=dt,lt.nalCount=Q,lt.pts=lt[0].pts,lt.dts=lt[0].dts,lt)},this.alignGopsAtEnd_=function(y){var E,D,N,q,Y,Q,dt;for(E=f.length-1,D=y.length-1,Y=null,Q=!1;E>=0&&D>=0;){if(N=f[E],q=y[D],N.pts===q.pts){Q=!0;break}N.pts>q.pts?E--:(E===f.length-1&&(Y=D),D--)}if(!Q&&Y===null)return null;if((dt=Q?D:Y)===0)return y;var lt=y.slice(dt),At=lt.reduce(function(St,kt){return St.byteLength+=kt.byteLength,St.duration+=kt.duration,St.nalCount+=kt.nalCount,St},{byteLength:0,duration:0,nalCount:0});return lt.byteLength=At.byteLength,lt.duration=At.duration,lt.nalCount=At.nalCount,lt.pts=lt[0].pts,lt.dts=lt[0].dts,lt},this.alignGopsWith=function(y){f=y}}).prototype=new Ii,(ke=function(n,i){this.numberOfTracks=0,this.metadataStream=i,(n=n||{}).remux!==void 0?this.remuxTracks=!!n.remux:this.remuxTracks=!0,typeof n.keepOriginalTimestamps=="boolean"&&(this.keepOriginalTimestamps=n.keepOriginalTimestamps),this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,ke.prototype.init.call(this),this.push=function(e){return e.text?this.pendingCaptions.push(e):e.frames?this.pendingMetadata.push(e):(this.pendingTracks.push(e.track),this.pendingBoxes.push(e.boxes),this.pendingBytes+=e.boxes.byteLength,e.track.type==="video"&&(this.videoTrack=e.track),void(e.track.type==="audio"&&(this.audioTrack=e.track)))}}).prototype=new Ii,ke.prototype.flush=function(n){var i,e,t,r,a=0,f={captions:[],captionStreams:{},metadata:[],info:{}},y=0;if(this.pendingTracks.length<this.numberOfTracks){if(n!=="VideoSegmentStream"&&n!=="AudioSegmentStream"||this.remuxTracks)return;if(this.pendingTracks.length===0)return void(++this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0))}for(this.videoTrack?(y=this.videoTrack.timelineStartInfo.pts,Vn.forEach(function(E){f.info[E]=this.videoTrack[E]},this)):this.audioTrack&&(y=this.audioTrack.timelineStartInfo.pts,pn.forEach(function(E){f.info[E]=this.audioTrack[E]},this)),this.pendingTracks.length===1?f.type=this.pendingTracks[0].type:f.type="combined",this.emittedTracks+=this.pendingTracks.length,t=ku.initSegment(this.pendingTracks),f.initSegment=new Uint8Array(t.byteLength),f.initSegment.set(t),f.data=new Uint8Array(this.pendingBytes),r=0;r<this.pendingBoxes.length;r++)f.data.set(this.pendingBoxes[r],a),a+=this.pendingBoxes[r].byteLength;for(r=0;r<this.pendingCaptions.length;r++)(i=this.pendingCaptions[r]).startTime=i.startPts,this.keepOriginalTimestamps||(i.startTime-=y),i.startTime/=9e4,i.endTime=i.endPts,this.keepOriginalTimestamps||(i.endTime-=y),i.endTime/=9e4,f.captionStreams[i.stream]=!0,f.captions.push(i);for(r=0;r<this.pendingMetadata.length;r++)(e=this.pendingMetadata[r]).cueTime=e.pts,this.keepOriginalTimestamps||(e.cueTime-=y),e.cueTime/=9e4,f.metadata.push(e);f.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",f),this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},(pe=function(n){var i,e,t=this,r=!0;pe.prototype.init.call(this),n=n||{},this.baseMediaDecodeTime=n.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var a={};this.transmuxPipeline_=a,a.type="aac",a.metadataStream=new s.MetadataStream,a.aacStream=new yn,a.audioTimestampRolloverStream=new s.TimestampRolloverStream("audio"),a.timedMetadataTimestampRolloverStream=new s.TimestampRolloverStream("timed-metadata"),a.adtsStream=new ot,a.coalesceStream=new ke(n,a.metadataStream),a.headOfPipeline=a.aacStream,a.aacStream.pipe(a.audioTimestampRolloverStream).pipe(a.adtsStream),a.aacStream.pipe(a.timedMetadataTimestampRolloverStream).pipe(a.metadataStream).pipe(a.coalesceStream),a.metadataStream.on("timestamp",function(f){a.aacStream.setTimestamp(f.timeStamp)}),a.aacStream.on("data",function(f){f.type!=="timed-metadata"||a.audioSegmentStream||(e=e||{timelineStartInfo:{baseMediaDecodeTime:t.baseMediaDecodeTime},codec:"adts",type:"audio"},a.coalesceStream.numberOfTracks++,a.audioSegmentStream=new en(e,n),a.adtsStream.pipe(a.audioSegmentStream).pipe(a.coalesceStream))}),a.coalesceStream.on("data",this.trigger.bind(this,"data")),a.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setupTsPipeline=function(){var a={};this.transmuxPipeline_=a,a.type="ts",a.metadataStream=new s.MetadataStream,a.packetStream=new s.TransportPacketStream,a.parseStream=new s.TransportParseStream,a.elementaryStream=new s.ElementaryStream,a.videoTimestampRolloverStream=new s.TimestampRolloverStream("video"),a.audioTimestampRolloverStream=new s.TimestampRolloverStream("audio"),a.timedMetadataTimestampRolloverStream=new s.TimestampRolloverStream("timed-metadata"),a.adtsStream=new ot,a.h264Stream=new We,a.captionStream=new s.CaptionStream,a.coalesceStream=new ke(n,a.metadataStream),a.headOfPipeline=a.packetStream,a.packetStream.pipe(a.parseStream).pipe(a.elementaryStream),a.elementaryStream.pipe(a.videoTimestampRolloverStream).pipe(a.h264Stream),a.elementaryStream.pipe(a.audioTimestampRolloverStream).pipe(a.adtsStream),a.elementaryStream.pipe(a.timedMetadataTimestampRolloverStream).pipe(a.metadataStream).pipe(a.coalesceStream),a.h264Stream.pipe(a.captionStream).pipe(a.coalesceStream),a.elementaryStream.on("data",function(f){var y;if(f.type==="metadata"){for(y=f.tracks.length;y--;)i||f.tracks[y].type!=="video"?e||f.tracks[y].type!=="audio"||((e=f.tracks[y]).timelineStartInfo.baseMediaDecodeTime=t.baseMediaDecodeTime):(i=f.tracks[y]).timelineStartInfo.baseMediaDecodeTime=t.baseMediaDecodeTime;i&&!a.videoSegmentStream&&(a.coalesceStream.numberOfTracks++,a.videoSegmentStream=new $e(i,n),a.videoSegmentStream.on("timelineStartInfo",function(E){e&&(e.timelineStartInfo=E,a.audioSegmentStream.setEarliestDts(E.dts))}),a.videoSegmentStream.on("processedGopsInfo",t.trigger.bind(t,"gopInfo")),a.videoSegmentStream.on("segmentTimingInfo",t.trigger.bind(t,"videoSegmentTimingInfo")),a.videoSegmentStream.on("baseMediaDecodeTime",function(E){e&&a.audioSegmentStream.setVideoBaseMediaDecodeTime(E)}),a.h264Stream.pipe(a.videoSegmentStream).pipe(a.coalesceStream)),e&&!a.audioSegmentStream&&(a.coalesceStream.numberOfTracks++,a.audioSegmentStream=new en(e,n),a.adtsStream.pipe(a.audioSegmentStream).pipe(a.coalesceStream))}}),a.coalesceStream.on("data",this.trigger.bind(this,"data")),a.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setBaseMediaDecodeTime=function(a){var f=this.transmuxPipeline_;n.keepOriginalTimestamps||(this.baseMediaDecodeTime=a),e&&(e.timelineStartInfo.dts=void 0,e.timelineStartInfo.pts=void 0,hc(e),n.keepOriginalTimestamps||(e.timelineStartInfo.baseMediaDecodeTime=a),f.audioTimestampRolloverStream&&f.audioTimestampRolloverStream.discontinuity()),i&&(f.videoSegmentStream&&(f.videoSegmentStream.gopCache_=[],f.videoTimestampRolloverStream.discontinuity()),i.timelineStartInfo.dts=void 0,i.timelineStartInfo.pts=void 0,hc(i),f.captionStream.reset(),n.keepOriginalTimestamps||(i.timelineStartInfo.baseMediaDecodeTime=a)),f.timedMetadataTimestampRolloverStream&&f.timedMetadataTimestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(a){e&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(a)},this.alignGopsWith=function(a){i&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(a)},this.push=function(a){if(r){var f=_n(a);f&&this.transmuxPipeline_.type!=="aac"?this.setupAacPipeline():f||this.transmuxPipeline_.type==="ts"||this.setupTsPipeline(),r=!1}this.transmuxPipeline_.headOfPipeline.push(a)},this.flush=function(){r=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}}).prototype=new Ii;var Rr={Transmuxer:pe,VideoSegmentStream:$e,AudioSegmentStream:en,AUDIO_PROPERTIES:pn,VIDEO_PROPERTIES:Vn,generateVideoSegmentTimingInfo:hn},ma=Vd,go=dd.CaptionStream,Gr=function(n,i){for(var e=n,t=0;t<i.length;t++){var r=i[t];if(e<r.size)return r;e-=r.size}return null},Vo=function(n,i){var e=Ca.findBox(n,["moof","traf"]),t=Ca.findBox(n,["mdat"]),r={},a=[];return t.forEach(function(f,y){var E=e[y];a.push({mdat:f,traf:E})}),a.forEach(function(f){var y,E,D=f.mdat,N=f.traf,q=Ca.findBox(N,["tfhd"]),Y=Yn.parseTfhd(q[0]),Q=Y.trackId,dt=Ca.findBox(N,["tfdt"]),lt=dt.length>0?Yn.parseTfdt(dt[0]).baseMediaDecodeTime:0,At=Ca.findBox(N,["trun"]);i===Q&&At.length>0&&(y=function(St,kt,te){var ie=kt,Ie=te.defaultSampleDuration||0,Fe=te.defaultSampleSize||0,Ye=te.trackId,an=[];return St.forEach(function(Me){var Lr=Yn.parseTrun(Me).samples;Lr.forEach(function(mn){mn.duration===void 0&&(mn.duration=Ie),mn.size===void 0&&(mn.size=Fe),mn.trackId=Ye,mn.dts=ie,mn.compositionTimeOffset===void 0&&(mn.compositionTimeOffset=0),mn.pts=ie+mn.compositionTimeOffset,ie+=mn.duration}),an=an.concat(Lr)}),an}(At,lt,Y),E=function(St,kt,te){var ie,Ie,Fe,Ye,an=new DataView(St.buffer,St.byteOffset,St.byteLength),Me=[];for(Ie=0;Ie+4<St.length;Ie+=Fe)if(Fe=an.getUint32(Ie),Ie+=4,!(Fe<=0))switch(31&St[Ie]){case 6:var Lr=St.subarray(Ie+1,Ie+1+Fe),mn=Gr(Ie,kt);ie={nalUnitType:"sei_rbsp",size:Fe,data:Lr,escapedRBSP:ma(Lr),trackId:te},mn?(ie.pts=mn.pts,ie.dts=mn.dts,Ye=mn):(ie.pts=Ye.pts,ie.dts=Ye.dts),Me.push(ie)}return Me}(D,y,Q),r[Q]||(r[Q]=[]),r[Q]=r[Q].concat(E))}),r},Os={generator:ku,probe:Ca,Transmuxer:Rr.Transmuxer,AudioSegmentStream:Rr.AudioSegmentStream,VideoSegmentStream:Rr.VideoSegmentStream,CaptionParser:function(){var n,i,e,t,r,a=!1;this.isInitialized=function(){return a},this.init=function(){n=new go,a=!0,n.on("data",function(f){f.startTime=f.startPts/t,f.endTime=f.endPts/t,r.captions.push(f),r.captionStreams[f.stream]=!0})},this.isNewInit=function(f,y){return!(f&&f.length===0||y&&typeof y=="object"&&Object.keys(y).length===0||e===f[0]&&t===y[e])},this.parse=function(f,y,E){var D;if(!this.isInitialized()||!y||!E)return null;if(this.isNewInit(y,E))e=y[0],t=E[e];else if(!e||!t)return i.push(f),null;for(;i.length>0;){var N=i.shift();this.parse(N,y,E)}return(D=function(q,Y,Q){return Y?{seiNals:Vo(q,Y)[Y],timescale:Q}:null}(f,e,t))!==null&&D.seiNals?(this.pushNals(D.seiNals),this.flushStream(),r):null},this.pushNals=function(f){if(!this.isInitialized()||!f||f.length===0)return null;f.forEach(function(y){n.push(y)})},this.flushStream=function(){if(!this.isInitialized())return null;n.flush()},this.clearParsedCaptions=function(){r.captions=[],r.captionStreams={}},this.resetCaptionStream=function(){if(!this.isInitialized())return null;n.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){i=[],e=null,t=null,r?this.clearParsedCaptions():r={captions:[],captionStreams:{}},this.resetCaptionStream()},this.reset()}}.CaptionParser,Tl=function(n){var i=31&n[1];return(i<<=8)|n[2]},Cu=function(n){return!!(64&n[1])},Ho=function(n){var i=0;return(48&n[3])>>>4>1&&(i+=n[4]+1),i},zo=function(n){switch(n){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},Gd={parseType:function(n,i){var e=Tl(n);return e===0?"pat":e===i?"pmt":i?"pes":null},parsePat:function(n){var i=Cu(n),e=4+Ho(n);return i&&(e+=n[e]+1),(31&n[e+10])<<8|n[e+11]},parsePmt:function(n){var i={},e=Cu(n),t=4+Ho(n);if(e&&(t+=n[t]+1),1&n[t+5]){var r;r=3+((15&n[t+1])<<8|n[t+2])-4;for(var a=12+((15&n[t+10])<<8|n[t+11]);a<r;){var f=t+a;i[(31&n[f+1])<<8|n[f+2]]=n[f],a+=5+((15&n[f+3])<<8|n[f+4])}return i}},parsePayloadUnitStartIndicator:Cu,parsePesType:function(n,i){switch(i[Tl(n)]){case ti.H264_STREAM_TYPE:return"video";case ti.ADTS_STREAM_TYPE:return"audio";case ti.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},parsePesTime:function(n){if(!Cu(n))return null;var i=4+Ho(n);if(i>=n.byteLength)return null;var e,t=null;return 192&(e=n[i+7])&&((t={}).pts=(14&n[i+9])<<27|(255&n[i+10])<<20|(254&n[i+11])<<12|(255&n[i+12])<<5|(254&n[i+13])>>>3,t.pts*=4,t.pts+=(6&n[i+13])>>>1,t.dts=t.pts,64&e&&(t.dts=(14&n[i+14])<<27|(255&n[i+15])<<20|(254&n[i+16])<<12|(255&n[i+17])<<5|(254&n[i+18])>>>3,t.dts*=4,t.dts+=(6&n[i+18])>>>1)),t},videoPacketContainsKeyFrame:function(n){for(var i=4+Ho(n),e=n.subarray(i),t=0,r=0,a=!1;r<e.byteLength-3;r++)if(e[r+2]===1){t=r+5;break}for(;t<e.byteLength;)switch(e[t]){case 0:if(e[t-1]!==0){t+=2;break}if(e[t-2]!==0){t++;break}r+3!==t-2&&zo(31&e[r+3])==="slice_layer_without_partitioning_rbsp_idr"&&(a=!0);do t++;while(e[t]!==1&&t<e.length);r=t-2,t+=3;break;case 1:if(e[t-1]!==0||e[t-2]!==0){t+=3;break}zo(31&e[r+3])==="slice_layer_without_partitioning_rbsp_idr"&&(a=!0),r=t-2,t+=3;break;default:t+=3}return e=e.subarray(r),t-=r,r=0,e&&e.byteLength>3&&zo(31&e[r+3])==="slice_layer_without_partitioning_rbsp_idr"&&(a=!0),a}},Au=yf,Qn={};Qn.ts=Gd,Qn.aac=Ge;var _d=function(n,i,e){for(var t,r,a,f,y=0,E=188,D=!1;E<=n.byteLength;)if(n[y]!==71||n[E]!==71&&E!==n.byteLength)y++,E++;else{switch(t=n.subarray(y,E),Qn.ts.parseType(t,i.pid)){case"pes":r=Qn.ts.parsePesType(t,i.table),a=Qn.ts.parsePayloadUnitStartIndicator(t),r==="audio"&&a&&(f=Qn.ts.parsePesTime(t))&&(f.type="audio",e.audio.push(f),D=!0)}if(D)break;y+=188,E+=188}for(y=(E=n.byteLength)-188,D=!1;y>=0;)if(n[y]!==71||n[E]!==71&&E!==n.byteLength)y--,E--;else{switch(t=n.subarray(y,E),Qn.ts.parseType(t,i.pid)){case"pes":r=Qn.ts.parsePesType(t,i.table),a=Qn.ts.parsePayloadUnitStartIndicator(t),r==="audio"&&a&&(f=Qn.ts.parsePesTime(t))&&(f.type="audio",e.audio.push(f),D=!0)}if(D)break;y-=188,E-=188}},Kc=function(n,i,e){for(var t,r,a,f,y,E,D,N=0,q=188,Y=!1,Q={data:[],size:0};q<n.byteLength;)if(n[N]!==71||n[q]!==71)N++,q++;else{switch(t=n.subarray(N,q),Qn.ts.parseType(t,i.pid)){case"pes":if(r=Qn.ts.parsePesType(t,i.table),a=Qn.ts.parsePayloadUnitStartIndicator(t),r==="video"&&(a&&!Y&&(f=Qn.ts.parsePesTime(t))&&(f.type="video",e.video.push(f),Y=!0),!e.firstKeyFrame)){if(a&&Q.size!==0){for(y=new Uint8Array(Q.size),E=0;Q.data.length;)D=Q.data.shift(),y.set(D,E),E+=D.byteLength;if(Qn.ts.videoPacketContainsKeyFrame(y)){var dt=Qn.ts.parsePesTime(y);dt?(e.firstKeyFrame=dt,e.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}Q.size=0}Q.data.push(t),Q.size+=t.byteLength}}if(Y&&e.firstKeyFrame)break;N+=188,q+=188}for(N=(q=n.byteLength)-188,Y=!1;N>=0;)if(n[N]!==71||n[q]!==71)N--,q--;else{switch(t=n.subarray(N,q),Qn.ts.parseType(t,i.pid)){case"pes":r=Qn.ts.parsePesType(t,i.table),a=Qn.ts.parsePayloadUnitStartIndicator(t),r==="video"&&a&&(f=Qn.ts.parsePesTime(t))&&(f.type="video",e.video.push(f),Y=!0)}if(Y)break;N-=188,q-=188}},Xc=function(n){var i={pid:null,table:null},e={};for(var t in function(r,a){for(var f,y=0,E=188;E<r.byteLength;)if(r[y]!==71||r[E]!==71)y++,E++;else{switch(f=r.subarray(y,E),Qn.ts.parseType(f,a.pid)){case"pat":a.pid||(a.pid=Qn.ts.parsePat(f));break;case"pmt":a.table||(a.table=Qn.ts.parsePmt(f))}if(a.pid&&a.table)return;y+=188,E+=188}}(n,i),i.table)if(i.table.hasOwnProperty(t))switch(i.table[t]){case ti.H264_STREAM_TYPE:e.video=[],Kc(n,i,e),e.video.length===0&&delete e.video;break;case ti.ADTS_STREAM_TYPE:e.audio=[],_d(n,i,e),e.audio.length===0&&delete e.audio}return e},Wd=function(n,i){var e;return(e=Qn.aac.isLikelyAacData(n)?function(t){for(var r,a=!1,f=0,y=null,E=null,D=0,N=0;t.length-N>=3;){switch(Qn.aac.parseType(t,N)){case"timed-metadata":if(t.length-N<10){a=!0;break}if((D=Qn.aac.parseId3TagSize(t,N))>t.length){a=!0;break}E===null&&(r=t.subarray(N,N+D),E=Qn.aac.parseAacTimestamp(r)),N+=D;break;case"audio":if(t.length-N<7){a=!0;break}if((D=Qn.aac.parseAdtsSize(t,N))>t.length){a=!0;break}y===null&&(r=t.subarray(N,N+D),y=Qn.aac.parseSampleRate(r)),f++,N+=D;break;default:N++}if(a)return null}if(y===null||E===null)return null;var q=9e4/y;return{audio:[{type:"audio",dts:E,pts:E},{type:"audio",dts:E+1024*f*q,pts:E+1024*f*q}]}}(n):Xc(n))&&(e.audio||e.video)?(function(t,r){if(t.audio&&t.audio.length){var a=r;a===void 0&&(a=t.audio[0].dts),t.audio.forEach(function(E){E.dts=Au(E.dts,a),E.pts=Au(E.pts,a),E.dtsTime=E.dts/9e4,E.ptsTime=E.pts/9e4})}if(t.video&&t.video.length){var f=r;if(f===void 0&&(f=t.video[0].dts),t.video.forEach(function(E){E.dts=Au(E.dts,f),E.pts=Au(E.pts,f),E.dtsTime=E.dts/9e4,E.ptsTime=E.pts/9e4}),t.firstKeyFrame){var y=t.firstKeyFrame;y.dts=Au(y.dts,f),y.pts=Au(y.pts,f),y.dtsTime=y.dts/9e4,y.ptsTime=y.dts/9e4}}}(e,i),e):null},ju=function(n,i){if(!(n instanceof i))throw new TypeError("Cannot call a class as a function")},Yc=function(){function n(i,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(i,r.key,r)}}return function(i,e,t){return e&&n(i.prototype,e),t&&n(i,t),i}}(),yo=null,Ep=function(){function n(i){ju(this,n),yo||(yo=function(){var q=[[[],[],[],[],[]],[[],[],[],[],[]]],Y=q[0],Q=q[1],dt=Y[4],lt=Q[4],At=void 0,St=void 0,kt=void 0,te=[],ie=[],Ie=void 0,Fe=void 0,Ye=void 0,an=void 0,Me=void 0;for(At=0;At<256;At++)ie[(te[At]=At<<1^283*(At>>7))^At]=At;for(St=kt=0;!dt[St];St^=Ie||1,kt=ie[kt]||1)for(Ye=(Ye=kt^kt<<1^kt<<2^kt<<3^kt<<4)>>8^255&Ye^99,dt[St]=Ye,lt[Ye]=St,Me=16843009*te[Fe=te[Ie=te[St]]]^65537*Fe^257*Ie^16843008*St,an=257*te[Ye]^16843008*Ye,At=0;At<4;At++)Y[At][St]=an=an<<24^an>>>8,Q[At][Ye]=Me=Me<<24^Me>>>8;for(At=0;At<5;At++)Y[At]=Y[At].slice(0),Q[At]=Q[At].slice(0);return q}()),this._tables=[[yo[0][0].slice(),yo[0][1].slice(),yo[0][2].slice(),yo[0][3].slice(),yo[0][4].slice()],[yo[1][0].slice(),yo[1][1].slice(),yo[1][2].slice(),yo[1][3].slice(),yo[1][4].slice()]];var e=void 0,t=void 0,r=void 0,a=void 0,f=void 0,y=this._tables[0][4],E=this._tables[1],D=i.length,N=1;if(D!==4&&D!==6&&D!==8)throw new Error("Invalid aes key size");for(a=i.slice(0),f=[],this._key=[a,f],e=D;e<4*D+28;e++)r=a[e-1],(e%D==0||D===8&&e%D==4)&&(r=y[r>>>24]<<24^y[r>>16&255]<<16^y[r>>8&255]<<8^y[255&r],e%D==0&&(r=r<<8^r>>>24^N<<24,N=N<<1^283*(N>>7))),a[e]=a[e-D]^r;for(t=0;e;t++,e--)r=a[3&t?e:e-4],f[t]=e<=4||t<4?r:E[0][y[r>>>24]]^E[1][y[r>>16&255]]^E[2][y[r>>8&255]]^E[3][y[255&r]]}return n.prototype.decrypt=function(i,e,t,r,a,f){var y=this._key[1],E=i^y[0],D=r^y[1],N=t^y[2],q=e^y[3],Y=void 0,Q=void 0,dt=void 0,lt=y.length/4-2,At=void 0,St=4,kt=this._tables[1],te=kt[0],ie=kt[1],Ie=kt[2],Fe=kt[3],Ye=kt[4];for(At=0;At<lt;At++)Y=te[E>>>24]^ie[D>>16&255]^Ie[N>>8&255]^Fe[255&q]^y[St],Q=te[D>>>24]^ie[N>>16&255]^Ie[q>>8&255]^Fe[255&E]^y[St+1],dt=te[N>>>24]^ie[q>>16&255]^Ie[E>>8&255]^Fe[255&D]^y[St+2],q=te[q>>>24]^ie[E>>16&255]^Ie[D>>8&255]^Fe[255&N]^y[St+3],St+=4,E=Y,D=Q,N=dt;for(At=0;At<4;At++)a[(3&-At)+f]=Ye[E>>>24]<<24^Ye[D>>16&255]<<16^Ye[N>>8&255]<<8^Ye[255&q]^y[St++],Y=E,E=D,D=N,N=q,q=Y},n}(),eh=function(){function n(){ju(this,n),this.listeners={}}return n.prototype.on=function(i,e){this.listeners[i]||(this.listeners[i]=[]),this.listeners[i].push(e)},n.prototype.off=function(i,e){if(!this.listeners[i])return!1;var t=this.listeners[i].indexOf(e);return this.listeners[i].splice(t,1),t>-1},n.prototype.trigger=function(i){var e=this.listeners[i];if(e)if(arguments.length===2)for(var t=e.length,r=0;r<t;++r)e[r].call(this,arguments[1]);else for(var a=Array.prototype.slice.call(arguments,1),f=e.length,y=0;y<f;++y)e[y].apply(this,a)},n.prototype.dispose=function(){this.listeners={}},n.prototype.pipe=function(i){this.on("data",function(e){i.push(e)})},n}(),nh=function(n){function i(){ju(this,i);var e=function(t,r){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||typeof r!="object"&&typeof r!="function"?t:r}(this,n.call(this,eh));return e.jobs=[],e.delay=1,e.timeout_=null,e}return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,n),i.prototype.processJob_=function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null},i.prototype.push=function(e){this.jobs.push(e),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},i}(eh),_o=function(n){return n<<24|(65280&n)<<8|(16711680&n)>>8|n>>>24},rh=function(n,i,e){var t=new Int32Array(n.buffer,n.byteOffset,n.byteLength>>2),r=new Ep(Array.prototype.slice.call(i)),a=new Uint8Array(n.byteLength),f=new Int32Array(a.buffer),y=void 0,E=void 0,D=void 0,N=void 0,q=void 0,Y=void 0,Q=void 0,dt=void 0,lt=void 0;for(y=e[0],E=e[1],D=e[2],N=e[3],lt=0;lt<t.length;lt+=4)q=_o(t[lt]),Y=_o(t[lt+1]),Q=_o(t[lt+2]),dt=_o(t[lt+3]),r.decrypt(q,Y,Q,dt,f,lt),f[lt]=_o(f[lt]^y),f[lt+1]=_o(f[lt+1]^E),f[lt+2]=_o(f[lt+2]^D),f[lt+3]=_o(f[lt+3]^N),y=q,E=Y,D=Q,N=dt;return a},Cp=function(){function n(i,e,t,r){ju(this,n);var a=n.STEP,f=new Int32Array(i.buffer),y=new Uint8Array(i.byteLength),E=0;for(this.asyncStream_=new nh,this.asyncStream_.push(this.decryptChunk_(f.subarray(E,E+a),e,t,y)),E=a;E<f.length;E+=a)t=new Uint32Array([_o(f[E-4]),_o(f[E-3]),_o(f[E-2]),_o(f[E-1])]),this.asyncStream_.push(this.decryptChunk_(f.subarray(E,E+a),e,t,y));this.asyncStream_.push(function(){r(null,function(D){return D.subarray(0,D.byteLength-D[D.byteLength-1])}(y))})}return n.prototype.decryptChunk_=function(i,e,t,r){return function(){var a=rh(i,e,t);r.set(a,i.byteOffset)}},Yc(n,null,[{key:"STEP",get:function(){return 32e3}}]),n}(),mc=function(n,i){return/^[a-z]+:/i.test(i)?i:(/\/\//i.test(n)||(n=_i.buildAbsoluteURL(C.location.href,n)),_i.buildAbsoluteURL(n,i))},qd=function(n,i,e){return n&&e.responseURL&&i!==e.responseURL?e.responseURL:i},bo=function(n,i){if(!(n instanceof i))throw new TypeError("Cannot call a class as a function")},Go=function(){function n(i,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(i,r.key,r)}}return function(i,e,t){return e&&n(i.prototype,e),t&&n(i,t),i}}(),xu=function(n,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof i);n.prototype=Object.create(i&&i.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(n,i):n.__proto__=i)},Ls=function(n,i){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!i||typeof i!="object"&&typeof i!="function"?n:i},Ap=function(n,i){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return function(e,t){var r=[],a=!0,f=!1,y=void 0;try{for(var E,D=e[Symbol.iterator]();!(a=(E=D.next()).done)&&(r.push(E.value),!t||r.length!==t);a=!0);}catch(N){f=!0,y=N}finally{try{!a&&D.return&&D.return()}finally{if(f)throw y}}return r}(n,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")},Tf=Et.mergeOptions,jp=Et.EventTarget,xp=Et.log,$d=function(n,i){["AUDIO","SUBTITLES"].forEach(function(e){for(var t in n.mediaGroups[e])for(var r in n.mediaGroups[e][t]){var a=n.mediaGroups[e][t][r];i(a,e,t,r)}})},Sf=function(n,i){var e=Tf(n,{}),t=e.playlists[i.uri];if(!t||t.segments&&i.segments&&t.segments.length===i.segments.length&&t.endList===i.endList&&t.mediaSequence===i.mediaSequence)return null;var r=Tf(t,i);t.segments&&(r.segments=function(f,y,E){var D=y.slice();E=E||0;for(var N=Math.min(f.length,y.length+E),q=E;q<N;q++)D[q-E]=Tf(f[q],D[q-E]);return D}(t.segments,i.segments,i.mediaSequence-t.mediaSequence)),r.segments.forEach(function(f){(function(y,E){y.resolvedUri||(y.resolvedUri=mc(E,y.uri)),y.key&&!y.key.resolvedUri&&(y.key.resolvedUri=mc(E,y.key.uri)),y.map&&!y.map.resolvedUri&&(y.map.resolvedUri=mc(E,y.map.uri))})(f,r.resolvedUri)});for(var a=0;a<e.playlists.length;a++)e.playlists[a].uri===i.uri&&(e.playlists[a]=r);return e.playlists[i.uri]=r,e},ih=function(n){for(var i=n.playlists.length;i--;){var e=n.playlists[i];n.playlists[e.uri]=e,e.resolvedUri=mc(n.uri,e.uri),e.id=i,e.attributes||(e.attributes={},xp.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute."))}},ah=function(n){$d(n,function(i){i.uri&&(i.resolvedUri=mc(n.uri,i.uri))})},oh=function(n,i){var e=n.segments[n.segments.length-1];return i&&e&&e.duration?1e3*e.duration:500*(n.targetDuration||10)},Kd=function(n){function i(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};bo(this,i);var a=Ls(this,(i.__proto__||Object.getPrototypeOf(i)).call(this)),f=r.withCredentials,y=f!==void 0&&f,E=r.handleManifestRedirects,D=E!==void 0&&E;a.srcUrl=e,a.hls_=t,a.withCredentials=y,a.handleManifestRedirects=D;var N=t.options_;if(a.customTagParsers=N&&N.customTagParsers||[],a.customTagMappers=N&&N.customTagMappers||[],!a.srcUrl)throw new Error("A non-empty playlist URL is required");return a.state="HAVE_NOTHING",a.on("mediaupdatetimeout",function(){a.state==="HAVE_METADATA"&&(a.state="HAVE_CURRENT_METADATA",a.request=a.hls_.xhr({uri:mc(a.master.uri,a.media().uri),withCredentials:a.withCredentials},function(q,Y){if(a.request)return q?a.playlistRequestError(a.request,a.media().uri,"HAVE_METADATA"):void a.haveMetadata(a.request,a.media().uri)}))}),a}return xu(i,n),Go(i,[{key:"playlistRequestError",value:function(e,t,r){this.request=null,r&&(this.state=r),this.error={playlist:this.master.playlists[t],status:e.status,message:"HLS playlist request error at URL: "+t+".",responseText:e.responseText,code:e.status>=500?4:2},this.trigger("error")}},{key:"haveMetadata",value:function(e,t){var r=this;this.request=null,this.state="HAVE_METADATA";var a=new ac;this.customTagParsers.forEach(function(y){return a.addParser(y)}),this.customTagMappers.forEach(function(y){return a.addTagMapper(y)}),a.push(e.responseText),a.end(),a.manifest.uri=t,a.manifest.attributes=a.manifest.attributes||{};var f=Sf(this.master,a.manifest);this.targetDuration=a.manifest.targetDuration,f?(this.master=f,this.media_=this.master.playlists[a.manifest.uri]):this.trigger("playlistunchanged"),this.media().endList||(C.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=C.setTimeout(function(){r.trigger("mediaupdatetimeout")},oh(this.media(),!!f))),this.trigger("loadedplaylist")}},{key:"dispose",value:function(){this.stopRequest(),C.clearTimeout(this.mediaUpdateTimeout),C.clearTimeout(this.finalRenditionTimeout)}},{key:"stopRequest",value:function(){if(this.request){var e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}},{key:"media",value:function(e,t){var r=this;if(!e)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);if(typeof e=="string"){if(!this.master.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.master.playlists[e]}if(C.clearTimeout(this.finalRenditionTimeout),t){var a=e.targetDuration/2*1e3||5e3;this.finalRenditionTimeout=C.setTimeout(this.media.bind(this,e,!1),a)}else{var f=this.state,y=!this.media_||e.uri!==this.media_.uri;if(this.master.playlists[e.uri].endList)return this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=e,void(y&&(this.trigger("mediachanging"),this.trigger("mediachange")));if(y){if(this.state="SWITCHING_MEDIA",this.request){if(e.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.request=this.hls_.xhr({uri:e.resolvedUri,withCredentials:this.withCredentials},function(E,D){if(r.request){if(e.resolvedUri=qd(r.handleManifestRedirects,e.resolvedUri,D),E)return r.playlistRequestError(r.request,e.uri,f);r.haveMetadata(D,e.uri),f==="HAVE_MASTER"?r.trigger("loadedmetadata"):r.trigger("mediachange")}})}}}},{key:"pause",value:function(){this.stopRequest(),C.clearTimeout(this.mediaUpdateTimeout),this.state==="HAVE_NOTHING"&&(this.started=!1),this.state==="SWITCHING_MEDIA"?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MASTER":this.state==="HAVE_CURRENT_METADATA"&&(this.state="HAVE_METADATA")}},{key:"load",value:function(e){var t=this;C.clearTimeout(this.mediaUpdateTimeout);var r=this.media();if(e){var a=r?r.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=C.setTimeout(function(){return t.load()},a)}else this.started?r&&!r.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist"):this.start()}},{key:"start",value:function(){var e=this;this.started=!0,this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},function(t,r){if(e.request){if(e.request=null,t)return e.error={status:r.status,message:"HLS playlist request error at URL: "+e.srcUrl+".",responseText:r.responseText,code:2},e.state==="HAVE_NOTHING"&&(e.started=!1),e.trigger("error");var a=new ac;return e.customTagParsers.forEach(function(f){return a.addParser(f)}),e.customTagMappers.forEach(function(f){return a.addTagMapper(f)}),a.push(r.responseText),a.end(),e.state="HAVE_MASTER",e.srcUrl=qd(e.handleManifestRedirects,e.srcUrl,r),a.manifest.uri=e.srcUrl,a.manifest.playlists?(e.master=a.manifest,ih(e.master),ah(e.master),e.trigger("loadedplaylist"),void(e.request||e.media(a.manifest.playlists[0]))):(e.master={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:C.location.href,playlists:[{uri:e.srcUrl,id:0,resolvedUri:e.srcUrl,attributes:{}}]},e.master.playlists[e.srcUrl]=e.master.playlists[0],e.haveMetadata(r,e.srcUrl),e.trigger("loadedmetadata"))}})}}]),i}(jp),sh=Et.createTimeRange,uh=function(n,i,e){var t=void 0,r=void 0;return i===void 0&&(i=n.mediaSequence+n.segments.length),i<n.mediaSequence?0:(t=function(a,f){var y=0,E=f-a.mediaSequence,D=a.segments[E];if(D){if(D.start!==void 0)return{result:D.start,precise:!0};if(D.end!==void 0)return{result:D.end-D.duration,precise:!0}}for(;E--;){if((D=a.segments[E]).end!==void 0)return{result:y+D.end,precise:!0};if(y+=D.duration,D.start!==void 0)return{result:y+D.start,precise:!0}}return{result:y,precise:!1}}(n,i)).precise?t.result:(r=function(a,f){for(var y=0,E=void 0,D=f-a.mediaSequence;D<a.segments.length;D++){if((E=a.segments[D]).start!==void 0)return{result:E.start-y,precise:!0};if(y+=E.duration,E.end!==void 0)return{result:E.end-y,precise:!0}}return{result:-1,precise:!1}}(n,i)).precise?r.result:t.result+e},lh=function(n,i,e){if(!n)return 0;if(typeof e!="number"&&(e=0),i===void 0){if(n.totalDuration)return n.totalDuration;if(!n.endList)return C.Infinity}return uh(n,i,e)},bd=function(n,i,e){var t=0;if(i>e){var r=[e,i];i=r[0],e=r[1]}if(i<0){for(var a=i;a<Math.min(0,e);a++)t+=n.targetDuration;i=0}for(var f=i;f<e;f++)t+=n.segments[f].duration;return t},ch=function(n){if(!n.segments.length)return 0;for(var i=n.segments.length-1,e=n.segments[i].duration||n.targetDuration,t=e+2*n.targetDuration;i--&&!((e+=n.segments[i].duration)>=t););return Math.max(0,i)},dh=function(n,i,e){if(!n||!n.segments)return null;if(n.endList)return lh(n);if(i===null)return null;i=i||0;var t=e?ch(n):n.segments.length;return uh(n,n.mediaSequence+t,i)},fh=function(n){return n-Math.floor(n)==0},hh=function(n,i){if(fh(i))return i+.1*n;for(var e=i.toString().split(".")[1].length,t=1;t<=e;t++){var r=Math.pow(10,t),a=i*r;if(fh(a)||t===e)return(a+n)/r}},Op=hh.bind(null,1),Lp=hh.bind(null,-1),ph=function(n){return n.excludeUntil&&n.excludeUntil>Date.now()},wf=function(n){return n.excludeUntil&&n.excludeUntil===1/0},Xd=function(n){var i=ph(n);return!n.disabled&&!i},mh=function(n,i){return i.attributes&&i.attributes[n]},kf=function(n,i){if(n.playlists.length===1)return!0;var e=i.attributes.BANDWIDTH||Number.MAX_VALUE;return n.playlists.filter(function(t){return!!Xd(t)&&(t.attributes.BANDWIDTH||0)<e}).length===0},xa={duration:lh,seekable:function(n,i){var e=i||0,t=dh(n,i,!0);return t===null?sh():sh(e,t)},safeLiveIndex:ch,getMediaInfoForTime:function(n,i,e,t){var r=void 0,a=void 0,f=n.segments.length,y=i-t;if(y<0){if(e>0){for(r=e-1;r>=0;r--)if(a=n.segments[r],(y+=Lp(a.duration))>0)return{mediaIndex:r,startTime:t-bd(n,e,r)}}return{mediaIndex:0,startTime:i}}if(e<0){for(r=e;r<0;r++)if((y-=n.targetDuration)<0)return{mediaIndex:0,startTime:i};e=0}for(r=e;r<f;r++)if(a=n.segments[r],(y-=Op(a.duration))<0)return{mediaIndex:r,startTime:t+bd(n,e,r)};return{mediaIndex:f-1,startTime:i}},isEnabled:Xd,isDisabled:function(n){return n.disabled},isBlacklisted:ph,isIncompatible:wf,playlistEnd:dh,isAes:function(n){for(var i=0;i<n.segments.length;i++)if(n.segments[i].key)return!0;return!1},isFmp4:function(n){for(var i=0;i<n.segments.length;i++)if(n.segments[i].map)return!0;return!1},hasAttribute:mh,estimateSegmentRequestTime:function(n,i,e){var t=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;return mh("BANDWIDTH",e)?(n*e.attributes.BANDWIDTH-8*t)/i:NaN},isLowestEnabledRendition:kf},Pp=Et.xhr,Rp=Et.mergeOptions,vh=function(){return function n(i,e){i=Rp({timeout:45e3},i);var t=n.beforeRequest||Et.Hls.xhr.beforeRequest;if(t&&typeof t=="function"){var r=t(i);r&&(i=r)}var a=Pp(i,function(y,E){var D=a.response;!y&&D&&(a.responseTime=Date.now(),a.roundTripTime=a.responseTime-a.requestTime,a.bytesReceived=D.byteLength||D.length,a.bandwidth||(a.bandwidth=Math.floor(a.bytesReceived/a.roundTripTime*8*1e3))),E.headers&&(a.responseHeaders=E.headers),y&&y.code==="ETIMEDOUT"&&(a.timedout=!0),y||a.aborted||E.statusCode===200||E.statusCode===206||E.statusCode===0||(y=new Error("XHR Failed with a response of: "+(a&&(D||a.responseText)))),e(y,a)}),f=a.abort;return a.abort=function(){return a.aborted=!0,f.apply(a,arguments)},a.uri=i.uri,a.requestTime=Date.now(),a}},Ef=function(n){var i={};return n.byterange&&(i.Range=function(e){var t;return t=e.offset+e.length-1,"bytes="+e.offset+"-"+t}(n.byterange)),i},Ip=function(n,i){return n.start(i)+"-"+n.end(i)},Dp=function(n,i){var e=n.toString(16);return"00".substring(0,2-e.length)+e+(i%2?" ":"")},Mp=function(n){return n>=32&&n<126?String.fromCharCode(n):"."},gh=function(n){var i={};return Object.keys(n).forEach(function(e){var t=n[e];ArrayBuffer.isView(t)?i[e]={bytes:t.buffer,byteOffset:t.byteOffset,byteLength:t.byteLength}:i[e]=t}),i},Yd=function(n){var i=n.byterange||{length:1/0,offset:0};return[i.length,i.offset,n.resolvedUri].join(",")},yh=function(n){return n.resolvedUri},_h=function(n){for(var i=Array.prototype.slice.call(n),e="",t=0;t<i.length/16;t++)e+=i.slice(16*t,16*t+16).map(Dp).join("")+" "+i.slice(16*t,16*t+16).map(Mp).join("")+`
`;return e},Up=Object.freeze({createTransferableMessage:gh,initSegmentId:Yd,segmentKeyId:yh,hexDump:_h,tagDump:function(n){var i=n.bytes;return _h(i)},textRanges:function(n){var i="",e=void 0;for(e=0;e<n.length;e++)i+=Ip(n,e)+" ";return i}}),Bp=function(n){var i=n.playlist,e=n.time,t=e===void 0?void 0:e,r=n.callback;if(!r)throw new Error("getProgramTime: callback must be provided");if(!i||t===void 0)return r({message:"getProgramTime: playlist and time must be provided"});var a=function(E,D){if(!D||!D.segments||D.segments.length===0)return null;for(var N=0,q=void 0,Y=0;Y<D.segments.length&&!(E<=(N=(q=D.segments[Y]).videoTimingInfo?q.videoTimingInfo.transmuxedPresentationEnd:N+q.duration));Y++);var Q=D.segments[D.segments.length-1];if(Q.videoTimingInfo&&Q.videoTimingInfo.transmuxedPresentationEnd<E)return null;if(E>N){if(E>N+.25*Q.duration)return null;q=Q}return{segment:q,estimatedStart:q.videoTimingInfo?q.videoTimingInfo.transmuxedPresentationStart:N-q.duration,type:q.videoTimingInfo?"accurate":"estimate"}}(t,i);if(!a)return r({message:"valid programTime was not found"});if(a.type==="estimate")return r({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:a.estimatedStart});var f={mediaSeconds:t},y=function(E,D){if(!D.dateTimeObject)return null;var N=D.videoTimingInfo.transmuxerPrependedSeconds,q=E-(D.videoTimingInfo.transmuxedPresentationStart+N);return new Date(D.dateTimeObject.getTime()+1e3*q)}(t,a.segment);return y&&(f.programDateTime=y.toISOString()),r(null,f)},Np=function n(i){var e=i.programTime,t=i.playlist,r=i.retryCount,a=r===void 0?2:r,f=i.seekTo,y=i.pauseAfterSeek,E=y===void 0||y,D=i.tech,N=i.callback;if(!N)throw new Error("seekToProgramTime: callback must be provided");if(e===void 0||!t||!f)return N({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"});if(!t.endList&&!D.hasStarted_)return N({message:"player must be playing a live stream to start buffering"});if(!function(lt){if(!lt.segments||lt.segments.length===0)return!1;for(var At=0;At<lt.segments.length;At++)if(!lt.segments[At].dateTimeObject)return!1;return!0}(t))return N({message:"programDateTime tags must be provided in the manifest "+t.resolvedUri});var q=function(lt,At){var St=void 0;try{St=new Date(lt)}catch(Ye){return null}if(!At||!At.segments||At.segments.length===0)return null;var kt=At.segments[0];if(St<kt.dateTimeObject)return null;for(var te=0;te<At.segments.length-1&&(kt=At.segments[te],!(St<At.segments[te+1].dateTimeObject));te++);var ie=At.segments[At.segments.length-1],Ie=ie.dateTimeObject,Fe=ie.videoTimingInfo?function(Ye){return Ye.transmuxedPresentationEnd-Ye.transmuxedPresentationStart-Ye.transmuxerPrependedSeconds}(ie.videoTimingInfo):ie.duration+.25*ie.duration;return St>new Date(Ie.getTime()+1e3*Fe)?null:(St>Ie&&(kt=ie),{segment:kt,estimatedStart:kt.videoTimingInfo?kt.videoTimingInfo.transmuxedPresentationStart:xa.duration(At,At.mediaSequence+At.segments.indexOf(kt)),type:kt.videoTimingInfo?"accurate":"estimate"})}(e,t);if(!q)return N({message:e+" was not found in the stream"});var Y=q.segment,Q=function(lt,At){var St=void 0,kt=void 0;try{St=new Date(lt),kt=new Date(At)}catch(ie){}var te=St.getTime();return(kt.getTime()-te)/1e3}(Y.dateTimeObject,e);if(q.type==="estimate")return a===0?N({message:e+" is not buffered yet. Try again"}):(f(q.estimatedStart+Q),void D.one("seeked",function(){n({programTime:e,playlist:t,retryCount:a-1,seekTo:f,pauseAfterSeek:E,tech:D,callback:N})}));var dt=Y.start+Q;D.one("seeked",function(){return N(null,D.currentTime())}),E&&D.pause(),f(dt)},bh=function(n,i){var e=[],t=void 0;if(n&&n.length)for(t=0;t<n.length;t++)i(n.start(t),n.end(t))&&e.push([n.start(t),n.end(t)]);return Et.createTimeRanges(e)},Th=function(n,i){return bh(n,function(e,t){return e-1/30<=i&&t+1/30>=i})},Sh=function(n,i){return bh(n,function(e){return e-1/30>=i})},Cf=function(n){var i=[];if(!n||!n.length)return"";for(var e=0;e<n.length;e++)i.push(n.start(e)+" => "+n.end(e));return i.join(", ")},wh=function(n){for(var i=[],e=0;e<n.length;e++)i.push({start:n.start(e),end:n.end(e)});return i},Jc=function(n,i,e){var t=void 0,r=void 0;if(e&&e.cues)for(t=e.cues.length;t--;)(r=e.cues[t]).startTime<=i&&r.endTime>=n&&e.removeCue(r)},kh=function(n){return isNaN(n)||Math.abs(n)===1/0?Number.MAX_VALUE:n},Fp=function(n,i,e){var t=C.WebKitDataCue||C.VTTCue;if(i&&i.forEach(function(N){var q=N.stream;this.inbandTextTracks_[q].addCue(new t(N.startTime+this.timestampOffset,N.endTime+this.timestampOffset,N.text))},n),e){var r=kh(n.mediaSource_.duration);if(e.forEach(function(N){var q=N.cueTime+this.timestampOffset;!(typeof q!="number"||C.isNaN(q)||q<0)&&q<1/0&&N.frames.forEach(function(Y){var Q=new t(q,q,Y.value||Y.url||Y.data||"");Q.frame=Y,Q.value=Y,function(dt){Object.defineProperties(dt.frame,{id:{get:function(){return Et.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),dt.value.key}},value:{get:function(){return Et.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),dt.value.data}},privateData:{get:function(){return Et.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),dt.value.data}}})}(Q),this.metadataTrack_.addCue(Q)},this)},n),n.metadataTrack_&&n.metadataTrack_.cues&&n.metadataTrack_.cues.length){for(var a=n.metadataTrack_.cues,f=[],y=0;y<a.length;y++)a[y]&&f.push(a[y]);var E=f.reduce(function(N,q){var Y=N[q.startTime]||[];return Y.push(q),N[q.startTime]=Y,N},{}),D=Object.keys(E).sort(function(N,q){return Number(N)-Number(q)});D.forEach(function(N,q){var Y=E[N],Q=Number(D[q+1])||r;Y.forEach(function(dt){dt.endTime=Q})})}}},vc=typeof window!="undefined"?window:{},Af=typeof Symbol=="undefined"?"__target":Symbol(),Vp="application/javascript",Hp=vc.BlobBuilder||vc.WebKitBlobBuilder||vc.MozBlobBuilder||vc.MSBlobBuilder,Zc=vc.URL||vc.webkitURL||Zc&&Zc.msURL,Qc=vc.Worker;if(Qc){var jf,Eh=ki("self.onmessage = function () {}"),Ch=new Uint8Array(1);try{(jf=new Qc(Eh)).postMessage(Ch,[Ch.buffer])}catch(n){Qc=null}finally{Zc.revokeObjectURL(Eh),jf&&jf.terminate()}}var zp=new Vi("./transmuxer-worker.worker.js",function(n,i){var e=this;(function(){var t,r,a,f,y,E,D,N,q,Y,Q,dt,lt,At,St,kt,te,ie,Ie,Fe,Ye,an,Me,Lr,mn,Br,Wr,Di,La,fr,Ps,ta,Ou,gc,Qh,tp,ep=Math.pow(2,32)-1;(function(){var P;if(Me={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},typeof Uint8Array!="undefined"){for(P in Me)Me.hasOwnProperty(P)&&(Me[P]=[P.charCodeAt(0),P.charCodeAt(1),P.charCodeAt(2),P.charCodeAt(3)]);Lr=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),Br=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),mn=new Uint8Array([0,0,0,1]),Wr=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),Di=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),La={video:Wr,audio:Di},ta=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),Ps=new Uint8Array([0,0,0,0,0,0,0,0]),Ou=new Uint8Array([0,0,0,0,0,0,0,0]),gc=Ou,Qh=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),tp=Ou,fr=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}})(),t=function(P){var z,X,J=[],nt=0;for(z=1;z<arguments.length;z++)J.push(arguments[z]);for(z=J.length;z--;)nt+=J[z].byteLength;for(X=new Uint8Array(nt+8),new DataView(X.buffer,X.byteOffset,X.byteLength).setUint32(0,X.byteLength),X.set(P,4),z=0,nt=8;z<J.length;z++)X.set(J[z],nt),nt+=J[z].byteLength;return X},r=function(){return t(Me.dinf,t(Me.dref,ta))},a=function(P){return t(Me.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,P.audioobjecttype<<3|P.samplingfrequencyindex>>>1,P.samplingfrequencyindex<<7|P.channelcount<<3,6,1,2]))},f=function(){return t(Me.ftyp,Lr,mn,Lr,Br)},kt=function(P){return t(Me.hdlr,La[P])},y=function(P){return t(Me.mdat,P)},St=function(P){var z=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,P.duration>>>24&255,P.duration>>>16&255,P.duration>>>8&255,255&P.duration,85,196,0,0]);return P.samplerate&&(z[12]=P.samplerate>>>24&255,z[13]=P.samplerate>>>16&255,z[14]=P.samplerate>>>8&255,z[15]=255&P.samplerate),t(Me.mdhd,z)},At=function(P){return t(Me.mdia,St(P),kt(P.type),D(P))},E=function(P){return t(Me.mfhd,new Uint8Array([0,0,0,0,(4278190080&P)>>24,(16711680&P)>>16,(65280&P)>>8,255&P]))},D=function(P){return t(Me.minf,P.type==="video"?t(Me.vmhd,fr):t(Me.smhd,Ps),r(),ie(P))},N=function(P,z){for(var X=[],J=z.length;J--;)X[J]=Fe(z[J]);return t.apply(null,[Me.moof,E(P)].concat(X))},q=function(P){for(var z=P.length,X=[];z--;)X[z]=dt(P[z]);return t.apply(null,[Me.moov,Q(4294967295)].concat(X).concat(Y(P)))},Y=function(P){for(var z=P.length,X=[];z--;)X[z]=Ye(P[z]);return t.apply(null,[Me.mvex].concat(X))},Q=function(P){var z=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(4278190080&P)>>24,(16711680&P)>>16,(65280&P)>>8,255&P,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return t(Me.mvhd,z)},te=function(P){var z,X,J=P.samples||[],nt=new Uint8Array(4+J.length);for(X=0;X<J.length;X++)z=J[X].flags,nt[X+4]=z.dependsOn<<4|z.isDependedOn<<2|z.hasRedundancy;return t(Me.sdtp,nt)},ie=function(P){return t(Me.stbl,Ie(P),t(Me.stts,tp),t(Me.stsc,gc),t(Me.stsz,Qh),t(Me.stco,Ou))},function(){var P,z;Ie=function(X){return t(Me.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),X.type==="video"?P(X):z(X))},P=function(X){var J,nt=X.sps||[],st=X.pps||[],yt=[],_t=[];for(J=0;J<nt.length;J++)yt.push((65280&nt[J].byteLength)>>>8),yt.push(255&nt[J].byteLength),yt=yt.concat(Array.prototype.slice.call(nt[J]));for(J=0;J<st.length;J++)_t.push((65280&st[J].byteLength)>>>8),_t.push(255&st[J].byteLength),_t=_t.concat(Array.prototype.slice.call(st[J]));return t(Me.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&X.width)>>8,255&X.width,(65280&X.height)>>8,255&X.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),t(Me.avcC,new Uint8Array([1,X.profileIdc,X.profileCompatibility,X.levelIdc,255].concat([nt.length]).concat(yt).concat([st.length]).concat(_t))),t(Me.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])))},z=function(X){return t(Me.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(65280&X.channelcount)>>8,255&X.channelcount,(65280&X.samplesize)>>8,255&X.samplesize,0,0,0,0,(65280&X.samplerate)>>8,255&X.samplerate,0,0]),a(X))}}(),lt=function(P){var z=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(4278190080&P.id)>>24,(16711680&P.id)>>16,(65280&P.id)>>8,255&P.id,0,0,0,0,(4278190080&P.duration)>>24,(16711680&P.duration)>>16,(65280&P.duration)>>8,255&P.duration,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(65280&P.width)>>8,255&P.width,0,0,(65280&P.height)>>8,255&P.height,0,0]);return t(Me.tkhd,z)},Fe=function(P){var z,X,J,nt,st,yt;return z=t(Me.tfhd,new Uint8Array([0,0,0,58,(4278190080&P.id)>>24,(16711680&P.id)>>16,(65280&P.id)>>8,255&P.id,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),st=Math.floor(P.baseMediaDecodeTime/(ep+1)),yt=Math.floor(P.baseMediaDecodeTime%(ep+1)),X=t(Me.tfdt,new Uint8Array([1,0,0,0,st>>>24&255,st>>>16&255,st>>>8&255,255&st,yt>>>24&255,yt>>>16&255,yt>>>8&255,255&yt])),P.type==="audio"?(J=an(P,92),t(Me.traf,z,X,J)):(nt=te(P),J=an(P,nt.length+92),t(Me.traf,z,X,J,nt))},dt=function(P){return P.duration=P.duration||4294967295,t(Me.trak,lt(P),At(P))},Ye=function(P){var z=new Uint8Array([0,0,0,0,(4278190080&P.id)>>24,(16711680&P.id)>>16,(65280&P.id)>>8,255&P.id,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return P.type!=="video"&&(z[z.length-1]=0),t(Me.trex,z)},function(){var P,z,X;X=function(J,nt){var st=0,yt=0,_t=0,xt=0;return J.length&&(J[0].duration!==void 0&&(st=1),J[0].size!==void 0&&(yt=2),J[0].flags!==void 0&&(_t=4),J[0].compositionTimeOffset!==void 0&&(xt=8)),[0,0,st|yt|_t|xt,1,(4278190080&J.length)>>>24,(16711680&J.length)>>>16,(65280&J.length)>>>8,255&J.length,(4278190080&nt)>>>24,(16711680&nt)>>>16,(65280&nt)>>>8,255&nt]},z=function(J,nt){var st,yt,_t,xt;for(nt+=20+16*(yt=J.samples||[]).length,st=X(yt,nt),xt=0;xt<yt.length;xt++)_t=yt[xt],st=st.concat([(4278190080&_t.duration)>>>24,(16711680&_t.duration)>>>16,(65280&_t.duration)>>>8,255&_t.duration,(4278190080&_t.size)>>>24,(16711680&_t.size)>>>16,(65280&_t.size)>>>8,255&_t.size,_t.flags.isLeading<<2|_t.flags.dependsOn,_t.flags.isDependedOn<<6|_t.flags.hasRedundancy<<4|_t.flags.paddingValue<<1|_t.flags.isNonSyncSample,61440&_t.flags.degradationPriority,15&_t.flags.degradationPriority,(4278190080&_t.compositionTimeOffset)>>>24,(16711680&_t.compositionTimeOffset)>>>16,(65280&_t.compositionTimeOffset)>>>8,255&_t.compositionTimeOffset]);return t(Me.trun,new Uint8Array(st))},P=function(J,nt){var st,yt,_t,xt;for(nt+=20+8*(yt=J.samples||[]).length,st=X(yt,nt),xt=0;xt<yt.length;xt++)_t=yt[xt],st=st.concat([(4278190080&_t.duration)>>>24,(16711680&_t.duration)>>>16,(65280&_t.duration)>>>8,255&_t.duration,(4278190080&_t.size)>>>24,(16711680&_t.size)>>>16,(65280&_t.size)>>>8,255&_t.size]);return t(Me.trun,new Uint8Array(st))},an=function(J,nt){return J.type==="audio"?P(J,nt):z(J,nt)}}();var Wo,Nf,np,rp,ip,td={ftyp:f,mdat:y,moof:N,moov:q,initSegment:function(P){var z,X=f(),J=q(P);return(z=new Uint8Array(X.byteLength+J.byteLength)).set(X),z.set(J,X.byteLength),z}},ed=function(P){return P>>>0};np=function(P){return Wo(P,["moov","trak"]).reduce(function(z,X){var J,nt,st,yt,_t;return(J=Wo(X,["tkhd"])[0])?(nt=J[0],yt=ed(J[st=nt===0?12:20]<<24|J[st+1]<<16|J[st+2]<<8|J[st+3]),(_t=Wo(X,["mdia","mdhd"])[0])?(st=(nt=_t[0])===0?12:20,z[yt]=ed(_t[st]<<24|_t[st+1]<<16|_t[st+2]<<8|_t[st+3]),z):null):null},{})},rp=function(P,z){var X,J,nt;return X=Wo(z,["moof","traf"]),J=[].concat.apply([],X.map(function(st){return Wo(st,["tfhd"]).map(function(yt){var _t,xt;return _t=ed(yt[4]<<24|yt[5]<<16|yt[6]<<8|yt[7]),xt=P[_t]||9e4,(Wo(st,["tfdt"]).map(function(Nt){var je,De;return je=Nt[0],De=ed(Nt[4]<<24|Nt[5]<<16|Nt[6]<<8|Nt[7]),je===1&&(De*=Math.pow(2,32),De+=ed(Nt[8]<<24|Nt[9]<<16|Nt[10]<<8|Nt[11])),De})[0]||1/0)/xt})})),nt=Math.min.apply(null,J),isFinite(nt)?nt:0},ip=function(P){var z=Wo(P,["moov","trak"]),X=[];return z.forEach(function(J){var nt=Wo(J,["mdia","hdlr"]),st=Wo(J,["tkhd"]);nt.forEach(function(yt,_t){var xt,Nt,je=Nf(yt.subarray(8,12)),De=st[_t];je==="vide"&&(Nt=(xt=new DataView(De.buffer,De.byteOffset,De.byteLength)).getUint8(0)===0?xt.getUint32(12):xt.getUint32(20),X.push(Nt))})}),X};var yc={findBox:Wo=function(P,z){var X,J,nt,st,yt,_t=[];if(!z.length)return null;for(X=0;X<P.byteLength;)J=ed(P[X]<<24|P[X+1]<<16|P[X+2]<<8|P[X+3]),nt=Nf(P.subarray(X+4,X+8)),st=J>1?X+J:P.byteLength,nt===z[0]&&(z.length===1?_t.push(P.subarray(X+8,st)):(yt=Wo(P.subarray(X+8,st),z.slice(1))).length&&(_t=_t.concat(yt))),X=st;return _t},parseType:Nf=function(P){var z="";return z+=String.fromCharCode(P[0]),z+=String.fromCharCode(P[1]),(z+=String.fromCharCode(P[2]))+String.fromCharCode(P[3])},timescale:np,startTime:rp,videoTrackIds:ip},tf=function(){this.init=function(){var P={};this.on=function(z,X){P[z]||(P[z]=[]),P[z]=P[z].concat(X)},this.off=function(z,X){var J;return!!P[z]&&(J=P[z].indexOf(X),P[z]=P[z].slice(),P[z].splice(J,1),J>-1)},this.trigger=function(z){var X,J,nt,st;if(X=P[z])if(arguments.length===2)for(nt=X.length,J=0;J<nt;++J)X[J].call(this,arguments[1]);else{for(st=[],J=arguments.length,J=1;J<arguments.length;++J)st.push(arguments[J]);for(nt=X.length,J=0;J<nt;++J)X[J].apply(this,st)}},this.dispose=function(){P={}}}};tf.prototype.pipe=function(P){return this.on("data",function(z){P.push(z)}),this.on("done",function(z){P.flush(z)}),P},tf.prototype.push=function(P){this.trigger("data",P)},tf.prototype.flush=function(P){this.trigger("done",P)};var ap,op,sp,up,lp,cp,va=tf,gm=function(P,z){var X={size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}};return X.dataOffset=z,X.compositionTimeOffset=P.pts-P.dts,X.duration=P.duration,X.size=4*P.length,X.size+=P.byteLength,P.keyFrame&&(X.flags.dependsOn=2,X.flags.isNonSyncSample=0),X},ym=function(P){var z,X,J=[],nt=[];for(J.byteLength=0,z=0;z<P.length;z++)(X=P[z]).nalUnitType==="access_unit_delimiter_rbsp"?(J.length&&(J.duration=X.dts-J.dts,nt.push(J)),(J=[X]).byteLength=X.data.byteLength,J.pts=X.pts,J.dts=X.dts):(X.nalUnitType==="slice_layer_without_partitioning_rbsp_idr"&&(J.keyFrame=!0),J.duration=X.dts-J.dts,J.byteLength+=X.data.byteLength,J.push(X));return nt.length&&(!J.duration||J.duration<=0)&&(J.duration=nt[nt.length-1].duration),nt.push(J),nt},_m=function(P){var z,X,J=[],nt=[];for(J.byteLength=0,J.nalCount=0,J.duration=0,J.pts=P[0].pts,J.dts=P[0].dts,nt.byteLength=0,nt.nalCount=0,nt.duration=0,nt.pts=P[0].pts,nt.dts=P[0].dts,z=0;z<P.length;z++)(X=P[z]).keyFrame?(J.length&&(nt.push(J),nt.byteLength+=J.byteLength,nt.nalCount+=J.nalCount,nt.duration+=J.duration),(J=[X]).nalCount=X.length,J.byteLength=X.byteLength,J.pts=X.pts,J.dts=X.dts,J.duration=X.duration):(J.duration+=X.duration,J.nalCount+=X.length,J.byteLength+=X.byteLength,J.push(X));return nt.length&&J.duration<=0&&(J.duration=nt[nt.length-1].duration),nt.byteLength+=J.byteLength,nt.nalCount+=J.nalCount,nt.duration+=J.duration,nt.push(J),nt},bm=function(P){var z;return!P[0][0].keyFrame&&P.length>1&&(z=P.shift(),P.byteLength-=z.byteLength,P.nalCount-=z.nalCount,P[0][0].dts=z.dts,P[0][0].pts=z.pts,P[0][0].duration+=z.duration),P},Tm=function(P,z){var X,J,nt,st,yt,_t=z||0,xt=[];for(X=0;X<P.length;X++)for(st=P[X],J=0;J<st.length;J++)yt=st[J],_t+=(nt=gm(yt,_t)).size,xt.push(nt);return xt},Sm=function(P){var z,X,J,nt,st,yt,_t=0,xt=P.byteLength,Nt=P.nalCount,je=new Uint8Array(xt+4*Nt),De=new DataView(je.buffer);for(z=0;z<P.length;z++)for(nt=P[z],X=0;X<nt.length;X++)for(st=nt[X],J=0;J<st.length;J++)yt=st[J],De.setUint32(_t,yt.data.byteLength),_t+=4,je.set(yt.data,_t),_t+=yt.data.byteLength;return je},wl=[33,16,5,32,164,27],Ff=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],cr=function(P){for(var z=[];P--;)z.push(0);return z},wm=function(P){return Object.keys(P).reduce(function(z,X){return z[X]=new Uint8Array(P[X].reduce(function(J,nt){return J.concat(nt)},[])),z},{})}({96e3:[wl,[227,64],cr(154),[56]],88200:[wl,[231],cr(170),[56]],64e3:[wl,[248,192],cr(240),[56]],48e3:[wl,[255,192],cr(268),[55,148,128],cr(54),[112]],44100:[wl,[255,192],cr(268),[55,163,128],cr(84),[112]],32e3:[wl,[255,192],cr(268),[55,234],cr(226),[112]],24e3:[wl,[255,192],cr(268),[55,255,128],cr(268),[111,112],cr(126),[224]],16e3:[wl,[255,192],cr(268),[55,255,128],cr(268),[111,255],cr(269),[223,108],cr(195),[1,192]],12e3:[Ff,cr(268),[3,127,248],cr(268),[6,255,240],cr(268),[13,255,224],cr(268),[27,253,128],cr(259),[56]],11025:[Ff,cr(268),[3,127,248],cr(268),[6,255,240],cr(268),[13,255,224],cr(268),[27,255,192],cr(268),[55,175,128],cr(108),[112]],8e3:[Ff,cr(268),[3,121,16],cr(47),[7]]});lp=function(P,z){return ap(up(P,z))},cp=function(P,z){return op(sp(P),z)},ap=function(P){return 9e4*P},op=function(P,z){return P*z},sp=function(P){return P/9e4},up=function(P,z){return P/z};var km=lp,Em=cp,Cm=function(P,z,X,J){var nt,st,yt,_t=0,xt=0,Nt=0,je=0;if(z.length&&(nt=km(P.baseMediaDecodeTime,P.samplerate),_t=Math.ceil(9e4/(P.samplerate/1024)),X&&J&&(xt=nt-Math.max(X,J),je=(Nt=Math.floor(xt/_t))*_t),!(Nt<1||je>45e3))){for((st=wm[P.samplerate])||(st=z[0].data),yt=0;yt<Nt;yt++)z.splice(yt,0,{data:st});P.baseMediaDecodeTime-=Math.floor(Em(je,P.samplerate))}},Am=function(P,z,X){return z.minSegmentDts>=X?P:(z.minSegmentDts=1/0,P.filter(function(J){return J.dts>=X&&(z.minSegmentDts=Math.min(z.minSegmentDts,J.dts),z.minSegmentPts=z.minSegmentDts,!0)}))},jm=function(P){var z,X,J=[];for(z=0;z<P.length;z++)X=P[z],J.push({size:X.data.byteLength,duration:1024});return J},xm=function(P){var z,X,J=0,nt=new Uint8Array(function(st){var yt,_t=0;for(yt=0;yt<st.length;yt++)_t+=st[yt].data.byteLength;return _t}(P));for(z=0;z<P.length;z++)X=P[z],nt.set(X.data,J),J+=X.data.byteLength;return nt},Ed=function(P){delete P.minSegmentDts,delete P.maxSegmentDts,delete P.minSegmentPts,delete P.maxSegmentPts},dp=function(P,z){var X,J=P.minSegmentDts;return z||(J-=P.timelineStartInfo.dts),X=P.timelineStartInfo.baseMediaDecodeTime,X+=J,X=Math.max(0,X),P.type==="audio"&&(X*=P.samplerate/9e4,X=Math.floor(X)),X},Vf=function(P,z){typeof z.pts=="number"&&(P.timelineStartInfo.pts===void 0&&(P.timelineStartInfo.pts=z.pts),P.minSegmentPts===void 0?P.minSegmentPts=z.pts:P.minSegmentPts=Math.min(P.minSegmentPts,z.pts),P.maxSegmentPts===void 0?P.maxSegmentPts=z.pts:P.maxSegmentPts=Math.max(P.maxSegmentPts,z.pts)),typeof z.dts=="number"&&(P.timelineStartInfo.dts===void 0&&(P.timelineStartInfo.dts=z.dts),P.minSegmentDts===void 0?P.minSegmentDts=z.dts:P.minSegmentDts=Math.min(P.minSegmentDts,z.dts),P.maxSegmentDts===void 0?P.maxSegmentDts=z.dts:P.maxSegmentDts=Math.max(P.maxSegmentDts,z.dts))},Om=function(P){for(var z=0,X={payloadType:-1,payloadSize:0},J=0,nt=0;z<P.byteLength&&P[z]!==128;){for(;P[z]===255;)J+=255,z++;for(J+=P[z++];P[z]===255;)nt+=255,z++;if(nt+=P[z++],!X.payload&&J===4){X.payloadType=J,X.payloadSize=nt,X.payload=P.subarray(z,z+nt);break}z+=nt,J=0,nt=0}return X},Lm=function(P){return P.payload[0]!==181||(P.payload[1]<<8|P.payload[2])!=49||String.fromCharCode(P.payload[3],P.payload[4],P.payload[5],P.payload[6])!=="GA94"||P.payload[7]!==3?null:P.payload.subarray(8,P.payload.length-1)},Pm=function(P,z){var X,J,nt,st,yt=[];if(!(64&z[0]))return yt;for(J=31&z[0],X=0;X<J;X++)st={type:3&z[(nt=3*X)+2],pts:P},4&z[nt+2]&&(st.ccData=z[nt+3]<<8|z[nt+4],yt.push(st));return yt},Rm=function(P){for(var z,X,J=P.byteLength,nt=[],st=1;st<J-2;)P[st]===0&&P[st+1]===0&&P[st+2]===3?(nt.push(st+2),st+=2):st++;if(nt.length===0)return P;z=J-nt.length,X=new Uint8Array(z);var yt=0;for(st=0;st<z;yt++,st++)yt===nt[0]&&(yt++,nt.shift()),X[st]=P[yt];return X},Im=4,kl=function P(){P.prototype.init.call(this),this.captionPackets_=[],this.ccStreams_=[new Ir(0,0),new Ir(0,1),new Ir(1,0),new Ir(1,1)],this.reset(),this.ccStreams_.forEach(function(z){z.on("data",this.trigger.bind(this,"data")),z.on("done",this.trigger.bind(this,"done"))},this)};(kl.prototype=new va).push=function(P){var z,X,J;if(P.nalUnitType==="sei_rbsp"&&(z=Om(P.escapedRBSP)).payloadType===Im&&(X=Lm(z))){if(P.dts<this.latestDts_)return void(this.ignoreNextEqualDts_=!0);if(P.dts===this.latestDts_&&this.ignoreNextEqualDts_)return void(--this.numSameDts_||(this.ignoreNextEqualDts_=!1));J=Pm(P.pts,X),this.captionPackets_=this.captionPackets_.concat(J),this.latestDts_!==P.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=P.dts}},kl.prototype.flush=function(){this.captionPackets_.length?(this.captionPackets_.forEach(function(P,z){P.presortIndex=z}),this.captionPackets_.sort(function(P,z){return P.pts===z.pts?P.presortIndex-z.presortIndex:P.pts-z.pts}),this.captionPackets_.forEach(function(P){P.type<2&&this.dispatchCea608Packet(P)},this),this.captionPackets_.length=0,this.ccStreams_.forEach(function(P){P.flush()},this)):this.ccStreams_.forEach(function(P){P.flush()},this)},kl.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(P){P.reset()})},kl.prototype.dispatchCea608Packet=function(P){this.setsTextOrXDSActive(P)?this.activeCea608Channel_[P.type]=null:this.setsChannel1Active(P)?this.activeCea608Channel_[P.type]=0:this.setsChannel2Active(P)&&(this.activeCea608Channel_[P.type]=1),this.activeCea608Channel_[P.type]!==null&&this.ccStreams_[(P.type<<1)+this.activeCea608Channel_[P.type]].push(P)},kl.prototype.setsChannel1Active=function(P){return(30720&P.ccData)==4096},kl.prototype.setsChannel2Active=function(P){return(30720&P.ccData)==6144},kl.prototype.setsTextOrXDSActive=function(P){return(28928&P.ccData)==256||(30974&P.ccData)==4138||(30974&P.ccData)==6186};var Dm={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},ef=function(P){return P===null?"":(P=Dm[P]||P,String.fromCharCode(P))},Mm=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],_c=function(){for(var P=[],z=15;z--;)P.push("");return P},Ir=function P(z,X){P.prototype.init.call(this),this.field_=z||0,this.dataChannel_=X||0,this.name_="CC"+(1+(this.field_<<1|this.dataChannel_)),this.setConstants(),this.reset(),this.push=function(J){var nt,st,yt,_t,xt;if((nt=32639&J.ccData)!==this.lastControlCode_){if((61440&nt)==4096?this.lastControlCode_=nt:nt!==this.PADDING_&&(this.lastControlCode_=null),yt=nt>>>8,_t=255&nt,nt!==this.PADDING_)if(nt===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(nt===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(J.pts),this.flushDisplayed(J.pts),st=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=st,this.startPts_=J.pts;else if(nt===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(J.pts);else if(nt===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(J.pts);else if(nt===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(J.pts);else if(nt===this.CARRIAGE_RETURN_)this.clearFormatting(J.pts),this.flushDisplayed(J.pts),this.shiftRowsUp_(),this.startPts_=J.pts;else if(nt===this.BACKSPACE_)this.mode_==="popOn"?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(nt===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(J.pts),this.displayed_=_c();else if(nt===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=_c();else if(nt===this.RESUME_DIRECT_CAPTIONING_)this.mode_!=="paintOn"&&(this.flushDisplayed(J.pts),this.displayed_=_c()),this.mode_="paintOn",this.startPts_=J.pts;else if(this.isSpecialCharacter(yt,_t))xt=ef((yt=(3&yt)<<8)|_t),this[this.mode_](J.pts,xt),this.column_++;else if(this.isExtCharacter(yt,_t))this.mode_==="popOn"?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),xt=ef((yt=(3&yt)<<8)|_t),this[this.mode_](J.pts,xt),this.column_++;else if(this.isMidRowCode(yt,_t))this.clearFormatting(J.pts),this[this.mode_](J.pts," "),this.column_++,(14&_t)==14&&this.addFormatting(J.pts,["i"]),(1&_t)==1&&this.addFormatting(J.pts,["u"]);else if(this.isOffsetControlCode(yt,_t))this.column_+=3&_t;else if(this.isPAC(yt,_t)){var Nt=Mm.indexOf(7968&nt);this.mode_==="rollUp"&&(Nt-this.rollUpRows_+1<0&&(Nt=this.rollUpRows_-1),this.setRollUp(J.pts,Nt)),Nt!==this.row_&&(this.clearFormatting(J.pts),this.row_=Nt),1&_t&&this.formatting_.indexOf("u")===-1&&this.addFormatting(J.pts,["u"]),(16&nt)==16&&(this.column_=4*((14&nt)>>1)),this.isColorPAC(_t)&&(14&_t)==14&&this.addFormatting(J.pts,["i"])}else this.isNormalChar(yt)&&(_t===0&&(_t=null),xt=ef(yt),xt+=ef(_t),this[this.mode_](J.pts,xt),this.column_+=xt.length)}else this.lastControlCode_=null}};Ir.prototype=new va,Ir.prototype.flushDisplayed=function(P){var z=this.displayed_.map(function(X){try{return X.trim()}catch(J){return console.error("Skipping malformed caption."),""}}).join(`
`).replace(/^\n+|\n+$/g,"");z.length&&this.trigger("data",{startPts:this.startPts_,endPts:P,text:z,stream:this.name_})},Ir.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=_c(),this.nonDisplayed_=_c(),this.lastControlCode_=null,this.column_=0,this.row_=14,this.rollUpRows_=2,this.formatting_=[]},Ir.prototype.setConstants=function(){this.dataChannel_===0?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):this.dataChannel_===1&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=32|this.CONTROL_,this.END_OF_CAPTION_=47|this.CONTROL_,this.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_,this.CARRIAGE_RETURN_=45|this.CONTROL_,this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_},Ir.prototype.isSpecialCharacter=function(P,z){return P===this.EXT_&&z>=48&&z<=63},Ir.prototype.isExtCharacter=function(P,z){return(P===this.EXT_+1||P===this.EXT_+2)&&z>=32&&z<=63},Ir.prototype.isMidRowCode=function(P,z){return P===this.EXT_&&z>=32&&z<=47},Ir.prototype.isOffsetControlCode=function(P,z){return P===this.OFFSET_&&z>=33&&z<=35},Ir.prototype.isPAC=function(P,z){return P>=this.BASE_&&P<this.BASE_+8&&z>=64&&z<=127},Ir.prototype.isColorPAC=function(P){return P>=64&&P<=79||P>=96&&P<=127},Ir.prototype.isNormalChar=function(P){return P>=32&&P<=127},Ir.prototype.setRollUp=function(P,z){if(this.mode_!=="rollUp"&&(this.row_=14,this.mode_="rollUp",this.flushDisplayed(P),this.nonDisplayed_=_c(),this.displayed_=_c()),z!==void 0&&z!==this.row_)for(var X=0;X<this.rollUpRows_;X++)this.displayed_[z-X]=this.displayed_[this.row_-X],this.displayed_[this.row_-X]="";z===void 0&&(z=this.row_),this.topRow_=z-this.rollUpRows_+1},Ir.prototype.addFormatting=function(P,z){this.formatting_=this.formatting_.concat(z);var X=z.reduce(function(J,nt){return J+"<"+nt+">"},"");this[this.mode_](P,X)},Ir.prototype.clearFormatting=function(P){if(this.formatting_.length){var z=this.formatting_.reverse().reduce(function(X,J){return X+"</"+J+">"},"");this.formatting_=[],this[this.mode_](P,z)}},Ir.prototype.popOn=function(P,z){var X=this.nonDisplayed_[this.row_];X+=z,this.nonDisplayed_[this.row_]=X},Ir.prototype.rollUp=function(P,z){var X=this.displayed_[this.row_];X+=z,this.displayed_[this.row_]=X},Ir.prototype.shiftRowsUp_=function(){var P;for(P=0;P<this.topRow_;P++)this.displayed_[P]="";for(P=this.row_+1;P<15;P++)this.displayed_[P]="";for(P=this.topRow_;P<this.row_;P++)this.displayed_[P]=this.displayed_[P+1];this.displayed_[this.row_]=""},Ir.prototype.paintOn=function(P,z){var X=this.displayed_[this.row_];X+=z,this.displayed_[this.row_]=X};var Hf={CaptionStream:kl,Cea608Stream:Ir},Ja={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},fp=function(P,z){var X=1;for(P>z&&(X=-1);Math.abs(z-P)>4294967296;)P+=8589934592*X;return P},hp=function P(z){var X,J;P.prototype.init.call(this),this.type_=z,this.push=function(nt){nt.type===this.type_&&(J===void 0&&(J=nt.dts),nt.dts=fp(nt.dts,J),nt.pts=fp(nt.pts,J),X=nt.dts,this.trigger("data",nt))},this.flush=function(){J=X,this.trigger("done")},this.discontinuity=function(){J=void 0,X=void 0}};hp.prototype=new va;var zf,Um=hp,pp=function(P,z,X){var J,nt="";for(J=z;J<X;J++)nt+="%"+("00"+P[J].toString(16)).slice(-2);return nt},nf=function(P,z,X){return decodeURIComponent(pp(P,z,X))},Bm=function(P,z,X){return unescape(pp(P,z,X))},rf=function(P){return P[0]<<21|P[1]<<14|P[2]<<7|P[3]},mp={TXXX:function(P){var z;if(P.data[0]===3){for(z=1;z<P.data.length;z++)if(P.data[z]===0){P.description=nf(P.data,1,z),P.value=nf(P.data,z+1,P.data.length).replace(/\0*$/,"");break}P.data=P.value}},WXXX:function(P){var z;if(P.data[0]===3){for(z=1;z<P.data.length;z++)if(P.data[z]===0){P.description=nf(P.data,1,z),P.url=nf(P.data,z+1,P.data.length);break}}},PRIV:function(P){var z;for(z=0;z<P.data.length;z++)if(P.data[z]===0){P.owner=Bm(P.data,0,z);break}P.privateData=P.data.subarray(z+1),P.data=P.privateData}};(zf=function(P){var z,X={debug:!(!P||!P.debug),descriptor:P&&P.descriptor},J=0,nt=[],st=0;if(zf.prototype.init.call(this),this.dispatchType=Ja.METADATA_STREAM_TYPE.toString(16),X.descriptor)for(z=0;z<X.descriptor.length;z++)this.dispatchType+=("00"+X.descriptor[z].toString(16)).slice(-2);this.push=function(yt){var _t,xt,Nt,je,De;if(yt.type==="timed-metadata"){if(yt.dataAlignmentIndicator&&(st=0,nt.length=0),nt.length===0&&(yt.data.length<10||yt.data[0]!=="I".charCodeAt(0)||yt.data[1]!=="D".charCodeAt(0)||yt.data[2]!=="3".charCodeAt(0)))return void(X.debug&&console.log("Skipping unrecognized metadata packet"));if(nt.push(yt),st+=yt.data.byteLength,nt.length===1&&(J=rf(yt.data.subarray(6,10)),J+=10),!(st<J)){for(_t={data:new Uint8Array(J),frames:[],pts:nt[0].pts,dts:nt[0].dts},De=0;De<J;)_t.data.set(nt[0].data.subarray(0,J-De),De),De+=nt[0].data.byteLength,st-=nt[0].data.byteLength,nt.shift();xt=10,64&_t.data[5]&&(xt+=4,xt+=rf(_t.data.subarray(10,14)),J-=rf(_t.data.subarray(16,20)));do{if((Nt=rf(_t.data.subarray(xt+4,xt+8)))<1)return console.log("Malformed ID3 frame encountered. Skipping metadata parsing.");if((je={id:String.fromCharCode(_t.data[xt],_t.data[xt+1],_t.data[xt+2],_t.data[xt+3]),data:_t.data.subarray(xt+10,xt+Nt+10)}).key=je.id,mp[je.id]&&(mp[je.id](je),je.owner==="com.apple.streaming.transportStreamTimestamp")){var bn=je.data,kn=(1&bn[3])<<30|bn[4]<<22|bn[5]<<14|bn[6]<<6|bn[7]>>>2;kn*=4,kn+=3&bn[7],je.timeStamp=kn,_t.pts===void 0&&_t.dts===void 0&&(_t.pts=je.timeStamp,_t.dts=je.timeStamp),this.trigger("timestamp",je)}_t.frames.push(je),xt+=10,xt+=Nt}while(xt<J);this.trigger("data",_t)}}}}).prototype=new va;var Gf,af,Wf,Nm=zf,Fm=Um;(Gf=function(){var P=new Uint8Array(188),z=0;Gf.prototype.init.call(this),this.push=function(X){var J,nt=0,st=188;for(z?((J=new Uint8Array(X.byteLength+z)).set(P.subarray(0,z)),J.set(X,z),z=0):J=X;st<J.byteLength;)J[nt]!==71||J[st]!==71?(nt++,st++):(this.trigger("data",J.subarray(nt,st)),nt+=188,st+=188);nt<J.byteLength&&(P.set(J.subarray(nt),0),z=J.byteLength-nt)},this.flush=function(){z===188&&P[0]===71&&(this.trigger("data",P),z=0),this.trigger("done")}}).prototype=new va,(af=function(){var P,z,X,J;af.prototype.init.call(this),J=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,P=function(nt,st){var yt=0;st.payloadUnitStartIndicator&&(yt+=nt[yt]+1),st.type==="pat"?z(nt.subarray(yt),st):X(nt.subarray(yt),st)},z=function(nt,st){st.section_number=nt[7],st.last_section_number=nt[8],J.pmtPid=(31&nt[10])<<8|nt[11],st.pmtPid=J.pmtPid},X=function(nt,st){var yt,_t;if(1&nt[5]){for(J.programMapTable={video:null,audio:null,"timed-metadata":{}},yt=3+((15&nt[1])<<8|nt[2])-4,_t=12+((15&nt[10])<<8|nt[11]);_t<yt;){var xt=nt[_t],Nt=(31&nt[_t+1])<<8|nt[_t+2];xt===Ja.H264_STREAM_TYPE&&J.programMapTable.video===null?J.programMapTable.video=Nt:xt===Ja.ADTS_STREAM_TYPE&&J.programMapTable.audio===null?J.programMapTable.audio=Nt:xt===Ja.METADATA_STREAM_TYPE&&(J.programMapTable["timed-metadata"][Nt]=xt),_t+=5+((15&nt[_t+3])<<8|nt[_t+4])}st.programMapTable=J.programMapTable}},this.push=function(nt){var st={},yt=4;if(st.payloadUnitStartIndicator=!!(64&nt[1]),st.pid=31&nt[1],st.pid<<=8,st.pid|=nt[2],(48&nt[3])>>>4>1&&(yt+=nt[yt]+1),st.pid===0)st.type="pat",P(nt.subarray(yt),st),this.trigger("data",st);else if(st.pid===this.pmtPid)for(st.type="pmt",P(nt.subarray(yt),st),this.trigger("data",st);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else this.programMapTable===void 0?this.packetsWaitingForPmt.push([nt,yt,st]):this.processPes_(nt,yt,st)},this.processPes_=function(nt,st,yt){yt.pid===this.programMapTable.video?yt.streamType=Ja.H264_STREAM_TYPE:yt.pid===this.programMapTable.audio?yt.streamType=Ja.ADTS_STREAM_TYPE:yt.streamType=this.programMapTable["timed-metadata"][yt.pid],yt.type="pes",yt.data=nt.subarray(st),this.trigger("data",yt)}}).prototype=new va,af.STREAM_TYPES={h264:27,adts:15},(Wf=function(){var P=this,z={data:[],size:0},X={data:[],size:0},J={data:[],size:0},nt=function(st,yt,_t){var xt,Nt=new Uint8Array(st.size),je={type:yt},De=0,bn=0,kn=!1;if(st.data.length&&!(st.size<9)){for(je.trackId=st.data[0].pid,De=0;De<st.data.length;De++)xt=st.data[De],Nt.set(xt.data,bn),bn+=xt.data.byteLength;(function(Un,Gn){var ga;Gn.packetLength=6+(Un[4]<<8|Un[5]),Gn.dataAlignmentIndicator=(4&Un[6])!=0,192&(ga=Un[7])&&(Gn.pts=(14&Un[9])<<27|(255&Un[10])<<20|(254&Un[11])<<12|(255&Un[12])<<5|(254&Un[13])>>>3,Gn.pts*=4,Gn.pts+=(6&Un[13])>>>1,Gn.dts=Gn.pts,64&ga&&(Gn.dts=(14&Un[14])<<27|(255&Un[15])<<20|(254&Un[16])<<12|(255&Un[17])<<5|(254&Un[18])>>>3,Gn.dts*=4,Gn.dts+=(6&Un[18])>>>1)),Gn.data=Un.subarray(9+Un[8])})(Nt,je),kn=yt==="video"||je.packetLength<=st.size,(_t||kn)&&(st.size=0,st.data.length=0),kn&&P.trigger("data",je)}};Wf.prototype.init.call(this),this.push=function(st){({pat:function(){},pes:function(){var yt,_t;switch(st.streamType){case Ja.H264_STREAM_TYPE:case Ja.H264_STREAM_TYPE:yt=z,_t="video";break;case Ja.ADTS_STREAM_TYPE:yt=X,_t="audio";break;case Ja.METADATA_STREAM_TYPE:yt=J,_t="timed-metadata";break;default:return}st.payloadUnitStartIndicator&&nt(yt,_t,!0),yt.data.push(st),yt.size+=st.data.byteLength},pmt:function(){var yt={type:"metadata",tracks:[]},_t=st.programMapTable;_t.video!==null&&yt.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+_t.video,codec:"avc",type:"video"}),_t.audio!==null&&yt.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+_t.audio,codec:"adts",type:"audio"}),P.trigger("data",yt)}})[st.type]()},this.flush=function(){nt(z,"video"),nt(X,"audio"),nt(J,"timed-metadata"),this.trigger("done")}}).prototype=new va;var vp={PAT_PID:0,MP2T_PACKET_LENGTH:188,TransportPacketStream:Gf,TransportParseStream:af,ElementaryStream:Wf,TimestampRolloverStream:Fm,CaptionStream:Hf.CaptionStream,Cea608Stream:Hf.Cea608Stream,MetadataStream:Nm};for(var qf in Ja)Ja.hasOwnProperty(qf)&&(vp[qf]=Ja[qf]);var $f,qo=vp,gp=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];($f=function(){var P;$f.prototype.init.call(this),this.push=function(z){var X,J,nt,st,yt,_t,xt=0,Nt=0;if(z.type==="audio")for(P?(st=P,(P=new Uint8Array(st.byteLength+z.data.byteLength)).set(st),P.set(z.data,st.byteLength)):P=z.data;xt+5<P.length;)if(P[xt]===255&&(246&P[xt+1])==240){if(J=2*(1&~P[xt+1]),X=(3&P[xt+3])<<11|P[xt+4]<<3|(224&P[xt+5])>>5,_t=9e4*(yt=1024*(1+(3&P[xt+6])))/gp[(60&P[xt+2])>>>2],nt=xt+X,P.byteLength<nt)return;if(this.trigger("data",{pts:z.pts+Nt*_t,dts:z.dts+Nt*_t,sampleCount:yt,audioobjecttype:1+(P[xt+2]>>>6&3),channelcount:(1&P[xt+2])<<2|(192&P[xt+3])>>>6,samplerate:gp[(60&P[xt+2])>>>2],samplingfrequencyindex:(60&P[xt+2])>>>2,samplesize:16,data:P.subarray(xt+7+J,nt)}),P.byteLength===nt)return void(P=void 0);Nt++,P=P.subarray(nt)}else xt++},this.flush=function(){this.trigger("done")}}).prototype=new va;var Kf,of,yp,_p=$f,Vm=function(P){var z=P.byteLength,X=0,J=0;this.length=function(){return 8*z},this.bitsAvailable=function(){return 8*z+J},this.loadWord=function(){var nt=P.byteLength-z,st=new Uint8Array(4),yt=Math.min(4,z);if(yt===0)throw new Error("no bytes available");st.set(P.subarray(nt,nt+yt)),X=new DataView(st.buffer).getUint32(0),J=8*yt,z-=yt},this.skipBits=function(nt){var st;J>nt?(X<<=nt,J-=nt):(nt-=J,nt-=8*(st=Math.floor(nt/8)),z-=st,this.loadWord(),X<<=nt,J-=nt)},this.readBits=function(nt){var st=Math.min(J,nt),yt=X>>>32-st;return(J-=st)>0?X<<=st:z>0&&this.loadWord(),(st=nt-st)>0?yt<<st|this.readBits(st):yt},this.skipLeadingZeros=function(){var nt;for(nt=0;nt<J;++nt)if((X&2147483648>>>nt)!=0)return X<<=nt,J-=nt,nt;return this.loadWord(),nt+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var nt=this.skipLeadingZeros();return this.readBits(nt+1)-1},this.readExpGolomb=function(){var nt=this.readUnsignedExpGolomb();return 1&nt?1+nt>>>1:-1*(nt>>>1)},this.readBoolean=function(){return this.readBits(1)===1},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};(of=function(){var P,z,X=0;of.prototype.init.call(this),this.push=function(J){var nt;for(z?((nt=new Uint8Array(z.byteLength+J.data.byteLength)).set(z),nt.set(J.data,z.byteLength),z=nt):z=J.data;X<z.byteLength-3;X++)if(z[X+2]===1){P=X+5;break}for(;P<z.byteLength;)switch(z[P]){case 0:if(z[P-1]!==0){P+=2;break}if(z[P-2]!==0){P++;break}X+3!==P-2&&this.trigger("data",z.subarray(X+3,P-2));do P++;while(z[P]!==1&&P<z.length);X=P-2,P+=3;break;case 1:if(z[P-1]!==0||z[P-2]!==0){P+=3;break}this.trigger("data",z.subarray(X+3,P-2)),X=P-2,P+=3;break;default:P+=3}z=z.subarray(X),P-=X,X=0},this.flush=function(){z&&z.byteLength>3&&this.trigger("data",z.subarray(X+3)),z=null,X=0,this.trigger("done")}}).prototype=new va,yp={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},(Kf=function(){var P,z,X,J,nt,st,yt,_t=new of;Kf.prototype.init.call(this),P=this,this.push=function(xt){xt.type==="video"&&(z=xt.trackId,X=xt.pts,J=xt.dts,_t.push(xt))},_t.on("data",function(xt){var Nt={trackId:z,pts:X,dts:J,data:xt};switch(31&xt[0]){case 5:Nt.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:Nt.nalUnitType="sei_rbsp",Nt.escapedRBSP=nt(xt.subarray(1));break;case 7:Nt.nalUnitType="seq_parameter_set_rbsp",Nt.escapedRBSP=nt(xt.subarray(1)),Nt.config=st(Nt.escapedRBSP);break;case 8:Nt.nalUnitType="pic_parameter_set_rbsp";break;case 9:Nt.nalUnitType="access_unit_delimiter_rbsp"}P.trigger("data",Nt)}),_t.on("done",function(){P.trigger("done")}),this.flush=function(){_t.flush()},yt=function(xt,Nt){var je,De=8,bn=8;for(je=0;je<xt;je++)bn!==0&&(bn=(De+Nt.readExpGolomb()+256)%256),De=bn===0?De:bn},nt=function(xt){for(var Nt,je,De=xt.byteLength,bn=[],kn=1;kn<De-2;)xt[kn]===0&&xt[kn+1]===0&&xt[kn+2]===3?(bn.push(kn+2),kn+=2):kn++;if(bn.length===0)return xt;Nt=De-bn.length,je=new Uint8Array(Nt);var Un=0;for(kn=0;kn<Nt;Un++,kn++)Un===bn[0]&&(Un++,bn.shift()),je[kn]=xt[Un];return je},st=function(xt){var Nt,je,De,bn,kn,Un,Gn,ga,ei,Rs,El,or,fi,Is=0,Cl=0,Al=0,Tc=0,jl=1;if(je=(Nt=new Vm(xt)).readUnsignedByte(),bn=Nt.readUnsignedByte(),De=Nt.readUnsignedByte(),Nt.skipUnsignedExpGolomb(),yp[je]&&((kn=Nt.readUnsignedExpGolomb())===3&&Nt.skipBits(1),Nt.skipUnsignedExpGolomb(),Nt.skipUnsignedExpGolomb(),Nt.skipBits(1),Nt.readBoolean()))for(El=kn!==3?8:12,fi=0;fi<El;fi++)Nt.readBoolean()&&yt(fi<6?16:64,Nt);if(Nt.skipUnsignedExpGolomb(),(Un=Nt.readUnsignedExpGolomb())===0)Nt.readUnsignedExpGolomb();else if(Un===1)for(Nt.skipBits(1),Nt.skipExpGolomb(),Nt.skipExpGolomb(),Gn=Nt.readUnsignedExpGolomb(),fi=0;fi<Gn;fi++)Nt.skipExpGolomb();if(Nt.skipUnsignedExpGolomb(),Nt.skipBits(1),ga=Nt.readUnsignedExpGolomb(),ei=Nt.readUnsignedExpGolomb(),(Rs=Nt.readBits(1))===0&&Nt.skipBits(1),Nt.skipBits(1),Nt.readBoolean()&&(Is=Nt.readUnsignedExpGolomb(),Cl=Nt.readUnsignedExpGolomb(),Al=Nt.readUnsignedExpGolomb(),Tc=Nt.readUnsignedExpGolomb()),Nt.readBoolean()&&Nt.readBoolean()){switch(Nt.readUnsignedByte()){case 1:or=[1,1];break;case 2:or=[12,11];break;case 3:or=[10,11];break;case 4:or=[16,11];break;case 5:or=[40,33];break;case 6:or=[24,11];break;case 7:or=[20,11];break;case 8:or=[32,11];break;case 9:or=[80,33];break;case 10:or=[18,11];break;case 11:or=[15,11];break;case 12:or=[64,33];break;case 13:or=[160,99];break;case 14:or=[4,3];break;case 15:or=[3,2];break;case 16:or=[2,1];break;case 255:or=[Nt.readUnsignedByte()<<8|Nt.readUnsignedByte(),Nt.readUnsignedByte()<<8|Nt.readUnsignedByte()]}or&&(jl=or[0]/or[1])}return{profileIdc:je,levelIdc:De,profileCompatibility:bn,width:Math.ceil((16*(ga+1)-2*Is-2*Cl)*jl),height:(2-Rs)*(ei+1)*16-2*Al-2*Tc}}}).prototype=new va;var Xf,Hm={H264Stream:Kf,NalByteStream:of},zm=function(P){return P[0]==="I".charCodeAt(0)&&P[1]==="D".charCodeAt(0)&&P[2]==="3".charCodeAt(0)},Gm=function(P,z){var X=P[z+6]<<21|P[z+7]<<14|P[z+8]<<7|P[z+9];return(16&P[z+5])>>4?X+20:X+10},Wm=function(P,z){var X=(224&P[z+5])>>5,J=P[z+4]<<3;return 6144&P[z+3]|J|X};(Xf=function(){var P=new Uint8Array,z=0;Xf.prototype.init.call(this),this.setTimestamp=function(X){z=X},this.push=function(X){var J,nt,st,yt,_t=0,xt=0;for(P.length?(yt=P.length,(P=new Uint8Array(X.byteLength+yt)).set(P.subarray(0,yt)),P.set(X,yt)):P=X;P.length-xt>=3;)if(P[xt]!=="I".charCodeAt(0)||P[xt+1]!=="D".charCodeAt(0)||P[xt+2]!=="3".charCodeAt(0))if((255&P[xt])!=255||(240&P[xt+1])!=240)xt++;else{if(P.length-xt<7||xt+(_t=Wm(P,xt))>P.length)break;st={type:"audio",data:P.subarray(xt,xt+_t),pts:z,dts:z},this.trigger("data",st),xt+=_t}else{if(P.length-xt<10||xt+(_t=Gm(P,xt))>P.length)break;nt={type:"timed-metadata",data:P.subarray(xt,xt+_t)},this.trigger("data",nt),xt+=_t}J=P.length-xt,P=J>0?P.subarray(xt):new Uint8Array}}).prototype=new va;var sf,Cd,Yf,Ad,qm=Xf,$m=Hm.H264Stream,Km=zm,Jf=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],Zf=["width","height","profileIdc","levelIdc","profileCompatibility"],bp=function(P,z){var X;if(P.length!==z.length)return!1;for(X=0;X<P.length;X++)if(P[X]!==z[X])return!1;return!0},Tp=function(P,z,X,J,nt,st){return{start:{dts:P,pts:P+(X-z)},end:{dts:P+(J-z),pts:P+(nt-X)},prependedContentDuration:st,baseMediaDecodeTime:P}};(Cd=function(P,z){var X=[],J=0,nt=0,st=0,yt=1/0;z=z||{},Cd.prototype.init.call(this),this.push=function(_t){Vf(P,_t),P&&Jf.forEach(function(xt){P[xt]=_t[xt]}),X.push(_t)},this.setEarliestDts=function(_t){nt=_t-P.timelineStartInfo.baseMediaDecodeTime},this.setVideoBaseMediaDecodeTime=function(_t){yt=_t},this.setAudioAppendStart=function(_t){st=_t},this.flush=function(){var _t,xt,Nt,je;X.length!==0?(_t=Am(X,P,nt),P.baseMediaDecodeTime=dp(P,z.keepOriginalTimestamps),Cm(P,_t,st,yt),P.samples=jm(_t),Nt=td.mdat(xm(_t)),X=[],xt=td.moof(J,[P]),je=new Uint8Array(xt.byteLength+Nt.byteLength),J++,je.set(xt),je.set(Nt,xt.byteLength),Ed(P),this.trigger("data",{track:P,boxes:je}),this.trigger("done","AudioSegmentStream")):this.trigger("done","AudioSegmentStream")}}).prototype=new va,(sf=function(P,z){var X,J,nt=0,st=[],yt=[];z=z||{},sf.prototype.init.call(this),delete P.minPTS,this.gopCache_=[],this.push=function(_t){Vf(P,_t),_t.nalUnitType!=="seq_parameter_set_rbsp"||X||(X=_t.config,P.sps=[_t.data],Zf.forEach(function(xt){P[xt]=X[xt]},this)),_t.nalUnitType!=="pic_parameter_set_rbsp"||J||(J=_t.data,P.pps=[_t.data]),st.push(_t)},this.flush=function(){for(var _t,xt,Nt,je,De,bn,kn,Un,Gn=0;st.length&&st[0].nalUnitType!=="access_unit_delimiter_rbsp";)st.shift();if(st.length===0)return this.resetStream_(),void this.trigger("done","VideoSegmentStream");if(_t=ym(st),(Nt=_m(_t))[0][0].keyFrame||((xt=this.getGopForFusion_(st[0],P))?(Gn=xt.duration,Nt.unshift(xt),Nt.byteLength+=xt.byteLength,Nt.nalCount+=xt.nalCount,Nt.pts=xt.pts,Nt.dts=xt.dts,Nt.duration+=xt.duration):Nt=bm(Nt)),yt.length){var ga;if(!(ga=z.alignGopsAtEnd?this.alignGopsAtEnd_(Nt):this.alignGopsAtStart_(Nt)))return this.gopCache_.unshift({gop:Nt.pop(),pps:P.pps,sps:P.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),st=[],this.resetStream_(),void this.trigger("done","VideoSegmentStream");Ed(P),Nt=ga}Vf(P,Nt),P.samples=Tm(Nt),De=td.mdat(Sm(Nt)),P.baseMediaDecodeTime=dp(P,z.keepOriginalTimestamps),this.trigger("processedGopsInfo",Nt.map(function(ei){return{pts:ei.pts,dts:ei.dts,byteLength:ei.byteLength}})),kn=Nt[0],Un=Nt[Nt.length-1],this.trigger("segmentTimingInfo",Tp(P.baseMediaDecodeTime,kn.dts,kn.pts,Un.dts+Un.duration,Un.pts+Un.duration,Gn)),this.gopCache_.unshift({gop:Nt.pop(),pps:P.pps,sps:P.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),st=[],this.trigger("baseMediaDecodeTime",P.baseMediaDecodeTime),this.trigger("timelineStartInfo",P.timelineStartInfo),je=td.moof(nt,[P]),bn=new Uint8Array(je.byteLength+De.byteLength),nt++,bn.set(je),bn.set(De,je.byteLength),this.trigger("data",{track:P,boxes:bn}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.resetStream_=function(){Ed(P),X=void 0,J=void 0},this.getGopForFusion_=function(_t){var xt,Nt,je,De,bn,kn=1/0;for(bn=0;bn<this.gopCache_.length;bn++)je=(De=this.gopCache_[bn]).gop,P.pps&&bp(P.pps[0],De.pps[0])&&P.sps&&bp(P.sps[0],De.sps[0])&&(je.dts<P.timelineStartInfo.dts||(xt=_t.dts-je.dts-je.duration)>=-1e4&&xt<=45e3&&(!Nt||kn>xt)&&(Nt=De,kn=xt));return Nt?Nt.gop:null},this.alignGopsAtStart_=function(_t){var xt,Nt,je,De,bn,kn,Un,Gn;for(bn=_t.byteLength,kn=_t.nalCount,Un=_t.duration,xt=Nt=0;xt<yt.length&&Nt<_t.length&&(je=yt[xt],De=_t[Nt],je.pts!==De.pts);)De.pts>je.pts?xt++:(Nt++,bn-=De.byteLength,kn-=De.nalCount,Un-=De.duration);return Nt===0?_t:Nt===_t.length?null:((Gn=_t.slice(Nt)).byteLength=bn,Gn.duration=Un,Gn.nalCount=kn,Gn.pts=Gn[0].pts,Gn.dts=Gn[0].dts,Gn)},this.alignGopsAtEnd_=function(_t){var xt,Nt,je,De,bn,kn,Un;for(xt=yt.length-1,Nt=_t.length-1,bn=null,kn=!1;xt>=0&&Nt>=0;){if(je=yt[xt],De=_t[Nt],je.pts===De.pts){kn=!0;break}je.pts>De.pts?xt--:(xt===yt.length-1&&(bn=Nt),Nt--)}if(!kn&&bn===null)return null;if((Un=kn?Nt:bn)===0)return _t;var Gn=_t.slice(Un),ga=Gn.reduce(function(ei,Rs){return ei.byteLength+=Rs.byteLength,ei.duration+=Rs.duration,ei.nalCount+=Rs.nalCount,ei},{byteLength:0,duration:0,nalCount:0});return Gn.byteLength=ga.byteLength,Gn.duration=ga.duration,Gn.nalCount=ga.nalCount,Gn.pts=Gn[0].pts,Gn.dts=Gn[0].dts,Gn},this.alignGopsWith=function(_t){yt=_t}}).prototype=new va,(Ad=function(P,z){this.numberOfTracks=0,this.metadataStream=z,(P=P||{}).remux!==void 0?this.remuxTracks=!!P.remux:this.remuxTracks=!0,typeof P.keepOriginalTimestamps=="boolean"&&(this.keepOriginalTimestamps=P.keepOriginalTimestamps),this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,Ad.prototype.init.call(this),this.push=function(X){return X.text?this.pendingCaptions.push(X):X.frames?this.pendingMetadata.push(X):(this.pendingTracks.push(X.track),this.pendingBoxes.push(X.boxes),this.pendingBytes+=X.boxes.byteLength,X.track.type==="video"&&(this.videoTrack=X.track),void(X.track.type==="audio"&&(this.audioTrack=X.track)))}}).prototype=new va,Ad.prototype.flush=function(P){var z,X,J,nt,st=0,yt={captions:[],captionStreams:{},metadata:[],info:{}},_t=0;if(this.pendingTracks.length<this.numberOfTracks){if(P!=="VideoSegmentStream"&&P!=="AudioSegmentStream"||this.remuxTracks)return;if(this.pendingTracks.length===0)return void(++this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0))}for(this.videoTrack?(_t=this.videoTrack.timelineStartInfo.pts,Zf.forEach(function(xt){yt.info[xt]=this.videoTrack[xt]},this)):this.audioTrack&&(_t=this.audioTrack.timelineStartInfo.pts,Jf.forEach(function(xt){yt.info[xt]=this.audioTrack[xt]},this)),this.pendingTracks.length===1?yt.type=this.pendingTracks[0].type:yt.type="combined",this.emittedTracks+=this.pendingTracks.length,J=td.initSegment(this.pendingTracks),yt.initSegment=new Uint8Array(J.byteLength),yt.initSegment.set(J),yt.data=new Uint8Array(this.pendingBytes),nt=0;nt<this.pendingBoxes.length;nt++)yt.data.set(this.pendingBoxes[nt],st),st+=this.pendingBoxes[nt].byteLength;for(nt=0;nt<this.pendingCaptions.length;nt++)(z=this.pendingCaptions[nt]).startTime=z.startPts,this.keepOriginalTimestamps||(z.startTime-=_t),z.startTime/=9e4,z.endTime=z.endPts,this.keepOriginalTimestamps||(z.endTime-=_t),z.endTime/=9e4,yt.captionStreams[z.stream]=!0,yt.captions.push(z);for(nt=0;nt<this.pendingMetadata.length;nt++)(X=this.pendingMetadata[nt]).cueTime=X.pts,this.keepOriginalTimestamps||(X.cueTime-=_t),X.cueTime/=9e4,yt.metadata.push(X);yt.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",yt),this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},(Yf=function(P){var z,X,J=this,nt=!0;Yf.prototype.init.call(this),P=P||{},this.baseMediaDecodeTime=P.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var st={};this.transmuxPipeline_=st,st.type="aac",st.metadataStream=new qo.MetadataStream,st.aacStream=new qm,st.audioTimestampRolloverStream=new qo.TimestampRolloverStream("audio"),st.timedMetadataTimestampRolloverStream=new qo.TimestampRolloverStream("timed-metadata"),st.adtsStream=new _p,st.coalesceStream=new Ad(P,st.metadataStream),st.headOfPipeline=st.aacStream,st.aacStream.pipe(st.audioTimestampRolloverStream).pipe(st.adtsStream),st.aacStream.pipe(st.timedMetadataTimestampRolloverStream).pipe(st.metadataStream).pipe(st.coalesceStream),st.metadataStream.on("timestamp",function(yt){st.aacStream.setTimestamp(yt.timeStamp)}),st.aacStream.on("data",function(yt){yt.type!=="timed-metadata"||st.audioSegmentStream||(X=X||{timelineStartInfo:{baseMediaDecodeTime:J.baseMediaDecodeTime},codec:"adts",type:"audio"},st.coalesceStream.numberOfTracks++,st.audioSegmentStream=new Cd(X,P),st.adtsStream.pipe(st.audioSegmentStream).pipe(st.coalesceStream))}),st.coalesceStream.on("data",this.trigger.bind(this,"data")),st.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setupTsPipeline=function(){var st={};this.transmuxPipeline_=st,st.type="ts",st.metadataStream=new qo.MetadataStream,st.packetStream=new qo.TransportPacketStream,st.parseStream=new qo.TransportParseStream,st.elementaryStream=new qo.ElementaryStream,st.videoTimestampRolloverStream=new qo.TimestampRolloverStream("video"),st.audioTimestampRolloverStream=new qo.TimestampRolloverStream("audio"),st.timedMetadataTimestampRolloverStream=new qo.TimestampRolloverStream("timed-metadata"),st.adtsStream=new _p,st.h264Stream=new $m,st.captionStream=new qo.CaptionStream,st.coalesceStream=new Ad(P,st.metadataStream),st.headOfPipeline=st.packetStream,st.packetStream.pipe(st.parseStream).pipe(st.elementaryStream),st.elementaryStream.pipe(st.videoTimestampRolloverStream).pipe(st.h264Stream),st.elementaryStream.pipe(st.audioTimestampRolloverStream).pipe(st.adtsStream),st.elementaryStream.pipe(st.timedMetadataTimestampRolloverStream).pipe(st.metadataStream).pipe(st.coalesceStream),st.h264Stream.pipe(st.captionStream).pipe(st.coalesceStream),st.elementaryStream.on("data",function(yt){var _t;if(yt.type==="metadata"){for(_t=yt.tracks.length;_t--;)z||yt.tracks[_t].type!=="video"?X||yt.tracks[_t].type!=="audio"||((X=yt.tracks[_t]).timelineStartInfo.baseMediaDecodeTime=J.baseMediaDecodeTime):(z=yt.tracks[_t]).timelineStartInfo.baseMediaDecodeTime=J.baseMediaDecodeTime;z&&!st.videoSegmentStream&&(st.coalesceStream.numberOfTracks++,st.videoSegmentStream=new sf(z,P),st.videoSegmentStream.on("timelineStartInfo",function(xt){X&&(X.timelineStartInfo=xt,st.audioSegmentStream.setEarliestDts(xt.dts))}),st.videoSegmentStream.on("processedGopsInfo",J.trigger.bind(J,"gopInfo")),st.videoSegmentStream.on("segmentTimingInfo",J.trigger.bind(J,"videoSegmentTimingInfo")),st.videoSegmentStream.on("baseMediaDecodeTime",function(xt){X&&st.audioSegmentStream.setVideoBaseMediaDecodeTime(xt)}),st.h264Stream.pipe(st.videoSegmentStream).pipe(st.coalesceStream)),X&&!st.audioSegmentStream&&(st.coalesceStream.numberOfTracks++,st.audioSegmentStream=new Cd(X,P),st.adtsStream.pipe(st.audioSegmentStream).pipe(st.coalesceStream))}}),st.coalesceStream.on("data",this.trigger.bind(this,"data")),st.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setBaseMediaDecodeTime=function(st){var yt=this.transmuxPipeline_;P.keepOriginalTimestamps||(this.baseMediaDecodeTime=st),X&&(X.timelineStartInfo.dts=void 0,X.timelineStartInfo.pts=void 0,Ed(X),P.keepOriginalTimestamps||(X.timelineStartInfo.baseMediaDecodeTime=st),yt.audioTimestampRolloverStream&&yt.audioTimestampRolloverStream.discontinuity()),z&&(yt.videoSegmentStream&&(yt.videoSegmentStream.gopCache_=[],yt.videoTimestampRolloverStream.discontinuity()),z.timelineStartInfo.dts=void 0,z.timelineStartInfo.pts=void 0,Ed(z),yt.captionStream.reset(),P.keepOriginalTimestamps||(z.timelineStartInfo.baseMediaDecodeTime=st)),yt.timedMetadataTimestampRolloverStream&&yt.timedMetadataTimestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(st){X&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(st)},this.alignGopsWith=function(st){z&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(st)},this.push=function(st){if(nt){var yt=Km(st);yt&&this.transmuxPipeline_.type!=="aac"?this.setupAacPipeline():yt||this.transmuxPipeline_.type==="ts"||this.setupTsPipeline(),nt=!1}this.transmuxPipeline_.headOfPipeline.push(st)},this.flush=function(){nt=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}}).prototype=new va;var Pa,Sp,Qf={Transmuxer:Yf,VideoSegmentStream:sf,AudioSegmentStream:Cd,AUDIO_PROPERTIES:Jf,VIDEO_PROPERTIES:Zf,generateVideoSegmentTimingInfo:Tp},uf=yc.parseType,To=function(P){return new Date(1e3*P-20828448e5)},wp=function(P){return{isLeading:(12&P[0])>>>2,dependsOn:3&P[0],isDependedOn:(192&P[1])>>>6,hasRedundancy:(48&P[1])>>>4,paddingValue:(14&P[1])>>>1,isNonSyncSample:1&P[1],degradationPriority:P[2]<<8|P[3]}},Xm=function(P){var z,X,J=new DataView(P.buffer,P.byteOffset,P.byteLength),nt=[];for(z=0;z+4<P.length;z+=X)if(X=J.getUint32(z),z+=4,X<=0)nt.push("<span style='color:red;'>MALFORMED DATA</span>");else switch(31&P[z]){case 1:nt.push("slice_layer_without_partitioning_rbsp");break;case 5:nt.push("slice_layer_without_partitioning_rbsp_idr");break;case 6:nt.push("sei_rbsp");break;case 7:nt.push("seq_parameter_set_rbsp");break;case 8:nt.push("pic_parameter_set_rbsp");break;case 9:nt.push("access_unit_delimiter_rbsp");break;default:nt.push("UNKNOWN NAL - "+P[z]&31)}return nt},bc={avc1:function(P){var z=new DataView(P.buffer,P.byteOffset,P.byteLength);return{dataReferenceIndex:z.getUint16(6),width:z.getUint16(24),height:z.getUint16(26),horizresolution:z.getUint16(28)+z.getUint16(30)/16,vertresolution:z.getUint16(32)+z.getUint16(34)/16,frameCount:z.getUint16(40),depth:z.getUint16(74),config:Pa(P.subarray(78,P.byteLength))}},avcC:function(P){var z,X,J,nt,st=new DataView(P.buffer,P.byteOffset,P.byteLength),yt={configurationVersion:P[0],avcProfileIndication:P[1],profileCompatibility:P[2],avcLevelIndication:P[3],lengthSizeMinusOne:3&P[4],sps:[],pps:[]},_t=31&P[5];for(J=6,nt=0;nt<_t;nt++)X=st.getUint16(J),J+=2,yt.sps.push(new Uint8Array(P.subarray(J,J+X))),J+=X;for(z=P[J],J++,nt=0;nt<z;nt++)X=st.getUint16(J),J+=2,yt.pps.push(new Uint8Array(P.subarray(J,J+X))),J+=X;return yt},btrt:function(P){var z=new DataView(P.buffer,P.byteOffset,P.byteLength);return{bufferSizeDB:z.getUint32(0),maxBitrate:z.getUint32(4),avgBitrate:z.getUint32(8)}},esds:function(P){return{version:P[0],flags:new Uint8Array(P.subarray(1,4)),esId:P[6]<<8|P[7],streamPriority:31&P[8],decoderConfig:{objectProfileIndication:P[11],streamType:P[12]>>>2&63,bufferSize:P[13]<<16|P[14]<<8|P[15],maxBitrate:P[16]<<24|P[17]<<16|P[18]<<8|P[19],avgBitrate:P[20]<<24|P[21]<<16|P[22]<<8|P[23],decoderConfigDescriptor:{tag:P[24],length:P[25],audioObjectType:P[26]>>>3&31,samplingFrequencyIndex:(7&P[26])<<1|P[27]>>>7&1,channelConfiguration:P[27]>>>3&15}}}},ftyp:function(P){for(var z=new DataView(P.buffer,P.byteOffset,P.byteLength),X={majorBrand:uf(P.subarray(0,4)),minorVersion:z.getUint32(4),compatibleBrands:[]},J=8;J<P.byteLength;)X.compatibleBrands.push(uf(P.subarray(J,J+4))),J+=4;return X},dinf:function(P){return{boxes:Pa(P)}},dref:function(P){return{version:P[0],flags:new Uint8Array(P.subarray(1,4)),dataReferences:Pa(P.subarray(8))}},hdlr:function(P){var z={version:new DataView(P.buffer,P.byteOffset,P.byteLength).getUint8(0),flags:new Uint8Array(P.subarray(1,4)),handlerType:uf(P.subarray(8,12)),name:""},X=8;for(X=24;X<P.byteLength;X++){if(P[X]===0){X++;break}z.name+=String.fromCharCode(P[X])}return z.name=decodeURIComponent(escape(z.name)),z},mdat:function(P){return{byteLength:P.byteLength,nals:Xm(P)}},mdhd:function(P){var z,X=new DataView(P.buffer,P.byteOffset,P.byteLength),J=4,nt={version:X.getUint8(0),flags:new Uint8Array(P.subarray(1,4)),language:""};return nt.version===1?(J+=4,nt.creationTime=To(X.getUint32(J)),J+=8,nt.modificationTime=To(X.getUint32(J)),J+=4,nt.timescale=X.getUint32(J),J+=8,nt.duration=X.getUint32(J)):(nt.creationTime=To(X.getUint32(J)),J+=4,nt.modificationTime=To(X.getUint32(J)),J+=4,nt.timescale=X.getUint32(J),J+=4,nt.duration=X.getUint32(J)),J+=4,z=X.getUint16(J),nt.language+=String.fromCharCode(96+(z>>10)),nt.language+=String.fromCharCode(96+((992&z)>>5)),nt.language+=String.fromCharCode(96+(31&z)),nt},mdia:function(P){return{boxes:Pa(P)}},mfhd:function(P){return{version:P[0],flags:new Uint8Array(P.subarray(1,4)),sequenceNumber:P[4]<<24|P[5]<<16|P[6]<<8|P[7]}},minf:function(P){return{boxes:Pa(P)}},mp4a:function(P){var z=new DataView(P.buffer,P.byteOffset,P.byteLength),X={dataReferenceIndex:z.getUint16(6),channelcount:z.getUint16(16),samplesize:z.getUint16(18),samplerate:z.getUint16(24)+z.getUint16(26)/65536};return P.byteLength>28&&(X.streamDescriptor=Pa(P.subarray(28))[0]),X},moof:function(P){return{boxes:Pa(P)}},moov:function(P){return{boxes:Pa(P)}},mvex:function(P){return{boxes:Pa(P)}},mvhd:function(P){var z=new DataView(P.buffer,P.byteOffset,P.byteLength),X=4,J={version:z.getUint8(0),flags:new Uint8Array(P.subarray(1,4))};return J.version===1?(X+=4,J.creationTime=To(z.getUint32(X)),X+=8,J.modificationTime=To(z.getUint32(X)),X+=4,J.timescale=z.getUint32(X),X+=8,J.duration=z.getUint32(X)):(J.creationTime=To(z.getUint32(X)),X+=4,J.modificationTime=To(z.getUint32(X)),X+=4,J.timescale=z.getUint32(X),X+=4,J.duration=z.getUint32(X)),X+=4,J.rate=z.getUint16(X)+z.getUint16(X+2)/16,X+=4,J.volume=z.getUint8(X)+z.getUint8(X+1)/8,X+=2,X+=2,X+=8,J.matrix=new Uint32Array(P.subarray(X,X+36)),X+=36,X+=24,J.nextTrackId=z.getUint32(X),J},pdin:function(P){var z=new DataView(P.buffer,P.byteOffset,P.byteLength);return{version:z.getUint8(0),flags:new Uint8Array(P.subarray(1,4)),rate:z.getUint32(4),initialDelay:z.getUint32(8)}},sdtp:function(P){var z,X={version:P[0],flags:new Uint8Array(P.subarray(1,4)),samples:[]};for(z=4;z<P.byteLength;z++)X.samples.push({dependsOn:(48&P[z])>>4,isDependedOn:(12&P[z])>>2,hasRedundancy:3&P[z]});return X},sidx:function(P){var z,X=new DataView(P.buffer,P.byteOffset,P.byteLength),J={version:P[0],flags:new Uint8Array(P.subarray(1,4)),references:[],referenceId:X.getUint32(4),timescale:X.getUint32(8),earliestPresentationTime:X.getUint32(12),firstOffset:X.getUint32(16)},nt=X.getUint16(22);for(z=24;nt;z+=12,nt--)J.references.push({referenceType:(128&P[z])>>>7,referencedSize:2147483647&X.getUint32(z),subsegmentDuration:X.getUint32(z+4),startsWithSap:!!(128&P[z+8]),sapType:(112&P[z+8])>>>4,sapDeltaTime:268435455&X.getUint32(z+8)});return J},smhd:function(P){return{version:P[0],flags:new Uint8Array(P.subarray(1,4)),balance:P[4]+P[5]/256}},stbl:function(P){return{boxes:Pa(P)}},stco:function(P){var z,X=new DataView(P.buffer,P.byteOffset,P.byteLength),J={version:P[0],flags:new Uint8Array(P.subarray(1,4)),chunkOffsets:[]},nt=X.getUint32(4);for(z=8;nt;z+=4,nt--)J.chunkOffsets.push(X.getUint32(z));return J},stsc:function(P){var z,X=new DataView(P.buffer,P.byteOffset,P.byteLength),J=X.getUint32(4),nt={version:P[0],flags:new Uint8Array(P.subarray(1,4)),sampleToChunks:[]};for(z=8;J;z+=12,J--)nt.sampleToChunks.push({firstChunk:X.getUint32(z),samplesPerChunk:X.getUint32(z+4),sampleDescriptionIndex:X.getUint32(z+8)});return nt},stsd:function(P){return{version:P[0],flags:new Uint8Array(P.subarray(1,4)),sampleDescriptions:Pa(P.subarray(8))}},stsz:function(P){var z,X=new DataView(P.buffer,P.byteOffset,P.byteLength),J={version:P[0],flags:new Uint8Array(P.subarray(1,4)),sampleSize:X.getUint32(4),entries:[]};for(z=12;z<P.byteLength;z+=4)J.entries.push(X.getUint32(z));return J},stts:function(P){var z,X=new DataView(P.buffer,P.byteOffset,P.byteLength),J={version:P[0],flags:new Uint8Array(P.subarray(1,4)),timeToSamples:[]},nt=X.getUint32(4);for(z=8;nt;z+=8,nt--)J.timeToSamples.push({sampleCount:X.getUint32(z),sampleDelta:X.getUint32(z+4)});return J},styp:function(P){return bc.ftyp(P)},tfdt:function(P){var z={version:P[0],flags:new Uint8Array(P.subarray(1,4)),baseMediaDecodeTime:P[4]<<24|P[5]<<16|P[6]<<8|P[7]};return z.version===1&&(z.baseMediaDecodeTime*=Math.pow(2,32),z.baseMediaDecodeTime+=P[8]<<24|P[9]<<16|P[10]<<8|P[11]),z},tfhd:function(P){var z,X=new DataView(P.buffer,P.byteOffset,P.byteLength),J={version:P[0],flags:new Uint8Array(P.subarray(1,4)),trackId:X.getUint32(4)},nt=1&J.flags[2],st=2&J.flags[2],yt=8&J.flags[2],_t=16&J.flags[2],xt=32&J.flags[2],Nt=65536&J.flags[0],je=131072&J.flags[0];return z=8,nt&&(z+=4,J.baseDataOffset=X.getUint32(12),z+=4),st&&(J.sampleDescriptionIndex=X.getUint32(z),z+=4),yt&&(J.defaultSampleDuration=X.getUint32(z),z+=4),_t&&(J.defaultSampleSize=X.getUint32(z),z+=4),xt&&(J.defaultSampleFlags=X.getUint32(z)),Nt&&(J.durationIsEmpty=!0),!nt&&je&&(J.baseDataOffsetIsMoof=!0),J},tkhd:function(P){var z=new DataView(P.buffer,P.byteOffset,P.byteLength),X=4,J={version:z.getUint8(0),flags:new Uint8Array(P.subarray(1,4))};return J.version===1?(X+=4,J.creationTime=To(z.getUint32(X)),X+=8,J.modificationTime=To(z.getUint32(X)),X+=4,J.trackId=z.getUint32(X),X+=4,X+=8,J.duration=z.getUint32(X)):(J.creationTime=To(z.getUint32(X)),X+=4,J.modificationTime=To(z.getUint32(X)),X+=4,J.trackId=z.getUint32(X),X+=4,X+=4,J.duration=z.getUint32(X)),X+=4,X+=8,J.layer=z.getUint16(X),X+=2,J.alternateGroup=z.getUint16(X),X+=2,J.volume=z.getUint8(X)+z.getUint8(X+1)/8,X+=2,X+=2,J.matrix=new Uint32Array(P.subarray(X,X+36)),X+=36,J.width=z.getUint16(X)+z.getUint16(X+2)/16,X+=4,J.height=z.getUint16(X)+z.getUint16(X+2)/16,J},traf:function(P){return{boxes:Pa(P)}},trak:function(P){return{boxes:Pa(P)}},trex:function(P){var z=new DataView(P.buffer,P.byteOffset,P.byteLength);return{version:P[0],flags:new Uint8Array(P.subarray(1,4)),trackId:z.getUint32(4),defaultSampleDescriptionIndex:z.getUint32(8),defaultSampleDuration:z.getUint32(12),defaultSampleSize:z.getUint32(16),sampleDependsOn:3&P[20],sampleIsDependedOn:(192&P[21])>>6,sampleHasRedundancy:(48&P[21])>>4,samplePaddingValue:(14&P[21])>>1,sampleIsDifferenceSample:!!(1&P[21]),sampleDegradationPriority:z.getUint16(22)}},trun:function(P){var z,X={version:P[0],flags:new Uint8Array(P.subarray(1,4)),samples:[]},J=new DataView(P.buffer,P.byteOffset,P.byteLength),nt=1&X.flags[2],st=4&X.flags[2],yt=1&X.flags[1],_t=2&X.flags[1],xt=4&X.flags[1],Nt=8&X.flags[1],je=J.getUint32(4),De=8;for(nt&&(X.dataOffset=J.getInt32(De),De+=4),st&&je&&(z={flags:wp(P.subarray(De,De+4))},De+=4,yt&&(z.duration=J.getUint32(De),De+=4),_t&&(z.size=J.getUint32(De),De+=4),Nt&&(z.compositionTimeOffset=J.getUint32(De),De+=4),X.samples.push(z),je--);je--;)z={},yt&&(z.duration=J.getUint32(De),De+=4),_t&&(z.size=J.getUint32(De),De+=4),xt&&(z.flags=wp(P.subarray(De,De+4)),De+=4),Nt&&(z.compositionTimeOffset=J.getUint32(De),De+=4),X.samples.push(z);return X},"url ":function(P){return{version:P[0],flags:new Uint8Array(P.subarray(1,4))}},vmhd:function(P){var z=new DataView(P.buffer,P.byteOffset,P.byteLength);return{version:P[0],flags:new Uint8Array(P.subarray(1,4)),graphicsmode:z.getUint16(4),opcolor:new Uint16Array([z.getUint16(6),z.getUint16(8),z.getUint16(10)])}}},th={inspect:Pa=function(P){for(var z,X,J,nt,st,yt=0,_t=[],xt=new ArrayBuffer(P.length),Nt=new Uint8Array(xt),je=0;je<P.length;++je)Nt[je]=P[je];for(z=new DataView(xt);yt<P.byteLength;)X=z.getUint32(yt),J=uf(P.subarray(yt+4,yt+8)),nt=X>1?yt+X:P.byteLength,(st=(bc[J]||function(De){return{data:De}})(P.subarray(yt+8,nt))).size=X,st.type=J,_t.push(st),yt=nt;return _t},textify:Sp=function(P,z){var X;return z=z||0,X=new Array(2*z+1).join(" "),P.map(function(J,nt){return X+J.type+`
`+Object.keys(J).filter(function(st){return st!=="type"&&st!=="boxes"}).map(function(st){var yt=X+"  "+st+": ",_t=J[st];if(_t instanceof Uint8Array||_t instanceof Uint32Array){var xt=Array.prototype.slice.call(new Uint8Array(_t.buffer,_t.byteOffset,_t.byteLength)).map(function(Nt){return" "+("00"+Nt.toString(16)).slice(-2)}).join("").match(/.{1,24}/g);return xt?xt.length===1?yt+"<"+xt.join("").slice(1)+">":yt+`<
`+xt.map(function(Nt){return X+"  "+Nt}).join(`
`)+`
`+X+"  >":yt+"<>"}return yt+JSON.stringify(_t,null,2).split(`
`).map(function(Nt,je){return je===0?Nt:X+"  "+Nt}).join(`
`)}).join(`
`)+(J.boxes?`
`+Sp(J.boxes,z+1):"")}).join(`
`)},parseTfdt:bc.tfdt,parseHdlr:bc.hdlr,parseTfhd:bc.tfhd,parseTrun:bc.trun,parseSidx:bc.sidx},Ym=Rm,Jm=Hf.CaptionStream,Zm=function(P,z){for(var X=P,J=0;J<z.length;J++){var nt=z[J];if(X<nt.size)return nt;X-=nt.size}return null},Qm=function(P,z){var X=yc.findBox(P,["moof","traf"]),J=yc.findBox(P,["mdat"]),nt={},st=[];return J.forEach(function(yt,_t){var xt=X[_t];st.push({mdat:yt,traf:xt})}),st.forEach(function(yt){var _t,xt,Nt=yt.mdat,je=yt.traf,De=yc.findBox(je,["tfhd"]),bn=th.parseTfhd(De[0]),kn=bn.trackId,Un=yc.findBox(je,["tfdt"]),Gn=Un.length>0?th.parseTfdt(Un[0]).baseMediaDecodeTime:0,ga=yc.findBox(je,["trun"]);z===kn&&ga.length>0&&(_t=function(ei,Rs,El){var or=Rs,fi=El.defaultSampleDuration||0,Is=El.defaultSampleSize||0,Cl=El.trackId,Al=[];return ei.forEach(function(Tc){var jl=th.parseTrun(Tc).samples;jl.forEach(function(ea){ea.duration===void 0&&(ea.duration=fi),ea.size===void 0&&(ea.size=Is),ea.trackId=Cl,ea.dts=or,ea.compositionTimeOffset===void 0&&(ea.compositionTimeOffset=0),ea.pts=or+ea.compositionTimeOffset,or+=ea.duration}),Al=Al.concat(jl)}),Al}(ga,Gn,bn),xt=function(ei,Rs,El){var or,fi,Is,Cl,Al=new DataView(ei.buffer,ei.byteOffset,ei.byteLength),Tc=[];for(fi=0;fi+4<ei.length;fi+=Is)if(Is=Al.getUint32(fi),fi+=4,!(Is<=0))switch(31&ei[fi]){case 6:var jl=ei.subarray(fi+1,fi+1+Is),ea=Zm(fi,Rs);or={nalUnitType:"sei_rbsp",size:Is,data:jl,escapedRBSP:Ym(jl),trackId:El},ea?(or.pts=ea.pts,or.dts=ea.dts,Cl=ea):(or.pts=Cl.pts,or.dts=Cl.dts),Tc.push(or)}return Tc}(Nt,_t,kn),nt[kn]||(nt[kn]=[]),nt[kn]=nt[kn].concat(xt))}),nt},tv={generator:td,probe:yc,Transmuxer:Qf.Transmuxer,AudioSegmentStream:Qf.AudioSegmentStream,VideoSegmentStream:Qf.VideoSegmentStream,CaptionParser:function(){var P,z,X,J,nt,st=!1;this.isInitialized=function(){return st},this.init=function(){P=new Jm,st=!0,P.on("data",function(yt){yt.startTime=yt.startPts/J,yt.endTime=yt.endPts/J,nt.captions.push(yt),nt.captionStreams[yt.stream]=!0})},this.isNewInit=function(yt,_t){return!(yt&&yt.length===0||_t&&typeof _t=="object"&&Object.keys(_t).length===0||X===yt[0]&&J===_t[X])},this.parse=function(yt,_t,xt){var Nt;if(!this.isInitialized()||!_t||!xt)return null;if(this.isNewInit(_t,xt))X=_t[0],J=xt[X];else if(!X||!J)return z.push(yt),null;for(;z.length>0;){var je=z.shift();this.parse(je,_t,xt)}return(Nt=function(De,bn,kn){return bn?{seiNals:Qm(De,bn)[bn],timescale:kn}:null}(yt,X,J))!==null&&Nt.seiNals?(this.pushNals(Nt.seiNals),this.flushStream(),nt):null},this.pushNals=function(yt){if(!this.isInitialized()||!yt||yt.length===0)return null;yt.forEach(function(_t){P.push(_t)})},this.flushStream=function(){if(!this.isInitialized())return null;P.flush()},this.clearParsedCaptions=function(){nt.captions=[],nt.captionStreams={}},this.resetCaptionStream=function(){if(!this.isInitialized())return null;P.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){z=[],X=null,J=null,nt?this.clearParsedCaptions():nt={captions:[],captionStreams:{}},this.resetCaptionStream()},this.reset()}},ev=function(){function P(z,X){for(var J=0;J<X.length;J++){var nt=X[J];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(z,nt.key,nt)}}return function(z,X,J){return X&&P(z.prototype,X),J&&P(z,J),z}}(),kp=function(){function P(z,X){(function(J,nt){if(!(J instanceof nt))throw new TypeError("Cannot call a class as a function")})(this,P),this.options=X||{},this.self=z,this.init()}return ev(P,[{key:"init",value:function(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new tv.Transmuxer(this.options),function(z,X){X.on("data",function(J){var nt=J.initSegment;J.initSegment={data:nt.buffer,byteOffset:nt.byteOffset,byteLength:nt.byteLength};var st=J.data;J.data=st.buffer,z.postMessage({action:"data",segment:J,byteOffset:st.byteOffset,byteLength:st.byteLength},[J.data])}),X.captionStream&&X.captionStream.on("data",function(J){z.postMessage({action:"caption",data:J})}),X.on("done",function(J){z.postMessage({action:"done"})}),X.on("gopInfo",function(J){z.postMessage({action:"gopInfo",gopInfo:J})}),X.on("videoSegmentTimingInfo",function(J){z.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:J})})}(this.self,this.transmuxer)}},{key:"push",value:function(z){var X=new Uint8Array(z.data,z.byteOffset,z.byteLength);this.transmuxer.push(X)}},{key:"reset",value:function(){this.init()}},{key:"setTimestampOffset",value:function(z){var X=z.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(9e4*X))}},{key:"setAudioAppendStart",value:function(z){this.transmuxer.setAudioAppendStart(Math.ceil(9e4*z.appendStart))}},{key:"flush",value:function(z){this.transmuxer.flush()}},{key:"resetCaptions",value:function(){this.transmuxer.resetCaptions()}},{key:"alignGopsWith",value:function(z){this.transmuxer.alignGopsWith(z.gopsToAlignWith.slice())}}]),P}();new function(P){P.onmessage=function(z){z.data.action==="init"&&z.data.options?this.messageHandlers=new kp(P,z.data.options):(this.messageHandlers||(this.messageHandlers=new kp(P)),z.data&&z.data.action&&z.data.action!=="init"&&this.messageHandlers[z.data.action]&&this.messageHandlers[z.data.action](z.data))}}(e)})()}),Ah={videoCodec:"avc1",videoObjectTypeIndicator:".4d400d",audioProfile:"2"},jh=function(n){return n.map(function(i){return i.replace(/avc1\.(\d+)\.(\d+)/i,function(e,t,r){return"avc1."+("00"+Number(t).toString(16)).slice(-2)+"00"+("00"+Number(r).toString(16)).slice(-2)})})},Td=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",i={codecCount:0},e=void 0;return i.codecCount=n.split(",").length,i.codecCount=i.codecCount||2,(e=/(^|\s|,)+(avc[13])([^ ,]*)/i.exec(n))&&(i.videoCodec=e[2],i.videoObjectTypeIndicator=e[3]),i.audioProfile=/(^|\s|,)+mp4a.[0-9A-Fa-f]+\.([0-9A-Fa-f]+)/i.exec(n),i.audioProfile=i.audioProfile&&i.audioProfile[2],i},xf=function(n,i,e){return n+"/"+i+'; codecs="'+e.filter(function(t){return!!t}).join(", ")+'"'},Gp=function(n,i){var e=function(Q){return Q.segments&&Q.segments.length&&Q.segments[0].map?"mp4":"mp2t"}(i),t=function(Q){var dt=Q.attributes||{};return dt.CODECS?Td(dt.CODECS):Ah}(i),r=i.attributes||{},a=!0,f=!1;if(!i)return[];if(n.mediaGroups.AUDIO&&r.AUDIO){var y=n.mediaGroups.AUDIO[r.AUDIO];if(y){for(var E in f=!0,a=!1,y)if(!y[E].uri&&!y[E].playlists){a=!0;break}}}f&&!t.audioProfile&&(a||(t.audioProfile=function(Q,dt){if(!Q.mediaGroups.AUDIO||!dt)return null;var lt=Q.mediaGroups.AUDIO[dt];if(!lt)return null;for(var At in lt){var St=lt[At];if(St.default&&St.playlists)return Td(St.playlists[0].attributes.CODECS).audioProfile}return null}(n,r.AUDIO)),t.audioProfile||(Et.log.warn("Multiple audio tracks present but no audio codec string is specified. Attempting to use the default audio codec (mp4a.40.2)"),t.audioProfile=Ah.audioProfile));var D={};t.videoCodec&&(D.video=""+t.videoCodec+t.videoObjectTypeIndicator),t.audioProfile&&(D.audio="mp4a.40."+t.audioProfile);var N=xf("audio",e,[D.audio]),q=xf("video",e,[D.video]),Y=xf("video",e,[D.video,D.audio]);return f?!a&&D.video?[q,N]:a||D.video?[Y,N]:[N,N]:D.video?[Y]:[N]},xh=function(n){return/mp4a\.\d+.\d+/i.test(n)},Oh=function(n){return/avc1\.[\da-f]+/i.test(n)},Wp=function(n,i,e){if(i==null||!n.length)return[];var t=Math.ceil(9e4*(i-e+3)),r=void 0;for(r=0;r<n.length&&!(n[r].pts>t);r++);return n.slice(r)},qp=function(n){function i(e,t){bo(this,i);var r=Ls(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,Et.EventTarget));r.timestampOffset_=0,r.pendingBuffers_=[],r.bufferUpdating_=!1,r.mediaSource_=e,r.codecs_=t,r.audioCodec_=null,r.videoCodec_=null,r.audioDisabled_=!1,r.appendAudioInitSegment_=!0,r.gopBuffer_=[],r.timeMapping_=0,r.safeAppend_=Et.browser.IE_VERSION>=11;var a={remux:!1,alignGopsAtEnd:r.safeAppend_};return r.codecs_.forEach(function(f){xh(f)?r.audioCodec_=f:Oh(f)&&(r.videoCodec_=f)}),r.transmuxer_=new zp,r.transmuxer_.postMessage({action:"init",options:a}),r.transmuxer_.onmessage=function(f){return f.data.action==="data"?r.data_(f):f.data.action==="done"?r.done_(f):f.data.action==="gopInfo"?r.appendGopInfo_(f):f.data.action==="videoSegmentTimingInfo"?r.videoSegmentTimingInfo_(f.data.videoSegmentTimingInfo):void 0},Object.defineProperty(r,"timestampOffset",{get:function(){return this.timestampOffset_},set:function(f){typeof f=="number"&&f>=0&&(this.timestampOffset_=f,this.appendAudioInitSegment_=!0,this.gopBuffer_.length=0,this.timeMapping_=0,this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:f}))}}),Object.defineProperty(r,"appendWindowStart",{get:function(){return(this.videoBuffer_||this.audioBuffer_).appendWindowStart},set:function(f){this.videoBuffer_&&(this.videoBuffer_.appendWindowStart=f),this.audioBuffer_&&(this.audioBuffer_.appendWindowStart=f)}}),Object.defineProperty(r,"updating",{get:function(){return!!(this.bufferUpdating_||!this.audioDisabled_&&this.audioBuffer_&&this.audioBuffer_.updating||this.videoBuffer_&&this.videoBuffer_.updating)}}),Object.defineProperty(r,"buffered",{get:function(){return function(f,y,E){var D=null,N=null,q=0,Y=[],Q=[];if(!f&&!y)return Et.createTimeRange();if(!f)return y.buffered;if(!y||E)return f.buffered;if(f.buffered.length===0&&y.buffered.length===0)return Et.createTimeRange();for(var dt=f.buffered,lt=y.buffered,At=dt.length;At--;)Y.push({time:dt.start(At),type:"start"}),Y.push({time:dt.end(At),type:"end"});for(At=lt.length;At--;)Y.push({time:lt.start(At),type:"start"}),Y.push({time:lt.end(At),type:"end"});for(Y.sort(function(St,kt){return St.time-kt.time}),At=0;At<Y.length;At++)Y[At].type==="start"?++q==2&&(D=Y[At].time):Y[At].type==="end"&&--q==1&&(N=Y[At].time),D!==null&&N!==null&&(Q.push([D,N]),D=null,N=null);return Et.createTimeRanges(Q)}(this.videoBuffer_,this.audioBuffer_,this.audioDisabled_)}}),r}return xu(i,n),Go(i,[{key:"data_",value:function(e){var t=e.data.segment;t.data=new Uint8Array(t.data,e.data.byteOffset,e.data.byteLength),t.initSegment=new Uint8Array(t.initSegment.data,t.initSegment.byteOffset,t.initSegment.byteLength),function(r,a,f){var y=a.player_;if(f.captions&&f.captions.length){for(var E in r.inbandTextTracks_||(r.inbandTextTracks_={}),f.captionStreams)if(!r.inbandTextTracks_[E]){y.tech_.trigger({type:"usage",name:"hls-608"});var D=y.textTracks().getTrackById(E);r.inbandTextTracks_[E]=D||y.addRemoteTextTrack({kind:"captions",id:E,label:E},!1).track}}f.metadata&&f.metadata.length&&!r.metadataTrack_&&(r.metadataTrack_=y.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,r.metadataTrack_.inBandMetadataTrackDispatchType=f.metadata.dispatchType)}(this,this.mediaSource_,t),this.pendingBuffers_.push(t)}},{key:"done_",value:function(e){this.mediaSource_.readyState!=="closed"?this.processPendingSegments_():this.pendingBuffers_.length=0}},{key:"videoSegmentTimingInfo_",value:function(e){var t={start:{decode:e.start.dts/9e4,presentation:e.start.pts/9e4},end:{decode:e.end.dts/9e4,presentation:e.end.pts/9e4},baseMediaDecodeTime:e.baseMediaDecodeTime/9e4};e.prependedContentDuration&&(t.prependedContentDuration=e.prependedContentDuration/9e4),this.trigger({type:"videoSegmentTimingInfo",videoSegmentTimingInfo:t})}},{key:"createRealSourceBuffers_",value:function(){var e=this,t=["audio","video"];t.forEach(function(r){if(e[r+"Codec_"]&&!e[r+"Buffer_"]){var a=null;if(e.mediaSource_[r+"Buffer_"])(a=e.mediaSource_[r+"Buffer_"]).updating=!1;else{var f=r+'/mp4;codecs="'+e[r+"Codec_"]+'"';a=function(y,E){var D=y.addSourceBuffer(E),N=Object.create(null);for(var q in N.updating=!1,N.realBuffer_=D,D)(function(Y){typeof D[Y]=="function"?N[Y]=function(){return D[Y].apply(D,arguments)}:N[Y]===void 0&&Object.defineProperty(N,Y,{get:function(){return D[Y]},set:function(Q){return D[Y]=Q}})})(q);return N}(e.mediaSource_.nativeMediaSource_,f),e.mediaSource_[r+"Buffer_"]=a}e[r+"Buffer_"]=a,["update","updatestart","updateend"].forEach(function(y){a.addEventListener(y,function(){if(r!=="audio"||!e.audioDisabled_)return y==="updateend"&&(e[r+"Buffer_"].updating=!1),t.every(function(E){return!(E!=="audio"||!e.audioDisabled_)||r===E||!e[E+"Buffer_"]||!e[E+"Buffer_"].updating})?e.trigger(y):void 0})})}})}},{key:"appendBuffer",value:function(e){if(this.bufferUpdating_=!0,this.audioBuffer_&&this.audioBuffer_.buffered.length){var t=this.audioBuffer_.buffered;this.transmuxer_.postMessage({action:"setAudioAppendStart",appendStart:t.end(t.length-1)})}this.videoBuffer_&&this.transmuxer_.postMessage({action:"alignGopsWith",gopsToAlignWith:Wp(this.gopBuffer_,this.mediaSource_.player_?this.mediaSource_.player_.currentTime():null,this.timeMapping_)}),this.transmuxer_.postMessage({action:"push",data:e.buffer,byteOffset:e.byteOffset,byteLength:e.byteLength},[e.buffer]),this.transmuxer_.postMessage({action:"flush"})}},{key:"appendGopInfo_",value:function(e){this.gopBuffer_=function(t,r,a){if(!r.length)return t;if(a)return r.slice();for(var f=r[0].pts,y=0;y<t.length&&!(t[y].pts>=f);y++);return t.slice(0,y).concat(r)}(this.gopBuffer_,e.data.gopInfo,this.safeAppend_)}},{key:"remove",value:function(e,t){if(this.videoBuffer_&&(this.videoBuffer_.updating=!0,this.videoBuffer_.remove(e,t),this.gopBuffer_=function(a,f,y,E){for(var D=Math.ceil(9e4*(f-E)),N=Math.ceil(9e4*(y-E)),q=a.slice(),Y=a.length;Y--&&!(a[Y].pts<=N););if(Y===-1)return q;for(var Q=Y+1;Q--&&!(a[Q].pts<=D););return Q=Math.max(Q,0),q.splice(Q,Y-Q+1),q}(this.gopBuffer_,e,t,this.timeMapping_)),!this.audioDisabled_&&this.audioBuffer_&&(this.audioBuffer_.updating=!0,this.audioBuffer_.remove(e,t)),Jc(e,t,this.metadataTrack_),this.inbandTextTracks_)for(var r in this.inbandTextTracks_)Jc(e,t,this.inbandTextTracks_[r])}},{key:"processPendingSegments_",value:function(){var e={video:{segments:[],bytes:0},audio:{segments:[],bytes:0},captions:[],metadata:[]};e=this.pendingBuffers_.reduce(function(r,a){var f=a.type,y=a.data,E=a.initSegment;return r[f].segments.push(y),r[f].bytes+=y.byteLength,r[f].initSegment=E,a.captions&&(r.captions=r.captions.concat(a.captions)),a.info&&(r[f].info=a.info),a.metadata&&(r.metadata=r.metadata.concat(a.metadata)),r},e),this.videoBuffer_||this.audioBuffer_||(e.video.bytes===0&&(this.videoCodec_=null),e.audio.bytes===0&&(this.audioCodec_=null),this.createRealSourceBuffers_()),e.audio.info&&this.mediaSource_.trigger({type:"audioinfo",info:e.audio.info}),e.video.info&&this.mediaSource_.trigger({type:"videoinfo",info:e.video.info}),this.appendAudioInitSegment_&&(!this.audioDisabled_&&this.audioBuffer_&&(e.audio.segments.unshift(e.audio.initSegment),e.audio.bytes+=e.audio.initSegment.byteLength),this.appendAudioInitSegment_=!1);var t=!1;this.videoBuffer_&&e.video.bytes?(e.video.segments.unshift(e.video.initSegment),e.video.bytes+=e.video.initSegment.byteLength,this.concatAndAppendSegments_(e.video,this.videoBuffer_)):!this.videoBuffer_||!this.audioDisabled_&&this.audioBuffer_||(t=!0),Fp(this,e.captions,e.metadata),!this.audioDisabled_&&this.audioBuffer_&&this.concatAndAppendSegments_(e.audio,this.audioBuffer_),this.pendingBuffers_.length=0,t&&this.trigger("updateend"),this.bufferUpdating_=!1}},{key:"concatAndAppendSegments_",value:function(e,t){var r=0,a=void 0;if(e.bytes){a=new Uint8Array(e.bytes),e.segments.forEach(function(f){a.set(f,r),r+=f.byteLength});try{t.updating=!0,t.appendBuffer(a)}catch(f){this.mediaSource_.player_&&this.mediaSource_.player_.error({code:-3,type:"APPEND_BUFFER_ERR",message:f.message,originalError:f})}}}},{key:"abort",value:function(){this.videoBuffer_&&this.videoBuffer_.abort(),!this.audioDisabled_&&this.audioBuffer_&&this.audioBuffer_.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"reset"}),this.pendingBuffers_.length=0,this.bufferUpdating_=!1}}]),i}(Et.EventTarget),Of=function(n){function i(){bo(this,i);var e=Ls(this,(i.__proto__||Object.getPrototypeOf(i)).call(this)),t=void 0;for(t in e.nativeMediaSource_=new C.MediaSource,e.nativeMediaSource_)t in i.prototype||typeof e.nativeMediaSource_[t]!="function"||(e[t]=e.nativeMediaSource_[t].bind(e.nativeMediaSource_));return e.duration_=NaN,Object.defineProperty(e,"duration",{get:function(){return this.duration_===1/0?this.duration_:this.nativeMediaSource_.duration},set:function(r){this.duration_=r,r===1/0||(this.nativeMediaSource_.duration=r)}}),Object.defineProperty(e,"seekable",{get:function(){return this.duration_===1/0?Et.createTimeRanges([[0,this.nativeMediaSource_.duration]]):this.nativeMediaSource_.seekable}}),Object.defineProperty(e,"readyState",{get:function(){return this.nativeMediaSource_.readyState}}),Object.defineProperty(e,"activeSourceBuffers",{get:function(){return this.activeSourceBuffers_}}),e.sourceBuffers=[],e.activeSourceBuffers_=[],e.updateActiveSourceBuffers_=function(){if(e.activeSourceBuffers_.length=0,e.sourceBuffers.length===1){var r=e.sourceBuffers[0];return r.appendAudioInitSegment_=!0,r.audioDisabled_=!r.audioCodec_,void e.activeSourceBuffers_.push(r)}for(var a=!1,f=!0,y=0;y<e.player_.audioTracks().length;y++){var E=e.player_.audioTracks()[y];if(E.enabled&&E.kind!=="main"){a=!0,f=!1;break}}e.sourceBuffers.forEach(function(D,N){if(D.appendAudioInitSegment_=!0,D.videoCodec_&&D.audioCodec_)D.audioDisabled_=a;else if(D.videoCodec_&&!D.audioCodec_)D.audioDisabled_=!0,f=!1;else if(!D.videoCodec_&&D.audioCodec_&&(D.audioDisabled_=N?f:!f,D.audioDisabled_))return;e.activeSourceBuffers_.push(D)})},e.onPlayerMediachange_=function(){e.sourceBuffers.forEach(function(r){r.appendAudioInitSegment_=!0})},e.onHlsReset_=function(){e.sourceBuffers.forEach(function(r){r.transmuxer_&&r.transmuxer_.postMessage({action:"resetCaptions"})})},e.onHlsSegmentTimeMapping_=function(r){e.sourceBuffers.forEach(function(a){return a.timeMapping_=r.mapping})},["sourceopen","sourceclose","sourceended"].forEach(function(r){this.nativeMediaSource_.addEventListener(r,this.trigger.bind(this))},e),e.on("sourceopen",function(r){var a=F.querySelector('[src="'+e.url_+'"]');a&&(e.player_=Et(a.parentNode),e.player_&&(e.player_.tech_.on("hls-reset",e.onHlsReset_),e.player_.tech_.on("hls-segment-time-mapping",e.onHlsSegmentTimeMapping_),e.player_.audioTracks&&e.player_.audioTracks()&&(e.player_.audioTracks().on("change",e.updateActiveSourceBuffers_),e.player_.audioTracks().on("addtrack",e.updateActiveSourceBuffers_),e.player_.audioTracks().on("removetrack",e.updateActiveSourceBuffers_)),e.player_.on("mediachange",e.onPlayerMediachange_)))}),e.on("sourceended",function(r){for(var a=kh(e.duration),f=0;f<e.sourceBuffers.length;f++){var y=e.sourceBuffers[f],E=y.metadataTrack_&&y.metadataTrack_.cues;E&&E.length&&(E[E.length-1].endTime=a)}}),e.on("sourceclose",function(r){this.sourceBuffers.forEach(function(a){a.transmuxer_&&a.transmuxer_.terminate()}),this.sourceBuffers.length=0,this.player_&&(this.player_.audioTracks&&this.player_.audioTracks()&&(this.player_.audioTracks().off("change",this.updateActiveSourceBuffers_),this.player_.audioTracks().off("addtrack",this.updateActiveSourceBuffers_),this.player_.audioTracks().off("removetrack",this.updateActiveSourceBuffers_)),this.player_.el_&&this.player_.off("mediachange",this.onPlayerMediachange_),this.player_.tech_&&this.player_.tech_.el_&&(this.player_.tech_.off("hls-reset",this.onHlsReset_),this.player_.tech_.off("hls-segment-time-mapping",this.onHlsSegmentTimeMapping_)))}),e}return xu(i,n),Go(i,[{key:"addSeekableRange_",value:function(e,t){var r=void 0;if(this.duration!==1/0)throw(r=new Error("MediaSource.addSeekableRange() can only be invoked when the duration is Infinity")).name="InvalidStateError",r.code=11,r;(t>this.nativeMediaSource_.duration||isNaN(this.nativeMediaSource_.duration))&&(this.nativeMediaSource_.duration=t)}},{key:"addSourceBuffer",value:function(e){var t=void 0,r=function(f){var y={type:"",parameters:{}},E=f.trim().split(";");return y.type=E.shift().trim(),E.forEach(function(D){var N=D.trim().split("=");if(N.length>1){var q=N[0].replace(/"/g,"").trim(),Y=N[1].replace(/"/g,"").trim();y.parameters[q]=Y}}),y}(e);if(/^(video|audio)\/mp2t$/i.test(r.type)){var a=[];r.parameters&&r.parameters.codecs&&(a=r.parameters.codecs.split(","),a=(a=jh(a)).filter(function(f){return xh(f)||Oh(f)})),a.length===0&&(a=["avc1.4d400d","mp4a.40.2"]),t=new qp(this,a),this.sourceBuffers.length!==0&&(this.sourceBuffers[0].createRealSourceBuffers_(),t.createRealSourceBuffers_(),this.sourceBuffers[0].audioDisabled_=!0)}else t=this.nativeMediaSource_.addSourceBuffer(e);return this.sourceBuffers.push(t),t}}]),i}(Et.EventTarget),Lh=0;Et.mediaSources={};var Ph=function(n,i){var e=Et.mediaSources[n];if(!e)throw new Error("Media Source not found (Video.js)");e.trigger({type:"sourceopen",swfId:i})},Lf=function(){return!!C.MediaSource&&!!C.MediaSource.isTypeSupported&&C.MediaSource.isTypeSupported('video/mp4;codecs="avc1.4d400d,mp4a.40.2"')},Sd=function(){if(this.MediaSource={open:Ph,supportsNativeMediaSources:Lf},Lf())return new Of;throw new Error("Cannot use create a virtual MediaSource for this video")};Sd.open=Ph,Sd.supportsNativeMediaSources=Lf;var Rh={createObjectURL:function(n){var i=void 0;return n instanceof Of?(i=C.URL.createObjectURL(n.nativeMediaSource_),n.url_=i,i):n instanceof Of?(i="blob:vjs-media-source/"+Lh,Lh++,Et.mediaSources[i]=n,i):(i=C.URL.createObjectURL(n),n.url_=i,i)}};Et.MediaSource=Sd,Et.URL=Rh;var $p=Et.EventTarget,Ih=Et.mergeOptions,Dh=function(n,i){for(var e=void 0,t=Ih(n,{duration:i.duration,minimumUpdatePeriod:i.minimumUpdatePeriod}),r=0;r<i.playlists.length;r++){var a=Sf(t,i.playlists[r]);a?t=a:e=!0}return $d(i,function(f,y,E,D){if(f.playlists&&f.playlists.length){var N=f.playlists[0].uri,q=Sf(t,f.playlists[0]);q&&((t=q).mediaGroups[y][E][D].playlists[0]=t.playlists[N],e=!1)}}),e?null:t},Pf=function(n){var i=n.byterange.offset+n.byterange.length-1;return n.uri+"-"+n.byterange.offset+"-"+i},Kp=function(n,i){return(Boolean(!n.map&&!i.map)||Boolean(n.map&&i.map&&n.map.byterange.offset===i.map.byterange.offset&&n.map.byterange.length===i.map.byterange.length))&&n.uri===i.uri&&n.byterange.offset===i.byterange.offset&&n.byterange.length===i.byterange.length},Mh=function(n,i){var e={};for(var t in n){var r=n[t].sidx;if(r){var a=Pf(r);if(!i[a])break;var f=i[a].sidxInfo;Kp(f,r)&&(e[a]=i[a])}}return e},Uh=function(n,i,e,t,r){var a={uri:qd(t.handleManifestRedirects,n.resolvedUri),byterange:n.byterange,playlist:i};return e(Et.mergeOptions(a,{responseType:"arraybuffer",headers:Ef(a)}),r)},Rf=function(n){function i(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=arguments[3];bo(this,i);var f=Ls(this,(i.__proto__||Object.getPrototypeOf(i)).call(this)),y=r.withCredentials,E=y!==void 0&&y,D=r.handleManifestRedirects,N=D!==void 0&&D;if(f.hls_=t,f.withCredentials=E,f.handleManifestRedirects=N,!e)throw new Error("A non-empty playlist URL or playlist is required");return f.on("minimumUpdatePeriod",function(){f.refreshXml_()}),f.on("mediaupdatetimeout",function(){f.refreshMedia_(f.media().uri)}),f.state="HAVE_NOTHING",f.loadedPlaylists_={},typeof e=="string"?(f.srcUrl=e,f.sidxMapping_={},Ls(f)):(f.setupChildLoader(a,e),f)}return xu(i,n),Go(i,[{key:"setupChildLoader",value:function(e,t){this.masterPlaylistLoader_=e,this.childPlaylist_=t}},{key:"dispose",value:function(){this.stopRequest(),this.loadedPlaylists_={},C.clearTimeout(this.minimumUpdatePeriodTimeout_),C.clearTimeout(this.mediaRequest_),C.clearTimeout(this.mediaUpdateTimeout)}},{key:"hasPendingRequest",value:function(){return this.request||this.mediaRequest_}},{key:"stopRequest",value:function(){if(this.request){var e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}},{key:"sidxRequestFinished_",value:function(e,t,r,a){var f=this;return function(y,E){if(f.request){if(f.request=null,y)return f.error={status:E.status,message:"DASH playlist request error at URL: "+e.uri,response:E.response,code:2},r&&(f.state=r),f.trigger("error"),a(t,null);var D=new Uint8Array(E.response),N=Yn.parseSidx(D.subarray(8));return a(t,N)}}}},{key:"media",value:function(e){var t=this;if(!e)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);var r=this.state;if(typeof e=="string"){if(!this.master.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.master.playlists[e]}var a=!this.media_||e.uri!==this.media_.uri;if(a&&this.loadedPlaylists_[e.uri]&&this.loadedPlaylists_[e.uri].endList)return this.state="HAVE_METADATA",this.media_=e,void(a&&(this.trigger("mediachanging"),this.trigger("mediachange")));if(a){if(this.media_&&this.trigger("mediachanging"),!e.sidx)return void(this.mediaRequest_=C.setTimeout(this.haveMetadata.bind(this,{startingState:r,playlist:e}),0));var f=void 0,y=void 0;this.masterPlaylistLoader_?(f=this.masterPlaylistLoader_.master,y=this.masterPlaylistLoader_.sidxMapping_):(f=this.master,y=this.sidxMapping_);var E=Pf(e.sidx);y[E]={sidxInfo:e.sidx},this.request=Uh(e.sidx,e,this.hls_.xhr,{handleManifestRedirects:this.handleManifestRedirects},this.sidxRequestFinished_(e,f,r,function(D,N){if(!D||!N)throw new Error("failed to request sidx");y[E].sidx=N,t.haveMetadata({startingState:r,playlist:D.playlists[e.uri]})}))}}},{key:"haveMetadata",value:function(e){var t=e.startingState,r=e.playlist;this.state="HAVE_METADATA",this.loadedPlaylists_[r.uri]=r,this.mediaRequest_=null,this.refreshMedia_(r.uri),t==="HAVE_MASTER"?this.trigger("loadedmetadata"):this.trigger("mediachange")}},{key:"pause",value:function(){this.stopRequest(),C.clearTimeout(this.mediaUpdateTimeout),C.clearTimeout(this.minimumUpdatePeriodTimeout_),this.state==="HAVE_NOTHING"&&(this.started=!1)}},{key:"load",value:function(e){var t=this;C.clearTimeout(this.mediaUpdateTimeout),C.clearTimeout(this.minimumUpdatePeriodTimeout_);var r=this.media();if(e){var a=r?r.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=C.setTimeout(function(){return t.load()},a)}else this.started?this.trigger("loadedplaylist"):this.start()}},{key:"parseMasterXml",value:function(){var e=ye(this.masterXml_,{manifestUri:this.srcUrl,clientOffset:this.clientOffset_,sidxMapping:this.sidxMapping_});e.uri=this.srcUrl;for(var t=0;t<e.playlists.length;t++){var r="placeholder-uri-"+t;e.playlists[t].uri=r,e.playlists[r]=e.playlists[t]}return $d(e,function(a,f,y,E){if(a.playlists&&a.playlists.length){var D="placeholder-uri-"+f+"-"+y+"-"+E;a.playlists[0].uri=D,e.playlists[D]=a.playlists[0]}}),ih(e),ah(e),e}},{key:"start",value:function(){var e=this;this.started=!0,this.masterPlaylistLoader_?this.mediaRequest_=C.setTimeout(this.haveMaster_.bind(this),0):this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},function(t,r){if(e.request){if(e.request=null,t)return e.error={status:r.status,message:"DASH playlist request error at URL: "+e.srcUrl,responseText:r.responseText,code:2},e.state==="HAVE_NOTHING"&&(e.started=!1),e.trigger("error");e.masterXml_=r.responseText,r.responseHeaders&&r.responseHeaders.date?e.masterLoaded_=Date.parse(r.responseHeaders.date):e.masterLoaded_=Date.now(),e.srcUrl=qd(e.handleManifestRedirects,e.srcUrl,r),e.syncClientServerClock_(e.onClientServerClockSync_.bind(e))}})}},{key:"syncClientServerClock_",value:function(e){var t=this,r=Ve(this.masterXml_);return r===null?(this.clientOffset_=this.masterLoaded_-Date.now(),e()):r.method==="DIRECT"?(this.clientOffset_=r.value-Date.now(),e()):void(this.request=this.hls_.xhr({uri:mc(this.srcUrl,r.value),method:r.method,withCredentials:this.withCredentials},function(a,f){if(t.request){if(a)return t.clientOffset_=t.masterLoaded_-Date.now(),e();var y;y=r.method==="HEAD"?f.responseHeaders&&f.responseHeaders.date?Date.parse(f.responseHeaders.date):t.masterLoaded_:Date.parse(f.responseText),t.clientOffset_=y-Date.now(),e()}}))}},{key:"haveMaster_",value:function(){this.state="HAVE_MASTER",this.mediaRequest_=null,this.masterPlaylistLoader_?this.media_||this.media(this.childPlaylist_):(this.master=this.parseMasterXml(),this.trigger("loadedplaylist"))}},{key:"onClientServerClockSync_",value:function(){var e=this;this.haveMaster_(),this.hasPendingRequest()||this.media_||this.media(this.master.playlists[0]),this.master&&this.master.minimumUpdatePeriod&&(this.minimumUpdatePeriodTimeout_=C.setTimeout(function(){e.trigger("minimumUpdatePeriod")},this.master.minimumUpdatePeriod))}},{key:"refreshXml_",value:function(){var e=this;this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},function(t,r){if(e.request){if(e.request=null,t)return e.error={status:r.status,message:"DASH playlist request error at URL: "+e.srcUrl,responseText:r.responseText,code:2},e.state==="HAVE_NOTHING"&&(e.started=!1),e.trigger("error");e.masterXml_=r.responseText,e.sidxMapping_=function(D,N,q,Y){var Q=ye(D,{manifestUri:N,clientOffset:q}),dt=Mh(Q.playlists,Y);return $d(Q,function(lt,At,St,kt){if(lt.playlists&&lt.playlists.length){var te=lt.playlists;dt=Ih(dt,Mh(te,Y))}}),dt}(e.masterXml_,e.srcUrl,e.clientOffset_,e.sidxMapping_);var a=e.parseMasterXml(),f=Dh(e.master,a);if(f){var y=Pf(e.media().sidx);if(e.sidxMapping_[y])e.master=f;else{var E=e.media();e.request=Uh(E.sidx,E,e.hls_.xhr,{handleManifestRedirects:e.handleManifestRedirects},e.sidxRequestFinished_(E,a,e.state,function(D,N){if(!D||!N)throw new Error("failed to request sidx on minimumUpdatePeriod");e.sidxMapping_[y].sidx=N,e.minimumUpdatePeriodTimeout_=C.setTimeout(function(){e.trigger("minimumUpdatePeriod")},e.master.minimumUpdatePeriod),e.refreshMedia_(e.media().uri)}))}}e.minimumUpdatePeriodTimeout_=C.setTimeout(function(){e.trigger("minimumUpdatePeriod")},e.master.minimumUpdatePeriod)}})}},{key:"refreshMedia_",value:function(e){var t=this;if(!e)throw new Error("refreshMedia_ must take a media uri");var r=void 0,a=void 0;this.masterPlaylistLoader_?(r=this.masterPlaylistLoader_.master,a=this.masterPlaylistLoader_.parseMasterXml()):(r=this.master,a=this.parseMasterXml());var f=Dh(r,a);f?(this.masterPlaylistLoader_?this.masterPlaylistLoader_.master=f:this.master=f,this.media_=f.playlists[e]):(this.media_=a.playlists[e],this.trigger("playlistunchanged")),this.media().endList||(this.mediaUpdateTimeout=C.setTimeout(function(){t.trigger("mediaupdatetimeout")},oh(this.media(),!!f))),this.trigger("loadedplaylist")}}]),i}($p),wd=function(n){return Et.log.debug?Et.log.debug.bind(Et,"VHS:",n+" >"):function(){}},Xp=function(){function n(i,e,t,r){bo(this,n),this.callbacks_=[],this.pendingCallback_=null,this.timestampOffset_=0,this.mediaSource=i,this.processedAppend_=!1,this.type_=t,this.mimeType_=e,this.logger_=wd("SourceUpdater["+t+"]["+e+"]"),i.readyState==="closed"?i.addEventListener("sourceopen",this.createSourceBuffer_.bind(this,e,r)):this.createSourceBuffer_(e,r)}return Go(n,[{key:"createSourceBuffer_",value:function(i,e){var t=this;this.sourceBuffer_=this.mediaSource.addSourceBuffer(i),this.logger_("created SourceBuffer"),e&&(e.trigger("sourcebufferadded"),this.mediaSource.sourceBuffers.length<2)?e.on("sourcebufferadded",function(){t.start_()}):this.start_()}},{key:"start_",value:function(){var i=this;this.started_=!0,this.onUpdateendCallback_=function(){var e=i.pendingCallback_;i.pendingCallback_=null,i.sourceBuffer_.removing=!1,i.logger_("buffered ["+Cf(i.buffered())+"]"),e&&e(),i.runCallback_()},this.sourceBuffer_.addEventListener("updateend",this.onUpdateendCallback_),this.runCallback_()}},{key:"abort",value:function(i){var e=this;this.processedAppend_&&this.queueCallback_(function(){e.sourceBuffer_.abort()},i)}},{key:"appendBuffer",value:function(i,e){var t=this;this.processedAppend_=!0,this.queueCallback_(function(){i.videoSegmentTimingInfoCallback&&t.sourceBuffer_.addEventListener("videoSegmentTimingInfo",i.videoSegmentTimingInfoCallback),t.sourceBuffer_.appendBuffer(i.bytes)},function(){i.videoSegmentTimingInfoCallback&&t.sourceBuffer_.removeEventListener("videoSegmentTimingInfo",i.videoSegmentTimingInfoCallback),e()})}},{key:"buffered",value:function(){return this.sourceBuffer_?this.sourceBuffer_.buffered:Et.createTimeRanges()}},{key:"remove",value:function(i,e){var t=this,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:vi;this.processedAppend_&&this.queueCallback_(function(){t.logger_("remove ["+i+" => "+e+"]"),t.sourceBuffer_.removing=!0,t.sourceBuffer_.remove(i,e)},r)}},{key:"updating",value:function(){return!this.sourceBuffer_||this.sourceBuffer_.updating||!!this.pendingCallback_&&this.pendingCallback_!==vi}},{key:"timestampOffset",value:function(i){var e=this;return i!==void 0&&(this.queueCallback_(function(){e.sourceBuffer_.timestampOffset=i,e.runCallback_()}),this.timestampOffset_=i),this.timestampOffset_}},{key:"queueCallback_",value:function(i,e){this.callbacks_.push([i.bind(this),e]),this.runCallback_()}},{key:"runCallback_",value:function(){var i=void 0;!this.updating()&&this.callbacks_.length&&this.started_&&(i=this.callbacks_.shift(),this.pendingCallback_=i[1],i[0]())}},{key:"dispose",value:function(){var i=this,e=function t(){i.sourceBuffer_&&i.mediaSource.readyState==="open"&&i.sourceBuffer_.abort(),i.sourceBuffer_.removeEventListener("updateend",t)};this.sourceBuffer_.removeEventListener("updateend",this.onUpdateendCallback_),this.sourceBuffer_.removing?this.sourceBuffer_.addEventListener("updateend",e):e()}}]),n}(),Ya={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,BUFFER_LOW_WATER_LINE_RATE:1},Jd=2,Bh=-101,Nh=-102,Fh=function(n){n.forEach(function(i){i.abort()})},If=function(n,i){return i.timedout?{status:i.status,message:"HLS request timed-out at URL: "+i.uri,code:Bh,xhr:i}:i.aborted?{status:i.status,message:"HLS request aborted at URL: "+i.uri,code:Nh,xhr:i}:n?{status:i.status,message:"HLS request errored at URL: "+i.uri,code:Jd,xhr:i}:null},Yp=function(n,i,e){var t=0,r=!1;return function(a,f){if(!r)return a?(r=!0,Fh(n),e(a,f)):(t+=1)===n.length?(f.endOfAllRequests=Date.now(),f.encryptedBytes?function(y,E,D){var N;y.addEventListener("message",function q(Y){if(Y.data.source===E.requestId){y.removeEventListener("message",q);var Q=Y.data.decrypted;return E.bytes=new Uint8Array(Q.bytes,Q.byteOffset,Q.byteLength),D(null,E)}}),N=E.key.bytes.slice?E.key.bytes.slice():new Uint32Array(Array.prototype.slice.call(E.key.bytes)),y.postMessage(gh({source:E.requestId,encrypted:E.encryptedBytes,key:N,iv:E.key.iv}),[E.encryptedBytes.buffer,N.buffer])}(i,f,e):e(null,f)):void 0}},Jp=function(n,i){return function(e){return n.stats=Et.mergeOptions(n.stats,function(t){var r=t.target,a={bandwidth:1/0,bytesReceived:0,roundTripTime:Date.now()-r.requestTime||0};return a.bytesReceived=t.loaded,a.bandwidth=Math.floor(a.bytesReceived/a.roundTripTime*8*1e3),a}(e)),!n.stats.firstBytesReceivedAt&&n.stats.bytesReceived&&(n.stats.firstBytesReceivedAt=Date.now()),i(e,n)}},Zp=function(n,i,e,t,r,a,f){var y=[],E=Yp(y,e,f);if(r.key&&!r.key.bytes){var D=Et.mergeOptions(i,{uri:r.key.resolvedUri,responseType:"arraybuffer"}),N=function(kt,te){return function(ie,Ie){var Fe=Ie.response,Ye=If(ie,Ie);if(Ye)return te(Ye,kt);if(Fe.byteLength!==16)return te({status:Ie.status,message:"Invalid HLS key at URL: "+Ie.uri,code:Jd,xhr:Ie},kt);var an=new DataView(Fe);return kt.key.bytes=new Uint32Array([an.getUint32(0),an.getUint32(4),an.getUint32(8),an.getUint32(12)]),te(null,kt)}}(r,E),q=n(D,N);y.push(q)}if(r.map&&!r.map.bytes){var Y=Et.mergeOptions(i,{uri:r.map.resolvedUri,responseType:"arraybuffer",headers:Ef(r.map)}),Q=function(kt,te,ie){return function(Ie,Fe){var Ye=Fe.response,an=If(Ie,Fe);return an?ie(an,kt):Ye.byteLength===0?ie({status:Fe.status,message:"Empty HLS segment content at URL: "+Fe.uri,code:Jd,xhr:Fe},kt):(kt.map.bytes=new Uint8Array(Fe.response),te&&!te.isInitialized()&&te.init(),kt.map.timescales=Ca.timescale(kt.map.bytes),kt.map.videoTrackIds=Ca.videoTrackIds(kt.map.bytes),ie(null,kt))}}(r,t,E),dt=n(Y,Q);y.push(dt)}var lt=Et.mergeOptions(i,{uri:r.resolvedUri,responseType:"arraybuffer",headers:Ef(r)}),At=function(kt,te,ie){return function(Ie,Fe){var Ye=Fe.response,an=If(Ie,Fe),Me=void 0;return an?ie(an,kt):Ye.byteLength===0?ie({status:Fe.status,message:"Empty HLS segment content at URL: "+Fe.uri,code:Jd,xhr:Fe},kt):(kt.stats=function(Lr){return{bandwidth:Lr.bandwidth,bytesReceived:Lr.bytesReceived||0,roundTripTime:Lr.roundTripTime||0}}(Fe),kt.key?kt.encryptedBytes=new Uint8Array(Fe.response):kt.bytes=new Uint8Array(Fe.response),te&&kt.map&&kt.map.bytes&&(te.isInitialized()||te.init(),(Me=te.parse(kt.bytes,kt.map.videoTrackIds,kt.map.timescales))&&Me.captions&&(kt.captionStreams=Me.captionStreams,kt.fmp4Captions=Me.captions)),ie(null,kt))}}(r,t,E),St=n(lt,At);return St.addEventListener("progress",Jp(r,a)),y.push(St),function(){return Fh(y)}},Vh=function(n,i){var e=void 0;return n&&(e=C.getComputedStyle(n))?e[i]:""},kd=function(n,i){var e=n.slice();n.sort(function(t,r){var a=i(t,r);return a===0?e.indexOf(t)-e.indexOf(r):a})},Df=function(n,i){var e=void 0,t=void 0;return n.attributes.BANDWIDTH&&(e=n.attributes.BANDWIDTH),e=e||C.Number.MAX_VALUE,i.attributes.BANDWIDTH&&(t=i.attributes.BANDWIDTH),e-(t=t||C.Number.MAX_VALUE)},Qp=function(n,i,e){if(!n||!i)return!1;var t=e===n.segments.length;return n.endList&&i.readyState==="open"&&t},Hh=function(n){return typeof n=="number"&&isFinite(n)},Mf=function(n){function i(e){bo(this,i);var t=Ls(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));if(!e)throw new TypeError("Initialization settings are required");if(typeof e.currentTime!="function")throw new TypeError("No currentTime getter specified");if(!e.mediaSource)throw new TypeError("No MediaSource specified");return t.bandwidth=e.bandwidth,t.throughput={rate:0,count:0},t.roundTrip=NaN,t.resetStats_(),t.mediaIndex=null,t.hasPlayed_=e.hasPlayed,t.currentTime_=e.currentTime,t.seekable_=e.seekable,t.seeking_=e.seeking,t.duration_=e.duration,t.mediaSource_=e.mediaSource,t.hls_=e.hls,t.loaderType_=e.loaderType,t.startingMedia_=void 0,t.segmentMetadataTrack_=e.segmentMetadataTrack,t.goalBufferLength_=e.goalBufferLength,t.sourceType_=e.sourceType,t.inbandTextTracks_=e.inbandTextTracks,t.state_="INIT",t.checkBufferTimeout_=null,t.error_=void 0,t.currentTimeline_=-1,t.pendingSegment_=null,t.mimeType_=null,t.sourceUpdater_=null,t.xhrOptions_=null,t.activeInitSegmentId_=null,t.initSegments_={},t.cacheEncryptionKeys_=e.cacheEncryptionKeys,t.keyCache_={},t.loaderType_==="main"?t.captionParser_=new Os:t.captionParser_=null,t.decrypter_=e.decrypter,t.syncController_=e.syncController,t.syncPoint_={segmentIndex:0,time:0},t.syncController_.on("syncinfoupdate",function(){return t.trigger("syncinfoupdate")}),t.mediaSource_.addEventListener("sourceopen",function(){return t.ended_=!1}),t.fetchAtBuffer_=!1,t.logger_=wd("SegmentLoader["+t.loaderType_+"]"),Object.defineProperty(t,"state",{get:function(){return this.state_},set:function(r){r!==this.state_&&(this.logger_(this.state_+" -> "+r),this.state_=r)}}),t}return xu(i,n),Go(i,[{key:"resetStats_",value:function(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0}},{key:"dispose",value:function(){this.state="DISPOSED",this.pause(),this.abort_(),this.sourceUpdater_&&this.sourceUpdater_.dispose(),this.resetStats_(),this.captionParser_&&this.captionParser_.reset()}},{key:"abort",value:function(){this.state==="WAITING"?(this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()):this.pendingSegment_&&(this.pendingSegment_=null)}},{key:"abort_",value:function(){this.pendingSegment_&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null}},{key:"error",value:function(e){return e!==void 0&&(this.error_=e),this.pendingSegment_=null,this.error_}},{key:"endOfStream",value:function(){this.ended_=!0,this.pause(),this.trigger("ended")}},{key:"buffered_",value:function(){return this.sourceUpdater_?this.sourceUpdater_.buffered():Et.createTimeRanges()}},{key:"initSegment",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(!e)return null;var r=Yd(e),a=this.initSegments_[r];return t&&!a&&e.bytes&&(this.initSegments_[r]=a={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:e.bytes,timescales:e.timescales,videoTrackIds:e.videoTrackIds}),a||e}},{key:"segmentKey",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(!e)return null;var r=yh(e),a=this.keyCache_[r];this.cacheEncryptionKeys_&&t&&!a&&e.bytes&&(this.keyCache_[r]=a={resolvedUri:e.resolvedUri,bytes:e.bytes});var f={resolvedUri:(a||e).resolvedUri};return a&&(f.bytes=a.bytes),f}},{key:"couldBeginLoading_",value:function(){return this.playlist_&&(this.sourceUpdater_||this.mimeType_&&this.state==="INIT")&&!this.paused()}},{key:"load",value:function(){if(this.monitorBuffer_(),this.playlist_){if(this.syncController_.setDateTimeMapping(this.playlist_),this.state==="INIT"&&this.couldBeginLoading_())return this.init_();!this.couldBeginLoading_()||this.state!=="READY"&&this.state!=="INIT"||(this.state="READY")}}},{key:"init_",value:function(){return this.state="READY",this.sourceUpdater_=new Xp(this.mediaSource_,this.mimeType_,this.loaderType_,this.sourceBufferEmitter_),this.resetEverything(),this.monitorBuffer_()}},{key:"playlist",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e){var r=this.playlist_,a=this.pendingSegment_;this.playlist_=e,this.xhrOptions_=t,this.hasPlayed_()||(e.syncInfo={mediaSequence:e.mediaSequence,time:0});var f=null;if(r&&(r.id?f=r.id:r.uri&&(f=r.uri)),this.logger_("playlist update ["+f+" => "+(e.id||e.uri)+"]"),this.trigger("syncinfoupdate"),this.state==="INIT"&&this.couldBeginLoading_())return this.init_();if(!r||r.uri!==e.uri)return void(this.mediaIndex!==null&&this.resyncLoader());var y=e.mediaSequence-r.mediaSequence;this.logger_("live window shift ["+y+"]"),this.mediaIndex!==null&&(this.mediaIndex-=y),a&&(a.mediaIndex-=y,a.mediaIndex>=0&&(a.segment=e.segments[a.mediaIndex])),this.syncController_.saveExpiredSegmentInfo(r,e)}}},{key:"pause",value:function(){this.checkBufferTimeout_&&(C.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)}},{key:"paused",value:function(){return this.checkBufferTimeout_===null}},{key:"mimeType",value:function(e,t){this.mimeType_||(this.mimeType_=e,this.sourceBufferEmitter_=t,this.state==="INIT"&&this.couldBeginLoading_()&&this.init_())}},{key:"resetEverything",value:function(e){this.ended_=!1,this.resetLoader(),this.remove(0,this.duration_(),e),this.captionParser_&&this.captionParser_.clearAllCaptions(),this.trigger("reseteverything")}},{key:"resetLoader",value:function(){this.fetchAtBuffer_=!1,this.resyncLoader()}},{key:"resyncLoader",value:function(){this.mediaIndex=null,this.syncPoint_=null,this.abort()}},{key:"remove",value:function(e,t,r){if(this.sourceUpdater_&&this.sourceUpdater_.remove(e,t,r),Jc(e,t,this.segmentMetadataTrack_),this.inbandTextTracks_)for(var a in this.inbandTextTracks_)Jc(e,t,this.inbandTextTracks_[a])}},{key:"monitorBuffer_",value:function(){this.checkBufferTimeout_&&C.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=C.setTimeout(this.monitorBufferTick_.bind(this),1)}},{key:"monitorBufferTick_",value:function(){this.state==="READY"&&this.fillBuffer_(),this.checkBufferTimeout_&&C.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=C.setTimeout(this.monitorBufferTick_.bind(this),500)}},{key:"fillBuffer_",value:function(){if(!this.sourceUpdater_.updating()){this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_()));var e=this.checkBuffer_(this.buffered_(),this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_);if(e)return this.isEndOfStream_(e.mediaIndex)?void this.endOfStream():void((e.mediaIndex!==this.playlist_.segments.length-1||this.mediaSource_.readyState!=="ended"||this.seeking_())&&(e.timeline!==this.currentTimeline_&&(this.syncController_.reset(),e.timestampOffset=e.startOfSegment,this.captionParser_&&this.captionParser_.clearAllCaptions()),this.loadSegment_(e)))}}},{key:"isEndOfStream_",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.playlist_;return Qp(t,this.mediaSource_,e)&&!this.sourceUpdater_.updating()}},{key:"checkBuffer_",value:function(e,t,r,a,f,y){var E=0,D=void 0;e.length&&(E=e.end(e.length-1));var N=Math.max(0,E-f);if(!t.segments.length||N>=this.goalBufferLength_()||!a&&N>=1)return null;if(y===null)return r=this.getSyncSegmentCandidate_(t),this.generateSegmentInfo_(t,r,null,!0);if(r!==null){var q=t.segments[r];return D=q&&q.end?q.end:E,this.generateSegmentInfo_(t,r+1,D,!1)}if(this.fetchAtBuffer_){var Y=xa.getMediaInfoForTime(t,E,y.segmentIndex,y.time);r=Y.mediaIndex,D=Y.startTime}else{var Q=xa.getMediaInfoForTime(t,f,y.segmentIndex,y.time);r=Q.mediaIndex,D=Q.startTime}return this.generateSegmentInfo_(t,r,D,!1)}},{key:"getSyncSegmentCandidate_",value:function(e){var t=this;if(this.currentTimeline_===-1)return 0;var r=e.segments.map(function(a,f){return{timeline:a.timeline,segmentIndex:f}}).filter(function(a){return a.timeline===t.currentTimeline_});return r.length?r[Math.min(r.length-1,1)].segmentIndex:Math.max(e.segments.length-1,0)}},{key:"generateSegmentInfo_",value:function(e,t,r,a){if(t<0||t>=e.segments.length)return null;var f=e.segments[t];return{requestId:"segment-loader-"+Math.random(),uri:f.resolvedUri,mediaIndex:t,isSyncRequest:a,startOfSegment:r,playlist:e,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:f.timeline,duration:f.duration,segment:f}}},{key:"abortRequestEarly_",value:function(e){if(this.hls_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH||Date.now()-(e.firstBytesReceivedAt||Date.now())<1e3)return!1;var t=this.currentTime_(),r=e.bandwidth,a=this.pendingSegment_.duration,f=xa.estimateSegmentRequestTime(a,r,this.playlist_,e.bytesReceived),y=function(q,Y){var Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return((q.length?q.end(q.length-1):0)-Y)/Q}(this.buffered_(),t,this.hls_.tech_.playbackRate())-1;if(f<=y)return!1;var E=function(q){var Y=q.master,Q=q.currentTime,dt=q.bandwidth,lt=q.duration,At=q.segmentDuration,St=q.timeUntilRebuffer,kt=q.currentTimeline,te=q.syncController,ie=Y.playlists.filter(function(an){return!xa.isIncompatible(an)}),Ie=ie.filter(xa.isEnabled);Ie.length||(Ie=ie.filter(function(an){return!xa.isDisabled(an)}));var Fe=Ie.filter(xa.hasAttribute.bind(null,"BANDWIDTH")).map(function(an){var Me=te.getSyncPoint(an,lt,kt,Q)?1:2;return{playlist:an,rebufferingImpact:xa.estimateSegmentRequestTime(At,dt,an)*Me-St}}),Ye=Fe.filter(function(an){return an.rebufferingImpact<=0});return kd(Ye,function(an,Me){return Df(Me.playlist,an.playlist)}),Ye.length?Ye[0]:(kd(Fe,function(an,Me){return an.rebufferingImpact-Me.rebufferingImpact}),Fe[0]||null)}({master:this.hls_.playlists.master,currentTime:t,bandwidth:r,duration:this.duration_(),segmentDuration:a,timeUntilRebuffer:y,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(E){var D=f-y-E.rebufferingImpact,N=.5;return y<=1/30&&(N=1),!(!E.playlist||E.playlist.uri===this.playlist_.uri||D<N)&&(this.bandwidth=E.playlist.attributes.BANDWIDTH*Ya.BANDWIDTH_VARIANCE+1,this.abort(),this.trigger("earlyabort"),!0)}}},{key:"handleProgress_",value:function(e,t){this.pendingSegment_&&t.requestId===this.pendingSegment_.requestId&&!this.abortRequestEarly_(t.stats)&&this.trigger("progress")}},{key:"loadSegment_",value:function(e){this.state="WAITING",this.pendingSegment_=e,this.trimBackBuffer_(e),e.abortRequests=Zp(this.hls_.xhr,this.xhrOptions_,this.decrypter_,this.captionParser_,this.createSimplifiedSegmentObj_(e),this.handleProgress_.bind(this),this.segmentRequestFinished_.bind(this))}},{key:"trimBackBuffer_",value:function(e){var t=function(r,a,f){var y;return y=r.length&&r.start(0)>0&&r.start(0)<a?r.start(0):a-30,Math.min(y,a-f)}(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);t>0&&this.remove(0,t)}},{key:"createSimplifiedSegmentObj_",value:function(e){var t=e.segment,r={resolvedUri:t.resolvedUri,byterange:t.byterange,requestId:e.requestId};if(t.key){var a=t.key.iv||new Uint32Array([0,0,0,e.mediaIndex+e.playlist.mediaSequence]);r.key=this.segmentKey(t.key),r.key.iv=a}return t.map&&(r.map=this.initSegment(t.map)),r}},{key:"segmentRequestFinished_",value:function(e,t){if(this.mediaRequests+=1,t.stats&&(this.mediaBytesTransferred+=t.stats.bytesReceived,this.mediaTransferDuration+=t.stats.roundTripTime),this.pendingSegment_){if(t.requestId===this.pendingSegment_.requestId){if(e)return this.pendingSegment_=null,this.state="READY",e.code===Nh?void(this.mediaRequestsAborted+=1):(this.pause(),e.code===Bh?(this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,void this.trigger("bandwidthupdate")):(this.mediaRequestsErrored+=1,this.error(e),void this.trigger("error")));this.bandwidth=t.stats.bandwidth,this.roundTrip=t.stats.roundTripTime,t.map&&(t.map=this.initSegment(t.map,!0)),t.key&&this.segmentKey(t.key,!0),this.processSegmentResponse_(t)}}else this.mediaRequestsAborted+=1}},{key:"processSegmentResponse_",value:function(e){var t=this.pendingSegment_;t.bytes=e.bytes,e.map&&(t.segment.map.bytes=e.map.bytes),t.endOfAllRequests=e.endOfAllRequests,e.fmp4Captions&&(function(r,a,f){for(var y in f)if(!r[y]){a.trigger({type:"usage",name:"hls-608"});var E=a.textTracks().getTrackById(y);r[y]=E||a.addRemoteTextTrack({kind:"captions",id:y,label:y},!1).track}}(this.inbandTextTracks_,this.hls_.tech_,e.captionStreams),function(r){var a=r.inbandTextTracks,f=r.captionArray,y=r.timestampOffset;if(f){var E=window.WebKitDataCue||window.VTTCue;f.forEach(function(D){var N=D.stream,q=D.startTime,Y=D.endTime;a[N]&&(q+=y,Y+=y,a[N].addCue(new E(q,Y,D.text)))})}}({inbandTextTracks:this.inbandTextTracks_,captionArray:e.fmp4Captions,timestampOffset:0}),this.captionParser_&&this.captionParser_.clearParsedCaptions()),this.handleSegment_()}},{key:"handleSegment_",value:function(){var e=this;if(this.pendingSegment_){var t=this.pendingSegment_,r=t.segment,a=this.syncController_.probeSegmentInfo(t);this.startingMedia_===void 0&&a&&(a.containsAudio||a.containsVideo)&&(this.startingMedia_={containsAudio:a.containsAudio,containsVideo:a.containsVideo});var f=function(N,q,Y){return N==="main"&&q&&Y?Y.containsAudio||Y.containsVideo?q.containsVideo&&!Y.containsVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!q.containsVideo&&Y.containsVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null:"Neither audio nor video found in segment.":null}(this.loaderType_,this.startingMedia_,a);if(f)return this.error({message:f,blacklistDuration:1/0}),void this.trigger("error");if(t.isSyncRequest)return this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY");t.timestampOffset!==null&&t.timestampOffset!==this.sourceUpdater_.timestampOffset()&&(this.sourceUpdater_.timestampOffset(t.timestampOffset),this.trigger("timestampoffset"));var y=this.syncController_.mappingForTimeline(t.timeline);if(y!==null&&this.trigger({type:"segmenttimemapping",mapping:y}),this.state="APPENDING",r.map){var E=Yd(r.map);if(!this.activeInitSegmentId_||this.activeInitSegmentId_!==E){var D=this.initSegment(r.map);this.sourceUpdater_.appendBuffer({bytes:D.bytes},function(){e.activeInitSegmentId_=E})}}t.byteLength=t.bytes.byteLength,typeof r.start=="number"&&typeof r.end=="number"?this.mediaSecondsLoaded+=r.end-r.start:this.mediaSecondsLoaded+=r.duration,this.logger_(function(N){var q=N.segment,Y=q.start,Q=q.end,dt=N.playlist,lt=dt.mediaSequence,At=dt.id,St=dt.segments,kt=St===void 0?[]:St,te=N.mediaIndex,ie=N.timeline;return["appending ["+te+"] of ["+lt+", "+(lt+kt.length)+"] from playlist ["+At+"]","["+Y+" => "+Q+"] in timeline ["+ie+"]"].join(" ")}(t)),this.sourceUpdater_.appendBuffer({bytes:t.bytes,videoSegmentTimingInfoCallback:this.handleVideoSegmentTimingInfo_.bind(this,t.requestId)},this.handleUpdateEnd_.bind(this))}else this.state="READY"}},{key:"handleVideoSegmentTimingInfo_",value:function(e,t){if(this.pendingSegment_&&e===this.pendingSegment_.requestId){var r=this.pendingSegment_.segment;r.videoTimingInfo||(r.videoTimingInfo={}),r.videoTimingInfo.transmuxerPrependedSeconds=t.videoSegmentTimingInfo.prependedContentDuration||0,r.videoTimingInfo.transmuxedPresentationStart=t.videoSegmentTimingInfo.start.presentation,r.videoTimingInfo.transmuxedPresentationEnd=t.videoSegmentTimingInfo.end.presentation,r.videoTimingInfo.baseMediaDecodeTime=t.videoSegmentTimingInfo.baseMediaDecodeTime}}},{key:"handleUpdateEnd_",value:function(){if(!this.pendingSegment_)return this.state="READY",void(this.paused()||this.monitorBuffer_());var e=this.pendingSegment_,t=e.segment,r=this.mediaIndex!==null;this.pendingSegment_=null,this.recordThroughput_(e),this.addSegmentMetadataCue_(e),this.state="READY",this.mediaIndex=e.mediaIndex,this.fetchAtBuffer_=!0,this.currentTimeline_=e.timeline,this.trigger("syncinfoupdate"),t.end&&this.currentTime_()-t.end>3*e.playlist.targetDuration?this.resetEverything():(r&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.isEndOfStream_(e.mediaIndex+1,e.playlist)&&this.endOfStream(),this.paused()||this.monitorBuffer_())}},{key:"recordThroughput_",value:function(e){var t=this.throughput.rate,r=Date.now()-e.endOfAllRequests+1,a=Math.floor(e.byteLength/r*8*1e3);this.throughput.rate+=(a-t)/++this.throughput.count}},{key:"addSegmentMetadataCue_",value:function(e){if(this.segmentMetadataTrack_){var t=e.segment,r=t.start,a=t.end;if(Hh(r)&&Hh(a)){Jc(r,a,this.segmentMetadataTrack_);var f=C.WebKitDataCue||C.VTTCue,y={custom:t.custom,dateTimeObject:t.dateTimeObject,dateTimeString:t.dateTimeString,bandwidth:e.playlist.attributes.BANDWIDTH,resolution:e.playlist.attributes.RESOLUTION,codecs:e.playlist.attributes.CODECS,byteLength:e.byteLength,uri:e.uri,timeline:e.timeline,playlist:e.playlist.uri,start:r,end:a},E=new f(r,a,JSON.stringify(y));E.value=y,this.segmentMetadataTrack_.addCue(E)}}}}]),i}(Et.EventTarget),zh=function(n){return decodeURIComponent(escape(String.fromCharCode.apply(null,n)))},Gh=new Uint8Array(`

`.split("").map(function(n){return n.charCodeAt(0)})),tm=function(n){function i(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};bo(this,i);var r=Ls(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,e,t));return r.mediaSource_=null,r.subtitlesTrack_=null,r}return xu(i,n),Go(i,[{key:"buffered_",value:function(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues.length)return Et.createTimeRanges();var e=this.subtitlesTrack_.cues,t=e[0].startTime,r=e[e.length-1].startTime;return Et.createTimeRanges([[t,r]])}},{key:"initSegment",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(!e)return null;var r=Yd(e),a=this.initSegments_[r];if(t&&!a&&e.bytes){var f=Gh.byteLength+e.bytes.byteLength,y=new Uint8Array(f);y.set(e.bytes),y.set(Gh,e.bytes.byteLength),this.initSegments_[r]=a={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:y}}return a||e}},{key:"couldBeginLoading_",value:function(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()}},{key:"init_",value:function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}},{key:"track",value:function(e){return e===void 0||(this.subtitlesTrack_=e,this.state==="INIT"&&this.couldBeginLoading_()&&this.init_()),this.subtitlesTrack_}},{key:"remove",value:function(e,t){Jc(e,t,this.subtitlesTrack_)}},{key:"fillBuffer_",value:function(){var e=this;this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_()));var t=this.checkBuffer_(this.buffered_(),this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_);if(t=this.skipEmptySegments_(t)){if(this.syncController_.timestampOffsetForTimeline(t.timeline)===null)return this.syncController_.one("timestampoffset",function(){e.state="READY",e.paused()||e.monitorBuffer_()}),void(this.state="WAITING_ON_TIMELINE");this.loadSegment_(t)}}},{key:"skipEmptySegments_",value:function(e){for(;e&&e.segment.empty;)e=this.generateSegmentInfo_(e.playlist,e.mediaIndex+1,e.startOfSegment+e.duration,e.isSyncRequest);return e}},{key:"handleSegment_",value:function(){var e=this;if(this.pendingSegment_&&this.subtitlesTrack_){this.state="APPENDING";var t=this.pendingSegment_,r=t.segment;if(typeof C.WebVTT!="function"&&this.subtitlesTrack_&&this.subtitlesTrack_.tech_){var a=void 0,f=function(){e.subtitlesTrack_.tech_.off("vttjsloaded",a),e.error({message:"Error loading vtt.js"}),e.state="READY",e.pause(),e.trigger("error")};return a=function(){e.subtitlesTrack_.tech_.off("vttjserror",f),e.handleSegment_()},this.state="WAITING_ON_VTTJS",this.subtitlesTrack_.tech_.one("vttjsloaded",a),void this.subtitlesTrack_.tech_.one("vttjserror",f)}r.requested=!0;try{this.parseVTTCues_(t)}catch(y){return this.error({message:y.message}),this.state="READY",this.pause(),this.trigger("error")}if(this.updateTimeMapping_(t,this.syncController_.timelines[t.timeline],this.playlist_),t.isSyncRequest)return this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY");t.byteLength=t.bytes.byteLength,this.mediaSecondsLoaded+=r.duration,t.cues.length&&this.remove(t.cues[0].endTime,t.cues[t.cues.length-1].endTime),t.cues.forEach(function(y){e.subtitlesTrack_.addCue(y)}),this.handleUpdateEnd_()}else this.state="READY"}},{key:"parseVTTCues_",value:function(e){var t=void 0,r=!1;typeof C.TextDecoder=="function"?t=new C.TextDecoder("utf8"):(t=C.WebVTT.StringDecoder(),r=!0);var a=new C.WebVTT.Parser(C,C.vttjs,t);if(e.cues=[],e.timestampmap={MPEGTS:0,LOCAL:0},a.oncue=e.cues.push.bind(e.cues),a.ontimestampmap=function(E){return e.timestampmap=E},a.onparsingerror=function(E){Et.log.warn("Error encountered when parsing cues: "+E.message)},e.segment.map){var f=e.segment.map.bytes;r&&(f=zh(f)),a.parse(f)}var y=e.bytes;r&&(y=zh(y)),a.parse(y),a.flush()}},{key:"updateTimeMapping_",value:function(e,t,r){var a=e.segment;if(t){if(!e.cues.length)return void(a.empty=!0);var f=e.timestampmap,y=f.MPEGTS/9e4-f.LOCAL+t.mapping;if(e.cues.forEach(function(N){N.startTime+=y,N.endTime+=y}),!r.syncInfo){var E=e.cues[0].startTime,D=e.cues[e.cues.length-1].startTime;r.syncInfo={mediaSequence:r.mediaSequence+e.mediaIndex,time:Math.min(E,D-a.duration)}}}}}]),i}(Mf),em=function(n,i){for(var e=n.cues,t=0;t<e.length;t++){var r=e[t];if(i>=r.adStartTime&&i<=r.adEndTime)return r}return null},nm=function(n,i){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(n.segments)for(var t=e,r=void 0,a=0;a<n.segments.length;a++){var f=n.segments[a];if(r||(r=em(i,t+f.duration/2)),r){if("cueIn"in f){r.endTime=t,r.adEndTime=t,t+=f.duration,r=null;continue}if(t<r.endTime){t+=f.duration;continue}r.endTime+=f.duration}else if("cueOut"in f&&((r=new C.VTTCue(t,t+f.duration,f.cueOut)).adStartTime=t,r.adEndTime=t+parseFloat(f.cueOut),i.addCue(r)),"cueOutCont"in f){var y=void 0,E=void 0,D=f.cueOutCont.split("/").map(parseFloat),N=Ap(D,2);y=N[0],E=N[1],(r=new C.VTTCue(t,t+f.duration,"")).adStartTime=t-y,r.adEndTime=r.adStartTime+E,i.addCue(r)}t+=f.duration}},rm=Wd,Wh=[{name:"VOD",run:function(n,i,e,t,r){return e!==1/0?{time:0,segmentIndex:0}:null}},{name:"ProgramDateTime",run:function(n,i,e,t,r){if(!n.datetimeToDisplayTime)return null;var a=i.segments||[],f=null,y=null;r=r||0;for(var E=0;E<a.length;E++){var D=a[E];if(D.dateTimeObject){var N=D.dateTimeObject.getTime()/1e3+n.datetimeToDisplayTime,q=Math.abs(r-N);if(y!==null&&(q===0||y<q))break;y=q,f={time:N,segmentIndex:E}}}return f}},{name:"Segment",run:function(n,i,e,t,r){var a=i.segments||[],f=null,y=null;r=r||0;for(var E=0;E<a.length;E++){var D=a[E];if(D.timeline===t&&D.start!==void 0){var N=Math.abs(r-D.start);if(y!==null&&y<N)break;(!f||y===null||y>=N)&&(y=N,f={time:D.start,segmentIndex:E})}}return f}},{name:"Discontinuity",run:function(n,i,e,t,r){var a=null;if(r=r||0,i.discontinuityStarts&&i.discontinuityStarts.length)for(var f=null,y=0;y<i.discontinuityStarts.length;y++){var E=i.discontinuityStarts[y],D=i.discontinuitySequence+y+1,N=n.discontinuities[D];if(N){var q=Math.abs(r-N.time);if(f!==null&&f<q)break;(!a||f===null||f>=q)&&(f=q,a={time:N.time,segmentIndex:E})}}return a}},{name:"Playlist",run:function(n,i,e,t,r){return i.syncInfo?{time:i.syncInfo.time,segmentIndex:i.syncInfo.mediaSequence-i.mediaSequence}:null}}],im=function(n){function i(){bo(this,i);var e=Ls(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return e.inspectCache_=void 0,e.timelines=[],e.discontinuities=[],e.datetimeToDisplayTime=null,e.logger_=wd("SyncController"),e}return xu(i,n),Go(i,[{key:"getSyncPoint",value:function(e,t,r,a){var f=this.runStrategies_(e,t,r,a);return f.length?this.selectSyncPoint_(f,{key:"time",value:a}):null}},{key:"getExpiredTime",value:function(e,t){if(!e||!e.segments)return null;var r=this.runStrategies_(e,t,e.discontinuitySequence,0);if(!r.length)return null;var a=this.selectSyncPoint_(r,{key:"segmentIndex",value:0});return a.segmentIndex>0&&(a.time*=-1),Math.abs(a.time+bd(e,a.segmentIndex,0))}},{key:"runStrategies_",value:function(e,t,r,a){for(var f=[],y=0;y<Wh.length;y++){var E=Wh[y],D=E.run(this,e,t,r,a);D&&(D.strategy=E.name,f.push({strategy:E.name,syncPoint:D}))}return f}},{key:"selectSyncPoint_",value:function(e,t){for(var r=e[0].syncPoint,a=Math.abs(e[0].syncPoint[t.key]-t.value),f=e[0].strategy,y=1;y<e.length;y++){var E=Math.abs(e[y].syncPoint[t.key]-t.value);E<a&&(a=E,r=e[y].syncPoint,f=e[y].strategy)}return this.logger_("syncPoint for ["+t.key+": "+t.value+"] chosen with strategy ["+f+"]: [time:"+r.time+", segmentIndex:"+r.segmentIndex+"]"),r}},{key:"saveExpiredSegmentInfo",value:function(e,t){for(var r=t.mediaSequence-e.mediaSequence-1;r>=0;r--){var a=e.segments[r];if(a&&a.start!==void 0){t.syncInfo={mediaSequence:e.mediaSequence+r,time:a.start},this.logger_("playlist refresh sync: [time:"+t.syncInfo.time+", mediaSequence: "+t.syncInfo.mediaSequence+"]"),this.trigger("syncinfoupdate");break}}}},{key:"setDateTimeMapping",value:function(e){if(!this.datetimeToDisplayTime&&e.segments&&e.segments.length&&e.segments[0].dateTimeObject){var t=e.segments[0].dateTimeObject.getTime()/1e3;this.datetimeToDisplayTime=-t}}},{key:"reset",value:function(){this.inspectCache_=void 0}},{key:"probeSegmentInfo",value:function(e){var t,r=e.segment,a=e.playlist;return(t=r.map?this.probeMp4Segment_(e):this.probeTsSegment_(e))&&this.calculateSegmentTimeMapping_(e,t)&&(this.saveDiscontinuitySyncInfo_(e),a.syncInfo||(a.syncInfo={mediaSequence:a.mediaSequence+e.mediaIndex,time:r.start})),t}},{key:"probeMp4Segment_",value:function(e){var t=e.segment,r=Ca.timescale(t.map.bytes),a=Ca.startTime(r,e.bytes);return e.timestampOffset!==null&&(e.timestampOffset-=a),{start:a,end:a+t.duration}}},{key:"probeTsSegment_",value:function(e){var t=rm(e.bytes,this.inspectCache_),r=void 0,a=void 0;return t?(t.video&&t.video.length===2?(this.inspectCache_=t.video[1].dts,r=t.video[0].dtsTime,a=t.video[1].dtsTime):t.audio&&t.audio.length===2&&(this.inspectCache_=t.audio[1].dts,r=t.audio[0].dtsTime,a=t.audio[1].dtsTime),{start:r,end:a,containsVideo:t.video&&t.video.length===2,containsAudio:t.audio&&t.audio.length===2}):null}},{key:"timestampOffsetForTimeline",value:function(e){return this.timelines[e]===void 0?null:this.timelines[e].time}},{key:"mappingForTimeline",value:function(e){return this.timelines[e]===void 0?null:this.timelines[e].mapping}},{key:"calculateSegmentTimeMapping_",value:function(e,t){var r=e.segment,a=this.timelines[e.timeline];if(e.timestampOffset!==null)a={time:e.startOfSegment,mapping:e.startOfSegment-t.start},this.timelines[e.timeline]=a,this.trigger("timestampoffset"),this.logger_("time mapping for timeline "+e.timeline+": [time: "+a.time+"] [mapping: "+a.mapping+"]"),r.start=e.startOfSegment,r.end=t.end+a.mapping;else{if(!a)return!1;r.start=t.start+a.mapping,r.end=t.end+a.mapping}return!0}},{key:"saveDiscontinuitySyncInfo_",value:function(e){var t=e.playlist,r=e.segment;if(r.discontinuity)this.discontinuities[r.timeline]={time:r.start,accuracy:0};else if(t.discontinuityStarts&&t.discontinuityStarts.length)for(var a=0;a<t.discontinuityStarts.length;a++){var f=t.discontinuityStarts[a],y=t.discontinuitySequence+a+1,E=f-e.mediaIndex,D=Math.abs(E);if(!this.discontinuities[y]||this.discontinuities[y].accuracy>D){var N;N=E<0?r.start-bd(t,e.mediaIndex,f):r.end+bd(t,e.mediaIndex+1,f),this.discontinuities[y]={time:N,accuracy:D}}}}}]),i}(Et.EventTarget),am=new Vi("./decrypter-worker.worker.js",function(n,i){var e=this;(function(){var t=function(q,Y){if(!(q instanceof Y))throw new TypeError("Cannot call a class as a function")},r=function(){function q(Y,Q){for(var dt=0;dt<Q.length;dt++){var lt=Q[dt];lt.enumerable=lt.enumerable||!1,lt.configurable=!0,"value"in lt&&(lt.writable=!0),Object.defineProperty(Y,lt.key,lt)}}return function(Y,Q,dt){return Q&&q(Y.prototype,Q),dt&&q(Y,dt),Y}}(),a=null,f=function(){function q(Y){t(this,q),a||(a=function(){var Fe=[[[],[],[],[],[]],[[],[],[],[],[]]],Ye=Fe[0],an=Fe[1],Me=Ye[4],Lr=an[4],mn=void 0,Br=void 0,Wr=void 0,Di=[],La=[],fr=void 0,Ps=void 0,ta=void 0,Ou=void 0,gc=void 0;for(mn=0;mn<256;mn++)La[(Di[mn]=mn<<1^283*(mn>>7))^mn]=mn;for(Br=Wr=0;!Me[Br];Br^=fr||1,Wr=La[Wr]||1)for(ta=(ta=Wr^Wr<<1^Wr<<2^Wr<<3^Wr<<4)>>8^255&ta^99,Me[Br]=ta,Lr[ta]=Br,gc=16843009*Di[Ps=Di[fr=Di[Br]]]^65537*Ps^257*fr^16843008*Br,Ou=257*Di[ta]^16843008*ta,mn=0;mn<4;mn++)Ye[mn][Br]=Ou=Ou<<24^Ou>>>8,an[mn][ta]=gc=gc<<24^gc>>>8;for(mn=0;mn<5;mn++)Ye[mn]=Ye[mn].slice(0),an[mn]=an[mn].slice(0);return Fe}()),this._tables=[[a[0][0].slice(),a[0][1].slice(),a[0][2].slice(),a[0][3].slice(),a[0][4].slice()],[a[1][0].slice(),a[1][1].slice(),a[1][2].slice(),a[1][3].slice(),a[1][4].slice()]];var Q=void 0,dt=void 0,lt=void 0,At=void 0,St=void 0,kt=this._tables[0][4],te=this._tables[1],ie=Y.length,Ie=1;if(ie!==4&&ie!==6&&ie!==8)throw new Error("Invalid aes key size");for(At=Y.slice(0),St=[],this._key=[At,St],Q=ie;Q<4*ie+28;Q++)lt=At[Q-1],(Q%ie==0||ie===8&&Q%ie==4)&&(lt=kt[lt>>>24]<<24^kt[lt>>16&255]<<16^kt[lt>>8&255]<<8^kt[255&lt],Q%ie==0&&(lt=lt<<8^lt>>>24^Ie<<24,Ie=Ie<<1^283*(Ie>>7))),At[Q]=At[Q-ie]^lt;for(dt=0;Q;dt++,Q--)lt=At[3&dt?Q:Q-4],St[dt]=Q<=4||dt<4?lt:te[0][kt[lt>>>24]]^te[1][kt[lt>>16&255]]^te[2][kt[lt>>8&255]]^te[3][kt[255&lt]]}return q.prototype.decrypt=function(Y,Q,dt,lt,At,St){var kt=this._key[1],te=Y^kt[0],ie=lt^kt[1],Ie=dt^kt[2],Fe=Q^kt[3],Ye=void 0,an=void 0,Me=void 0,Lr=kt.length/4-2,mn=void 0,Br=4,Wr=this._tables[1],Di=Wr[0],La=Wr[1],fr=Wr[2],Ps=Wr[3],ta=Wr[4];for(mn=0;mn<Lr;mn++)Ye=Di[te>>>24]^La[ie>>16&255]^fr[Ie>>8&255]^Ps[255&Fe]^kt[Br],an=Di[ie>>>24]^La[Ie>>16&255]^fr[Fe>>8&255]^Ps[255&te]^kt[Br+1],Me=Di[Ie>>>24]^La[Fe>>16&255]^fr[te>>8&255]^Ps[255&ie]^kt[Br+2],Fe=Di[Fe>>>24]^La[te>>16&255]^fr[ie>>8&255]^Ps[255&Ie]^kt[Br+3],Br+=4,te=Ye,ie=an,Ie=Me;for(mn=0;mn<4;mn++)At[(3&-mn)+St]=ta[te>>>24]<<24^ta[ie>>16&255]<<16^ta[Ie>>8&255]<<8^ta[255&Fe]^kt[Br++],Ye=te,te=ie,ie=Ie,Ie=Fe,Fe=Ye},q}(),y=function(){function q(){t(this,q),this.listeners={}}return q.prototype.on=function(Y,Q){this.listeners[Y]||(this.listeners[Y]=[]),this.listeners[Y].push(Q)},q.prototype.off=function(Y,Q){if(!this.listeners[Y])return!1;var dt=this.listeners[Y].indexOf(Q);return this.listeners[Y].splice(dt,1),dt>-1},q.prototype.trigger=function(Y){var Q=this.listeners[Y];if(Q)if(arguments.length===2)for(var dt=Q.length,lt=0;lt<dt;++lt)Q[lt].call(this,arguments[1]);else for(var At=Array.prototype.slice.call(arguments,1),St=Q.length,kt=0;kt<St;++kt)Q[kt].apply(this,At)},q.prototype.dispose=function(){this.listeners={}},q.prototype.pipe=function(Y){this.on("data",function(Q){Y.push(Q)})},q}(),E=function(q){function Y(){t(this,Y);var Q=function(dt,lt){if(!dt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!lt||typeof lt!="object"&&typeof lt!="function"?dt:lt}(this,q.call(this,y));return Q.jobs=[],Q.delay=1,Q.timeout_=null,Q}return function(Q,dt){if(typeof dt!="function"&&dt!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof dt);Q.prototype=Object.create(dt&&dt.prototype,{constructor:{value:Q,enumerable:!1,writable:!0,configurable:!0}}),dt&&(Object.setPrototypeOf?Object.setPrototypeOf(Q,dt):Q.__proto__=dt)}(Y,q),Y.prototype.processJob_=function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null},Y.prototype.push=function(Q){this.jobs.push(Q),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},Y}(y),D=function(q){return q<<24|(65280&q)<<8|(16711680&q)>>8|q>>>24},N=function(){function q(Y,Q,dt,lt){t(this,q);var At=q.STEP,St=new Int32Array(Y.buffer),kt=new Uint8Array(Y.byteLength),te=0;for(this.asyncStream_=new E,this.asyncStream_.push(this.decryptChunk_(St.subarray(te,te+At),Q,dt,kt)),te=At;te<St.length;te+=At)dt=new Uint32Array([D(St[te-4]),D(St[te-3]),D(St[te-2]),D(St[te-1])]),this.asyncStream_.push(this.decryptChunk_(St.subarray(te,te+At),Q,dt,kt));this.asyncStream_.push(function(){lt(null,function(ie){return ie.subarray(0,ie.byteLength-ie[ie.byteLength-1])}(kt))})}return q.prototype.decryptChunk_=function(Y,Q,dt,lt){return function(){var At=function(St,kt,te){var ie=new Int32Array(St.buffer,St.byteOffset,St.byteLength>>2),Ie=new f(Array.prototype.slice.call(kt)),Fe=new Uint8Array(St.byteLength),Ye=new Int32Array(Fe.buffer),an=void 0,Me=void 0,Lr=void 0,mn=void 0,Br=void 0,Wr=void 0,Di=void 0,La=void 0,fr=void 0;for(an=te[0],Me=te[1],Lr=te[2],mn=te[3],fr=0;fr<ie.length;fr+=4)Br=D(ie[fr]),Wr=D(ie[fr+1]),Di=D(ie[fr+2]),La=D(ie[fr+3]),Ie.decrypt(Br,Wr,Di,La,Ye,fr),Ye[fr]=D(Ye[fr]^an),Ye[fr+1]=D(Ye[fr+1]^Me),Ye[fr+2]=D(Ye[fr+2]^Lr),Ye[fr+3]=D(Ye[fr+3]^mn),an=Br,Me=Wr,Lr=Di,mn=La;return Fe}(Y,Q,dt);lt.set(At,Y.byteOffset)}},r(q,null,[{key:"STEP",get:function(){return 32e3}}]),q}();new function(q){q.onmessage=function(Y){var Q=Y.data,dt=new Uint8Array(Q.encrypted.bytes,Q.encrypted.byteOffset,Q.encrypted.byteLength),lt=new Uint32Array(Q.key.bytes,Q.key.byteOffset,Q.key.byteLength/4),At=new Uint32Array(Q.iv.bytes,Q.iv.byteOffset,Q.iv.byteLength/4);new N(dt,lt,At,function(St,kt){q.postMessage(function(te){var ie={};return Object.keys(te).forEach(function(Ie){var Fe=te[Ie];ArrayBuffer.isView(Fe)?ie[Ie]={bytes:Fe.buffer,byteOffset:Fe.byteOffset,byteLength:Fe.byteLength}:ie[Ie]=Fe}),ie}({source:Q.source,decrypted:kt}),[kt.buffer])})}}(e)})()}),om=function(n){var i=n.default?"main":"alternative";return n.characteristics&&n.characteristics.indexOf("public.accessibility.describes-video")>=0&&(i="main-desc"),i},Zd=function(n,i){n.abort(),n.pause(),i&&i.activePlaylistLoader&&(i.activePlaylistLoader.pause(),i.activePlaylistLoader=null)},Uf=function(n,i){i.activePlaylistLoader=n,n.load()},Qd={AUDIO:function(n,i){return function(){var e=i.segmentLoaders[n],t=i.mediaTypes[n],r=i.blacklistCurrentPlaylist;Zd(e,t);var a=t.activeTrack(),f=t.activeGroup(),y=(f.filter(function(N){return N.default})[0]||f[0]).id,E=t.tracks[y];if(a!==E){for(var D in Et.log.warn("Problem encountered loading the alternate audio track.Switching back to default."),t.tracks)t.tracks[D].enabled=t.tracks[D]===E;t.onTrackChanged()}else r({message:"Problem encountered loading the default audio track."})}},SUBTITLES:function(n,i){return function(){var e=i.segmentLoaders[n],t=i.mediaTypes[n];Et.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track."),Zd(e,t);var r=t.activeTrack();r&&(r.mode="disabled"),t.onTrackChanged()}}},qh={AUDIO:function(n,i,e){if(i){var t=e.tech,r=e.requestOptions,a=e.segmentLoaders[n];i.on("loadedmetadata",function(){var f=i.media();a.playlist(f,r),(!t.paused()||f.endList&&t.preload()!=="none")&&a.load()}),i.on("loadedplaylist",function(){a.playlist(i.media(),r),t.paused()||a.load()}),i.on("error",Qd[n](n,e))}},SUBTITLES:function(n,i,e){var t=e.tech,r=e.requestOptions,a=e.segmentLoaders[n],f=e.mediaTypes[n];i.on("loadedmetadata",function(){var y=i.media();a.playlist(y,r),a.track(f.activeTrack()),(!t.paused()||y.endList&&t.preload()!=="none")&&a.load()}),i.on("loadedplaylist",function(){a.playlist(i.media(),r),t.paused()||a.load()}),i.on("error",Qd[n](n,e))}},sm={AUDIO:function(n,i){var e=i.hls,t=i.sourceType,r=i.segmentLoaders[n],a=i.requestOptions,f=i.master.mediaGroups,y=i.mediaTypes[n],E=y.groups,D=y.tracks,N=i.masterPlaylistLoader;for(var q in f[n]&&Object.keys(f[n]).length!==0||(f[n]={main:{default:{default:!0}}}),f[n])for(var Y in E[q]||(E[q]=[]),f[n][q]){var Q,dt=f[n][q][Y];if(Q=dt.resolvedUri?new Kd(dt.resolvedUri,e,a):dt.playlists&&t==="dash"?new Rf(dt.playlists[0],e,a,N):null,dt=Et.mergeOptions({id:Y,playlistLoader:Q},dt),qh[n](n,dt.playlistLoader,i),E[q].push(dt),D[Y]===void 0){var lt=new Et.AudioTrack({id:Y,kind:om(dt),enabled:!1,language:dt.language,default:dt.default,label:Y});D[Y]=lt}}r.on("error",Qd[n](n,i))},SUBTITLES:function(n,i){var e=i.tech,t=i.hls,r=i.sourceType,a=i.segmentLoaders[n],f=i.requestOptions,y=i.master.mediaGroups,E=i.mediaTypes[n],D=E.groups,N=E.tracks,q=i.masterPlaylistLoader;for(var Y in y[n])for(var Q in D[Y]||(D[Y]=[]),y[n][Y])if(!y[n][Y][Q].forced){var dt=y[n][Y][Q],lt=void 0;if(r==="hls"?lt=new Kd(dt.resolvedUri,t,f):r==="dash"&&(lt=new Rf(dt.playlists[0],t,f,q)),dt=Et.mergeOptions({id:Q,playlistLoader:lt},dt),qh[n](n,dt.playlistLoader,i),D[Y].push(dt),N[Q]===void 0){var At=e.addRemoteTextTrack({id:Q,kind:"subtitles",default:dt.default&&dt.autoselect,language:dt.language,label:Q},!1).track;N[Q]=At}}a.on("error",Qd[n](n,i))},"CLOSED-CAPTIONS":function(n,i){var e=i.tech,t=i.master.mediaGroups,r=i.mediaTypes[n],a=r.groups,f=r.tracks;for(var y in t[n])for(var E in a[y]||(a[y]=[]),t[n][y]){var D=t[n][y][E];if(D.instreamId.match(/CC\d/)&&(a[y].push(Et.mergeOptions({id:E},D)),f[E]===void 0)){var N=e.addRemoteTextTrack({id:D.instreamId,kind:"captions",default:D.default&&D.autoselect,language:D.language,label:E},!1).track;f[E]=N}}}},um={AUDIO:function(n,i){return function(){var e=i.mediaTypes[n].tracks;for(var t in e)if(e[t].enabled)return e[t];return null}},SUBTITLES:function(n,i){return function(){var e=i.mediaTypes[n].tracks;for(var t in e)if(e[t].mode==="showing")return e[t];return null}}},lm=function(n){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(D){sm[D](D,n)});var i=n.mediaTypes,e=n.masterPlaylistLoader,t=n.tech,r=n.hls;["AUDIO","SUBTITLES"].forEach(function(D){i[D].activeGroup=function(N,q){return function(Y){var Q=q.masterPlaylistLoader,dt=q.mediaTypes[N].groups,lt=Q.media();if(!lt)return null;var At=null;return lt.attributes[N]&&(At=dt[lt.attributes[N]]),At=At||dt.main,Y===void 0?At:Y===null?null:At.filter(function(St){return St.id===Y.id})[0]||null}}(D,n),i[D].activeTrack=um[D](D,n),i[D].onGroupChanged=function(N,q){return function(){var Y=q.segmentLoaders,Q=Y[N],dt=Y.main,lt=q.mediaTypes[N],At=lt.activeTrack(),St=lt.activeGroup(At),kt=lt.activePlaylistLoader;if(Zd(Q,lt),St){if(!St.playlistLoader)return void(kt&&dt.resetEverything());Q.resyncLoader(),Uf(St.playlistLoader,lt)}}}(D,n),i[D].onTrackChanged=function(N,q){return function(){var Y=q.segmentLoaders,Q=Y[N],dt=Y.main,lt=q.mediaTypes[N],At=lt.activeTrack(),St=lt.activeGroup(At),kt=lt.activePlaylistLoader;if(Zd(Q,lt),St){if(!St.playlistLoader)return void dt.resetEverything();if(kt===St.playlistLoader)return void Uf(St.playlistLoader,lt);Q.track&&Q.track(At),Q.resetEverything(),Uf(St.playlistLoader,lt)}}}(D,n)});var a=i.AUDIO.activeGroup(),f=(a.filter(function(D){return D.default})[0]||a[0]).id;i.AUDIO.tracks[f].enabled=!0,i.AUDIO.onTrackChanged(),e.on("mediachange",function(){["AUDIO","SUBTITLES"].forEach(function(D){return i[D].onGroupChanged()})});var y=function(){i.AUDIO.onTrackChanged(),t.trigger({type:"usage",name:"hls-audio-change"})};for(var E in t.audioTracks().addEventListener("change",y),t.remoteTextTracks().addEventListener("change",i.SUBTITLES.onTrackChanged),r.on("dispose",function(){t.audioTracks().removeEventListener("change",y),t.remoteTextTracks().removeEventListener("change",i.SUBTITLES.onTrackChanged)}),t.clearTracks("audio"),i.AUDIO.tracks)t.audioTracks().addTrack(i.AUDIO.tracks[E])},Sl=void 0,cm=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred"],dm=function(n){return this.audioSegmentLoader_[n]+this.mainSegmentLoader_[n]},fm=function(n){function i(e){bo(this,i);var t=Ls(this,(i.__proto__||Object.getPrototypeOf(i)).call(this)),r=e.url,a=e.handleManifestRedirects,f=e.withCredentials,y=e.tech,E=e.bandwidth,D=e.externHls,N=e.useCueTags,q=e.blacklistDuration,Y=e.enableLowInitialPlaylist,Q=e.sourceType,dt=e.seekTo,lt=e.cacheEncryptionKeys;if(!r)throw new Error("A non-empty playlist URL is required");Sl=D,t.withCredentials=f,t.tech_=y,t.hls_=y.hls,t.seekTo_=dt,t.sourceType_=Q,t.useCueTags_=N,t.blacklistDuration=q,t.enableLowInitialPlaylist=Y,t.useCueTags_&&(t.cueTagsTrack_=t.tech_.addTextTrack("metadata","ad-cues"),t.cueTagsTrack_.inBandMetadataTrackDispatchType=""),t.requestOptions_={withCredentials:f,handleManifestRedirects:a,timeout:null},t.mediaTypes_=function(){var St={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(kt){St[kt]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:vi,activeTrack:vi,onGroupChanged:vi,onTrackChanged:vi}}),St}(),t.mediaSource=new Et.MediaSource,t.mediaSource.addEventListener("sourceopen",t.handleSourceOpen_.bind(t)),t.seekable_=Et.createTimeRanges(),t.hasPlayed_=function(){return!1},t.syncController_=new im(e),t.segmentMetadataTrack_=y.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,t.decrypter_=new am,t.inbandTextTracks_={};var At={hls:t.hls_,mediaSource:t.mediaSource,currentTime:t.tech_.currentTime.bind(t.tech_),seekable:function(){return t.seekable()},seeking:function(){return t.tech_.seeking()},duration:function(){return t.mediaSource.duration},hasPlayed:function(){return t.hasPlayed_()},goalBufferLength:function(){return t.goalBufferLength()},bandwidth:E,syncController:t.syncController_,decrypter:t.decrypter_,sourceType:t.sourceType_,inbandTextTracks:t.inbandTextTracks_,cacheEncryptionKeys:lt};return t.masterPlaylistLoader_=t.sourceType_==="dash"?new Rf(r,t.hls_,t.requestOptions_):new Kd(r,t.hls_,t.requestOptions_),t.setupMasterPlaylistLoaderListeners_(),t.mainSegmentLoader_=new Mf(Et.mergeOptions(At,{segmentMetadataTrack:t.segmentMetadataTrack_,loaderType:"main"}),e),t.audioSegmentLoader_=new Mf(Et.mergeOptions(At,{loaderType:"audio"}),e),t.subtitleSegmentLoader_=new tm(Et.mergeOptions(At,{loaderType:"vtt"}),e),t.setupSegmentLoaderListeners_(),cm.forEach(function(St){t[St+"_"]=dm.bind(t,St)}),t.logger_=wd("MPC"),t.masterPlaylistLoader_.load(),t}return xu(i,n),Go(i,[{key:"setupMasterPlaylistLoaderListeners_",value:function(){var e=this;this.masterPlaylistLoader_.on("loadedmetadata",function(){var t=e.masterPlaylistLoader_.media(),r=1.5*t.targetDuration*1e3;kf(e.masterPlaylistLoader_.master,e.masterPlaylistLoader_.media())?e.requestOptions_.timeout=0:e.requestOptions_.timeout=r,t.endList&&e.tech_.preload()!=="none"&&(e.mainSegmentLoader_.playlist(t,e.requestOptions_),e.mainSegmentLoader_.load()),lm({sourceType:e.sourceType_,segmentLoaders:{AUDIO:e.audioSegmentLoader_,SUBTITLES:e.subtitleSegmentLoader_,main:e.mainSegmentLoader_},tech:e.tech_,requestOptions:e.requestOptions_,masterPlaylistLoader:e.masterPlaylistLoader_,hls:e.hls_,master:e.master(),mediaTypes:e.mediaTypes_,blacklistCurrentPlaylist:e.blacklistCurrentPlaylist.bind(e)}),e.triggerPresenceUsage_(e.master(),t);try{e.setupSourceBuffers_()}catch(a){return Et.log.warn("Failed to create SourceBuffers",a),e.mediaSource.endOfStream("decode")}e.setupFirstPlay(),!e.mediaTypes_.AUDIO.activePlaylistLoader||e.mediaTypes_.AUDIO.activePlaylistLoader.media()?e.trigger("selectedinitialmedia"):e.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",function(){e.trigger("selectedinitialmedia")})}),this.masterPlaylistLoader_.on("loadedplaylist",function(){var t=e.masterPlaylistLoader_.media();if(!t){e.excludeUnsupportedVariants_();var r=void 0;return e.enableLowInitialPlaylist&&(r=e.selectInitialPlaylist()),r||(r=e.selectPlaylist()),e.initialMedia_=r,void e.masterPlaylistLoader_.media(e.initialMedia_)}if(e.useCueTags_&&e.updateAdCues_(t),e.mainSegmentLoader_.playlist(t,e.requestOptions_),e.updateDuration(),e.tech_.paused()||(e.mainSegmentLoader_.load(),e.audioSegmentLoader_&&e.audioSegmentLoader_.load()),!t.endList){var a=function(){var f=e.seekable();f.length!==0&&e.mediaSource.addSeekableRange_(f.start(0),f.end(0))};e.duration()!==1/0?e.tech_.one("durationchange",function f(){e.duration()===1/0?a():e.tech_.one("durationchange",f)}):a()}}),this.masterPlaylistLoader_.on("error",function(){e.blacklistCurrentPlaylist(e.masterPlaylistLoader_.error)}),this.masterPlaylistLoader_.on("mediachanging",function(){e.mainSegmentLoader_.abort(),e.mainSegmentLoader_.pause()}),this.masterPlaylistLoader_.on("mediachange",function(){var t=e.masterPlaylistLoader_.media(),r=1.5*t.targetDuration*1e3;kf(e.masterPlaylistLoader_.master,e.masterPlaylistLoader_.media())?e.requestOptions_.timeout=0:e.requestOptions_.timeout=r,e.mainSegmentLoader_.playlist(t,e.requestOptions_),e.mainSegmentLoader_.load(),e.tech_.trigger({type:"mediachange",bubbles:!0})}),this.masterPlaylistLoader_.on("playlistunchanged",function(){var t=e.masterPlaylistLoader_.media();e.stuckAtPlaylistEnd_(t)&&(e.blacklistCurrentPlaylist({message:"Playlist no longer updating."}),e.tech_.trigger("playliststuck"))}),this.masterPlaylistLoader_.on("renditiondisabled",function(){e.tech_.trigger({type:"usage",name:"hls-rendition-disabled"})}),this.masterPlaylistLoader_.on("renditionenabled",function(){e.tech_.trigger({type:"usage",name:"hls-rendition-enabled"})})}},{key:"triggerPresenceUsage_",value:function(e,t){var r=e.mediaGroups||{},a=!0,f=Object.keys(r.AUDIO);for(var y in r.AUDIO)for(var E in r.AUDIO[y])r.AUDIO[y][E].uri||(a=!1);a&&this.tech_.trigger({type:"usage",name:"hls-demuxed"}),Object.keys(r.SUBTITLES).length&&this.tech_.trigger({type:"usage",name:"hls-webvtt"}),Sl.Playlist.isAes(t)&&this.tech_.trigger({type:"usage",name:"hls-aes"}),Sl.Playlist.isFmp4(t)&&this.tech_.trigger({type:"usage",name:"hls-fmp4"}),f.length&&Object.keys(r.AUDIO[f[0]]).length>1&&this.tech_.trigger({type:"usage",name:"hls-alternate-audio"}),this.useCueTags_&&this.tech_.trigger({type:"usage",name:"hls-playlist-cue-tags"})}},{key:"setupSegmentLoaderListeners_",value:function(){var e=this;this.mainSegmentLoader_.on("bandwidthupdate",function(){var t=e.selectPlaylist(),r=e.masterPlaylistLoader_.media(),a=e.tech_.buffered(),f=a.length?a.end(a.length-1)-e.tech_.currentTime():0,y=e.bufferLowWaterLine();(!r.endList||e.duration()<Ya.MAX_BUFFER_LOW_WATER_LINE||t.attributes.BANDWIDTH<r.attributes.BANDWIDTH||f>=y)&&e.masterPlaylistLoader_.media(t),e.tech_.trigger("bandwidthupdate")}),this.mainSegmentLoader_.on("progress",function(){e.trigger("progress")}),this.mainSegmentLoader_.on("error",function(){e.blacklistCurrentPlaylist(e.mainSegmentLoader_.error())}),this.mainSegmentLoader_.on("syncinfoupdate",function(){e.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("timestampoffset",function(){e.tech_.trigger({type:"usage",name:"hls-timestamp-offset"})}),this.audioSegmentLoader_.on("syncinfoupdate",function(){e.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("ended",function(){e.onEndOfStream()}),this.mainSegmentLoader_.on("earlyabort",function(){e.blacklistCurrentPlaylist({message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},120)}),this.mainSegmentLoader_.on("reseteverything",function(){e.tech_.trigger("hls-reset")}),this.mainSegmentLoader_.on("segmenttimemapping",function(t){e.tech_.trigger({type:"hls-segment-time-mapping",mapping:t.mapping})}),this.audioSegmentLoader_.on("ended",function(){e.onEndOfStream()})}},{key:"mediaSecondsLoaded_",value:function(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)}},{key:"load",value:function(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()}},{key:"smoothQualityChange_",value:function(){var e=this.selectPlaylist();e!==this.masterPlaylistLoader_.media()&&(this.masterPlaylistLoader_.media(e),this.mainSegmentLoader_.resetLoader())}},{key:"fastQualityChange_",value:function(){var e=this,t=this.selectPlaylist();t!==this.masterPlaylistLoader_.media()&&(this.masterPlaylistLoader_.media(t),this.mainSegmentLoader_.resetEverything(function(){Et.browser.IE_VERSION||Et.browser.IS_EDGE?e.tech_.setCurrentTime(e.tech_.currentTime()+.04):e.tech_.setCurrentTime(e.tech_.currentTime())}))}},{key:"play",value:function(){if(!this.setupFirstPlay()){this.tech_.ended()&&this.seekTo_(0),this.hasPlayed_()&&this.load();var e=this.tech_.seekable();return this.tech_.duration()===1/0&&this.tech_.currentTime()<e.start(0)?this.seekTo_(e.end(e.length-1)):void 0}}},{key:"setupFirstPlay",value:function(){var e=this,t=this.masterPlaylistLoader_.media();if(!t||this.tech_.paused()||this.hasPlayed_())return!1;if(!t.endList){var r=this.seekable();if(!r.length)return!1;if(Et.browser.IE_VERSION&&this.tech_.readyState()===0)return this.tech_.one("loadedmetadata",function(){e.trigger("firstplay"),e.seekTo_(r.end(0)),e.hasPlayed_=function(){return!0}}),!1;this.trigger("firstplay"),this.seekTo_(r.end(0))}return this.hasPlayed_=function(){return!0},this.load(),!0}},{key:"handleSourceOpen_",value:function(){try{this.setupSourceBuffers_()}catch(t){return Et.log.warn("Failed to create Source Buffers",t),this.mediaSource.endOfStream("decode")}if(this.tech_.autoplay()){var e=this.tech_.play();e!==void 0&&typeof e.then=="function"&&e.then(null,function(t){})}this.trigger("sourceopen")}},{key:"onEndOfStream",value:function(){var e=this.mainSegmentLoader_.ended_;if(this.mediaTypes_.AUDIO.activePlaylistLoader&&(e=!this.mainSegmentLoader_.startingMedia_||this.mainSegmentLoader_.startingMedia_.containsVideo?e&&this.audioSegmentLoader_.ended_:this.audioSegmentLoader_.ended_),e){this.logger_("calling mediaSource.endOfStream()");try{this.mediaSource.endOfStream()}catch(t){Et.log.warn("Failed to call media source endOfStream",t)}}}},{key:"stuckAtPlaylistEnd_",value:function(e){if(!this.seekable().length)return!1;var t=this.syncController_.getExpiredTime(e,this.mediaSource.duration);if(t===null)return!1;var r=Sl.Playlist.playlistEnd(e,t),a=this.tech_.currentTime(),f=this.tech_.buffered();if(!f.length)return r-a<=.1;var y=f.end(f.length-1);return y-a<=.1&&r-y<=.1}},{key:"blacklistCurrentPlaylist",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments[1],r=void 0,a=void 0;if(r=e.playlist||this.masterPlaylistLoader_.media(),t=t||e.blacklistDuration||this.blacklistDuration,!r){this.error=e;try{return this.mediaSource.endOfStream("network")}catch(E){return this.trigger("error")}}var f=this.masterPlaylistLoader_.master.playlists.filter(Xd).length===1,y=this.masterPlaylistLoader_.master.playlists;return y.length===1?(Et.log.warn("Problem encountered with the current HLS playlist. Trying again since it is the only playlist."),this.tech_.trigger("retryplaylist"),this.masterPlaylistLoader_.load(f)):(f&&(Et.log.warn("Removing all playlists from the blacklist because the last rendition is about to be blacklisted."),y.forEach(function(E){E.excludeUntil!==1/0&&delete E.excludeUntil}),this.tech_.trigger("retryplaylist")),r.excludeUntil=Date.now()+1e3*t,this.tech_.trigger("blacklistplaylist"),this.tech_.trigger({type:"usage",name:"hls-rendition-blacklisted"}),a=this.selectPlaylist(),Et.log.warn("Problem encountered with the current HLS playlist."+(e.message?" "+e.message:"")+" Switching to another playlist."),this.masterPlaylistLoader_.media(a,f))}},{key:"pauseLoading",value:function(){this.mainSegmentLoader_.pause(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.pause(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.pause()}},{key:"setCurrentTime",value:function(e){var t=Th(this.tech_.buffered(),e);return this.masterPlaylistLoader_&&this.masterPlaylistLoader_.media()&&this.masterPlaylistLoader_.media().segments?t&&t.length?e:(this.mainSegmentLoader_.resetEverything(),this.mainSegmentLoader_.abort(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.resetEverything(),this.audioSegmentLoader_.abort()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.resetEverything(),this.subtitleSegmentLoader_.abort()),void this.load()):0}},{key:"duration",value:function(){return this.masterPlaylistLoader_?this.mediaSource?this.mediaSource.duration:Sl.Playlist.duration(this.masterPlaylistLoader_.media()):0}},{key:"seekable",value:function(){return this.seekable_}},{key:"onSyncInfoUpdate_",value:function(){var e=void 0,t=void 0;if(this.masterPlaylistLoader_){var r=this.masterPlaylistLoader_.media();if(r){var a=this.syncController_.getExpiredTime(r,this.mediaSource.duration);if(a!==null&&(e=Sl.Playlist.seekable(r,a)).length!==0){if(this.mediaTypes_.AUDIO.activePlaylistLoader&&(r=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),(a=this.syncController_.getExpiredTime(r,this.mediaSource.duration))===null||(t=Sl.Playlist.seekable(r,a)).length===0))return;var f=void 0,y=void 0;this.seekable_&&this.seekable_.length&&(f=this.seekable_.end(0),y=this.seekable_.start(0)),t?t.start(0)>e.end(0)||e.start(0)>t.end(0)?this.seekable_=e:this.seekable_=Et.createTimeRanges([[t.start(0)>e.start(0)?t.start(0):e.start(0),t.end(0)<e.end(0)?t.end(0):e.end(0)]]):this.seekable_=e,this.seekable_&&this.seekable_.length&&this.seekable_.end(0)===f&&this.seekable_.start(0)===y||(this.logger_("seekable updated ["+Cf(this.seekable_)+"]"),this.tech_.trigger("seekablechanged"))}}}}},{key:"updateDuration",value:function(){var e=this,t=this.mediaSource.duration,r=Sl.Playlist.duration(this.masterPlaylistLoader_.media()),a=this.tech_.buffered(),f=function y(){e.logger_("Setting duration from "+e.mediaSource.duration+" => "+r);try{e.mediaSource.duration=r}catch(E){Et.log.warn("Failed to set media source duration",E)}e.tech_.trigger("durationchange"),e.mediaSource.removeEventListener("sourceopen",y)};a.length>0&&(r=Math.max(r,a.end(a.length-1))),t!==r&&(this.mediaSource.readyState!=="open"?this.mediaSource.addEventListener("sourceopen",f):f())}},{key:"dispose",value:function(){var e=this;this.decrypter_.terminate(),this.masterPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),["AUDIO","SUBTITLES"].forEach(function(t){var r=e.mediaTypes_[t].groups;for(var a in r)r[a].forEach(function(f){f.playlistLoader&&f.playlistLoader.dispose()})}),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose()}},{key:"master",value:function(){return this.masterPlaylistLoader_.master}},{key:"media",value:function(){return this.masterPlaylistLoader_.media()||this.initialMedia_}},{key:"setupSourceBuffers_",value:function(){var e=this.masterPlaylistLoader_.media(),t=void 0;if(e&&this.mediaSource.readyState==="open"){if((t=Gp(this.masterPlaylistLoader_.master,e)).length<1)return this.error="No compatible SourceBuffer configuration for the variant stream:"+e.resolvedUri,this.mediaSource.endOfStream("decode");this.configureLoaderMimeTypes_(t),this.excludeIncompatibleVariants_(e)}}},{key:"configureLoaderMimeTypes_",value:function(e){var t=e.length>1&&e[0].indexOf(",")===-1&&e[0]!==e[1]?new Et.EventTarget:null;this.mainSegmentLoader_.mimeType(e[0],t),e[1]&&this.audioSegmentLoader_.mimeType(e[1],t)}},{key:"excludeUnsupportedVariants_",value:function(){this.master().playlists.forEach(function(e){e.attributes.CODECS&&C.MediaSource&&C.MediaSource.isTypeSupported&&!C.MediaSource.isTypeSupported('video/mp4; codecs="'+function(t){return t.replace(/avc1\.(\d+)\.(\d+)/i,function(r){return jh([r])[0]})}(e.attributes.CODECS)+'"')&&(e.excludeUntil=1/0)})}},{key:"excludeIncompatibleVariants_",value:function(e){var t=2,r=null,a=void 0;e.attributes.CODECS&&(a=Td(e.attributes.CODECS),r=a.videoCodec,t=a.codecCount),this.master().playlists.forEach(function(f){var y={codecCount:2,videoCodec:null};f.attributes.CODECS&&(y=Td(f.attributes.CODECS)),y.codecCount!==t&&(f.excludeUntil=1/0),y.videoCodec!==r&&(f.excludeUntil=1/0)})}},{key:"updateAdCues_",value:function(e){var t=0,r=this.seekable();r.length&&(t=r.start(0)),nm(e,this.cueTagsTrack_,t)}},{key:"goalBufferLength",value:function(){var e=this.tech_.currentTime(),t=Ya.GOAL_BUFFER_LENGTH,r=Ya.GOAL_BUFFER_LENGTH_RATE,a=Math.max(t,Ya.MAX_GOAL_BUFFER_LENGTH);return Math.min(t+e*r,a)}},{key:"bufferLowWaterLine",value:function(){var e=this.tech_.currentTime(),t=Ya.BUFFER_LOW_WATER_LINE,r=Ya.BUFFER_LOW_WATER_LINE_RATE,a=Math.max(t,Ya.MAX_BUFFER_LOW_WATER_LINE);return Math.min(t+e*r,a)}}]),i}(Et.EventTarget),hm=function n(i,e,t){bo(this,n);var r=i.masterPlaylistController_,a=r[(i.options_.smoothQualityChange?"smooth":"fast")+"QualityChange_"].bind(r);if(e.attributes.RESOLUTION){var f=e.attributes.RESOLUTION;this.width=f.width,this.height=f.height}this.bandwidth=e.attributes.BANDWIDTH,this.id=t,this.enabled=function(y,E,D){return function(N){var q=y.master.playlists[E],Y=wf(q),Q=Xd(q);return N===void 0?Q:(N?delete q.disabled:q.disabled=!0,N===Q||Y||(D(),N?y.trigger("renditionenabled"):y.trigger("renditiondisabled")),N)}}(i.playlists,e.uri,a)},$h=["seeking","seeked","pause","playing","error"],pm=function(){function n(i){var e=this;bo(this,n),this.tech_=i.tech,this.seekable=i.seekable,this.seekTo=i.seekTo,this.allowSeeksWithinUnsafeLiveWindow=i.allowSeeksWithinUnsafeLiveWindow,this.media=i.media,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.timer_=null,this.checkCurrentTimeTimeout_=null,this.logger_=wd("PlaybackWatcher"),this.logger_("initialize");var t=function(){return e.monitorCurrentTime_()},r=function(){return e.techWaiting_()},a=function(){return e.cancelTimer_()},f=function(){return e.fixesBadSeeks_()};this.tech_.on("seekablechanged",f),this.tech_.on("waiting",r),this.tech_.on($h,a),this.tech_.on("canplay",t),this.dispose=function(){e.logger_("dispose"),e.tech_.off("seekablechanged",f),e.tech_.off("waiting",r),e.tech_.off($h,a),e.tech_.off("canplay",t),e.checkCurrentTimeTimeout_&&C.clearTimeout(e.checkCurrentTimeTimeout_),e.cancelTimer_()}}return Go(n,[{key:"monitorCurrentTime_",value:function(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&C.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=C.setTimeout(this.monitorCurrentTime_.bind(this),250)}},{key:"checkCurrentTime_",value:function(){if(this.tech_.seeking()&&this.fixesBadSeeks_())return this.consecutiveUpdates=0,void(this.lastRecordedTime=this.tech_.currentTime());if(!this.tech_.paused()&&!this.tech_.seeking()){var i=this.tech_.currentTime(),e=this.tech_.buffered();if(this.lastRecordedTime===i&&(!e.length||i+.1>=e.end(e.length-1)))return this.techWaiting_();this.consecutiveUpdates>=5&&i===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):i===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=i)}}},{key:"cancelTimer_",value:function(){this.consecutiveUpdates=0,this.timer_&&(this.logger_("cancelTimer_"),clearTimeout(this.timer_)),this.timer_=null}},{key:"fixesBadSeeks_",value:function(){if(!this.tech_.seeking())return!1;var i=this.seekable(),e=this.tech_.currentTime(),t=void 0;return this.afterSeekableWindow_(i,e,this.media(),this.allowSeeksWithinUnsafeLiveWindow)&&(t=i.end(i.length-1)),this.beforeSeekableWindow_(i,e)&&(t=i.start(0)+.1),t!==void 0&&(this.logger_("Trying to seek outside of seekable at time "+e+" with seekable range "+Cf(i)+". Seeking to "+t+"."),this.seekTo(t),!0)}},{key:"waiting_",value:function(){if(!this.techWaiting_()){var i=this.tech_.currentTime(),e=this.tech_.buffered(),t=Th(e,i);return t.length&&i+3<=t.end(0)?(this.cancelTimer_(),this.seekTo(i),this.logger_("Stopped at "+i+" while inside a buffered region ["+t.start(0)+" -> "+t.end(0)+"]. Attempting to resume playback by seeking to the current time."),void this.tech_.trigger({type:"usage",name:"hls-unknown-waiting"})):void 0}}},{key:"techWaiting_",value:function(){var i=this.seekable(),e=this.tech_.currentTime();if(this.tech_.seeking()&&this.fixesBadSeeks_()||this.tech_.seeking()||this.timer_!==null)return!0;if(this.beforeSeekableWindow_(i,e)){var t=i.end(i.length-1);return this.logger_("Fell out of live window at time "+e+". Seeking to live point (seekable end) "+t),this.cancelTimer_(),this.seekTo(t),this.tech_.trigger({type:"usage",name:"hls-live-resync"}),!0}var r=this.tech_.buffered(),a=Sh(r,e);if(this.videoUnderflow_(a,r,e))return this.cancelTimer_(),this.seekTo(e),this.tech_.trigger({type:"usage",name:"hls-video-underflow"}),!0;if(a.length>0){var f=a.start(0)-e;return this.logger_("Stopped at "+e+", setting timer for "+f+", seeking to "+a.start(0)),this.timer_=setTimeout(this.skipTheGap_.bind(this),1e3*f,e),!0}return!1}},{key:"afterSeekableWindow_",value:function(i,e,t){var r=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(!i.length)return!1;var a=i.end(i.length-1)+.1;return!t.endList&&r&&(a=i.end(i.length-1)+3*t.targetDuration),e>a}},{key:"beforeSeekableWindow_",value:function(i,e){return!!(i.length&&i.start(0)>0&&e<i.start(0)-.1)}},{key:"videoUnderflow_",value:function(i,e,t){if(i.length===0){var r=this.gapFromVideoUnderflow_(e,t);if(r)return this.logger_("Encountered a gap in video from "+r.start+" to "+r.end+". Seeking to current time "+t),!0}return!1}},{key:"skipTheGap_",value:function(i){var e=this.tech_.buffered(),t=this.tech_.currentTime(),r=Sh(e,t);this.cancelTimer_(),r.length!==0&&t===i&&(this.logger_("skipTheGap_:","currentTime:",t,"scheduled currentTime:",i,"nextRange start:",r.start(0)),this.seekTo(r.start(0)+1/30),this.tech_.trigger({type:"usage",name:"hls-gap-skip"}))}},{key:"gapFromVideoUnderflow_",value:function(i,e){for(var t=function(y){if(y.length<2)return Et.createTimeRanges();for(var E=[],D=1;D<y.length;D++){var N=y.end(D-1),q=y.start(D);E.push([N,q])}return Et.createTimeRanges(E)}(i),r=0;r<t.length;r++){var a=t.start(r),f=t.end(r);if(e-a<4&&e-a>2)return{start:a,end:f}}return null}}]),n}(),mm={errorInterval:30,getSource:function(n){return n(this.tech({IWillNotUseThisInPlugins:!0}).currentSource_)}},Kh=function(n){(function i(e,t){var r=0,a=0,f=Et.mergeOptions(mm,t);e.ready(function(){e.trigger({type:"usage",name:"hls-error-reload-initialized"})});var y=function(){a&&e.currentTime(a)},E=function(q){q!=null&&(a=e.duration()!==1/0&&e.currentTime()||0,e.one("loadedmetadata",y),e.src(q),e.trigger({type:"usage",name:"hls-error-reload"}),e.play())},D=function(){return Date.now()-r<1e3*f.errorInterval?void e.trigger({type:"usage",name:"hls-error-reload-canceled"}):f.getSource&&typeof f.getSource=="function"?(r=Date.now(),f.getSource.call(e,E)):void Et.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!")},N=function q(){e.off("loadedmetadata",y),e.off("error",D),e.off("dispose",q)};e.on("error",D),e.on("dispose",N),e.reloadSourceOnError=function(q){N(),i(e,q)}})(this,n)};Et.use("*",function(n){return{setSource:function(i,e){e(null,i)},setCurrentTime:function(i){return n.vhs&&n.currentSource().src===n.vhs.source_.src&&n.vhs.setCurrentTime(i),i},play:function(){n.vhs&&n.currentSource().src===n.vhs.source_.src&&n.vhs.setCurrentTime(n.tech_.currentTime())}}});var Oa={PlaylistLoader:Kd,Playlist:xa,Decrypter:Cp,AsyncStream:nh,decrypt:rh,utils:Up,STANDARD_PLAYLIST_SELECTOR:function(){return function(n,i,e,t,r){var a=n.playlists.map(function(kt){var te,ie;return te=kt.attributes.RESOLUTION&&kt.attributes.RESOLUTION.width,ie=kt.attributes.RESOLUTION&&kt.attributes.RESOLUTION.height,{bandwidth:kt.attributes.BANDWIDTH||C.Number.MAX_VALUE,width:te,height:ie,playlist:kt}});kd(a,function(kt,te){return kt.bandwidth-te.bandwidth});var f=(a=a.filter(function(kt){return!xa.isIncompatible(kt.playlist)})).filter(function(kt){return xa.isEnabled(kt.playlist)});f.length||(f=a.filter(function(kt){return!xa.isDisabled(kt.playlist)}));var y=f.filter(function(kt){return kt.bandwidth*Ya.BANDWIDTH_VARIANCE<i}),E=y[y.length-1],D=y.filter(function(kt){return kt.bandwidth===E.bandwidth})[0];if(r===!1){var N=D||f[0]||a[0];return N?N.playlist:null}var q=y.filter(function(kt){return kt.width&&kt.height});kd(q,function(kt,te){return kt.width-te.width});var Y=q.filter(function(kt){return kt.width===e&&kt.height===t});E=Y[Y.length-1];var Q=Y.filter(function(kt){return kt.bandwidth===E.bandwidth})[0],dt=void 0,lt=void 0,At=void 0;Q||(lt=(dt=q.filter(function(kt){return kt.width>e||kt.height>t})).filter(function(kt){return kt.width===dt[0].width&&kt.height===dt[0].height}),E=lt[lt.length-1],At=lt.filter(function(kt){return kt.bandwidth===E.bandwidth})[0]);var St=At||Q||D||f[0]||a[0];return St?St.playlist:null}(this.playlists.master,this.systemBandwidth,parseInt(Vh(this.tech_.el(),"width"),10),parseInt(Vh(this.tech_.el(),"height"),10),this.limitRenditionByPlayerDimensions)},INITIAL_PLAYLIST_SELECTOR:function(){var n=this.playlists.master.playlists.filter(xa.isEnabled);return kd(n,function(i,e){return Df(i,e)}),n.filter(function(i){return Td(i.attributes.CODECS).videoCodec})[0]||null},comparePlaylistBandwidth:Df,comparePlaylistResolution:function(n,i){var e=void 0,t=void 0;return n.attributes.RESOLUTION&&n.attributes.RESOLUTION.width&&(e=n.attributes.RESOLUTION.width),e=e||C.Number.MAX_VALUE,i.attributes.RESOLUTION&&i.attributes.RESOLUTION.width&&(t=i.attributes.RESOLUTION.width),e===(t=t||C.Number.MAX_VALUE)&&n.attributes.BANDWIDTH&&i.attributes.BANDWIDTH?n.attributes.BANDWIDTH-i.attributes.BANDWIDTH:e-t},xhr:vh()};["GOAL_BUFFER_LENGTH","MAX_GOAL_BUFFER_LENGTH","GOAL_BUFFER_LENGTH_RATE","BUFFER_LOW_WATER_LINE","MAX_BUFFER_LOW_WATER_LINE","BUFFER_LOW_WATER_LINE_RATE","BANDWIDTH_VARIANCE"].forEach(function(n){Object.defineProperty(Oa,n,{get:function(){return Et.log.warn("using Hls."+n+" is UNSAFE be sure you know what you are doing"),Ya[n]},set:function(i){Et.log.warn("using Hls."+n+" is UNSAFE be sure you know what you are doing"),typeof i!="number"||i<0?Et.log.warn("value of Hls."+n+" must be greater than or equal to 0"):Ya[n]=i}})});var Xh=function(n){return/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i.test(n)?"hls":/^application\/dash\+xml/i.test(n)?"dash":null},Yh=function(n,i){for(var e=i.media(),t=-1,r=0;r<n.length;r++)if(n[r].id===e.uri){t=r;break}n.selectedIndex_=t,n.trigger({selectedIndex:t,type:"change"})};Oa.canPlaySource=function(){return Et.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var vm=function(n){if(n.options_.sourceType==="dash"){var i=Et.players[n.tech_.options_.playerId];if(i.eme){var e=function(t,r,a){if(!t)return t;var f={};for(var y in t)f[y]={audioContentType:'audio/mp4; codecs="'+a.attributes.CODECS+'"',videoContentType:'video/mp4; codecs="'+r.attributes.CODECS+'"'},r.contentProtection&&r.contentProtection[y]&&r.contentProtection[y].pssh&&(f[y].pssh=r.contentProtection[y].pssh),typeof t[y]=="string"&&(f[y].url=t[y]);return Et.mergeOptions(t,f)}(n.source_.keySystems,n.playlists.media(),n.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader.media());e&&(i.currentSource().keySystems=e,i.eme.initializeMediaKeys&&i.eme.initializeMediaKeys())}}},Jh=function(){if(!window.localStorage)return null;var n=window.localStorage.getItem("videojs-vhs");if(!n)return null;try{return JSON.parse(n)}catch(i){return null}};Oa.supportsNativeHls=function(){var n=F.createElement("video");return!!Et.getTech("Html5").isSupported()&&["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"].some(function(i){return/maybe|probably/i.test(n.canPlayType(i))})}(),Oa.supportsNativeDash=!!Et.getTech("Html5").isSupported()&&/maybe|probably/i.test(F.createElement("video").canPlayType("application/dash+xml")),Oa.supportsTypeNatively=function(n){return n==="hls"?Oa.supportsNativeHls:n==="dash"&&Oa.supportsNativeDash},Oa.isSupported=function(){return Et.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var Zh=function(n){function i(e,t,r){bo(this,i);var a=Ls(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,t,r.hls));if(t.options_&&t.options_.playerId){var f=Et(t.options_.playerId);f.hasOwnProperty("hls")||Object.defineProperty(f,"hls",{get:function(){return Et.log.warn("player.hls is deprecated. Use player.tech().hls instead."),t.trigger({type:"usage",name:"hls-player-access"}),a},configurable:!0}),f.vhs=a,f.dash=a,a.player_=f}if(a.tech_=t,a.source_=e,a.stats={},a.setOptions_(),a.options_.overrideNative&&t.overrideNativeAudioTracks&&t.overrideNativeVideoTracks)t.overrideNativeAudioTracks(!0),t.overrideNativeVideoTracks(!0);else if(a.options_.overrideNative&&(t.featuresNativeVideoTracks||t.featuresNativeAudioTracks))throw new Error("Overriding native HLS requires emulated tracks. See https://git.io/vMpjB");return a.on(F,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],function(y){var E=F.fullscreenElement||F.webkitFullscreenElement||F.mozFullScreenElement||F.msFullscreenElement;E&&E.contains(a.tech_.el())&&a.masterPlaylistController_.smoothQualityChange_()}),a.on(a.tech_,"seeking",function(){this.tech_.currentTime()===0&&this.tech_.player_.loop()&&this.setCurrentTime(0)}),a.on(a.tech_,"error",function(){this.masterPlaylistController_&&this.masterPlaylistController_.pauseLoading()}),a.on(a.tech_,"play",a.play),a}return xu(i,n),Go(i,[{key:"setOptions_",value:function(){var e=this;if(this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.handleManifestRedirects=this.options_.handleManifestRedirects||!1,this.options_.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions!==!1,this.options_.smoothQualityChange=this.options_.smoothQualityChange||!1,this.options_.useBandwidthFromLocalStorage=this.source_.useBandwidthFromLocalStorage!==void 0?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,typeof this.options_.blacklistDuration!="number"&&(this.options_.blacklistDuration=300),typeof this.options_.bandwidth!="number"&&this.options_.useBandwidthFromLocalStorage){var t=Jh();t&&t.bandwidth&&(this.options_.bandwidth=t.bandwidth,this.tech_.trigger({type:"usage",name:"hls-bandwidth-from-local-storage"})),t&&t.throughput&&(this.options_.throughput=t.throughput,this.tech_.trigger({type:"usage",name:"hls-throughput-from-local-storage"}))}typeof this.options_.bandwidth!="number"&&(this.options_.bandwidth=Ya.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===Ya.INITIAL_BANDWIDTH,["withCredentials","limitRenditionByPlayerDimensions","bandwidth","smoothQualityChange","customTagParsers","customTagMappers","handleManifestRedirects","cacheEncryptionKeys"].forEach(function(r){e.source_[r]!==void 0&&(e.options_[r]=e.source_[r])}),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions}},{key:"src",value:function(e,t){var r=this;e&&(this.setOptions_(),this.options_.url=this.source_.src,this.options_.tech=this.tech_,this.options_.externHls=Oa,this.options_.sourceType=Xh(t),this.options_.seekTo=function(a){r.tech_.setCurrentTime(a),r.setCurrentTime(a)},this.masterPlaylistController_=new fm(this.options_),this.playbackWatcher_=new pm(Et.mergeOptions(this.options_,{seekable:function(){return r.seekable()},media:function(){return r.masterPlaylistController_.media()}})),this.masterPlaylistController_.on("error",function(){Et.players[r.tech_.options_.playerId].error(r.masterPlaylistController_.error)}),this.masterPlaylistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):Oa.STANDARD_PLAYLIST_SELECTOR.bind(this),this.masterPlaylistController_.selectInitialPlaylist=Oa.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.masterPlaylistController_.masterPlaylistLoader_,this.mediaSource=this.masterPlaylistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get:function(){return this.masterPlaylistController_.selectPlaylist},set:function(a){this.masterPlaylistController_.selectPlaylist=a.bind(this)}},throughput:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate},set:function(a){this.masterPlaylistController_.mainSegmentLoader_.throughput.rate=a,this.masterPlaylistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.bandwidth},set:function(a){this.masterPlaylistController_.mainSegmentLoader_.bandwidth=a,this.masterPlaylistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get:function(){var a,f=1/(this.bandwidth||1);return a=this.throughput>0?1/this.throughput:0,Math.floor(1/(f+a))},set:function(){Et.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:function(){return r.bandwidth||0},enumerable:!0},mediaRequests:{get:function(){return r.masterPlaylistController_.mediaRequests_()||0},enumerable:!0},mediaRequestsAborted:{get:function(){return r.masterPlaylistController_.mediaRequestsAborted_()||0},enumerable:!0},mediaRequestsTimedout:{get:function(){return r.masterPlaylistController_.mediaRequestsTimedout_()||0},enumerable:!0},mediaRequestsErrored:{get:function(){return r.masterPlaylistController_.mediaRequestsErrored_()||0},enumerable:!0},mediaTransferDuration:{get:function(){return r.masterPlaylistController_.mediaTransferDuration_()||0},enumerable:!0},mediaBytesTransferred:{get:function(){return r.masterPlaylistController_.mediaBytesTransferred_()||0},enumerable:!0},mediaSecondsLoaded:{get:function(){return r.masterPlaylistController_.mediaSecondsLoaded_()||0},enumerable:!0},buffered:{get:function(){return wh(r.tech_.buffered())},enumerable:!0},currentTime:{get:function(){return r.tech_.currentTime()},enumerable:!0},currentSource:{get:function(){return r.tech_.currentSource_},enumerable:!0},currentTech:{get:function(){return r.tech_.name_},enumerable:!0},duration:{get:function(){return r.tech_.duration()},enumerable:!0},master:{get:function(){return r.playlists.master},enumerable:!0},playerDimensions:{get:function(){return r.tech_.currentDimensions()},enumerable:!0},seekable:{get:function(){return wh(r.tech_.seekable())},enumerable:!0},timestamp:{get:function(){return Date.now()},enumerable:!0},videoPlaybackQuality:{get:function(){return r.tech_.getVideoPlaybackQuality()},enumerable:!0}}),this.tech_.one("canplay",this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_)),this.tech_.on("bandwidthupdate",function(){r.options_.useBandwidthFromLocalStorage&&function(a){if(!window.localStorage)return!1;var f=Jh();f=f?Et.mergeOptions(f,a):a;try{window.localStorage.setItem("videojs-vhs",JSON.stringify(f))}catch(y){return!1}}({bandwidth:r.bandwidth,throughput:Math.round(r.throughput)})}),this.masterPlaylistController_.on("selectedinitialmedia",function(){(function(a){var f=a.playlists;a.representations=function(){return f.master.playlists.filter(function(y){return!wf(y)}).map(function(y,E){return new hm(a,y,y.uri)})}})(r),vm(r)}),this.on(this.masterPlaylistController_,"progress",function(){this.tech_.trigger("progress")}),this.tech_.ready(function(){return r.setupQualityLevels_()}),this.tech_.el()&&this.tech_.src(Et.URL.createObjectURL(this.masterPlaylistController_.mediaSource)))}},{key:"setupQualityLevels_",value:function(){var e=this,t=Et.players[this.tech_.options_.playerId];t&&t.qualityLevels&&(this.qualityLevels_=t.qualityLevels(),this.masterPlaylistController_.on("selectedinitialmedia",function(){(function(r,a){a.representations().forEach(function(f){r.addQualityLevel(f)}),Yh(r,a.playlists)})(e.qualityLevels_,e)}),this.playlists.on("mediachange",function(){Yh(e.qualityLevels_,e.playlists)}))}},{key:"play",value:function(){this.masterPlaylistController_.play()}},{key:"setCurrentTime",value:function(e){this.masterPlaylistController_.setCurrentTime(e)}},{key:"duration",value:function(){return this.masterPlaylistController_.duration()}},{key:"seekable",value:function(){return this.masterPlaylistController_.seekable()}},{key:"dispose",value:function(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.masterPlaylistController_&&this.masterPlaylistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.player_&&(delete this.player_.vhs,delete this.player_.dash,delete this.player_.hls),this.tech_&&this.tech_.hls&&delete this.tech_.hls,function e(t,r,a){t===null&&(t=Function.prototype);var f=Object.getOwnPropertyDescriptor(t,r);if(f===void 0){var y=Object.getPrototypeOf(t);return y===null?void 0:e(y,r,a)}if("value"in f)return f.value;var E=f.get;return E!==void 0?E.call(a):void 0}(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"dispose",this).call(this)}},{key:"convertToProgramTime",value:function(e,t){return Bp({playlist:this.masterPlaylistController_.media(),time:e,callback:t})}},{key:"seekToProgramTime",value:function(e,t){var r=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:2;return Np({programTime:e,playlist:this.masterPlaylistController_.media(),retryCount:a,pauseAfterSeek:r,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:t})}}]),i}(Et.getComponent("Component")),Bf={name:"videojs-http-streaming",VERSION:"1.10.3",canHandleSource:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e=Et.mergeOptions(Et.options,i);return Bf.canPlayType(n.type,e)},handleSource:function(n,i){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},t=Et.mergeOptions(Et.options,e);return i.hls=new Zh(n,i,t),i.hls.xhr=vh(),i.hls.src(n.src,n.type),i.hls},canPlayType:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e=Et.mergeOptions(Et.options,i),t=e.hls.overrideNative,r=Xh(n);return!r||Oa.supportsTypeNatively(r)&&!t?"":"maybe"}};return Et.MediaSource!==void 0&&Et.URL!==void 0||(Et.MediaSource=Sd,Et.URL=Rh),Sd.supportsNativeMediaSources()&&Et.getTech("Html5").registerSourceHandler(Bf,0),Et.HlsHandler=Zh,Et.HlsSourceHandler=Bf,Et.Hls=Oa,Et.use||Et.registerComponent("Hls",Oa),Et.options.hls=Et.options.hls||{},Et.registerPlugin?Et.registerPlugin("reloadSourceOnError",Kh):Et.plugin("reloadSourceOnError",Kh),Et}),function(C,F){typeof exports=="object"&&typeof module!="undefined"?module.exports=F(require("video.js")):typeof define=="function"&&define.amd?define(["video.js"],F):C.videojsSnapshot=F(C.videojs)}(this,function(C){"use strict";C="default"in C?C.default:C;var F=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};return function(o,c){return o(c={exports:{}}),c.exports}(function(o){(function(c,g){o.exports?o.exports=g(C):c.returnExports=g(c.videojs)})(F,function(c){var g,v,u={},l=c.registerPlugin||c.plugin,m=c.getComponent("Component"),d=c.getComponent("Button");c.SnapshoterBaseComponent=c.extend(m,{constructor:function(T,b){m.call(this,T,b)},dispose:function(){}}),c.SnapshoterComponent=c.extend(c.SnapshoterBaseComponent,{constructor:function(T,b){m.call(this,T,b),this.loadOptions(),this.resetState(),this.player().one("ready",this.setupUI.bind(this));var x=c.ImageCaptureEngine;try{this.engine=new x(this.player())}catch(_){throw new Error("Could not load "+c.ImageCaptureEngine+" plugin")}},loadOptions:function(){},setupUI:function(){this.player().controlBar.addChild(this.player().cameraButton),this.player().controlBar.el().appendChild(this.player().cameraButton.el()),this.player().options_.controls&&(this.player().controlBar.show(),this.player().controlBar.el().style.display="flex")},isSnapshoting:function(){return this._snapshoting},isProcessing:function(){return this._processing},isDestroyed:function(){return this.player()&&this.player().children()===null},start:function(){this.isProcessing()||(this._snapshoting=!0,this._processing=!0,this.player().controlBar.playToggle.hide(),this.createSnapshot())},stop:function(){this.isProcessing()&&(this._snapshoting=!1,this._processing=!1),this.player().controlBar.playToggle.show()},destroy:function(){this.stop(),this.player().dispose(),this.resetState()},reset:function(){this.stop(),this.loadOptions(),this.resetState(),this.player().reset(),this.player().snapshotCanvas.hide(),this.player().cameraButton.hide()},resetState:function(){this._snapshoting=!1,this._processing=!1},createSnapshot:function(){var T=this;this.captureFrame().then(function(b){T.player().trigger("snap",b),T.stop()}).catch(function(b){console.log(b),T.player().trigger("snap",""),T.stop()})},retrySnapshot:function(){this._processing=!1,this.player().snapshotCanvas.hide()},captureFrame:function(){var T=this,b=this.player().snapshotCanvas.el().firstChild;return b.width=this.player().videoWidth(),b.height=this.player().videoHeight(),new Promise(function(x,_){try{return x(T.engine.imageCaptureByIdAndCanvasDom(T.player().id(),b))}catch(k){return _(k)}})}}),v=c.extend(m),(g=c.extend(d,{constructor:function(T,b){d.call(this,T,b),this.on("click",this.onClick),this.on("tap",this.onClick)}})).prototype.onClick=function(T){T.stopImmediatePropagation();var b=this.player().snapshoter;b.isProcessing()?(b.retrySnapshot(),this.onStop()):b.start()},g.prototype.onStart=function(){this.removeClass("vjs-icon-photo-camera"),this.addClass("vjs-icon-photo-retry"),this.el().firstChild.firstChild.innerHTML=this.localize("Retry")},g.prototype.onStop=function(){this.removeClass("vjs-icon-photo-retry"),this.addClass("vjs-icon-photo-camera"),this.el().firstChild.firstChild.innerHTML=this.localize("Image")};var S=function(T,b,x){var _={className:"vjs-"+T+"-control vjs-control vjs-button",innerHTML:'<span aria-hidden="true" class="vjs-icon-'+x+'"></span><span class="vjs-control-text" aria-live="polite">'+b+"</span>"},k={title:b,type:"button","aria-disabled":"false"};return m.prototype.createEl("button",_,k)},w=function(T){var b={className:"vjs-"+T+"-canvas",innerHTML:"<canvas></canvas>"};return m.prototype.createEl("div",b)},j=function(T){var b=this,x=c.mergeOptions(u,T),_=this;_.ready(function(){(function(k,O){k.addClass("vjs-snapshot")})(b,c.mergeOptions(u,T))}),_.on("play",function(){try{_.tech_.el_.setAttribute("crossorigin","anonymous")}catch(k){}}),_.snapshoter=new c.SnapshoterComponent(this,{options:x}),_.addChild(_.snapshoter),_.snapshotCanvas=new v(_,{el:w("snapshot")}),_.snapshotCanvas.hide(),_.snapshoter.addChild(_.snapshotCanvas),_.cameraButton=new g(_,{el:S("snapshot",_.localize("Snapshot"),"spinner")}),_.cameraButton.show()};return l("snapshot",j),j}),function(c,g){o.exports?o.exports=g(C):c.returnExports=g(c.videojs)}(F,function(c){var g=c.getComponent("Component");c.ImageCaptureEngine=c.extend(g,{constructor:function(v,u){g.call(this,v,u)},formatTag:function(v){if(v&&(v=v.trim()).length!==0)return v},getDomByIdAndTag:function(v,u){u=this.formatTag(u);var l=document.getElementById(v);if(u&&u.trim().length!==0)return l.tagName.toUpperCase()===u.toUpperCase()?l:l.getElementsByTagName(u)[0]},getScreenContainerDomByIdAndTag:function(v,u){return(u=this.formatTag(u))?this.getDomByIdAndTag(v,u):this.getDomByIdAndTag(v,"object")||this.getDomByIdAndTag(v,"video")},drawCanvas:function(v,u){v.width=u.videoWidth,v.height=u.videoHeight,v.getContext("2d").drawImage(u,0,0,v.width,v.height)},imageCaptureByDom:function(v,u){var l;return v&&v.tagName.toUpperCase()==="object".toUpperCase()?l=v.vjs_snap():(this.drawCanvas(u,v),l=u.toDataURL("image/png")),l},imageCaptureById:function(v,u){return this.imageCaptureByDom(this.getScreenContainerDomByIdAndTag(v),this.getDomByIdAndTag(u,"canvas"))},imageCaptureByIdAndCanvasDom:function(v,u){return this.imageCaptureByDom(this.getScreenContainerDomByIdAndTag(v),u)}})})})}),function(C){typeof exports=="object"&&typeof module!="undefined"?module.exports=C():typeof define=="function"&&define.amd?define([],C):(typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:this).flvjs=C()}(function(){return function C(F,o,c){function g(l,m){if(!o[l]){if(!F[l]){var d=typeof require=="function"&&require;if(!m&&d)return d(l,!0);if(v)return v(l,!0);var S=new Error("Cannot find module '"+l+"'");throw S.code="MODULE_NOT_FOUND",S}var w=o[l]={exports:{}};F[l][0].call(w.exports,function(j){return g(F[l][1][j]||j)},w,w.exports,C,F,o,c)}return o[l].exports}for(var v=typeof require=="function"&&require,u=0;u<c.length;u++)g(c[u]);return g}({1:[function(C,F,o){(function(c,g){(function(v,u){typeof o=="object"&&F!==void 0?F.exports=u():v.ES6Promise=u()})(this,function(){"use strict";function v(ft){return typeof ft=="function"}function u(){var ft=setTimeout;return function(){return ft(l,1)}}function l(){for(var ft=0;ft<G;ft+=2)(0,Lt[ft])(Lt[ft+1]),Lt[ft]=void 0,Lt[ft+1]=void 0;G=0}function m(ft,pt){var Rt=this,Pt=new this.constructor(S);Pt[me]===void 0&&V(Pt);var Ht=Rt._state;if(Ht){var oe=arguments[Ht-1];ct(function(){return I(Ht,Pt,oe,Rt._result)})}else k(Rt,Pt,ft,pt);return Pt}function d(ft){if(ft&&typeof ft=="object"&&ft.constructor===this)return ft;var pt=new this(S);return T(pt,ft),pt}function S(){}function w(ft){try{return ft.then}catch(pt){return ht.error=pt,ht}}function j(ft,pt,Rt){pt.constructor===ft.constructor&&Rt===m&&pt.constructor.resolve===d?function(Pt,Ht){Ht._state===U?x(Pt,Ht._result):Ht._state===ut?_(Pt,Ht._result):k(Ht,void 0,function(oe){return T(Pt,oe)},function(oe){return _(Pt,oe)})}(ft,pt):Rt===ht?(_(ft,ht.error),ht.error=null):Rt===void 0?x(ft,pt):v(Rt)?function(Pt,Ht,oe){ct(function(Oe){var ue=!1,Yt=function(Ke,Ee,Je,Te){try{Ke.call(Ee,Je,Te)}catch(zn){return zn}}(oe,Ht,function(Ke){ue||(ue=!0,Ht!==Ke?T(Oe,Ke):x(Oe,Ke))},function(Ke){ue||(ue=!0,_(Oe,Ke))},Oe._label);!ue&&Yt&&(ue=!0,_(Oe,Yt))},Pt)}(ft,pt,Rt):x(ft,pt)}function T(ft,pt){ft===pt?_(ft,new TypeError("You cannot resolve a promise with itself")):function(Rt){var Pt=typeof Rt;return Rt!==null&&(Pt==="object"||Pt==="function")}(pt)?j(ft,pt,w(pt)):x(ft,pt)}function b(ft){ft._onerror&&ft._onerror(ft._result),O(ft)}function x(ft,pt){ft._state===Gt&&(ft._result=pt,ft._state=U,ft._subscribers.length!==0&&ct(O,ft))}function _(ft,pt){ft._state===Gt&&(ft._state=ut,ft._result=pt,ct(b,ft))}function k(ft,pt,Rt,Pt){var Ht=ft._subscribers,oe=Ht.length;ft._onerror=null,Ht[oe]=pt,Ht[oe+U]=Rt,Ht[oe+ut]=Pt,oe===0&&ft._state&&ct(O,ft)}function O(ft){var pt=ft._subscribers,Rt=ft._state;if(pt.length!==0){for(var Pt=void 0,Ht=void 0,oe=ft._result,Oe=0;Oe<pt.length;Oe+=3)Pt=pt[Oe],Ht=pt[Oe+Rt],Pt?I(Rt,Pt,Ht,oe):Ht(oe);ft._subscribers.length=0}}function I(ft,pt,Rt,Pt){var Ht=v(Rt),oe=void 0,Oe=void 0,ue=void 0,Yt=void 0;if(Ht){if((oe=function(Ke,Ee){try{return Ke(Ee)}catch(Je){return ht.error=Je,ht}}(Rt,Pt))===ht?(Yt=!0,Oe=oe.error,oe.error=null):ue=!0,pt===oe)return void _(pt,new TypeError("A promises callback cannot return that same promise."))}else oe=Pt,ue=!0;pt._state!==Gt||(Ht&&ue?T(pt,oe):Yt?_(pt,Oe):ft===U?x(pt,oe):ft===ut&&_(pt,oe))}function V(ft){ft[me]=bt++,ft._state=void 0,ft._result=void 0,ft._subscribers=[]}var H=Array.isArray?Array.isArray:function(ft){return Object.prototype.toString.call(ft)==="[object Array]"},G=0,K=void 0,et=void 0,ct=function(ft,pt){Lt[G]=ft,Lt[G+1]=pt,(G+=2)===2&&(et?et(l):Zt())},gt=typeof window!="undefined"?window:void 0,Mt=gt||{},Ut=Mt.MutationObserver||Mt.WebKitMutationObserver,ee=typeof self=="undefined"&&c!==void 0&&{}.toString.call(c)==="[object process]",Jt=typeof Uint8ClampedArray!="undefined"&&typeof importScripts!="undefined"&&typeof MessageChannel!="undefined",Lt=new Array(1e3),Zt=void 0;Zt=ee?function(){return c.nextTick(l)}:Ut?function(){var ft=0,pt=new Ut(l),Rt=document.createTextNode("");return pt.observe(Rt,{characterData:!0}),function(){Rt.data=ft=++ft%2}}():Jt?function(){var ft=new MessageChannel;return ft.port1.onmessage=l,function(){return ft.port2.postMessage(0)}}():gt===void 0&&typeof C=="function"?function(){try{var ft=Function("return this")().require("vertx");return(K=ft.runOnLoop||ft.runOnContext)!==void 0?function(){K(l)}:u()}catch(pt){return u()}}():u();var me=Math.random().toString(36).substring(2),Gt=void 0,U=1,ut=2,ht={error:null},bt=0,Dt=function(){function ft(pt,Rt){this._instanceConstructor=pt,this.promise=new pt(S),this.promise[me]||V(this.promise),H(Rt)?(this.length=Rt.length,this._remaining=Rt.length,this._result=new Array(this.length),this.length===0?x(this.promise,this._result):(this.length=this.length||0,this._enumerate(Rt),this._remaining===0&&x(this.promise,this._result))):_(this.promise,new Error("Array Methods must be provided an Array"))}return ft.prototype._enumerate=function(pt){for(var Rt=0;this._state===Gt&&Rt<pt.length;Rt++)this._eachEntry(pt[Rt],Rt)},ft.prototype._eachEntry=function(pt,Rt){var Pt=this._instanceConstructor,Ht=Pt.resolve;if(Ht===d){var oe=w(pt);if(oe===m&&pt._state!==Gt)this._settledAt(pt._state,Rt,pt._result);else if(typeof oe!="function")this._remaining--,this._result[Rt]=pt;else if(Pt===mt){var Oe=new Pt(S);j(Oe,pt,oe),this._willSettleAt(Oe,Rt)}else this._willSettleAt(new Pt(function(ue){return ue(pt)}),Rt)}else this._willSettleAt(Ht(pt),Rt)},ft.prototype._settledAt=function(pt,Rt,Pt){var Ht=this.promise;Ht._state===Gt&&(this._remaining--,pt===ut?_(Ht,Pt):this._result[Rt]=Pt),this._remaining===0&&x(Ht,this._result)},ft.prototype._willSettleAt=function(pt,Rt){var Pt=this;k(pt,void 0,function(Ht){return Pt._settledAt(U,Rt,Ht)},function(Ht){return Pt._settledAt(ut,Rt,Ht)})},ft}(),mt=function(){function ft(pt){this[me]=bt++,this._result=this._state=void 0,this._subscribers=[],S!==pt&&(typeof pt!="function"&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof ft?function(Rt,Pt){try{Pt(function(Ht){T(Rt,Ht)},function(Ht){_(Rt,Ht)})}catch(Ht){_(Rt,Ht)}}(this,pt):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return ft.prototype.catch=function(pt){return this.then(null,pt)},ft.prototype.finally=function(pt){var Rt=this,Pt=Rt.constructor;return v(pt)?Rt.then(function(Ht){return Pt.resolve(pt()).then(function(){return Ht})},function(Ht){return Pt.resolve(pt()).then(function(){throw Ht})}):Rt.then(pt,pt)},ft}();return mt.prototype.then=m,mt.all=function(ft){return new Dt(this,ft).promise},mt.race=function(ft){var pt=this;return new pt(H(ft)?function(Rt,Pt){for(var Ht=ft.length,oe=0;oe<Ht;oe++)pt.resolve(ft[oe]).then(Rt,Pt)}:function(Rt,Pt){return Pt(new TypeError("You must pass an array to race."))})},mt.resolve=d,mt.reject=function(ft){var pt=new this(S);return _(pt,ft),pt},mt._setScheduler=function(ft){et=ft},mt._setAsap=function(ft){ct=ft},mt._asap=ct,mt.polyfill=function(){var ft=void 0;if(g!==void 0)ft=g;else if(typeof self!="undefined")ft=self;else try{ft=Function("return this")()}catch(Pt){throw new Error("polyfill failed because global object is unavailable in this environment")}var pt=ft.Promise;if(pt){var Rt=null;try{Rt=Object.prototype.toString.call(pt.resolve())}catch(Pt){}if(Rt==="[object Promise]"&&!pt.cast)return}ft.Promise=mt},mt.Promise=mt,mt})}).call(this,C("_process"),typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{_process:3}],2:[function(C,F,o){function c(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function g(l){return typeof l=="function"}function v(l){return typeof l=="object"&&l!==null}function u(l){return l===void 0}F.exports=c,c.EventEmitter=c,c.prototype._events=void 0,c.prototype._maxListeners=void 0,c.defaultMaxListeners=10,c.prototype.setMaxListeners=function(l){if(!function(m){return typeof m=="number"}(l)||l<0||isNaN(l))throw TypeError("n must be a positive number");return this._maxListeners=l,this},c.prototype.emit=function(l){var m,d,S,w,j,T;if(this._events||(this._events={}),l==="error"&&(!this._events.error||v(this._events.error)&&!this._events.error.length)){if((m=arguments[1])instanceof Error)throw m;var b=new Error('Uncaught, unspecified "error" event. ('+m+")");throw b.context=m,b}if(u(d=this._events[l]))return!1;if(g(d))switch(arguments.length){case 1:d.call(this);break;case 2:d.call(this,arguments[1]);break;case 3:d.call(this,arguments[1],arguments[2]);break;default:w=Array.prototype.slice.call(arguments,1),d.apply(this,w)}else if(v(d))for(w=Array.prototype.slice.call(arguments,1),S=(T=d.slice()).length,j=0;j<S;j++)T[j].apply(this,w);return!0},c.prototype.addListener=function(l,m){var d;if(!g(m))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",l,g(m.listener)?m.listener:m),this._events[l]?v(this._events[l])?this._events[l].push(m):this._events[l]=[this._events[l],m]:this._events[l]=m,v(this._events[l])&&!this._events[l].warned&&(d=u(this._maxListeners)?c.defaultMaxListeners:this._maxListeners)&&d>0&&this._events[l].length>d&&(this._events[l].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[l].length),typeof console.trace=="function"&&console.trace()),this},c.prototype.on=c.prototype.addListener,c.prototype.once=function(l,m){function d(){this.removeListener(l,d),S||(S=!0,m.apply(this,arguments))}if(!g(m))throw TypeError("listener must be a function");var S=!1;return d.listener=m,this.on(l,d),this},c.prototype.removeListener=function(l,m){var d,S,w,j;if(!g(m))throw TypeError("listener must be a function");if(!this._events||!this._events[l])return this;if(w=(d=this._events[l]).length,S=-1,d===m||g(d.listener)&&d.listener===m)delete this._events[l],this._events.removeListener&&this.emit("removeListener",l,m);else if(v(d)){for(j=w;j-- >0;)if(d[j]===m||d[j].listener&&d[j].listener===m){S=j;break}if(S<0)return this;d.length===1?(d.length=0,delete this._events[l]):d.splice(S,1),this._events.removeListener&&this.emit("removeListener",l,m)}return this},c.prototype.removeAllListeners=function(l){var m,d;if(!this._events)return this;if(!this._events.removeListener)return arguments.length===0?this._events={}:this._events[l]&&delete this._events[l],this;if(arguments.length===0){for(m in this._events)m!=="removeListener"&&this.removeAllListeners(m);return this.removeAllListeners("removeListener"),this._events={},this}if(g(d=this._events[l]))this.removeListener(l,d);else if(d)for(;d.length;)this.removeListener(l,d[d.length-1]);return delete this._events[l],this},c.prototype.listeners=function(l){return this._events&&this._events[l]?g(this._events[l])?[this._events[l]]:this._events[l].slice():[]},c.prototype.listenerCount=function(l){if(this._events){var m=this._events[l];if(g(m))return 1;if(m)return m.length}return 0},c.listenerCount=function(l,m){return l.listenerCount(m)}},{}],3:[function(C,F,o){function c(){throw new Error("setTimeout has not been defined")}function g(){throw new Error("clearTimeout has not been defined")}function v(k){if(S===setTimeout)return setTimeout(k,0);if((S===c||!S)&&setTimeout)return S=setTimeout,setTimeout(k,0);try{return S(k,0)}catch(O){try{return S.call(null,k,0)}catch(I){return S.call(this,k,0)}}}function u(){x&&T&&(x=!1,T.length?b=T.concat(b):_=-1,b.length&&l())}function l(){if(!x){var k=v(u);x=!0;for(var O=b.length;O;){for(T=b,b=[];++_<O;)T&&T[_].run();_=-1,O=b.length}T=null,x=!1,function(I){if(w===clearTimeout)return clearTimeout(I);if((w===g||!w)&&clearTimeout)return w=clearTimeout,clearTimeout(I);try{w(I)}catch(V){try{return w.call(null,I)}catch(H){return w.call(this,I)}}}(k)}}function m(k,O){this.fun=k,this.array=O}function d(){}var S,w,j=F.exports={};(function(){try{S=typeof setTimeout=="function"?setTimeout:c}catch(k){S=c}try{w=typeof clearTimeout=="function"?clearTimeout:g}catch(k){w=g}})();var T,b=[],x=!1,_=-1;j.nextTick=function(k){var O=new Array(arguments.length-1);if(arguments.length>1)for(var I=1;I<arguments.length;I++)O[I-1]=arguments[I];b.push(new m(k,O)),b.length!==1||x||v(l)},m.prototype.run=function(){this.fun.apply(null,this.array)},j.title="browser",j.browser=!0,j.env={},j.argv=[],j.version="",j.versions={},j.on=d,j.addListener=d,j.once=d,j.off=d,j.removeListener=d,j.removeAllListeners=d,j.emit=d,j.prependListener=d,j.prependOnceListener=d,j.listeners=function(k){return[]},j.binding=function(k){throw new Error("process.binding is not supported")},j.cwd=function(){return"/"},j.chdir=function(k){throw new Error("process.chdir is not supported")},j.umask=function(){return 0}},{}],4:[function(C,F,o){var c=arguments[3],g=arguments[4],v=arguments[5],u=JSON.stringify;F.exports=function(l,m){for(var d,S=Object.keys(v),w=0,j=S.length;w<j;w++){var T=S[w],b=v[T].exports;if(b===l||b&&b.default===l){d=T;break}}if(!d){d=Math.floor(Math.pow(16,8)*Math.random()).toString(16);var x={};for(w=0,j=S.length;w<j;w++)x[T=S[w]]=T;g[d]=["function(require,module,exports){"+l+"(self); }",x]}var _=Math.floor(Math.pow(16,8)*Math.random()).toString(16),k={};k[d]=d,g[_]=["function(require,module,exports){var f = require("+u(d)+");(f.default ? f.default : f)(self);}",k];var O={};(function et(ct){for(var gt in O[ct]=!0,g[ct][1]){var Mt=g[ct][1][gt];O[Mt]||et(Mt)}})(_);var I="("+c+")({"+Object.keys(O).map(function(et){return u(et)+":["+g[et][0]+","+u(g[et][1])+"]"}).join(",")+"},{},["+u(_)+"])",V=window.URL||window.webkitURL||window.mozURL||window.msURL,H=new Blob([I],{type:"text/javascript"});if(m&&m.bare)return H;var G=V.createObjectURL(H),K=new Worker(G);return K.objectURL=G,K}},{}],5:[function(C,F,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.createDefaultConfig=function(){return Object.assign({},c)};var c=o.defaultConfig={enableWorker:!1,enableStashBuffer:!0,stashInitialSize:void 0,isLive:!1,lazyLoad:!0,lazyLoadMaxDuration:180,lazyLoadRecoverDuration:30,deferLoadAfterSourceOpen:!0,autoCleanupMaxBackwardDuration:180,autoCleanupMinBackwardDuration:120,statisticsInfoReportInterval:600,fixAudioTimestampGap:!0,accurateSeek:!1,seekType:"range",seekParamStart:"bstart",seekParamEnd:"bend",rangeLoadZeroStart:!1,customSeekHandler:void 0,reuseRedirectedURL:!1,headers:void 0,customLoader:void 0}},{}],6:[function(C,F,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var c=function(){function l(m,d){for(var S=0;S<d.length;S++){var w=d[S];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(m,w.key,w)}}return function(m,d,S){return d&&l(m.prototype,d),S&&l(m,S),m}}(),g=function(l){return l&&l.__esModule?l:{default:l}}(C("../io/io-controller.js")),v=C("../config.js"),u=function(){function l(){(function(m,d){if(!(m instanceof d))throw new TypeError("Cannot call a class as a function")})(this,l)}return c(l,null,[{key:"supportMSEH264Playback",value:function(){return window.MediaSource&&window.MediaSource.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"')}},{key:"supportNetworkStreamIO",value:function(){var m=new g.default({},(0,v.createDefaultConfig)()),d=m.loaderType;return m.destroy(),d=="fetch-stream-loader"||d=="xhr-moz-chunked-loader"}},{key:"getNetworkLoaderTypeName",value:function(){var m=new g.default({},(0,v.createDefaultConfig)()),d=m.loaderType;return m.destroy(),d}},{key:"supportNativeMediaPlayback",value:function(m){l.videoElement==null&&(l.videoElement=window.document.createElement("video"));var d=l.videoElement.canPlayType(m);return d==="probably"||d=="maybe"}},{key:"getFeatureList",value:function(){var m={mseFlvPlayback:!1,mseLiveFlvPlayback:!1,networkStreamIO:!1,networkLoaderName:"",nativeMP4H264Playback:!1,nativeWebmVP8Playback:!1,nativeWebmVP9Playback:!1};return m.mseFlvPlayback=l.supportMSEH264Playback(),m.networkStreamIO=l.supportNetworkStreamIO(),m.networkLoaderName=l.getNetworkLoaderTypeName(),m.mseLiveFlvPlayback=m.mseFlvPlayback&&m.networkStreamIO,m.nativeMP4H264Playback=l.supportNativeMediaPlayback('video/mp4; codecs="avc1.42001E, mp4a.40.2"'),m.nativeWebmVP8Playback=l.supportNativeMediaPlayback('video/webm; codecs="vp8.0, vorbis"'),m.nativeWebmVP9Playback=l.supportNativeMediaPlayback('video/webm; codecs="vp9"'),m}}]),l}();o.default=u},{"../config.js":5,"../io/io-controller.js":23}],7:[function(C,F,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var c=function(){function v(u,l){for(var m=0;m<l.length;m++){var d=l[m];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(u,d.key,d)}}return function(u,l,m){return l&&v(u.prototype,l),m&&v(u,m),u}}(),g=function(){function v(){(function(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")})(this,v),this.mimeType=null,this.duration=null,this.hasAudio=null,this.hasVideo=null,this.audioCodec=null,this.videoCodec=null,this.audioDataRate=null,this.videoDataRate=null,this.audioSampleRate=null,this.audioChannelCount=null,this.width=null,this.height=null,this.fps=null,this.profile=null,this.level=null,this.refFrames=null,this.chromaFormat=null,this.sarNum=null,this.sarDen=null,this.metadata=null,this.segments=null,this.segmentCount=null,this.hasKeyframesIndex=null,this.keyframesIndex=null}return c(v,[{key:"isComplete",value:function(){var u=this.hasAudio===!1||this.hasAudio===!0&&this.audioCodec!=null&&this.audioSampleRate!=null&&this.audioChannelCount!=null,l=this.hasVideo===!1||this.hasVideo===!0&&this.videoCodec!=null&&this.width!=null&&this.height!=null&&this.fps!=null&&this.profile!=null&&this.level!=null&&this.refFrames!=null&&this.chromaFormat!=null&&this.sarNum!=null&&this.sarDen!=null;return this.mimeType!=null&&this.duration!=null&&this.metadata!=null&&this.hasKeyframesIndex!=null&&u&&l}},{key:"isSeekable",value:function(){return this.hasKeyframesIndex===!0}},{key:"getNearestKeyframe",value:function(u){if(this.keyframesIndex==null)return null;var l=this.keyframesIndex,m=this._search(l.times,u);return{index:m,milliseconds:l.times[m],fileposition:l.filepositions[m]}}},{key:"_search",value:function(u,l){var m=0,d=u.length-1,S=0,w=0,j=d;for(l<u[0]&&(m=0,w=j+1);w<=j;){if((S=w+Math.floor((j-w)/2))===d||l>=u[S]&&l<u[S+1]){m=S;break}u[S]<l?w=S+1:j=S-1}return m}}]),v}();o.default=g},{}],8:[function(C,F,o){"use strict";function c(v,u){if(!(v instanceof u))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(o,"__esModule",{value:!0});var g=function(){function v(u,l){for(var m=0;m<l.length;m++){var d=l[m];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(u,d.key,d)}}return function(u,l,m){return l&&v(u.prototype,l),m&&v(u,m),u}}();o.SampleInfo=function v(u,l,m,d,S){c(this,v),this.dts=u,this.pts=l,this.duration=m,this.originalDts=d,this.isSyncPoint=S,this.fileposition=null},o.MediaSegmentInfo=function(){function v(){c(this,v),this.beginDts=0,this.endDts=0,this.beginPts=0,this.endPts=0,this.originalBeginDts=0,this.originalEndDts=0,this.syncPoints=[],this.firstSample=null,this.lastSample=null}return g(v,[{key:"appendSyncPoint",value:function(u){u.isSyncPoint=!0,this.syncPoints.push(u)}}]),v}(),o.IDRSampleList=function(){function v(){c(this,v),this._list=[]}return g(v,[{key:"clear",value:function(){this._list=[]}},{key:"appendArray",value:function(u){var l=this._list;u.length!==0&&(l.length>0&&u[0].originalDts<l[l.length-1].originalDts&&this.clear(),Array.prototype.push.apply(l,u))}},{key:"getLastSyncPointBeforeDts",value:function(u){if(this._list.length==0)return null;var l=this._list,m=0,d=l.length-1,S=0,w=0,j=d;for(u<l[0].dts&&(m=0,w=j+1);w<=j;){if((S=w+Math.floor((j-w)/2))===d||u>=l[S].dts&&u<l[S+1].dts){m=S;break}l[S].dts<u?w=S+1:j=S-1}return this._list[m]}}]),v}(),o.MediaSegmentInfoList=function(){function v(u){c(this,v),this._type=u,this._list=[],this._lastAppendLocation=-1}return g(v,[{key:"isEmpty",value:function(){return this._list.length===0}},{key:"clear",value:function(){this._list=[],this._lastAppendLocation=-1}},{key:"_searchNearestSegmentBefore",value:function(u){var l=this._list;if(l.length===0)return-2;var m=l.length-1,d=0,S=0,w=m,j=0;if(u<l[0].originalBeginDts)return-1;for(;S<=w;){if((d=S+Math.floor((w-S)/2))===m||u>l[d].lastSample.originalDts&&u<l[d+1].originalBeginDts){j=d;break}l[d].originalBeginDts<u?S=d+1:w=d-1}return j}},{key:"_searchNearestSegmentAfter",value:function(u){return this._searchNearestSegmentBefore(u)+1}},{key:"append",value:function(u){var l=this._list,m=u,d=this._lastAppendLocation,S=0;d!==-1&&d<l.length&&m.originalBeginDts>=l[d].lastSample.originalDts&&(d===l.length-1||d<l.length-1&&m.originalBeginDts<l[d+1].originalBeginDts)?S=d+1:l.length>0&&(S=this._searchNearestSegmentBefore(m.originalBeginDts)+1),this._lastAppendLocation=S,this._list.splice(S,0,m)}},{key:"getLastSegmentBefore",value:function(u){var l=this._searchNearestSegmentBefore(u);return l>=0?this._list[l]:null}},{key:"getLastSampleBefore",value:function(u){var l=this.getLastSegmentBefore(u);return l!=null?l.lastSample:null}},{key:"getLastSyncPointBefore",value:function(u){for(var l=this._searchNearestSegmentBefore(u),m=this._list[l].syncPoints;m.length===0&&l>0;)l--,m=this._list[l].syncPoints;return m.length>0?m[m.length-1]:null}},{key:"type",get:function(){return this._type}},{key:"length",get:function(){return this._list.length}}]),v}()},{}],9:[function(C,F,o){"use strict";function c(j){return j&&j.__esModule?j:{default:j}}Object.defineProperty(o,"__esModule",{value:!0});var g=function(){function j(T,b){for(var x=0;x<b.length;x++){var _=b[x];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(T,_.key,_)}}return function(T,b,x){return b&&j(T.prototype,b),x&&j(T,x),T}}(),v=c(C("events")),u=c(C("../utils/logger.js")),l=c(C("../utils/browser.js")),m=c(C("./mse-events.js")),d=C("./media-segment-info.js"),S=C("../utils/exception.js"),w=function(){function j(T){(function(b,x){if(!(b instanceof x))throw new TypeError("Cannot call a class as a function")})(this,j),this.TAG="MSEController",this._config=T,this._emitter=new v.default,this._config.isLive&&this._config.autoCleanupSourceBuffer==null&&(this._config.autoCleanupSourceBuffer=!0),this.e={onSourceOpen:this._onSourceOpen.bind(this),onSourceEnded:this._onSourceEnded.bind(this),onSourceClose:this._onSourceClose.bind(this),onSourceBufferError:this._onSourceBufferError.bind(this),onSourceBufferUpdateEnd:this._onSourceBufferUpdateEnd.bind(this)},this._mediaSource=null,this._mediaSourceObjectURL=null,this._mediaElement=null,this._isBufferFull=!1,this._hasPendingEos=!1,this._requireSetMediaDuration=!1,this._pendingMediaDuration=0,this._pendingSourceBufferInit=[],this._mimeTypes={video:null,audio:null},this._sourceBuffers={video:null,audio:null},this._lastInitSegments={video:null,audio:null},this._pendingSegments={video:[],audio:[]},this._pendingRemoveRanges={video:[],audio:[]},this._idrList=new d.IDRSampleList}return g(j,[{key:"destroy",value:function(){(this._mediaElement||this._mediaSource)&&this.detachMediaElement(),this.e=null,this._emitter&&this._emitter.removeAllListeners(),this._emitter=null}},{key:"on",value:function(T,b){this._emitter.addListener(T,b)}},{key:"off",value:function(T,b){this._emitter.removeListener(T,b)}},{key:"attachMediaElement",value:function(T){if(this._mediaSource)throw new S.IllegalStateException("MediaSource has been attached to an HTMLMediaElement!");var b=this._mediaSource=new window.MediaSource;b.addEventListener("sourceopen",this.e.onSourceOpen),b.addEventListener("sourceended",this.e.onSourceEnded),b.addEventListener("sourceclose",this.e.onSourceClose),this._mediaElement=T,this._mediaSourceObjectURL=window.URL.createObjectURL(this._mediaSource),T.src=this._mediaSourceObjectURL}},{key:"detachMediaElement",value:function(){if(this._mediaSource){var T=this._mediaSource;for(var b in this._sourceBuffers){var x=this._pendingSegments[b];x.splice(0,x.length),this._pendingSegments[b]=null,this._pendingRemoveRanges[b]=null,this._lastInitSegments[b]=null;var _=this._sourceBuffers[b];if(_){if(T.readyState!=="closed"){try{T.removeSourceBuffer(_)}catch(k){u.default.e(this.TAG,k.message)}_.removeEventListener("error",this.e.onSourceBufferError),_.removeEventListener("updateend",this.e.onSourceBufferUpdateEnd)}this._mimeTypes[b]=null,this._sourceBuffers[b]=null}}if(T.readyState==="open")try{T.endOfStream()}catch(k){u.default.e(this.TAG,k.message)}T.removeEventListener("sourceopen",this.e.onSourceOpen),T.removeEventListener("sourceended",this.e.onSourceEnded),T.removeEventListener("sourceclose",this.e.onSourceClose),this._pendingSourceBufferInit=[],this._isBufferFull=!1,this._idrList.clear(),this._mediaSource=null}this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src"),this._mediaElement=null),this._mediaSourceObjectURL&&(window.URL.revokeObjectURL(this._mediaSourceObjectURL),this._mediaSourceObjectURL=null)}},{key:"appendInitSegment",value:function(T,b){if(!this._mediaSource||this._mediaSource.readyState!=="open")return this._pendingSourceBufferInit.push(T),void this._pendingSegments[T.type].push(T);var x=T,_=""+x.container;x.codec&&x.codec.length>0&&(_+=";codecs="+x.codec);var k=!1;if(u.default.v(this.TAG,"Received Initialization Segment, mimeType: "+_),this._lastInitSegments[x.type]=x,_!==this._mimeTypes[x.type]){if(this._mimeTypes[x.type])u.default.v(this.TAG,"Notice: "+x.type+" mimeType changed, origin: "+this._mimeTypes[x.type]+", target: "+_);else{k=!0;try{var O=this._sourceBuffers[x.type]=this._mediaSource.addSourceBuffer(_);O.addEventListener("error",this.e.onSourceBufferError),O.addEventListener("updateend",this.e.onSourceBufferUpdateEnd)}catch(I){return u.default.e(this.TAG,I.message),void this._emitter.emit(m.default.ERROR,{code:I.code,msg:I.message})}}this._mimeTypes[x.type]=_}b||this._pendingSegments[x.type].push(x),k||this._sourceBuffers[x.type]&&!this._sourceBuffers[x.type].updating&&this._doAppendSegments(),l.default.safari&&x.container==="audio/mpeg"&&x.mediaDuration>0&&(this._requireSetMediaDuration=!0,this._pendingMediaDuration=x.mediaDuration/1e3,this._updateMediaSourceDuration())}},{key:"appendMediaSegment",value:function(T){var b=T;this._pendingSegments[b.type].push(b),this._config.autoCleanupSourceBuffer&&this._needCleanupSourceBuffer()&&this._doCleanupSourceBuffer();var x=this._sourceBuffers[b.type];!x||x.updating||this._hasPendingRemoveRanges()||this._doAppendSegments()}},{key:"seek",value:function(T){for(var b in this._sourceBuffers)if(this._sourceBuffers[b]){var x=this._sourceBuffers[b];if(this._mediaSource.readyState==="open")try{x.abort()}catch(H){u.default.e(this.TAG,H.message)}this._idrList.clear();var _=this._pendingSegments[b];if(_.splice(0,_.length),this._mediaSource.readyState!=="closed"){for(var k=0;k<x.buffered.length;k++){var O=x.buffered.start(k),I=x.buffered.end(k);this._pendingRemoveRanges[b].push({start:O,end:I})}if(x.updating||this._doRemoveRanges(),l.default.safari){var V=this._lastInitSegments[b];V&&(this._pendingSegments[b].push(V),x.updating||this._doAppendSegments())}}}}},{key:"endOfStream",value:function(){var T=this._mediaSource,b=this._sourceBuffers;T&&T.readyState==="open"?b.video&&b.video.updating||b.audio&&b.audio.updating?this._hasPendingEos=!0:(this._hasPendingEos=!1,T.endOfStream()):T&&T.readyState==="closed"&&this._hasPendingSegments()&&(this._hasPendingEos=!0)}},{key:"getNearestKeyframe",value:function(T){return this._idrList.getLastSyncPointBeforeDts(T)}},{key:"_needCleanupSourceBuffer",value:function(){if(!this._config.autoCleanupSourceBuffer)return!1;var T=this._mediaElement.currentTime;for(var b in this._sourceBuffers){var x=this._sourceBuffers[b];if(x){var _=x.buffered;if(_.length>=1&&T-_.start(0)>=this._config.autoCleanupMaxBackwardDuration)return!0}}return!1}},{key:"_doCleanupSourceBuffer",value:function(){var T=this._mediaElement.currentTime;for(var b in this._sourceBuffers){var x=this._sourceBuffers[b];if(x){for(var _=x.buffered,k=!1,O=0;O<_.length;O++){var I=_.start(O),V=_.end(O);if(I<=T&&T<V+3){if(T-I>=this._config.autoCleanupMaxBackwardDuration){k=!0;var H=T-this._config.autoCleanupMinBackwardDuration;this._pendingRemoveRanges[b].push({start:I,end:H})}}else V<T&&(k=!0,this._pendingRemoveRanges[b].push({start:I,end:V}))}k&&!x.updating&&this._doRemoveRanges()}}}},{key:"_updateMediaSourceDuration",value:function(){var T=this._sourceBuffers;if(this._mediaElement.readyState!==0&&this._mediaSource.readyState==="open"&&!(T.video&&T.video.updating||T.audio&&T.audio.updating)){var b=this._mediaSource.duration,x=this._pendingMediaDuration;x>0&&(isNaN(b)||x>b)&&(u.default.v(this.TAG,"Update MediaSource duration from "+b+" to "+x),this._mediaSource.duration=x),this._requireSetMediaDuration=!1,this._pendingMediaDuration=0}}},{key:"_doRemoveRanges",value:function(){for(var T in this._pendingRemoveRanges)if(this._sourceBuffers[T]&&!this._sourceBuffers[T].updating)for(var b=this._sourceBuffers[T],x=this._pendingRemoveRanges[T];x.length&&!b.updating;){var _=x.shift();b.remove(_.start,_.end)}}},{key:"_doAppendSegments",value:function(){var T=this._pendingSegments;for(var b in T)if(this._sourceBuffers[b]&&!this._sourceBuffers[b].updating&&T[b].length>0){var x=T[b].shift();if(x.timestampOffset){var _=this._sourceBuffers[b].timestampOffset,k=x.timestampOffset/1e3;Math.abs(_-k)>.1&&(u.default.v(this.TAG,"Update MPEG audio timestampOffset from "+_+" to "+k),this._sourceBuffers[b].timestampOffset=k),delete x.timestampOffset}if(!x.data||x.data.byteLength===0)continue;try{this._sourceBuffers[b].appendBuffer(x.data),this._isBufferFull=!1,b==="video"&&x.hasOwnProperty("info")&&this._idrList.appendArray(x.info.syncPoints)}catch(O){this._pendingSegments[b].unshift(x),O.code===22?(this._isBufferFull||this._emitter.emit(m.default.BUFFER_FULL),this._isBufferFull=!0):(u.default.e(this.TAG,O.message),this._emitter.emit(m.default.ERROR,{code:O.code,msg:O.message}))}}}},{key:"_onSourceOpen",value:function(){if(u.default.v(this.TAG,"MediaSource onSourceOpen"),this._mediaSource.removeEventListener("sourceopen",this.e.onSourceOpen),this._pendingSourceBufferInit.length>0)for(var T=this._pendingSourceBufferInit;T.length;){var b=T.shift();this.appendInitSegment(b,!0)}this._hasPendingSegments()&&this._doAppendSegments(),this._emitter.emit(m.default.SOURCE_OPEN)}},{key:"_onSourceEnded",value:function(){u.default.v(this.TAG,"MediaSource onSourceEnded")}},{key:"_onSourceClose",value:function(){u.default.v(this.TAG,"MediaSource onSourceClose"),this._mediaSource&&this.e!=null&&(this._mediaSource.removeEventListener("sourceopen",this.e.onSourceOpen),this._mediaSource.removeEventListener("sourceended",this.e.onSourceEnded),this._mediaSource.removeEventListener("sourceclose",this.e.onSourceClose))}},{key:"_hasPendingSegments",value:function(){var T=this._pendingSegments;return T.video.length>0||T.audio.length>0}},{key:"_hasPendingRemoveRanges",value:function(){var T=this._pendingRemoveRanges;return T.video.length>0||T.audio.length>0}},{key:"_onSourceBufferUpdateEnd",value:function(){this._requireSetMediaDuration?this._updateMediaSourceDuration():this._hasPendingRemoveRanges()?this._doRemoveRanges():this._hasPendingSegments()?this._doAppendSegments():this._hasPendingEos&&this.endOfStream(),this._emitter.emit(m.default.UPDATE_END)}},{key:"_onSourceBufferError",value:function(T){u.default.e(this.TAG,"SourceBuffer Error: "+T)}}]),j}();o.default=w},{"../utils/browser.js":39,"../utils/exception.js":40,"../utils/logger.js":41,"./media-segment-info.js":8,"./mse-events.js":10,events:2}],10:[function(C,F,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default={ERROR:"error",SOURCE_OPEN:"source_open",UPDATE_END:"update_end",BUFFER_FULL:"buffer_full"}},{}],11:[function(C,F,o){"use strict";function c(T){return T&&T.__esModule?T:{default:T}}Object.defineProperty(o,"__esModule",{value:!0});var g=function(){function T(b,x){for(var _=0;_<x.length;_++){var k=x[_];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(b,k.key,k)}}return function(b,x,_){return x&&T(b.prototype,x),_&&T(b,_),b}}(),v=c(C("events")),u=c(C("../utils/logger.js")),l=c(C("../utils/logging-control.js")),m=c(C("./transmuxing-controller.js")),d=c(C("./transmuxing-events.js")),S=c(C("./transmuxing-worker.js")),w=c(C("./media-info.js")),j=function(){function T(b,x){if(function(O,I){if(!(O instanceof I))throw new TypeError("Cannot call a class as a function")}(this,T),this.TAG="Transmuxer",this._emitter=new v.default,x.enableWorker&&typeof Worker!="undefined")try{var _=C("webworkify");this._worker=_(S.default),this._workerDestroying=!1,this._worker.addEventListener("message",this._onWorkerMessage.bind(this)),this._worker.postMessage({cmd:"init",param:[b,x]}),this.e={onLoggingConfigChanged:this._onLoggingConfigChanged.bind(this)},l.default.registerListener(this.e.onLoggingConfigChanged),this._worker.postMessage({cmd:"logging_config",param:l.default.getConfig()})}catch(O){u.default.e(this.TAG,"Error while initialize transmuxing worker, fallback to inline transmuxing"),this._worker=null,this._controller=new m.default(b,x)}else this._controller=new m.default(b,x);if(this._controller){var k=this._controller;k.on(d.default.IO_ERROR,this._onIOError.bind(this)),k.on(d.default.DEMUX_ERROR,this._onDemuxError.bind(this)),k.on(d.default.INIT_SEGMENT,this._onInitSegment.bind(this)),k.on(d.default.MEDIA_SEGMENT,this._onMediaSegment.bind(this)),k.on(d.default.LOADING_COMPLETE,this._onLoadingComplete.bind(this)),k.on(d.default.RECOVERED_EARLY_EOF,this._onRecoveredEarlyEof.bind(this)),k.on(d.default.MEDIA_INFO,this._onMediaInfo.bind(this)),k.on(d.default.METADATA_ARRIVED,this._onMetaDataArrived.bind(this)),k.on(d.default.SCRIPTDATA_ARRIVED,this._onScriptDataArrived.bind(this)),k.on(d.default.STATISTICS_INFO,this._onStatisticsInfo.bind(this)),k.on(d.default.RECOMMEND_SEEKPOINT,this._onRecommendSeekpoint.bind(this))}}return g(T,[{key:"destroy",value:function(){this._worker?this._workerDestroying||(this._workerDestroying=!0,this._worker.postMessage({cmd:"destroy"}),l.default.removeListener(this.e.onLoggingConfigChanged),this.e=null):(this._controller.destroy(),this._controller=null),this._emitter&&this._emitter.removeAllListeners(),this._emitter=null}},{key:"on",value:function(b,x){this._emitter.addListener(b,x)}},{key:"off",value:function(b,x){this._emitter.removeListener(b,x)}},{key:"hasWorker",value:function(){return this._worker!=null}},{key:"open",value:function(){this._worker?this._worker.postMessage({cmd:"start"}):this._controller.start()}},{key:"close",value:function(){this._worker?this._worker.postMessage({cmd:"stop"}):this._controller.stop()}},{key:"seek",value:function(b){this._worker?this._worker.postMessage({cmd:"seek",param:b}):this._controller.seek(b)}},{key:"pause",value:function(){this._worker?this._worker.postMessage({cmd:"pause"}):this._controller.pause()}},{key:"resume",value:function(){this._worker?this._worker.postMessage({cmd:"resume"}):this._controller.resume()}},{key:"_onInitSegment",value:function(b,x){var _=this;Promise.resolve().then(function(){_._emitter.emit(d.default.INIT_SEGMENT,b,x)}).catch(function(){})}},{key:"_onMediaSegment",value:function(b,x){var _=this;Promise.resolve().then(function(){_._emitter.emit(d.default.MEDIA_SEGMENT,b,x)}).catch(function(){})}},{key:"_onLoadingComplete",value:function(){var b=this;Promise.resolve().then(function(){b._emitter.emit(d.default.LOADING_COMPLETE)}).catch(function(){})}},{key:"_onRecoveredEarlyEof",value:function(){var b=this;Promise.resolve().then(function(){b._emitter.emit(d.default.RECOVERED_EARLY_EOF)}).catch(function(){})}},{key:"_onMediaInfo",value:function(b){var x=this;Promise.resolve().then(function(){x._emitter.emit(d.default.MEDIA_INFO,b)}).catch(function(){})}},{key:"_onMetaDataArrived",value:function(b){var x=this;Promise.resolve().then(function(){x._emitter.emit(d.default.METADATA_ARRIVED,b)}).catch(function(){})}},{key:"_onScriptDataArrived",value:function(b){var x=this;Promise.resolve().then(function(){x._emitter.emit(d.default.SCRIPTDATA_ARRIVED,b)}).catch(function(){})}},{key:"_onStatisticsInfo",value:function(b){var x=this;Promise.resolve().then(function(){x._emitter.emit(d.default.STATISTICS_INFO,b)}).catch(function(){})}},{key:"_onIOError",value:function(b,x){var _=this;Promise.resolve().then(function(){_._emitter.emit(d.default.IO_ERROR,b,x)}).catch(function(){})}},{key:"_onDemuxError",value:function(b,x){var _=this;Promise.resolve().then(function(){_._emitter.emit(d.default.DEMUX_ERROR,b,x)}).catch(function(){})}},{key:"_onRecommendSeekpoint",value:function(b){var x=this;Promise.resolve().then(function(){x._emitter.emit(d.default.RECOMMEND_SEEKPOINT,b)}).catch(function(){})}},{key:"_onLoggingConfigChanged",value:function(b){this._worker&&this._worker.postMessage({cmd:"logging_config",param:b})}},{key:"_onWorkerMessage",value:function(b){var x=b.data,_=x.data;if(x.msg==="destroyed"||this._workerDestroying)return this._workerDestroying=!1,this._worker.terminate(),void(this._worker=null);switch(x.msg){case d.default.INIT_SEGMENT:case d.default.MEDIA_SEGMENT:this._emitter.emit(x.msg,_.type,_.data);break;case d.default.LOADING_COMPLETE:case d.default.RECOVERED_EARLY_EOF:this._emitter.emit(x.msg);break;case d.default.MEDIA_INFO:Object.setPrototypeOf(_,w.default.prototype),this._emitter.emit(x.msg,_);break;case d.default.METADATA_ARRIVED:case d.default.SCRIPTDATA_ARRIVED:case d.default.STATISTICS_INFO:this._emitter.emit(x.msg,_);break;case d.default.IO_ERROR:case d.default.DEMUX_ERROR:this._emitter.emit(x.msg,_.type,_.info);break;case d.default.RECOMMEND_SEEKPOINT:this._emitter.emit(x.msg,_);break;case"logcat_callback":u.default.emitter.emit("log",_.type,_.logcat)}}}]),T}();o.default=j},{"../utils/logger.js":41,"../utils/logging-control.js":42,"./media-info.js":7,"./transmuxing-controller.js":12,"./transmuxing-events.js":13,"./transmuxing-worker.js":14,events:2,webworkify:4}],12:[function(C,F,o){"use strict";function c(x){return x&&x.__esModule?x:{default:x}}Object.defineProperty(o,"__esModule",{value:!0});var g=function(){function x(_,k){for(var O=0;O<k.length;O++){var I=k[O];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(_,I.key,I)}}return function(_,k,O){return k&&x(_.prototype,k),O&&x(_,O),_}}(),v=c(C("events")),u=c(C("../utils/logger.js")),l=c(C("../utils/browser.js")),m=c(C("./media-info.js")),d=c(C("../demux/flv-demuxer.js")),S=c(C("../remux/mp4-remuxer.js")),w=c(C("../demux/demux-errors.js")),j=c(C("../io/io-controller.js")),T=c(C("./transmuxing-events.js")),b=(C("../io/loader.js"),function(){function x(_,k){(function(I,V){if(!(I instanceof V))throw new TypeError("Cannot call a class as a function")})(this,x),this.TAG="TransmuxingController",this._emitter=new v.default,this._config=k,_.segments||(_.segments=[{duration:_.duration,filesize:_.filesize,url:_.url}]),typeof _.cors!="boolean"&&(_.cors=!0),typeof _.withCredentials!="boolean"&&(_.withCredentials=!1),this._mediaDataSource=_,this._currentSegmentIndex=0;var O=0;this._mediaDataSource.segments.forEach(function(I){I.timestampBase=O,O+=I.duration,I.cors=_.cors,I.withCredentials=_.withCredentials,k.referrerPolicy&&(I.referrerPolicy=k.referrerPolicy)}),isNaN(O)||this._mediaDataSource.duration===O||(this._mediaDataSource.duration=O),this._mediaInfo=null,this._demuxer=null,this._remuxer=null,this._ioctl=null,this._pendingSeekTime=null,this._pendingResolveSeekPoint=null,this._statisticsReporter=null}return g(x,[{key:"destroy",value:function(){this._mediaInfo=null,this._mediaDataSource=null,this._statisticsReporter&&this._disableStatisticsReporter(),this._ioctl&&(this._ioctl.destroy(),this._ioctl=null),this._demuxer&&(this._demuxer.destroy(),this._demuxer=null),this._remuxer&&(this._remuxer.destroy(),this._remuxer=null),this._emitter&&this._emitter.removeAllListeners(),this._emitter=null}},{key:"on",value:function(_,k){this._emitter.addListener(_,k)}},{key:"off",value:function(_,k){this._emitter.removeListener(_,k)}},{key:"start",value:function(){this._loadSegment(0),this._enableStatisticsReporter()}},{key:"_loadSegment",value:function(_,k){this._currentSegmentIndex=_;var O=this._mediaDataSource.segments[_],I=this._ioctl=new j.default(O,this._config,_);I.onError=this._onIOException.bind(this),I.onSeeked=this._onIOSeeked.bind(this),I.onComplete=this._onIOComplete.bind(this),I.onRedirect=this._onIORedirect.bind(this),I.onRecoveredEarlyEof=this._onIORecoveredEarlyEof.bind(this),k?this._demuxer.bindDataSource(this._ioctl):I.onDataArrival=this._onInitChunkArrival.bind(this),I.open(k)}},{key:"stop",value:function(){this._internalAbort(),this._disableStatisticsReporter()}},{key:"_internalAbort",value:function(){this._ioctl&&(this._ioctl.destroy(),this._ioctl=null)}},{key:"pause",value:function(){this._ioctl&&this._ioctl.isWorking()&&(this._ioctl.pause(),this._disableStatisticsReporter())}},{key:"resume",value:function(){this._ioctl&&this._ioctl.isPaused()&&(this._ioctl.resume(),this._enableStatisticsReporter())}},{key:"seek",value:function(_){if(this._mediaInfo!=null&&this._mediaInfo.isSeekable()){var k=this._searchSegmentIndexContains(_);if(k===this._currentSegmentIndex){var O=this._mediaInfo.segments[k];if(O==null)this._pendingSeekTime=_;else{var I=O.getNearestKeyframe(_);this._remuxer.seek(I.milliseconds),this._ioctl.seek(I.fileposition),this._pendingResolveSeekPoint=I.milliseconds}}else{var V=this._mediaInfo.segments[k];if(V==null)this._pendingSeekTime=_,this._internalAbort(),this._remuxer.seek(),this._remuxer.insertDiscontinuity(),this._loadSegment(k);else{var H=V.getNearestKeyframe(_);this._internalAbort(),this._remuxer.seek(_),this._remuxer.insertDiscontinuity(),this._demuxer.resetMediaInfo(),this._demuxer.timestampBase=this._mediaDataSource.segments[k].timestampBase,this._loadSegment(k,H.fileposition),this._pendingResolveSeekPoint=H.milliseconds,this._reportSegmentMediaInfo(k)}}this._enableStatisticsReporter()}}},{key:"_searchSegmentIndexContains",value:function(_){for(var k=this._mediaDataSource.segments,O=k.length-1,I=0;I<k.length;I++)if(_<k[I].timestampBase){O=I-1;break}return O}},{key:"_onInitChunkArrival",value:function(_,k){var O=this,I=null,V=0;if(k>0)this._demuxer.bindDataSource(this._ioctl),this._demuxer.timestampBase=this._mediaDataSource.segments[this._currentSegmentIndex].timestampBase,V=this._demuxer.parseChunks(_,k);else if((I=d.default.probe(_)).match){this._demuxer=new d.default(I,this._config),this._remuxer||(this._remuxer=new S.default(this._config));var H=this._mediaDataSource;H.duration==null||isNaN(H.duration)||(this._demuxer.overridedDuration=H.duration),typeof H.hasAudio=="boolean"&&(this._demuxer.overridedHasAudio=H.hasAudio),typeof H.hasVideo=="boolean"&&(this._demuxer.overridedHasVideo=H.hasVideo),this._demuxer.timestampBase=H.segments[this._currentSegmentIndex].timestampBase,this._demuxer.onError=this._onDemuxException.bind(this),this._demuxer.onMediaInfo=this._onMediaInfo.bind(this),this._demuxer.onMetaDataArrived=this._onMetaDataArrived.bind(this),this._demuxer.onScriptDataArrived=this._onScriptDataArrived.bind(this),this._remuxer.bindDataSource(this._demuxer.bindDataSource(this._ioctl)),this._remuxer.onInitSegment=this._onRemuxerInitSegmentArrival.bind(this),this._remuxer.onMediaSegment=this._onRemuxerMediaSegmentArrival.bind(this),V=this._demuxer.parseChunks(_,k)}else I=null,u.default.e(this.TAG,"Non-FLV, Unsupported media type!"),Promise.resolve().then(function(){O._internalAbort()}),this._emitter.emit(T.default.DEMUX_ERROR,w.default.FORMAT_UNSUPPORTED,"Non-FLV, Unsupported media type"),V=0;return V}},{key:"_onMediaInfo",value:function(_){var k=this;this._mediaInfo==null&&(this._mediaInfo=Object.assign({},_),this._mediaInfo.keyframesIndex=null,this._mediaInfo.segments=[],this._mediaInfo.segmentCount=this._mediaDataSource.segments.length,Object.setPrototypeOf(this._mediaInfo,m.default.prototype));var O=Object.assign({},_);Object.setPrototypeOf(O,m.default.prototype),this._mediaInfo.segments[this._currentSegmentIndex]=O,this._reportSegmentMediaInfo(this._currentSegmentIndex),this._pendingSeekTime!=null&&Promise.resolve().then(function(){var I=k._pendingSeekTime;k._pendingSeekTime=null,k.seek(I)})}},{key:"_onMetaDataArrived",value:function(_){this._emitter.emit(T.default.METADATA_ARRIVED,_)}},{key:"_onScriptDataArrived",value:function(_){this._emitter.emit(T.default.SCRIPTDATA_ARRIVED,_)}},{key:"_onIOSeeked",value:function(){this._remuxer.insertDiscontinuity()}},{key:"_onIOComplete",value:function(_){var k=_+1;k<this._mediaDataSource.segments.length?(this._internalAbort(),this._remuxer&&this._remuxer.flushStashedSamples(),this._loadSegment(k)):(this._remuxer&&this._remuxer.flushStashedSamples(),this._emitter.emit(T.default.LOADING_COMPLETE),this._disableStatisticsReporter())}},{key:"_onIORedirect",value:function(_){var k=this._ioctl.extraData;this._mediaDataSource.segments[k].redirectedURL=_}},{key:"_onIORecoveredEarlyEof",value:function(){this._emitter.emit(T.default.RECOVERED_EARLY_EOF)}},{key:"_onIOException",value:function(_,k){u.default.e(this.TAG,"IOException: type = "+_+", code = "+k.code+", msg = "+k.msg),this._emitter.emit(T.default.IO_ERROR,_,k),this._disableStatisticsReporter()}},{key:"_onDemuxException",value:function(_,k){u.default.e(this.TAG,"DemuxException: type = "+_+", info = "+k),this._emitter.emit(T.default.DEMUX_ERROR,_,k)}},{key:"_onRemuxerInitSegmentArrival",value:function(_,k){this._emitter.emit(T.default.INIT_SEGMENT,_,k)}},{key:"_onRemuxerMediaSegmentArrival",value:function(_,k){if(this._pendingSeekTime==null&&(this._emitter.emit(T.default.MEDIA_SEGMENT,_,k),this._pendingResolveSeekPoint!=null&&_==="video")){var O=k.info.syncPoints,I=this._pendingResolveSeekPoint;this._pendingResolveSeekPoint=null,l.default.safari&&O.length>0&&O[0].originalDts===I&&(I=O[0].pts),this._emitter.emit(T.default.RECOMMEND_SEEKPOINT,I)}}},{key:"_enableStatisticsReporter",value:function(){this._statisticsReporter==null&&(this._statisticsReporter=self.setInterval(this._reportStatisticsInfo.bind(this),this._config.statisticsInfoReportInterval))}},{key:"_disableStatisticsReporter",value:function(){this._statisticsReporter&&(self.clearInterval(this._statisticsReporter),this._statisticsReporter=null)}},{key:"_reportSegmentMediaInfo",value:function(_){var k=this._mediaInfo.segments[_],O=Object.assign({},k);O.duration=this._mediaInfo.duration,O.segmentCount=this._mediaInfo.segmentCount,delete O.segments,delete O.keyframesIndex,this._emitter.emit(T.default.MEDIA_INFO,O)}},{key:"_reportStatisticsInfo",value:function(){var _={};_.url=this._ioctl.currentURL,_.hasRedirect=this._ioctl.hasRedirect,_.hasRedirect&&(_.redirectedURL=this._ioctl.currentRedirectedURL),_.speed=this._ioctl.currentSpeed,_.loaderType=this._ioctl.loaderType,_.currentSegmentIndex=this._currentSegmentIndex,_.totalSegmentCount=this._mediaDataSource.segments.length,this._emitter.emit(T.default.STATISTICS_INFO,_)}}]),x}());o.default=b},{"../demux/demux-errors.js":16,"../demux/flv-demuxer.js":18,"../io/io-controller.js":23,"../io/loader.js":24,"../remux/mp4-remuxer.js":38,"../utils/browser.js":39,"../utils/logger.js":41,"./media-info.js":7,"./transmuxing-events.js":13,events:2}],13:[function(C,F,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default={IO_ERROR:"io_error",DEMUX_ERROR:"demux_error",INIT_SEGMENT:"init_segment",MEDIA_SEGMENT:"media_segment",LOADING_COMPLETE:"loading_complete",RECOVERED_EARLY_EOF:"recovered_early_eof",MEDIA_INFO:"media_info",METADATA_ARRIVED:"metadata_arrived",SCRIPTDATA_ARRIVED:"scriptdata_arrived",STATISTICS_INFO:"statistics_info",RECOMMEND_SEEKPOINT:"recommend_seekpoint"}},{}],14:[function(C,F,o){"use strict";function c(d){return d&&d.__esModule?d:{default:d}}Object.defineProperty(o,"__esModule",{value:!0});var g=(c(C("../utils/logger.js")),C("../utils/logging-control.js")),v=c(g),u=c(C("../utils/polyfill.js")),l=c(C("./transmuxing-controller.js")),m=c(C("./transmuxing-events.js"));o.default=function(d){function S(K,et){var ct={msg:m.default.INIT_SEGMENT,data:{type:K,data:et}};d.postMessage(ct,[et.data])}function w(K,et){var ct={msg:m.default.MEDIA_SEGMENT,data:{type:K,data:et}};d.postMessage(ct,[et.data])}function j(){var K={msg:m.default.LOADING_COMPLETE};d.postMessage(K)}function T(){var K={msg:m.default.RECOVERED_EARLY_EOF};d.postMessage(K)}function b(K){var et={msg:m.default.MEDIA_INFO,data:K};d.postMessage(et)}function x(K){var et={msg:m.default.METADATA_ARRIVED,data:K};d.postMessage(et)}function _(K){var et={msg:m.default.SCRIPTDATA_ARRIVED,data:K};d.postMessage(et)}function k(K){var et={msg:m.default.STATISTICS_INFO,data:K};d.postMessage(et)}function O(K,et){d.postMessage({msg:m.default.IO_ERROR,data:{type:K,info:et}})}function I(K,et){d.postMessage({msg:m.default.DEMUX_ERROR,data:{type:K,info:et}})}function V(K){d.postMessage({msg:m.default.RECOMMEND_SEEKPOINT,data:K})}var H=null,G=function(K,et){d.postMessage({msg:"logcat_callback",data:{type:K,logcat:et}})}.bind(this);u.default.install(),d.addEventListener("message",function(K){switch(K.data.cmd){case"init":(H=new l.default(K.data.param[0],K.data.param[1])).on(m.default.IO_ERROR,O.bind(this)),H.on(m.default.DEMUX_ERROR,I.bind(this)),H.on(m.default.INIT_SEGMENT,S.bind(this)),H.on(m.default.MEDIA_SEGMENT,w.bind(this)),H.on(m.default.LOADING_COMPLETE,j.bind(this)),H.on(m.default.RECOVERED_EARLY_EOF,T.bind(this)),H.on(m.default.MEDIA_INFO,b.bind(this)),H.on(m.default.METADATA_ARRIVED,x.bind(this)),H.on(m.default.SCRIPTDATA_ARRIVED,_.bind(this)),H.on(m.default.STATISTICS_INFO,k.bind(this)),H.on(m.default.RECOMMEND_SEEKPOINT,V.bind(this));break;case"destroy":H&&(H.destroy(),H=null),d.postMessage({msg:"destroyed"});break;case"start":H.start();break;case"stop":H.stop();break;case"seek":H.seek(K.data.param);break;case"pause":H.pause();break;case"resume":H.resume();break;case"logging_config":var et=K.data.param;v.default.applyConfig(et),et.enableCallback===!0?v.default.addLogListener(G):v.default.removeLogListener(G)}})}},{"../utils/logger.js":41,"../utils/logging-control.js":42,"../utils/polyfill.js":43,"./transmuxing-controller.js":12,"./transmuxing-events.js":13}],15:[function(C,F,o){"use strict";function c(S){return S&&S.__esModule?S:{default:S}}Object.defineProperty(o,"__esModule",{value:!0});var g=function(){function S(w,j){for(var T=0;T<j.length;T++){var b=j[T];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(w,b.key,b)}}return function(w,j,T){return j&&S(w.prototype,j),T&&S(w,T),w}}(),v=c(C("../utils/logger.js")),u=c(C("../utils/utf8-conv.js")),l=C("../utils/exception.js"),m=function(){var S=new ArrayBuffer(2);return new DataView(S).setInt16(0,256,!0),new Int16Array(S)[0]===256}(),d=function(){function S(){(function(w,j){if(!(w instanceof j))throw new TypeError("Cannot call a class as a function")})(this,S)}return g(S,null,[{key:"parseScriptData",value:function(w,j,T){var b={};try{var x=S.parseValue(w,j,T),_=S.parseValue(w,j+x.size,T-x.size);b[x.data]=_.data}catch(k){}return b}},{key:"parseObject",value:function(w,j,T){if(T<3)throw new l.IllegalStateException("Data not enough when parse ScriptDataObject");var b=S.parseString(w,j,T),x=S.parseValue(w,j+b.size,T-b.size),_=x.objectEnd;return{data:{name:b.data,value:x.data},size:b.size+x.size,objectEnd:_}}},{key:"parseVariable",value:function(w,j,T){return S.parseObject(w,j,T)}},{key:"parseString",value:function(w,j,T){if(T<2)throw new l.IllegalStateException("Data not enough when parse String");var b=new DataView(w,j,T).getUint16(0,!m);return{data:b>0?(0,u.default)(new Uint8Array(w,j+2,b)):"",size:2+b}}},{key:"parseLongString",value:function(w,j,T){if(T<4)throw new l.IllegalStateException("Data not enough when parse LongString");var b=new DataView(w,j,T).getUint32(0,!m);return{data:b>0?(0,u.default)(new Uint8Array(w,j+4,b)):"",size:4+b}}},{key:"parseDate",value:function(w,j,T){if(T<10)throw new l.IllegalStateException("Data size invalid when parse Date");var b=new DataView(w,j,T),x=b.getFloat64(0,!m);return x+=60*b.getInt16(8,!m)*1e3,{data:new Date(x),size:10}}},{key:"parseValue",value:function(w,j,T){if(T<1)throw new l.IllegalStateException("Data not enough when parse Value");var b=new DataView(w,j,T),x=1,_=b.getUint8(0),k=void 0,O=!1;try{switch(_){case 0:k=b.getFloat64(1,!m),x+=8;break;case 1:k=!!b.getUint8(1),x+=1;break;case 2:var I=S.parseString(w,j+1,T-1);k=I.data,x+=I.size;break;case 3:k={};var V=0;for((16777215&b.getUint32(T-4,!m))==9&&(V=3);x<T-4;){var H=S.parseObject(w,j+x,T-x-V);if(H.objectEnd)break;k[H.data.name]=H.data.value,x+=H.size}x<=T-3&&(16777215&b.getUint32(x-1,!m))==9&&(x+=3);break;case 8:k={},x+=4;var G=0;for((16777215&b.getUint32(T-4,!m))==9&&(G=3);x<T-8;){var K=S.parseVariable(w,j+x,T-x-G);if(K.objectEnd)break;k[K.data.name]=K.data.value,x+=K.size}x<=T-3&&(16777215&b.getUint32(x-1,!m))==9&&(x+=3);break;case 9:k=void 0,x=1,O=!0;break;case 10:k=[];var et=b.getUint32(1,!m);x+=4;for(var ct=0;ct<et;ct++){var gt=S.parseValue(w,j+x,T-x);k.push(gt.data),x+=gt.size}break;case 11:var Mt=S.parseDate(w,j+1,T-1);k=Mt.data,x+=Mt.size;break;case 12:var Ut=S.parseString(w,j+1,T-1);k=Ut.data,x+=Ut.size;break;default:x=T,v.default.w("AMF","Unsupported AMF value type "+_)}}catch(ee){v.default.e("AMF",ee.toString())}return{data:k,size:x,objectEnd:O}}}]),S}();o.default=d},{"../utils/exception.js":40,"../utils/logger.js":41,"../utils/utf8-conv.js":44}],16:[function(C,F,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default={OK:"OK",FORMAT_ERROR:"FormatError",FORMAT_UNSUPPORTED:"FormatUnsupported",CODEC_UNSUPPORTED:"CodecUnsupported"}},{}],17:[function(C,F,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var c=function(){function u(l,m){for(var d=0;d<m.length;d++){var S=m[d];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(l,S.key,S)}}return function(l,m,d){return m&&u(l.prototype,m),d&&u(l,d),l}}(),g=C("../utils/exception.js"),v=function(){function u(l){(function(m,d){if(!(m instanceof d))throw new TypeError("Cannot call a class as a function")})(this,u),this.TAG="ExpGolomb",this._buffer=l,this._buffer_index=0,this._total_bytes=l.byteLength,this._total_bits=8*l.byteLength,this._current_word=0,this._current_word_bits_left=0}return c(u,[{key:"destroy",value:function(){this._buffer=null}},{key:"_fillCurrentWord",value:function(){var l=this._total_bytes-this._buffer_index;if(l<=0)throw new g.IllegalStateException("ExpGolomb: _fillCurrentWord() but no bytes available");var m=Math.min(4,l),d=new Uint8Array(4);d.set(this._buffer.subarray(this._buffer_index,this._buffer_index+m)),this._current_word=new DataView(d.buffer).getUint32(0,!1),this._buffer_index+=m,this._current_word_bits_left=8*m}},{key:"readBits",value:function(l){if(l>32)throw new g.InvalidArgumentException("ExpGolomb: readBits() bits exceeded max 32bits!");if(l<=this._current_word_bits_left){var m=this._current_word>>>32-l;return this._current_word<<=l,this._current_word_bits_left-=l,m}var d=this._current_word_bits_left?this._current_word:0;d>>>=32-this._current_word_bits_left;var S=l-this._current_word_bits_left;this._fillCurrentWord();var w=Math.min(S,this._current_word_bits_left),j=this._current_word>>>32-w;return this._current_word<<=w,this._current_word_bits_left-=w,d<<w|j}},{key:"readBool",value:function(){return this.readBits(1)===1}},{key:"readByte",value:function(){return this.readBits(8)}},{key:"_skipLeadingZero",value:function(){var l=void 0;for(l=0;l<this._current_word_bits_left;l++)if((this._current_word&2147483648>>>l)!=0)return this._current_word<<=l,this._current_word_bits_left-=l,l;return this._fillCurrentWord(),l+this._skipLeadingZero()}},{key:"readUEG",value:function(){var l=this._skipLeadingZero();return this.readBits(l+1)-1}},{key:"readSEG",value:function(){var l=this.readUEG();return 1&l?l+1>>>1:-1*(l>>>1)}}]),u}();o.default=v},{"../utils/exception.js":40}],18:[function(C,F,o){"use strict";function c(T){return T&&T.__esModule?T:{default:T}}Object.defineProperty(o,"__esModule",{value:!0});var g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T},v=function(){function T(b,x){for(var _=0;_<x.length;_++){var k=x[_];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(b,k.key,k)}}return function(b,x,_){return x&&T(b.prototype,x),_&&T(b,_),b}}(),u=c(C("../utils/logger.js")),l=c(C("./amf-parser.js")),m=c(C("./sps-parser.js")),d=c(C("./demux-errors.js")),S=c(C("../core/media-info.js")),w=C("../utils/exception.js"),j=function(){function T(b,x){(function(_,k){if(!(_ instanceof k))throw new TypeError("Cannot call a class as a function")})(this,T),this.TAG="FLVDemuxer",this._config=x,this._onError=null,this._onMediaInfo=null,this._onMetaDataArrived=null,this._onScriptDataArrived=null,this._onTrackMetadata=null,this._onDataAvailable=null,this._dataOffset=b.dataOffset,this._firstParse=!0,this._dispatch=!1,this._hasAudio=b.hasAudioTrack,this._hasVideo=b.hasVideoTrack,this._hasAudioFlagOverrided=!1,this._hasVideoFlagOverrided=!1,this._audioInitialMetadataDispatched=!1,this._videoInitialMetadataDispatched=!1,this._mediaInfo=new S.default,this._mediaInfo.hasAudio=this._hasAudio,this._mediaInfo.hasVideo=this._hasVideo,this._metadata=null,this._audioMetadata=null,this._videoMetadata=null,this._naluLengthSize=4,this._timestampBase=0,this._timescale=1e3,this._duration=0,this._durationOverrided=!1,this._referenceFrameRate={fixed:!0,fps:23.976,fps_num:23976,fps_den:1e3},this._flvSoundRateTable=[5500,11025,22050,44100,48e3],this._mpegSamplingRates=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],this._mpegAudioV10SampleRateTable=[44100,48e3,32e3,0],this._mpegAudioV20SampleRateTable=[22050,24e3,16e3,0],this._mpegAudioV25SampleRateTable=[11025,12e3,8e3,0],this._mpegAudioL1BitRateTable=[0,32,64,96,128,160,192,224,256,288,320,352,384,416,448,-1],this._mpegAudioL2BitRateTable=[0,32,48,56,64,80,96,112,128,160,192,224,256,320,384,-1],this._mpegAudioL3BitRateTable=[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320,-1],this._videoTrack={type:"video",id:1,sequenceNumber:0,samples:[],length:0},this._audioTrack={type:"audio",id:2,sequenceNumber:0,samples:[],length:0},this._littleEndian=function(){var _=new ArrayBuffer(2);return new DataView(_).setInt16(0,256,!0),new Int16Array(_)[0]===256}()}return v(T,[{key:"destroy",value:function(){this._mediaInfo=null,this._metadata=null,this._audioMetadata=null,this._videoMetadata=null,this._videoTrack=null,this._audioTrack=null,this._onError=null,this._onMediaInfo=null,this._onMetaDataArrived=null,this._onScriptDataArrived=null,this._onTrackMetadata=null,this._onDataAvailable=null}},{key:"bindDataSource",value:function(b){return b.onDataArrival=this.parseChunks.bind(this),this}},{key:"resetMediaInfo",value:function(){this._mediaInfo=new S.default}},{key:"_isInitialMetadataDispatched",value:function(){return this._hasAudio&&this._hasVideo?this._audioInitialMetadataDispatched&&this._videoInitialMetadataDispatched:this._hasAudio&&!this._hasVideo?this._audioInitialMetadataDispatched:!(this._hasAudio||!this._hasVideo)&&this._videoInitialMetadataDispatched}},{key:"parseChunks",value:function(b,x){if(!(this._onError&&this._onMediaInfo&&this._onTrackMetadata&&this._onDataAvailable))throw new w.IllegalStateException("Flv: onError & onMediaInfo & onTrackMetadata & onDataAvailable callback must be specified");var _=0,k=this._littleEndian;if(x===0){if(!(b.byteLength>13))return 0;_=T.probe(b).dataOffset}for(this._firstParse&&(this._firstParse=!1,x+_!==this._dataOffset&&u.default.w(this.TAG,"First time parsing but chunk byteStart invalid!"),new DataView(b,_).getUint32(0,!k)!==0&&u.default.w(this.TAG,"PrevTagSize0 !== 0 !!!"),_+=4);_<b.byteLength;){this._dispatch=!0;var O=new DataView(b,_);if(_+11+4>b.byteLength)break;var I=O.getUint8(0),V=16777215&O.getUint32(0,!k);if(_+11+V+4>b.byteLength)break;if(I===8||I===9||I===18){var H=O.getUint8(4),G=O.getUint8(5),K=O.getUint8(6)|G<<8|H<<16|O.getUint8(7)<<24;(16777215&O.getUint32(7,!k))!=0&&u.default.w(this.TAG,"Meet tag which has StreamID != 0!");var et=_+11;switch(I){case 8:this._parseAudioData(b,et,V,K);break;case 9:this._parseVideoData(b,et,V,K,x+_);break;case 18:this._parseScriptData(b,et,V)}var ct=O.getUint32(11+V,!k);ct!==11+V&&u.default.w(this.TAG,"Invalid PrevTagSize "+ct),_+=11+V+4}else u.default.w(this.TAG,"Unsupported tag type "+I+", skipped"),_+=11+V+4}return this._isInitialMetadataDispatched()&&this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack),_}},{key:"_parseScriptData",value:function(b,x,_){var k=l.default.parseScriptData(b,x,_);if(k.hasOwnProperty("onMetaData")){if(k.onMetaData==null||g(k.onMetaData)!=="object")return void u.default.w(this.TAG,"Invalid onMetaData structure!");this._metadata&&u.default.w(this.TAG,"Found another onMetaData tag!"),this._metadata=k;var O=this._metadata.onMetaData;if(this._onMetaDataArrived&&this._onMetaDataArrived(Object.assign({},O)),typeof O.hasAudio=="boolean"&&this._hasAudioFlagOverrided===!1&&(this._hasAudio=O.hasAudio,this._mediaInfo.hasAudio=this._hasAudio),typeof O.hasVideo=="boolean"&&this._hasVideoFlagOverrided===!1&&(this._hasVideo=O.hasVideo,this._mediaInfo.hasVideo=this._hasVideo),typeof O.audiodatarate=="number"&&(this._mediaInfo.audioDataRate=O.audiodatarate),typeof O.videodatarate=="number"&&(this._mediaInfo.videoDataRate=O.videodatarate),typeof O.width=="number"&&(this._mediaInfo.width=O.width),typeof O.height=="number"&&(this._mediaInfo.height=O.height),typeof O.duration=="number"){if(!this._durationOverrided){var I=Math.floor(O.duration*this._timescale);this._duration=I,this._mediaInfo.duration=I}}else this._mediaInfo.duration=0;if(typeof O.framerate=="number"){var V=Math.floor(1e3*O.framerate);if(V>0){var H=V/1e3;this._referenceFrameRate.fixed=!0,this._referenceFrameRate.fps=H,this._referenceFrameRate.fps_num=V,this._referenceFrameRate.fps_den=1e3,this._mediaInfo.fps=H}}if(g(O.keyframes)==="object"){this._mediaInfo.hasKeyframesIndex=!0;var G=O.keyframes;this._mediaInfo.keyframesIndex=this._parseKeyframesIndex(G),O.keyframes=null}else this._mediaInfo.hasKeyframesIndex=!1;this._dispatch=!1,this._mediaInfo.metadata=O,u.default.v(this.TAG,"Parsed onMetaData"),this._mediaInfo.isComplete()&&this._onMediaInfo(this._mediaInfo)}Object.keys(k).length>0&&this._onScriptDataArrived&&this._onScriptDataArrived(Object.assign({},k))}},{key:"_parseKeyframesIndex",value:function(b){for(var x=[],_=[],k=1;k<b.times.length;k++){var O=this._timestampBase+Math.floor(1e3*b.times[k]);x.push(O),_.push(b.filepositions[k])}return{times:x,filepositions:_}}},{key:"_parseAudioData",value:function(b,x,_,k){if(_<=1)u.default.w(this.TAG,"Flv: Invalid audio packet, missing SoundData payload!");else if(this._hasAudioFlagOverrided!==!0||this._hasAudio!==!1){var O=(this._littleEndian,new DataView(b,x,_)).getUint8(0),I=O>>>4;if(I!==2&&I!==10)return void this._onError(d.default.CODEC_UNSUPPORTED,"Flv: Unsupported audio codec idx: "+I);var V,H=(12&O)>>>2;if(!(H>=0&&H<=4))return void this._onError(d.default.FORMAT_ERROR,"Flv: Invalid audio sample rate idx: "+H);V=this._flvSoundRateTable[H];var G=1&O,K=this._audioMetadata,et=this._audioTrack;if(K||(this._hasAudio===!1&&this._hasAudioFlagOverrided===!1&&(this._hasAudio=!0,this._mediaInfo.hasAudio=!0),(K=this._audioMetadata={}).type="audio",K.id=et.id,K.timescale=this._timescale,K.duration=this._duration,K.audioSampleRate=V,K.channelCount=G===0?1:2),I===10){var ct=this._parseAACAudioData(b,x+1,_-1);if(ct==null)return;if(ct.packetType===0){if(K.config)return void u.default.w(this.TAG,"Found another AudioSpecificConfig!");var gt=ct.data;K.audioSampleRate=gt.samplingRate,K.channelCount=gt.channelCount,K.codec=gt.codec,K.originalCodec=gt.originalCodec,K.config=gt.config,K.refSampleDuration=1024/K.audioSampleRate*K.timescale,u.default.v(this.TAG,"Parsed AudioSpecificConfig"),this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack):this._audioInitialMetadataDispatched=!0,this._dispatch=!1,this._onTrackMetadata("audio",K);var Mt=this._mediaInfo;Mt.audioCodec=K.originalCodec,Mt.audioSampleRate=K.audioSampleRate,Mt.audioChannelCount=K.channelCount,Mt.hasVideo?Mt.videoCodec!=null&&(Mt.mimeType='video/x-flv; codecs="'+Mt.videoCodec+","+Mt.audioCodec+'"'):Mt.mimeType='video/x-flv; codecs="'+Mt.audioCodec+'"',Mt.isComplete()&&this._onMediaInfo(Mt)}else if(ct.packetType===1){var Ut=this._timestampBase+k,ee={unit:ct.data,length:ct.data.byteLength,dts:Ut,pts:Ut};et.samples.push(ee),et.length+=ct.data.length}else u.default.e(this.TAG,"Flv: Unsupported AAC data type "+ct.packetType)}else if(I===2){if(!K.codec){var Jt=this._parseMP3AudioData(b,x+1,_-1,!0);if(Jt==null)return;K.audioSampleRate=Jt.samplingRate,K.channelCount=Jt.channelCount,K.codec=Jt.codec,K.originalCodec=Jt.originalCodec,K.refSampleDuration=1152/K.audioSampleRate*K.timescale,u.default.v(this.TAG,"Parsed MPEG Audio Frame Header"),this._audioInitialMetadataDispatched=!0,this._onTrackMetadata("audio",K);var Lt=this._mediaInfo;Lt.audioCodec=K.codec,Lt.audioSampleRate=K.audioSampleRate,Lt.audioChannelCount=K.channelCount,Lt.audioDataRate=Jt.bitRate,Lt.hasVideo?Lt.videoCodec!=null&&(Lt.mimeType='video/x-flv; codecs="'+Lt.videoCodec+","+Lt.audioCodec+'"'):Lt.mimeType='video/x-flv; codecs="'+Lt.audioCodec+'"',Lt.isComplete()&&this._onMediaInfo(Lt)}var Zt=this._parseMP3AudioData(b,x+1,_-1,!1);if(Zt==null)return;var me=this._timestampBase+k,Gt={unit:Zt,length:Zt.byteLength,dts:me,pts:me};et.samples.push(Gt),et.length+=Zt.length}}}},{key:"_parseAACAudioData",value:function(b,x,_){if(!(_<=1)){var k={},O=new Uint8Array(b,x,_);return k.packetType=O[0],O[0]===0?k.data=this._parseAACAudioSpecificConfig(b,x+1,_-1):k.data=O.subarray(1),k}u.default.w(this.TAG,"Flv: Invalid AAC packet, missing AACPacketType or/and Data!")}},{key:"_parseAACAudioSpecificConfig",value:function(b,x,_){var k,O,I=new Uint8Array(b,x,_),V=null,H=0,G=null;if(H=k=I[0]>>>3,(O=(7&I[0])<<1|I[1]>>>7)<0||O>=this._mpegSamplingRates.length)this._onError(d.default.FORMAT_ERROR,"Flv: AAC invalid sampling frequency index!");else{var K=this._mpegSamplingRates[O],et=(120&I[1])>>>3;if(!(et<0||et>=8)){H===5&&(G=(7&I[1])<<1|I[2]>>>7,I[2]);var ct=self.navigator.userAgent.toLowerCase();return ct.indexOf("firefox")!==-1?O>=6?(H=5,V=new Array(4),G=O-3):(H=2,V=new Array(2),G=O):ct.indexOf("android")!==-1?(H=2,V=new Array(2),G=O):(H=5,G=O,V=new Array(4),O>=6?G=O-3:et===1&&(H=2,V=new Array(2),G=O)),V[0]=H<<3,V[0]|=(15&O)>>>1,V[1]=(15&O)<<7,V[1]|=(15&et)<<3,H===5&&(V[1]|=(15&G)>>>1,V[2]=(1&G)<<7,V[2]|=8,V[3]=0),{config:V,samplingRate:K,channelCount:et,codec:"mp4a.40."+H,originalCodec:"mp4a.40."+k}}this._onError(d.default.FORMAT_ERROR,"Flv: AAC invalid channel configuration")}}},{key:"_parseMP3AudioData",value:function(b,x,_,k){if(!(_<4)){var O=(this._littleEndian,new Uint8Array(b,x,_)),I=null;if(k){if(O[0]!==255)return;var V=O[1]>>>3&3,H=(6&O[1])>>1,G=(240&O[2])>>>4,K=(12&O[2])>>>2,et=(O[3]>>>6&3)!=3?2:1,ct=0,gt=0;switch(V){case 0:ct=this._mpegAudioV25SampleRateTable[K];break;case 2:ct=this._mpegAudioV20SampleRateTable[K];break;case 3:ct=this._mpegAudioV10SampleRateTable[K]}switch(H){case 1:G<this._mpegAudioL3BitRateTable.length&&(gt=this._mpegAudioL3BitRateTable[G]);break;case 2:G<this._mpegAudioL2BitRateTable.length&&(gt=this._mpegAudioL2BitRateTable[G]);break;case 3:G<this._mpegAudioL1BitRateTable.length&&(gt=this._mpegAudioL1BitRateTable[G])}I={bitRate:gt,samplingRate:ct,channelCount:et,codec:"mp3",originalCodec:"mp3"}}else I=O;return I}u.default.w(this.TAG,"Flv: Invalid MP3 packet, header missing!")}},{key:"_parseVideoData",value:function(b,x,_,k,O){if(_<=1)u.default.w(this.TAG,"Flv: Invalid video packet, missing VideoData payload!");else if(this._hasVideoFlagOverrided!==!0||this._hasVideo!==!1){var I=new Uint8Array(b,x,_)[0],V=(240&I)>>>4,H=15&I;if(H!==7)return void this._onError(d.default.CODEC_UNSUPPORTED,"Flv: Unsupported codec in video frame: "+H);this._parseAVCVideoPacket(b,x+1,_-1,k,O,V)}}},{key:"_parseAVCVideoPacket",value:function(b,x,_,k,O,I){if(_<4)u.default.w(this.TAG,"Flv: Invalid AVC packet, missing AVCPacketType or/and CompositionTime");else{var V=this._littleEndian,H=new DataView(b,x,_),G=H.getUint8(0),K=(16777215&H.getUint32(0,!V))<<8>>8;if(G===0)this._parseAVCDecoderConfigurationRecord(b,x+4,_-4);else if(G===1)this._parseAVCVideoData(b,x+4,_-4,k,O,I,K);else if(G!==2)return void this._onError(d.default.FORMAT_ERROR,"Flv: Invalid video packet type "+G)}}},{key:"_parseAVCDecoderConfigurationRecord",value:function(b,x,_){if(_<7)u.default.w(this.TAG,"Flv: Invalid AVCDecoderConfigurationRecord, lack of data!");else{var k=this._videoMetadata,O=this._videoTrack,I=this._littleEndian,V=new DataView(b,x,_);if(k){if(k.avcc!==void 0)return void u.default.w(this.TAG,"Found another AVCDecoderConfigurationRecord!")}else this._hasVideo===!1&&this._hasVideoFlagOverrided===!1&&(this._hasVideo=!0,this._mediaInfo.hasVideo=!0),(k=this._videoMetadata={}).type="video",k.id=O.id,k.timescale=this._timescale,k.duration=this._duration;var H=V.getUint8(0),G=V.getUint8(1);if(V.getUint8(2),V.getUint8(3),H===1&&G!==0)if(this._naluLengthSize=1+(3&V.getUint8(4)),this._naluLengthSize===3||this._naluLengthSize===4){var K=31&V.getUint8(5);if(K!==0){K>1&&u.default.w(this.TAG,"Flv: Strange AVCDecoderConfigurationRecord: SPS Count = "+K);for(var et=6,ct=0;ct<K;ct++){var gt=V.getUint16(et,!I);if(et+=2,gt!==0){var Mt=new Uint8Array(b,x+et,gt);et+=gt;var Ut=m.default.parseSPS(Mt);if(ct===0){k.codecWidth=Ut.codec_size.width,k.codecHeight=Ut.codec_size.height,k.presentWidth=Ut.present_size.width,k.presentHeight=Ut.present_size.height,k.profile=Ut.profile_string,k.level=Ut.level_string,k.bitDepth=Ut.bit_depth,k.chromaFormat=Ut.chroma_format,k.sarRatio=Ut.sar_ratio,k.frameRate=Ut.frame_rate,Ut.frame_rate.fixed!==!1&&Ut.frame_rate.fps_num!==0&&Ut.frame_rate.fps_den!==0||(k.frameRate=this._referenceFrameRate);var ee=k.frameRate.fps_den,Jt=k.frameRate.fps_num;k.refSampleDuration=k.timescale*(ee/Jt);for(var Lt=Mt.subarray(1,4),Zt="avc1.",me=0;me<3;me++){var Gt=Lt[me].toString(16);Gt.length<2&&(Gt="0"+Gt),Zt+=Gt}k.codec=Zt;var U=this._mediaInfo;U.width=k.codecWidth,U.height=k.codecHeight,U.fps=k.frameRate.fps,U.profile=k.profile,U.level=k.level,U.refFrames=Ut.ref_frames,U.chromaFormat=Ut.chroma_format_string,U.sarNum=k.sarRatio.width,U.sarDen=k.sarRatio.height,U.videoCodec=Zt,U.hasAudio?U.audioCodec!=null&&(U.mimeType='video/x-flv; codecs="'+U.videoCodec+","+U.audioCodec+'"'):U.mimeType='video/x-flv; codecs="'+U.videoCodec+'"',U.isComplete()&&this._onMediaInfo(U)}}}var ut=V.getUint8(et);if(ut!==0){ut>1&&u.default.w(this.TAG,"Flv: Strange AVCDecoderConfigurationRecord: PPS Count = "+ut),et++;for(var ht=0;ht<ut;ht++){var bt=V.getUint16(et,!I);et+=2,bt!==0&&(et+=bt)}k.avcc=new Uint8Array(_),k.avcc.set(new Uint8Array(b,x,_),0),u.default.v(this.TAG,"Parsed AVCDecoderConfigurationRecord"),this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack):this._videoInitialMetadataDispatched=!0,this._dispatch=!1,this._onTrackMetadata("video",k)}else this._onError(d.default.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord: No PPS")}else this._onError(d.default.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord: No SPS")}else this._onError(d.default.FORMAT_ERROR,"Flv: Strange NaluLengthSizeMinusOne: "+(this._naluLengthSize-1));else this._onError(d.default.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord")}}},{key:"_parseAVCVideoData",value:function(b,x,_,k,O,I,V){for(var H=this._littleEndian,G=new DataView(b,x,_),K=[],et=0,ct=0,gt=this._naluLengthSize,Mt=this._timestampBase+k,Ut=I===1;ct<_;){if(ct+4>=_){u.default.w(this.TAG,"Malformed Nalu near timestamp "+Mt+", offset = "+ct+", dataSize = "+_);break}var ee=G.getUint32(ct,!H);if(gt===3&&(ee>>>=8),ee>_-gt)return void u.default.w(this.TAG,"Malformed Nalus near timestamp "+Mt+", NaluSize > DataSize!");var Jt=31&G.getUint8(ct+gt);Jt===5&&(Ut=!0);var Lt=new Uint8Array(b,x+ct,gt+ee),Zt={type:Jt,data:Lt};K.push(Zt),et+=Lt.byteLength,ct+=gt+ee}if(K.length){var me=this._videoTrack,Gt={units:K,length:et,isKeyframe:Ut,dts:Mt,cts:V,pts:Mt+V};Ut&&(Gt.fileposition=O),me.samples.push(Gt),me.length+=et}}},{key:"onTrackMetadata",get:function(){return this._onTrackMetadata},set:function(b){this._onTrackMetadata=b}},{key:"onMediaInfo",get:function(){return this._onMediaInfo},set:function(b){this._onMediaInfo=b}},{key:"onMetaDataArrived",get:function(){return this._onMetaDataArrived},set:function(b){this._onMetaDataArrived=b}},{key:"onScriptDataArrived",get:function(){return this._onScriptDataArrived},set:function(b){this._onScriptDataArrived=b}},{key:"onError",get:function(){return this._onError},set:function(b){this._onError=b}},{key:"onDataAvailable",get:function(){return this._onDataAvailable},set:function(b){this._onDataAvailable=b}},{key:"timestampBase",get:function(){return this._timestampBase},set:function(b){this._timestampBase=b}},{key:"overridedDuration",get:function(){return this._duration},set:function(b){this._durationOverrided=!0,this._duration=b,this._mediaInfo.duration=b}},{key:"overridedHasAudio",set:function(b){this._hasAudioFlagOverrided=!0,this._hasAudio=b,this._mediaInfo.hasAudio=b}},{key:"overridedHasVideo",set:function(b){this._hasVideoFlagOverrided=!0,this._hasVideo=b,this._mediaInfo.hasVideo=b}}],[{key:"probe",value:function(b){var x=new Uint8Array(b),_={match:!1};if(x[0]!==70||x[1]!==76||x[2]!==86||x[3]!==1)return _;var k=(4&x[4])>>>2!=0,O=(1&x[4])!=0,I=function(V,H){return V[H]<<24|V[H+1]<<16|V[H+2]<<8|V[H+3]}(x,5);return I<9?_:{match:!0,consumed:I,dataOffset:I,hasAudioTrack:k,hasVideoTrack:O}}}]),T}();o.default=j},{"../core/media-info.js":7,"../utils/exception.js":40,"../utils/logger.js":41,"./amf-parser.js":15,"./demux-errors.js":16,"./sps-parser.js":19}],19:[function(C,F,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var c=function(){function u(l,m){for(var d=0;d<m.length;d++){var S=m[d];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(l,S.key,S)}}return function(l,m,d){return m&&u(l.prototype,m),d&&u(l,d),l}}(),g=function(u){return u&&u.__esModule?u:{default:u}}(C("./exp-golomb.js")),v=function(){function u(){(function(l,m){if(!(l instanceof m))throw new TypeError("Cannot call a class as a function")})(this,u)}return c(u,null,[{key:"_ebsp2rbsp",value:function(l){for(var m=l,d=m.byteLength,S=new Uint8Array(d),w=0,j=0;j<d;j++)j>=2&&m[j]===3&&m[j-1]===0&&m[j-2]===0||(S[w]=m[j],w++);return new Uint8Array(S.buffer,0,w)}},{key:"parseSPS",value:function(l){var m=u._ebsp2rbsp(l),d=new g.default(m);d.readByte();var S=d.readByte();d.readByte();var w=d.readByte();d.readUEG();var j=u.getProfileString(S),T=u.getLevelString(w),b=1,x=420,_=8;if((S===100||S===110||S===122||S===244||S===44||S===83||S===86||S===118||S===128||S===138||S===144)&&((b=d.readUEG())===3&&d.readBits(1),b<=3&&(x=[0,420,422,444][b]),_=d.readUEG()+8,d.readUEG(),d.readBits(1),d.readBool()))for(var k=b!==3?8:12,O=0;O<k;O++)d.readBool()&&(O<6?u._skipScalingList(d,16):u._skipScalingList(d,64));d.readUEG();var I=d.readUEG();if(I===0)d.readUEG();else if(I===1){d.readBits(1),d.readSEG(),d.readSEG();for(var V=d.readUEG(),H=0;H<V;H++)d.readSEG()}var G=d.readUEG();d.readBits(1);var K=d.readUEG(),et=d.readUEG(),ct=d.readBits(1);ct===0&&d.readBits(1),d.readBits(1);var gt=0,Mt=0,Ut=0,ee=0;d.readBool()&&(gt=d.readUEG(),Mt=d.readUEG(),Ut=d.readUEG(),ee=d.readUEG());var Jt=1,Lt=1,Zt=0,me=!0,Gt=0,U=0;if(d.readBool()){if(d.readBool()){var ut=d.readByte();ut>0&&ut<16?(Jt=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2][ut-1],Lt=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1][ut-1]):ut===255&&(Jt=d.readByte()<<8|d.readByte(),Lt=d.readByte()<<8|d.readByte())}if(d.readBool()&&d.readBool(),d.readBool()&&(d.readBits(4),d.readBool()&&d.readBits(24)),d.readBool()&&(d.readUEG(),d.readUEG()),d.readBool()){var ht=d.readBits(32),bt=d.readBits(32);me=d.readBool(),Zt=(Gt=bt)/(U=2*ht)}}var Dt=1;Jt===1&&Lt===1||(Dt=Jt/Lt);var mt=0,ft=0;b===0?(mt=1,ft=2-ct):(mt=b===3?1:2,ft=(b===1?2:1)*(2-ct));var pt=16*(K+1),Rt=16*(et+1)*(2-ct);pt-=(gt+Mt)*mt,Rt-=(Ut+ee)*ft;var Pt=Math.ceil(pt*Dt);return d.destroy(),d=null,{profile_string:j,level_string:T,bit_depth:_,ref_frames:G,chroma_format:x,chroma_format_string:u.getChromaFormatString(x),frame_rate:{fixed:me,fps:Zt,fps_den:U,fps_num:Gt},sar_ratio:{width:Jt,height:Lt},codec_size:{width:pt,height:Rt},present_size:{width:Pt,height:Rt}}}},{key:"_skipScalingList",value:function(l,m){for(var d=8,S=8,w=0;w<m;w++)S!==0&&(S=(d+l.readSEG()+256)%256),d=S===0?d:S}},{key:"getProfileString",value:function(l){switch(l){case 66:return"Baseline";case 77:return"Main";case 88:return"Extended";case 100:return"High";case 110:return"High10";case 122:return"High422";case 244:return"High444";default:return"Unknown"}}},{key:"getLevelString",value:function(l){return(l/10).toFixed(1)}},{key:"getChromaFormatString",value:function(l){switch(l){case 420:return"4:2:0";case 422:return"4:2:2";case 444:return"4:4:4";default:return"Unknown"}}}]),u}();o.default=v},{"./exp-golomb.js":17}],20:[function(C,F,o){"use strict";function c(x){return x&&x.__esModule?x:{default:x}}Object.defineProperty(o,"__esModule",{value:!0});var g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},v=c(C("./utils/polyfill.js")),u=c(C("./core/features.js")),l=C("./io/loader.js"),m=c(C("./player/flv-player.js")),d=c(C("./player/native-player.js")),S=c(C("./player/player-events.js")),w=C("./player/player-errors.js"),j=c(C("./utils/logging-control.js")),T=C("./utils/exception.js");v.default.install();var b={createPlayer:function(x,_){var k=x;if(k==null||(k===void 0?"undefined":g(k))!=="object")throw new T.InvalidArgumentException("MediaDataSource must be an javascript object!");if(!k.hasOwnProperty("type"))throw new T.InvalidArgumentException("MediaDataSource must has type field to indicate video file type!");switch(k.type){case"flv":return new m.default(k,_);default:return new d.default(k,_)}},isSupported:function(){return u.default.supportMSEH264Playback()},getFeatureList:function(){return u.default.getFeatureList()}};b.BaseLoader=l.BaseLoader,b.LoaderStatus=l.LoaderStatus,b.LoaderErrors=l.LoaderErrors,b.Events=S.default,b.ErrorTypes=w.ErrorTypes,b.ErrorDetails=w.ErrorDetails,b.FlvPlayer=m.default,b.NativePlayer=d.default,b.LoggingControl=j.default,b.reconnect=!1,Object.defineProperty(b,"version",{enumerable:!0,get:function(){return"1.4.2"}}),o.default=b},{"./core/features.js":6,"./io/loader.js":24,"./player/flv-player.js":32,"./player/native-player.js":33,"./player/player-errors.js":34,"./player/player-events.js":35,"./utils/exception.js":40,"./utils/logging-control.js":42,"./utils/polyfill.js":43}],21:[function(C,F,o){"use strict";F.exports=C("./flv.js").default},{"./flv.js":20}],22:[function(C,F,o){"use strict";function c(w){return w&&w.__esModule?w:{default:w}}Object.defineProperty(o,"__esModule",{value:!0});var g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},v=function(){function w(j,T){for(var b=0;b<T.length;b++){var x=T[b];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(j,x.key,x)}}return function(j,T,b){return T&&w(j.prototype,T),b&&w(j,b),j}}(),u=(c(C("../utils/logger.js")),C("../utils/browser.js")),l=c(u),m=C("./loader.js"),d=C("../utils/exception.js"),S=function(w){function j(T,b){(function(_,k){if(!(_ instanceof k))throw new TypeError("Cannot call a class as a function")})(this,j);var x=function(_,k){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!k||typeof k!="object"&&typeof k!="function"?_:k}(this,(j.__proto__||Object.getPrototypeOf(j)).call(this,"fetch-stream-loader"));return x.TAG="FetchStreamLoader",x._seekHandler=T,x._config=b,x._needStash=!0,x._requestAbort=!1,x._contentLength=null,x._receivedLength=0,x}return function(T,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);T.prototype=Object.create(b&&b.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(T,b):T.__proto__=b)}(j,w),v(j,null,[{key:"isSupported",value:function(){try{var T=l.default.msedge&&l.default.version.minor>=15048,b=!l.default.msedge||T;return self.fetch&&self.ReadableStream&&b}catch(x){return!1}}}]),v(j,[{key:"destroy",value:function(){this.isWorking()&&this.abort(),function T(b,x,_){b===null&&(b=Function.prototype);var k=Object.getOwnPropertyDescriptor(b,x);if(k===void 0){var O=Object.getPrototypeOf(b);return O===null?void 0:T(O,x,_)}if("value"in k)return k.value;var I=k.get;return I!==void 0?I.call(_):void 0}(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"destroy",this).call(this)}},{key:"open",value:function(T,b){var x=this;this._dataSource=T,this._range=b;var _=T.url;this._config.reuseRedirectedURL&&T.redirectedURL!=null&&(_=T.redirectedURL);var k=this._seekHandler.getConfig(_,b),O=new self.Headers;if(g(k.headers)==="object"){var I=k.headers;for(var V in I)I.hasOwnProperty(V)&&O.append(V,I[V])}var H={method:"GET",headers:O,mode:"cors",cache:"default",referrerPolicy:"no-referrer-when-downgrade"};if(g(this._config.headers)==="object")for(var G in this._config.headers)O.append(G,this._config.headers[G]);T.cors===!1&&(H.mode="same-origin"),T.withCredentials&&(H.credentials="include"),T.referrerPolicy&&(H.referrerPolicy=T.referrerPolicy),this._status=m.LoaderStatus.kConnecting,self.fetch(k.url,H).then(function(K){if(x._requestAbort){try{var et=K.body.getReader();et&&et.cancel()}catch(Mt){}return x._requestAbort=!1,void(x._status=m.LoaderStatus.kIdle)}if(K.ok&&K.status>=200&&K.status<=299){if(K.url!==k.url&&x._onURLRedirect){var ct=x._seekHandler.removeURLParameters(K.url);x._onURLRedirect(ct)}var gt=K.headers.get("Content-Length");return gt!=null&&(x._contentLength=parseInt(gt),x._contentLength!==0&&x._onContentLengthKnown&&x._onContentLengthKnown(x._contentLength)),x._pump.call(x,K.body.getReader())}if(x._status=m.LoaderStatus.kError,!x._onError)throw new d.RuntimeException("FetchStreamLoader: Http code invalid, "+K.status+" "+K.statusText);x._onError(m.LoaderErrors.HTTP_STATUS_CODE_INVALID,{code:K.status,msg:K.statusText})}).catch(function(K){if(x._status=m.LoaderStatus.kError,!x._onError)throw K;x._onError(m.LoaderErrors.EXCEPTION,{code:-1,msg:K.message})})}},{key:"abort",value:function(){this._requestAbort=!0}},{key:"_pump",value:function(T){var b=this;return T.read().then(function(x){if(x.done)if(b._contentLength!==null&&b._receivedLength<b._contentLength){b._status=m.LoaderStatus.kError;var _=m.LoaderErrors.EARLY_EOF,k={code:-1,msg:"Fetch stream meet Early-EOF"};if(!b._onError)throw new d.RuntimeException(k.msg);b._onError(_,k)}else b._status=m.LoaderStatus.kComplete,b._onComplete&&b._onComplete(b._range.from,b._range.from+b._receivedLength-1);else{if(b._requestAbort===!0)return b._requestAbort=!1,b._status=m.LoaderStatus.kComplete,T.cancel();b._status=m.LoaderStatus.kBuffering;var O=x.value.buffer,I=b._range.from+b._receivedLength;b._receivedLength+=O.byteLength,b._onDataArrival&&b._onDataArrival(O,I,b._receivedLength),b._pump(T)}}).catch(function(x){if(x.code!==11||!l.default.msedge){b._status=m.LoaderStatus.kError;var _=0,k=null;if(x.code!==19&&x.message!=="network error"||!(b._contentLength===null||b._contentLength!==null&&b._receivedLength<b._contentLength)?(_=m.LoaderErrors.EXCEPTION,k={code:x.code,msg:x.message}):(_=m.LoaderErrors.EARLY_EOF,k={code:x.code,msg:"Fetch stream meet Early-EOF"}),!b._onError)throw new d.RuntimeException(k.msg);b._onError(_,k)}})}}]),j}(m.BaseLoader);o.default=S},{"../utils/browser.js":39,"../utils/exception.js":40,"../utils/logger.js":41,"./loader.js":24}],23:[function(C,F,o){"use strict";function c(k){return k&&k.__esModule?k:{default:k}}Object.defineProperty(o,"__esModule",{value:!0});var g=function(){function k(O,I){for(var V=0;V<I.length;V++){var H=I[V];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(O,H.key,H)}}return function(O,I,V){return I&&k(O.prototype,I),V&&k(O,V),O}}(),v=c(C("../utils/logger.js")),u=c(C("./speed-sampler.js")),l=C("./loader.js"),m=c(C("./fetch-stream-loader.js")),d=c(C("./xhr-moz-chunked-loader.js")),S=(c(C("./xhr-msstream-loader.js")),C("./xhr-range-loader.js")),w=c(S),j=c(C("./websocket-loader.js")),T=c(C("./range-seek-handler.js")),b=c(C("./param-seek-handler.js")),x=C("../utils/exception.js"),_=function(){function k(O,I,V){(function(H,G){if(!(H instanceof G))throw new TypeError("Cannot call a class as a function")})(this,k),this.TAG="IOController",this._config=I,this._extraData=V,this._stashInitialSize=393216,I.stashInitialSize!=null&&I.stashInitialSize>0&&(this._stashInitialSize=I.stashInitialSize),this._stashUsed=0,this._stashSize=this._stashInitialSize,this._bufferSize=3145728,this._stashBuffer=new ArrayBuffer(this._bufferSize),this._stashByteStart=0,this._enableStash=!0,I.enableStashBuffer===!1&&(this._enableStash=!1),this._loader=null,this._loaderClass=null,this._seekHandler=null,this._dataSource=O,this._isWebSocketURL=/wss?:\/\/(.+?)/.test(O.url),this._refTotalLength=O.filesize?O.filesize:null,this._totalLength=this._refTotalLength,this._fullRequestFlag=!1,this._currentRange=null,this._redirectedURL=null,this._speedNormalized=0,this._speedSampler=new u.default,this._speedNormalizeList=[64,128,256,384,512,768,1024,1536,2048,3072,4096],this._isEarlyEofReconnecting=!1,this._paused=!1,this._resumeFrom=0,this._onDataArrival=null,this._onSeeked=null,this._onError=null,this._onComplete=null,this._onRedirect=null,this._onRecoveredEarlyEof=null,this._selectSeekHandler(),this._selectLoader(),this._createLoader()}return g(k,[{key:"destroy",value:function(){this._loader.isWorking()&&this._loader.abort(),this._loader.destroy(),this._loader=null,this._loaderClass=null,this._dataSource=null,this._stashBuffer=null,this._stashUsed=this._stashSize=this._bufferSize=this._stashByteStart=0,this._currentRange=null,this._speedSampler=null,this._isEarlyEofReconnecting=!1,this._onDataArrival=null,this._onSeeked=null,this._onError=null,this._onComplete=null,this._onRedirect=null,this._onRecoveredEarlyEof=null,this._extraData=null}},{key:"isWorking",value:function(){return this._loader&&this._loader.isWorking()&&!this._paused}},{key:"isPaused",value:function(){return this._paused}},{key:"_selectSeekHandler",value:function(){var O=this._config;if(O.seekType==="range")this._seekHandler=new T.default(this._config.rangeLoadZeroStart);else if(O.seekType==="param"){var I=O.seekParamStart||"bstart",V=O.seekParamEnd||"bend";this._seekHandler=new b.default(I,V)}else{if(O.seekType!=="custom")throw new x.InvalidArgumentException("Invalid seekType in config: "+O.seekType);if(typeof O.customSeekHandler!="function")throw new x.InvalidArgumentException("Custom seekType specified in config but invalid customSeekHandler!");this._seekHandler=new O.customSeekHandler}}},{key:"_selectLoader",value:function(){if(this._config.customLoader!=null)this._loaderClass=this._config.customLoader;else if(this._isWebSocketURL)this._loaderClass=j.default;else if(m.default.isSupported())this._loaderClass=m.default;else if(d.default.isSupported())this._loaderClass=d.default;else{if(!w.default.isSupported())throw new x.RuntimeException("Your browser doesn't support xhr with arraybuffer responseType!");this._loaderClass=w.default}}},{key:"_createLoader",value:function(){this._loader=new this._loaderClass(this._seekHandler,this._config),this._loader.needStashBuffer===!1&&(this._enableStash=!1),this._loader.onContentLengthKnown=this._onContentLengthKnown.bind(this),this._loader.onURLRedirect=this._onURLRedirect.bind(this),this._loader.onDataArrival=this._onLoaderChunkArrival.bind(this),this._loader.onComplete=this._onLoaderComplete.bind(this),this._loader.onError=this._onLoaderError.bind(this)}},{key:"open",value:function(O){this._currentRange={from:0,to:-1},O&&(this._currentRange.from=O),this._speedSampler.reset(),O||(this._fullRequestFlag=!0),this._loader.open(this._dataSource,Object.assign({},this._currentRange))}},{key:"abort",value:function(){this._loader.abort(),this._paused&&(this._paused=!1,this._resumeFrom=0)}},{key:"pause",value:function(){this.isWorking()&&(this._loader.abort(),this._stashUsed!==0?(this._resumeFrom=this._stashByteStart,this._currentRange.to=this._stashByteStart-1):this._resumeFrom=this._currentRange.to+1,this._stashUsed=0,this._stashByteStart=0,this._paused=!0)}},{key:"resume",value:function(){if(this._paused){this._paused=!1;var O=this._resumeFrom;this._resumeFrom=0,this._internalSeek(O,!0)}}},{key:"seek",value:function(O){this._paused=!1,this._stashUsed=0,this._stashByteStart=0,this._internalSeek(O,!0)}},{key:"_internalSeek",value:function(O,I){this._loader.isWorking()&&this._loader.abort(),this._flushStashBuffer(I),this._loader.destroy(),this._loader=null;var V={from:O,to:-1};this._currentRange={from:V.from,to:-1},this._speedSampler.reset(),this._stashSize=this._stashInitialSize,this._createLoader(),this._loader.open(this._dataSource,V),this._onSeeked&&this._onSeeked()}},{key:"updateUrl",value:function(O){if(!O||typeof O!="string"||O.length===0)throw new x.InvalidArgumentException("Url must be a non-empty string!");this._dataSource.url=O}},{key:"_expandBuffer",value:function(O){for(var I=this._stashSize;I+1048576<O;)I*=2;if((I+=1048576)!==this._bufferSize){var V=new ArrayBuffer(I);if(this._stashUsed>0){var H=new Uint8Array(this._stashBuffer,0,this._stashUsed);new Uint8Array(V,0,I).set(H,0)}this._stashBuffer=V,this._bufferSize=I}}},{key:"_normalizeSpeed",value:function(O){var I=this._speedNormalizeList,V=I.length-1,H=0,G=0,K=V;if(O<I[0])return I[0];for(;G<=K;){if((H=G+Math.floor((K-G)/2))===V||O>=I[H]&&O<I[H+1])return I[H];I[H]<O?G=H+1:K=H-1}}},{key:"_adjustStashSize",value:function(O){var I=0;(I=this._config.isLive||O<512?O:O>=512&&O<=1024?Math.floor(1.5*O):2*O)>8192&&(I=8192);var V=1024*I+1048576;this._bufferSize<V&&this._expandBuffer(V),this._stashSize=1024*I}},{key:"_dispatchChunks",value:function(O,I){return this._currentRange.to=I+O.byteLength-1,this._onDataArrival(O,I)}},{key:"_onURLRedirect",value:function(O){this._redirectedURL=O,this._onRedirect&&this._onRedirect(O)}},{key:"_onContentLengthKnown",value:function(O){O&&this._fullRequestFlag&&(this._totalLength=O,this._fullRequestFlag=!1)}},{key:"_onLoaderChunkArrival",value:function(O,I,V){if(!this._onDataArrival)throw new x.IllegalStateException("IOController: No existing consumer (onDataArrival) callback!");if(!this._paused){this._isEarlyEofReconnecting&&(this._isEarlyEofReconnecting=!1,this._onRecoveredEarlyEof&&this._onRecoveredEarlyEof()),this._speedSampler.addBytes(O.byteLength);var H=this._speedSampler.lastSecondKBps;if(H!==0){var G=this._normalizeSpeed(H);this._speedNormalized!==G&&(this._speedNormalized=G,this._adjustStashSize(G))}if(this._enableStash)if(this._stashUsed===0&&this._stashByteStart===0&&(this._stashByteStart=I),this._stashUsed+O.byteLength<=this._stashSize)new Uint8Array(this._stashBuffer,0,this._stashSize).set(new Uint8Array(O),this._stashUsed),this._stashUsed+=O.byteLength;else{var K=new Uint8Array(this._stashBuffer,0,this._bufferSize);if(this._stashUsed>0){var et=this._stashBuffer.slice(0,this._stashUsed),ct=this._dispatchChunks(et,this._stashByteStart);if(ct<et.byteLength){if(ct>0){var gt=new Uint8Array(et,ct);K.set(gt,0),this._stashUsed=gt.byteLength,this._stashByteStart+=ct}}else this._stashUsed=0,this._stashByteStart+=ct;this._stashUsed+O.byteLength>this._bufferSize&&(this._expandBuffer(this._stashUsed+O.byteLength),K=new Uint8Array(this._stashBuffer,0,this._bufferSize)),K.set(new Uint8Array(O),this._stashUsed),this._stashUsed+=O.byteLength}else{var Mt=this._dispatchChunks(O,I);if(Mt<O.byteLength){var Ut=O.byteLength-Mt;Ut>this._bufferSize&&(this._expandBuffer(Ut),K=new Uint8Array(this._stashBuffer,0,this._bufferSize)),K.set(new Uint8Array(O,Mt),0),this._stashUsed+=Ut,this._stashByteStart=I+Mt}}}else if(this._stashUsed===0){var ee=this._dispatchChunks(O,I);if(ee<O.byteLength){var Jt=O.byteLength-ee;Jt>this._bufferSize&&this._expandBuffer(Jt),new Uint8Array(this._stashBuffer,0,this._bufferSize).set(new Uint8Array(O,ee),0),this._stashUsed+=Jt,this._stashByteStart=I+ee}}else{this._stashUsed+O.byteLength>this._bufferSize&&this._expandBuffer(this._stashUsed+O.byteLength);var Lt=new Uint8Array(this._stashBuffer,0,this._bufferSize);Lt.set(new Uint8Array(O),this._stashUsed),this._stashUsed+=O.byteLength;var Zt=this._dispatchChunks(this._stashBuffer.slice(0,this._stashUsed),this._stashByteStart);if(Zt<this._stashUsed&&Zt>0){var me=new Uint8Array(this._stashBuffer,Zt);Lt.set(me,0)}this._stashUsed-=Zt,this._stashByteStart+=Zt}}}},{key:"_flushStashBuffer",value:function(O){if(this._stashUsed>0){var I=this._stashBuffer.slice(0,this._stashUsed),V=this._dispatchChunks(I,this._stashByteStart),H=I.byteLength-V;if(V<I.byteLength){if(!O){if(V>0){var G=new Uint8Array(this._stashBuffer,0,this._bufferSize),K=new Uint8Array(I,V);G.set(K,0),this._stashUsed=K.byteLength,this._stashByteStart+=V}return 0}v.default.w(this.TAG,H+" bytes unconsumed data remain when flush buffer, dropped")}return this._stashUsed=0,this._stashByteStart=0,H}return 0}},{key:"_onLoaderComplete",value:function(O,I){this._flushStashBuffer(!0),this._onComplete&&this._onComplete(this._extraData)}},{key:"_onLoaderError",value:function(O,I){switch(v.default.e(this.TAG,"Loader error, code = "+I.code+", msg = "+I.msg),this._flushStashBuffer(!1),this._isEarlyEofReconnecting&&(this._isEarlyEofReconnecting=!1,O=l.LoaderErrors.UNRECOVERABLE_EARLY_EOF),O){case l.LoaderErrors.EARLY_EOF:if(!this._config.isLive&&this._totalLength){var V=this._currentRange.to+1;return void(V<this._totalLength&&(v.default.w(this.TAG,"Connection lost, trying reconnect..."),this._isEarlyEofReconnecting=!0,this._internalSeek(V,!1)))}O=l.LoaderErrors.UNRECOVERABLE_EARLY_EOF;break;case l.LoaderErrors.UNRECOVERABLE_EARLY_EOF:case l.LoaderErrors.CONNECTING_TIMEOUT:case l.LoaderErrors.HTTP_STATUS_CODE_INVALID:case l.LoaderErrors.EXCEPTION:}if(!this._onError)throw new x.RuntimeException("IOException: "+I.msg);this._onError(O,I)}},{key:"status",get:function(){return this._loader.status}},{key:"extraData",get:function(){return this._extraData},set:function(O){this._extraData=O}},{key:"onDataArrival",get:function(){return this._onDataArrival},set:function(O){this._onDataArrival=O}},{key:"onSeeked",get:function(){return this._onSeeked},set:function(O){this._onSeeked=O}},{key:"onError",get:function(){return this._onError},set:function(O){this._onError=O}},{key:"onComplete",get:function(){return this._onComplete},set:function(O){this._onComplete=O}},{key:"onRedirect",get:function(){return this._onRedirect},set:function(O){this._onRedirect=O}},{key:"onRecoveredEarlyEof",get:function(){return this._onRecoveredEarlyEof},set:function(O){this._onRecoveredEarlyEof=O}},{key:"currentURL",get:function(){return this._dataSource.url}},{key:"hasRedirect",get:function(){return this._redirectedURL!=null||this._dataSource.redirectedURL!=null}},{key:"currentRedirectedURL",get:function(){return this._redirectedURL||this._dataSource.redirectedURL}},{key:"currentSpeed",get:function(){return this._loaderClass===w.default?this._loader.currentSpeed:this._speedSampler.lastSecondKBps}},{key:"loaderType",get:function(){return this._loader.type}}]),k}();o.default=_},{"../utils/exception.js":40,"../utils/logger.js":41,"./fetch-stream-loader.js":22,"./loader.js":24,"./param-seek-handler.js":25,"./range-seek-handler.js":26,"./speed-sampler.js":27,"./websocket-loader.js":28,"./xhr-moz-chunked-loader.js":29,"./xhr-msstream-loader.js":30,"./xhr-range-loader.js":31}],24:[function(C,F,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.BaseLoader=o.LoaderErrors=o.LoaderStatus=void 0;var c=function(){function u(l,m){for(var d=0;d<m.length;d++){var S=m[d];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(l,S.key,S)}}return function(l,m,d){return m&&u(l.prototype,m),d&&u(l,d),l}}(),g=C("../utils/exception.js"),v=o.LoaderStatus={kIdle:0,kConnecting:1,kBuffering:2,kError:3,kComplete:4};o.LoaderErrors={OK:"OK",EXCEPTION:"Exception",HTTP_STATUS_CODE_INVALID:"HttpStatusCodeInvalid",CONNECTING_TIMEOUT:"ConnectingTimeout",EARLY_EOF:"EarlyEof",UNRECOVERABLE_EARLY_EOF:"UnrecoverableEarlyEof"},o.BaseLoader=function(){function u(l){(function(m,d){if(!(m instanceof d))throw new TypeError("Cannot call a class as a function")})(this,u),this._type=l||"undefined",this._status=v.kIdle,this._needStash=!1,this._onContentLengthKnown=null,this._onURLRedirect=null,this._onDataArrival=null,this._onError=null,this._onComplete=null}return c(u,[{key:"destroy",value:function(){this._status=v.kIdle,this._onContentLengthKnown=null,this._onURLRedirect=null,this._onDataArrival=null,this._onError=null,this._onComplete=null}},{key:"isWorking",value:function(){return this._status===v.kConnecting||this._status===v.kBuffering}},{key:"open",value:function(l,m){throw new g.NotImplementedException("Unimplemented abstract function!")}},{key:"abort",value:function(){throw new g.NotImplementedException("Unimplemented abstract function!")}},{key:"type",get:function(){return this._type}},{key:"status",get:function(){return this._status}},{key:"needStashBuffer",get:function(){return this._needStash}},{key:"onContentLengthKnown",get:function(){return this._onContentLengthKnown},set:function(l){this._onContentLengthKnown=l}},{key:"onURLRedirect",get:function(){return this._onURLRedirect},set:function(l){this._onURLRedirect=l}},{key:"onDataArrival",get:function(){return this._onDataArrival},set:function(l){this._onDataArrival=l}},{key:"onError",get:function(){return this._onError},set:function(l){this._onError=l}},{key:"onComplete",get:function(){return this._onComplete},set:function(l){this._onComplete=l}}]),u}()},{"../utils/exception.js":40}],25:[function(C,F,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var c=function(){function v(u,l){for(var m=0;m<l.length;m++){var d=l[m];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(u,d.key,d)}}return function(u,l,m){return l&&v(u.prototype,l),m&&v(u,m),u}}(),g=function(){function v(u,l){(function(m,d){if(!(m instanceof d))throw new TypeError("Cannot call a class as a function")})(this,v),this._startName=u,this._endName=l}return c(v,[{key:"getConfig",value:function(u,l){var m=u;if(l.from!==0||l.to!==-1){var d=!0;m.indexOf("?")===-1&&(m+="?",d=!1),d&&(m+="&"),m+=this._startName+"="+l.from.toString(),l.to!==-1&&(m+="&"+this._endName+"="+l.to.toString())}return{url:m,headers:{}}}},{key:"removeURLParameters",value:function(u){var l=u.split("?")[0],m=void 0,d=u.indexOf("?");d!==-1&&(m=u.substring(d+1));var S="";if(m!=null&&m.length>0)for(var w=m.split("&"),j=0;j<w.length;j++){var T=w[j].split("="),b=j>0;T[0]!==this._startName&&T[0]!==this._endName&&(b&&(S+="&"),S+=w[j])}return S.length===0?l:l+"?"+S}}]),v}();o.default=g},{}],26:[function(C,F,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var c=function(){function v(u,l){for(var m=0;m<l.length;m++){var d=l[m];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(u,d.key,d)}}return function(u,l,m){return l&&v(u.prototype,l),m&&v(u,m),u}}(),g=function(){function v(u){(function(l,m){if(!(l instanceof m))throw new TypeError("Cannot call a class as a function")})(this,v),this._zeroStart=u||!1}return c(v,[{key:"getConfig",value:function(u,l){var m={};if(l.from!==0||l.to!==-1){var d;d=l.to!==-1?"bytes="+l.from.toString()+"-"+l.to.toString():"bytes="+l.from.toString()+"-",m.Range=d}else this._zeroStart&&(m.Range="bytes=0-");return{url:u,headers:m}}},{key:"removeURLParameters",value:function(u){return u}}]),v}();o.default=g},{}],27:[function(C,F,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var c=function(){function v(u,l){for(var m=0;m<l.length;m++){var d=l[m];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(u,d.key,d)}}return function(u,l,m){return l&&v(u.prototype,l),m&&v(u,m),u}}(),g=function(){function v(){(function(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")})(this,v),this._firstCheckpoint=0,this._lastCheckpoint=0,this._intervalBytes=0,this._totalBytes=0,this._lastSecondBytes=0,self.performance&&self.performance.now?this._now=self.performance.now.bind(self.performance):this._now=Date.now}return c(v,[{key:"reset",value:function(){this._firstCheckpoint=this._lastCheckpoint=0,this._totalBytes=this._intervalBytes=0,this._lastSecondBytes=0}},{key:"addBytes",value:function(u){this._firstCheckpoint===0?(this._firstCheckpoint=this._now(),this._lastCheckpoint=this._firstCheckpoint,this._intervalBytes+=u,this._totalBytes+=u):this._now()-this._lastCheckpoint<1e3?(this._intervalBytes+=u,this._totalBytes+=u):(this._lastSecondBytes=this._intervalBytes,this._intervalBytes=u,this._totalBytes+=u,this._lastCheckpoint=this._now())}},{key:"currentKBps",get:function(){this.addBytes(0);var u=(this._now()-this._lastCheckpoint)/1e3;return u==0&&(u=1),this._intervalBytes/u/1024}},{key:"lastSecondKBps",get:function(){return this.addBytes(0),this._lastSecondBytes!==0?this._lastSecondBytes/1024:this._now()-this._lastCheckpoint>=500?this.currentKBps:0}},{key:"averageKBps",get:function(){var u=(this._now()-this._firstCheckpoint)/1e3;return this._totalBytes/u/1024}}]),v}();o.default=g},{}],28:[function(C,F,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var c=function(){function l(m,d){for(var S=0;S<d.length;S++){var w=d[S];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(m,w.key,w)}}return function(m,d,S){return d&&l(m.prototype,d),S&&l(m,S),m}}(),g=(function(l){l&&l.__esModule}(C("../utils/logger.js")),C("./loader.js")),v=C("../utils/exception.js"),u=function(l){function m(){(function(S,w){if(!(S instanceof w))throw new TypeError("Cannot call a class as a function")})(this,m);var d=function(S,w){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!w||typeof w!="object"&&typeof w!="function"?S:w}(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,"websocket-loader"));return d.TAG="WebSocketLoader",d._needStash=!0,d._ws=null,d._requestAbort=!1,d._receivedLength=0,d}return function(d,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);d.prototype=Object.create(S&&S.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(d,S):d.__proto__=S)}(m,l),c(m,null,[{key:"isSupported",value:function(){try{return self.WebSocket!==void 0}catch(d){return!1}}}]),c(m,[{key:"destroy",value:function(){this._ws&&this.abort(),function d(S,w,j){S===null&&(S=Function.prototype);var T=Object.getOwnPropertyDescriptor(S,w);if(T===void 0){var b=Object.getPrototypeOf(S);return b===null?void 0:d(b,w,j)}if("value"in T)return T.value;var x=T.get;return x!==void 0?x.call(j):void 0}(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"destroy",this).call(this)}},{key:"open",value:function(d){try{var S=this._ws=new self.WebSocket(d.url);S.binaryType="arraybuffer",S.onopen=this._onWebSocketOpen.bind(this),S.onclose=this._onWebSocketClose.bind(this),S.onmessage=this._onWebSocketMessage.bind(this),S.onerror=this._onWebSocketError.bind(this),this._status=g.LoaderStatus.kConnecting}catch(j){this._status=g.LoaderStatus.kError;var w={code:j.code,msg:j.message};if(!this._onError)throw new v.RuntimeException(w.msg);this._onError(g.LoaderErrors.EXCEPTION,w)}}},{key:"abort",value:function(){var d=this._ws;!d||d.readyState!==0&&d.readyState!==1||(this._requestAbort=!0,d.close()),this._ws=null,this._status=g.LoaderStatus.kComplete}},{key:"_onWebSocketOpen",value:function(d){this._status=g.LoaderStatus.kBuffering}},{key:"_onWebSocketClose",value:function(d){this._requestAbort!==!0?(this._status=g.LoaderStatus.kComplete,this._onComplete&&this._onComplete(0,this._receivedLength-1)):this._requestAbort=!1}},{key:"_onWebSocketMessage",value:function(d){var S=this;if(d.data instanceof ArrayBuffer)this._dispatchArrayBuffer(d.data);else if(d.data instanceof Blob){var w=new FileReader;w.onload=function(){S._dispatchArrayBuffer(w.result)},w.readAsArrayBuffer(d.data)}else{this._status=g.LoaderStatus.kError;var j={code:-1,msg:"Unsupported WebSocket message type: "+d.data.constructor.name};if(!this._onError)throw new v.RuntimeException(j.msg);this._onError(g.LoaderErrors.EXCEPTION,j)}}},{key:"_dispatchArrayBuffer",value:function(d){var S=d,w=this._receivedLength;this._receivedLength+=S.byteLength,this._onDataArrival&&this._onDataArrival(S,w,this._receivedLength)}},{key:"_onWebSocketError",value:function(d){this._status=g.LoaderStatus.kError;var S={code:d.code,msg:d.message};if(!this._onError)throw new v.RuntimeException(S.msg);this._onError(g.LoaderErrors.EXCEPTION,S)}}]),m}(g.BaseLoader);o.default=u},{"../utils/exception.js":40,"../utils/logger.js":41,"./loader.js":24}],29:[function(C,F,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},g=function(){function d(S,w){for(var j=0;j<w.length;j++){var T=w[j];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(S,T.key,T)}}return function(S,w,j){return w&&d(S.prototype,w),j&&d(S,j),S}}(),v=function(d){return d&&d.__esModule?d:{default:d}}(C("../utils/logger.js")),u=C("./loader.js"),l=C("../utils/exception.js"),m=function(d){function S(w,j){(function(b,x){if(!(b instanceof x))throw new TypeError("Cannot call a class as a function")})(this,S);var T=function(b,x){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!x||typeof x!="object"&&typeof x!="function"?b:x}(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,"xhr-moz-chunked-loader"));return T.TAG="MozChunkedLoader",T._seekHandler=w,T._config=j,T._needStash=!0,T._xhr=null,T._requestAbort=!1,T._contentLength=null,T._receivedLength=0,T}return function(w,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof j);w.prototype=Object.create(j&&j.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),j&&(Object.setPrototypeOf?Object.setPrototypeOf(w,j):w.__proto__=j)}(S,d),g(S,null,[{key:"isSupported",value:function(){try{var w=new XMLHttpRequest;return w.open("GET","https://example.com",!0),w.responseType="moz-chunked-arraybuffer",w.responseType==="moz-chunked-arraybuffer"}catch(j){return v.default.w("MozChunkedLoader",j.message),!1}}}]),g(S,[{key:"destroy",value:function(){this.isWorking()&&this.abort(),this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onloadend=null,this._xhr.onerror=null,this._xhr=null),function w(j,T,b){j===null&&(j=Function.prototype);var x=Object.getOwnPropertyDescriptor(j,T);if(x===void 0){var _=Object.getPrototypeOf(j);return _===null?void 0:w(_,T,b)}if("value"in x)return x.value;var k=x.get;return k!==void 0?k.call(b):void 0}(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"destroy",this).call(this)}},{key:"open",value:function(w,j){this._dataSource=w,this._range=j;var T=w.url;this._config.reuseRedirectedURL&&w.redirectedURL!=null&&(T=w.redirectedURL);var b=this._seekHandler.getConfig(T,j);this._requestURL=b.url;var x=this._xhr=new XMLHttpRequest;if(x.open("GET",b.url,!0),x.responseType="moz-chunked-arraybuffer",x.onreadystatechange=this._onReadyStateChange.bind(this),x.onprogress=this._onProgress.bind(this),x.onloadend=this._onLoadEnd.bind(this),x.onerror=this._onXhrError.bind(this),w.withCredentials&&(x.withCredentials=!0),c(b.headers)==="object"){var _=b.headers;for(var k in _)_.hasOwnProperty(k)&&x.setRequestHeader(k,_[k])}if(c(this._config.headers)==="object"){var O=this._config.headers;for(var I in O)O.hasOwnProperty(I)&&x.setRequestHeader(I,O[I])}this._status=u.LoaderStatus.kConnecting,x.send()}},{key:"abort",value:function(){this._requestAbort=!0,this._xhr&&this._xhr.abort(),this._status=u.LoaderStatus.kComplete}},{key:"_onReadyStateChange",value:function(w){var j=w.target;if(j.readyState===2){if(j.responseURL!=null&&j.responseURL!==this._requestURL&&this._onURLRedirect){var T=this._seekHandler.removeURLParameters(j.responseURL);this._onURLRedirect(T)}if(j.status!==0&&(j.status<200||j.status>299)){if(this._status=u.LoaderStatus.kError,!this._onError)throw new l.RuntimeException("MozChunkedLoader: Http code invalid, "+j.status+" "+j.statusText);this._onError(u.LoaderErrors.HTTP_STATUS_CODE_INVALID,{code:j.status,msg:j.statusText})}else this._status=u.LoaderStatus.kBuffering}}},{key:"_onProgress",value:function(w){if(this._status!==u.LoaderStatus.kError){this._contentLength===null&&w.total!==null&&w.total!==0&&(this._contentLength=w.total,this._onContentLengthKnown&&this._onContentLengthKnown(this._contentLength));var j=w.target.response,T=this._range.from+this._receivedLength;this._receivedLength+=j.byteLength,this._onDataArrival&&this._onDataArrival(j,T,this._receivedLength)}}},{key:"_onLoadEnd",value:function(w){this._requestAbort!==!0?this._status!==u.LoaderStatus.kError&&(this._status=u.LoaderStatus.kComplete,this._onComplete&&this._onComplete(this._range.from,this._range.from+this._receivedLength-1)):this._requestAbort=!1}},{key:"_onXhrError",value:function(w){this._status=u.LoaderStatus.kError;var j=0,T=null;if(this._contentLength&&w.loaded<this._contentLength?(j=u.LoaderErrors.EARLY_EOF,T={code:-1,msg:"Moz-Chunked stream meet Early-Eof"}):(j=u.LoaderErrors.EXCEPTION,T={code:-1,msg:w.constructor.name+" "+w.type}),!this._onError)throw new l.RuntimeException(T.msg);this._onError(j,T)}}]),S}(u.BaseLoader);o.default=m},{"../utils/exception.js":40,"../utils/logger.js":41,"./loader.js":24}],30:[function(C,F,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},g=function(){function d(S,w){for(var j=0;j<w.length;j++){var T=w[j];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(S,T.key,T)}}return function(S,w,j){return w&&d(S.prototype,w),j&&d(S,j),S}}(),v=function(d){return d&&d.__esModule?d:{default:d}}(C("../utils/logger.js")),u=C("./loader.js"),l=C("../utils/exception.js"),m=function(d){function S(w,j){(function(b,x){if(!(b instanceof x))throw new TypeError("Cannot call a class as a function")})(this,S);var T=function(b,x){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!x||typeof x!="object"&&typeof x!="function"?b:x}(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,"xhr-msstream-loader"));return T.TAG="MSStreamLoader",T._seekHandler=w,T._config=j,T._needStash=!0,T._xhr=null,T._reader=null,T._totalRange=null,T._currentRange=null,T._currentRequestURL=null,T._currentRedirectedURL=null,T._contentLength=null,T._receivedLength=0,T._bufferLimit=16777216,T._lastTimeBufferSize=0,T._isReconnecting=!1,T}return function(w,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof j);w.prototype=Object.create(j&&j.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),j&&(Object.setPrototypeOf?Object.setPrototypeOf(w,j):w.__proto__=j)}(S,d),g(S,null,[{key:"isSupported",value:function(){try{if(self.MSStream===void 0||self.MSStreamReader===void 0)return!1;var w=new XMLHttpRequest;return w.open("GET","https://example.com",!0),w.responseType="ms-stream",w.responseType==="ms-stream"}catch(j){return v.default.w("MSStreamLoader",j.message),!1}}}]),g(S,[{key:"destroy",value:function(){this.isWorking()&&this.abort(),this._reader&&(this._reader.onprogress=null,this._reader.onload=null,this._reader.onerror=null,this._reader=null),this._xhr&&(this._xhr.onreadystatechange=null,this._xhr=null),function w(j,T,b){j===null&&(j=Function.prototype);var x=Object.getOwnPropertyDescriptor(j,T);if(x===void 0){var _=Object.getPrototypeOf(j);return _===null?void 0:w(_,T,b)}if("value"in x)return x.value;var k=x.get;return k!==void 0?k.call(b):void 0}(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"destroy",this).call(this)}},{key:"open",value:function(w,j){this._internalOpen(w,j,!1)}},{key:"_internalOpen",value:function(w,j,T){this._dataSource=w,T?this._currentRange=j:this._totalRange=j;var b=w.url;this._config.reuseRedirectedURL&&(this._currentRedirectedURL!=null?b=this._currentRedirectedURL:w.redirectedURL!=null&&(b=w.redirectedURL));var x=this._seekHandler.getConfig(b,j);this._currentRequestURL=x.url;var _=this._reader=new self.MSStreamReader;_.onprogress=this._msrOnProgress.bind(this),_.onload=this._msrOnLoad.bind(this),_.onerror=this._msrOnError.bind(this);var k=this._xhr=new XMLHttpRequest;if(k.open("GET",x.url,!0),k.responseType="ms-stream",k.onreadystatechange=this._xhrOnReadyStateChange.bind(this),k.onerror=this._xhrOnError.bind(this),w.withCredentials&&(k.withCredentials=!0),c(x.headers)==="object"){var O=x.headers;for(var I in O)O.hasOwnProperty(I)&&k.setRequestHeader(I,O[I])}if(c(this._config.headers)==="object"){var V=this._config.headers;for(var H in V)V.hasOwnProperty(H)&&k.setRequestHeader(H,V[H])}this._isReconnecting?this._isReconnecting=!1:this._status=u.LoaderStatus.kConnecting,k.send()}},{key:"abort",value:function(){this._internalAbort(),this._status=u.LoaderStatus.kComplete}},{key:"_internalAbort",value:function(){this._reader&&(this._reader.readyState===1&&this._reader.abort(),this._reader.onprogress=null,this._reader.onload=null,this._reader.onerror=null,this._reader=null),this._xhr&&(this._xhr.abort(),this._xhr.onreadystatechange=null,this._xhr=null)}},{key:"_xhrOnReadyStateChange",value:function(w){var j=w.target;if(j.readyState===2)if(j.status>=200&&j.status<=299){if(this._status=u.LoaderStatus.kBuffering,j.responseURL!=null){var T=this._seekHandler.removeURLParameters(j.responseURL);j.responseURL!==this._currentRequestURL&&T!==this._currentRedirectedURL&&(this._currentRedirectedURL=T,this._onURLRedirect&&this._onURLRedirect(T))}var b=j.getResponseHeader("Content-Length");if(b!=null&&this._contentLength==null){var x=parseInt(b);x>0&&(this._contentLength=x,this._onContentLengthKnown&&this._onContentLengthKnown(this._contentLength))}}else{if(this._status=u.LoaderStatus.kError,!this._onError)throw new l.RuntimeException("MSStreamLoader: Http code invalid, "+j.status+" "+j.statusText);this._onError(u.LoaderErrors.HTTP_STATUS_CODE_INVALID,{code:j.status,msg:j.statusText})}else if(j.readyState===3&&j.status>=200&&j.status<=299){this._status=u.LoaderStatus.kBuffering;var _=j.response;this._reader.readAsArrayBuffer(_)}}},{key:"_xhrOnError",value:function(w){this._status=u.LoaderStatus.kError;var j=u.LoaderErrors.EXCEPTION,T={code:-1,msg:w.constructor.name+" "+w.type};if(!this._onError)throw new l.RuntimeException(T.msg);this._onError(j,T)}},{key:"_msrOnProgress",value:function(w){var j=w.target.result;if(j!=null){var T=j.slice(this._lastTimeBufferSize);this._lastTimeBufferSize=j.byteLength;var b=this._totalRange.from+this._receivedLength;this._receivedLength+=T.byteLength,this._onDataArrival&&this._onDataArrival(T,b,this._receivedLength),j.byteLength>=this._bufferLimit&&(v.default.v(this.TAG,"MSStream buffer exceeded max size near "+(b+T.byteLength)+", reconnecting..."),this._doReconnectIfNeeded())}else this._doReconnectIfNeeded()}},{key:"_doReconnectIfNeeded",value:function(){if(this._contentLength==null||this._receivedLength<this._contentLength){this._isReconnecting=!0,this._lastTimeBufferSize=0,this._internalAbort();var w={from:this._totalRange.from+this._receivedLength,to:-1};this._internalOpen(this._dataSource,w,!0)}}},{key:"_msrOnLoad",value:function(w){this._status=u.LoaderStatus.kComplete,this._onComplete&&this._onComplete(this._totalRange.from,this._totalRange.from+this._receivedLength-1)}},{key:"_msrOnError",value:function(w){this._status=u.LoaderStatus.kError;var j=0,T=null;if(this._contentLength&&this._receivedLength<this._contentLength?(j=u.LoaderErrors.EARLY_EOF,T={code:-1,msg:"MSStream meet Early-Eof"}):(j=u.LoaderErrors.EARLY_EOF,T={code:-1,msg:w.constructor.name+" "+w.type}),!this._onError)throw new l.RuntimeException(T.msg);this._onError(j,T)}}]),S}(u.BaseLoader);o.default=m},{"../utils/exception.js":40,"../utils/logger.js":41,"./loader.js":24}],31:[function(C,F,o){"use strict";function c(w){return w&&w.__esModule?w:{default:w}}Object.defineProperty(o,"__esModule",{value:!0});var g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},v=function(){function w(j,T){for(var b=0;b<T.length;b++){var x=T[b];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(j,x.key,x)}}return function(j,T,b){return T&&w(j.prototype,T),b&&w(j,b),j}}(),u=c(C("../utils/logger.js")),l=c(C("./speed-sampler.js")),m=C("./loader.js"),d=C("../utils/exception.js"),S=function(w){function j(T,b){(function(_,k){if(!(_ instanceof k))throw new TypeError("Cannot call a class as a function")})(this,j);var x=function(_,k){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!k||typeof k!="object"&&typeof k!="function"?_:k}(this,(j.__proto__||Object.getPrototypeOf(j)).call(this,"xhr-range-loader"));return x.TAG="RangeLoader",x._seekHandler=T,x._config=b,x._needStash=!1,x._chunkSizeKBList=[128,256,384,512,768,1024,1536,2048,3072,4096,5120,6144,7168,8192],x._currentChunkSizeKB=384,x._currentSpeedNormalized=0,x._zeroSpeedChunkCount=0,x._xhr=null,x._speedSampler=new l.default,x._requestAbort=!1,x._waitForTotalLength=!1,x._totalLengthReceived=!1,x._currentRequestURL=null,x._currentRedirectedURL=null,x._currentRequestRange=null,x._totalLength=null,x._contentLength=null,x._receivedLength=0,x._lastTimeLoaded=0,x}return function(T,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);T.prototype=Object.create(b&&b.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(T,b):T.__proto__=b)}(j,w),v(j,null,[{key:"isSupported",value:function(){try{var T=new XMLHttpRequest;return T.open("GET","https://example.com",!0),T.responseType="arraybuffer",T.responseType==="arraybuffer"}catch(b){return u.default.w("RangeLoader",b.message),!1}}}]),v(j,[{key:"destroy",value:function(){this.isWorking()&&this.abort(),this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onload=null,this._xhr.onerror=null,this._xhr=null),function T(b,x,_){b===null&&(b=Function.prototype);var k=Object.getOwnPropertyDescriptor(b,x);if(k===void 0){var O=Object.getPrototypeOf(b);return O===null?void 0:T(O,x,_)}if("value"in k)return k.value;var I=k.get;return I!==void 0?I.call(_):void 0}(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"destroy",this).call(this)}},{key:"open",value:function(T,b){this._dataSource=T,this._range=b,this._status=m.LoaderStatus.kConnecting;var x=!1;this._dataSource.filesize!=null&&this._dataSource.filesize!==0&&(x=!0,this._totalLength=this._dataSource.filesize),this._totalLengthReceived||x?this._openSubRange():(this._waitForTotalLength=!0,this._internalOpen(this._dataSource,{from:0,to:-1}))}},{key:"_openSubRange",value:function(){var T=1024*this._currentChunkSizeKB,b=this._range.from+this._receivedLength,x=b+T;this._contentLength!=null&&x-this._range.from>=this._contentLength&&(x=this._range.from+this._contentLength-1),this._currentRequestRange={from:b,to:x},this._internalOpen(this._dataSource,this._currentRequestRange)}},{key:"_internalOpen",value:function(T,b){this._lastTimeLoaded=0;var x=T.url;this._config.reuseRedirectedURL&&(this._currentRedirectedURL!=null?x=this._currentRedirectedURL:T.redirectedURL!=null&&(x=T.redirectedURL));var _=this._seekHandler.getConfig(x,b);this._currentRequestURL=_.url;var k=this._xhr=new XMLHttpRequest;if(k.open("GET",_.url,!0),k.responseType="arraybuffer",k.onreadystatechange=this._onReadyStateChange.bind(this),k.onprogress=this._onProgress.bind(this),k.onload=this._onLoad.bind(this),k.onerror=this._onXhrError.bind(this),T.withCredentials&&(k.withCredentials=!0),g(_.headers)==="object"){var O=_.headers;for(var I in O)O.hasOwnProperty(I)&&k.setRequestHeader(I,O[I])}if(g(this._config.headers)==="object"){var V=this._config.headers;for(var H in V)V.hasOwnProperty(H)&&k.setRequestHeader(H,V[H])}k.send()}},{key:"abort",value:function(){this._requestAbort=!0,this._internalAbort(),this._status=m.LoaderStatus.kComplete}},{key:"_internalAbort",value:function(){this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onload=null,this._xhr.onerror=null,this._xhr.abort(),this._xhr=null)}},{key:"_onReadyStateChange",value:function(T){var b=T.target;if(b.readyState===2){if(b.responseURL!=null){var x=this._seekHandler.removeURLParameters(b.responseURL);b.responseURL!==this._currentRequestURL&&x!==this._currentRedirectedURL&&(this._currentRedirectedURL=x,this._onURLRedirect&&this._onURLRedirect(x))}if(b.status>=200&&b.status<=299){if(this._waitForTotalLength)return;this._status=m.LoaderStatus.kBuffering}else{if(this._status=m.LoaderStatus.kError,!this._onError)throw new d.RuntimeException("RangeLoader: Http code invalid, "+b.status+" "+b.statusText);this._onError(m.LoaderErrors.HTTP_STATUS_CODE_INVALID,{code:b.status,msg:b.statusText})}}}},{key:"_onProgress",value:function(T){if(this._status!==m.LoaderStatus.kError){if(this._contentLength===null){var b=!1;if(this._waitForTotalLength){this._waitForTotalLength=!1,this._totalLengthReceived=!0,b=!0;var x=T.total;this._internalAbort(),x!=null&x!==0&&(this._totalLength=x)}if(this._range.to===-1?this._contentLength=this._totalLength-this._range.from:this._contentLength=this._range.to-this._range.from+1,b)return void this._openSubRange();this._onContentLengthKnown&&this._onContentLengthKnown(this._contentLength)}var _=T.loaded-this._lastTimeLoaded;this._lastTimeLoaded=T.loaded,this._speedSampler.addBytes(_)}}},{key:"_normalizeSpeed",value:function(T){var b=this._chunkSizeKBList,x=b.length-1,_=0,k=0,O=x;if(T<b[0])return b[0];for(;k<=O;){if((_=k+Math.floor((O-k)/2))===x||T>=b[_]&&T<b[_+1])return b[_];b[_]<T?k=_+1:O=_-1}}},{key:"_onLoad",value:function(T){if(this._status!==m.LoaderStatus.kError){if(this._waitForTotalLength)return void(this._waitForTotalLength=!1);this._lastTimeLoaded=0;var b=this._speedSampler.lastSecondKBps;if(b===0&&++this._zeroSpeedChunkCount>=3&&(b=this._speedSampler.currentKBps),b!==0){var x=this._normalizeSpeed(b);this._currentSpeedNormalized!==x&&(this._currentSpeedNormalized=x,this._currentChunkSizeKB=x)}var _=T.target.response,k=this._range.from+this._receivedLength;this._receivedLength+=_.byteLength;var O=!1;this._contentLength!=null&&this._receivedLength<this._contentLength?this._openSubRange():O=!0,this._onDataArrival&&this._onDataArrival(_,k,this._receivedLength),O&&(this._status=m.LoaderStatus.kComplete,this._onComplete&&this._onComplete(this._range.from,this._range.from+this._receivedLength-1))}}},{key:"_onXhrError",value:function(T){this._status=m.LoaderStatus.kError;var b=0,x=null;if(this._contentLength&&this._receivedLength>0&&this._receivedLength<this._contentLength?(b=m.LoaderErrors.EARLY_EOF,x={code:-1,msg:"RangeLoader meet Early-Eof"}):(b=m.LoaderErrors.EXCEPTION,x={code:-1,msg:T.constructor.name+" "+T.type}),!this._onError)throw new d.RuntimeException(x.msg);this._onError(b,x)}},{key:"currentSpeed",get:function(){return this._speedSampler.lastSecondKBps}}]),j}(m.BaseLoader);o.default=S},{"../utils/exception.js":40,"../utils/logger.js":41,"./loader.js":24,"./speed-sampler.js":27}],32:[function(C,F,o){"use strict";function c(O){return O&&O.__esModule?O:{default:O}}Object.defineProperty(o,"__esModule",{value:!0});var g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},v=function(){function O(I,V){for(var H=0;H<V.length;H++){var G=V[H];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(I,G.key,G)}}return function(I,V,H){return V&&O(I.prototype,V),H&&O(I,H),I}}(),u=c(C("events")),l=c(C("../utils/logger.js")),m=c(C("../utils/browser.js")),d=c(C("./player-events.js")),S=c(C("../core/transmuxer.js")),w=c(C("../core/transmuxing-events.js")),j=c(C("../core/mse-controller.js")),T=c(C("../core/mse-events.js")),b=C("./player-errors.js"),x=C("../config.js"),_=C("../utils/exception.js"),k=function(){function O(I,V){if(function(G,K){if(!(G instanceof K))throw new TypeError("Cannot call a class as a function")}(this,O),this.TAG="FlvPlayer",this._type="FlvPlayer",this._emitter=new u.default,this._config=(0,x.createDefaultConfig)(),(V===void 0?"undefined":g(V))==="object"&&Object.assign(this._config,V),I.type.toLowerCase()!=="flv")throw new _.InvalidArgumentException("FlvPlayer requires an flv MediaDataSource input!");I.isLive===!0&&(this._config.isLive=!0),this.e={onvLoadedMetadata:this._onvLoadedMetadata.bind(this),onvSeeking:this._onvSeeking.bind(this),onvCanPlay:this._onvCanPlay.bind(this),onvStalled:this._onvStalled.bind(this),onvProgress:this._onvProgress.bind(this)},self.performance&&self.performance.now?this._now=self.performance.now.bind(self.performance):this._now=Date.now,this._pendingSeekTime=null,this._requestSetTime=!1,this._seekpointRecord=null,this._progressChecker=null,this._mediaDataSource=I,this._mediaElement=null,this._msectl=null,this._transmuxer=null,this._mseSourceOpened=!1,this._hasPendingLoad=!1,this._receivedCanPlay=!1,this._mediaInfo=null,this._statisticsInfo=null;var H=m.default.chrome&&(m.default.version.major<50||m.default.version.major===50&&m.default.version.build<2661);this._alwaysSeekKeyframe=!!(H||m.default.msedge||m.default.msie),this._alwaysSeekKeyframe&&(this._config.accurateSeek=!1)}return v(O,[{key:"destroy",value:function(){this._progressChecker!=null&&(window.clearInterval(this._progressChecker),this._progressChecker=null),this._transmuxer&&this.unload(),this._mediaElement&&this.detachMediaElement(),this.e=null,this._mediaDataSource=null,this._emitter&&this._emitter.removeAllListeners(),this._emitter=null}},{key:"on",value:function(I,V){var H=this;I===d.default.MEDIA_INFO?this._mediaInfo!=null&&Promise.resolve().then(function(){H._emitter.emit(d.default.MEDIA_INFO,H.mediaInfo)}):I===d.default.STATISTICS_INFO&&this._statisticsInfo!=null&&Promise.resolve().then(function(){H._emitter.emit(d.default.STATISTICS_INFO,H.statisticsInfo)}),this._emitter.addListener(I,V)}},{key:"off",value:function(I,V){this._emitter.removeListener(I,V)}},{key:"attachMediaElement",value:function(I){var V=this;if(this._mediaElement=I,I.addEventListener("loadedmetadata",this.e.onvLoadedMetadata),I.addEventListener("seeking",this.e.onvSeeking),I.addEventListener("canplay",this.e.onvCanPlay),I.addEventListener("stalled",this.e.onvStalled),I.addEventListener("progress",this.e.onvProgress),this._msectl=new j.default(this._config),this._msectl.on(T.default.UPDATE_END,this._onmseUpdateEnd.bind(this)),this._msectl.on(T.default.BUFFER_FULL,this._onmseBufferFull.bind(this)),this._msectl.on(T.default.SOURCE_OPEN,function(){V._mseSourceOpened=!0,V._hasPendingLoad&&(V._hasPendingLoad=!1,V.load())}),this._msectl.on(T.default.ERROR,function(H){V._emitter.emit(d.default.ERROR,b.ErrorTypes.MEDIA_ERROR,b.ErrorDetails.MEDIA_MSE_ERROR,H)}),this._msectl.attachMediaElement(I),this._pendingSeekTime!=null)try{I.currentTime=this._pendingSeekTime,this._pendingSeekTime=null}catch(H){}}},{key:"detachMediaElement",value:function(){this._mediaElement&&(this._msectl.detachMediaElement(),this._mediaElement.removeEventListener("loadedmetadata",this.e.onvLoadedMetadata),this._mediaElement.removeEventListener("seeking",this.e.onvSeeking),this._mediaElement.removeEventListener("canplay",this.e.onvCanPlay),this._mediaElement.removeEventListener("stalled",this.e.onvStalled),this._mediaElement.removeEventListener("progress",this.e.onvProgress),this._mediaElement=null),this._msectl&&(this._msectl.destroy(),this._msectl=null)}},{key:"load",value:function(){var I=this,V=!1,H=0;if(!this._mediaElement)throw new _.IllegalStateException("HTMLMediaElement must be attached before load()!");if(this._transmuxer)throw new _.IllegalStateException("FlvPlayer.load() has been called, please call unload() first!");if(!this._hasPendingLoad){if(this._config.deferLoadAfterSourceOpen&&this._mseSourceOpened===!1)return void(this._hasPendingLoad=!0);this._mediaElement.readyState>0&&(this._requestSetTime=!0,this._mediaElement.currentTime=0),this._transmuxer=new S.default(this._mediaDataSource,this._config),this._transmuxer.on(w.default.INIT_SEGMENT,function(G,K){I._msectl.appendInitSegment(K)}),this._transmuxer.on(w.default.MEDIA_SEGMENT,function(G,K){if(I._msectl.appendMediaSegment(K),I._config.isLive&&K.type=="video"){flvjs.reconnect&&(I.dataRetryTimer&&(clearTimeout(I.dataRetryTimer),I.dataRetryTimer=0),I.dataRetryTimer=setTimeout(function(){I._mediaElement&&(I.unload(),I.load(),setTimeout(function(){I.play().catch(function(){})},1e3),console.log("reconnect"))},1e3));var et=I._mediaElement.currentTime,ct=I._mediaElement.paused,gt=K.info.beginPts-1e3*et;if(gt>=3e3&&!V&&!ct&&et){if(H&&H==et)return void(gt>=5e3&&I._emitter.emit(d.default.ERROR,b.ErrorTypes.OTHER_ERROR,"got wrong timestamp ",K.info.beginPts));var Mt=K.info.beginPts/1e3-1;l.default.w(I.TAG,"Live seems stuck at "+et+", try seek to "+Mt),V=!0,I._requestSetTime=!0,I.currentTime=Mt,H=et}else K.info.beginPts-1e3*et>=2e3&&V&&(V=!1)}I._config.lazyLoad&&!I._config.isLive&&(et=I._mediaElement.currentTime,K.info.endDts>=1e3*(et+I._config.lazyLoadMaxDuration)&&I._progressChecker==null&&(l.default.v(I.TAG,"Maximum buffering duration exceeded, suspend transmuxing task"),I._suspendTransmuxer()))}),this._transmuxer.on(w.default.LOADING_COMPLETE,function(){I._msectl.endOfStream(),I._emitter.emit(d.default.LOADING_COMPLETE)}),this._transmuxer.on(w.default.RECOVERED_EARLY_EOF,function(){I._emitter.emit(d.default.RECOVERED_EARLY_EOF)}),this._transmuxer.on(w.default.IO_ERROR,function(G,K){I._emitter.emit(d.default.ERROR,b.ErrorTypes.NETWORK_ERROR,G,K)}),this._transmuxer.on(w.default.DEMUX_ERROR,function(G,K){I._emitter.emit(d.default.ERROR,b.ErrorTypes.MEDIA_ERROR,G,{code:-1,msg:K})}),this._transmuxer.on(w.default.MEDIA_INFO,function(G){I._mediaInfo=G,I._emitter.emit(d.default.MEDIA_INFO,Object.assign({},G))}),this._transmuxer.on(w.default.METADATA_ARRIVED,function(G){I._emitter.emit(d.default.METADATA_ARRIVED,G)}),this._transmuxer.on(w.default.SCRIPTDATA_ARRIVED,function(G){I._emitter.emit(d.default.SCRIPTDATA_ARRIVED,G)}),this._transmuxer.on(w.default.STATISTICS_INFO,function(G){I._statisticsInfo=I._fillStatisticsInfo(G),I._emitter.emit(d.default.STATISTICS_INFO,Object.assign({},I._statisticsInfo))}),this._transmuxer.on(w.default.RECOMMEND_SEEKPOINT,function(G){I._mediaElement&&!I._config.accurateSeek&&(console.log("recommend seekpoint",G/1e3),I._requestSetTime=!0,I._mediaElement.currentTime=G/1e3)}),this._transmuxer.open()}}},{key:"unload",value:function(){this._mediaElement&&this._mediaElement.pause(),this._msectl&&this._msectl.seek(0),this._transmuxer&&(this._transmuxer.close(),this._transmuxer.destroy(),this._transmuxer=null)}},{key:"play",value:function(){return this._mediaElement.play()}},{key:"pause",value:function(){this._mediaElement.pause()}},{key:"_fillStatisticsInfo",value:function(I){if(I.playerType=this._type,!(this._mediaElement instanceof HTMLVideoElement))return I;var V=!0,H=0,G=0;if(this._mediaElement.getVideoPlaybackQuality){var K=this._mediaElement.getVideoPlaybackQuality();H=K.totalVideoFrames,G=K.droppedVideoFrames}else this._mediaElement.webkitDecodedFrameCount!=null?(H=this._mediaElement.webkitDecodedFrameCount,G=this._mediaElement.webkitDroppedFrameCount):V=!1;return V&&(I.decodedFrames=H,I.droppedFrames=G),I}},{key:"_onmseUpdateEnd",value:function(){if(this._config.lazyLoad&&!this._config.isLive){for(var I=this._mediaElement.buffered,V=this._mediaElement.currentTime,H=0,G=0;G<I.length;G++){var K=I.start(G),et=I.end(G);if(K<=V&&V<et){H=et;break}}H>=V+this._config.lazyLoadMaxDuration&&this._progressChecker==null&&(l.default.v(this.TAG,"Maximum buffering duration exceeded, suspend transmuxing task"),this._suspendTransmuxer())}}},{key:"_onmseBufferFull",value:function(){l.default.v(this.TAG,"MSE SourceBuffer is full, suspend transmuxing task"),this._progressChecker==null&&this._suspendTransmuxer()}},{key:"_suspendTransmuxer",value:function(){this._transmuxer&&(this._transmuxer.pause(),this._progressChecker==null&&(this._progressChecker=window.setInterval(this._checkProgressAndResume.bind(this),1e3)))}},{key:"_checkProgressAndResume",value:function(){for(var I=this._mediaElement.currentTime,V=this._mediaElement.buffered,H=!1,G=0;G<V.length;G++){var K=V.start(G),et=V.end(G);if(I>=K&&I<et){I>=et-this._config.lazyLoadRecoverDuration&&(H=!0);break}}H&&(window.clearInterval(this._progressChecker),this._progressChecker=null,H&&(l.default.v(this.TAG,"Continue loading from paused position"),this._transmuxer.resume()))}},{key:"_isTimepointBuffered",value:function(I){for(var V=this._mediaElement.buffered,H=0;H<V.length;H++){var G=V.start(H),K=V.end(H);if(I>=G&&I<K)return!0}return!1}},{key:"_internalSeek",value:function(I){var V=this._isTimepointBuffered(I),H=!1,G=0;if(I<1&&this._mediaElement.buffered.length>0){var K=this._mediaElement.buffered.start(0);(K<1&&I<K||m.default.safari)&&(H=!0,G=m.default.safari?.1:K)}if(H)this._requestSetTime=!0,this._mediaElement.currentTime=G;else if(V){if(this._alwaysSeekKeyframe){var et=this._msectl.getNearestKeyframe(Math.floor(1e3*I));this._requestSetTime=!0,this._mediaElement.currentTime=et!=null?et.dts/1e3:I}else this._requestSetTime=!0,this._mediaElement.currentTime=I;this._progressChecker!=null&&this._checkProgressAndResume()}else this._progressChecker!=null&&(window.clearInterval(this._progressChecker),this._progressChecker=null),this._msectl.seek(I),this._transmuxer.seek(Math.floor(1e3*I)),this._config.accurateSeek&&(this._requestSetTime=!0,this._mediaElement.currentTime=I)}},{key:"_checkAndApplyUnbufferedSeekpoint",value:function(){if(this._seekpointRecord)if(this._seekpointRecord.recordTime<=this._now()-100){var I=this._mediaElement.currentTime;this._seekpointRecord=null,this._isTimepointBuffered(I)||(this._progressChecker!=null&&(window.clearTimeout(this._progressChecker),this._progressChecker=null),this._msectl.seek(I),this._transmuxer.seek(Math.floor(1e3*I)),this._config.accurateSeek&&(this._requestSetTime=!0,this._mediaElement.currentTime=I))}else window.setTimeout(this._checkAndApplyUnbufferedSeekpoint.bind(this),50)}},{key:"_checkAndResumeStuckPlayback",value:function(I){var V=this._mediaElement;if(I||!this._receivedCanPlay||V.readyState<2){var H=V.buffered;if(H.length>0&&V.currentTime<H.end(0)){if(this._config.isLive&&H.end(0)-V.currentTime>3600)return l.default.w(this.TAG,"Playback seems stuck at "+V.currentTime+", try seek to "+H.end(0)+", cancle"),this._mediaElement.removeEventListener("progress",this.e.onvProgress),void this._emitter.emit(d.default.ERROR,b.ErrorTypes.MEDIA_ERROR,"got wrong timestamp ",H.end(0));l.default.w(this.TAG,"Playback seems stuck at "+V.currentTime+", seek to "+H.end(0)),this._requestSetTime=!0,this._mediaElement.currentTime=H.end(0),this._mediaElement.removeEventListener("progress",this.e.onvProgress)}}else this._mediaElement.removeEventListener("progress",this.e.onvProgress)}},{key:"_onvLoadedMetadata",value:function(I){this._pendingSeekTime!=null&&(this._mediaElement.currentTime=this._pendingSeekTime,this._pendingSeekTime=null)}},{key:"_onvSeeking",value:function(I){var V=this._mediaElement.currentTime,H=this._mediaElement.buffered;if(this._requestSetTime)this._requestSetTime=!1;else{if(V<1&&H.length>0){var G=H.start(0);if(G<1&&V<G||m.default.safari)return this._requestSetTime=!0,void(this._mediaElement.currentTime=m.default.safari?.1:G)}if(this._isTimepointBuffered(V)){if(this._alwaysSeekKeyframe){var K=this._msectl.getNearestKeyframe(Math.floor(1e3*V));K!=null&&(this._requestSetTime=!0,this._mediaElement.currentTime=K.dts/1e3)}this._progressChecker!=null&&this._checkProgressAndResume()}else this._seekpointRecord={seekPoint:V,recordTime:this._now()},window.setTimeout(this._checkAndApplyUnbufferedSeekpoint.bind(this),50)}}},{key:"_onvCanPlay",value:function(I){this._receivedCanPlay=!0,this._mediaElement.removeEventListener("canplay",this.e.onvCanPlay)}},{key:"_onvStalled",value:function(I){this._checkAndResumeStuckPlayback(!0)}},{key:"_onvProgress",value:function(I){this._checkAndResumeStuckPlayback()}},{key:"type",get:function(){return this._type}},{key:"buffered",get:function(){return this._mediaElement.buffered}},{key:"duration",get:function(){return this._mediaElement.duration}},{key:"volume",get:function(){return this._mediaElement.volume},set:function(I){this._mediaElement.volume=I}},{key:"muted",get:function(){return this._mediaElement.muted},set:function(I){this._mediaElement.muted=I}},{key:"currentTime",get:function(){return this._mediaElement?this._mediaElement.currentTime:0},set:function(I){this._mediaElement?this._internalSeek(I):this._pendingSeekTime=I}},{key:"mediaInfo",get:function(){return Object.assign({},this._mediaInfo)}},{key:"statisticsInfo",get:function(){return this._statisticsInfo==null&&(this._statisticsInfo={}),this._statisticsInfo=this._fillStatisticsInfo(this._statisticsInfo),Object.assign({},this._statisticsInfo)}}]),O}();o.default=k},{"../config.js":5,"../core/mse-controller.js":9,"../core/mse-events.js":10,"../core/transmuxer.js":11,"../core/transmuxing-events.js":13,"../utils/browser.js":39,"../utils/exception.js":40,"../utils/logger.js":41,"./player-errors.js":34,"./player-events.js":35,events:2}],33:[function(C,F,o){"use strict";function c(w){return w&&w.__esModule?w:{default:w}}Object.defineProperty(o,"__esModule",{value:!0});var g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},v=function(){function w(j,T){for(var b=0;b<T.length;b++){var x=T[b];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(j,x.key,x)}}return function(j,T,b){return T&&w(j.prototype,T),b&&w(j,b),j}}(),u=c(C("events")),l=c(C("./player-events.js")),m=C("../config.js"),d=C("../utils/exception.js"),S=function(){function w(j,T){if(function(b,x){if(!(b instanceof x))throw new TypeError("Cannot call a class as a function")}(this,w),this.TAG="NativePlayer",this._type="NativePlayer",this._emitter=new u.default,this._config=(0,m.createDefaultConfig)(),(T===void 0?"undefined":g(T))==="object"&&Object.assign(this._config,T),j.type.toLowerCase()==="flv")throw new d.InvalidArgumentException("NativePlayer does't support flv MediaDataSource input!");if(j.hasOwnProperty("segments"))throw new d.InvalidArgumentException("NativePlayer("+j.type+") doesn't support multipart playback!");this.e={onvLoadedMetadata:this._onvLoadedMetadata.bind(this)},this._pendingSeekTime=null,this._statisticsReporter=null,this._mediaDataSource=j,this._mediaElement=null}return v(w,[{key:"destroy",value:function(){this._mediaElement&&(this.unload(),this.detachMediaElement()),this.e=null,this._mediaDataSource=null,this._emitter&&this._emitter.removeAllListeners(),this._emitter=null}},{key:"on",value:function(j,T){var b=this;j===l.default.MEDIA_INFO?this._mediaElement!=null&&this._mediaElement.readyState!==0&&Promise.resolve().then(function(){b._emitter.emit(l.default.MEDIA_INFO,b.mediaInfo)}):j===l.default.STATISTICS_INFO&&this._mediaElement!=null&&this._mediaElement.readyState!==0&&Promise.resolve().then(function(){b._emitter.emit(l.default.STATISTICS_INFO,b.statisticsInfo)}),this._emitter.addListener(j,T)}},{key:"off",value:function(j,T){this._emitter.removeListener(j,T)}},{key:"attachMediaElement",value:function(j){if(this._mediaElement=j,j.addEventListener("loadedmetadata",this.e.onvLoadedMetadata),this._pendingSeekTime!=null)try{j.currentTime=this._pendingSeekTime,this._pendingSeekTime=null}catch(T){}}},{key:"detachMediaElement",value:function(){this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src"),this._mediaElement.removeEventListener("loadedmetadata",this.e.onvLoadedMetadata),this._mediaElement=null),this._statisticsReporter!=null&&(window.clearInterval(this._statisticsReporter),this._statisticsReporter=null)}},{key:"load",value:function(){if(!this._mediaElement)throw new d.IllegalStateException("HTMLMediaElement must be attached before load()!");this._mediaElement.src=this._mediaDataSource.url,this._mediaElement.readyState>0&&(this._mediaElement.currentTime=0),this._mediaElement.preload="auto",this._mediaElement.load(),this._statisticsReporter=window.setInterval(this._reportStatisticsInfo.bind(this),this._config.statisticsInfoReportInterval)}},{key:"unload",value:function(){this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src")),this._statisticsReporter!=null&&(window.clearInterval(this._statisticsReporter),this._statisticsReporter=null)}},{key:"play",value:function(){return this._mediaElement.play()}},{key:"pause",value:function(){this._mediaElement.pause()}},{key:"_onvLoadedMetadata",value:function(j){this._pendingSeekTime!=null&&(this._mediaElement.currentTime=this._pendingSeekTime,this._pendingSeekTime=null),this._emitter.emit(l.default.MEDIA_INFO,this.mediaInfo)}},{key:"_reportStatisticsInfo",value:function(){this._emitter.emit(l.default.STATISTICS_INFO,this.statisticsInfo)}},{key:"type",get:function(){return this._type}},{key:"buffered",get:function(){return this._mediaElement.buffered}},{key:"duration",get:function(){return this._mediaElement.duration}},{key:"volume",get:function(){return this._mediaElement.volume},set:function(j){this._mediaElement.volume=j}},{key:"muted",get:function(){return this._mediaElement.muted},set:function(j){this._mediaElement.muted=j}},{key:"currentTime",get:function(){return this._mediaElement?this._mediaElement.currentTime:0},set:function(j){this._mediaElement?this._mediaElement.currentTime=j:this._pendingSeekTime=j}},{key:"mediaInfo",get:function(){var j={mimeType:(this._mediaElement instanceof HTMLAudioElement?"audio/":"video/")+this._mediaDataSource.type};return this._mediaElement&&(j.duration=Math.floor(1e3*this._mediaElement.duration),this._mediaElement instanceof HTMLVideoElement&&(j.width=this._mediaElement.videoWidth,j.height=this._mediaElement.videoHeight)),j}},{key:"statisticsInfo",get:function(){var j={playerType:this._type,url:this._mediaDataSource.url};if(!(this._mediaElement instanceof HTMLVideoElement))return j;var T=!0,b=0,x=0;if(this._mediaElement.getVideoPlaybackQuality){var _=this._mediaElement.getVideoPlaybackQuality();b=_.totalVideoFrames,x=_.droppedVideoFrames}else this._mediaElement.webkitDecodedFrameCount!=null?(b=this._mediaElement.webkitDecodedFrameCount,x=this._mediaElement.webkitDroppedFrameCount):T=!1;return T&&(j.decodedFrames=b,j.droppedFrames=x),j}}]),w}();o.default=S},{"../config.js":5,"../utils/exception.js":40,"./player-events.js":35,events:2}],34:[function(C,F,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.ErrorDetails=o.ErrorTypes=void 0;var c=C("../io/loader.js"),g=function(v){return v&&v.__esModule?v:{default:v}}(C("../demux/demux-errors.js"));o.ErrorTypes={NETWORK_ERROR:"NetworkError",MEDIA_ERROR:"MediaError",OTHER_ERROR:"OtherError"},o.ErrorDetails={NETWORK_EXCEPTION:c.LoaderErrors.EXCEPTION,NETWORK_STATUS_CODE_INVALID:c.LoaderErrors.HTTP_STATUS_CODE_INVALID,NETWORK_TIMEOUT:c.LoaderErrors.CONNECTING_TIMEOUT,NETWORK_UNRECOVERABLE_EARLY_EOF:c.LoaderErrors.UNRECOVERABLE_EARLY_EOF,MEDIA_MSE_ERROR:"MediaMSEError",MEDIA_FORMAT_ERROR:g.default.FORMAT_ERROR,MEDIA_FORMAT_UNSUPPORTED:g.default.FORMAT_UNSUPPORTED,MEDIA_CODEC_UNSUPPORTED:g.default.CODEC_UNSUPPORTED}},{"../demux/demux-errors.js":16,"../io/loader.js":24}],35:[function(C,F,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default={ERROR:"error",LOADING_COMPLETE:"loading_complete",RECOVERED_EARLY_EOF:"recovered_early_eof",MEDIA_INFO:"media_info",METADATA_ARRIVED:"metadata_arrived",SCRIPTDATA_ARRIVED:"scriptdata_arrived",STATISTICS_INFO:"statistics_info"}},{}],36:[function(C,F,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var c=function(){function v(u,l){for(var m=0;m<l.length;m++){var d=l[m];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(u,d.key,d)}}return function(u,l,m){return l&&v(u.prototype,l),m&&v(u,m),u}}(),g=function(){function v(){(function(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")})(this,v)}return c(v,null,[{key:"getSilentFrame",value:function(u,l){if(u==="mp4a.40.2"){if(l===1)return new Uint8Array([0,200,0,128,35,128]);if(l===2)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(l===3)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(l===4)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(l===5)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(l===6)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(l===1)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(l===2)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(l===3)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null}}]),v}();o.default=g},{}],37:[function(C,F,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var c=function(){function v(u,l){for(var m=0;m<l.length;m++){var d=l[m];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(u,d.key,d)}}return function(u,l,m){return l&&v(u.prototype,l),m&&v(u,m),u}}(),g=function(){function v(){(function(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")})(this,v)}return c(v,null,[{key:"init",value:function(){for(var u in v.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[],".mp3":[]},v.types)v.types.hasOwnProperty(u)&&(v.types[u]=[u.charCodeAt(0),u.charCodeAt(1),u.charCodeAt(2),u.charCodeAt(3)]);var l=v.constants={};l.FTYP=new Uint8Array([105,115,111,109,0,0,0,1,105,115,111,109,97,118,99,49]),l.STSD_PREFIX=new Uint8Array([0,0,0,0,0,0,0,1]),l.STTS=new Uint8Array([0,0,0,0,0,0,0,0]),l.STSC=l.STCO=l.STTS,l.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),l.HDLR_VIDEO=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),l.HDLR_AUDIO=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),l.DREF=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),l.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),l.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}},{key:"box",value:function(u){for(var l=8,m=null,d=Array.prototype.slice.call(arguments,1),S=d.length,w=0;w<S;w++)l+=d[w].byteLength;(m=new Uint8Array(l))[0]=l>>>24&255,m[1]=l>>>16&255,m[2]=l>>>8&255,m[3]=255&l,m.set(u,4);for(var j=8,T=0;T<S;T++)m.set(d[T],j),j+=d[T].byteLength;return m}},{key:"generateInitSegment",value:function(u){var l=v.box(v.types.ftyp,v.constants.FTYP),m=v.moov(u),d=new Uint8Array(l.byteLength+m.byteLength);return d.set(l,0),d.set(m,l.byteLength),d}},{key:"moov",value:function(u){var l=v.mvhd(u.timescale,u.duration),m=v.trak(u),d=v.mvex(u);return v.box(v.types.moov,l,m,d)}},{key:"mvhd",value:function(u,l){return v.box(v.types.mvhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,u>>>24&255,u>>>16&255,u>>>8&255,255&u,l>>>24&255,l>>>16&255,l>>>8&255,255&l,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]))}},{key:"trak",value:function(u){return v.box(v.types.trak,v.tkhd(u),v.mdia(u))}},{key:"tkhd",value:function(u){var l=u.id,m=u.duration,d=u.presentWidth,S=u.presentHeight;return v.box(v.types.tkhd,new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,l>>>24&255,l>>>16&255,l>>>8&255,255&l,0,0,0,0,m>>>24&255,m>>>16&255,m>>>8&255,255&m,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,d>>>8&255,255&d,0,0,S>>>8&255,255&S,0,0]))}},{key:"mdia",value:function(u){return v.box(v.types.mdia,v.mdhd(u),v.hdlr(u),v.minf(u))}},{key:"mdhd",value:function(u){var l=u.timescale,m=u.duration;return v.box(v.types.mdhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,l>>>24&255,l>>>16&255,l>>>8&255,255&l,m>>>24&255,m>>>16&255,m>>>8&255,255&m,85,196,0,0]))}},{key:"hdlr",value:function(u){var l;return l=u.type==="audio"?v.constants.HDLR_AUDIO:v.constants.HDLR_VIDEO,v.box(v.types.hdlr,l)}},{key:"minf",value:function(u){var l;return l=u.type==="audio"?v.box(v.types.smhd,v.constants.SMHD):v.box(v.types.vmhd,v.constants.VMHD),v.box(v.types.minf,l,v.dinf(),v.stbl(u))}},{key:"dinf",value:function(){return v.box(v.types.dinf,v.box(v.types.dref,v.constants.DREF))}},{key:"stbl",value:function(u){return v.box(v.types.stbl,v.stsd(u),v.box(v.types.stts,v.constants.STTS),v.box(v.types.stsc,v.constants.STSC),v.box(v.types.stsz,v.constants.STSZ),v.box(v.types.stco,v.constants.STCO))}},{key:"stsd",value:function(u){return u.type==="audio"?u.codec==="mp3"?v.box(v.types.stsd,v.constants.STSD_PREFIX,v.mp3(u)):v.box(v.types.stsd,v.constants.STSD_PREFIX,v.mp4a(u)):v.box(v.types.stsd,v.constants.STSD_PREFIX,v.avc1(u))}},{key:"mp3",value:function(u){var l=u.channelCount,m=u.audioSampleRate,d=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,l,0,16,0,0,0,0,m>>>8&255,255&m,0,0]);return v.box(v.types[".mp3"],d)}},{key:"mp4a",value:function(u){var l=u.channelCount,m=u.audioSampleRate,d=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,l,0,16,0,0,0,0,m>>>8&255,255&m,0,0]);return v.box(v.types.mp4a,d,v.esds(u))}},{key:"esds",value:function(u){var l=u.config||[],m=l.length,d=new Uint8Array([0,0,0,0,3,23+m,0,1,0,4,15+m,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([m]).concat(l).concat([6,1,2]));return v.box(v.types.esds,d)}},{key:"avc1",value:function(u){var l=u.avcc,m=u.codecWidth,d=u.codecHeight,S=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,m>>>8&255,255&m,d>>>8&255,255&d,0,72,0,0,0,72,0,0,0,0,0,0,0,1,10,120,113,113,47,102,108,118,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,255,255]);return v.box(v.types.avc1,S,v.box(v.types.avcC,l))}},{key:"mvex",value:function(u){return v.box(v.types.mvex,v.trex(u))}},{key:"trex",value:function(u){var l=u.id,m=new Uint8Array([0,0,0,0,l>>>24&255,l>>>16&255,l>>>8&255,255&l,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return v.box(v.types.trex,m)}},{key:"moof",value:function(u,l){return v.box(v.types.moof,v.mfhd(u.sequenceNumber),v.traf(u,l))}},{key:"mfhd",value:function(u){var l=new Uint8Array([0,0,0,0,u>>>24&255,u>>>16&255,u>>>8&255,255&u]);return v.box(v.types.mfhd,l)}},{key:"traf",value:function(u,l){var m=u.id,d=v.box(v.types.tfhd,new Uint8Array([0,0,0,0,m>>>24&255,m>>>16&255,m>>>8&255,255&m])),S=v.box(v.types.tfdt,new Uint8Array([0,0,0,0,l>>>24&255,l>>>16&255,l>>>8&255,255&l])),w=v.sdtp(u),j=v.trun(u,w.byteLength+16+16+8+16+8+8);return v.box(v.types.traf,d,S,j,w)}},{key:"sdtp",value:function(u){for(var l=u.samples||[],m=l.length,d=new Uint8Array(4+m),S=0;S<m;S++){var w=l[S].flags;d[S+4]=w.isLeading<<6|w.dependsOn<<4|w.isDependedOn<<2|w.hasRedundancy}return v.box(v.types.sdtp,d)}},{key:"trun",value:function(u,l){var m=u.samples||[],d=m.length,S=12+16*d,w=new Uint8Array(S);l+=8+S,w.set([0,0,15,1,d>>>24&255,d>>>16&255,d>>>8&255,255&d,l>>>24&255,l>>>16&255,l>>>8&255,255&l],0);for(var j=0;j<d;j++){var T=m[j].duration,b=m[j].size,x=m[j].flags,_=m[j].cts;w.set([T>>>24&255,T>>>16&255,T>>>8&255,255&T,b>>>24&255,b>>>16&255,b>>>8&255,255&b,x.isLeading<<2|x.dependsOn,x.isDependedOn<<6|x.hasRedundancy<<4|x.isNonSync,0,0,_>>>24&255,_>>>16&255,_>>>8&255,255&_],12+16*j)}return v.box(v.types.trun,w)}},{key:"mdat",value:function(u){return v.box(v.types.mdat,u)}}]),v}();g.init(),o.default=g},{}],38:[function(C,F,o){"use strict";function c(j){return j&&j.__esModule?j:{default:j}}Object.defineProperty(o,"__esModule",{value:!0});var g=function(){function j(T,b){for(var x=0;x<b.length;x++){var _=b[x];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(T,_.key,_)}}return function(T,b,x){return b&&j(T.prototype,b),x&&j(T,x),T}}(),v=c(C("../utils/logger.js")),u=c(C("./mp4-generator.js")),l=c(C("./aac-silent.js")),m=c(C("../utils/browser.js")),d=C("../core/media-segment-info.js"),S=C("../utils/exception.js"),w=function(){function j(T){(function(b,x){if(!(b instanceof x))throw new TypeError("Cannot call a class as a function")})(this,j),this.TAG="MP4Remuxer",this._config=T,this._isLive=T.isLive===!0,this._dtsBase=-1,this._dtsBaseInited=!1,this._audioDtsBase=1/0,this._videoDtsBase=1/0,this._audioNextDts=void 0,this._videoNextDts=void 0,this._audioStashedLastSample=null,this._videoStashedLastSample=null,this._audioMeta=null,this._videoMeta=null,this._audioSegmentInfoList=new d.MediaSegmentInfoList("audio"),this._videoSegmentInfoList=new d.MediaSegmentInfoList("video"),this._onInitSegment=null,this._onMediaSegment=null,this._forceFirstIDR=!(!m.default.chrome||!(m.default.version.major<50||m.default.version.major===50&&m.default.version.build<2661)),this._fillSilentAfterSeek=m.default.msedge||m.default.msie,this._mp3UseMpegAudio=!m.default.firefox,this._fillAudioTimestampGap=this._config.fixAudioTimestampGap}return g(j,[{key:"destroy",value:function(){this._dtsBase=-1,this._dtsBaseInited=!1,this._audioMeta=null,this._videoMeta=null,this._audioSegmentInfoList.clear(),this._audioSegmentInfoList=null,this._videoSegmentInfoList.clear(),this._videoSegmentInfoList=null,this._onInitSegment=null,this._onMediaSegment=null}},{key:"bindDataSource",value:function(T){return T.onDataAvailable=this.remux.bind(this),T.onTrackMetadata=this._onTrackMetadataReceived.bind(this),this}},{key:"insertDiscontinuity",value:function(){this._audioNextDts=this._videoNextDts=void 0}},{key:"seek",value:function(T){this._audioStashedLastSample=null,this._videoStashedLastSample=null,this._videoSegmentInfoList.clear(),this._audioSegmentInfoList.clear()}},{key:"remux",value:function(T,b){if(!this._onMediaSegment)throw new S.IllegalStateException("MP4Remuxer: onMediaSegment callback must be specificed!");this._dtsBaseInited||this._calculateDtsBase(T,b),this._remuxVideo(b),this._remuxAudio(T)}},{key:"_onTrackMetadataReceived",value:function(T,b){var x=null,_="mp4",k=b.codec;if(T==="audio")this._audioMeta=b,b.codec==="mp3"&&this._mp3UseMpegAudio?(_="mpeg",k="",x=new Uint8Array):x=u.default.generateInitSegment(b);else{if(T!=="video")return;this._videoMeta=b,x=u.default.generateInitSegment(b)}if(!this._onInitSegment)throw new S.IllegalStateException("MP4Remuxer: onInitSegment callback must be specified!");this._onInitSegment(T,{type:T,data:x.buffer,codec:k,container:T+"/"+_,mediaDuration:b.duration})}},{key:"_calculateDtsBase",value:function(T,b){this._dtsBaseInited||(T.samples&&T.samples.length&&(this._audioDtsBase=T.samples[0].dts),b.samples&&b.samples.length&&(this._videoDtsBase=b.samples[0].dts),this._dtsBase=Math.min(this._audioDtsBase,this._videoDtsBase),this._dtsBaseInited=!0)}},{key:"flushStashedSamples",value:function(){var T=this._videoStashedLastSample,b=this._audioStashedLastSample,x={type:"video",id:1,sequenceNumber:0,samples:[],length:0};T!=null&&(x.samples.push(T),x.length=T.length);var _={type:"audio",id:2,sequenceNumber:0,samples:[],length:0};b!=null&&(_.samples.push(b),_.length=b.length),this._videoStashedLastSample=null,this._audioStashedLastSample=null,this._remuxVideo(x,!0),this._remuxAudio(_,!0)}},{key:"_remuxAudio",value:function(T,b){if(this._audioMeta!=null){var x=T,_=x.samples,k=void 0,O=-1,I=-1,V=this._audioMeta.refSampleDuration,H=this._audioMeta.codec==="mp3"&&this._mp3UseMpegAudio,G=this._dtsBaseInited&&this._audioNextDts===void 0,K=!1;if(_&&_.length!==0&&(_.length!==1||b)){var et=0,ct=null,gt=0;H?(et=0,gt=x.length):(et=8,gt=8+x.length);var Mt=null;if(_.length>1&&(gt-=(Mt=_.pop()).length),this._audioStashedLastSample!=null){var Ut=this._audioStashedLastSample;this._audioStashedLastSample=null,_.unshift(Ut),gt+=Ut.length}Mt!=null&&(this._audioStashedLastSample=Mt);var ee=_[0].dts-this._dtsBase;if(this._audioNextDts)k=ee-this._audioNextDts;else if(this._audioSegmentInfoList.isEmpty())k=0,this._fillSilentAfterSeek&&!this._videoSegmentInfoList.isEmpty()&&this._audioMeta.originalCodec!=="mp3"&&(K=!0);else{var Jt=this._audioSegmentInfoList.getLastSampleBefore(ee);if(Jt!=null){var Lt=ee-(Jt.originalDts+Jt.duration);Lt<=3&&(Lt=0),k=ee-(Jt.dts+Jt.duration+Lt)}else k=0}if(K){var Zt=ee-k,me=this._videoSegmentInfoList.getLastSegmentBefore(ee);if(me!=null&&me.beginDts<Zt){var Gt=l.default.getSilentFrame(this._audioMeta.originalCodec,this._audioMeta.channelCount);if(Gt){var U=me.beginDts,ut=Zt-me.beginDts;v.default.v(this.TAG,"InsertPrefixSilentAudio: dts: "+U+", duration: "+ut),_.unshift({unit:Gt,dts:U,pts:U}),gt+=Gt.byteLength}}else K=!1}for(var ht=[],bt=0;bt<_.length;bt++){var Dt=_[bt],mt=Dt.unit,ft=Dt.dts-this._dtsBase,pt=ft,Rt=!1,Pt=null,Ht=0;if(!(ft<-.001)){if(this._audioMeta.codec!=="mp3"){var oe=ft;if(this._audioNextDts&&(oe=this._audioNextDts),(k=ft-oe)<=-3*V){v.default.w(this.TAG,"Dropping 1 audio frame (originalDts: "+ft+" ms ,curRefDts: "+oe+" ms)  due to dtsCorrection: "+k+" ms overlap.");continue}if(k>=3*V&&this._fillAudioTimestampGap&&!m.default.safari){Rt=!0;var Oe=Math.floor(k/V);v.default.w(this.TAG,`Large audio timestamp gap detected, may cause AV sync to drift. Silent frames will be generated to avoid unsync.
originalDts: `+ft+" ms, curRefDts: "+oe+" ms, dtsCorrection: "+Math.round(k)+" ms, generate: "+Oe+" frames"),pt=Math.floor(oe),Ht=Math.floor(oe+V)-pt;var ue=l.default.getSilentFrame(this._audioMeta.originalCodec,this._audioMeta.channelCount);ue==null&&(v.default.w(this.TAG,"Unable to generate silent frame for "+this._audioMeta.originalCodec+" with "+this._audioMeta.channelCount+" channels, repeat last frame"),ue=mt),Pt=[];for(var Yt=0;Yt<Oe;Yt++){oe+=V;var Ke=Math.floor(oe),Ee=Math.floor(oe+V)-Ke,Je={dts:Ke,pts:Ke,cts:0,unit:ue,size:ue.byteLength,duration:Ee,originalDts:ft,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0}};Pt.push(Je),gt+=Je.size}this._audioNextDts=oe+V}else pt=Math.floor(oe),Ht=Math.floor(oe+V)-pt,this._audioNextDts=oe+V}else pt=ft-k,bt!==_.length-1?Ht=_[bt+1].dts-this._dtsBase-k-pt:Mt!=null?Ht=Mt.dts-this._dtsBase-k-pt:Ht=ht.length>=1?ht[ht.length-1].duration:Math.floor(V),this._audioNextDts=pt+Ht;O===-1&&(O=pt),ht.push({dts:pt,pts:pt,cts:0,unit:Dt.unit,size:Dt.unit.byteLength,duration:Ht,originalDts:ft,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0}}),Rt&&ht.push.apply(ht,Pt)}}if(ht.length===0)return x.samples=[],void(x.length=0);H?ct=new Uint8Array(gt):((ct=new Uint8Array(gt))[0]=gt>>>24&255,ct[1]=gt>>>16&255,ct[2]=gt>>>8&255,ct[3]=255&gt,ct.set(u.default.types.mdat,4));for(var Te=0;Te<ht.length;Te++){var zn=ht[Te].unit;ct.set(zn,et),et+=zn.byteLength}var Qt=ht[ht.length-1];I=Qt.dts+Qt.duration;var Se=new d.MediaSegmentInfo;Se.beginDts=O,Se.endDts=I,Se.beginPts=O,Se.endPts=I,Se.originalBeginDts=ht[0].originalDts,Se.originalEndDts=Qt.originalDts+Qt.duration,Se.firstSample=new d.SampleInfo(ht[0].dts,ht[0].pts,ht[0].duration,ht[0].originalDts,!1),Se.lastSample=new d.SampleInfo(Qt.dts,Qt.pts,Qt.duration,Qt.originalDts,!1),this._isLive||this._audioSegmentInfoList.append(Se),x.samples=ht,x.sequenceNumber++;var ve;ve=H?new Uint8Array:u.default.moof(x,O),x.samples=[],x.length=0;var le={type:"audio",data:this._mergeBoxes(ve,ct).buffer,sampleCount:ht.length,info:Se};H&&G&&(le.timestampOffset=O),this._onMediaSegment("audio",le)}}}},{key:"_remuxVideo",value:function(T,b){if(this._videoMeta!=null){var x=T,_=x.samples,k=void 0,O=-1,I=-1,V=-1,H=-1;if(_&&_.length!==0&&(_.length!==1||b)){var G=8,K=null,et=8+T.length,ct=null;if(_.length>1&&(et-=(ct=_.pop()).length),this._videoStashedLastSample!=null){var gt=this._videoStashedLastSample;this._videoStashedLastSample=null,_.unshift(gt),et+=gt.length}ct!=null&&(this._videoStashedLastSample=ct);var Mt=_[0].dts-this._dtsBase;if(this._videoNextDts)k=Mt-this._videoNextDts;else if(this._videoSegmentInfoList.isEmpty())k=0;else{var Ut=this._videoSegmentInfoList.getLastSampleBefore(Mt);if(Ut!=null){var ee=Mt-(Ut.originalDts+Ut.duration);ee<=3&&(ee=0),k=Mt-(Ut.dts+Ut.duration+ee)}else k=0}for(var Jt=new d.MediaSegmentInfo,Lt=[],Zt=0;Zt<_.length;Zt++){var me=_[Zt],Gt=me.dts-this._dtsBase,U=me.isKeyframe,ut=Gt-k,ht=me.cts,bt=ut+ht;O===-1&&(O=ut,V=bt);var Dt=0;if(Zt!==_.length-1?Dt=_[Zt+1].dts-this._dtsBase-k-ut:ct!=null?Dt=ct.dts-this._dtsBase-k-ut:Dt=Lt.length>=1?Lt[Lt.length-1].duration:Math.floor(this._videoMeta.refSampleDuration),U){var mt=new d.SampleInfo(ut,bt,Dt,me.dts,!0);mt.fileposition=me.fileposition,Jt.appendSyncPoint(mt)}Lt.push({dts:ut,pts:bt,cts:ht,units:me.units,size:me.length,isKeyframe:U,duration:Dt,originalDts:Gt,flags:{isLeading:0,dependsOn:U?2:1,isDependedOn:U?1:0,hasRedundancy:0,isNonSync:U?0:1}})}(K=new Uint8Array(et))[0]=et>>>24&255,K[1]=et>>>16&255,K[2]=et>>>8&255,K[3]=255&et,K.set(u.default.types.mdat,4);for(var ft=0;ft<Lt.length;ft++)for(var pt=Lt[ft].units;pt.length;){var Rt=pt.shift().data;K.set(Rt,G),G+=Rt.byteLength}var Pt=Lt[Lt.length-1];if(I=Pt.dts+Pt.duration,H=Pt.pts+Pt.duration,this._videoNextDts=I,Jt.beginDts=O,Jt.endDts=I,Jt.beginPts=V,Jt.endPts=H,Jt.originalBeginDts=Lt[0].originalDts,Jt.originalEndDts=Pt.originalDts+Pt.duration,Jt.firstSample=new d.SampleInfo(Lt[0].dts,Lt[0].pts,Lt[0].duration,Lt[0].originalDts,Lt[0].isKeyframe),Jt.lastSample=new d.SampleInfo(Pt.dts,Pt.pts,Pt.duration,Pt.originalDts,Pt.isKeyframe),this._isLive||this._videoSegmentInfoList.append(Jt),x.samples=Lt,x.sequenceNumber++,this._forceFirstIDR){var Ht=Lt[0].flags;Ht.dependsOn=2,Ht.isNonSync=0}var oe=u.default.moof(x,O);x.samples=[],x.length=0,this._onMediaSegment("video",{type:"video",data:this._mergeBoxes(oe,K).buffer,sampleCount:Lt.length,info:Jt})}}}},{key:"_mergeBoxes",value:function(T,b){var x=new Uint8Array(T.byteLength+b.byteLength);return x.set(T,0),x.set(b,T.byteLength),x}},{key:"onInitSegment",get:function(){return this._onInitSegment},set:function(T){this._onInitSegment=T}},{key:"onMediaSegment",get:function(){return this._onMediaSegment},set:function(T){this._onMediaSegment=T}}]),j}();o.default=w},{"../core/media-segment-info.js":8,"../utils/browser.js":39,"../utils/exception.js":40,"../utils/logger.js":41,"./aac-silent.js":36,"./mp4-generator.js":37}],39:[function(C,F,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var c={};(function(){var g=self.navigator.userAgent.toLowerCase(),v=/(edge)\/([\w.]+)/.exec(g)||/(opr)[\/]([\w.]+)/.exec(g)||/(chrome)[ \/]([\w.]+)/.exec(g)||/(iemobile)[\/]([\w.]+)/.exec(g)||/(version)(applewebkit)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(g)||/(webkit)[ \/]([\w.]+).*(version)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(g)||/(webkit)[ \/]([\w.]+)/.exec(g)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(g)||/(msie) ([\w.]+)/.exec(g)||g.indexOf("trident")>=0&&/(rv)(?::| )([\w.]+)/.exec(g)||g.indexOf("compatible")<0&&/(firefox)[ \/]([\w.]+)/.exec(g)||[],u=/(ipad)/.exec(g)||/(ipod)/.exec(g)||/(windows phone)/.exec(g)||/(iphone)/.exec(g)||/(kindle)/.exec(g)||/(android)/.exec(g)||/(windows)/.exec(g)||/(mac)/.exec(g)||/(linux)/.exec(g)||/(cros)/.exec(g)||[],l={browser:v[5]||v[3]||v[1]||"",version:v[2]||v[4]||"0",majorVersion:v[4]||v[2]||"0",platform:u[0]||""},m={};if(l.browser){m[l.browser]=!0;var d=l.majorVersion.split(".");m.version={major:parseInt(l.majorVersion,10),string:l.version},d.length>1&&(m.version.minor=parseInt(d[1],10)),d.length>2&&(m.version.build=parseInt(d[2],10))}for(var S in l.platform&&(m[l.platform]=!0),(m.chrome||m.opr||m.safari)&&(m.webkit=!0),(m.rv||m.iemobile)&&(m.rv&&delete m.rv,l.browser="msie",m.msie=!0),m.edge&&(delete m.edge,l.browser="msedge",m.msedge=!0),m.opr&&(l.browser="opera",m.opera=!0),m.safari&&m.android&&(l.browser="android",m.android=!0),m.name=l.browser,m.platform=l.platform,c)c.hasOwnProperty(S)&&delete c[S];Object.assign(c,m)})(),o.default=c},{}],40:[function(C,F,o){"use strict";function c(m,d){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!d||typeof d!="object"&&typeof d!="function"?m:d}function g(m,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);m.prototype=Object.create(d&&d.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(m,d):m.__proto__=d)}function v(m,d){if(!(m instanceof d))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(o,"__esModule",{value:!0});var u=function(){function m(d,S){for(var w=0;w<S.length;w++){var j=S[w];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(d,j.key,j)}}return function(d,S,w){return S&&m(d.prototype,S),w&&m(d,w),d}}(),l=o.RuntimeException=function(){function m(d){v(this,m),this._message=d}return u(m,[{key:"toString",value:function(){return this.name+": "+this.message}},{key:"name",get:function(){return"RuntimeException"}},{key:"message",get:function(){return this._message}}]),m}();o.IllegalStateException=function(m){function d(S){return v(this,d),c(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,S))}return g(d,m),u(d,[{key:"name",get:function(){return"IllegalStateException"}}]),d}(l),o.InvalidArgumentException=function(m){function d(S){return v(this,d),c(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,S))}return g(d,m),u(d,[{key:"name",get:function(){return"InvalidArgumentException"}}]),d}(l),o.NotImplementedException=function(m){function d(S){return v(this,d),c(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,S))}return g(d,m),u(d,[{key:"name",get:function(){return"NotImplementedException"}}]),d}(l)},{}],41:[function(C,F,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var c=function(){function u(l,m){for(var d=0;d<m.length;d++){var S=m[d];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(l,S.key,S)}}return function(l,m,d){return m&&u(l.prototype,m),d&&u(l,d),l}}(),g=function(u){return u&&u.__esModule?u:{default:u}}(C("events")),v=function(){function u(){(function(l,m){if(!(l instanceof m))throw new TypeError("Cannot call a class as a function")})(this,u)}return c(u,null,[{key:"e",value:function(l,m){l&&!u.FORCE_GLOBAL_TAG||(l=u.GLOBAL_TAG);var d="["+l+"] > "+m;u.ENABLE_CALLBACK&&u.emitter.emit("log","error",d),u.ENABLE_ERROR&&(console.error?console.error(d):console.warn?console.warn(d):console.log(d))}},{key:"i",value:function(l,m){l&&!u.FORCE_GLOBAL_TAG||(l=u.GLOBAL_TAG);var d="["+l+"] > "+m;u.ENABLE_CALLBACK&&u.emitter.emit("log","info",d),u.ENABLE_INFO&&(console.info?console.info(d):console.log(d))}},{key:"w",value:function(l,m){l&&!u.FORCE_GLOBAL_TAG||(l=u.GLOBAL_TAG);var d="["+l+"] > "+m;u.ENABLE_CALLBACK&&u.emitter.emit("log","warn",d),u.ENABLE_WARN&&(console.warn?console.warn(d):console.log(d))}},{key:"d",value:function(l,m){l&&!u.FORCE_GLOBAL_TAG||(l=u.GLOBAL_TAG);var d="["+l+"] > "+m;u.ENABLE_CALLBACK&&u.emitter.emit("log","debug",d),u.ENABLE_DEBUG&&(console.debug?console.debug(d):console.log(d))}},{key:"v",value:function(l,m){l&&!u.FORCE_GLOBAL_TAG||(l=u.GLOBAL_TAG);var d="["+l+"] > "+m;u.ENABLE_CALLBACK&&u.emitter.emit("log","verbose",d),u.ENABLE_VERBOSE&&console.log(d)}}]),u}();v.GLOBAL_TAG="flv.js",v.FORCE_GLOBAL_TAG=!1,v.ENABLE_ERROR=!0,v.ENABLE_INFO=!0,v.ENABLE_WARN=!0,v.ENABLE_DEBUG=!0,v.ENABLE_VERBOSE=!0,v.ENABLE_CALLBACK=!1,v.emitter=new g.default,o.default=v},{events:2}],42:[function(C,F,o){"use strict";function c(m){return m&&m.__esModule?m:{default:m}}Object.defineProperty(o,"__esModule",{value:!0});var g=function(){function m(d,S){for(var w=0;w<S.length;w++){var j=S[w];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(d,j.key,j)}}return function(d,S,w){return S&&m(d.prototype,S),w&&m(d,w),d}}(),v=c(C("events")),u=c(C("./logger.js")),l=function(){function m(){(function(d,S){if(!(d instanceof S))throw new TypeError("Cannot call a class as a function")})(this,m)}return g(m,null,[{key:"getConfig",value:function(){return{globalTag:u.default.GLOBAL_TAG,forceGlobalTag:u.default.FORCE_GLOBAL_TAG,enableVerbose:u.default.ENABLE_VERBOSE,enableDebug:u.default.ENABLE_DEBUG,enableInfo:u.default.ENABLE_INFO,enableWarn:u.default.ENABLE_WARN,enableError:u.default.ENABLE_ERROR,enableCallback:u.default.ENABLE_CALLBACK}}},{key:"applyConfig",value:function(d){u.default.GLOBAL_TAG=d.globalTag,u.default.FORCE_GLOBAL_TAG=d.forceGlobalTag,u.default.ENABLE_VERBOSE=d.enableVerbose,u.default.ENABLE_DEBUG=d.enableDebug,u.default.ENABLE_INFO=d.enableInfo,u.default.ENABLE_WARN=d.enableWarn,u.default.ENABLE_ERROR=d.enableError,u.default.ENABLE_CALLBACK=d.enableCallback}},{key:"_notifyChange",value:function(){var d=m.emitter;if(d.listenerCount("change")>0){var S=m.getConfig();d.emit("change",S)}}},{key:"registerListener",value:function(d){m.emitter.addListener("change",d)}},{key:"removeListener",value:function(d){m.emitter.removeListener("change",d)}},{key:"addLogListener",value:function(d){u.default.emitter.addListener("log",d),u.default.emitter.listenerCount("log")>0&&(u.default.ENABLE_CALLBACK=!0,m._notifyChange())}},{key:"removeLogListener",value:function(d){u.default.emitter.removeListener("log",d),u.default.emitter.listenerCount("log")===0&&(u.default.ENABLE_CALLBACK=!1,m._notifyChange())}},{key:"forceGlobalTag",get:function(){return u.default.FORCE_GLOBAL_TAG},set:function(d){u.default.FORCE_GLOBAL_TAG=d,m._notifyChange()}},{key:"globalTag",get:function(){return u.default.GLOBAL_TAG},set:function(d){u.default.GLOBAL_TAG=d,m._notifyChange()}},{key:"enableAll",get:function(){return u.default.ENABLE_VERBOSE&&u.default.ENABLE_DEBUG&&u.default.ENABLE_INFO&&u.default.ENABLE_WARN&&u.default.ENABLE_ERROR},set:function(d){u.default.ENABLE_VERBOSE=d,u.default.ENABLE_DEBUG=d,u.default.ENABLE_INFO=d,u.default.ENABLE_WARN=d,u.default.ENABLE_ERROR=d,m._notifyChange()}},{key:"enableDebug",get:function(){return u.default.ENABLE_DEBUG},set:function(d){u.default.ENABLE_DEBUG=d,m._notifyChange()}},{key:"enableVerbose",get:function(){return u.default.ENABLE_VERBOSE},set:function(d){u.default.ENABLE_VERBOSE=d,m._notifyChange()}},{key:"enableInfo",get:function(){return u.default.ENABLE_INFO},set:function(d){u.default.ENABLE_INFO=d,m._notifyChange()}},{key:"enableWarn",get:function(){return u.default.ENABLE_WARN},set:function(d){u.default.ENABLE_WARN=d,m._notifyChange()}},{key:"enableError",get:function(){return u.default.ENABLE_ERROR},set:function(d){u.default.ENABLE_ERROR=d,m._notifyChange()}}]),m}();l.emitter=new v.default,o.default=l},{"./logger.js":41,events:2}],43:[function(C,F,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var c=function(){function v(u,l){for(var m=0;m<l.length;m++){var d=l[m];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(u,d.key,d)}}return function(u,l,m){return l&&v(u.prototype,l),m&&v(u,m),u}}(),g=function(){function v(){(function(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")})(this,v)}return c(v,null,[{key:"install",value:function(){Object.setPrototypeOf=Object.setPrototypeOf||function(u,l){return u.__proto__=l,u},Object.assign=Object.assign||function(u){if(u==null)throw new TypeError("Cannot convert undefined or null to object");for(var l=Object(u),m=1;m<arguments.length;m++){var d=arguments[m];if(d!=null)for(var S in d)d.hasOwnProperty(S)&&(l[S]=d[S])}return l},typeof self.Promise!="function"&&C("es6-promise").polyfill()}}]),v}();g.install(),o.default=g},{"es6-promise":1}],44:[function(C,F,o){"use strict";function c(g,v,u){var l=g;if(v+u<l.length){for(;u--;)if((192&l[++v])!=128)return!1;return!0}return!1}Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(g){for(var v=[],u=g,l=0,m=g.length;l<m;)if(u[l]<128)v.push(String.fromCharCode(u[l])),++l;else{if(!(u[l]<192)){if(u[l]<224){if(c(u,l,1)){var d=(31&u[l])<<6|63&u[l+1];if(d>=128){v.push(String.fromCharCode(65535&d)),l+=2;continue}}}else if(u[l]<240){if(c(u,l,2)){var S=(15&u[l])<<12|(63&u[l+1])<<6|63&u[l+2];if(S>=2048&&(63488&S)!=55296){v.push(String.fromCharCode(65535&S)),l+=3;continue}}}else if(u[l]<248&&c(u,l,3)){var w=(7&u[l])<<18|(63&u[l+1])<<12|(63&u[l+2])<<6|63&u[l+3];if(w>65536&&w<1114112){w-=65536,v.push(String.fromCharCode(w>>>10|55296)),v.push(String.fromCharCode(1023&w|56320)),l+=4;continue}}}v.push(String.fromCharCode(65533)),++l}return v.join("")}},{}]},{},[21])(21)}),function(C,F){typeof exports=="object"&&typeof module!="undefined"?module.exports=F(require("video.js")):typeof define=="function"&&define.amd?define(["video.js"],F):C.videojsFlash=F(C.videojs)}(this,function(C){"use strict";function F(_){T[_]=function(){return this.el_.vjs_getProperty(_)}}C=C&&C.hasOwnProperty("default")?C.default:C;for(var o=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},c=typeof window!="undefined"?window:o!==void 0?o:typeof self!="undefined"?self:{},g=C.getComponent("Tech"),v=C.dom,u=C.url,l=C.createTimeRange,m=C.mergeOptions,d=c&&c.navigator||{},S=function(_){function k(O,I){(function(H,G){if(!(H instanceof G))throw new TypeError("Cannot call a class as a function")})(this,k);var V=function(H,G){if(!H)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!G||typeof G!="object"&&typeof G!="function"?H:G}(this,_.call(this,O,I));return O.source&&V.ready(function(){this.setSource(O.source)},!0),O.startTime&&V.ready(function(){this.load(),this.play(),this.currentTime(O.startTime)},!0),c.videojs=c.videojs||{},c.videojs.Flash=c.videojs.Flash||{},c.videojs.Flash.onReady=k.onReady,c.videojs.Flash.onEvent=k.onEvent,c.videojs.Flash.onError=k.onError,V.on("seeked",function(){this.lastSeekTarget_=void 0}),V}return function(O,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);O.prototype=Object.create(I&&I.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(O,I):O.__proto__=I)}(k,_),k.prototype.createEl=function(){var O=this.options_;O.swf||(O.swf="https://vjs.zencdn.net/swf/5.4.2/video-js.swf");var I=O.techId,V=m({readyFunction:"videojs.Flash.onReady",eventProxyFunction:"videojs.Flash.onEvent",errorEventProxyFunction:"videojs.Flash.onError",autoplay:O.autoplay,stretch:O.stretch||!1,fluent:O.fluent||!1,preload:O.preload,loop:O.loop,muted:O.muted},O.flashVars),H=m({wmode:"opaque",bgcolor:"#000000"},O.params),G=m({id:I,name:I,class:"vjs-tech"},O.attributes);return this.el_=k.embed(O.swf,V,H,G),this.el_.tech=this,this.el_},k.prototype.play=function(){this.ended()&&this.setCurrentTime(0),this.el_.vjs_play()},k.prototype.pause=function(){this.el_.vjs_pause()},k.prototype.src=function(O){return O===void 0?this.currentSrc():this.setSrc(O)},k.prototype.setSrc=function(O){var I=this;O=u.getAbsoluteURL(O),this.el_.vjs_src(O),this.autoplay()&&this.setTimeout(function(){return I.play()},0)},k.prototype.seeking=function(){return this.lastSeekTarget_!==void 0},k.prototype.setCurrentTime=function(O){var I=this.seekable();I.length&&(O=(O=O>I.start(0)?O:I.start(0))<I.end(I.length-1)?O:I.end(I.length-1),this.lastSeekTarget_=O,this.trigger("seeking"),this.el_.vjs_setProperty("currentTime",O),_.prototype.setCurrentTime.call(this))},k.prototype.currentTime=function(){return this.seeking()?this.lastSeekTarget_||0:this.el_.vjs_getProperty("currentTime")},k.prototype.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.vjs_getProperty("currentSrc")},k.prototype.duration=function(){if(this.readyState()===0)return NaN;var O=this.el_.vjs_getProperty("duration");return O>=0?O:1/0},k.prototype.load=function(){this.el_.vjs_load()},k.prototype.poster=function(){this.el_.vjs_getProperty("poster")},k.prototype.setPoster=function(){},k.prototype.seekable=function(){var O=this.duration();return O===0?l():l(0,O)},k.prototype.buffered=function(){var O=this.el_.vjs_getProperty("buffered");return O.length===0?l():l(O[0][0],O[0][1])},k.prototype.supportsFullScreen=function(){return!1},k.prototype.enterFullScreen=function(){return!1},k.prototype.getVideoPlaybackQuality=function(){var O=this.el_.vjs_getProperty("getVideoPlaybackQuality");return c.performance&&typeof c.performance.now=="function"?O.creationTime=c.performance.now():c.performance&&c.performance.timing&&typeof c.performance.timing.navigationStart=="number"&&(O.creationTime=c.Date.now()-c.performance.timing.navigationStart),O},k}(g),w=["rtmpConnection","rtmpStream","preload","defaultPlaybackRate","playbackRate","autoplay","stretch","fluent","loop","controls","volume","muted","defaultMuted"],j=["networkState","readyState","initialTime","startOffsetTime","paused","ended","videoWidth","videoHeight"],T=S.prototype,b=0;b<w.length;b++)F(w[b]),function(_){var k=_.charAt(0).toUpperCase()+_.slice(1);T["set"+k]=function(O){return this.el_.vjs_setProperty(_,O)}}(w[b]);for(var x=0;x<j.length;x++)F(j[x]);return S.isSupported=function(){return!!(C.browser.IS_CHROME&&!C.browser.IS_ANDROID||C.browser.IS_SAFARI&&!C.browser.IS_IOS)||S.version()[0]>=10},g.withSourceHandlers(S),S.nativeSourceHandler={},S.nativeSourceHandler.canPlayType=function(_){return _ in S.formats?"maybe":""},S.nativeSourceHandler.canHandleSource=function(_,k){var O;return O=_.type?_.type.replace(/;.*/,"").toLowerCase():function(I){var V=u.getFileExtension(I);return V?"video/"+V:""}(_.src),S.nativeSourceHandler.canPlayType(O)},S.nativeSourceHandler.handleSource=function(_,k,O){k.setSrc(_.src)},S.nativeSourceHandler.dispose=function(){},S.registerSourceHandler(S.nativeSourceHandler),S.formats={"video/flv":"FLV","video/x-flv":"FLV","video/mp4":"MP4","video/m4v":"MP4"},S.onReady=function(_){var k=v.$("#"+_),O=k&&k.tech;O&&O.el()&&S.checkReady(O)},S.checkReady=function(_){_.el()&&(_.el().vjs_getProperty?_.triggerReady():this.setTimeout(function(){S.checkReady(_)},50))},S.onEvent=function(_,k){var O=v.$("#"+_).tech,I=Array.prototype.slice.call(arguments,2);O.setTimeout(function(){O.trigger(k,I)},1)},S.onError=function(_,k){var O=v.$("#"+_).tech;if(k==="srcnotfound")return O.error(4);typeof k=="string"?O.error("FLASH: "+k):(k.origin="flash",O.error(k))},S.version=function(){var _="0,0,0";try{_=new c.ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version").replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}catch(k){try{d.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&(_=(d.plugins["Shockwave Flash 2.0"]||d.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1])}catch(O){}}return _.split(",")},S.embed=function(_,k,O,I){var V=S.getEmbedCode(_,k,O,I);return v.createEl("div",{innerHTML:V}).childNodes[0]},S.getEmbedCode=function(_,k,O,I){var V="",H="",G="";return k&&Object.getOwnPropertyNames(k).forEach(function(K){V+=K+"="+k[K]+"&amp;"}),O=m({movie:_,flashvars:V,allowScriptAccess:"always",allowNetworking:"all"},O),Object.getOwnPropertyNames(O).forEach(function(K){H+='<param name="'+K+'" value="'+O[K]+'" />'}),I=m({data:_,width:"100%",height:"100%"},I),Object.getOwnPropertyNames(I).forEach(function(K){G+=K+'="'+I[K]+'" '}),'<object type="application/x-shockwave-flash" '+G+">"+H+"</object>"},function(_){_.streamingFormats={"rtmp/mp4":"MP4","rtmp/flv":"FLV"},_.streamFromParts=function(k,O){return k+"&"+O},_.streamToParts=function(k){var O={connection:"",stream:""};if(!k)return O;var I=k.search(/&(?![\w-]+=)/),V=void 0;return I!==-1?V=I+1:(I=V=k.lastIndexOf("/")+1)===0&&(I=V=k.length),O.connection=k.substring(0,I),O.stream=k.substring(V,k.length),O},_.isStreamingType=function(k){return k in _.streamingFormats},_.RTMP_RE=/^rtmp[set]?:\/\//i,_.isStreamingSrc=function(k){return _.RTMP_RE.test(k)},_.rtmpSourceHandler={},_.rtmpSourceHandler.canPlayType=function(k){return _.isStreamingType(k)?"maybe":""},_.rtmpSourceHandler.canHandleSource=function(k,O){return _.rtmpSourceHandler.canPlayType(k.type)||(_.isStreamingSrc(k.src)?"maybe":"")},_.rtmpSourceHandler.handleSource=function(k,O,I){var V=_.streamToParts(k.src);O.setRtmpConnection(V.connection),O.setRtmpStream(V.stream)},_.registerSourceHandler(_.rtmpSourceHandler)}(S),g.getTech("Flash")?(C.log.warn("Not using videojs-flash as it appears to already be registered"),C.log.warn("videojs-flash should only be used with video.js@6 and above")):C.registerTech("Flash",S),S.VERSION="2.1.2",S}),function(C){typeof exports=="object"&&typeof module!="undefined"?module.exports=C():typeof define=="function"&&define.amd?define([],C):(typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:this).videojsFlvjs=C()}(function(){return function C(F,o,c){function g(l,m){if(!o[l]){if(!F[l]){var d=typeof require=="function"&&require;if(!m&&d)return d(l,!0);if(v)return v(l,!0);var S=new Error("Cannot find module '"+l+"'");throw S.code="MODULE_NOT_FOUND",S}var w=o[l]={exports:{}};F[l][0].call(w.exports,function(j){return g(F[l][1][j]||j)},w,w.exports,C,F,o,c)}return o[l].exports}for(var v=typeof require=="function"&&require,u=0;u<c.length;u++)g(c[u]);return g}({1:[function(C,F,o){(function(c){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var g=function(){function S(w,j){for(var T=0;T<j.length;T++){var b=j[T];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(w,b.key,b)}}return function(w,j,T){return j&&S(w.prototype,j),T&&S(w,T),w}}(),v=function(S){return S&&S.__esModule?S:{default:S}}(typeof window!="undefined"?window.videojs:c!==void 0?c.videojs:null),u=v.default.getTech("Html5"),l=v.default.mergeOptions||v.default.util.mergeOptions,m={mediaDataSource:{},config:{}},d=function(S){function w(j,T){return function(b,x){if(!(b instanceof x))throw new TypeError("Cannot call a class as a function")}(this,w),j=l(m,j),function(b,x){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!x||typeof x!="object"&&typeof x!="function"?b:x}(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,j,T))}return function(j,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);j.prototype=Object.create(T&&T.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(j,T):j.__proto__=T)}(w,S),g(w,[{key:"setSrc",value:function(j){this.flvPlayer&&(this.flvPlayer.unload(),this.flvPlayer.detachMediaElement(),this.flvPlayer.destroy());var T=this.options_.mediaDataSource,b=this.options_.config;T.type=T.type===void 0?"flv":T.type,T.url=j,this.flvPlayer=window.flvjs.createPlayer(T,b),this.flvPlayer.attachMediaElement(this.el_),this.flvPlayer.load()}},{key:"dispose",value:function(){this.flvPlayer&&(this.flvPlayer.detachMediaElement(),this.flvPlayer.unload(),this.flvPlayer.destroy(),this.flvPlayer=null),function j(T,b,x){T===null&&(T=Function.prototype);var _=Object.getOwnPropertyDescriptor(T,b);if(_===void 0){var k=Object.getPrototypeOf(T);return k===null?void 0:j(k,b,x)}if("value"in _)return _.value;var O=_.get;return O!==void 0?O.call(x):void 0}(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"dispose",this).call(this)}}]),w}(u);d.isSupported=function(){return window.flvjs&&window.flvjs.isSupported()},d.formats={"video/flv":"FLV","video/x-flv":"FLV"},d.canPlayType=function(S){return d.isSupported()&&S in d.formats?"maybe":""},d.canPlaySource=function(S,w){return d.canPlayType(S.type)},d.VERSION="0.2.0",v.default.registerTech("Flvjs",d),o.default=d}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}]},{},[1])(1)}),function(C){typeof exports=="object"&&typeof module!="undefined"?module.exports=C():typeof define=="function"&&define.amd?define([],C):(typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:this).adapter=C()}(function(){return function C(F,o,c){function g(l,m){if(!o[l]){if(!F[l]){var d=typeof require=="function"&&require;if(!m&&d)return d(l,!0);if(v)return v(l,!0);var S=new Error("Cannot find module '"+l+"'");throw S.code="MODULE_NOT_FOUND",S}var w=o[l]={exports:{}};F[l][0].call(w.exports,function(j){return g(F[l][1][j]||j)},w,w.exports,C,F,o,c)}return o[l].exports}for(var v=typeof require=="function"&&require,u=0;u<c.length;u++)g(c[u]);return g}({1:[function(C,F,o){"use strict";var c=(0,C("./adapter_factory.js").adapterFactory)({window:typeof window=="undefined"?void 0:window});F.exports=c},{"./adapter_factory.js":2}],2:[function(C,F,o){"use strict";function c(S){if(S&&S.__esModule)return S;var w={};if(S!=null)for(var j in S)Object.prototype.hasOwnProperty.call(S,j)&&(w[j]=S[j]);return w.default=S,w}Object.defineProperty(o,"__esModule",{value:!0}),o.adapterFactory=function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},w=S.window,j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{shimChrome:!0,shimFirefox:!0,shimEdge:!0,shimSafari:!0},T=g.log,b=g.detectBrowser(w),x={browserDetails:b,commonShim:d,extractVersion:g.extractVersion,disableLog:g.disableLog,disableWarnings:g.disableWarnings};switch(b.browser){case"chrome":if(!v||!v.shimPeerConnection||!j.shimChrome)return T("Chrome shim is not included in this adapter release."),x;if(b.version===null)return T("Chrome shim can not determine version, not shimming."),x;T("adapter.js shimming chrome."),x.browserShim=v,v.shimGetUserMedia(w),v.shimMediaStream(w),v.shimPeerConnection(w),v.shimOnTrack(w),v.shimAddTrackRemoveTrack(w),v.shimGetSendersWithDtmf(w),v.shimGetStats(w),v.shimSenderReceiverGetStats(w),v.fixNegotiationNeeded(w),d.shimRTCIceCandidate(w),d.shimConnectionState(w),d.shimMaxMessageSize(w),d.shimSendThrowTypeError(w),d.removeAllowExtmapMixed(w);break;case"firefox":if(!l||!l.shimPeerConnection||!j.shimFirefox)return T("Firefox shim is not included in this adapter release."),x;T("adapter.js shimming firefox."),x.browserShim=l,l.shimGetUserMedia(w),l.shimPeerConnection(w),l.shimOnTrack(w),l.shimRemoveStream(w),l.shimSenderGetStats(w),l.shimReceiverGetStats(w),l.shimRTCDataChannel(w),l.shimAddTransceiver(w),l.shimGetParameters(w),l.shimCreateOffer(w),l.shimCreateAnswer(w),d.shimRTCIceCandidate(w),d.shimConnectionState(w),d.shimMaxMessageSize(w),d.shimSendThrowTypeError(w);break;case"edge":if(!u||!u.shimPeerConnection||!j.shimEdge)return T("MS edge shim is not included in this adapter release."),x;T("adapter.js shimming edge."),x.browserShim=u,u.shimGetUserMedia(w),u.shimGetDisplayMedia(w),u.shimPeerConnection(w),u.shimReplaceTrack(w),d.shimMaxMessageSize(w),d.shimSendThrowTypeError(w);break;case"safari":if(!m||!j.shimSafari)return T("Safari shim is not included in this adapter release."),x;T("adapter.js shimming safari."),x.browserShim=m,m.shimRTCIceServerUrls(w),m.shimCreateOfferLegacy(w),m.shimCallbacksAPI(w),m.shimLocalStreamsAPI(w),m.shimRemoteStreamsAPI(w),m.shimTrackEventTransceiver(w),m.shimGetUserMedia(w),m.shimAudioContext(w),d.shimRTCIceCandidate(w),d.shimMaxMessageSize(w),d.shimSendThrowTypeError(w),d.removeAllowExtmapMixed(w);break;default:T("Unsupported browser!")}return x};var g=c(C("./utils")),v=c(C("./chrome/chrome_shim")),u=c(C("./edge/edge_shim")),l=c(C("./firefox/firefox_shim")),m=c(C("./safari/safari_shim")),d=c(C("./common_shim"))},{"./chrome/chrome_shim":3,"./common_shim":6,"./edge/edge_shim":7,"./firefox/firefox_shim":11,"./safari/safari_shim":14,"./utils":15}],3:[function(C,F,o){"use strict";function c(d,S,w){return S in d?Object.defineProperty(d,S,{value:w,enumerable:!0,configurable:!0,writable:!0}):d[S]=w,d}function g(d){d.RTCPeerConnection.prototype.getLocalStreams=function(){var b=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(function(x){return b._shimmedLocalStreams[x][0]})};var S=d.RTCPeerConnection.prototype.addTrack;d.RTCPeerConnection.prototype.addTrack=function(b,x){if(!x)return S.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};var _=S.apply(this,arguments);return this._shimmedLocalStreams[x.id]?this._shimmedLocalStreams[x.id].indexOf(_)===-1&&this._shimmedLocalStreams[x.id].push(_):this._shimmedLocalStreams[x.id]=[x,_],_};var w=d.RTCPeerConnection.prototype.addStream;d.RTCPeerConnection.prototype.addStream=function(b){var x=this;this._shimmedLocalStreams=this._shimmedLocalStreams||{},b.getTracks().forEach(function(O){if(x.getSenders().find(function(I){return I.track===O}))throw new DOMException("Track already exists.","InvalidAccessError")});var _=this.getSenders();w.apply(this,arguments);var k=this.getSenders().filter(function(O){return _.indexOf(O)===-1});this._shimmedLocalStreams[b.id]=[b].concat(k)};var j=d.RTCPeerConnection.prototype.removeStream;d.RTCPeerConnection.prototype.removeStream=function(b){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[b.id],j.apply(this,arguments)};var T=d.RTCPeerConnection.prototype.removeTrack;d.RTCPeerConnection.prototype.removeTrack=function(b){var x=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},b&&Object.keys(this._shimmedLocalStreams).forEach(function(_){var k=x._shimmedLocalStreams[_].indexOf(b);k!==-1&&x._shimmedLocalStreams[_].splice(k,1),x._shimmedLocalStreams[_].length===1&&delete x._shimmedLocalStreams[_]}),T.apply(this,arguments)}}Object.defineProperty(o,"__esModule",{value:!0}),o.shimGetDisplayMedia=o.shimGetUserMedia=void 0;var v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},u=C("./getusermedia");Object.defineProperty(o,"shimGetUserMedia",{enumerable:!0,get:function(){return u.shimGetUserMedia}});var l=C("./getdisplaymedia");Object.defineProperty(o,"shimGetDisplayMedia",{enumerable:!0,get:function(){return l.shimGetDisplayMedia}}),o.shimMediaStream=function(d){d.MediaStream=d.MediaStream||d.webkitMediaStream},o.shimOnTrack=function(d){if((d===void 0?"undefined":v(d))!=="object"||!d.RTCPeerConnection||"ontrack"in d.RTCPeerConnection.prototype)m.wrapPeerConnectionEvent(d,"track",function(w){return w.transceiver||Object.defineProperty(w,"transceiver",{value:{receiver:w.receiver}}),w});else{Object.defineProperty(d.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(w){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=w)},enumerable:!0,configurable:!0});var S=d.RTCPeerConnection.prototype.setRemoteDescription;d.RTCPeerConnection.prototype.setRemoteDescription=function(){var w=this;return this._ontrackpoly||(this._ontrackpoly=function(j){j.stream.addEventListener("addtrack",function(T){var b;b=d.RTCPeerConnection.prototype.getReceivers?w.getReceivers().find(function(_){return _.track&&_.track.id===T.track.id}):{track:T.track};var x=new Event("track");x.track=T.track,x.receiver=b,x.transceiver={receiver:b},x.streams=[j.stream],w.dispatchEvent(x)}),j.stream.getTracks().forEach(function(T){var b;b=d.RTCPeerConnection.prototype.getReceivers?w.getReceivers().find(function(_){return _.track&&_.track.id===T.id}):{track:T};var x=new Event("track");x.track=T,x.receiver=b,x.transceiver={receiver:b},x.streams=[j.stream],w.dispatchEvent(x)})},this.addEventListener("addstream",this._ontrackpoly)),S.apply(this,arguments)}}},o.shimGetSendersWithDtmf=function(d){if((d===void 0?"undefined":v(d))==="object"&&d.RTCPeerConnection&&!("getSenders"in d.RTCPeerConnection.prototype)&&"createDTMFSender"in d.RTCPeerConnection.prototype){var S=function(_,k){return{track:k,get dtmf(){return this._dtmf===void 0&&(k.kind==="audio"?this._dtmf=_.createDTMFSender(k):this._dtmf=null),this._dtmf},_pc:_}};if(!d.RTCPeerConnection.prototype.getSenders){d.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};var w=d.RTCPeerConnection.prototype.addTrack;d.RTCPeerConnection.prototype.addTrack=function(_,k){var O=w.apply(this,arguments);return O||(O=S(this,_),this._senders.push(O)),O};var j=d.RTCPeerConnection.prototype.removeTrack;d.RTCPeerConnection.prototype.removeTrack=function(_){j.apply(this,arguments);var k=this._senders.indexOf(_);k!==-1&&this._senders.splice(k,1)}}var T=d.RTCPeerConnection.prototype.addStream;d.RTCPeerConnection.prototype.addStream=function(_){var k=this;this._senders=this._senders||[],T.apply(this,[_]),_.getTracks().forEach(function(O){k._senders.push(S(k,O))})};var b=d.RTCPeerConnection.prototype.removeStream;d.RTCPeerConnection.prototype.removeStream=function(_){var k=this;this._senders=this._senders||[],b.apply(this,[_]),_.getTracks().forEach(function(O){var I=k._senders.find(function(V){return V.track===O});I&&k._senders.splice(k._senders.indexOf(I),1)})}}else if((d===void 0?"undefined":v(d))==="object"&&d.RTCPeerConnection&&"getSenders"in d.RTCPeerConnection.prototype&&"createDTMFSender"in d.RTCPeerConnection.prototype&&d.RTCRtpSender&&!("dtmf"in d.RTCRtpSender.prototype)){var x=d.RTCPeerConnection.prototype.getSenders;d.RTCPeerConnection.prototype.getSenders=function(){var _=this,k=x.apply(this,[]);return k.forEach(function(O){return O._pc=_}),k},Object.defineProperty(d.RTCRtpSender.prototype,"dtmf",{get:function(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}},o.shimGetStats=function(d){if(d.RTCPeerConnection){var S=d.RTCPeerConnection.prototype.getStats;d.RTCPeerConnection.prototype.getStats=function(){var w=this,j=Array.prototype.slice.call(arguments),T=j[0],b=j[1],x=j[2];if(arguments.length>0&&typeof T=="function")return S.apply(this,arguments);if(S.length===0&&(arguments.length===0||typeof T!="function"))return S.apply(this,[]);var _=function(I){var V={};return I.result().forEach(function(H){var G={id:H.id,timestamp:H.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[H.type]||H.type};H.names().forEach(function(K){G[K]=H.stat(K)}),V[G.id]=G}),V},k=function(I){return new Map(Object.keys(I).map(function(V){return[V,I[V]]}))};if(arguments.length>=2){var O=function(I){b(k(_(I)))};return S.apply(this,[O,T])}return new Promise(function(I,V){S.apply(w,[function(H){I(k(_(H)))},V])}).then(b,x)}}},o.shimSenderReceiverGetStats=function(d){if((d===void 0?"undefined":v(d))==="object"&&d.RTCPeerConnection&&d.RTCRtpSender&&d.RTCRtpReceiver){if(!("getStats"in d.RTCRtpSender.prototype)){var S=d.RTCPeerConnection.prototype.getSenders;S&&(d.RTCPeerConnection.prototype.getSenders=function(){var b=this,x=S.apply(this,[]);return x.forEach(function(_){return _._pc=b}),x});var w=d.RTCPeerConnection.prototype.addTrack;w&&(d.RTCPeerConnection.prototype.addTrack=function(){var b=w.apply(this,arguments);return b._pc=this,b}),d.RTCRtpSender.prototype.getStats=function(){var b=this;return this._pc.getStats().then(function(x){return m.filterStats(x,b.track,!0)})}}if(!("getStats"in d.RTCRtpReceiver.prototype)){var j=d.RTCPeerConnection.prototype.getReceivers;j&&(d.RTCPeerConnection.prototype.getReceivers=function(){var b=this,x=j.apply(this,[]);return x.forEach(function(_){return _._pc=b}),x}),m.wrapPeerConnectionEvent(d,"track",function(b){return b.receiver._pc=b.srcElement,b}),d.RTCRtpReceiver.prototype.getStats=function(){var b=this;return this._pc.getStats().then(function(x){return m.filterStats(x,b.track,!1)})}}if("getStats"in d.RTCRtpSender.prototype&&"getStats"in d.RTCRtpReceiver.prototype){var T=d.RTCPeerConnection.prototype.getStats;d.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof d.MediaStreamTrack){var b=arguments[0],x=void 0,_=void 0,k=void 0;return this.getSenders().forEach(function(O){O.track===b&&(x?k=!0:x=O)}),this.getReceivers().forEach(function(O){return O.track===b&&(_?k=!0:_=O),O.track===b}),k||x&&_?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):x?x.getStats():_?_.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return T.apply(this,arguments)}}}},o.shimAddTrackRemoveTrackWithNative=g,o.shimAddTrackRemoveTrack=function(d){function S(O,I){var V=I.sdp;return Object.keys(O._reverseStreams||[]).forEach(function(H){var G=O._reverseStreams[H],K=O._streams[G.id];V=V.replace(new RegExp(K.id,"g"),G.id)}),new RTCSessionDescription({type:I.type,sdp:V})}function w(O,I){var V=I.sdp;return Object.keys(O._reverseStreams||[]).forEach(function(H){var G=O._reverseStreams[H],K=O._streams[G.id];V=V.replace(new RegExp(G.id,"g"),K.id)}),new RTCSessionDescription({type:I.type,sdp:V})}if(d.RTCPeerConnection){var j=m.detectBrowser(d);if(d.RTCPeerConnection.prototype.addTrack&&j.version>=65)return g(d);var T=d.RTCPeerConnection.prototype.getLocalStreams;d.RTCPeerConnection.prototype.getLocalStreams=function(){var O=this,I=T.apply(this);return this._reverseStreams=this._reverseStreams||{},I.map(function(V){return O._reverseStreams[V.id]})};var b=d.RTCPeerConnection.prototype.addStream;d.RTCPeerConnection.prototype.addStream=function(O){var I=this;if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},O.getTracks().forEach(function(H){if(I.getSenders().find(function(G){return G.track===H}))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[O.id]){var V=new d.MediaStream(O.getTracks());this._streams[O.id]=V,this._reverseStreams[V.id]=O,O=V}b.apply(this,[O])};var x=d.RTCPeerConnection.prototype.removeStream;d.RTCPeerConnection.prototype.removeStream=function(O){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},x.apply(this,[this._streams[O.id]||O]),delete this._reverseStreams[this._streams[O.id]?this._streams[O.id].id:O.id],delete this._streams[O.id]},d.RTCPeerConnection.prototype.addTrack=function(O,I){var V=this;if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");var H=[].slice.call(arguments,1);if(H.length!==1||!H[0].getTracks().find(function(et){return et===O}))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(function(et){return et.track===O}))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};var G=this._streams[I.id];if(G)G.addTrack(O),Promise.resolve().then(function(){V.dispatchEvent(new Event("negotiationneeded"))});else{var K=new d.MediaStream([O]);this._streams[I.id]=K,this._reverseStreams[K.id]=I,this.addStream(K)}return this.getSenders().find(function(et){return et.track===O})},["createOffer","createAnswer"].forEach(function(O){var I=d.RTCPeerConnection.prototype[O],V=c({},O,function(){var H=this,G=arguments;return arguments.length&&typeof arguments[0]=="function"?I.apply(this,[function(K){var et=S(H,K);G[0].apply(null,[et])},function(K){G[1]&&G[1].apply(null,K)},arguments[2]]):I.apply(this,arguments).then(function(K){return S(H,K)})});d.RTCPeerConnection.prototype[O]=V[O]});var _=d.RTCPeerConnection.prototype.setLocalDescription;d.RTCPeerConnection.prototype.setLocalDescription=function(){return arguments.length&&arguments[0].type?(arguments[0]=w(this,arguments[0]),_.apply(this,arguments)):_.apply(this,arguments)};var k=Object.getOwnPropertyDescriptor(d.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(d.RTCPeerConnection.prototype,"localDescription",{get:function(){var O=k.get.apply(this);return O.type===""?O:S(this,O)}}),d.RTCPeerConnection.prototype.removeTrack=function(O){var I=this;if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!O._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(O._pc!==this)throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{};var V=void 0;Object.keys(this._streams).forEach(function(H){I._streams[H].getTracks().find(function(G){return O.track===G})&&(V=I._streams[H])}),V&&(V.getTracks().length===1?this.removeStream(this._reverseStreams[V.id]):V.removeTrack(O.track),this.dispatchEvent(new Event("negotiationneeded")))}}},o.shimPeerConnection=function(d){var S=m.detectBrowser(d);if(!d.RTCPeerConnection&&d.webkitRTCPeerConnection&&(d.RTCPeerConnection=d.webkitRTCPeerConnection),d.RTCPeerConnection){var w=d.RTCPeerConnection.prototype.addIceCandidate.length===0;S.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(T){var b=d.RTCPeerConnection.prototype[T],x=c({},T,function(){return arguments[0]=new(T==="addIceCandidate"?d.RTCIceCandidate:d.RTCSessionDescription)(arguments[0]),b.apply(this,arguments)});d.RTCPeerConnection.prototype[T]=x[T]});var j=d.RTCPeerConnection.prototype.addIceCandidate;d.RTCPeerConnection.prototype.addIceCandidate=function(){return w||arguments[0]?S.version<78&&arguments[0]&&arguments[0].candidate===""?Promise.resolve():j.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())}}},o.fixNegotiationNeeded=function(d){var S=m.detectBrowser(d);m.wrapPeerConnectionEvent(d,"negotiationneeded",function(w){var j=w.target;if(!(S.version<72||j.getConfiguration&&j.getConfiguration().sdpSemantics==="plan-b")||j.signalingState==="stable")return w})};var m=function(d){if(d&&d.__esModule)return d;var S={};if(d!=null)for(var w in d)Object.prototype.hasOwnProperty.call(d,w)&&(S[w]=d[w]);return S.default=d,S}(C("../utils.js"))},{"../utils.js":15,"./getdisplaymedia":4,"./getusermedia":5}],4:[function(C,F,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.shimGetDisplayMedia=function(c,g){if((!c.navigator.mediaDevices||!("getDisplayMedia"in c.navigator.mediaDevices))&&c.navigator.mediaDevices)return typeof g!="function"?void console.error("shimGetDisplayMedia: getSourceId argument is not a function"):void(c.navigator.mediaDevices.getDisplayMedia=function(v){return g(v).then(function(u){var l=v.video&&v.video.width,m=v.video&&v.video.height,d=v.video&&v.video.frameRate;return v.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:u,maxFrameRate:d||3}},l&&(v.video.mandatory.maxWidth=l),m&&(v.video.mandatory.maxHeight=m),c.navigator.mediaDevices.getUserMedia(v)})})}},{}],5:[function(C,F,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u};o.shimGetUserMedia=function(u){var l=u&&u.navigator;if(l.mediaDevices){var m=g.detectBrowser(u),d=function(T){if((T===void 0?"undefined":c(T))!=="object"||T.mandatory||T.optional)return T;var b={};return Object.keys(T).forEach(function(x){if(x!=="require"&&x!=="advanced"&&x!=="mediaSource"){var _=c(T[x])==="object"?T[x]:{ideal:T[x]};_.exact!==void 0&&typeof _.exact=="number"&&(_.min=_.max=_.exact);var k=function(I,V){return I?I+V.charAt(0).toUpperCase()+V.slice(1):V==="deviceId"?"sourceId":V};if(_.ideal!==void 0){b.optional=b.optional||[];var O={};typeof _.ideal=="number"?(O[k("min",x)]=_.ideal,b.optional.push(O),(O={})[k("max",x)]=_.ideal,b.optional.push(O)):(O[k("",x)]=_.ideal,b.optional.push(O))}_.exact!==void 0&&typeof _.exact!="number"?(b.mandatory=b.mandatory||{},b.mandatory[k("",x)]=_.exact):["min","max"].forEach(function(I){_[I]!==void 0&&(b.mandatory=b.mandatory||{},b.mandatory[k(I,x)]=_[I])})}}),T.advanced&&(b.optional=(b.optional||[]).concat(T.advanced)),b},S=function(T,b){if(m.version>=61)return b(T);if((T=JSON.parse(JSON.stringify(T)))&&c(T.audio)==="object"){var x=function(I,V,H){V in I&&!(H in I)&&(I[H]=I[V],delete I[V])};x((T=JSON.parse(JSON.stringify(T))).audio,"autoGainControl","googAutoGainControl"),x(T.audio,"noiseSuppression","googNoiseSuppression"),T.audio=d(T.audio)}if(T&&c(T.video)==="object"){var _=T.video.facingMode;_=_&&((_===void 0?"undefined":c(_))==="object"?_:{ideal:_});var k=m.version<66;if(_&&(_.exact==="user"||_.exact==="environment"||_.ideal==="user"||_.ideal==="environment")&&(!l.mediaDevices.getSupportedConstraints||!l.mediaDevices.getSupportedConstraints().facingMode||k)){delete T.video.facingMode;var O=void 0;if(_.exact==="environment"||_.ideal==="environment"?O=["back","rear"]:_.exact!=="user"&&_.ideal!=="user"||(O=["front"]),O)return l.mediaDevices.enumerateDevices().then(function(I){var V=(I=I.filter(function(H){return H.kind==="videoinput"})).find(function(H){return O.some(function(G){return H.label.toLowerCase().includes(G)})});return!V&&I.length&&O.includes("back")&&(V=I[I.length-1]),V&&(T.video.deviceId=_.exact?{exact:V.deviceId}:{ideal:V.deviceId}),T.video=d(T.video),v("chrome: "+JSON.stringify(T)),b(T)})}T.video=d(T.video)}return v("chrome: "+JSON.stringify(T)),b(T)},w=function(T){return m.version>=64?T:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[T.name]||T.name,message:T.message,constraint:T.constraint||T.constraintName,toString:function(){return this.name+(this.message&&": ")+this.message}}};if(l.getUserMedia=function(T,b,x){S(T,function(_){l.webkitGetUserMedia(_,b,function(k){x&&x(w(k))})})}.bind(l),l.mediaDevices.getUserMedia){var j=l.mediaDevices.getUserMedia.bind(l.mediaDevices);l.mediaDevices.getUserMedia=function(T){return S(T,function(b){return j(b).then(function(x){if(b.audio&&!x.getAudioTracks().length||b.video&&!x.getVideoTracks().length)throw x.getTracks().forEach(function(_){_.stop()}),new DOMException("","NotFoundError");return x},function(x){return Promise.reject(w(x))})})}}}};var g=function(u){if(u&&u.__esModule)return u;var l={};if(u!=null)for(var m in u)Object.prototype.hasOwnProperty.call(u,m)&&(l[m]=u[m]);return l.default=u,l}(C("../utils.js")),v=g.log},{"../utils.js":15}],6:[function(C,F,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u};o.shimRTCIceCandidate=function(u){if(u.RTCIceCandidate&&(!u.RTCIceCandidate||!("foundation"in u.RTCIceCandidate.prototype))){var l=u.RTCIceCandidate;u.RTCIceCandidate=function(m){if((m===void 0?"undefined":c(m))==="object"&&m.candidate&&m.candidate.indexOf("a=")===0&&((m=JSON.parse(JSON.stringify(m))).candidate=m.candidate.substr(2)),m.candidate&&m.candidate.length){var d=new l(m),S=g.default.parseCandidate(m.candidate),w=Object.assign(d,S);return w.toJSON=function(){return{candidate:w.candidate,sdpMid:w.sdpMid,sdpMLineIndex:w.sdpMLineIndex,usernameFragment:w.usernameFragment}},w}return new l(m)},u.RTCIceCandidate.prototype=l.prototype,v.wrapPeerConnectionEvent(u,"icecandidate",function(m){return m.candidate&&Object.defineProperty(m,"candidate",{value:new u.RTCIceCandidate(m.candidate),writable:"false"}),m})}},o.shimMaxMessageSize=function(u){if(u.RTCPeerConnection){var l=v.detectBrowser(u);"sctp"in u.RTCPeerConnection.prototype||Object.defineProperty(u.RTCPeerConnection.prototype,"sctp",{get:function(){return this._sctp===void 0?null:this._sctp}});var m=function(T){if(!T||!T.sdp)return!1;var b=g.default.splitSections(T.sdp);return b.shift(),b.some(function(x){var _=g.default.parseMLine(x);return _&&_.kind==="application"&&_.protocol.indexOf("SCTP")!==-1})},d=function(T){var b=T.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(b===null||b.length<2)return-1;var x=parseInt(b[1],10);return x!=x?-1:x},S=function(T){var b=65536;return l.browser==="firefox"&&(b=l.version<57?T===-1?16384:2147483637:l.version<60?l.version===57?65535:65536:2147483637),b},w=function(T,b){var x=65536;l.browser==="firefox"&&l.version===57&&(x=65535);var _=g.default.matchPrefix(T.sdp,"a=max-message-size:");return _.length>0?x=parseInt(_[0].substr(19),10):l.browser==="firefox"&&b!==-1&&(x=2147483637),x},j=u.RTCPeerConnection.prototype.setRemoteDescription;u.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,l.browser==="chrome"&&l.version>=76&&this.getConfiguration().sdpSemantics==="plan-b"&&Object.defineProperty(this,"sctp",{get:function(){return this._sctp===void 0?null:this._sctp},enumerable:!0,configurable:!0}),m(arguments[0])){var T=d(arguments[0]),b=S(T),x=w(arguments[0],T),_=void 0;_=b===0&&x===0?Number.POSITIVE_INFINITY:b===0||x===0?Math.max(b,x):Math.min(b,x);var k={};Object.defineProperty(k,"maxMessageSize",{get:function(){return _}}),this._sctp=k}return j.apply(this,arguments)}}},o.shimSendThrowTypeError=function(u){function l(d,S){var w=d.send;d.send=function(){var j=arguments[0],T=j.length||j.size||j.byteLength;if(d.readyState==="open"&&S.sctp&&T>S.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+S.sctp.maxMessageSize+" bytes)");return w.apply(d,arguments)}}if(u.RTCPeerConnection&&"createDataChannel"in u.RTCPeerConnection.prototype){var m=u.RTCPeerConnection.prototype.createDataChannel;u.RTCPeerConnection.prototype.createDataChannel=function(){var d=m.apply(this,arguments);return l(d,this),d},v.wrapPeerConnectionEvent(u,"datachannel",function(d){return l(d.channel,d.target),d})}},o.shimConnectionState=function(u){if(u.RTCPeerConnection&&!("connectionState"in u.RTCPeerConnection.prototype)){var l=u.RTCPeerConnection.prototype;Object.defineProperty(l,"connectionState",{get:function(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(l,"onconnectionstatechange",{get:function(){return this._onconnectionstatechange||null},set:function(m){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),m&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=m)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(function(m){var d=l[m];l[m]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=function(S){var w=S.target;if(w._lastConnectionState!==w.connectionState){w._lastConnectionState=w.connectionState;var j=new Event("connectionstatechange",S);w.dispatchEvent(j)}return S},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),d.apply(this,arguments)}})}},o.removeAllowExtmapMixed=function(u){if(u.RTCPeerConnection){var l=v.detectBrowser(u);if(!(l.browser==="chrome"&&l.version>=71||l.browser==="safari"&&l.version>=605)){var m=u.RTCPeerConnection.prototype.setRemoteDescription;u.RTCPeerConnection.prototype.setRemoteDescription=function(d){return d&&d.sdp&&d.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1&&(d.sdp=d.sdp.split(`
`).filter(function(S){return S.trim()!=="a=extmap-allow-mixed"}).join(`
`)),m.apply(this,arguments)}}}};var g=function(u){return u&&u.__esModule?u:{default:u}}(C("sdp")),v=function(u){if(u&&u.__esModule)return u;var l={};if(u!=null)for(var m in u)Object.prototype.hasOwnProperty.call(u,m)&&(l[m]=u[m]);return l.default=u,l}(C("./utils"))},{"./utils":15,sdp:17}],7:[function(C,F,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.shimGetDisplayMedia=o.shimGetUserMedia=void 0;var c=C("./getusermedia");Object.defineProperty(o,"shimGetUserMedia",{enumerable:!0,get:function(){return c.shimGetUserMedia}});var g=C("./getdisplaymedia");Object.defineProperty(o,"shimGetDisplayMedia",{enumerable:!0,get:function(){return g.shimGetDisplayMedia}}),o.shimPeerConnection=function(m){var d=v.detectBrowser(m);if(m.RTCIceGatherer&&(m.RTCIceCandidate||(m.RTCIceCandidate=function(j){return j}),m.RTCSessionDescription||(m.RTCSessionDescription=function(j){return j}),d.version<15025)){var S=Object.getOwnPropertyDescriptor(m.MediaStreamTrack.prototype,"enabled");Object.defineProperty(m.MediaStreamTrack.prototype,"enabled",{set:function(j){S.set.call(this,j);var T=new Event("enabled");T.enabled=j,this.dispatchEvent(T)}})}!m.RTCRtpSender||"dtmf"in m.RTCRtpSender.prototype||Object.defineProperty(m.RTCRtpSender.prototype,"dtmf",{get:function(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=new m.RTCDtmfSender(this):this.track.kind==="video"&&(this._dtmf=null)),this._dtmf}}),m.RTCDtmfSender&&!m.RTCDTMFSender&&(m.RTCDTMFSender=m.RTCDtmfSender);var w=(0,l.default)(m,d.version);m.RTCPeerConnection=function(j){return j&&j.iceServers&&(j.iceServers=(0,u.filterIceServers)(j.iceServers,d.version),v.log("ICE servers after filtering:",j.iceServers)),new w(j)},m.RTCPeerConnection.prototype=w.prototype},o.shimReplaceTrack=function(m){!m.RTCRtpSender||"replaceTrack"in m.RTCRtpSender.prototype||(m.RTCRtpSender.prototype.replaceTrack=m.RTCRtpSender.prototype.setTrack)};var v=function(m){if(m&&m.__esModule)return m;var d={};if(m!=null)for(var S in m)Object.prototype.hasOwnProperty.call(m,S)&&(d[S]=m[S]);return d.default=m,d}(C("../utils")),u=C("./filtericeservers"),l=function(m){return m&&m.__esModule?m:{default:m}}(C("rtcpeerconnection-shim"))},{"../utils":15,"./filtericeservers":8,"./getdisplaymedia":9,"./getusermedia":10,"rtcpeerconnection-shim":16}],8:[function(C,F,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.filterIceServers=function(g,v){var u=!1;return(g=JSON.parse(JSON.stringify(g))).filter(function(l){if(l&&(l.urls||l.url)){var m=l.urls||l.url;l.url&&!l.urls&&c.deprecated("RTCIceServer.url","RTCIceServer.urls");var d=typeof m=="string";return d&&(m=[m]),m=m.filter(function(S){if(S.indexOf("stun:")===0)return!1;var w=S.startsWith("turn")&&!S.startsWith("turn:[")&&S.includes("transport=udp");return w&&!u?(u=!0,!0):w&&!u}),delete l.url,l.urls=d?m[0]:m,!!m.length}})};var c=function(g){if(g&&g.__esModule)return g;var v={};if(g!=null)for(var u in g)Object.prototype.hasOwnProperty.call(g,u)&&(v[u]=g[u]);return v.default=g,v}(C("../utils"))},{"../utils":15}],9:[function(C,F,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.shimGetDisplayMedia=function(c){"getDisplayMedia"in c.navigator&&c.navigator.mediaDevices&&(c.navigator.mediaDevices&&"getDisplayMedia"in c.navigator.mediaDevices||(c.navigator.mediaDevices.getDisplayMedia=c.navigator.getDisplayMedia.bind(c.navigator)))}},{}],10:[function(C,F,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.shimGetUserMedia=function(c){var g=c&&c.navigator,v=g.mediaDevices.getUserMedia.bind(g.mediaDevices);g.mediaDevices.getUserMedia=function(u){return v(u).catch(function(l){return Promise.reject(function(m){return{name:{PermissionDeniedError:"NotAllowedError"}[m.name]||m.name,message:m.message,constraint:m.constraint,toString:function(){return this.name}}}(l))})}}},{}],11:[function(C,F,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.shimGetDisplayMedia=o.shimGetUserMedia=void 0;var c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},g=C("./getusermedia");Object.defineProperty(o,"shimGetUserMedia",{enumerable:!0,get:function(){return g.shimGetUserMedia}});var v=C("./getdisplaymedia");Object.defineProperty(o,"shimGetDisplayMedia",{enumerable:!0,get:function(){return v.shimGetDisplayMedia}}),o.shimOnTrack=function(l){(l===void 0?"undefined":c(l))==="object"&&l.RTCTrackEvent&&"receiver"in l.RTCTrackEvent.prototype&&!("transceiver"in l.RTCTrackEvent.prototype)&&Object.defineProperty(l.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})},o.shimPeerConnection=function(l){var m=u.detectBrowser(l);if((l===void 0?"undefined":c(l))==="object"&&(l.RTCPeerConnection||l.mozRTCPeerConnection)){if(!l.RTCPeerConnection&&l.mozRTCPeerConnection&&(l.RTCPeerConnection=l.mozRTCPeerConnection),m.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(j){var T=l.RTCPeerConnection.prototype[j],b=function(x,_,k){return _ in x?Object.defineProperty(x,_,{value:k,enumerable:!0,configurable:!0,writable:!0}):x[_]=k,x}({},j,function(){return arguments[0]=new(j==="addIceCandidate"?l.RTCIceCandidate:l.RTCSessionDescription)(arguments[0]),T.apply(this,arguments)});l.RTCPeerConnection.prototype[j]=b[j]}),m.version<68){var d=l.RTCPeerConnection.prototype.addIceCandidate;l.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?arguments[0]&&arguments[0].candidate===""?Promise.resolve():d.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())}}var S={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},w=l.RTCPeerConnection.prototype.getStats;l.RTCPeerConnection.prototype.getStats=function(){var j=Array.prototype.slice.call(arguments),T=j[0],b=j[1],x=j[2];return w.apply(this,[T||null]).then(function(_){if(m.version<53&&!b)try{_.forEach(function(k){k.type=S[k.type]||k.type})}catch(k){if(k.name!=="TypeError")throw k;_.forEach(function(O,I){_.set(I,Object.assign({},O,{type:S[O.type]||O.type}))})}return _}).then(b,x)}}},o.shimSenderGetStats=function(l){if((l===void 0?"undefined":c(l))==="object"&&l.RTCPeerConnection&&l.RTCRtpSender&&(!l.RTCRtpSender||!("getStats"in l.RTCRtpSender.prototype))){var m=l.RTCPeerConnection.prototype.getSenders;m&&(l.RTCPeerConnection.prototype.getSenders=function(){var S=this,w=m.apply(this,[]);return w.forEach(function(j){return j._pc=S}),w});var d=l.RTCPeerConnection.prototype.addTrack;d&&(l.RTCPeerConnection.prototype.addTrack=function(){var S=d.apply(this,arguments);return S._pc=this,S}),l.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}},o.shimReceiverGetStats=function(l){if((l===void 0?"undefined":c(l))==="object"&&l.RTCPeerConnection&&l.RTCRtpSender&&(!l.RTCRtpSender||!("getStats"in l.RTCRtpReceiver.prototype))){var m=l.RTCPeerConnection.prototype.getReceivers;m&&(l.RTCPeerConnection.prototype.getReceivers=function(){var d=this,S=m.apply(this,[]);return S.forEach(function(w){return w._pc=d}),S}),u.wrapPeerConnectionEvent(l,"track",function(d){return d.receiver._pc=d.srcElement,d}),l.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}},o.shimRemoveStream=function(l){!l.RTCPeerConnection||"removeStream"in l.RTCPeerConnection.prototype||(l.RTCPeerConnection.prototype.removeStream=function(m){var d=this;u.deprecated("removeStream","removeTrack"),this.getSenders().forEach(function(S){S.track&&m.getTracks().includes(S.track)&&d.removeTrack(S)})})},o.shimRTCDataChannel=function(l){l.DataChannel&&!l.RTCDataChannel&&(l.RTCDataChannel=l.DataChannel)},o.shimAddTransceiver=function(l){if((l===void 0?"undefined":c(l))==="object"&&l.RTCPeerConnection){var m=l.RTCPeerConnection.prototype.addTransceiver;m&&(l.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];var d=arguments[1],S=d&&"sendEncodings"in d;S&&d.sendEncodings.forEach(function(b){if("rid"in b&&!/^[a-z0-9]{0,16}$/i.test(b.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in b&&!(parseFloat(b.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in b&&!(parseFloat(b.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});var w=m.apply(this,arguments);if(S){var j=w.sender,T=j.getParameters();"encodings"in T&&(T.encodings.length!==1||Object.keys(T.encodings[0]).length!==0)||(T.encodings=d.sendEncodings,j.sendEncodings=d.sendEncodings,this.setParametersPromises.push(j.setParameters(T).then(function(){delete j.sendEncodings}).catch(function(){delete j.sendEncodings})))}return w})}},o.shimGetParameters=function(l){if((l===void 0?"undefined":c(l))==="object"&&l.RTCRtpSender){var m=l.RTCRtpSender.prototype.getParameters;m&&(l.RTCRtpSender.prototype.getParameters=function(){var d=m.apply(this,arguments);return"encodings"in d||(d.encodings=[].concat(this.sendEncodings||[{}])),d})}},o.shimCreateOffer=function(l){if((l===void 0?"undefined":c(l))==="object"&&l.RTCPeerConnection){var m=l.RTCPeerConnection.prototype.createOffer;l.RTCPeerConnection.prototype.createOffer=function(){var d=this,S=arguments;return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(function(){return m.apply(d,S)}).finally(function(){d.setParametersPromises=[]}):m.apply(this,arguments)}}},o.shimCreateAnswer=function(l){if((l===void 0?"undefined":c(l))==="object"&&l.RTCPeerConnection){var m=l.RTCPeerConnection.prototype.createAnswer;l.RTCPeerConnection.prototype.createAnswer=function(){var d=this,S=arguments;return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(function(){return m.apply(d,S)}).finally(function(){d.setParametersPromises=[]}):m.apply(this,arguments)}}};var u=function(l){if(l&&l.__esModule)return l;var m={};if(l!=null)for(var d in l)Object.prototype.hasOwnProperty.call(l,d)&&(m[d]=l[d]);return m.default=l,m}(C("../utils"))},{"../utils":15,"./getdisplaymedia":12,"./getusermedia":13}],12:[function(C,F,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.shimGetDisplayMedia=function(c,g){c.navigator.mediaDevices&&"getDisplayMedia"in c.navigator.mediaDevices||c.navigator.mediaDevices&&(c.navigator.mediaDevices.getDisplayMedia=function(v){if(!v||!v.video){var u=new DOMException("getDisplayMedia without video constraints is undefined");return u.name="NotFoundError",u.code=8,Promise.reject(u)}return v.video===!0?v.video={mediaSource:g}:v.video.mediaSource=g,c.navigator.mediaDevices.getUserMedia(v)})}},{}],13:[function(C,F,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v};o.shimGetUserMedia=function(v){var u=g.detectBrowser(v),l=v&&v.navigator,m=v&&v.MediaStreamTrack;if(l.getUserMedia=function(T,b,x){g.deprecated("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),l.mediaDevices.getUserMedia(T).then(b,x)},!(u.version>55&&"autoGainControl"in l.mediaDevices.getSupportedConstraints())){var d=function(T,b,x){b in T&&!(x in T)&&(T[x]=T[b],delete T[b])},S=l.mediaDevices.getUserMedia.bind(l.mediaDevices);if(l.mediaDevices.getUserMedia=function(T){return(T===void 0?"undefined":c(T))==="object"&&c(T.audio)==="object"&&(T=JSON.parse(JSON.stringify(T)),d(T.audio,"autoGainControl","mozAutoGainControl"),d(T.audio,"noiseSuppression","mozNoiseSuppression")),S(T)},m&&m.prototype.getSettings){var w=m.prototype.getSettings;m.prototype.getSettings=function(){var T=w.apply(this,arguments);return d(T,"mozAutoGainControl","autoGainControl"),d(T,"mozNoiseSuppression","noiseSuppression"),T}}if(m&&m.prototype.applyConstraints){var j=m.prototype.applyConstraints;m.prototype.applyConstraints=function(T){return this.kind==="audio"&&(T===void 0?"undefined":c(T))==="object"&&(T=JSON.parse(JSON.stringify(T)),d(T,"autoGainControl","mozAutoGainControl"),d(T,"noiseSuppression","mozNoiseSuppression")),j.apply(this,[T])}}}};var g=function(v){if(v&&v.__esModule)return v;var u={};if(v!=null)for(var l in v)Object.prototype.hasOwnProperty.call(v,l)&&(u[l]=v[l]);return u.default=v,u}(C("../utils"))},{"../utils":15}],14:[function(C,F,o){"use strict";function c(u){return u&&u.video!==void 0?Object.assign({},u,{video:v.compactObject(u.video)}):u}Object.defineProperty(o,"__esModule",{value:!0});var g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u};o.shimLocalStreamsAPI=function(u){if((u===void 0?"undefined":g(u))==="object"&&u.RTCPeerConnection){if("getLocalStreams"in u.RTCPeerConnection.prototype||(u.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in u.RTCPeerConnection.prototype)){var l=u.RTCPeerConnection.prototype.addTrack;u.RTCPeerConnection.prototype.addStream=function(m){var d=this;this._localStreams||(this._localStreams=[]),this._localStreams.includes(m)||this._localStreams.push(m),m.getAudioTracks().forEach(function(S){return l.call(d,S,m)}),m.getVideoTracks().forEach(function(S){return l.call(d,S,m)})},u.RTCPeerConnection.prototype.addTrack=function(m){for(var d=this,S=arguments.length,w=Array(S>1?S-1:0),j=1;j<S;j++)w[j-1]=arguments[j];return w&&w.forEach(function(T){d._localStreams?d._localStreams.includes(T)||d._localStreams.push(T):d._localStreams=[T]}),l.apply(this,arguments)}}"removeStream"in u.RTCPeerConnection.prototype||(u.RTCPeerConnection.prototype.removeStream=function(m){var d=this;this._localStreams||(this._localStreams=[]);var S=this._localStreams.indexOf(m);if(S!==-1){this._localStreams.splice(S,1);var w=m.getTracks();this.getSenders().forEach(function(j){w.includes(j.track)&&d.removeTrack(j)})}})}},o.shimRemoteStreamsAPI=function(u){if((u===void 0?"undefined":g(u))==="object"&&u.RTCPeerConnection&&("getRemoteStreams"in u.RTCPeerConnection.prototype||(u.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in u.RTCPeerConnection.prototype))){Object.defineProperty(u.RTCPeerConnection.prototype,"onaddstream",{get:function(){return this._onaddstream},set:function(m){var d=this;this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=m),this.addEventListener("track",this._onaddstreampoly=function(S){S.streams.forEach(function(w){if(d._remoteStreams||(d._remoteStreams=[]),!d._remoteStreams.includes(w)){d._remoteStreams.push(w);var j=new Event("addstream");j.stream=w,d.dispatchEvent(j)}})})}});var l=u.RTCPeerConnection.prototype.setRemoteDescription;u.RTCPeerConnection.prototype.setRemoteDescription=function(){var m=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(d){d.streams.forEach(function(S){if(m._remoteStreams||(m._remoteStreams=[]),!(m._remoteStreams.indexOf(S)>=0)){m._remoteStreams.push(S);var w=new Event("addstream");w.stream=S,m.dispatchEvent(w)}})}),l.apply(m,arguments)}}},o.shimCallbacksAPI=function(u){if((u===void 0?"undefined":g(u))==="object"&&u.RTCPeerConnection){var l=u.RTCPeerConnection.prototype,m=l.createOffer,d=l.createAnswer,S=l.setLocalDescription,w=l.setRemoteDescription,j=l.addIceCandidate;l.createOffer=function(b,x){var _=arguments.length>=2?arguments[2]:arguments[0],k=m.apply(this,[_]);return x?(k.then(b,x),Promise.resolve()):k},l.createAnswer=function(b,x){var _=arguments.length>=2?arguments[2]:arguments[0],k=d.apply(this,[_]);return x?(k.then(b,x),Promise.resolve()):k};var T=function(b,x,_){var k=S.apply(this,[b]);return _?(k.then(x,_),Promise.resolve()):k};l.setLocalDescription=T,T=function(b,x,_){var k=w.apply(this,[b]);return _?(k.then(x,_),Promise.resolve()):k},l.setRemoteDescription=T,T=function(b,x,_){var k=j.apply(this,[b]);return _?(k.then(x,_),Promise.resolve()):k},l.addIceCandidate=T}},o.shimGetUserMedia=function(u){var l=u&&u.navigator;if(l.mediaDevices&&l.mediaDevices.getUserMedia){var m=l.mediaDevices,d=m.getUserMedia.bind(m);l.mediaDevices.getUserMedia=function(S){return d(c(S))}}!l.getUserMedia&&l.mediaDevices&&l.mediaDevices.getUserMedia&&(l.getUserMedia=function(S,w,j){l.mediaDevices.getUserMedia(S).then(w,j)}.bind(l))},o.shimConstraints=c,o.shimRTCIceServerUrls=function(u){if(u.RTCPeerConnection){var l=u.RTCPeerConnection;u.RTCPeerConnection=function(m,d){if(m&&m.iceServers){for(var S=[],w=0;w<m.iceServers.length;w++){var j=m.iceServers[w];!j.hasOwnProperty("urls")&&j.hasOwnProperty("url")?(v.deprecated("RTCIceServer.url","RTCIceServer.urls"),(j=JSON.parse(JSON.stringify(j))).urls=j.url,delete j.url,S.push(j)):S.push(m.iceServers[w])}m.iceServers=S}return new l(m,d)},u.RTCPeerConnection.prototype=l.prototype,"generateCertificate"in l&&Object.defineProperty(u.RTCPeerConnection,"generateCertificate",{get:function(){return l.generateCertificate}})}},o.shimTrackEventTransceiver=function(u){(u===void 0?"undefined":g(u))==="object"&&u.RTCTrackEvent&&"receiver"in u.RTCTrackEvent.prototype&&!("transceiver"in u.RTCTrackEvent.prototype)&&Object.defineProperty(u.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})},o.shimCreateOfferLegacy=function(u){var l=u.RTCPeerConnection.prototype.createOffer;u.RTCPeerConnection.prototype.createOffer=function(m){if(m){m.offerToReceiveAudio!==void 0&&(m.offerToReceiveAudio=!!m.offerToReceiveAudio);var d=this.getTransceivers().find(function(w){return w.receiver.track.kind==="audio"});m.offerToReceiveAudio===!1&&d?d.direction==="sendrecv"?d.setDirection?d.setDirection("sendonly"):d.direction="sendonly":d.direction==="recvonly"&&(d.setDirection?d.setDirection("inactive"):d.direction="inactive"):m.offerToReceiveAudio!==!0||d||this.addTransceiver("audio"),m.offerToReceiveVideo!==void 0&&(m.offerToReceiveVideo=!!m.offerToReceiveVideo);var S=this.getTransceivers().find(function(w){return w.receiver.track.kind==="video"});m.offerToReceiveVideo===!1&&S?S.direction==="sendrecv"?S.setDirection?S.setDirection("sendonly"):S.direction="sendonly":S.direction==="recvonly"&&(S.setDirection?S.setDirection("inactive"):S.direction="inactive"):m.offerToReceiveVideo!==!0||S||this.addTransceiver("video")}return l.apply(this,arguments)}},o.shimAudioContext=function(u){(u===void 0?"undefined":g(u))!=="object"||u.AudioContext||(u.AudioContext=u.webkitAudioContext)};var v=function(u){if(u&&u.__esModule)return u;var l={};if(u!=null)for(var m in u)Object.prototype.hasOwnProperty.call(u,m)&&(l[m]=u[m]);return l.default=u,l}(C("../utils"))},{"../utils":15}],15:[function(C,F,o){"use strict";function c(d,S,w){var j=d.match(S);return j&&j.length>=w&&parseInt(j[w],10)}function g(d){return Object.prototype.toString.call(d)==="[object Object]"}function v(d,S,w){S&&!w.has(S.id)&&(w.set(S.id,S),Object.keys(S).forEach(function(j){j.endsWith("Id")?v(d,d.get(S[j]),w):j.endsWith("Ids")&&S[j].forEach(function(T){v(d,d.get(T),w)})}))}Object.defineProperty(o,"__esModule",{value:!0});var u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d};o.extractVersion=c,o.wrapPeerConnectionEvent=function(d,S,w){if(d.RTCPeerConnection){var j=d.RTCPeerConnection.prototype,T=j.addEventListener;j.addEventListener=function(x,_){if(x!==S)return T.apply(this,arguments);var k=function(O){var I=w(O);I&&(_.handleEvent?_.handleEvent(I):_(I))};return this._eventMap=this._eventMap||{},this._eventMap[S]||(this._eventMap[S]=new Map),this._eventMap[S].set(_,k),T.apply(this,[x,k])};var b=j.removeEventListener;j.removeEventListener=function(x,_){if(x!==S||!this._eventMap||!this._eventMap[S])return b.apply(this,arguments);if(!this._eventMap[S].has(_))return b.apply(this,arguments);var k=this._eventMap[S].get(_);return this._eventMap[S].delete(_),this._eventMap[S].size===0&&delete this._eventMap[S],Object.keys(this._eventMap).length===0&&delete this._eventMap,b.apply(this,[x,k])},Object.defineProperty(j,"on"+S,{get:function(){return this["_on"+S]},set:function(x){this["_on"+S]&&(this.removeEventListener(S,this["_on"+S]),delete this["_on"+S]),x&&this.addEventListener(S,this["_on"+S]=x)},enumerable:!0,configurable:!0})}},o.disableLog=function(d){return typeof d!="boolean"?new Error("Argument type: "+(d===void 0?"undefined":u(d))+". Please use a boolean."):(l=d,d?"adapter.js logging disabled":"adapter.js logging enabled")},o.disableWarnings=function(d){return typeof d!="boolean"?new Error("Argument type: "+(d===void 0?"undefined":u(d))+". Please use a boolean."):(m=!d,"adapter.js deprecation warnings "+(d?"disabled":"enabled"))},o.log=function(){if((typeof window=="undefined"?"undefined":u(window))==="object"){if(l)return;typeof console!="undefined"&&typeof console.log=="function"&&console.log.apply(console,arguments)}},o.deprecated=function(d,S){m&&console.warn(d+" is deprecated, please use "+S+" instead.")},o.detectBrowser=function(d){var S={browser:null,version:null};if(d===void 0||!d.navigator)return S.browser="Not a browser.",S;var w=d.navigator;if(w.mozGetUserMedia)S.browser="firefox",S.version=c(w.userAgent,/Firefox\/(\d+)\./,1);else if(w.webkitGetUserMedia||d.isSecureContext===!1&&d.webkitRTCPeerConnection&&!d.RTCIceGatherer)S.browser="chrome",S.version=c(w.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(w.mediaDevices&&w.userAgent.match(/Edge\/(\d+).(\d+)$/))S.browser="edge",S.version=c(w.userAgent,/Edge\/(\d+).(\d+)$/,2);else{if(!d.RTCPeerConnection||!w.userAgent.match(/AppleWebKit\/(\d+)\./))return S.browser="Not a supported browser.",S;S.browser="safari",S.version=c(w.userAgent,/AppleWebKit\/(\d+)\./,1),S.supportsUnifiedPlan=d.RTCRtpTransceiver&&"currentDirection"in d.RTCRtpTransceiver.prototype}return S},o.compactObject=function d(S){return g(S)?Object.keys(S).reduce(function(w,j){var T=g(S[j]),b=T?d(S[j]):S[j],x=T&&!Object.keys(b).length;return b===void 0||x?w:Object.assign(w,function(_,k,O){return k in _?Object.defineProperty(_,k,{value:O,enumerable:!0,configurable:!0,writable:!0}):_[k]=O,_}({},j,b))},{}):S},o.walkStats=v,o.filterStats=function(d,S,w){var j=w?"outbound-rtp":"inbound-rtp",T=new Map;if(S===null)return T;var b=[];return d.forEach(function(x){x.type==="track"&&x.trackIdentifier===S.id&&b.push(x)}),b.forEach(function(x){d.forEach(function(_){_.type===j&&_.trackId===x.id&&v(d,_,T)})}),T};var l=!0,m=!0},{}],16:[function(C,F,o){"use strict";function c(d,S,w,j,T){var b=m.writeRtpDescription(d.kind,S);if(b+=m.writeIceParameters(d.iceGatherer.getLocalParameters()),b+=m.writeDtlsParameters(d.dtlsTransport.getLocalParameters(),w==="offer"?"actpass":T||"active"),b+="a=mid:"+d.mid+`\r
`,d.rtpSender&&d.rtpReceiver?b+=`a=sendrecv\r
`:d.rtpSender?b+=`a=sendonly\r
`:d.rtpReceiver?b+=`a=recvonly\r
`:b+=`a=inactive\r
`,d.rtpSender){var x=d.rtpSender._initialTrackId||d.rtpSender.track.id;d.rtpSender._initialTrackId=x;var _="msid:"+(j?j.id:"-")+" "+x+`\r
`;b+="a="+_,b+="a=ssrc:"+d.sendEncodingParameters[0].ssrc+" "+_,d.sendEncodingParameters[0].rtx&&(b+="a=ssrc:"+d.sendEncodingParameters[0].rtx.ssrc+" "+_,b+="a=ssrc-group:FID "+d.sendEncodingParameters[0].ssrc+" "+d.sendEncodingParameters[0].rtx.ssrc+`\r
`)}return b+="a=ssrc:"+d.sendEncodingParameters[0].ssrc+" cname:"+m.localCName+`\r
`,d.rtpSender&&d.sendEncodingParameters[0].rtx&&(b+="a=ssrc:"+d.sendEncodingParameters[0].rtx.ssrc+" cname:"+m.localCName+`\r
`),b}function g(d,S){var w={codecs:[],headerExtensions:[],fecMechanisms:[]},j=function(b,x){b=parseInt(b,10);for(var _=0;_<x.length;_++)if(x[_].payloadType===b||x[_].preferredPayloadType===b)return x[_]},T=function(b,x,_,k){var O=j(b.parameters.apt,_),I=j(x.parameters.apt,k);return O&&I&&O.name.toLowerCase()===I.name.toLowerCase()};return d.codecs.forEach(function(b){for(var x=0;x<S.codecs.length;x++){var _=S.codecs[x];if(b.name.toLowerCase()===_.name.toLowerCase()&&b.clockRate===_.clockRate){if(b.name.toLowerCase()==="rtx"&&b.parameters&&_.parameters.apt&&!T(b,_,d.codecs,S.codecs))continue;(_=JSON.parse(JSON.stringify(_))).numChannels=Math.min(b.numChannels,_.numChannels),w.codecs.push(_),_.rtcpFeedback=_.rtcpFeedback.filter(function(k){for(var O=0;O<b.rtcpFeedback.length;O++)if(b.rtcpFeedback[O].type===k.type&&b.rtcpFeedback[O].parameter===k.parameter)return!0;return!1});break}}}),d.headerExtensions.forEach(function(b){for(var x=0;x<S.headerExtensions.length;x++){var _=S.headerExtensions[x];if(b.uri===_.uri){w.headerExtensions.push(_);break}}}),w}function v(d,S,w){return{offer:{setLocalDescription:["stable","have-local-offer"],setRemoteDescription:["stable","have-remote-offer"]},answer:{setLocalDescription:["have-remote-offer","have-local-pranswer"],setRemoteDescription:["have-local-offer","have-remote-pranswer"]}}[S][d].indexOf(w)!==-1}function u(d,S){var w=d.getRemoteCandidates().find(function(j){return S.foundation===j.foundation&&S.ip===j.ip&&S.port===j.port&&S.priority===j.priority&&S.protocol===j.protocol&&S.type===j.type});return w||d.addRemoteCandidate(S),!w}function l(d,S){var w=new Error(S);return w.name=d,w.code={NotSupportedError:9,InvalidStateError:11,InvalidAccessError:15,TypeError:void 0,OperationError:void 0}[d],w}var m=C("sdp");F.exports=function(d,S){function w(_,k){k.addTrack(_),k.dispatchEvent(new d.MediaStreamTrackEvent("addtrack",{track:_}))}function j(_,k){k.removeTrack(_),k.dispatchEvent(new d.MediaStreamTrackEvent("removetrack",{track:_}))}function T(_,k,O,I){var V=new Event("track");V.track=k,V.receiver=O,V.transceiver={receiver:O},V.streams=I,d.setTimeout(function(){_._dispatchEvent("track",V)})}var b=function(_){var k=this,O=document.createDocumentFragment();if(["addEventListener","removeEventListener","dispatchEvent"].forEach(function(V){k[V]=O[V].bind(O)}),this.canTrickleIceCandidates=null,this.needNegotiation=!1,this.localStreams=[],this.remoteStreams=[],this._localDescription=null,this._remoteDescription=null,this.signalingState="stable",this.iceConnectionState="new",this.connectionState="new",this.iceGatheringState="new",_=JSON.parse(JSON.stringify(_||{})),this.usingBundle=_.bundlePolicy==="max-bundle",_.rtcpMuxPolicy==="negotiate")throw l("NotSupportedError","rtcpMuxPolicy 'negotiate' is not supported");switch(_.rtcpMuxPolicy||(_.rtcpMuxPolicy="require"),_.iceTransportPolicy){case"all":case"relay":break;default:_.iceTransportPolicy="all"}switch(_.bundlePolicy){case"balanced":case"max-compat":case"max-bundle":break;default:_.bundlePolicy="balanced"}if(_.iceServers=function(V,H){var G=!1;return(V=JSON.parse(JSON.stringify(V))).filter(function(K){if(K&&(K.urls||K.url)){var et=K.urls||K.url;K.url&&!K.urls&&console.warn("RTCIceServer.url is deprecated! Use urls instead.");var ct=typeof et=="string";return ct&&(et=[et]),et=et.filter(function(gt){return gt.indexOf("turn:")!==0||gt.indexOf("transport=udp")===-1||gt.indexOf("turn:[")!==-1||G?gt.indexOf("stun:")===0&&H>=14393&&gt.indexOf("?transport=udp")===-1:(G=!0,!0)}),delete K.url,K.urls=ct?et[0]:et,!!et.length}})}(_.iceServers||[],S),this._iceGatherers=[],_.iceCandidatePoolSize)for(var I=_.iceCandidatePoolSize;I>0;I--)this._iceGatherers.push(new d.RTCIceGatherer({iceServers:_.iceServers,gatherPolicy:_.iceTransportPolicy}));else _.iceCandidatePoolSize=0;this._config=_,this.transceivers=[],this._sdpSessionId=m.generateSessionId(),this._sdpSessionVersion=0,this._dtlsRole=void 0,this._isClosed=!1};Object.defineProperty(b.prototype,"localDescription",{configurable:!0,get:function(){return this._localDescription}}),Object.defineProperty(b.prototype,"remoteDescription",{configurable:!0,get:function(){return this._remoteDescription}}),b.prototype.onicecandidate=null,b.prototype.onaddstream=null,b.prototype.ontrack=null,b.prototype.onremovestream=null,b.prototype.onsignalingstatechange=null,b.prototype.oniceconnectionstatechange=null,b.prototype.onconnectionstatechange=null,b.prototype.onicegatheringstatechange=null,b.prototype.onnegotiationneeded=null,b.prototype.ondatachannel=null,b.prototype._dispatchEvent=function(_,k){this._isClosed||(this.dispatchEvent(k),typeof this["on"+_]=="function"&&this["on"+_](k))},b.prototype._emitGatheringStateChange=function(){var _=new Event("icegatheringstatechange");this._dispatchEvent("icegatheringstatechange",_)},b.prototype.getConfiguration=function(){return this._config},b.prototype.getLocalStreams=function(){return this.localStreams},b.prototype.getRemoteStreams=function(){return this.remoteStreams},b.prototype._createTransceiver=function(_,k){var O=this.transceivers.length>0,I={track:null,iceGatherer:null,iceTransport:null,dtlsTransport:null,localCapabilities:null,remoteCapabilities:null,rtpSender:null,rtpReceiver:null,kind:_,mid:null,sendEncodingParameters:null,recvEncodingParameters:null,stream:null,associatedRemoteMediaStreams:[],wantReceive:!0};if(this.usingBundle&&O)I.iceTransport=this.transceivers[0].iceTransport,I.dtlsTransport=this.transceivers[0].dtlsTransport;else{var V=this._createIceAndDtlsTransports();I.iceTransport=V.iceTransport,I.dtlsTransport=V.dtlsTransport}return k||this.transceivers.push(I),I},b.prototype.addTrack=function(_,k){if(this._isClosed)throw l("InvalidStateError","Attempted to call addTrack on a closed peerconnection.");if(this.transceivers.find(function(V){return V.track===_}))throw l("InvalidAccessError","Track already exists.");for(var O,I=0;I<this.transceivers.length;I++)this.transceivers[I].track||this.transceivers[I].kind!==_.kind||(O=this.transceivers[I]);return O||(O=this._createTransceiver(_.kind)),this._maybeFireNegotiationNeeded(),this.localStreams.indexOf(k)===-1&&this.localStreams.push(k),O.track=_,O.stream=k,O.rtpSender=new d.RTCRtpSender(_,O.dtlsTransport),O.rtpSender},b.prototype.addStream=function(_){var k=this;if(S>=15025)_.getTracks().forEach(function(I){k.addTrack(I,_)});else{var O=_.clone();_.getTracks().forEach(function(I,V){var H=O.getTracks()[V];I.addEventListener("enabled",function(G){H.enabled=G.enabled})}),O.getTracks().forEach(function(I){k.addTrack(I,O)})}},b.prototype.removeTrack=function(_){if(this._isClosed)throw l("InvalidStateError","Attempted to call removeTrack on a closed peerconnection.");if(!(_ instanceof d.RTCRtpSender))throw new TypeError("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.");var k=this.transceivers.find(function(I){return I.rtpSender===_});if(!k)throw l("InvalidAccessError","Sender was not created by this connection.");var O=k.stream;k.rtpSender.stop(),k.rtpSender=null,k.track=null,k.stream=null,this.transceivers.map(function(I){return I.stream}).indexOf(O)===-1&&this.localStreams.indexOf(O)>-1&&this.localStreams.splice(this.localStreams.indexOf(O),1),this._maybeFireNegotiationNeeded()},b.prototype.removeStream=function(_){var k=this;_.getTracks().forEach(function(O){var I=k.getSenders().find(function(V){return V.track===O});I&&k.removeTrack(I)})},b.prototype.getSenders=function(){return this.transceivers.filter(function(_){return!!_.rtpSender}).map(function(_){return _.rtpSender})},b.prototype.getReceivers=function(){return this.transceivers.filter(function(_){return!!_.rtpReceiver}).map(function(_){return _.rtpReceiver})},b.prototype._createIceGatherer=function(_,k){var O=this;if(k&&_>0)return this.transceivers[0].iceGatherer;if(this._iceGatherers.length)return this._iceGatherers.shift();var I=new d.RTCIceGatherer({iceServers:this._config.iceServers,gatherPolicy:this._config.iceTransportPolicy});return Object.defineProperty(I,"state",{value:"new",writable:!0}),this.transceivers[_].bufferedCandidateEvents=[],this.transceivers[_].bufferCandidates=function(V){var H=!V.candidate||Object.keys(V.candidate).length===0;I.state=H?"completed":"gathering",O.transceivers[_].bufferedCandidateEvents!==null&&O.transceivers[_].bufferedCandidateEvents.push(V)},I.addEventListener("localcandidate",this.transceivers[_].bufferCandidates),I},b.prototype._gather=function(_,k){var O=this,I=this.transceivers[k].iceGatherer;if(!I.onlocalcandidate){var V=this.transceivers[k].bufferedCandidateEvents;this.transceivers[k].bufferedCandidateEvents=null,I.removeEventListener("localcandidate",this.transceivers[k].bufferCandidates),I.onlocalcandidate=function(H){if(!(O.usingBundle&&k>0)){var G=new Event("icecandidate");G.candidate={sdpMid:_,sdpMLineIndex:k};var K=H.candidate,et=!K||Object.keys(K).length===0;if(et)I.state!=="new"&&I.state!=="gathering"||(I.state="completed");else{I.state==="new"&&(I.state="gathering"),K.component=1,K.ufrag=I.getLocalParameters().usernameFragment;var ct=m.writeCandidate(K);G.candidate=Object.assign(G.candidate,m.parseCandidate(ct)),G.candidate.candidate=ct,G.candidate.toJSON=function(){return{candidate:G.candidate.candidate,sdpMid:G.candidate.sdpMid,sdpMLineIndex:G.candidate.sdpMLineIndex,usernameFragment:G.candidate.usernameFragment}}}var gt=m.getMediaSections(O._localDescription.sdp);gt[G.candidate.sdpMLineIndex]+=et?`a=end-of-candidates\r
`:"a="+G.candidate.candidate+`\r
`,O._localDescription.sdp=m.getDescription(O._localDescription.sdp)+gt.join("");var Mt=O.transceivers.every(function(Ut){return Ut.iceGatherer&&Ut.iceGatherer.state==="completed"});O.iceGatheringState!=="gathering"&&(O.iceGatheringState="gathering",O._emitGatheringStateChange()),et||O._dispatchEvent("icecandidate",G),Mt&&(O._dispatchEvent("icecandidate",new Event("icecandidate")),O.iceGatheringState="complete",O._emitGatheringStateChange())}},d.setTimeout(function(){V.forEach(function(H){I.onlocalcandidate(H)})},0)}},b.prototype._createIceAndDtlsTransports=function(){var _=this,k=new d.RTCIceTransport(null);k.onicestatechange=function(){_._updateIceConnectionState(),_._updateConnectionState()};var O=new d.RTCDtlsTransport(k);return O.ondtlsstatechange=function(){_._updateConnectionState()},O.onerror=function(){Object.defineProperty(O,"state",{value:"failed",writable:!0}),_._updateConnectionState()},{iceTransport:k,dtlsTransport:O}},b.prototype._disposeIceAndDtlsTransports=function(_){var k=this.transceivers[_].iceGatherer;k&&(delete k.onlocalcandidate,delete this.transceivers[_].iceGatherer);var O=this.transceivers[_].iceTransport;O&&(delete O.onicestatechange,delete this.transceivers[_].iceTransport);var I=this.transceivers[_].dtlsTransport;I&&(delete I.ondtlsstatechange,delete I.onerror,delete this.transceivers[_].dtlsTransport)},b.prototype._transceive=function(_,k,O){var I=g(_.localCapabilities,_.remoteCapabilities);k&&_.rtpSender&&(I.encodings=_.sendEncodingParameters,I.rtcp={cname:m.localCName,compound:_.rtcpParameters.compound},_.recvEncodingParameters.length&&(I.rtcp.ssrc=_.recvEncodingParameters[0].ssrc),_.rtpSender.send(I)),O&&_.rtpReceiver&&I.codecs.length>0&&(_.kind==="video"&&_.recvEncodingParameters&&S<15019&&_.recvEncodingParameters.forEach(function(V){delete V.rtx}),_.recvEncodingParameters.length?I.encodings=_.recvEncodingParameters:I.encodings=[{}],I.rtcp={compound:_.rtcpParameters.compound},_.rtcpParameters.cname&&(I.rtcp.cname=_.rtcpParameters.cname),_.sendEncodingParameters.length&&(I.rtcp.ssrc=_.sendEncodingParameters[0].ssrc),_.rtpReceiver.receive(I))},b.prototype.setLocalDescription=function(_){var k,O,I=this;if(["offer","answer"].indexOf(_.type)===-1)return Promise.reject(l("TypeError",'Unsupported type "'+_.type+'"'));if(!v("setLocalDescription",_.type,I.signalingState)||I._isClosed)return Promise.reject(l("InvalidStateError","Can not set local "+_.type+" in state "+I.signalingState));if(_.type==="offer")k=m.splitSections(_.sdp),O=k.shift(),k.forEach(function(H,G){var K=m.parseRtpParameters(H);I.transceivers[G].localCapabilities=K}),I.transceivers.forEach(function(H,G){I._gather(H.mid,G)});else if(_.type==="answer"){k=m.splitSections(I._remoteDescription.sdp),O=k.shift();var V=m.matchPrefix(O,"a=ice-lite").length>0;k.forEach(function(H,G){var K=I.transceivers[G],et=K.iceGatherer,ct=K.iceTransport,gt=K.dtlsTransport,Mt=K.localCapabilities,Ut=K.remoteCapabilities;if(!(m.isRejected(H)&&m.matchPrefix(H,"a=bundle-only").length===0||K.rejected)){var ee=m.getIceParameters(H,O),Jt=m.getDtlsParameters(H,O);V&&(Jt.role="server"),I.usingBundle&&G!==0||(I._gather(K.mid,G),ct.state==="new"&&ct.start(et,ee,V?"controlling":"controlled"),gt.state==="new"&&gt.start(Jt));var Lt=g(Mt,Ut);I._transceive(K,Lt.codecs.length>0,!1)}})}return I._localDescription={type:_.type,sdp:_.sdp},_.type==="offer"?I._updateSignalingState("have-local-offer"):I._updateSignalingState("stable"),Promise.resolve()},b.prototype.setRemoteDescription=function(_){var k=this;if(["offer","answer"].indexOf(_.type)===-1)return Promise.reject(l("TypeError",'Unsupported type "'+_.type+'"'));if(!v("setRemoteDescription",_.type,k.signalingState)||k._isClosed)return Promise.reject(l("InvalidStateError","Can not set remote "+_.type+" in state "+k.signalingState));var O={};k.remoteStreams.forEach(function(ct){O[ct.id]=ct});var I=[],V=m.splitSections(_.sdp),H=V.shift(),G=m.matchPrefix(H,"a=ice-lite").length>0,K=m.matchPrefix(H,"a=group:BUNDLE ").length>0;k.usingBundle=K;var et=m.matchPrefix(H,"a=ice-options:")[0];return k.canTrickleIceCandidates=!!et&&et.substr(14).split(" ").indexOf("trickle")>=0,V.forEach(function(ct,gt){var Mt=m.splitLines(ct),Ut=m.getKind(ct),ee=m.isRejected(ct)&&m.matchPrefix(ct,"a=bundle-only").length===0,Jt=Mt[0].substr(2).split(" ")[2],Lt=m.getDirection(ct,H),Zt=m.parseMsid(ct),me=m.getMid(ct)||m.generateIdentifier();if(ee||Ut==="application"&&(Jt==="DTLS/SCTP"||Jt==="UDP/DTLS/SCTP"))k.transceivers[gt]={mid:me,kind:Ut,protocol:Jt,rejected:!0};else{!ee&&k.transceivers[gt]&&k.transceivers[gt].rejected&&(k.transceivers[gt]=k._createTransceiver(Ut,!0));var Gt,U,ut,ht,bt,Dt,mt,ft,pt,Rt,Pt,Ht=m.parseRtpParameters(ct);ee||(Rt=m.getIceParameters(ct,H),(Pt=m.getDtlsParameters(ct,H)).role="client"),mt=m.parseRtpEncodingParameters(ct);var oe=m.parseRtcpParameters(ct),Oe=m.matchPrefix(ct,"a=end-of-candidates",H).length>0,ue=m.matchPrefix(ct,"a=candidate:").map(function(Ee){return m.parseCandidate(Ee)}).filter(function(Ee){return Ee.component===1});if((_.type==="offer"||_.type==="answer")&&!ee&&K&&gt>0&&k.transceivers[gt]&&(k._disposeIceAndDtlsTransports(gt),k.transceivers[gt].iceGatherer=k.transceivers[0].iceGatherer,k.transceivers[gt].iceTransport=k.transceivers[0].iceTransport,k.transceivers[gt].dtlsTransport=k.transceivers[0].dtlsTransport,k.transceivers[gt].rtpSender&&k.transceivers[gt].rtpSender.setTransport(k.transceivers[0].dtlsTransport),k.transceivers[gt].rtpReceiver&&k.transceivers[gt].rtpReceiver.setTransport(k.transceivers[0].dtlsTransport)),_.type!=="offer"||ee)_.type==="answer"&&!ee&&(U=(Gt=k.transceivers[gt]).iceGatherer,ut=Gt.iceTransport,ht=Gt.dtlsTransport,bt=Gt.rtpReceiver,Dt=Gt.sendEncodingParameters,ft=Gt.localCapabilities,k.transceivers[gt].recvEncodingParameters=mt,k.transceivers[gt].remoteCapabilities=Ht,k.transceivers[gt].rtcpParameters=oe,ue.length&&ut.state==="new"&&(!G&&!Oe||K&&gt!==0?ue.forEach(function(Ee){u(Gt.iceTransport,Ee)}):ut.setRemoteCandidates(ue)),K&&gt!==0||(ut.state==="new"&&ut.start(U,Rt,"controlling"),ht.state==="new"&&ht.start(Pt)),!g(Gt.localCapabilities,Gt.remoteCapabilities).codecs.filter(function(Ee){return Ee.name.toLowerCase()==="rtx"}).length&&Gt.sendEncodingParameters[0].rtx&&delete Gt.sendEncodingParameters[0].rtx,k._transceive(Gt,Lt==="sendrecv"||Lt==="recvonly",Lt==="sendrecv"||Lt==="sendonly"),!bt||Lt!=="sendrecv"&&Lt!=="sendonly"?delete Gt.rtpReceiver:(pt=bt.track,Zt?(O[Zt.stream]||(O[Zt.stream]=new d.MediaStream),w(pt,O[Zt.stream]),I.push([pt,bt,O[Zt.stream]])):(O.default||(O.default=new d.MediaStream),w(pt,O.default),I.push([pt,bt,O.default]))));else{(Gt=k.transceivers[gt]||k._createTransceiver(Ut)).mid=me,Gt.iceGatherer||(Gt.iceGatherer=k._createIceGatherer(gt,K)),ue.length&&Gt.iceTransport.state==="new"&&(!Oe||K&&gt!==0?ue.forEach(function(Ee){u(Gt.iceTransport,Ee)}):Gt.iceTransport.setRemoteCandidates(ue)),ft=d.RTCRtpReceiver.getCapabilities(Ut),S<15019&&(ft.codecs=ft.codecs.filter(function(Ee){return Ee.name!=="rtx"})),Dt=Gt.sendEncodingParameters||[{ssrc:1001*(2*gt+2)}];var Yt,Ke=!1;Lt==="sendrecv"||Lt==="sendonly"?(Ke=!Gt.rtpReceiver,bt=Gt.rtpReceiver||new d.RTCRtpReceiver(Gt.dtlsTransport,Ut),Ke&&(pt=bt.track,Zt&&Zt.stream==="-"||(Zt?(O[Zt.stream]||(O[Zt.stream]=new d.MediaStream,Object.defineProperty(O[Zt.stream],"id",{get:function(){return Zt.stream}})),Object.defineProperty(pt,"id",{get:function(){return Zt.track}}),Yt=O[Zt.stream]):(O.default||(O.default=new d.MediaStream),Yt=O.default)),Yt&&(w(pt,Yt),Gt.associatedRemoteMediaStreams.push(Yt)),I.push([pt,bt,Yt]))):Gt.rtpReceiver&&Gt.rtpReceiver.track&&(Gt.associatedRemoteMediaStreams.forEach(function(Ee){var Je=Ee.getTracks().find(function(Te){return Te.id===Gt.rtpReceiver.track.id});Je&&j(Je,Ee)}),Gt.associatedRemoteMediaStreams=[]),Gt.localCapabilities=ft,Gt.remoteCapabilities=Ht,Gt.rtpReceiver=bt,Gt.rtcpParameters=oe,Gt.sendEncodingParameters=Dt,Gt.recvEncodingParameters=mt,k._transceive(k.transceivers[gt],!1,Ke)}}}),k._dtlsRole===void 0&&(k._dtlsRole=_.type==="offer"?"active":"passive"),k._remoteDescription={type:_.type,sdp:_.sdp},_.type==="offer"?k._updateSignalingState("have-remote-offer"):k._updateSignalingState("stable"),Object.keys(O).forEach(function(ct){var gt=O[ct];if(gt.getTracks().length){if(k.remoteStreams.indexOf(gt)===-1){k.remoteStreams.push(gt);var Mt=new Event("addstream");Mt.stream=gt,d.setTimeout(function(){k._dispatchEvent("addstream",Mt)})}I.forEach(function(Ut){var ee=Ut[0],Jt=Ut[1];gt.id===Ut[2].id&&T(k,ee,Jt,[gt])})}}),I.forEach(function(ct){ct[2]||T(k,ct[0],ct[1],[])}),d.setTimeout(function(){k&&k.transceivers&&k.transceivers.forEach(function(ct){ct.iceTransport&&ct.iceTransport.state==="new"&&ct.iceTransport.getRemoteCandidates().length>0&&(console.warn("Timeout for addRemoteCandidate. Consider sending an end-of-candidates notification"),ct.iceTransport.addRemoteCandidate({}))})},4e3),Promise.resolve()},b.prototype.close=function(){this.transceivers.forEach(function(_){_.iceTransport&&_.iceTransport.stop(),_.dtlsTransport&&_.dtlsTransport.stop(),_.rtpSender&&_.rtpSender.stop(),_.rtpReceiver&&_.rtpReceiver.stop()}),this._isClosed=!0,this._updateSignalingState("closed")},b.prototype._updateSignalingState=function(_){this.signalingState=_;var k=new Event("signalingstatechange");this._dispatchEvent("signalingstatechange",k)},b.prototype._maybeFireNegotiationNeeded=function(){var _=this;this.signalingState==="stable"&&this.needNegotiation!==!0&&(this.needNegotiation=!0,d.setTimeout(function(){if(_.needNegotiation){_.needNegotiation=!1;var k=new Event("negotiationneeded");_._dispatchEvent("negotiationneeded",k)}},0))},b.prototype._updateIceConnectionState=function(){var _,k={new:0,closed:0,checking:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach(function(I){I.iceTransport&&!I.rejected&&k[I.iceTransport.state]++}),_="new",k.failed>0?_="failed":k.checking>0?_="checking":k.disconnected>0?_="disconnected":k.new>0?_="new":k.connected>0?_="connected":k.completed>0&&(_="completed"),_!==this.iceConnectionState){this.iceConnectionState=_;var O=new Event("iceconnectionstatechange");this._dispatchEvent("iceconnectionstatechange",O)}},b.prototype._updateConnectionState=function(){var _,k={new:0,closed:0,connecting:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach(function(I){I.iceTransport&&I.dtlsTransport&&!I.rejected&&(k[I.iceTransport.state]++,k[I.dtlsTransport.state]++)}),k.connected+=k.completed,_="new",k.failed>0?_="failed":k.connecting>0?_="connecting":k.disconnected>0?_="disconnected":k.new>0?_="new":k.connected>0&&(_="connected"),_!==this.connectionState){this.connectionState=_;var O=new Event("connectionstatechange");this._dispatchEvent("connectionstatechange",O)}},b.prototype.createOffer=function(){var _=this;if(_._isClosed)return Promise.reject(l("InvalidStateError","Can not call createOffer after close"));var k=_.transceivers.filter(function(G){return G.kind==="audio"}).length,O=_.transceivers.filter(function(G){return G.kind==="video"}).length,I=arguments[0];if(I){if(I.mandatory||I.optional)throw new TypeError("Legacy mandatory/optional constraints not supported.");I.offerToReceiveAudio!==void 0&&(k=I.offerToReceiveAudio===!0?1:I.offerToReceiveAudio===!1?0:I.offerToReceiveAudio),I.offerToReceiveVideo!==void 0&&(O=I.offerToReceiveVideo===!0?1:I.offerToReceiveVideo===!1?0:I.offerToReceiveVideo)}for(_.transceivers.forEach(function(G){G.kind==="audio"?--k<0&&(G.wantReceive=!1):G.kind==="video"&&--O<0&&(G.wantReceive=!1)});k>0||O>0;)k>0&&(_._createTransceiver("audio"),k--),O>0&&(_._createTransceiver("video"),O--);var V=m.writeSessionBoilerplate(_._sdpSessionId,_._sdpSessionVersion++);_.transceivers.forEach(function(G,K){var et=G.track,ct=G.kind,gt=G.mid||m.generateIdentifier();G.mid=gt,G.iceGatherer||(G.iceGatherer=_._createIceGatherer(K,_.usingBundle));var Mt=d.RTCRtpSender.getCapabilities(ct);S<15019&&(Mt.codecs=Mt.codecs.filter(function(ee){return ee.name!=="rtx"})),Mt.codecs.forEach(function(ee){ee.name==="H264"&&ee.parameters["level-asymmetry-allowed"]===void 0&&(ee.parameters["level-asymmetry-allowed"]="1"),G.remoteCapabilities&&G.remoteCapabilities.codecs&&G.remoteCapabilities.codecs.forEach(function(Jt){ee.name.toLowerCase()===Jt.name.toLowerCase()&&ee.clockRate===Jt.clockRate&&(ee.preferredPayloadType=Jt.payloadType)})}),Mt.headerExtensions.forEach(function(ee){(G.remoteCapabilities&&G.remoteCapabilities.headerExtensions||[]).forEach(function(Jt){ee.uri===Jt.uri&&(ee.id=Jt.id)})});var Ut=G.sendEncodingParameters||[{ssrc:1001*(2*K+1)}];et&&S>=15019&&ct==="video"&&!Ut[0].rtx&&(Ut[0].rtx={ssrc:Ut[0].ssrc+1}),G.wantReceive&&(G.rtpReceiver=new d.RTCRtpReceiver(G.dtlsTransport,ct)),G.localCapabilities=Mt,G.sendEncodingParameters=Ut}),_._config.bundlePolicy!=="max-compat"&&(V+="a=group:BUNDLE "+_.transceivers.map(function(G){return G.mid}).join(" ")+`\r
`),V+=`a=ice-options:trickle\r
`,_.transceivers.forEach(function(G,K){V+=c(G,G.localCapabilities,"offer",G.stream,_._dtlsRole),V+=`a=rtcp-rsize\r
`,!G.iceGatherer||_.iceGatheringState==="new"||K!==0&&_.usingBundle||(G.iceGatherer.getLocalCandidates().forEach(function(et){et.component=1,V+="a="+m.writeCandidate(et)+`\r
`}),G.iceGatherer.state==="completed"&&(V+=`a=end-of-candidates\r
`))});var H=new d.RTCSessionDescription({type:"offer",sdp:V});return Promise.resolve(H)},b.prototype.createAnswer=function(){var _=this;if(_._isClosed)return Promise.reject(l("InvalidStateError","Can not call createAnswer after close"));if(_.signalingState!=="have-remote-offer"&&_.signalingState!=="have-local-pranswer")return Promise.reject(l("InvalidStateError","Can not call createAnswer in signalingState "+_.signalingState));var k=m.writeSessionBoilerplate(_._sdpSessionId,_._sdpSessionVersion++);_.usingBundle&&(k+="a=group:BUNDLE "+_.transceivers.map(function(V){return V.mid}).join(" ")+`\r
`),k+=`a=ice-options:trickle\r
`;var O=m.getMediaSections(_._remoteDescription.sdp).length;_.transceivers.forEach(function(V,H){if(!(H+1>O)){if(V.rejected)return V.kind==="application"?V.protocol==="DTLS/SCTP"?k+=`m=application 0 DTLS/SCTP 5000\r
`:k+="m=application 0 "+V.protocol+` webrtc-datachannel\r
`:V.kind==="audio"?k+=`m=audio 0 UDP/TLS/RTP/SAVPF 0\r
a=rtpmap:0 PCMU/8000\r
`:V.kind==="video"&&(k+=`m=video 0 UDP/TLS/RTP/SAVPF 120\r
a=rtpmap:120 VP8/90000\r
`),void(k+=`c=IN IP4 0.0.0.0\r
a=inactive\r
a=mid:`+V.mid+`\r
`);var G;V.stream&&(V.kind==="audio"?G=V.stream.getAudioTracks()[0]:V.kind==="video"&&(G=V.stream.getVideoTracks()[0]),G&&S>=15019&&V.kind==="video"&&!V.sendEncodingParameters[0].rtx&&(V.sendEncodingParameters[0].rtx={ssrc:V.sendEncodingParameters[0].ssrc+1}));var K=g(V.localCapabilities,V.remoteCapabilities);!K.codecs.filter(function(et){return et.name.toLowerCase()==="rtx"}).length&&V.sendEncodingParameters[0].rtx&&delete V.sendEncodingParameters[0].rtx,k+=c(V,K,"answer",V.stream,_._dtlsRole),V.rtcpParameters&&V.rtcpParameters.reducedSize&&(k+=`a=rtcp-rsize\r
`)}});var I=new d.RTCSessionDescription({type:"answer",sdp:k});return Promise.resolve(I)},b.prototype.addIceCandidate=function(_){var k,O=this;return _&&_.sdpMLineIndex===void 0&&!_.sdpMid?Promise.reject(new TypeError("sdpMLineIndex or sdpMid required")):new Promise(function(I,V){if(!O._remoteDescription)return V(l("InvalidStateError","Can not add ICE candidate without a remote description"));if(_&&_.candidate!==""){var H=_.sdpMLineIndex;if(_.sdpMid){for(var G=0;G<O.transceivers.length;G++)if(O.transceivers[G].mid===_.sdpMid){H=G;break}}var K=O.transceivers[H];if(!K)return V(l("OperationError","Can not add ICE candidate"));if(K.rejected)return I();var et=Object.keys(_.candidate).length>0?m.parseCandidate(_.candidate):{};if(et.protocol==="tcp"&&(et.port===0||et.port===9)||et.component&&et.component!==1)return I();if((H===0||H>0&&K.iceTransport!==O.transceivers[0].iceTransport)&&!u(K.iceTransport,et))return V(l("OperationError","Can not add ICE candidate"));var ct=_.candidate.trim();ct.indexOf("a=")===0&&(ct=ct.substr(2)),(k=m.getMediaSections(O._remoteDescription.sdp))[H]+="a="+(et.type?ct:"end-of-candidates")+`\r
`,O._remoteDescription.sdp=m.getDescription(O._remoteDescription.sdp)+k.join("")}else for(var gt=0;gt<O.transceivers.length&&(O.transceivers[gt].rejected||(O.transceivers[gt].iceTransport.addRemoteCandidate({}),(k=m.getMediaSections(O._remoteDescription.sdp))[gt]+=`a=end-of-candidates\r
`,O._remoteDescription.sdp=m.getDescription(O._remoteDescription.sdp)+k.join(""),!O.usingBundle));gt++);I()})},b.prototype.getStats=function(_){if(_&&_ instanceof d.MediaStreamTrack){var k=null;if(this.transceivers.forEach(function(I){I.rtpSender&&I.rtpSender.track===_?k=I.rtpSender:I.rtpReceiver&&I.rtpReceiver.track===_&&(k=I.rtpReceiver)}),!k)throw l("InvalidAccessError","Invalid selector.");return k.getStats()}var O=[];return this.transceivers.forEach(function(I){["rtpSender","rtpReceiver","iceGatherer","iceTransport","dtlsTransport"].forEach(function(V){I[V]&&O.push(I[V].getStats())})}),Promise.all(O).then(function(I){var V=new Map;return I.forEach(function(H){H.forEach(function(G){V.set(G.id,G)})}),V})},["RTCRtpSender","RTCRtpReceiver","RTCIceGatherer","RTCIceTransport","RTCDtlsTransport"].forEach(function(_){var k=d[_];if(k&&k.prototype&&k.prototype.getStats){var O=k.prototype.getStats;k.prototype.getStats=function(){return O.apply(this).then(function(I){var V=new Map;return Object.keys(I).forEach(function(H){I[H].type=function(G){return{inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[G.type]||G.type}(I[H]),V.set(H,I[H])}),V})}}});var x=["createOffer","createAnswer"];return x.forEach(function(_){var k=b.prototype[_];b.prototype[_]=function(){var O=arguments;return typeof O[0]=="function"||typeof O[1]=="function"?k.apply(this,[arguments[2]]).then(function(I){typeof O[0]=="function"&&O[0].apply(null,[I])},function(I){typeof O[1]=="function"&&O[1].apply(null,[I])}):k.apply(this,arguments)}}),(x=["setLocalDescription","setRemoteDescription","addIceCandidate"]).forEach(function(_){var k=b.prototype[_];b.prototype[_]=function(){var O=arguments;return typeof O[1]=="function"||typeof O[2]=="function"?k.apply(this,arguments).then(function(){typeof O[1]=="function"&&O[1].apply(null)},function(I){typeof O[2]=="function"&&O[2].apply(null,[I])}):k.apply(this,arguments)}}),["getStats"].forEach(function(_){var k=b.prototype[_];b.prototype[_]=function(){var O=arguments;return typeof O[1]=="function"?k.apply(this,arguments).then(function(){typeof O[1]=="function"&&O[1].apply(null)}):k.apply(this,arguments)}}),b}},{sdp:17}],17:[function(C,F,o){"use strict";var c={generateIdentifier:function(){return Math.random().toString(36).substr(2,10)}};c.localCName=c.generateIdentifier(),c.splitLines=function(g){return g.trim().split(`
`).map(function(v){return v.trim()})},c.splitSections=function(g){return g.split(`
m=`).map(function(v,u){return(u>0?"m="+v:v).trim()+`\r
`})},c.getDescription=function(g){var v=c.splitSections(g);return v&&v[0]},c.getMediaSections=function(g){var v=c.splitSections(g);return v.shift(),v},c.matchPrefix=function(g,v){return c.splitLines(g).filter(function(u){return u.indexOf(v)===0})},c.parseCandidate=function(g){for(var v,u={foundation:(v=g.indexOf("a=candidate:")===0?g.substring(12).split(" "):g.substring(10).split(" "))[0],component:parseInt(v[1],10),protocol:v[2].toLowerCase(),priority:parseInt(v[3],10),ip:v[4],address:v[4],port:parseInt(v[5],10),type:v[7]},l=8;l<v.length;l+=2)switch(v[l]){case"raddr":u.relatedAddress=v[l+1];break;case"rport":u.relatedPort=parseInt(v[l+1],10);break;case"tcptype":u.tcpType=v[l+1];break;case"ufrag":u.ufrag=v[l+1],u.usernameFragment=v[l+1];break;default:u[v[l]]=v[l+1]}return u},c.writeCandidate=function(g){var v=[];v.push(g.foundation),v.push(g.component),v.push(g.protocol.toUpperCase()),v.push(g.priority),v.push(g.address||g.ip),v.push(g.port);var u=g.type;return v.push("typ"),v.push(u),u!=="host"&&g.relatedAddress&&g.relatedPort&&(v.push("raddr"),v.push(g.relatedAddress),v.push("rport"),v.push(g.relatedPort)),g.tcpType&&g.protocol.toLowerCase()==="tcp"&&(v.push("tcptype"),v.push(g.tcpType)),(g.usernameFragment||g.ufrag)&&(v.push("ufrag"),v.push(g.usernameFragment||g.ufrag)),"candidate:"+v.join(" ")},c.parseIceOptions=function(g){return g.substr(14).split(" ")},c.parseRtpMap=function(g){var v=g.substr(9).split(" "),u={payloadType:parseInt(v.shift(),10)};return v=v[0].split("/"),u.name=v[0],u.clockRate=parseInt(v[1],10),u.channels=v.length===3?parseInt(v[2],10):1,u.numChannels=u.channels,u},c.writeRtpMap=function(g){var v=g.payloadType;g.preferredPayloadType!==void 0&&(v=g.preferredPayloadType);var u=g.channels||g.numChannels||1;return"a=rtpmap:"+v+" "+g.name+"/"+g.clockRate+(u!==1?"/"+u:"")+`\r
`},c.parseExtmap=function(g){var v=g.substr(9).split(" ");return{id:parseInt(v[0],10),direction:v[0].indexOf("/")>0?v[0].split("/")[1]:"sendrecv",uri:v[1]}},c.writeExtmap=function(g){return"a=extmap:"+(g.id||g.preferredId)+(g.direction&&g.direction!=="sendrecv"?"/"+g.direction:"")+" "+g.uri+`\r
`},c.parseFmtp=function(g){for(var v,u={},l=g.substr(g.indexOf(" ")+1).split(";"),m=0;m<l.length;m++)u[(v=l[m].trim().split("="))[0].trim()]=v[1];return u},c.writeFmtp=function(g){var v="",u=g.payloadType;if(g.preferredPayloadType!==void 0&&(u=g.preferredPayloadType),g.parameters&&Object.keys(g.parameters).length){var l=[];Object.keys(g.parameters).forEach(function(m){g.parameters[m]?l.push(m+"="+g.parameters[m]):l.push(m)}),v+="a=fmtp:"+u+" "+l.join(";")+`\r
`}return v},c.parseRtcpFb=function(g){var v=g.substr(g.indexOf(" ")+1).split(" ");return{type:v.shift(),parameter:v.join(" ")}},c.writeRtcpFb=function(g){var v="",u=g.payloadType;return g.preferredPayloadType!==void 0&&(u=g.preferredPayloadType),g.rtcpFeedback&&g.rtcpFeedback.length&&g.rtcpFeedback.forEach(function(l){v+="a=rtcp-fb:"+u+" "+l.type+(l.parameter&&l.parameter.length?" "+l.parameter:"")+`\r
`}),v},c.parseSsrcMedia=function(g){var v=g.indexOf(" "),u={ssrc:parseInt(g.substr(7,v-7),10)},l=g.indexOf(":",v);return l>-1?(u.attribute=g.substr(v+1,l-v-1),u.value=g.substr(l+1)):u.attribute=g.substr(v+1),u},c.parseSsrcGroup=function(g){var v=g.substr(13).split(" ");return{semantics:v.shift(),ssrcs:v.map(function(u){return parseInt(u,10)})}},c.getMid=function(g){var v=c.matchPrefix(g,"a=mid:")[0];if(v)return v.substr(6)},c.parseFingerprint=function(g){var v=g.substr(14).split(" ");return{algorithm:v[0].toLowerCase(),value:v[1]}},c.getDtlsParameters=function(g,v){return{role:"auto",fingerprints:c.matchPrefix(g+v,"a=fingerprint:").map(c.parseFingerprint)}},c.writeDtlsParameters=function(g,v){var u="a=setup:"+v+`\r
`;return g.fingerprints.forEach(function(l){u+="a=fingerprint:"+l.algorithm+" "+l.value+`\r
`}),u},c.parseCryptoLine=function(g){var v=g.substr(9).split(" ");return{tag:parseInt(v[0],10),cryptoSuite:v[1],keyParams:v[2],sessionParams:v.slice(3)}},c.writeCryptoLine=function(g){return"a=crypto:"+g.tag+" "+g.cryptoSuite+" "+(typeof g.keyParams=="object"?c.writeCryptoKeyParams(g.keyParams):g.keyParams)+(g.sessionParams?" "+g.sessionParams.join(" "):"")+`\r
`},c.parseCryptoKeyParams=function(g){if(g.indexOf("inline:")!==0)return null;var v=g.substr(7).split("|");return{keyMethod:"inline",keySalt:v[0],lifeTime:v[1],mkiValue:v[2]?v[2].split(":")[0]:void 0,mkiLength:v[2]?v[2].split(":")[1]:void 0}},c.writeCryptoKeyParams=function(g){return g.keyMethod+":"+g.keySalt+(g.lifeTime?"|"+g.lifeTime:"")+(g.mkiValue&&g.mkiLength?"|"+g.mkiValue+":"+g.mkiLength:"")},c.getCryptoParameters=function(g,v){return c.matchPrefix(g+v,"a=crypto:").map(c.parseCryptoLine)},c.getIceParameters=function(g,v){var u=c.matchPrefix(g+v,"a=ice-ufrag:")[0],l=c.matchPrefix(g+v,"a=ice-pwd:")[0];return u&&l?{usernameFragment:u.substr(12),password:l.substr(10)}:null},c.writeIceParameters=function(g){return"a=ice-ufrag:"+g.usernameFragment+`\r
a=ice-pwd:`+g.password+`\r
`},c.parseRtpParameters=function(g){for(var v={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},u=c.splitLines(g)[0].split(" "),l=3;l<u.length;l++){var m=u[l],d=c.matchPrefix(g,"a=rtpmap:"+m+" ")[0];if(d){var S=c.parseRtpMap(d),w=c.matchPrefix(g,"a=fmtp:"+m+" ");switch(S.parameters=w.length?c.parseFmtp(w[0]):{},S.rtcpFeedback=c.matchPrefix(g,"a=rtcp-fb:"+m+" ").map(c.parseRtcpFb),v.codecs.push(S),S.name.toUpperCase()){case"RED":case"ULPFEC":v.fecMechanisms.push(S.name.toUpperCase())}}}return c.matchPrefix(g,"a=extmap:").forEach(function(j){v.headerExtensions.push(c.parseExtmap(j))}),v},c.writeRtpDescription=function(g,v){var u="";u+="m="+g+" ",u+=v.codecs.length>0?"9":"0",u+=" UDP/TLS/RTP/SAVPF ",u+=v.codecs.map(function(m){return m.preferredPayloadType!==void 0?m.preferredPayloadType:m.payloadType}).join(" ")+`\r
`,u+=`c=IN IP4 0.0.0.0\r
`,u+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,v.codecs.forEach(function(m){u+=c.writeRtpMap(m),u+=c.writeFmtp(m),u+=c.writeRtcpFb(m)});var l=0;return v.codecs.forEach(function(m){m.maxptime>l&&(l=m.maxptime)}),l>0&&(u+="a=maxptime:"+l+`\r
`),u+=`a=rtcp-mux\r
`,v.headerExtensions&&v.headerExtensions.forEach(function(m){u+=c.writeExtmap(m)}),u},c.parseRtpEncodingParameters=function(g){var v,u=[],l=c.parseRtpParameters(g),m=l.fecMechanisms.indexOf("RED")!==-1,d=l.fecMechanisms.indexOf("ULPFEC")!==-1,S=c.matchPrefix(g,"a=ssrc:").map(function(b){return c.parseSsrcMedia(b)}).filter(function(b){return b.attribute==="cname"}),w=S.length>0&&S[0].ssrc,j=c.matchPrefix(g,"a=ssrc-group:FID").map(function(b){return b.substr(17).split(" ").map(function(x){return parseInt(x,10)})});j.length>0&&j[0].length>1&&j[0][0]===w&&(v=j[0][1]),l.codecs.forEach(function(b){if(b.name.toUpperCase()==="RTX"&&b.parameters.apt){var x={ssrc:w,codecPayloadType:parseInt(b.parameters.apt,10)};w&&v&&(x.rtx={ssrc:v}),u.push(x),m&&((x=JSON.parse(JSON.stringify(x))).fec={ssrc:w,mechanism:d?"red+ulpfec":"red"},u.push(x))}}),u.length===0&&w&&u.push({ssrc:w});var T=c.matchPrefix(g,"b=");return T.length&&(T=T[0].indexOf("b=TIAS:")===0?parseInt(T[0].substr(7),10):T[0].indexOf("b=AS:")===0?1e3*parseInt(T[0].substr(5),10)*.95-16e3:void 0,u.forEach(function(b){b.maxBitrate=T})),u},c.parseRtcpParameters=function(g){var v={},u=c.matchPrefix(g,"a=ssrc:").map(function(d){return c.parseSsrcMedia(d)}).filter(function(d){return d.attribute==="cname"})[0];u&&(v.cname=u.value,v.ssrc=u.ssrc);var l=c.matchPrefix(g,"a=rtcp-rsize");v.reducedSize=l.length>0,v.compound=l.length===0;var m=c.matchPrefix(g,"a=rtcp-mux");return v.mux=m.length>0,v},c.parseMsid=function(g){var v,u=c.matchPrefix(g,"a=msid:");if(u.length===1)return{stream:(v=u[0].substr(7).split(" "))[0],track:v[1]};var l=c.matchPrefix(g,"a=ssrc:").map(function(m){return c.parseSsrcMedia(m)}).filter(function(m){return m.attribute==="msid"});return l.length>0?{stream:(v=l[0].value.split(" "))[0],track:v[1]}:void 0},c.parseSctpDescription=function(g){var v,u=c.parseMLine(g),l=c.matchPrefix(g,"a=max-message-size:");l.length>0&&(v=parseInt(l[0].substr(19),10)),isNaN(v)&&(v=65536);var m=c.matchPrefix(g,"a=sctp-port:");if(m.length>0)return{port:parseInt(m[0].substr(12),10),protocol:u.fmt,maxMessageSize:v};if(c.matchPrefix(g,"a=sctpmap:").length>0){var d=c.matchPrefix(g,"a=sctpmap:")[0].substr(10).split(" ");return{port:parseInt(d[0],10),protocol:d[1],maxMessageSize:v}}},c.writeSctpDescription=function(g,v){var u=[];return u=g.protocol!=="DTLS/SCTP"?["m="+g.kind+" 9 "+g.protocol+" "+v.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+v.port+`\r
`]:["m="+g.kind+" 9 "+g.protocol+" "+v.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+v.port+" "+v.protocol+` 65535\r
`],v.maxMessageSize!==void 0&&u.push("a=max-message-size:"+v.maxMessageSize+`\r
`),u.join("")},c.generateSessionId=function(){return Math.random().toString().substr(2,21)},c.writeSessionBoilerplate=function(g,v,u){var l=v!==void 0?v:2;return`v=0\r
o=`+(u||"thisisadapterortc")+" "+(g||c.generateSessionId())+" "+l+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},c.writeMediaSection=function(g,v,u,l){var m=c.writeRtpDescription(g.kind,v);if(m+=c.writeIceParameters(g.iceGatherer.getLocalParameters()),m+=c.writeDtlsParameters(g.dtlsTransport.getLocalParameters(),u==="offer"?"actpass":"active"),m+="a=mid:"+g.mid+`\r
`,g.direction?m+="a="+g.direction+`\r
`:g.rtpSender&&g.rtpReceiver?m+=`a=sendrecv\r
`:g.rtpSender?m+=`a=sendonly\r
`:g.rtpReceiver?m+=`a=recvonly\r
`:m+=`a=inactive\r
`,g.rtpSender){var d="msid:"+l.id+" "+g.rtpSender.track.id+`\r
`;m+="a="+d,m+="a=ssrc:"+g.sendEncodingParameters[0].ssrc+" "+d,g.sendEncodingParameters[0].rtx&&(m+="a=ssrc:"+g.sendEncodingParameters[0].rtx.ssrc+" "+d,m+="a=ssrc-group:FID "+g.sendEncodingParameters[0].ssrc+" "+g.sendEncodingParameters[0].rtx.ssrc+`\r
`)}return m+="a=ssrc:"+g.sendEncodingParameters[0].ssrc+" cname:"+c.localCName+`\r
`,g.rtpSender&&g.sendEncodingParameters[0].rtx&&(m+="a=ssrc:"+g.sendEncodingParameters[0].rtx.ssrc+" cname:"+c.localCName+`\r
`),m},c.getDirection=function(g,v){for(var u=c.splitLines(g),l=0;l<u.length;l++)switch(u[l]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return u[l].substr(2)}return v?c.getDirection(v):"sendrecv"},c.getKind=function(g){return c.splitLines(g)[0].split(" ")[0].substr(2)},c.isRejected=function(g){return g.split(" ",2)[1]==="0"},c.parseMLine=function(g){var v=c.splitLines(g)[0].substr(2).split(" ");return{kind:v[0],port:parseInt(v[1],10),protocol:v[2],fmt:v.slice(3).join(" ")}},c.parseOLine=function(g){var v=c.matchPrefix(g,"o=")[0].substr(2).split(" ");return{username:v[0],sessionId:v[1],sessionVersion:parseInt(v[2],10),netType:v[3],addressType:v[4],address:v[5]}},c.isValidSDP=function(g){if(typeof g!="string"||g.length===0)return!1;for(var v=c.splitLines(g),u=0;u<v.length;u++)if(v[u].length<2||v[u].charAt(1)!=="=")return!1;return!0},typeof F=="object"&&(F.exports=c)},{}]},{},[1])(1)}),function(C){typeof exports=="object"&&typeof module!="undefined"?module.exports=C():typeof define=="function"&&define.amd?define([],C):(typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:this).videojsFlvjs=C()}(function(){return function C(F,o,c){function g(l,m){if(!o[l]){if(!F[l]){var d=typeof require=="function"&&require;if(!m&&d)return d(l,!0);if(v)return v(l,!0);var S=new Error("Cannot find module '"+l+"'");throw S.code="MODULE_NOT_FOUND",S}var w=o[l]={exports:{}};F[l][0].call(w.exports,function(j){return g(F[l][1][j]||j)},w,w.exports,C,F,o,c)}return o[l].exports}for(var v=typeof require=="function"&&require,u=0;u<c.length;u++)g(c[u]);return g}({1:[function(C,F,o){(function(c){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var g=function(){function S(w,j){for(var T=0;T<j.length;T++){var b=j[T];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(w,b.key,b)}}return function(w,j,T){return j&&S(w.prototype,j),T&&S(w,T),w}}(),v=function(S){return S&&S.__esModule?S:{default:S}}(typeof window!="undefined"?window.videojs:c!==void 0?c.videojs:null),u=v.default.getTech("Html5"),l=v.default.mergeOptions||v.default.util.mergeOptions,m={dataInterval:3e3},d=function(S){function w(j,T){return function(b,x){if(!(b instanceof x))throw new TypeError("Cannot call a class as a function")}(this,w),j=l(m,j),function(b,x){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!x||typeof x!="object"&&typeof x!="function"?b:x}(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,j,T))}return function(j,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);j.prototype=Object.create(T&&T.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(j,T):j.__proto__=T)}(w,S),g(w,[{key:"setSrc",value:function(j){var T=this,b=!!this.options_.debug;this.options_.autoplay,this.debug=b;var x=this.options_.dataInterval;b&&console.log("rtc debug on"),this.src=j,this.stream=new MediaStream;var _=new RTCPeerConnection;this.pc=_,_.ontrack=function(O){T.stream.addTrack(O.track),T.el_.srcObject!=T.stream&&(T.el_.srcObject=T.stream),b&&console.log(O.streams.length,"track",O.track.kind,"is delivered")},_.oniceconnectionstatechange=function(O){_.iceConnectionState=="disconnected"&&T.sendChannelTicker&&(T.eventBusEl_&&T.trigger({type:"error",name:"ice disconnected"}),clearInterval(T.sendChannelTicker),T.sendChannelTicker=0),b&&console.log("ice connection state change: "+_.iceConnectionState)};var k=_.createDataChannel("keepalive");this.sendChannel=k,k.onclose=function(){T.sendChannelTicker&&(T.eventBusEl_&&T.trigger({type:"error",name:"send channel closed"}),clearInterval(T.sendChannelTicker),T.sendChannelTicker=0),b&&console.log("sendChannel has closed")},k.onopen=function(){b&&console.log("sendChannel has opened"),k.send("ping");var O=setInterval(function(){b&&console.log("sendChannel ping..."),k.send("ping")},x);T.sendChannelTicker=O},k.onmessage=function(O){b&&console.log("sendChannel message",O.data)},_.createOffer({offerToReceiveVideo:!0,offerToReceiveAudio:!0}).then(function(O){_.setLocalDescription(O).then(function(){var I=new XMLHttpRequest;I.open("POST",j.replace("webrtc","http"),!0),I.onreadystatechange=function(){if(I.readyState==4)if(I.status>=200&&I.status<300||I.status===304)try{_.setRemoteDescription(new RTCSessionDescription({type:"answer",sdp:atob(I.responseText)})).catch(function(V){T.eventBusEl_&&T.trigger({type:"error",name:"set rtc remote sdp failed"}),b&&console.log("set rtc remote sdp error",V)})}catch(V){T.eventBusEl_&&T.trigger({type:"error",name:"set rtc remote sdp failed"}),b&&console.log("set rtc remote sdp error",V)}else T.eventBusEl_&&T.trigger({type:"error",name:"post rtc status "+I.status}),b&&console.log("post rtc status",I.status,I.statusText)},I.send(btoa(_.localDescription.sdp))}).catch(function(I){b&&console.log("pc setLocalDescription error",I)})}).catch(function(O){b&&console.log("pc createOffer error",O)})}},{key:"dispose",value:function(){this.debug&&console.log("rtc dispose"),this.sendChannelTicker&&(clearInterval(this.sendChannelTicker),this.sendChannelTicker=0),this.sendChannel&&(this.sendChannel.close(),this.sendChannel=null),this.pc&&(this.pc.close(),this.pc=null),this.el_.srcObject&&(this.el_.srcObject=null),function j(T,b,x){T===null&&(T=Function.prototype);var _=Object.getOwnPropertyDescriptor(T,b);if(_===void 0){var k=Object.getPrototypeOf(T);return k===null?void 0:j(k,b,x)}if("value"in _)return _.value;var O=_.get;return O!==void 0?O.call(x):void 0}(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"dispose",this).call(this)}},{key:"reload",value:function(){this.sendChannelTicker&&(clearInterval(this.sendChannelTicker),this.sendChannelTicker=0),this.sendChannel&&(this.sendChannel.close(),this.sendChannel=null),this.pc&&(this.pc.close(),this.pc=null),this.el_.srcObject&&(this.el_.srcObject=null),this.src?this.setSrc(this.src):this.debug&&console.log("reload error, src not found")}}]),w}(u);d.isSupported=function(){return!!window.RTCPeerConnection},d.formats={"video/webrtc":"RTC"},d.canPlayType=function(S){return d.isSupported()?"maybe":""},d.canPlaySource=function(S,w){return d.canPlayType(S.type)},d.VERSION="0.2.0",v.default.registerTech("Webrtc",d),o.default=d}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}]},{},[1])(1)}),function(){"use strict";var C;C=window.videojs===void 0&&typeof require=="function"?require("video.js"):window.videojs,function(F,o){function c(j,T,b,x){return u={label:b,sources:T},typeof x=="function"?x(j,T,b):j.src(T.map(function(_){return{src:_.src,type:_.type,res:_.res}}))}var g,v={},u={},l={},m=o.getComponent("MenuItem"),d=o.extend(m,{constructor:function(j,T,b,x){this.onClickListener=b,this.label=x,m.call(this,j,T),this.src=T.src,this.on("click",this.onClick),this.on("touchstart",this.onClick),T.initialySelected&&(this.showAsLabel(),this.selected(!0),this.addClass("vjs-selected"))},showAsLabel:function(){this.label&&(this.label.innerHTML=this.options_.label)},onClick:function(j){this.onClickListener(this);var T=this.player_.currentTime(),b=this.player_.paused();this.showAsLabel(),this.addClass("vjs-selected"),b||this.player_.bigPlayButton.hide(),typeof j!="function"&&typeof this.options_.customSourcePicker=="function"&&(j=this.options_.customSourcePicker);var x="loadeddata";this.player_.techName_!=="Youtube"&&this.player_.preload()==="none"&&this.player_.techName_!=="Flash"&&(x="timeupdate"),c(this.player_,this.src,this.options_.label,j),this.player_.one(x,function(){this.player_.currentTime(T),this.player_.handleTechSeeked_(),this.player_.trigger("resolutionchange")})}}),S=o.getComponent("MenuButton"),w=o.extend(S,{constructor:function(j,T,b,x){if(this.sources=T.sources,this.label=x,this.label.innerHTML=T.initialySelectedLabel,S.call(this,j,T,b),this.controlText("Quality"),b.dynamicLabel)this.el().appendChild(x);else{var _=document.createElement("span");o.dom.addClass(_,"vjs-resolution-button-staticlabel"),this.el().appendChild(_)}},createItems:function(){var j=[],T=this.sources&&this.sources.label||{},b=function(_){j.map(function(k){k.selected(k===_),k.removeClass("vjs-selected")})};for(var x in T)T.hasOwnProperty(x)&&(j.push(new d(this.player_,{label:x,src:T[x],initialySelected:x===this.options_.initialySelectedLabel,customSourcePicker:this.options_.customSourcePicker},b,this.label)),l[x]=j[j.length-1]);return j}});g=function(j){function T(H,G){return H.res&&G.res?+G.res-+H.res:0}function b(H){var G={label:{},res:{},type:{}};return H.map(function(K){x(G,"label",K),x(G,"res",K),x(G,"type",K),_(G,"label",K),_(G,"res",K),_(G,"type",K)}),G}function x(H,G,K){H[G][K[G]]==null&&(H[G][K[G]]=[])}function _(H,G,K){H[G][K[G]].push(K)}var k=o.mergeOptions(v,j),O=this,I=document.createElement("span"),V={};o.dom.addClass(I,"vjs-menu"),o.browser.IE_VERSION?o.dom.addClass(I,"vjs-resolution-button-label-ie"):o.dom.addClass(I,"vjs-resolution-button-label"),O.updateSrc=function(H){if(!H)return O.src();O.controlBar.resolutionSwitcher&&(O.controlBar.resolutionSwitcher.dispose(),delete O.controlBar.resolutionSwitcher),H=H.sort(T);var G=function(et,ct){var gt=k.default,Mt="";return gt==="high"?(gt=ct[0].res,Mt=ct[0].label):gt!=="low"&&gt!=null&&et.res[gt]?et.res[gt]&&(Mt=et.res[gt][0].label):(gt=ct[ct.length-1].res,Mt=ct[ct.length-1].label),{res:gt,label:Mt,sources:et.res[gt]}}(V=b(H),H),K=new w(O,{sources:V,initialySelectedLabel:G.label,initialySelectedRes:G.res,customSourcePicker:k.customSourcePicker},k,I);return o.dom.addClass(K.el(),"vjs-resolution-button"),O.controlBar.resolutionSwitcher=O.controlBar.el_.insertBefore(K.el_,O.controlBar.getChild("fullscreenToggle").el_),O.controlBar.resolutionSwitcher.dispose=function(){this.parentNode.removeChild(this)},c(O,G.sources,G.label)},O.currentResolution=function(H,G){return H==null?u:(l[H]!=null&&l[H].onClick(G),O)},O.getGroupedSrc=function(){return V},O.ready(function(){O.options_.sources.length>1&&O.updateSrc(O.options_.sources),O.techName_==="Youtube"&&function(H){H.tech_.ytPlayer.setPlaybackQuality("default"),H.tech_.ytPlayer.addEventListener("onPlaybackQualityChange",function(){H.trigger("resolutionchange")}),H.one("play",function(){var G=H.tech_.ytPlayer.getAvailableQualityLevels(),K={highres:{res:1080,label:"1080",yt:"highres"},hd1080:{res:1080,label:"1080",yt:"hd1080"},hd720:{res:720,label:"720",yt:"hd720"},large:{res:480,label:"480",yt:"large"},medium:{res:360,label:"360",yt:"medium"},small:{res:240,label:"240",yt:"small"},tiny:{res:144,label:"144",yt:"tiny"},auto:{res:0,label:"auto",yt:"default"}},et=[];G.map(function(Ut){et.push({src:H.src().src,type:H.src().type,label:K[Ut].label,res:K[Ut].res,_yt:K[Ut].yt})});var ct="auto",gt=0,Mt=((V=b(et)).label.auto,new w(H,{sources:V,initialySelectedLabel:ct,initialySelectedRes:gt,customSourcePicker:function(Ut,ee,Jt){return H.tech_.ytPlayer.setPlaybackQuality(ee[0]._yt),H}},k,I));Mt.el().classList.add("vjs-resolution-button"),H.controlBar.resolutionSwitcher=H.controlBar.addChild(Mt)})}(O)})},o.registerPlugin("videoJsResolutionSwitcher",g)}(window,C)}(),function(C,F){typeof window!="undefined"&&window.videojs?F(window.videojs):typeof define=="function"&&define.amd?define("videojs-hotkeys",["video.js"],function(o){return F(o.default||o)}):typeof module!="undefined"&&module.exports&&(module.exports=F(require("video.js")))}(0,function(C){"use strict";typeof window!="undefined"&&(window.videojs_hotkeys={version:"0.2.22"}),(C.registerPlugin||C.plugin)("hotkeys",function(F){function o(H){return typeof d=="function"?d(H):d}var c=this,g=c.el(),v=document,u={volumeStep:.1,seekStep:5,enableMute:!0,enableVolumeScroll:!0,enableFullscreen:!0,enableNumbers:!0,enableJogStyle:!1,alwaysCaptureHotkeys:!1,enableModifiersForNumbers:!0,enableInactiveFocus:!0,skipInitialFocus:!1,playPauseKey:function(H){return H.which===32||H.which===179},rewindKey:function(H){return H.which===37||H.which===177},forwardKey:function(H){return H.which===39||H.which===176},volumeUpKey:function(H){return H.which===38},volumeDownKey:function(H){return H.which===40},muteKey:function(H){return H.which===77},fullscreenKey:function(H){return H.which===70},customKeys:{}},l=C.mergeOptions||C.util.mergeOptions,m=(F=l(u,F||{})).volumeStep,d=F.seekStep,S=F.enableMute,w=F.enableVolumeScroll,j=F.enableFullscreen,T=F.enableNumbers,b=F.enableJogStyle,x=F.alwaysCaptureHotkeys,_=F.enableModifiersForNumbers,k=F.enableInactiveFocus,O=F.skipInitialFocus;g.hasAttribute("tabIndex")||g.setAttribute("tabIndex","-1"),g.style.outline="none",!x&&c.autoplay()||O||c.one("play",function(){g.focus({preventScroll:!0})}),k&&c.on("userinactive",function(){var H=function(){clearTimeout(G)},G=setTimeout(function(){c.off("useractive",H);var K=v.activeElement,et=g.querySelector(".vjs-control-bar");K&&K.parentElement==et&&g.focus()},10);c.one("useractive",H)}),c.on("play",function(){var H=g.querySelector(".iframeblocker");H&&H.style.display===""&&(H.style.display="block",H.style.bottom="39px")});var I=function(H){if(c.controls()){var G=v.activeElement;if((x||G==g||G==g.querySelector(".vjs-tech")||G==g.querySelector(".iframeblocker")||G==g.querySelector(".vjs-control-bar"))&&w){H=window.event||H;var K=Math.max(-1,Math.min(1,H.wheelDelta||-H.detail));H.preventDefault(),K==1?c.volume(c.volume()+m):K==-1&&c.volume(c.volume()-m)}}},V=function(H,G){return F.playPauseKey(H,G)?1:F.rewindKey(H,G)?2:F.forwardKey(H,G)?3:F.volumeUpKey(H,G)?4:F.volumeDownKey(H,G)?5:F.muteKey(H,G)?6:F.fullscreenKey(H,G)?7:void 0};return c.on("keydown",function(H){var G,K,et=H.which,ct=H.preventDefault,gt=c.duration();if(c.controls()){var Mt=v.activeElement;if(x||Mt==g||Mt==g.querySelector(".vjs-tech")||Mt==g.querySelector(".vjs-control-bar")||Mt==g.querySelector(".iframeblocker"))switch(V(H,c)){case 1:ct(),x&&H.stopPropagation(),c.paused()?c.play():c.pause();break;case 2:G=!c.paused(),ct(),G&&c.pause(),(K=c.currentTime()-o(H))<=0&&(K=0),c.currentTime(K),G&&c.play();break;case 3:G=!c.paused(),ct(),G&&c.pause(),(K=c.currentTime()+o(H))>=gt&&(K=G?gt-.001:gt),c.currentTime(K),G&&c.play();break;case 5:ct(),b?(K=c.currentTime()-1,c.currentTime()<=1&&(K=0),c.currentTime(K)):c.volume(c.volume()-m);break;case 4:ct(),b?((K=c.currentTime()+1)>=gt&&(K=gt),c.currentTime(K)):c.volume(c.volume()+m);break;case 6:S&&c.muted(!c.muted());break;case 7:j&&(c.isFullscreen()?c.exitFullscreen():c.requestFullscreen());break;default:if((et>47&&et<59||et>95&&et<106)&&(_||!(H.metaKey||H.ctrlKey||H.altKey))&&T){var Ut=48;et>95&&(Ut=96);var ee=et-Ut;ct(),c.currentTime(c.duration()*ee*.1)}for(var Jt in F.customKeys){var Lt=F.customKeys[Jt];Lt&&Lt.key&&Lt.handler&&Lt.key(H)&&(ct(),Lt.handler(c,F,H))}}}}),c.on("mousewheel",I),c.on("DOMMouseScroll",I),this})}),function(C){C.URL=C.URL||C.webkitURL,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;var F=function(o,c){(c=c||{}).sampleBits=c.sampleBits||8,c.sampleRate=c.sampleRate||8e3;var g=new(C.webkitAudioContext||C.AudioContext),v=g.createMediaStreamSource(o),u=(g.createScriptProcessor||g.createJavaScriptNode).apply(g,[4096,1,1]),l=!1,m={size:0,buffer:[],level:0,inputSampleRate:g.sampleRate,inputSampleBits:16,outputSampleRate:c.sampleRate,oututSampleBits:c.sampleBits,input:function(d){this.buffer.push(new Float32Array(d)),this.size+=d.length,c.pcmCallback&&(c.pcmCallback(this.encodePCM(),this.level),this.buffer.splice(0,this.size),this.size=0)},compress:function(){for(var d=new Float32Array(this.size),S=0,w=0;w<this.buffer.length;w++)d.set(this.buffer[w],S),S+=this.buffer[w].length;for(var j=parseInt(this.inputSampleRate/this.outputSampleRate),T=d.length/j,b=new Float32Array(T),x=0,_=0;x<T;)b[x]=d[_],_+=j,x++;return b},powerLevel:function(d,S){var w=d/S||0;return w<1251?Math.round(w/1250*10):Math.round(Math.min(100,Math.max(0,100*(1+Math.log(w/1e4)/Math.log(10)))))},encodePCM:function(){var d=Math.min(this.inputSampleBits,this.oututSampleBits),S=this.compress(),w=S.length*(d/8),j=new ArrayBuffer(w),T=new DataView(j),b=0,x=0;if(d===8)for(var _=0;_<S.length;_++,b++){var k=(O=Math.max(-1,Math.min(1,S[_])))<0?32768*O:32767*O;k=parseInt(255/(65535/(k+32768))),x+=Math.abs(k),T.setInt8(b,k,!0)}else for(_=0;_<S.length;_++,b+=2){var O;k=(O=Math.max(-1,Math.min(1,S[_])))<0?32768*O:32767*O,x+=Math.abs(k),T.setInt16(b,k,!0)}return this.level=this.powerLevel(x,S.length),new Blob([T],{type:"audio/pcm"})},encodeWAV:function(){var d=Math.min(this.inputSampleRate,this.outputSampleRate),S=Math.min(this.inputSampleBits,this.oututSampleBits),w=this.compress(),j=w.length*(S/8),T=new ArrayBuffer(44+j),b=new DataView(T),x=0,_=0,k=function(H){for(var G=0;G<H.length;G++)b.setUint8(x+G,H.charCodeAt(G))};if(k("RIFF"),x+=4,b.setUint32(x,36+j,!0),x+=4,k("WAVE"),x+=4,k("fmt "),x+=4,b.setUint32(x,16,!0),x+=4,b.setUint16(x,1,!0),x+=2,b.setUint16(x,1,!0),x+=2,b.setUint32(x,d,!0),x+=4,b.setUint32(x,1*d*(S/8),!0),x+=4,b.setUint16(x,S/8*1,!0),x+=2,b.setUint16(x,S,!0),x+=2,k("data"),x+=4,b.setUint32(x,j,!0),x+=4,S===8)for(var O=0;O<w.length;O++,x++){var I=(V=Math.max(-1,Math.min(1,w[O])))<0?32768*V:32767*V;I=parseInt(255/(65535/(I+32768))),_+=Math.abs(I),b.setInt8(x,I,!0)}else for(O=0;O<w.length;O++,x+=2){var V;I=(V=Math.max(-1,Math.min(1,w[O])))<0?32768*V:32767*V,_+=Math.abs(I),b.setInt16(x,I,!0)}return this.level=this.powerLevel(_,w.length),new Blob([b],{type:"audio/wav"})}};this.start=function(){l||(v.connect(u),u.connect(g.destination),l=!0)},this.stop=function(){l&&(u.disconnect(),l=!1)},this.destroy=function(){this.stop(),g&&(g.close(),g=null)},this.getBlob=function(){return this.stop(),m.encodeWAV()},this.getPCMBlob=function(){return this.stop(),m.encodePCM()},this.getLevel=function(){return m.level},this.play=function(d){d.src=C.URL.createObjectURL(this.getBlob())},this.recording=function(){return l},this.upload=function(d,S){var w=new FormData;w.append("audioData",this.getBlob()),w.append("pcmData",this.getPCMBlob());var j=new XMLHttpRequest;S&&(j.upload.addEventListener("progress",function(T){S("uploading",T)},!1),j.addEventListener("load",function(T){S("ok",T)},!1),j.addEventListener("error",function(T){S("error",T)},!1),j.addEventListener("abort",function(T){S("cancel",T)},!1)),j.open("POST",d),j.send(w)},u.onaudioprocess=function(d){m.input(d.inputBuffer.getChannelData(0))}};F.canRecording=navigator.getUserMedia!=null,F.get=function(o,c){if(o){if(!navigator.getUserMedia)return String(location.protocol).toLowerCase()!="https:"?void o(null,"\u5F53\u524D\u6D4F\u89C8\u5668\u4E0D\u652F\u6301\u5F55\u97F3\u529F\u80FD, \u8BF7\u786E\u8BA4\u5F53\u524D\u662F\u5426\u8BBF\u95EE HTTPS \u670D\u52A1!"):void o(null,"\u5F53\u524D\u6D4F\u89C8\u5668\u4E0D\u652F\u6301\u5F55\u97F3\u529F\u80FD\u3002");navigator.getUserMedia({audio:!0},function(g){var v=new F(g,c);o(v,null)},function(g){switch(g.name||g.code){case"PERMISSION_DENIED":case"PermissionDeniedError":o(null,"\u7528\u6237\u62D2\u7EDD\u63D0\u4F9B\u4FE1\u606F\u3002");break;case"NOT_SUPPORTED_ERROR":case"NotSupportedError":o(null,"\u6D4F\u89C8\u5668\u4E0D\u652F\u6301\u786C\u4EF6\u8BBE\u5907\u3002");break;case"MANDATORY_UNSATISFIED_ERROR":case"MandatoryUnsatisfiedError":o(null,"\u65E0\u6CD5\u53D1\u73B0\u6307\u5B9A\u7684\u786C\u4EF6\u8BBE\u5907\u3002");break;default:o(null,"\u65E0\u6CD5\u6253\u5F00\u9EA6\u514B\u98CE\u3002\u5F02\u5E38\u4FE1\u606F:"+(g.name||g.code))}})}},C.LiveRecorder=F}(window),videojs.addLanguage("zh-CN",{Play:"\u64AD\u653E",Pause:"\u6682\u505C","Current Time":"\u5F53\u524D\u65F6\u95F4",Duration:"\u65F6\u957F","Remaining Time":"\u5269\u4F59\u65F6\u95F4","Stream Type":"\u5A92\u4F53\u6D41\u7C7B\u578B",LIVE:"\u76F4\u64AD",Loaded:"\u52A0\u8F7D\u5B8C\u6BD5",Progress:"\u8FDB\u5EA6",Fullscreen:"\u5168\u5C4F","Non-Fullscreen":"\u9000\u51FA\u5168\u5C4F",Mute:"\u9759\u97F3",Unmute:"\u53D6\u6D88\u9759\u97F3","Playback Rate":"\u64AD\u653E\u901F\u5EA6",Subtitles:"\u5B57\u5E55","subtitles off":"\u5173\u95ED\u5B57\u5E55",Captions:"\u5185\u5D4C\u5B57\u5E55","captions off":"\u5173\u95ED\u5185\u5D4C\u5B57\u5E55",Chapters:"\u8282\u76EE\u6BB5\u843D","Close Modal Dialog":"\u5173\u95ED\u5F39\u7A97",Descriptions:"\u63CF\u8FF0","descriptions off":"\u5173\u95ED\u63CF\u8FF0","Audio Track":"\u97F3\u8F68","You aborted the media playback":"\u89C6\u9891\u64AD\u653E\u88AB\u7EC8\u6B62","A network error caused the media download to fail part-way.":"\u7F51\u7EDC\u9519\u8BEF\u5BFC\u81F4\u89C6\u9891\u4E0B\u8F7D\u4E2D\u9014\u5931\u8D25\u3002","The media could not be loaded, either because the server or network failed or because the format is not supported.":"\u89C6\u9891\u56E0\u683C\u5F0F\u4E0D\u652F\u6301\u6216\u8005\u670D\u52A1\u5668\u6216\u7F51\u7EDC\u7684\u95EE\u9898\u65E0\u6CD5\u52A0\u8F7D\u3002","The media playback was aborted due to a corruption problem or because the media used features your browser did not support.":"\u7531\u4E8E\u89C6\u9891\u6587\u4EF6\u635F\u574F\u6216\u662F\u8BE5\u89C6\u9891\u4F7F\u7528\u4E86\u4F60\u7684\u6D4F\u89C8\u5668\u4E0D\u652F\u6301\u7684\u529F\u80FD\uFF0C\u64AD\u653E\u7EC8\u6B62\u3002","No compatible source was found for this media.":"\u65E0\u6CD5\u627E\u5230\u6B64\u89C6\u9891\u517C\u5BB9\u7684\u6E90\u3002","The media is encrypted and we do not have the keys to decrypt it.":"\u89C6\u9891\u5DF2\u52A0\u5BC6\uFF0C\u65E0\u6CD5\u89E3\u5BC6\u3002","Play Video":"\u64AD\u653E\u89C6\u9891",Close:"\u5173\u95ED","Modal Window":"\u5F39\u7A97","This is a modal window":"\u8FD9\u662F\u4E00\u4E2A\u5F39\u7A97","This modal can be closed by pressing the Escape key or activating the close button.":"\u53EF\u4EE5\u6309ESC\u6309\u952E\u6216\u542F\u7528\u5173\u95ED\u6309\u94AE\u6765\u5173\u95ED\u6B64\u5F39\u7A97\u3002",", opens captions settings dialog":", \u5F00\u542F\u6807\u9898\u8BBE\u7F6E\u5F39\u7A97",", opens subtitles settings dialog":", \u5F00\u542F\u5B57\u5E55\u8BBE\u7F6E\u5F39\u7A97",", opens descriptions settings dialog":", \u5F00\u542F\u63CF\u8FF0\u8BBE\u7F6E\u5F39\u7A97",", selected":", \u9009\u62E9","captions settings":"\u5B57\u5E55\u8BBE\u5B9A","Audio Player":"\u97F3\u9891\u64AD\u653E\u5668","Video Player":"\u89C6\u9891\u64AD\u653E\u5668",Replay:"\u91CD\u64AD","Progress Bar":"\u8FDB\u5EA6\u6761","Volume Level":"\u97F3\u91CF","subtitles settings":"\u5B57\u5E55\u8BBE\u5B9A","descriptions settings":"\u63CF\u8FF0\u8BBE\u5B9A",Text:"\u6587\u5B57",White:"\u767D",Black:"\u9ED1",Red:"\u7EA2",Green:"\u7EFF",Blue:"\u84DD",Yellow:"\u9EC4",Magenta:"\u7D2B\u7EA2",Cyan:"\u9752",Background:"\u80CC\u666F",Window:"\u89C6\u7A97",Transparent:"\u900F\u660E","Semi-Transparent":"\u534A\u900F\u660E",Opaque:"\u4E0D\u900F\u660E","Font Size":"\u5B57\u4F53\u5C3A\u5BF8","Text Edge Style":"\u5B57\u4F53\u8FB9\u7F18\u6837\u5F0F",None:"\u65E0",Raised:"\u6D6E\u96D5",Depressed:"\u538B\u4F4E",Uniform:"\u5747\u5300",Dropshadow:"\u4E0B\u9634\u5F71","Font Family":"\u5B57\u4F53\u5E93","Proportional Sans-Serif":"\u6BD4\u4F8B\u65E0\u7EC6\u4F53","Monospace Sans-Serif":"\u5355\u95F4\u9694\u65E0\u7EC6\u4F53","Proportional Serif":"\u6BD4\u4F8B\u7EC6\u4F53","Monospace Serif":"\u5355\u95F4\u9694\u7EC6\u4F53",Casual:"\u8212\u9002",Script:"\u624B\u5199\u4F53","Small Caps":"\u5C0F\u578B\u5927\u5199\u5B57\u4F53",Reset:"\u91CD\u7F6E","restore all settings to the default values":"\u6062\u590D\u5168\u90E8\u8BBE\u5B9A\u81F3\u9884\u8BBE\u503C",Done:"\u5B8C\u6210","Caption Settings Dialog":"\u5B57\u5E55\u8BBE\u5B9A\u89C6\u7A97","Beginning of dialog window. Escape will cancel and close the window.":"\u5F00\u59CB\u5BF9\u8BDD\u89C6\u7A97\u3002\u79BB\u5F00\u4F1A\u53D6\u6D88\u53CA\u5173\u95ED\u89C6\u7A97","End of dialog window.":"\u7ED3\u675F\u5BF9\u8BDD\u89C6\u7A97","Seek to live, currently behind live":"\u8BD5\u56FE\u76F4\u64AD\uFF0C\u5F53\u524D\u5EF6\u65F6\u64AD\u653E","Seek to live, currently playing live":"\u8BD5\u56FE\u76F4\u64AD\uFF0C\u5F53\u524D\u5B9E\u65F6\u64AD\u653E","progress bar timing: currentTime={1} duration={2}":"{1}/{2}","{1} is loading.":"\u6B63\u5728\u52A0\u8F7D {1}\u3002","Picture-in-Picture":"\u753B\u4E2D\u753B","Exit Picture-in-Picture":"\u9000\u51FA\u753B\u4E2D\u753B",Snapshot:"\u622A\u56FE",STD:"\u6807\u51C6",STR:"\u62C9\u4F38","Click switch to standard display":"\u70B9\u51FB\u5207\u6362\u5230\u6807\u51C6\u663E\u793A","Click switch to stretch display":"\u70B9\u51FB\u5207\u6362\u5230\u62C9\u4F38\u663E\u793A",Fluent:"\u6D41\u7545",Fast:"\u6781\u901F","Click switch to fast play":"\u70B9\u51FB\u5207\u6362\u5230\u6781\u901F\u64AD\u653E","Click switch to fluent play":"\u70B9\u51FB\u5207\u6362\u5230\u6D41\u7545\u64AD\u653E"}),function(C){var F={};function o(c){if(F[c])return F[c].exports;var g=F[c]={i:c,l:!1,exports:{}};return C[c].call(g.exports,g,g.exports,o),g.l=!0,g.exports}o.m=C,o.c=F,o.d=function(c,g,v){o.o(c,g)||Object.defineProperty(c,g,{enumerable:!0,get:v})},o.r=function(c){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(c,"__esModule",{value:!0})},o.t=function(c,g){if(1&g&&(c=o(c)),8&g||4&g&&typeof c=="object"&&c&&c.__esModule)return c;var v=Object.create(null);if(o.r(v),Object.defineProperty(v,"default",{enumerable:!0,value:c}),2&g&&typeof c!="string")for(var u in c)o.d(v,u,function(l){return c[l]}.bind(null,u));return v},o.n=function(c){var g=c&&c.__esModule?function(){return c.default}:function(){return c};return o.d(g,"a",g),g},o.o=function(c,g){return Object.prototype.hasOwnProperty.call(c,g)},o.p="",o(o.s=0)}({"+40N":function(C,F,o){var c=o("8IOi"),g=o("Z/7P");c(c.G+c.F*(parseInt!=g),{parseInt:g})},"+4di":function(C,F){C.exports=function(o,c){return{value:c,done:!!o}}},"+9nT":function(C,F,o){o("+Uj0")("WeakSet")},"+TcE":function(C,F){C.exports=function(o){try{return!!o()}catch(c){return!0}}},"+UUX":function(C,F,o){"use strict";var c=o("Qu5u"),g=o("b8c2"),v=o("Y3Md");C.exports=[].copyWithin||function(u,l){var m=c(this),d=v(m.length),S=g(u,d),w=g(l,d),j=arguments.length>2?arguments[2]:void 0,T=Math.min((j===void 0?d:g(j,d))-w,d-S),b=1;for(w<S&&S<w+T&&(b=-1,w+=T-1,S+=T-1);T-- >0;)w in m?m[S]=m[w]:delete m[S],S+=b,w+=b;return m}},"+Uj0":function(C,F,o){"use strict";var c=o("8IOi");C.exports=function(g){c(c.S,g,{of:function(){for(var v=arguments.length,u=new Array(v);v--;)u[v]=arguments[v];return new this(u)}})}},"+Wx6":function(C,F,o){var c=o("8IOi"),g=o("HC2Y");c(c.S,"Error",{isError:function(v){return g(v)==="Error"}})},"+X+Z":function(C,F,o){C.exports=!o("yU77")&&!o("+TcE")(function(){return Object.defineProperty(o("itdZ")("div"),"a",{get:function(){return 7}}).a!=7})},"+fNn":function(C,F,o){var c=o("8IOi"),g=o("hTk/");c(c.G+c.F*(parseFloat!=g),{parseFloat:g})},"+z8a":function(C,F,o){"use strict";var c=o("UVVG"),g={};g[o("3iRr")("toStringTag")]="z",g+""!="[object z]"&&o("d+oe")(Object.prototype,"toString",function(){return"[object "+c(this)+"]"},!0)},"+zL4":function(C,F){C.exports=function(o,c){return{enumerable:!(1&o),configurable:!(2&o),writable:!(4&o),value:c}}},"/Kal":function(C,F,o){var c=o("8IOi");c(c.S+c.F*!o("yU77"),"Object",{defineProperty:o("J2HX").f})},"/p3b":function(C,F,o){var c=o("8IOi");c(c.S,"Date",{now:function(){return new Date().getTime()}})},"/vim":function(C,F,o){"use strict";var c=o("UVVG"),g=RegExp.prototype.exec;C.exports=function(v,u){var l=v.exec;if(typeof l=="function"){var m=l.call(v,u);if(typeof m!="object")throw new TypeError("RegExp exec method returned something other than an Object or null");return m}if(c(v)!=="RegExp")throw new TypeError("RegExp#exec called on incompatible receiver");return g.call(v,u)}},0:function(C,F,o){o("201c"),C.exports=o("q/s7")},"0PTC":function(C,F,o){var c=o("n+hx"),g=o("TI2F").onFreeze;o("CmYC")("seal",function(v){return function(u){return v&&c(u)?v(g(u)):u}})},"0WhE":function(C,F,o){"use strict";var c=o("k+AJ"),g=o("8IOi"),v=o("d+oe"),u=o("xmgo"),l=o("TI2F"),m=o("j8TA"),d=o("kopD"),S=o("n+hx"),w=o("+TcE"),j=o("6+im"),T=o("J70Z"),b=o("EeL+");C.exports=function(x,_,k,O,I,V){var H=c[x],G=H,K=I?"set":"add",et=G&&G.prototype,ct={},gt=function(Zt){var me=et[Zt];v(et,Zt,Zt=="delete"||Zt=="has"?function(Gt){return!(V&&!S(Gt))&&me.call(this,Gt===0?0:Gt)}:Zt=="get"?function(Gt){return V&&!S(Gt)?void 0:me.call(this,Gt===0?0:Gt)}:Zt=="add"?function(Gt){return me.call(this,Gt===0?0:Gt),this}:function(Gt,U){return me.call(this,Gt===0?0:Gt,U),this})};if(typeof G=="function"&&(V||et.forEach&&!w(function(){new G().entries().next()}))){var Mt=new G,Ut=Mt[K](V?{}:-0,1)!=Mt,ee=w(function(){Mt.has(1)}),Jt=j(function(Zt){new G(Zt)}),Lt=!V&&w(function(){for(var Zt=new G,me=5;me--;)Zt[K](me,me);return!Zt.has(-0)});Jt||((G=_(function(Zt,me){d(Zt,G,x);var Gt=b(new H,Zt,G);return me!=null&&m(me,I,Gt[K],Gt),Gt})).prototype=et,et.constructor=G),(ee||Lt)&&(gt("delete"),gt("has"),I&&gt("get")),(Lt||Ut)&&gt(K),V&&et.clear&&delete et.clear}else G=O.getConstructor(_,x,I,K),u(G.prototype,k),l.NEED=!0;return T(G,x),ct[x]=G,g(g.G+g.W+g.F*(G!=H),ct),V||O.setStrong(G,x,I),G}},"0khl":function(C,F,o){var c=o("8IOi");c(c.S,"Number",{isNaN:function(g){return g!=g}})},"0oS0":function(C,F,o){var c=o("n+hx"),g=o("TI2F").onFreeze;o("CmYC")("preventExtensions",function(v){return function(u){return v&&c(u)?v(g(u)):u}})},"138g":function(C,F,o){var c=o("n+hx");C.exports=function(g){if(!c(g))throw TypeError(g+" is not an object!");return g}},"1JuZ":function(C,F,o){var c=o("e8l7"),g=Math.pow,v=g(2,-52),u=g(2,-23),l=g(2,127)*(2-u),m=g(2,-126);C.exports=Math.fround||function(d){var S,w,j=Math.abs(d),T=c(d);return j<m?T*(j/m/u+1/v-1/v)*m*u:(w=(S=(1+u/v)*j)-(S-j))>l||w!=w?T*(1/0):T*w}},"1RbY":function(C,F,o){"use strict";var c=o("zuiL"),g=o("8IOi"),v=o("d+oe"),u=o("BxPU"),l=o("wFMk"),m=o("atpN"),d=o("J70Z"),S=o("7WAm"),w=o("3iRr")("iterator"),j=!([].keys&&"next"in[].keys()),T="keys",b="values",x=function(){return this};C.exports=function(_,k,O,I,V,H,G){m(O,k,I);var K,et,ct,gt=function(U){if(!j&&U in Jt)return Jt[U];switch(U){case T:case b:return function(){return new O(this,U)}}return function(){return new O(this,U)}},Mt=k+" Iterator",Ut=V==b,ee=!1,Jt=_.prototype,Lt=Jt[w]||Jt["@@iterator"]||V&&Jt[V],Zt=Lt||gt(V),me=V?Ut?gt("entries"):Zt:void 0,Gt=k=="Array"&&Jt.entries||Lt;if(Gt&&(ct=S(Gt.call(new _)))!==Object.prototype&&ct.next&&(d(ct,Mt,!0),c||typeof ct[w]=="function"||u(ct,w,x)),Ut&&Lt&&Lt.name!==b&&(ee=!0,Zt=function(){return Lt.call(this)}),c&&!G||!j&&!ee&&Jt[w]||u(Jt,w,Zt),l[k]=Zt,l[Mt]=x,V)if(K={values:Ut?Zt:gt(b),keys:H?Zt:gt(T),entries:me},G)for(et in K)et in Jt||v(Jt,et,K[et]);else g(g.P+g.F*(j||ee),k,K);return K}},"1TfH":function(C,F,o){var c=o("8IOi"),g=o("R1kZ");g&&c(c.S,"Reflect",{setPrototypeOf:function(v,u){g.check(v,u);try{return g.set(v,u),!0}catch(l){return!1}}})},"1bKO":function(C,F,o){var c=o("HGrt"),g=o("138g"),v=c.key,u=c.map,l=c.store;c.exp({deleteMetadata:function(m,d){var S=arguments.length<3?void 0:v(arguments[2]),w=u(g(d),S,!1);if(w===void 0||!w.delete(m))return!1;if(w.size)return!0;var j=l.get(d);return j.delete(S),!!j.size||l.delete(d)}})},"1bh+":function(C,F,o){o("Oi8Z")("Array")},"1hBx":function(C,F,o){var c=o("8IOi"),g=o("ZiEV"),v=o("LOhj"),u=o("138g"),l=o("n+hx"),m=o("+TcE"),d=o("Au75"),S=(o("k+AJ").Reflect||{}).construct,w=m(function(){function T(){}return!(S(function(){},[],T)instanceof T)}),j=!m(function(){S(function(){})});c(c.S+c.F*(w||j),"Reflect",{construct:function(T,b){v(T),u(b);var x=arguments.length<3?T:v(arguments[2]);if(j&&!w)return S(T,b,x);if(T==x){switch(b.length){case 0:return new T;case 1:return new T(b[0]);case 2:return new T(b[0],b[1]);case 3:return new T(b[0],b[1],b[2]);case 4:return new T(b[0],b[1],b[2],b[3])}var _=[null];return _.push.apply(_,b),new(d.apply(T,_))}var k=x.prototype,O=g(l(k)?k:Object.prototype),I=Function.apply.call(T,O,b);return l(I)?I:O}})},"201c":function(C,F,o){"use strict";(function(c){if(o("a5BC"),o("86LW"),o("dt6n"),c._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");c._babelPolyfill=!0;function g(v,u,l){v[u]||Object.defineProperty(v,u,{writable:!0,configurable:!0,value:l})}g(String.prototype,"padLeft","".padStart),g(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach(function(v){[][v]&&g(Array,v,Function.call.bind([][v]))})}).call(this,o("yLpj"))},"26/4":function(C,F,o){var c=o("HC2Y");C.exports=Object("z").propertyIsEnumerable(0)?Object:function(g){return c(g)=="String"?g.split(""):Object(g)}},"27JW":function(C,F,o){var c=o("MN4f"),g=o("aK63").concat("length","prototype");F.f=Object.getOwnPropertyNames||function(v){return c(v,g)}},"28ya":function(C,F,o){"use strict";var c=o("8IOi"),g=o("UtW+");c(c.S+c.F*o("+TcE")(function(){function v(){}return!(Array.of.call(v)instanceof v)}),"Array",{of:function(){for(var v=0,u=arguments.length,l=new(typeof this=="function"?this:Array)(u);u>v;)g(l,v,arguments[v++]);return l.length=u,l}})},"2ASh":function(C,F,o){var c=o("8IOi"),g=o("138g"),v=Object.isExtensible;c(c.S,"Reflect",{isExtensible:function(u){return g(u),!v||v(u)}})},"31m8":function(C,F,o){"use strict";var c=o("8IOi"),g=o("z/zB")(4);c(c.P+c.F*!o("Vcfr")([].every,!0),"Array",{every:function(v){return g(this,v,arguments[1])}})},"39GA":function(C,F,o){var c=o("J2HX"),g=o("8IOi"),v=o("138g"),u=o("AZ8a");g(g.S+g.F*o("+TcE")(function(){Reflect.defineProperty(c.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(l,m,d){v(l),m=u(m,!0),v(d);try{return c.f(l,m,d),!0}catch(S){return!1}}})},"3D8Z":function(C,F){C.exports=Math.log1p||function(o){return(o=+o)>-1e-8&&o<1e-8?o-o*o/2:Math.log(1+o)}},"3Uai":function(C,F,o){"use strict";o("5oHw")("anchor",function(c){return function(g){return c(this,"a","name",g)}})},"3iRr":function(C,F,o){var c=o("3oW4")("wks"),g=o("Vol4"),v=o("k+AJ").Symbol,u=typeof v=="function";(C.exports=function(l){return c[l]||(c[l]=u&&v[l]||(u?v:g)("Symbol."+l))}).store=c},"3oW4":function(C,F,o){var c=o("CuJi"),g=o("k+AJ"),v="__core-js_shared__",u=g[v]||(g[v]={});(C.exports=function(l,m){return u[l]||(u[l]=m!==void 0?m:{})})("versions",[]).push({version:c.version,mode:o("zuiL")?"pure":"global",copyright:"\xA9 2019 Denis Pushkarev (zloirock.ru)"})},"4D/n":function(C,F,o){var c=o("8IOi"),g=Math.asinh;c(c.S+c.F*!(g&&1/g(0)>0),"Math",{asinh:function v(u){return isFinite(u=+u)&&u!=0?u<0?-v(-u):Math.log(u+Math.sqrt(u*u+1)):u}})},"4Fav":function(C,F,o){"use strict";var c,g,v=o("ZqwW"),u=RegExp.prototype.exec,l=String.prototype.replace,m=u,d=(c=/a/,g=/b*/g,u.call(c,"a"),u.call(g,"a"),c.lastIndex!==0||g.lastIndex!==0),S=/()??/.exec("")[1]!==void 0;(d||S)&&(m=function(w){var j,T,b,x,_=this;return S&&(T=new RegExp("^"+_.source+"$(?!\\s)",v.call(_))),d&&(j=_.lastIndex),b=u.call(_,w),d&&b&&(_.lastIndex=_.global?b.index+b[0].length:j),S&&b&&b.length>1&&l.call(b[0],T,function(){for(x=1;x<arguments.length-2;x++)arguments[x]===void 0&&(b[x]=void 0)}),b}),C.exports=m},"4XFX":function(C,F){F.f={}.propertyIsEnumerable},"5/+w":function(C,F,o){"use strict";var c=o("LOhj");function g(v){var u,l;this.promise=new v(function(m,d){if(u!==void 0||l!==void 0)throw TypeError("Bad Promise constructor");u=m,l=d}),this.resolve=c(u),this.reject=c(l)}C.exports.f=function(v){return new g(v)}},"5Kf4":function(C,F,o){"use strict";o("5oHw")("sub",function(c){return function(){return c(this,"sub","","")}})},"5arV":function(C,F,o){var c=o("138g");C.exports=function(g,v,u,l){try{return l?v(c(u)[0],u[1]):v(u)}catch(d){var m=g.return;throw m!==void 0&&c(m.call(g)),d}}},"5oHw":function(C,F,o){var c=o("8IOi"),g=o("+TcE"),v=o("aI2V"),u=/"/g,l=function(m,d,S,w){var j=String(v(m)),T="<"+d;return S!==""&&(T+=" "+S+'="'+String(w).replace(u,"&quot;")+'"'),T+">"+j+"</"+d+">"};C.exports=function(m,d){var S={};S[m]=d(l),c(c.P+c.F*g(function(){var w=""[m]('"');return w!==w.toLowerCase()||w.split('"').length>3}),"String",S)}},"5zUu":function(C,F,o){"use strict";var c=o("8IOi"),g=o("QotP"),v=o("Qu5u"),u=o("Y3Md"),l=o("m29h"),m=o("CkjT");c(c.P,"Array",{flatten:function(){var d=arguments[0],S=v(this),w=u(S.length),j=m(S,0);return g(j,S,S,w,0,d===void 0?1:l(d)),j}}),o("Zrcd")("flatten")},"6+im":function(C,F,o){var c=o("3iRr")("iterator"),g=!1;try{var v=[7][c]();v.return=function(){g=!0},Array.from(v,function(){throw 2})}catch(u){}C.exports=function(u,l){if(!l&&!g)return!1;var m=!1;try{var d=[7],S=d[c]();S.next=function(){return{done:m=!0}},d[c]=function(){return S},u(d)}catch(w){}return m}},"64wf":function(C,F,o){"use strict";var c=o("n+hx"),g=o("7WAm"),v=o("3iRr")("hasInstance"),u=Function.prototype;v in u||o("J2HX").f(u,v,{value:function(l){if(typeof this!="function"||!c(l))return!1;if(!c(this.prototype))return l instanceof this;for(;l=g(l);)if(this.prototype===l)return!0;return!1}})},"65rS":function(C,F,o){var c,g,v,u=o("kRpC"),l=o("CdvW"),m=o("dDOX"),d=o("itdZ"),S=o("k+AJ"),w=S.process,j=S.setImmediate,T=S.clearImmediate,b=S.MessageChannel,x=S.Dispatch,_=0,k={},O="onreadystatechange",I=function(){var H=+this;if(k.hasOwnProperty(H)){var G=k[H];delete k[H],G()}},V=function(H){I.call(H.data)};j&&T||(j=function(H){for(var G=[],K=1;arguments.length>K;)G.push(arguments[K++]);return k[++_]=function(){l(typeof H=="function"?H:Function(H),G)},c(_),_},T=function(H){delete k[H]},o("HC2Y")(w)=="process"?c=function(H){w.nextTick(u(I,H,1))}:x&&x.now?c=function(H){x.now(u(I,H,1))}:b?(v=(g=new b).port2,g.port1.onmessage=V,c=u(v.postMessage,v,1)):S.addEventListener&&typeof postMessage=="function"&&!S.importScripts?(c=function(H){S.postMessage(H+"","*")},S.addEventListener("message",V,!1)):c=O in d("script")?function(H){m.appendChild(d("script")).onreadystatechange=function(){m.removeChild(this),I.call(H)}}:function(H){setTimeout(u(I,H,1),0)}),C.exports={set:j,clear:T}},"67f/":function(C,F,o){var c=o("8IOi"),g=Math.PI/180;c(c.S,"Math",{radians:function(v){return v*g}})},"6T8a":function(C,F,o){var c=o("k+AJ"),g=o("8IOi"),v=o("ZP9f"),u=[].slice,l=/MSIE .\./.test(v),m=function(d){return function(S,w){var j=arguments.length>2,T=!!j&&u.call(arguments,2);return d(j?function(){(typeof S=="function"?S:Function(S)).apply(this,T)}:S,w)}};g(g.G+g.B+g.F*l,{setTimeout:m(c.setTimeout),setInterval:m(c.setInterval)})},"6WDs":function(C,F,o){var c=o("m29h"),g=o("aI2V");C.exports=function(v){return function(u,l){var m,d,S=String(g(u)),w=c(l),j=S.length;return w<0||w>=j?v?"":void 0:(m=S.charCodeAt(w))<55296||m>56319||w+1===j||(d=S.charCodeAt(w+1))<56320||d>57343?v?S.charAt(w):m:v?S.slice(w,w+2):d-56320+(m-55296<<10)+65536}}},"6dhg":function(C,F,o){var c=o("8IOi"),g=o("aI2V"),v=o("+TcE"),u=o("abT7"),l="["+u+"]",m=RegExp("^"+l+l+"*"),d=RegExp(l+l+"*$"),S=function(j,T,b){var x={},_=v(function(){return!!u[j]()||"\u200B\x85"[j]()!="\u200B\x85"}),k=x[j]=_?T(w):u[j];b&&(x[b]=k),c(c.P+c.F*_,"String",x)},w=S.trim=function(j,T){return j=String(g(j)),1&T&&(j=j.replace(m,"")),2&T&&(j=j.replace(d,"")),j};C.exports=S},"6uvR":function(C,F,o){var c=o("27JW"),g=o("EN0g"),v=o("138g"),u=o("k+AJ").Reflect;C.exports=u&&u.ownKeys||function(l){var m=c.f(v(l)),d=g.f;return d?m.concat(d(l)):m}},"7WAm":function(C,F,o){var c=o("L7KE"),g=o("Qu5u"),v=o("lk+t")("IE_PROTO"),u=Object.prototype;C.exports=Object.getPrototypeOf||function(l){return l=g(l),c(l,v)?l[v]:typeof l.constructor=="function"&&l instanceof l.constructor?l.constructor.prototype:l instanceof Object?u:null}},"7n8s":function(C,F,o){var c=o("jYdD"),g=o("7WAm"),v=o("L7KE"),u=o("8IOi"),l=o("n+hx"),m=o("138g");u(u.S,"Reflect",{get:function d(S,w){var j,T,b=arguments.length<3?S:arguments[2];return m(S)===b?S[w]:(j=c.f(S,w))?v(j,"value")?j.value:j.get!==void 0?j.get.call(b):void 0:l(T=g(S))?d(T,w,b):void 0}})},"86LW":function(C,F,o){(function(c){(function(g){"use strict";var v,u=Object.prototype,l=u.hasOwnProperty,m=typeof Symbol=="function"?Symbol:{},d=m.iterator||"@@iterator",S=m.asyncIterator||"@@asyncIterator",w=m.toStringTag||"@@toStringTag",j=typeof C=="object",T=g.regeneratorRuntime;if(T)j&&(C.exports=T);else{(T=g.regeneratorRuntime=j?C.exports:{}).wrap=K;var b="suspendedStart",x="suspendedYield",_="executing",k="completed",O={},I={};I[d]=function(){return this};var V=Object.getPrototypeOf,H=V&&V(V(Gt([])));H&&H!==u&&l.call(H,d)&&(I=H);var G=Mt.prototype=ct.prototype=Object.create(I);gt.prototype=G.constructor=Mt,Mt.constructor=gt,Mt[w]=gt.displayName="GeneratorFunction",T.isGeneratorFunction=function(ut){var ht=typeof ut=="function"&&ut.constructor;return!!ht&&(ht===gt||(ht.displayName||ht.name)==="GeneratorFunction")},T.mark=function(ut){return Object.setPrototypeOf?Object.setPrototypeOf(ut,Mt):(ut.__proto__=Mt,w in ut||(ut[w]="GeneratorFunction")),ut.prototype=Object.create(G),ut},T.awrap=function(ut){return{__await:ut}},Ut(ee.prototype),ee.prototype[S]=function(){return this},T.AsyncIterator=ee,T.async=function(ut,ht,bt,Dt){var mt=new ee(K(ut,ht,bt,Dt));return T.isGeneratorFunction(ht)?mt:mt.next().then(function(ft){return ft.done?ft.value:mt.next()})},Ut(G),G[w]="Generator",G[d]=function(){return this},G.toString=function(){return"[object Generator]"},T.keys=function(ut){var ht=[];for(var bt in ut)ht.push(bt);return ht.reverse(),function Dt(){for(;ht.length;){var mt=ht.pop();if(mt in ut)return Dt.value=mt,Dt.done=!1,Dt}return Dt.done=!0,Dt}},T.values=Gt,me.prototype={constructor:me,reset:function(ut){if(this.prev=0,this.next=0,this.sent=this._sent=v,this.done=!1,this.delegate=null,this.method="next",this.arg=v,this.tryEntries.forEach(Zt),!ut)for(var ht in this)ht.charAt(0)==="t"&&l.call(this,ht)&&!isNaN(+ht.slice(1))&&(this[ht]=v)},stop:function(){this.done=!0;var ut=this.tryEntries[0].completion;if(ut.type==="throw")throw ut.arg;return this.rval},dispatchException:function(ut){if(this.done)throw ut;var ht=this;function bt(Pt,Ht){return ft.type="throw",ft.arg=ut,ht.next=Pt,Ht&&(ht.method="next",ht.arg=v),!!Ht}for(var Dt=this.tryEntries.length-1;Dt>=0;--Dt){var mt=this.tryEntries[Dt],ft=mt.completion;if(mt.tryLoc==="root")return bt("end");if(mt.tryLoc<=this.prev){var pt=l.call(mt,"catchLoc"),Rt=l.call(mt,"finallyLoc");if(pt&&Rt){if(this.prev<mt.catchLoc)return bt(mt.catchLoc,!0);if(this.prev<mt.finallyLoc)return bt(mt.finallyLoc)}else if(pt){if(this.prev<mt.catchLoc)return bt(mt.catchLoc,!0)}else{if(!Rt)throw new Error("try statement without catch or finally");if(this.prev<mt.finallyLoc)return bt(mt.finallyLoc)}}}},abrupt:function(ut,ht){for(var bt=this.tryEntries.length-1;bt>=0;--bt){var Dt=this.tryEntries[bt];if(Dt.tryLoc<=this.prev&&l.call(Dt,"finallyLoc")&&this.prev<Dt.finallyLoc){var mt=Dt;break}}mt&&(ut==="break"||ut==="continue")&&mt.tryLoc<=ht&&ht<=mt.finallyLoc&&(mt=null);var ft=mt?mt.completion:{};return ft.type=ut,ft.arg=ht,mt?(this.method="next",this.next=mt.finallyLoc,O):this.complete(ft)},complete:function(ut,ht){if(ut.type==="throw")throw ut.arg;return ut.type==="break"||ut.type==="continue"?this.next=ut.arg:ut.type==="return"?(this.rval=this.arg=ut.arg,this.method="return",this.next="end"):ut.type==="normal"&&ht&&(this.next=ht),O},finish:function(ut){for(var ht=this.tryEntries.length-1;ht>=0;--ht){var bt=this.tryEntries[ht];if(bt.finallyLoc===ut)return this.complete(bt.completion,bt.afterLoc),Zt(bt),O}},catch:function(ut){for(var ht=this.tryEntries.length-1;ht>=0;--ht){var bt=this.tryEntries[ht];if(bt.tryLoc===ut){var Dt=bt.completion;if(Dt.type==="throw"){var mt=Dt.arg;Zt(bt)}return mt}}throw new Error("illegal catch attempt")},delegateYield:function(ut,ht,bt){return this.delegate={iterator:Gt(ut),resultName:ht,nextLoc:bt},this.method==="next"&&(this.arg=v),O}}}function K(ut,ht,bt,Dt){var mt=ht&&ht.prototype instanceof ct?ht:ct,ft=Object.create(mt.prototype),pt=new me(Dt||[]);return ft._invoke=function(Rt,Pt,Ht){var oe=b;return function(Oe,ue){if(oe===_)throw new Error("Generator is already running");if(oe===k){if(Oe==="throw")throw ue;return U()}for(Ht.method=Oe,Ht.arg=ue;;){var Yt=Ht.delegate;if(Yt){var Ke=Jt(Yt,Ht);if(Ke){if(Ke===O)continue;return Ke}}if(Ht.method==="next")Ht.sent=Ht._sent=Ht.arg;else if(Ht.method==="throw"){if(oe===b)throw oe=k,Ht.arg;Ht.dispatchException(Ht.arg)}else Ht.method==="return"&&Ht.abrupt("return",Ht.arg);oe=_;var Ee=et(Rt,Pt,Ht);if(Ee.type==="normal"){if(oe=Ht.done?k:x,Ee.arg===O)continue;return{value:Ee.arg,done:Ht.done}}Ee.type==="throw"&&(oe=k,Ht.method="throw",Ht.arg=Ee.arg)}}}(ut,bt,pt),ft}function et(ut,ht,bt){try{return{type:"normal",arg:ut.call(ht,bt)}}catch(Dt){return{type:"throw",arg:Dt}}}function ct(){}function gt(){}function Mt(){}function Ut(ut){["next","throw","return"].forEach(function(ht){ut[ht]=function(bt){return this._invoke(ht,bt)}})}function ee(ut){function ht(Dt,mt,ft,pt){var Rt=et(ut[Dt],ut,mt);if(Rt.type!=="throw"){var Pt=Rt.arg,Ht=Pt.value;return Ht&&typeof Ht=="object"&&l.call(Ht,"__await")?Promise.resolve(Ht.__await).then(function(oe){ht("next",oe,ft,pt)},function(oe){ht("throw",oe,ft,pt)}):Promise.resolve(Ht).then(function(oe){Pt.value=oe,ft(Pt)},pt)}pt(Rt.arg)}var bt;typeof g.process=="object"&&g.process.domain&&(ht=g.process.domain.bind(ht)),this._invoke=function(Dt,mt){function ft(){return new Promise(function(pt,Rt){ht(Dt,mt,pt,Rt)})}return bt=bt?bt.then(ft,ft):ft()}}function Jt(ut,ht){var bt=ut.iterator[ht.method];if(bt===v){if(ht.delegate=null,ht.method==="throw"){if(ut.iterator.return&&(ht.method="return",ht.arg=v,Jt(ut,ht),ht.method==="throw"))return O;ht.method="throw",ht.arg=new TypeError("The iterator does not provide a 'throw' method")}return O}var Dt=et(bt,ut.iterator,ht.arg);if(Dt.type==="throw")return ht.method="throw",ht.arg=Dt.arg,ht.delegate=null,O;var mt=Dt.arg;return mt?mt.done?(ht[ut.resultName]=mt.value,ht.next=ut.nextLoc,ht.method!=="return"&&(ht.method="next",ht.arg=v),ht.delegate=null,O):mt:(ht.method="throw",ht.arg=new TypeError("iterator result is not an object"),ht.delegate=null,O)}function Lt(ut){var ht={tryLoc:ut[0]};1 in ut&&(ht.catchLoc=ut[1]),2 in ut&&(ht.finallyLoc=ut[2],ht.afterLoc=ut[3]),this.tryEntries.push(ht)}function Zt(ut){var ht=ut.completion||{};ht.type="normal",delete ht.arg,ut.completion=ht}function me(ut){this.tryEntries=[{tryLoc:"root"}],ut.forEach(Lt,this),this.reset(!0)}function Gt(ut){if(ut){var ht=ut[d];if(ht)return ht.call(ut);if(typeof ut.next=="function")return ut;if(!isNaN(ut.length)){var bt=-1,Dt=function mt(){for(;++bt<ut.length;)if(l.call(ut,bt))return mt.value=ut[bt],mt.done=!1,mt;return mt.value=v,mt.done=!0,mt};return Dt.next=Dt}}return{next:U}}function U(){return{value:v,done:!0}}})(typeof c=="object"?c:typeof window=="object"?window:typeof self=="object"?self:this)}).call(this,o("yLpj"))},"8IOi":function(C,F,o){var c=o("k+AJ"),g=o("CuJi"),v=o("BxPU"),u=o("d+oe"),l=o("kRpC"),m=function(d,S,w){var j,T,b,x,_=d&m.F,k=d&m.G,O=d&m.S,I=d&m.P,V=d&m.B,H=k?c:O?c[S]||(c[S]={}):(c[S]||{}).prototype,G=k?g:g[S]||(g[S]={}),K=G.prototype||(G.prototype={});for(j in k&&(w=S),w)b=((T=!_&&H&&H[j]!==void 0)?H:w)[j],x=V&&T?l(b,c):I&&typeof b=="function"?l(Function.call,b):b,H&&u(H,j,b,d&m.U),G[j]!=b&&v(G,j,x),I&&K[j]!=b&&(K[j]=b)};c.core=g,m.F=1,m.G=2,m.S=4,m.P=8,m.B=16,m.W=32,m.U=64,m.R=128,C.exports=m},"8MIm":function(C,F,o){(C.exports=o("I1BE")(void 0)).push([C.i,'.video-js .vjs-big-play-button .vjs-icon-placeholder:before,.video-js .vjs-modal-dialog,.vjs-button>.vjs-icon-placeholder:before,.vjs-modal-dialog .vjs-modal-dialog-content{position:absolute;top:0;left:0;width:100%;height:100%}.video-js .vjs-big-play-button .vjs-icon-placeholder:before,.vjs-button>.vjs-icon-placeholder:before{text-align:center}@font-face{font-family:VideoJS;src:url(data:application/font-woff;charset=utf-8;base64,d09GRgABAAAAABDkAAsAAAAAG6gAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAADsAAABUIIslek9TLzIAAAFEAAAAPgAAAFZRiV3hY21hcAAAAYQAAADaAAADPv749/pnbHlmAAACYAAAC3AAABHQZg6OcWhlYWQAAA3QAAAAKwAAADYZw251aGhlYQAADfwAAAAdAAAAJA+RCLFobXR4AAAOHAAAABMAAACM744AAGxvY2EAAA4wAAAASAAAAEhF6kqubWF4cAAADngAAAAfAAAAIAE0AIFuYW1lAAAOmAAAASUAAAIK1cf1oHBvc3QAAA/AAAABJAAAAdPExYuNeJxjYGRgYOBiMGCwY2BycfMJYeDLSSzJY5BiYGGAAJA8MpsxJzM9kYEDxgPKsYBpDiBmg4gCACY7BUgAeJxjYGS7wTiBgZWBgaWQ5RkDA8MvCM0cwxDOeI6BgYmBlZkBKwhIc01hcPjI+FGJHcRdyA4RZgQRADK3CxEAAHic7dFZbsMgAEXRS0ycyZnnOeG7y+qC8pU1dHusIOXxuoxaOlwZYWQB0Aea4quIEN4E9LzKbKjzDeM6H/mua6Lmc/p8yhg0lvdYx15ZG8uOLQOGjMp3EzqmzJizYMmKNRu27Nhz4MiJMxeu3Ljz4Ekqm7T8P52G8PP3lnTOVk++Z6iN6QZzNN1F7ptuN7eGOjDUoaGODHVsuvU8MdTO9Hd5aqgzQ50b6sJQl4a6MtS1oW4MdWuoO0PdG+rBUI+GejLUs6FeDPVqqDdDvRvqw1CfhpqM9At0iFLaAAB4nJ1YDXBTVRZ+5/22TUlJ8we0pHlJm7RJf5O8F2j6EymlSPkpxaL8U2xpa3DKj0CBhc2IW4eWKSokIoLsuMqssM64f+jA4HSdWXXXscBq67IOs3FXZ1ZYWVyRFdo899yXtIBQZ90k7717zz3v3HPPOfd854YCCj9cL9dL0RQFOqCbGJnrHb5EayiKIWN8iA/hWBblo6hUWm8TtCDwE80WMJus/irwyxOdxeB0MDb14VNJHnXYoLLSl6FfCUYO9nYPTA8Epg9090LprfbBbZ2hY0UlJUXHQp3/vtWkS6EBv8+rPMq5u9692f/dNxJNiqwC1xPE9TCUgCsSdQWgE3XQD25lkG4CN2xmTcOXWBOyser6RN6KnGbKSbmQ3+d0OI1m2W8QzLLkI2sykrWAgJJEtA8vGGW/2Q+CmT3n8zS9wZwu2DCvtuZKZN3xkrLh36yCZuUomQSqGpY8t/25VfHVhw8z4ebGBtfLb0ya9PCaDc+8dGTvk2dsh6z7WzvowlXKUSWo9MJ15a3KrEP2loOr2Ojhw6iW6hf2BDdEccQvZGpaAy7YovSwq8kr7HGllxpd71rkS6G0Sf11sl9OvMK1+jwPPODxjUwkOim9CU3ix1wNjXDfmJSEn618Bs6lpWwUpU+8PCqLMY650zjq8VhCIP17NEKTx3eaLL+s5Pi6yJWaWjTHLR1jYzPSV9VF/6Ojdb/1kO3Mk3uhHC0x6gc1BjlKQ+nQFxTYdaJkZ7ySVxLBbhR1dsboNXp1tCYKW2LRaEzpYcIx2BKNxaL0ZaUnSqfFoiNhHKR/GkX6PWUSAaJelQaqZL1EpoHNsajSEyPSoJ9IjhIxTdjHLmwZvhRDOiFTY/YeQnvrVZmiTQtGncECXtFTBZLOVwwMRgoXHAkXzMzPn1nAJJ8jYSbMDaqN2waGLzNhih/bZynUBMpIWSg7VYi7DRx2m8ALkIdRCJwI6ArJx2EI8kaDWeTQKeAFk9fjl/1AvwktjQ1P7NjyMGQyfd4vjipX6M/i52D7Cq80kqlcxEcGXRr/FEcgs0u5uGgB4VWuMFfpdn2Re6Hi3PqzmxWKsz6+ae2Pn9hXXw/fqM859UiGC0oKYYILJBqJrsn1Z1E5qOs9rQCiUQRREjm8yJcbHF5cUJufX1vAHlefw0XgUoboS3ETfQlTxBC4SOtuE8VPRJTBSCQSjZCpk7Gqzu+masaZ2y7Zjehho4F3g82BNDkAHpORG4+OCS+f6JTPmtRn/PH1kch6d04sp7AQb25aQ/pqUyXeQ8vrebG8OYQdXOQ+585u0sdW9rqalzRURiJ+9F4MweRFrKUjl1GUYhH1A27WOHw5cTFSFPMo9EeUIGnQTZHIaJ7AHLaOKsOODaNF9jkBjYG2QEsQ2xjMUAx2bBEbeTBWMHwskBjngq56S/yfgkBnWBa4K9sqKtq2t1UI8S9He5XuBRbawAdatrQEAi30Aks2+LM8WeCbalVZkWNylvJ+dqJnzVb+OHlSoKW8nPCP7Rd+CcZ2DdWAGqJ2CBFOphgywFFCFBNtfAbGtNPBCwxvygHeYMZMY9ZboBqwq/pVrsbgN5tkv152ODlbMfiqwGMBgxa4Exz3QhovRIUp6acqZmQzRq0ypDXS2TPLT02YIkQETnOE445oOGxOmXAqUJNNG7XgupMjPq2ua9asrj5yY/yuKteO1Kx0YNJTufrirLe1mZnat7OL6rnUdCWenpW6I8mAnbsY8KWs1PuSovCW9A/Z25PQ24a7cNOqgmTkLmBMgh4THgc4b9k2IVv1/g/F5nGljwPLfOgHAzJzh45V/4+WenTzmMtR5Z7us2Tys909UHqrPY7KbckoxRvRHhmVc3cJGE97uml0R1S0jdULVl7EvZtDFVBF35N9cEdjpgmAiOlFZ+Dtoh93+D3zzHr8RRNZQhnCNMNbcegOvpEwZoL+06cJQ07h+th3fZ/7PVbVC6ngTAV/KoLFuO6+2KFcU651gEb5ugPSIb1D+Xp8V4+k3sEIGnw5mYe4If4k1lFYr6SCzmM2EQ8iWtmwjnBI9kTwe1TlfAmXh7H02by9fW2gsjKwtv0aaURKil4OdV7rDL1MXIFNrhdxohcZXYTnq47WisrKitaObbf5+yvkLi5J6lCNZZ+B6GC38VNBZBDidSS/+mSvh6s+srgC8pyKMvDtt+de3c9fU76ZPfuM8ud4Kv0fyP/LqfepMT/3oZxSqpZaTa1DaQYLY8TFsHYbWYsPoRhRWfL5eSSQbhUGgGC3YLbVMk6PitTFNGpAsNrC6D1VNBKgBHMejaiuRWEWGgsSDBTJjqWIl8kJLlsaLJ2tXDr6xGfT85bM2Q06a46x2HTgvdnV8z5YDy/27J4zt6x2VtkzjoYpkq36kaBr4eQSg7tyiVweWubXZugtadl58ydapfbORfKsDTuZ0OBgx4cfdjCf5tbWNITnL120fdOi1RV1C3uKGzNdwYLcMvZ3BxoPyTOCD1XvXTp7U10gWCVmTV9b3r2z0SkGWovb2hp9I89O8a2smlyaO8muMU+dRmtzp60IzAoFpjLr1n388boLyf0dRvxhsHZ0qbWqDkwqvvpkj4l0fY6EIXRi5sQSrAvsVYwXRy4qJ2EVtD1AN7a0HWth9ymvL1xc3WTUKK/TAHA/bXDVtVWfOMfuGxGZv4Ln/jVr9jc3j1yMv0tndmyt9Vq88Y9gH1wtLX3KWjot5++jWHgAoZZkQ14wGQ20Fli71UmKJAy4xKMSTGbVdybW7FDDAut9XpD5AzWrYO7zQ8qffqF8+Ynd/clrHcdyxGy3a/3+mfNnzC/cBsveTjnTvXf1o6vzOlZw7WtqtdmPK/Errz/6NNtD72zmNOZfbmYdTGHfoofqI79Oc+R2n1lrnL6pOm0Up7kwxhTW12Amm7WYkXR2qYrF2AmgmbAsxZjwy1xpg/m1Je2vrp8v/nz2xpmlBg4E9hrMU341wVpTOh/OfmGvAnra8q6uctr60ZQHV3Q+WMQJykMj8ZsWn2QBOmmHMB+m5pDIpTFonYigiaKAhGEiAHF7EliVnQkjoLVIMPtJpBKHYd3A8GYH9jJzrWwmHx5Qjp7vDAX0suGRym1vtm/9W1/HyR8vczfMs6Sk8DSv855/5dlX9oQq52hT8syyp2rx5Id17IAyAM3wIjQPMOHzytEB64q6D5zT91yNbnx3V/nqnd017S9Y0605k3izoXLpsxde2n38yoOV9s1LcjwzNjbdX6asnBVaBj/6/DwKwPkpcqbDG7BnsXoSqWnUAmottYF6jMSdVyYZh3zVXCjwTiwwHH6sGuRiEHQGzuRX6whZkp123oy1BWE2mEfJ/tvIRtM4ZM5bDXiMsPMaAKOTyc5uL57rqyyc5y5JE5pm1i2S2iUX0CcaQ6lC6Zog7JqSqZmYlosl2K6pwNA84zRnQW6SaALYZQGW5lhCtU/W34N6o+bKfZ8cf3/Cl/+iTX3wBzpOY4mRkeNf3rptycGSshQWgGbYt5jFc2e0+DglIrwl6DVWQ7BuwaJ3Xk1J4VL5urnLl/Wf+gHU/hZoZdKNym6lG+I34FaNeZKcSpJIo2IeCVvpdsDGfKvzJnAwmeD37Ow65ZWwSowpgwX5T69s/rB55dP5BcpgDKFV8p7q2sn/1uc93bVzT/w6UrCqDTWvfCq/oCD/qZXNoUj8BL5Kp6GU017frfNXkAtiiyf/SOCEeLqnd8R/Ql9GlCRfctS6k5chvIBuQ1zCCjoCHL2DHNHIXxMJ3kQeO8lbsUXONeSfA5EjcG6/E+KdhN4bP04vBhdi883+BFBzQbxFbvZzQeY9LNBZc0FNfn5NwfDn6rCTnTw6R8o+gfpf5hCom33cRuiTlss3KHmZjD+BPN+5gXuA2ziS/Q73mLxUkpbKN/eqwz5uK0X9F3h2d1V4nGNgZGBgAOJd776+iue3+crAzc4AAje5Bfcg0xz9YHEOBiYQBQA8FQlFAHicY2BkYGBnAAGOPgaG//85+hkYGVCBMgBGGwNYAAAAeJxjYGBgYB8EmKOPgQEAQ04BfgAAAAAAAA4AaAB+AMwA4AECAUIBbAGYAcICGAJYArQC4AMwA7AD3gQwBJYE3AUkBWYFigYgBmYGtAbqB1gIEghYCG4IhAi2COh4nGNgZGBgUGYoZWBnAAEmIOYCQgaG/2A+AwAYCQG2AHicXZBNaoNAGIZfE5PQCKFQ2lUps2oXBfOzzAESyDKBQJdGR2NQR3QSSE/QE/QEPUUPUHqsvsrXjTMw83zPvPMNCuAWP3DQDAejdm1GjzwS7pMmwi75XngAD4/CQ/oX4TFe4Qt7uMMbOzjuDc0EmXCP/C7cJ38Iu+RP4QEe8CU8pP8WHmOPX2EPz87TPo202ey2OjlnQSXV/6arOjWFmvszMWtd6CqwOlKHq6ovycLaWMWVydXKFFZnmVFlZU46tP7R2nI5ncbi/dDkfDtFBA2DDXbYkhKc+V0Bqs5Zt9JM1HQGBRTm/EezTmZNKtpcAMs9Yu6AK9caF76zoLWIWcfMGOSkVduvSWechqZsz040Ib2PY3urxBJTzriT95lipz+TN1fmAAAAeJxtkMl2wjAMRfOAhABlKm2h80C3+ajgCKKDY6cegP59TYBzukAL+z1Zsq8ctaJTTKPrsUQLbXQQI0EXKXroY4AbDDHCGBNMcYsZ7nCPB8yxwCOe8IwXvOIN7/jAJ76wxHfUqWX+OzgumWAjJMV17i0Ndlr6irLKO+qftdT7i6y4uFSUvCknay+lFYZIZaQcmfH/xIFdYn98bqhra1aKTM/6lWMnyaYirx1rFUQZFBkb2zJUtoXeJCeg0WnLtHeSFc3OtrnozNwqi0TkSpBMDB1nSde5oJXW23hTS2/T0LilglXX7dmFVxLnq5U0vYATHFk3zX3BOisoQHNDFDeZnqKDy9hRNawN7Vh727hFzcJ5c8TILrKZfH7tIPxAFP0BpLeJPA==) format("woff");font-weight:400;font-style:normal}.video-js .vjs-big-play-button .vjs-icon-placeholder:before,.video-js .vjs-play-control .vjs-icon-placeholder,.vjs-icon-play{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-big-play-button .vjs-icon-placeholder:before,.video-js .vjs-play-control .vjs-icon-placeholder:before,.vjs-icon-play:before{content:"\\F101"}.vjs-icon-play-circle{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-play-circle:before{content:"\\F102"}.video-js .vjs-play-control.vjs-playing .vjs-icon-placeholder,.vjs-icon-pause{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-play-control.vjs-playing .vjs-icon-placeholder:before,.vjs-icon-pause:before{content:"\\F103"}.video-js .vjs-mute-control.vjs-vol-0 .vjs-icon-placeholder,.vjs-icon-volume-mute{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-mute-control.vjs-vol-0 .vjs-icon-placeholder:before,.vjs-icon-volume-mute:before{content:"\\F104"}.video-js .vjs-mute-control.vjs-vol-1 .vjs-icon-placeholder,.vjs-icon-volume-low{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-mute-control.vjs-vol-1 .vjs-icon-placeholder:before,.vjs-icon-volume-low:before{content:"\\F105"}.video-js .vjs-mute-control.vjs-vol-2 .vjs-icon-placeholder,.vjs-icon-volume-mid{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-mute-control.vjs-vol-2 .vjs-icon-placeholder:before,.vjs-icon-volume-mid:before{content:"\\F106"}.video-js .vjs-mute-control .vjs-icon-placeholder,.vjs-icon-volume-high{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-mute-control .vjs-icon-placeholder:before,.vjs-icon-volume-high:before{content:"\\F107"}.video-js .vjs-fullscreen-control .vjs-icon-placeholder,.vjs-icon-fullscreen-enter{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-fullscreen-control .vjs-icon-placeholder:before,.vjs-icon-fullscreen-enter:before{content:"\\F108"}.video-js.vjs-fullscreen .vjs-fullscreen-control .vjs-icon-placeholder,.vjs-icon-fullscreen-exit{font-family:VideoJS;font-weight:400;font-style:normal}.video-js.vjs-fullscreen .vjs-fullscreen-control .vjs-icon-placeholder:before,.vjs-icon-fullscreen-exit:before{content:"\\F109"}.vjs-icon-square{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-square:before{content:"\\F10A"}.vjs-icon-spinner{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-spinner:before{content:"\\F10B"}.video-js.video-js:lang(en-AU) .vjs-subs-caps-button .vjs-icon-placeholder,.video-js.video-js:lang(en-GB) .vjs-subs-caps-button .vjs-icon-placeholder,.video-js.video-js:lang(en-IE) .vjs-subs-caps-button .vjs-icon-placeholder,.video-js.video-js:lang(en-NZ) .vjs-subs-caps-button .vjs-icon-placeholder,.video-js .vjs-subs-caps-button .vjs-icon-placeholder,.video-js .vjs-subtitles-button .vjs-icon-placeholder,.vjs-icon-subtitles{font-family:VideoJS;font-weight:400;font-style:normal}.video-js.video-js:lang(en-AU) .vjs-subs-caps-button .vjs-icon-placeholder:before,.video-js.video-js:lang(en-GB) .vjs-subs-caps-button .vjs-icon-placeholder:before,.video-js.video-js:lang(en-IE) .vjs-subs-caps-button .vjs-icon-placeholder:before,.video-js.video-js:lang(en-NZ) .vjs-subs-caps-button .vjs-icon-placeholder:before,.video-js .vjs-subs-caps-button .vjs-icon-placeholder:before,.video-js .vjs-subtitles-button .vjs-icon-placeholder:before,.vjs-icon-subtitles:before{content:"\\F10C"}.video-js .vjs-captions-button .vjs-icon-placeholder,.video-js:lang(en) .vjs-subs-caps-button .vjs-icon-placeholder,.video-js:lang(fr-CA) .vjs-subs-caps-button .vjs-icon-placeholder,.vjs-icon-captions{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-captions-button .vjs-icon-placeholder:before,.video-js:lang(en) .vjs-subs-caps-button .vjs-icon-placeholder:before,.video-js:lang(fr-CA) .vjs-subs-caps-button .vjs-icon-placeholder:before,.vjs-icon-captions:before{content:"\\F10D"}.video-js .vjs-chapters-button .vjs-icon-placeholder,.vjs-icon-chapters{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-chapters-button .vjs-icon-placeholder:before,.vjs-icon-chapters:before{content:"\\F10E"}.vjs-icon-share{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-share:before{content:"\\F10F"}.vjs-icon-cog{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-cog:before{content:"\\F110"}.video-js .vjs-play-progress,.video-js .vjs-volume-level,.vjs-icon-circle,.vjs-seek-to-live-control .vjs-icon-placeholder{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-play-progress:before,.video-js .vjs-volume-level:before,.vjs-icon-circle:before,.vjs-seek-to-live-control .vjs-icon-placeholder:before{content:"\\F111"}.vjs-icon-circle-outline{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-circle-outline:before{content:"\\F112"}.vjs-icon-circle-inner-circle{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-circle-inner-circle:before{content:"\\F113"}.vjs-icon-hd{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-hd:before{content:"\\F114"}.video-js .vjs-control.vjs-close-button .vjs-icon-placeholder,.vjs-icon-cancel{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-control.vjs-close-button .vjs-icon-placeholder:before,.vjs-icon-cancel:before{content:"\\F115"}.video-js .vjs-play-control.vjs-ended .vjs-icon-placeholder,.vjs-icon-replay{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-play-control.vjs-ended .vjs-icon-placeholder:before,.vjs-icon-replay:before{content:"\\F116"}.vjs-icon-facebook{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-facebook:before{content:"\\F117"}.vjs-icon-gplus{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-gplus:before{content:"\\F118"}.vjs-icon-linkedin{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-linkedin:before{content:"\\F119"}.vjs-icon-twitter{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-twitter:before{content:"\\F11A"}.vjs-icon-tumblr{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-tumblr:before{content:"\\F11B"}.vjs-icon-pinterest{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-pinterest:before{content:"\\F11C"}.video-js .vjs-descriptions-button .vjs-icon-placeholder,.vjs-icon-audio-description{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-descriptions-button .vjs-icon-placeholder:before,.vjs-icon-audio-description:before{content:"\\F11D"}.video-js .vjs-audio-button .vjs-icon-placeholder,.vjs-icon-audio{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-audio-button .vjs-icon-placeholder:before,.vjs-icon-audio:before{content:"\\F11E"}.vjs-icon-next-item{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-next-item:before{content:"\\F11F"}.vjs-icon-previous-item{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-previous-item:before{content:"\\F120"}.video-js .vjs-picture-in-picture-control .vjs-icon-placeholder,.vjs-icon-picture-in-picture-enter{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-picture-in-picture-control .vjs-icon-placeholder:before,.vjs-icon-picture-in-picture-enter:before{content:"\\F121"}.video-js.vjs-picture-in-picture .vjs-picture-in-picture-control .vjs-icon-placeholder,.vjs-icon-picture-in-picture-exit{font-family:VideoJS;font-weight:400;font-style:normal}.video-js.vjs-picture-in-picture .vjs-picture-in-picture-control .vjs-icon-placeholder:before,.vjs-icon-picture-in-picture-exit:before{content:"\\F122"}.video-js{display:block;vertical-align:top;box-sizing:border-box;color:#fff;background-color:#000;position:relative;padding:0;font-size:10px;line-height:1;font-weight:400;font-style:normal;font-family:Arial,Helvetica,sans-serif;word-break:normal}.video-js:-moz-full-screen{position:absolute}.video-js:-webkit-full-screen{width:100%!important;height:100%!important}.video-js[tabindex="-1"]{outline:none}.video-js *,.video-js :after,.video-js :before{box-sizing:inherit}.video-js ul{font-family:inherit;font-size:inherit;line-height:inherit;list-style-position:outside;margin:0}.video-js.vjs-4-3,.video-js.vjs-16-9,.video-js.vjs-fluid{width:100%;max-width:100%;height:0}.video-js.vjs-16-9{padding-top:56.25%}.video-js.vjs-4-3{padding-top:75%}.video-js.vjs-fill,.video-js .vjs-tech{width:100%;height:100%}.video-js .vjs-tech{position:absolute;top:0;left:0}body.vjs-full-window{padding:0;margin:0;height:100%}.vjs-full-window .video-js.vjs-fullscreen{position:fixed;overflow:hidden;z-index:1000;left:0;top:0;bottom:0;right:0}.video-js.vjs-fullscreen{width:100%!important;height:100%!important;padding-top:0!important}.video-js.vjs-fullscreen.vjs-user-inactive{cursor:none}.vjs-hidden{display:none!important}.vjs-disabled{opacity:.5;cursor:default}.video-js .vjs-offscreen{height:1px;left:-9999px;position:absolute;top:0;width:1px}.vjs-lock-showing{display:block!important;opacity:1;visibility:visible}.vjs-no-js{padding:20px;color:#fff;background-color:#000;font-size:18px;font-family:Arial,Helvetica,sans-serif;text-align:center;width:300px;height:150px;margin:0 auto}.vjs-no-js a,.vjs-no-js a:visited{color:#66a8cc}.video-js .vjs-big-play-button{font-size:3em;line-height:1.5em;height:1.63332em;width:3em;display:block;position:absolute;top:10px;left:10px;padding:0;cursor:pointer;opacity:1;border:.06666em solid #fff;background-color:#2b333f;background-color:rgba(43,51,63,.7);border-radius:.3em;transition:all .4s}.vjs-big-play-centered .vjs-big-play-button{top:50%;left:50%;margin-top:-.81666em;margin-left:-1.5em}.video-js .vjs-big-play-button:focus,.video-js:hover .vjs-big-play-button{border-color:#fff;background-color:#73859f;background-color:rgba(115,133,159,.5);transition:all 0s}.vjs-controls-disabled .vjs-big-play-button,.vjs-error .vjs-big-play-button,.vjs-has-started .vjs-big-play-button,.vjs-using-native-controls .vjs-big-play-button{display:none}.vjs-has-started.vjs-paused.vjs-show-big-play-button-on-pause .vjs-big-play-button{display:block}.video-js button{background:none;border:none;color:inherit;display:inline-block;font-size:inherit;line-height:inherit;text-transform:none;text-decoration:none;transition:none;-webkit-appearance:none;-moz-appearance:none;appearance:none}.vjs-control .vjs-button{width:100%;height:100%}.video-js .vjs-control.vjs-close-button{cursor:pointer;height:3em;position:absolute;right:0;top:.5em;z-index:2}.video-js .vjs-modal-dialog{background:rgba(0,0,0,.8);background:linear-gradient(180deg,rgba(0,0,0,.8),hsla(0,0%,100%,0));overflow:auto}.video-js .vjs-modal-dialog>*{box-sizing:border-box}.vjs-modal-dialog .vjs-modal-dialog-content{font-size:1.2em;line-height:1.5;padding:20px 24px;z-index:1}.vjs-menu-button{cursor:pointer}.vjs-menu-button.vjs-disabled{cursor:default}.vjs-workinghover .vjs-menu-button.vjs-disabled:hover .vjs-menu{display:none}.vjs-menu .vjs-menu-content{display:block;padding:0;margin:0;font-family:Arial,Helvetica,sans-serif;overflow:auto}.vjs-menu .vjs-menu-content>*{box-sizing:border-box}.vjs-scrubbing .vjs-control.vjs-menu-button:hover .vjs-menu{display:none}.vjs-menu li{list-style:none;margin:0;padding:.2em 0;line-height:1.4em;font-size:1.2em;text-align:center;text-transform:lowercase}.js-focus-visible .vjs-menu li.vjs-menu-item:hover,.vjs-menu li.vjs-menu-item:focus,.vjs-menu li.vjs-menu-item:hover{background-color:#73859f;background-color:rgba(115,133,159,.5)}.js-focus-visible .vjs-menu li.vjs-selected:hover,.vjs-menu li.vjs-selected,.vjs-menu li.vjs-selected:focus,.vjs-menu li.vjs-selected:hover{background-color:#fff;color:#2b333f}.vjs-menu li.vjs-menu-title{text-align:center;text-transform:uppercase;font-size:1em;line-height:2em;padding:0;margin:0 0 .3em;font-weight:700;cursor:default}.vjs-menu-button-popup .vjs-menu{display:none;position:absolute;bottom:0;width:10em;left:-3em;height:0;margin-bottom:1.5em;border-top-color:rgba(43,51,63,.7)}.vjs-menu-button-popup .vjs-menu .vjs-menu-content{background-color:#2b333f;background-color:rgba(43,51,63,.7);position:absolute;width:100%;bottom:1.5em;max-height:15em}.vjs-layout-tiny .vjs-menu-button-popup .vjs-menu .vjs-menu-content,.vjs-layout-x-small .vjs-menu-button-popup .vjs-menu .vjs-menu-content{max-height:5em}.vjs-layout-small .vjs-menu-button-popup .vjs-menu .vjs-menu-content{max-height:10em}.vjs-layout-medium .vjs-menu-button-popup .vjs-menu .vjs-menu-content{max-height:14em}.vjs-layout-huge .vjs-menu-button-popup .vjs-menu .vjs-menu-content,.vjs-layout-large .vjs-menu-button-popup .vjs-menu .vjs-menu-content,.vjs-layout-x-large .vjs-menu-button-popup .vjs-menu .vjs-menu-content{max-height:25em}.vjs-menu-button-popup .vjs-menu.vjs-lock-showing,.vjs-workinghover .vjs-menu-button-popup.vjs-hover .vjs-menu{display:block}.video-js .vjs-menu-button-inline{transition:all .4s;overflow:hidden}.video-js .vjs-menu-button-inline:before{width:2.222222222em}.video-js .vjs-menu-button-inline.vjs-slider-active,.video-js .vjs-menu-button-inline:focus,.video-js .vjs-menu-button-inline:hover,.video-js.vjs-no-flex .vjs-menu-button-inline{width:12em}.vjs-menu-button-inline .vjs-menu{opacity:0;height:100%;width:auto;position:absolute;left:4em;top:0;padding:0;margin:0;transition:all .4s}.vjs-menu-button-inline.vjs-slider-active .vjs-menu,.vjs-menu-button-inline:focus .vjs-menu,.vjs-menu-button-inline:hover .vjs-menu{display:block;opacity:1}.vjs-no-flex .vjs-menu-button-inline .vjs-menu{display:block;opacity:1;position:relative;width:auto}.vjs-no-flex .vjs-menu-button-inline.vjs-slider-active .vjs-menu,.vjs-no-flex .vjs-menu-button-inline:focus .vjs-menu,.vjs-no-flex .vjs-menu-button-inline:hover .vjs-menu{width:auto}.vjs-menu-button-inline .vjs-menu-content{width:auto;height:100%;margin:0;overflow:hidden}.video-js .vjs-control-bar{display:none;width:100%;position:absolute;bottom:0;left:0;right:0;height:3em;background-color:#2b333f;background-color:rgba(43,51,63,.7)}.vjs-has-started .vjs-control-bar{display:flex;visibility:visible;opacity:1;transition:visibility .1s,opacity .1s}.vjs-has-started.vjs-user-inactive.vjs-playing .vjs-control-bar{visibility:visible;opacity:0;transition:visibility 1s,opacity 1s}.vjs-controls-disabled .vjs-control-bar,.vjs-error .vjs-control-bar,.vjs-using-native-controls .vjs-control-bar{display:none!important}.vjs-audio.vjs-has-started.vjs-user-inactive.vjs-playing .vjs-control-bar{opacity:1;visibility:visible}.vjs-has-started.vjs-no-flex .vjs-control-bar{display:table}.video-js .vjs-control{position:relative;text-align:center;margin:0;padding:0;height:100%;width:4em;flex:none}.vjs-button>.vjs-icon-placeholder:before{font-size:1.8em;line-height:1.67}.video-js .vjs-control:focus,.video-js .vjs-control:focus:before,.video-js .vjs-control:hover:before{text-shadow:0 0 1em #fff}.video-js .vjs-control-text{border:0;clip:rect(0 0 0 0);height:1px;overflow:hidden;padding:0;position:absolute;width:1px}.vjs-no-flex .vjs-control{display:table-cell;vertical-align:middle}.video-js .vjs-custom-control-spacer{display:none}.video-js .vjs-progress-control{cursor:pointer;flex:auto;display:flex;align-items:center;min-width:4em;touch-action:none}.video-js .vjs-progress-control.disabled{cursor:default}.vjs-live .vjs-progress-control{display:none}.vjs-liveui .vjs-progress-control{display:flex;align-items:center}.vjs-no-flex .vjs-progress-control{width:auto}.video-js .vjs-progress-holder{flex:auto;transition:all .2s;height:.3em}.video-js .vjs-progress-control .vjs-progress-holder{margin:0 10px}.video-js .vjs-progress-control:hover .vjs-progress-holder{font-size:1.6666666667em}.video-js .vjs-progress-control:hover .vjs-progress-holder.disabled{font-size:1em}.video-js .vjs-progress-holder .vjs-load-progress,.video-js .vjs-progress-holder .vjs-load-progress div,.video-js .vjs-progress-holder .vjs-play-progress{position:absolute;display:block;height:100%;margin:0;padding:0;width:0}.video-js .vjs-play-progress{background-color:#fff}.video-js .vjs-play-progress:before{font-size:.9em;position:absolute;right:-.5em;top:-.3333333333em;z-index:1}.video-js .vjs-load-progress{background:rgba(115,133,159,.5)}.video-js .vjs-load-progress div{background:rgba(115,133,159,.75)}.video-js .vjs-time-tooltip{background-color:#fff;background-color:hsla(0,0%,100%,.8);border-radius:.3em;color:#000;float:right;font-family:Arial,Helvetica,sans-serif;font-size:1em;padding:6px 8px 8px;pointer-events:none;position:absolute;top:-3.4em;visibility:hidden;z-index:1}.video-js .vjs-progress-holder:focus .vjs-time-tooltip{display:none}.video-js .vjs-progress-control:hover .vjs-progress-holder:focus .vjs-time-tooltip,.video-js .vjs-progress-control:hover .vjs-time-tooltip{display:block;font-size:.6em;visibility:visible}.video-js .vjs-progress-control.disabled:hover .vjs-time-tooltip{font-size:1em}.video-js .vjs-progress-control .vjs-mouse-display{display:none;position:absolute;width:1px;height:100%;background-color:#000;z-index:1}.vjs-no-flex .vjs-progress-control .vjs-mouse-display{z-index:0}.video-js .vjs-progress-control:hover .vjs-mouse-display{display:block}.video-js.vjs-user-inactive .vjs-progress-control .vjs-mouse-display{visibility:hidden;opacity:0;transition:visibility 1s,opacity 1s}.video-js.vjs-user-inactive.vjs-no-flex .vjs-progress-control .vjs-mouse-display{display:none}.vjs-mouse-display .vjs-time-tooltip{color:#fff;background-color:#000;background-color:rgba(0,0,0,.8)}.video-js .vjs-slider{position:relative;cursor:pointer;padding:0;margin:0 .45em;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-color:#73859f;background-color:rgba(115,133,159,.5)}.video-js .vjs-slider.disabled{cursor:default}.video-js .vjs-slider:focus{text-shadow:0 0 1em #fff;box-shadow:0 0 1em #fff}.video-js .vjs-mute-control{cursor:pointer;flex:none}.video-js .vjs-volume-control{cursor:pointer;margin-right:1em;display:flex}.video-js .vjs-volume-control.vjs-volume-horizontal{width:5em}.video-js .vjs-volume-panel .vjs-volume-control{visibility:visible;opacity:0;width:1px;height:1px;margin-left:-1px}.video-js .vjs-volume-panel{transition:width 1s}.video-js .vjs-volume-panel.vjs-hover .vjs-mute-control~.vjs-volume-control,.video-js .vjs-volume-panel.vjs-hover .vjs-volume-control,.video-js .vjs-volume-panel .vjs-volume-control.vjs-slider-active,.video-js .vjs-volume-panel .vjs-volume-control:active,.video-js .vjs-volume-panel:active .vjs-volume-control,.video-js .vjs-volume-panel:focus .vjs-volume-control{visibility:visible;opacity:1;position:relative;transition:visibility .1s,opacity .1s,height .1s,width .1s,left 0s,top 0s}.video-js .vjs-volume-panel.vjs-hover .vjs-mute-control~.vjs-volume-control.vjs-volume-horizontal,.video-js .vjs-volume-panel.vjs-hover .vjs-volume-control.vjs-volume-horizontal,.video-js .vjs-volume-panel .vjs-volume-control.vjs-slider-active.vjs-volume-horizontal,.video-js .vjs-volume-panel .vjs-volume-control:active.vjs-volume-horizontal,.video-js .vjs-volume-panel:active .vjs-volume-control.vjs-volume-horizontal,.video-js .vjs-volume-panel:focus .vjs-volume-control.vjs-volume-horizontal{width:5em;height:3em}.video-js .vjs-volume-panel.vjs-hover .vjs-mute-control~.vjs-volume-control.vjs-volume-vertical,.video-js .vjs-volume-panel.vjs-hover .vjs-volume-control.vjs-volume-vertical,.video-js .vjs-volume-panel .vjs-volume-control.vjs-slider-active.vjs-volume-vertical,.video-js .vjs-volume-panel .vjs-volume-control:active.vjs-volume-vertical,.video-js .vjs-volume-panel:active .vjs-volume-control.vjs-volume-vertical,.video-js .vjs-volume-panel:focus .vjs-volume-control.vjs-volume-vertical{left:-3.5em;transition:left 0s}.video-js .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-hover,.video-js .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-slider-active,.video-js .vjs-volume-panel.vjs-volume-panel-horizontal:active{width:9em;transition:width .1s}.video-js .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-mute-toggle-only{width:4em}.video-js .vjs-volume-panel .vjs-volume-control.vjs-volume-vertical{height:8em;width:3em;left:-3000em;transition:visibility 1s,opacity 1s,height 1s 1s,width 1s 1s,left 1s 1s,top 1s 1s}.video-js .vjs-volume-panel .vjs-volume-control.vjs-volume-horizontal{transition:visibility 1s,opacity 1s,height 1s 1s,width 1s,left 1s 1s,top 1s 1s}.video-js.vjs-no-flex .vjs-volume-panel .vjs-volume-control.vjs-volume-horizontal{width:5em;height:3em;visibility:visible;opacity:1;position:relative;transition:none}.video-js.vjs-no-flex .vjs-volume-control.vjs-volume-vertical,.video-js.vjs-no-flex .vjs-volume-panel .vjs-volume-control.vjs-volume-vertical{position:absolute;bottom:3em;left:.5em}.video-js .vjs-volume-panel{display:flex}.video-js .vjs-volume-bar{margin:1.35em .45em}.vjs-volume-bar.vjs-slider-horizontal{width:5em;height:.3em}.vjs-volume-bar.vjs-slider-vertical{width:.3em;height:5em;margin:1.35em auto}.video-js .vjs-volume-level{position:absolute;bottom:0;left:0;background-color:#fff}.video-js .vjs-volume-level:before{position:absolute;font-size:.9em}.vjs-slider-vertical .vjs-volume-level{width:.3em}.vjs-slider-vertical .vjs-volume-level:before{top:-.5em;left:-.3em}.vjs-slider-horizontal .vjs-volume-level{height:.3em}.vjs-slider-horizontal .vjs-volume-level:before{top:-.3em;right:-.5em}.video-js .vjs-volume-panel.vjs-volume-panel-vertical{width:4em}.vjs-volume-bar.vjs-slider-vertical .vjs-volume-level{height:100%}.vjs-volume-bar.vjs-slider-horizontal .vjs-volume-level{width:100%}.video-js .vjs-volume-vertical{width:3em;height:8em;bottom:8em;background-color:#2b333f;background-color:rgba(43,51,63,.7)}.video-js .vjs-volume-horizontal .vjs-menu{left:-2em}.vjs-poster{display:inline-block;vertical-align:middle;background-repeat:no-repeat;background-position:50% 50%;background-size:contain;background-color:#000;cursor:pointer;margin:0;padding:0;position:absolute;top:0;right:0;bottom:0;left:0;height:100%}.vjs-has-started .vjs-poster{display:none}.vjs-audio.vjs-has-started .vjs-poster{display:block}.vjs-using-native-controls .vjs-poster{display:none}.video-js .vjs-live-control{display:flex;align-items:flex-start;flex:auto;font-size:1em;line-height:3em}.vjs-no-flex .vjs-live-control{display:table-cell;width:auto;text-align:left}.video-js.vjs-liveui .vjs-live-control,.video-js:not(.vjs-live) .vjs-live-control{display:none}.video-js .vjs-seek-to-live-control{cursor:pointer;flex:none;display:inline-flex;height:100%;padding-left:.5em;padding-right:.5em;font-size:1em;line-height:3em;width:auto;min-width:4em}.vjs-no-flex .vjs-seek-to-live-control{display:table-cell;width:auto;text-align:left}.video-js.vjs-live:not(.vjs-liveui) .vjs-seek-to-live-control,.video-js:not(.vjs-live) .vjs-seek-to-live-control{display:none}.vjs-seek-to-live-control.vjs-control.vjs-at-live-edge{cursor:auto}.vjs-seek-to-live-control .vjs-icon-placeholder{margin-right:.5em;color:#888}.vjs-seek-to-live-control.vjs-control.vjs-at-live-edge .vjs-icon-placeholder{color:red}.video-js .vjs-time-control{flex:none;font-size:1em;line-height:3em;min-width:2em;width:auto;padding-left:1em;padding-right:1em}.video-js .vjs-current-time,.video-js .vjs-duration,.vjs-live .vjs-time-control,.vjs-no-flex .vjs-current-time,.vjs-no-flex .vjs-duration{display:none}.vjs-time-divider{display:none;line-height:3em}.vjs-live .vjs-time-divider{display:none}.video-js .vjs-play-control{cursor:pointer}.video-js .vjs-play-control .vjs-icon-placeholder{flex:none}.vjs-text-track-display{position:absolute;bottom:3em;left:0;right:0;top:0;pointer-events:none}.video-js.vjs-user-inactive.vjs-playing .vjs-text-track-display{bottom:1em}.video-js .vjs-text-track{font-size:1.4em;text-align:center;margin-bottom:.1em}.vjs-subtitles{color:#fff}.vjs-captions{color:#fc6}.vjs-tt-cue{display:block}video::-webkit-media-text-track-display{transform:translateY(-3em)}.video-js.vjs-user-inactive.vjs-playing video::-webkit-media-text-track-display{transform:translateY(-1.5em)}.video-js .vjs-fullscreen-control,.video-js .vjs-picture-in-picture-control{cursor:pointer;flex:none}.vjs-playback-rate .vjs-playback-rate-value,.vjs-playback-rate>.vjs-menu-button{position:absolute;top:0;left:0;width:100%;height:100%}.vjs-playback-rate .vjs-playback-rate-value{pointer-events:none;font-size:1.5em;line-height:2;text-align:center}.vjs-playback-rate .vjs-menu{width:4em;left:0}.vjs-error .vjs-error-display .vjs-modal-dialog-content{font-size:1.4em;text-align:center}.vjs-error .vjs-error-display:before{color:#fff;content:"X";font-family:Arial,Helvetica,sans-serif;font-size:4em;left:0;line-height:1;margin-top:-.5em;position:absolute;text-shadow:.05em .05em .1em #000;text-align:center;top:50%;vertical-align:middle;width:100%}.vjs-loading-spinner{display:none;position:absolute;top:50%;left:50%;margin:-25px 0 0 -25px;opacity:.85;text-align:left;border:6px solid rgba(43,51,63,.7);box-sizing:border-box;background-clip:padding-box;width:50px;height:50px;border-radius:25px;visibility:hidden}.vjs-seeking .vjs-loading-spinner,.vjs-waiting .vjs-loading-spinner{display:block;-webkit-animation:vjs-spinner-show 0s linear .3s forwards;animation:vjs-spinner-show 0s linear .3s forwards}.vjs-loading-spinner:after,.vjs-loading-spinner:before{content:"";position:absolute;margin:-6px;box-sizing:inherit;width:inherit;height:inherit;border-radius:inherit;opacity:1;border:inherit;border-color:transparent;border-top-color:#fff}.vjs-seeking .vjs-loading-spinner:after,.vjs-seeking .vjs-loading-spinner:before,.vjs-waiting .vjs-loading-spinner:after,.vjs-waiting .vjs-loading-spinner:before{-webkit-animation:vjs-spinner-spin 1.1s cubic-bezier(.6,.2,0,.8) infinite,vjs-spinner-fade 1.1s linear infinite;animation:vjs-spinner-spin 1.1s cubic-bezier(.6,.2,0,.8) infinite,vjs-spinner-fade 1.1s linear infinite}.vjs-seeking .vjs-loading-spinner:before,.vjs-waiting .vjs-loading-spinner:before{border-top-color:#fff}.vjs-seeking .vjs-loading-spinner:after,.vjs-waiting .vjs-loading-spinner:after{border-top-color:#fff;-webkit-animation-delay:.44s;animation-delay:.44s}@keyframes vjs-spinner-show{to{visibility:visible}}@-webkit-keyframes vjs-spinner-show{to{visibility:visible}}@keyframes vjs-spinner-spin{to{transform:rotate(1turn)}}@-webkit-keyframes vjs-spinner-spin{to{-webkit-transform:rotate(1turn)}}@keyframes vjs-spinner-fade{0%{border-top-color:#73859f}20%{border-top-color:#73859f}35%{border-top-color:#fff}60%{border-top-color:#73859f}to{border-top-color:#73859f}}@-webkit-keyframes vjs-spinner-fade{0%{border-top-color:#73859f}20%{border-top-color:#73859f}35%{border-top-color:#fff}60%{border-top-color:#73859f}to{border-top-color:#73859f}}.vjs-chapters-button .vjs-menu ul{width:24em}.video-js .vjs-subs-caps-button+.vjs-menu .vjs-captions-menu-item .vjs-menu-item-text .vjs-icon-placeholder{vertical-align:middle;display:inline-block;margin-bottom:-.1em}.video-js .vjs-subs-caps-button+.vjs-menu .vjs-captions-menu-item .vjs-menu-item-text .vjs-icon-placeholder:before{font-family:VideoJS;content:"\\F10D";font-size:1.5em;line-height:inherit}.video-js .vjs-audio-button+.vjs-menu .vjs-main-desc-menu-item .vjs-menu-item-text .vjs-icon-placeholder{vertical-align:middle;display:inline-block;margin-bottom:-.1em}.video-js .vjs-audio-button+.vjs-menu .vjs-main-desc-menu-item .vjs-menu-item-text .vjs-icon-placeholder:before{font-family:VideoJS;content:" \\F11D";font-size:1.5em;line-height:inherit}.video-js:not(.vjs-fullscreen).vjs-layout-small .vjs-audio-button,.video-js:not(.vjs-fullscreen).vjs-layout-small .vjs-captions-button,.video-js:not(.vjs-fullscreen).vjs-layout-small .vjs-chapters-button,.video-js:not(.vjs-fullscreen).vjs-layout-small .vjs-current-time,.video-js:not(.vjs-fullscreen).vjs-layout-small .vjs-descriptions-button,.video-js:not(.vjs-fullscreen).vjs-layout-small .vjs-duration,.video-js:not(.vjs-fullscreen).vjs-layout-small .vjs-playback-rate,.video-js:not(.vjs-fullscreen).vjs-layout-small .vjs-remaining-time,.video-js:not(.vjs-fullscreen).vjs-layout-small .vjs-subtitles-button,.video-js:not(.vjs-fullscreen).vjs-layout-small .vjs-time-divider,.video-js:not(.vjs-fullscreen).vjs-layout-small .vjs-volume-control,.video-js:not(.vjs-fullscreen).vjs-layout-tiny .vjs-audio-button,.video-js:not(.vjs-fullscreen).vjs-layout-tiny .vjs-captions-button,.video-js:not(.vjs-fullscreen).vjs-layout-tiny .vjs-chapters-button,.video-js:not(.vjs-fullscreen).vjs-layout-tiny .vjs-current-time,.video-js:not(.vjs-fullscreen).vjs-layout-tiny .vjs-descriptions-button,.video-js:not(.vjs-fullscreen).vjs-layout-tiny .vjs-duration,.video-js:not(.vjs-fullscreen).vjs-layout-tiny .vjs-playback-rate,.video-js:not(.vjs-fullscreen).vjs-layout-tiny .vjs-remaining-time,.video-js:not(.vjs-fullscreen).vjs-layout-tiny .vjs-subtitles-button,.video-js:not(.vjs-fullscreen).vjs-layout-tiny .vjs-time-divider,.video-js:not(.vjs-fullscreen).vjs-layout-tiny .vjs-volume-control,.video-js:not(.vjs-fullscreen).vjs-layout-x-small .vjs-audio-button,.video-js:not(.vjs-fullscreen).vjs-layout-x-small .vjs-captions-button,.video-js:not(.vjs-fullscreen).vjs-layout-x-small .vjs-chapters-button,.video-js:not(.vjs-fullscreen).vjs-layout-x-small .vjs-current-time,.video-js:not(.vjs-fullscreen).vjs-layout-x-small .vjs-descriptions-button,.video-js:not(.vjs-fullscreen).vjs-layout-x-small .vjs-duration,.video-js:not(.vjs-fullscreen).vjs-layout-x-small .vjs-playback-rate,.video-js:not(.vjs-fullscreen).vjs-layout-x-small .vjs-remaining-time,.video-js:not(.vjs-fullscreen).vjs-layout-x-small .vjs-subtitles-button,.video-js:not(.vjs-fullscreen).vjs-layout-x-small .vjs-time-divider,.video-js:not(.vjs-fullscreen).vjs-layout-x-small .vjs-volume-control{display:none}.video-js:not(.vjs-fullscreen).vjs-layout-small .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-slider-active,.video-js:not(.vjs-fullscreen).vjs-layout-small .vjs-volume-panel.vjs-volume-panel-horizontal:active,.video-js:not(.vjs-fullscreen).vjs-layout-small .vjs-volume-panel.vjs-volume-panel-horizontal:hover,.video-js:not(.vjs-fullscreen).vjs-layout-tiny .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-slider-active,.video-js:not(.vjs-fullscreen).vjs-layout-tiny .vjs-volume-panel.vjs-volume-panel-horizontal:active,.video-js:not(.vjs-fullscreen).vjs-layout-tiny .vjs-volume-panel.vjs-volume-panel-horizontal:hover,.video-js:not(.vjs-fullscreen).vjs-layout-x-small .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-slider-active,.video-js:not(.vjs-fullscreen).vjs-layout-x-small .vjs-volume-panel.vjs-volume-panel-horizontal:active,.video-js:not(.vjs-fullscreen).vjs-layout-x-small .vjs-volume-panel.vjs-volume-panel-horizontal:hover{width:auto}.video-js:not(.vjs-fullscreen).vjs-layout-tiny .vjs-subs-caps-button,.video-js:not(.vjs-fullscreen).vjs-layout-x-small:not(.vjs-live) .vjs-subs-caps-button,.video-js:not(.vjs-fullscreen).vjs-layout-x-small:not(.vjs-liveui) .vjs-subs-caps-button{display:none}.video-js:not(.vjs-fullscreen).vjs-layout-tiny .vjs-custom-control-spacer,.video-js:not(.vjs-fullscreen).vjs-layout-x-small.vjs-liveui .vjs-custom-control-spacer{flex:auto;display:block}.video-js:not(.vjs-fullscreen).vjs-layout-tiny.vjs-no-flex .vjs-custom-control-spacer,.video-js:not(.vjs-fullscreen).vjs-layout-x-small.vjs-liveui.vjs-no-flex .vjs-custom-control-spacer{width:auto}.video-js:not(.vjs-fullscreen).vjs-layout-tiny .vjs-progress-control,.video-js:not(.vjs-fullscreen).vjs-layout-x-small.vjs-liveui .vjs-progress-control{display:none}.vjs-modal-dialog.vjs-text-track-settings{background-color:#2b333f;background-color:rgba(43,51,63,.75);color:#fff;height:70%}.vjs-text-track-settings .vjs-modal-dialog-content{display:table}.vjs-text-track-settings .vjs-track-settings-colors,.vjs-text-track-settings .vjs-track-settings-controls,.vjs-text-track-settings .vjs-track-settings-font{display:table-cell}.vjs-text-track-settings .vjs-track-settings-controls{text-align:right;vertical-align:bottom}@supports (display:grid){.vjs-text-track-settings .vjs-modal-dialog-content{display:grid;grid-template-columns:1fr 1fr;grid-template-rows:1fr;padding:20px 24px 0}.vjs-track-settings-controls .vjs-default-button{margin-bottom:20px}.vjs-text-track-settings .vjs-track-settings-controls{grid-column:1/-1}.vjs-layout-small .vjs-text-track-settings .vjs-modal-dialog-content,.vjs-layout-tiny .vjs-text-track-settings .vjs-modal-dialog-content,.vjs-layout-x-small .vjs-text-track-settings .vjs-modal-dialog-content{grid-template-columns:1fr}}.vjs-track-setting>select{margin-right:1em;margin-bottom:.5em}.vjs-text-track-settings fieldset{margin:5px;padding:3px;border:none}.vjs-text-track-settings fieldset span{display:inline-block}.vjs-text-track-settings fieldset span>select{max-width:7.3em}.vjs-text-track-settings legend{color:#fff;margin:0 0 5px}.vjs-text-track-settings .vjs-label{position:absolute;clip:rect(1px 1px 1px 1px);clip:rect(1px,1px,1px,1px);display:block;margin:0 0 5px;padding:0;border:0;height:1px;width:1px;overflow:hidden}.vjs-track-settings-controls button:active,.vjs-track-settings-controls button:focus{outline-style:solid;outline-width:medium;background-image:linear-gradient(0deg,#fff 88%,#73859f)}.vjs-track-settings-controls button:hover{color:rgba(43,51,63,.75)}.vjs-track-settings-controls button{background-color:#fff;background-image:linear-gradient(-180deg,#fff 88%,#73859f);color:#2b333f;cursor:pointer;border-radius:2px}.vjs-track-settings-controls .vjs-default-button{margin-right:1em}@media print{.video-js>:not(.vjs-tech):not(.vjs-poster){visibility:hidden}}.vjs-resize-manager{position:absolute;top:0;left:0;width:100%;height:100%;border:none;z-index:-1000}.js-focus-visible .video-js :focus:not(.focus-visible),.video-js .vjs-menu :focus:not(:focus-visible),.video-js :focus:not(:focus-visible){outline:none;background:none}',""])},"8eWk":function(C,F,o){var c=o("LboF"),g=o("qFNJ");typeof(g=g.__esModule?g.default:g)=="string"&&(g=[[C.i,g,""]]);var v={insert:"head",singleton:!1};c(g,v),C.exports=g.locals||{}},"8oxB":function(C,F){var o,c,g=C.exports={};function v(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}function l(_){if(o===setTimeout)return setTimeout(_,0);if((o===v||!o)&&setTimeout)return o=setTimeout,setTimeout(_,0);try{return o(_,0)}catch(k){try{return o.call(null,_,0)}catch(O){return o.call(this,_,0)}}}(function(){try{o=typeof setTimeout=="function"?setTimeout:v}catch(_){o=v}try{c=typeof clearTimeout=="function"?clearTimeout:u}catch(_){c=u}})();var m,d=[],S=!1,w=-1;function j(){S&&m&&(S=!1,m.length?d=m.concat(d):w=-1,d.length&&T())}function T(){if(!S){var _=l(j);S=!0;for(var k=d.length;k;){for(m=d,d=[];++w<k;)m&&m[w].run();w=-1,k=d.length}m=null,S=!1,function(O){if(c===clearTimeout)return clearTimeout(O);if((c===u||!c)&&clearTimeout)return c=clearTimeout,clearTimeout(O);try{c(O)}catch(I){try{return c.call(null,O)}catch(V){return c.call(this,O)}}}(_)}}function b(_,k){this.fun=_,this.array=k}function x(){}g.nextTick=function(_){var k=new Array(arguments.length-1);if(arguments.length>1)for(var O=1;O<arguments.length;O++)k[O-1]=arguments[O];d.push(new b(_,k)),d.length!==1||S||l(T)},b.prototype.run=function(){this.fun.apply(null,this.array)},g.title="browser",g.browser=!0,g.env={},g.argv=[],g.version="",g.versions={},g.on=x,g.addListener=x,g.once=x,g.off=x,g.removeListener=x,g.removeAllListeners=x,g.emit=x,g.prependListener=x,g.prependOnceListener=x,g.listeners=function(_){return[]},g.binding=function(_){throw new Error("process.binding is not supported")},g.cwd=function(){return"/"},g.chdir=function(_){throw new Error("process.chdir is not supported")},g.umask=function(){return 0}},"8wjV":function(C,F,o){for(var c,g=o("k+AJ"),v=o("BxPU"),u=o("Vol4"),l=u("typed_array"),m=u("view"),d=!(!g.ArrayBuffer||!g.DataView),S=d,w=0,j="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");w<9;)(c=g[j[w++]])?(v(c.prototype,l,!0),v(c.prototype,m,!0)):S=!1;C.exports={ABV:d,CONSTR:S,TYPED:l,VIEW:m}},"94c5":function(C,F,o){"use strict";o("5oHw")("small",function(c){return function(){return c(this,"small","","")}})},"9BWX":function(C,F,o){o("Gx54")("Int16",2,function(c){return function(g,v,u){return c(this,g,v,u)}})},"9Yzx":function(C,F,o){"use strict";var c=o("6WDs")(!0);o("1RbY")(String,"String",function(g){this._t=String(g),this._i=0},function(){var g,v=this._t,u=this._i;return u>=v.length?{value:void 0,done:!0}:(g=c(v,u),this._i+=g.length,{value:g,done:!1})})},AK2K:function(C,F,o){"use strict";var c=o("8IOi"),g=o("Y3Md"),v=o("RT9V"),u="startsWith",l="".startsWith;c(c.P+c.F*o("OvvV")(u),"String",{startsWith:function(m){var d=v(this,m,u),S=g(Math.min(arguments.length>1?arguments[1]:void 0,d.length)),w=String(m);return l?l.call(d,w,S):d.slice(S,S+w.length)===w}})},AZ8a:function(C,F,o){var c=o("n+hx");C.exports=function(g,v){if(!c(g))return g;var u,l;if(v&&typeof(u=g.toString)=="function"&&!c(l=u.call(g))||typeof(u=g.valueOf)=="function"&&!c(l=u.call(g))||!v&&typeof(u=g.toString)=="function"&&!c(l=u.call(g)))return l;throw TypeError("Can't convert object to primitive value")}},Agm5:function(C,F,o){"use strict";var c=o("8IOi"),g=o("z/zB")(2);c(c.P+c.F*!o("Vcfr")([].filter,!0),"Array",{filter:function(v){return g(this,v,arguments[1])}})},Au75:function(C,F,o){"use strict";var c=o("LOhj"),g=o("n+hx"),v=o("CdvW"),u=[].slice,l={},m=function(d,S,w){if(!(S in l)){for(var j=[],T=0;T<S;T++)j[T]="a["+T+"]";l[S]=Function("F,a","return new F("+j.join(",")+")")}return l[S](d,w)};C.exports=Function.bind||function(d){var S=c(this),w=u.call(arguments,1),j=function(){var T=w.concat(u.call(arguments));return this instanceof j?m(S,T.length,T):v(S,T,d)};return g(S.prototype)&&(j.prototype=S.prototype),j}},AvcM:function(C,F,o){o("yU77")&&/./g.flags!="g"&&o("J2HX").f(RegExp.prototype,"flags",{configurable:!0,get:o("ZqwW")})},B28f:function(C,F,o){"use strict";var c=o("138g"),g=o("qHvq"),v=o("/vim");o("ntFk")("search",1,function(u,l,m,d){return[function(S){var w=u(this),j=S==null?void 0:S[l];return j!==void 0?j.call(S,w):new RegExp(S)[l](String(w))},function(S){var w=d(m,S,this);if(w.done)return w.value;var j=c(S),T=String(this),b=j.lastIndex;g(b,0)||(j.lastIndex=0);var x=v(j,T);return g(j.lastIndex,b)||(j.lastIndex=b),x===null?-1:x.index}]})},BPp8:function(C,F,o){for(var c=o("IdBN"),g=o("Wl3L"),v=o("d+oe"),u=o("k+AJ"),l=o("BxPU"),m=o("wFMk"),d=o("3iRr"),S=d("iterator"),w=d("toStringTag"),j=m.Array,T={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},b=g(T),x=0;x<b.length;x++){var _,k=b[x],O=T[k],I=u[k],V=I&&I.prototype;if(V&&(V[S]||l(V,S,j),V[w]||l(V,w,k),m[k]=j,O))for(_ in c)V[_]||v(V,_,c[_],!0)}},BjUW:function(C,F,o){var c=o("n+hx");o("CmYC")("isFrozen",function(g){return function(v){return!c(v)||!!g&&g(v)}})},Bmui:function(C,F,o){var c=o("8IOi");c(c.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},BuMk:function(C,F,o){o("Gx54")("Int32",4,function(c){return function(g,v,u){return c(this,g,v,u)}})},BxPU:function(C,F,o){var c=o("J2HX"),g=o("+zL4");C.exports=o("yU77")?function(v,u,l){return c.f(v,u,g(1,l))}:function(v,u,l){return v[u]=l,v}},C2di:function(C,F,o){"use strict";var c=o("8IOi"),g=o("aI2V"),v=o("Y3Md"),u=o("N6L2"),l=o("ZqwW"),m=RegExp.prototype,d=function(S,w){this._r=S,this._s=w};o("atpN")(d,"RegExp String",function(){var S=this._r.exec(this._s);return{value:S,done:S===null}}),c(c.P,"String",{matchAll:function(S){if(g(this),!u(S))throw TypeError(S+" is not a regexp!");var w=String(this),j="flags"in m?String(S.flags):l.call(S),T=new RegExp(S.source,~j.indexOf("g")?j:"g"+j);return T.lastIndex=v(S.lastIndex),new d(T,w)}})},C6Ke:function(C,F,o){"use strict";var c=o("Qu5u"),g=o("b8c2"),v=o("Y3Md");C.exports=function(u){for(var l=c(this),m=v(l.length),d=arguments.length,S=g(d>1?arguments[1]:void 0,m),w=d>2?arguments[2]:void 0,j=w===void 0?m:g(w,m);j>S;)l[S++]=u;return l}},C74u:function(C,F,o){"use strict";var c=o("138g"),g=o("Qu5u"),v=o("Y3Md"),u=o("m29h"),l=o("aXKq"),m=o("/vim"),d=Math.max,S=Math.min,w=Math.floor,j=/\$([$&`']|\d\d?|<[^>]*>)/g,T=/\$([$&`']|\d\d?)/g;o("ntFk")("replace",2,function(b,x,_,k){return[function(I,V){var H=b(this),G=I==null?void 0:I[x];return G!==void 0?G.call(I,H,V):_.call(String(H),I,V)},function(I,V){var H=k(_,I,this,V);if(H.done)return H.value;var G=c(I),K=String(this),et=typeof V=="function";et||(V=String(V));var ct=G.global;if(ct){var gt=G.unicode;G.lastIndex=0}for(var Mt=[];;){var Ut=m(G,K);if(Ut===null||(Mt.push(Ut),!ct))break;String(Ut[0])===""&&(G.lastIndex=l(K,v(G.lastIndex),gt))}for(var ee,Jt="",Lt=0,Zt=0;Zt<Mt.length;Zt++){Ut=Mt[Zt];for(var me=String(Ut[0]),Gt=d(S(u(Ut.index),K.length),0),U=[],ut=1;ut<Ut.length;ut++)U.push((ee=Ut[ut])===void 0?ee:String(ee));var ht=Ut.groups;if(et){var bt=[me].concat(U,Gt,K);ht!==void 0&&bt.push(ht);var Dt=String(V.apply(void 0,bt))}else Dt=O(me,K,Gt,U,ht,V);Gt>=Lt&&(Jt+=K.slice(Lt,Gt)+Dt,Lt=Gt+me.length)}return Jt+K.slice(Lt)}];function O(I,V,H,G,K,et){var ct=H+I.length,gt=G.length,Mt=T;return K!==void 0&&(K=g(K),Mt=j),_.call(et,Mt,function(Ut,ee){var Jt;switch(ee.charAt(0)){case"$":return"$";case"&":return I;case"`":return V.slice(0,H);case"'":return V.slice(ct);case"<":Jt=K[ee.slice(1,-1)];break;default:var Lt=+ee;if(Lt===0)return Ut;if(Lt>gt){var Zt=w(Lt/10);return Zt===0?Ut:Zt<=gt?G[Zt-1]===void 0?ee.charAt(1):G[Zt-1]+ee.charAt(1):Ut}Jt=G[Lt-1]}return Jt===void 0?"":Jt})}})},CCGS:function(C,F,o){"use strict";var c=o("8IOi"),g=o("LOhj"),v=o("Qu5u"),u=o("+TcE"),l=[].sort,m=[1,2,3];c(c.P+c.F*(u(function(){m.sort(void 0)})||!u(function(){m.sort(null)})||!o("Vcfr")(l)),"Array",{sort:function(d){return d===void 0?l.call(v(this)):l.call(v(this),g(d))}})},CEB3:function(C,F,o){o("Gx54")("Uint32",4,function(c){return function(g,v,u){return c(this,g,v,u)}})},CFo0:function(C,F,o){var c=o("8IOi");c(c.S,"Math",{clamp:function(g,v,u){return Math.min(u,Math.max(v,g))}})},CL8V:function(C,F,o){"use strict";o("5oHw")("link",function(c){return function(g){return c(this,"a","href",g)}})},CdvW:function(C,F){C.exports=function(o,c,g){var v=g===void 0;switch(c.length){case 0:return v?o():o.call(g);case 1:return v?o(c[0]):o.call(g,c[0]);case 2:return v?o(c[0],c[1]):o.call(g,c[0],c[1]);case 3:return v?o(c[0],c[1],c[2]):o.call(g,c[0],c[1],c[2]);case 4:return v?o(c[0],c[1],c[2],c[3]):o.call(g,c[0],c[1],c[2],c[3])}return o.apply(g,c)}},CkjT:function(C,F,o){var c=o("gyzL");C.exports=function(g,v){return new(c(g))(v)}},CmYC:function(C,F,o){var c=o("8IOi"),g=o("CuJi"),v=o("+TcE");C.exports=function(u,l){var m=(g.Object||{})[u]||Object[u],d={};d[u]=l(m),c(c.S+c.F*v(function(){m(1)}),"Object",d)}},CuJi:function(C,F){var o=C.exports={version:"2.6.5"};typeof __e=="number"&&(__e=o)},DbUx:function(C,F,o){var c=o("8IOi"),g=o("k+AJ").isFinite;c(c.S,"Number",{isFinite:function(v){return typeof v=="number"&&g(v)}})},DwDk:function(C,F,o){var c=o("8IOi");c(c.S,"Math",{iaddh:function(g,v,u,l){var m=g>>>0,d=u>>>0;return(v>>>0)+(l>>>0)+((m&d|(m|d)&~(m+d>>>0))>>>31)|0}})},EN0g:function(C,F){F.f=Object.getOwnPropertySymbols},EUev:function(C,F,o){var c=o("138g"),g=o("LOhj"),v=o("3iRr")("species");C.exports=function(u,l){var m,d=c(u).constructor;return d===void 0||(m=c(d)[v])==null?l:g(m)}},EdrQ:function(C,F,o){var c=o("8IOi"),g=Math.imul;c(c.S+c.F*o("+TcE")(function(){return g(4294967295,5)!=-5||g.length!=2}),"Math",{imul:function(v,u){var l=65535,m=+v,d=+u,S=l&m,w=l&d;return 0|S*w+((l&m>>>16)*w+S*(l&d>>>16)<<16>>>0)}})},"EeL+":function(C,F,o){var c=o("n+hx"),g=o("R1kZ").set;C.exports=function(v,u,l){var m,d=u.constructor;return d!==l&&typeof d=="function"&&(m=d.prototype)!==l.prototype&&c(m)&&g&&g(v,m),v}},EpbX:function(C,F,o){var c=o("8IOi");c(c.S,"Math",{log10:function(g){return Math.log(g)*Math.LOG10E}})},FMkX:function(C,F,o){"use strict";var c=o("8IOi"),g=o("k+AJ"),v=o("CuJi"),u=o("vejK")(),l=o("3iRr")("observable"),m=o("LOhj"),d=o("138g"),S=o("kopD"),w=o("xmgo"),j=o("BxPU"),T=o("j8TA"),b=T.RETURN,x=function(G){return G==null?void 0:m(G)},_=function(G){var K=G._c;K&&(G._c=void 0,K())},k=function(G){return G._o===void 0},O=function(G){k(G)||(G._o=void 0,_(G))},I=function(G,K){d(G),this._c=void 0,this._o=G,G=new V(this);try{var et=K(G),ct=et;et!=null&&(typeof et.unsubscribe=="function"?et=function(){ct.unsubscribe()}:m(et),this._c=et)}catch(gt){return void G.error(gt)}k(this)&&_(this)};I.prototype=w({},{unsubscribe:function(){O(this)}});var V=function(G){this._s=G};V.prototype=w({},{next:function(G){var K=this._s;if(!k(K)){var et=K._o;try{var ct=x(et.next);if(ct)return ct.call(et,G)}catch(gt){try{O(K)}finally{throw gt}}}},error:function(G){var K=this._s;if(k(K))throw G;var et=K._o;K._o=void 0;try{var ct=x(et.error);if(!ct)throw G;G=ct.call(et,G)}catch(gt){try{_(K)}finally{throw gt}}return _(K),G},complete:function(G){var K=this._s;if(!k(K)){var et=K._o;K._o=void 0;try{var ct=x(et.complete);G=ct?ct.call(et,G):void 0}catch(gt){try{_(K)}finally{throw gt}}return _(K),G}}});var H=function(G){S(this,H,"Observable","_f")._f=m(G)};w(H.prototype,{subscribe:function(G){return new I(G,this._f)},forEach:function(G){var K=this;return new(v.Promise||g.Promise)(function(et,ct){m(G);var gt=K.subscribe({next:function(Mt){try{return G(Mt)}catch(Ut){ct(Ut),gt.unsubscribe()}},error:ct,complete:et})})}}),w(H,{from:function(G){var K=typeof this=="function"?this:H,et=x(d(G)[l]);if(et){var ct=d(et.call(G));return ct.constructor===K?ct:new K(function(gt){return ct.subscribe(gt)})}return new K(function(gt){var Mt=!1;return u(function(){if(!Mt){try{if(T(G,!1,function(Ut){if(gt.next(Ut),Mt)return b})===b)return}catch(Ut){if(Mt)throw Ut;return void gt.error(Ut)}gt.complete()}}),function(){Mt=!0}})},of:function(){for(var G=0,K=arguments.length,et=new Array(K);G<K;)et[G]=arguments[G++];return new(typeof this=="function"?this:H)(function(ct){var gt=!1;return u(function(){if(!gt){for(var Mt=0;Mt<et.length;++Mt)if(ct.next(et[Mt]),gt)return;ct.complete()}}),function(){gt=!0}})}}),j(H.prototype,l,function(){return this}),c(c.G,{Observable:H}),o("Oi8Z")("Observable")},FeNi:function(C,F,o){var c=o("HGrt"),g=o("138g"),v=c.has,u=c.key;c.exp({hasOwnMetadata:function(l,m){return v(l,g(m),arguments.length<3?void 0:u(arguments[2]))}})},Fnpj:function(C,F,o){o("+Uj0")("Set")},G1Bn:function(C,F,o){var c=o("8IOi");c(c.S,"Math",{trunc:function(g){return(g>0?Math.floor:Math.ceil)(g)}})},G966:function(C,F,o){"use strict";var c=o("q27k"),g=o("eYp2"),v="Map";C.exports=o("0WhE")(v,function(u){return function(){return u(this,arguments.length>0?arguments[0]:void 0)}},{get:function(u){var l=c.getEntry(g(this,v),u);return l&&l.v},set:function(u,l){return c.def(g(this,v),u===0?0:u,l)}},c,!0)},GPGB:function(C,F,o){var c=o("8IOi"),g=o("hTk/");c(c.S+c.F*(Number.parseFloat!=g),"Number",{parseFloat:g})},GvTA:function(C,F,o){var c=o("Y3Md"),g=o("YBJj"),v=o("aI2V");C.exports=function(u,l,m,d){var S=String(v(u)),w=S.length,j=m===void 0?" ":String(m),T=c(l);if(T<=w||j=="")return S;var b=T-w,x=g.call(j,Math.ceil(b/j.length));return x.length>b&&(x=x.slice(0,b)),d?x+S:S+x}},Gx54:function(C,F,o){"use strict";if(o("yU77")){var c=o("zuiL"),g=o("k+AJ"),v=o("+TcE"),u=o("8IOi"),l=o("8wjV"),m=o("t5lg"),d=o("kRpC"),S=o("kopD"),w=o("+zL4"),j=o("BxPU"),T=o("xmgo"),b=o("m29h"),x=o("Y3Md"),_=o("U9MG"),k=o("b8c2"),O=o("AZ8a"),I=o("L7KE"),V=o("UVVG"),H=o("n+hx"),G=o("Qu5u"),K=o("x4ZG"),et=o("ZiEV"),ct=o("7WAm"),gt=o("27JW").f,Mt=o("o3v7"),Ut=o("Vol4"),ee=o("3iRr"),Jt=o("z/zB"),Lt=o("J8Qq"),Zt=o("EUev"),me=o("IdBN"),Gt=o("wFMk"),U=o("6+im"),ut=o("Oi8Z"),ht=o("C6Ke"),bt=o("+UUX"),Dt=o("J2HX"),mt=o("jYdD"),ft=Dt.f,pt=mt.f,Rt=g.RangeError,Pt=g.TypeError,Ht=g.Uint8Array,oe="ArrayBuffer",Oe="SharedArrayBuffer",ue="BYTES_PER_ELEMENT",Yt=Array.prototype,Ke=m.ArrayBuffer,Ee=m.DataView,Je=Jt(0),Te=Jt(2),zn=Jt(3),Qt=Jt(4),Se=Jt(5),ve=Jt(6),le=Lt(!0),Be=Lt(!1),on=me.values,vn=me.keys,Sn=me.entries,En=Yt.lastIndexOf,sr=Yt.reduce,In=Yt.reduceRight,ni=Yt.join,tr=Yt.sort,ri=Yt.slice,ii=Yt.toString,Mi=Yt.toLocaleString,br=ee("iterator"),ya=ee("toStringTag"),qr=Ut("typed_constructor"),Ar=Ut("def_constructor"),Jn=l.CONSTR,ai=l.TYPED,hi=l.VIEW,Si="Wrong length!",Ra=Jt(1,function(re,Le){return pi(Zt(re,re[Ar]),Le)}),Tr=v(function(){return new Ht(new Uint16Array([1]).buffer)[0]===1}),Ui=!!Ht&&!!Ht.prototype.set&&v(function(){new Ht(1).set({})}),Sr=function(re,Le){var Qe=b(re);if(Qe<0||Qe%Le)throw Rt("Wrong offset!");return Qe},jn=function(re){if(H(re)&&ai in re)return re;throw Pt(re+" is not a typed array!")},pi=function(re,Le){if(!H(re)||!(qr in re))throw Pt("It is not a typed array constructor!");return new re(Le)},Bi=function(re,Le){return Dr(Zt(re,re[Ar]),Le)},Dr=function(re,Le){for(var Qe=0,nr=Le.length,cn=pi(re,nr);nr>Qe;)cn[Qe]=Le[Qe++];return cn},wr=function(re,Le,Qe){ft(re,Le,{get:function(){return this._d[Qe]}})},Ni=function(re){var Le,Qe,nr,cn,$r,Ei,qe=G(re),jr=arguments.length,Ci=jr>1?arguments[1]:void 0,oi=Ci!==void 0,si=Mt(qe);if(si!=null&&!K(si)){for(Ei=si.call(qe),nr=[],Le=0;!($r=Ei.next()).done;Le++)nr.push($r.value);qe=nr}for(oi&&jr>2&&(Ci=d(Ci,arguments[2],2)),Le=0,Qe=x(qe.length),cn=pi(this,Qe);Qe>Le;Le++)cn[Le]=oi?Ci(qe[Le],Le):qe[Le];return cn},Et=function(){for(var re=0,Le=arguments.length,Qe=pi(this,Le);Le>re;)Qe[re]=arguments[re++];return Qe},Fi=!!Ht&&v(function(){Mi.call(new Ht(1))}),na=function(){return Mi.apply(Fi?ri.call(jn(this)):jn(this),arguments)},mi={copyWithin:function(re,Le){return bt.call(jn(this),re,Le,arguments.length>2?arguments[2]:void 0)},every:function(re){return Qt(jn(this),re,arguments.length>1?arguments[1]:void 0)},fill:function(re){return ht.apply(jn(this),arguments)},filter:function(re){return Bi(this,Te(jn(this),re,arguments.length>1?arguments[1]:void 0))},find:function(re){return Se(jn(this),re,arguments.length>1?arguments[1]:void 0)},findIndex:function(re){return ve(jn(this),re,arguments.length>1?arguments[1]:void 0)},forEach:function(re){Je(jn(this),re,arguments.length>1?arguments[1]:void 0)},indexOf:function(re){return Be(jn(this),re,arguments.length>1?arguments[1]:void 0)},includes:function(re){return le(jn(this),re,arguments.length>1?arguments[1]:void 0)},join:function(re){return ni.apply(jn(this),arguments)},lastIndexOf:function(re){return En.apply(jn(this),arguments)},map:function(re){return Ra(jn(this),re,arguments.length>1?arguments[1]:void 0)},reduce:function(re){return sr.apply(jn(this),arguments)},reduceRight:function(re){return In.apply(jn(this),arguments)},reverse:function(){for(var re,Le=this,Qe=jn(Le).length,nr=Math.floor(Qe/2),cn=0;cn<nr;)re=Le[cn],Le[cn++]=Le[--Qe],Le[Qe]=re;return Le},some:function(re){return zn(jn(this),re,arguments.length>1?arguments[1]:void 0)},sort:function(re){return tr.call(jn(this),re)},subarray:function(re,Le){var Qe=jn(this),nr=Qe.length,cn=k(re,nr);return new(Zt(Qe,Qe[Ar]))(Qe.buffer,Qe.byteOffset+cn*Qe.BYTES_PER_ELEMENT,x((Le===void 0?nr:k(Le,nr))-cn))}},wi=function(re,Le){return Bi(this,ri.call(jn(this),re,Le))},Vi=function(re){jn(this);var Le=Sr(arguments[1],1),Qe=this.length,nr=G(re),cn=x(nr.length),$r=0;if(cn+Le>Qe)throw Rt(Si);for(;$r<cn;)this[Le+$r]=nr[$r++]},ki={entries:function(){return Sn.call(jn(this))},keys:function(){return vn.call(jn(this))},values:function(){return on.call(jn(this))}},vi=function(re,Le){return H(re)&&re[ai]&&typeof Le!="symbol"&&Le in re&&String(+Le)==String(Le)},Hi=function(re,Le){return vi(re,Le=O(Le,!0))?w(2,re[Le]):pt(re,Le)},Wn=function(re,Le,Qe){return!(vi(re,Le=O(Le,!0))&&H(Qe)&&I(Qe,"value"))||I(Qe,"get")||I(Qe,"set")||Qe.configurable||I(Qe,"writable")&&!Qe.writable||I(Qe,"enumerable")&&!Qe.enumerable?ft(re,Le,Qe):(re[Le]=Qe.value,re)};Jn||(mt.f=Hi,Dt.f=Wn),u(u.S+u.F*!Jn,"Object",{getOwnPropertyDescriptor:Hi,defineProperty:Wn}),v(function(){ii.call({})})&&(ii=Mi=function(){return ni.call(this)});var Nr=T({},mi);T(Nr,ki),j(Nr,br,ki.values),T(Nr,{slice:wi,set:Vi,constructor:function(){},toString:ii,toLocaleString:na}),wr(Nr,"buffer","b"),wr(Nr,"byteOffset","o"),wr(Nr,"byteLength","l"),wr(Nr,"length","e"),ft(Nr,ya,{get:function(){return this[ai]}}),C.exports=function(re,Le,Qe,nr){var cn=re+((nr=!!nr)?"Clamped":"")+"Array",$r="get"+re,Ei="set"+re,qe=g[cn],jr=qe||{},Ci=qe&&ct(qe),oi=!qe||!l.ABV,si={},vr=qe&&qe.prototype,Ai=function(qt,fe){ft(qt,fe,{get:function(){return function(he,Re){var Ne=he._d;return Ne.v[$r](Re*Le+Ne.o,Tr)}(this,fe)},set:function(he){return function(Re,Ne,rn){var Xe=Re._d;nr&&(rn=(rn=Math.round(rn))<0?0:rn>255?255:255&rn),Xe.v[Ei](Ne*Le+Xe.o,rn,Tr)}(this,fe,he)},enumerable:!0})};oi?(qe=Qe(function(qt,fe,he,Re){S(qt,qe,cn,"_d");var Ne,rn,Xe,ir,gr=0,ur=0;if(H(fe)){if(!(fe instanceof Ke||(ir=V(fe))==oe||ir==Oe))return ai in fe?Dr(qe,fe):Ni.call(qe,fe);Ne=fe,ur=Sr(he,Le);var kr=fe.byteLength;if(Re===void 0){if(kr%Le||(rn=kr-ur)<0)throw Rt(Si)}else if((rn=x(Re)*Le)+ur>kr)throw Rt(Si);Xe=rn/Le}else Xe=_(fe),Ne=new Ke(rn=Xe*Le);for(j(qt,"_d",{b:Ne,o:ur,l:rn,e:Xe,v:new Ee(Ne)});gr<Xe;)Ai(qt,gr++)}),vr=qe.prototype=et(Nr),j(vr,"constructor",qe)):v(function(){qe(1)})&&v(function(){new qe(-1)})&&U(function(qt){new qe,new qe(null),new qe(1.5),new qe(qt)},!0)||(qe=Qe(function(qt,fe,he,Re){var Ne;return S(qt,qe,cn),H(fe)?fe instanceof Ke||(Ne=V(fe))==oe||Ne==Oe?Re!==void 0?new jr(fe,Sr(he,Le),Re):he!==void 0?new jr(fe,Sr(he,Le)):new jr(fe):ai in fe?Dr(qe,fe):Ni.call(qe,fe):new jr(_(fe))}),Je(Ci!==Function.prototype?gt(jr).concat(gt(Ci)):gt(jr),function(qt){qt in qe||j(qe,qt,jr[qt])}),qe.prototype=vr,c||(vr.constructor=qe));var jt=vr[br],Wt=!!jt&&(jt.name=="values"||jt.name==null),$t=ki.values;j(qe,qr,!0),j(vr,ai,cn),j(vr,hi,!0),j(vr,Ar,qe),(nr?new qe(1)[ya]==cn:ya in vr)||ft(vr,ya,{get:function(){return cn}}),si[cn]=qe,u(u.G+u.W+u.F*(qe!=jr),si),u(u.S,cn,{BYTES_PER_ELEMENT:Le}),u(u.S+u.F*v(function(){jr.of.call(qe,1)}),cn,{from:Ni,of:Et}),ue in vr||j(vr,ue,Le),u(u.P,cn,mi),ut(cn),u(u.P+u.F*Ui,cn,{set:Vi}),u(u.P+u.F*!Wt,cn,ki),c||vr.toString==ii||(vr.toString=ii),u(u.P+u.F*v(function(){new qe(1).slice()}),cn,{slice:wi}),u(u.P+u.F*(v(function(){return[1,2].toLocaleString()!=new qe([1,2]).toLocaleString()})||!v(function(){vr.toLocaleString.call([1,2])})),cn,{toLocaleString:na}),Gt[cn]=Wt?jt:$t,c||Wt||j(vr,br,$t)}}else C.exports=function(){}},GxgO:function(C,F,o){"use strict";var c=o("8IOi"),g=o("138g"),v=function(u){this._t=g(u),this._i=0;var l,m=this._k=[];for(l in u)m.push(l)};o("atpN")(v,"Object",function(){var u,l=this,m=l._k;do if(l._i>=m.length)return{value:void 0,done:!0};while(!((u=m[l._i++])in l._t));return{value:u,done:!1}}),c(c.S,"Reflect",{enumerate:function(u){return new v(u)}})},"H/b1":function(C,F,o){var c=o("UVVG"),g=o("t2DD");C.exports=function(v){return function(){if(c(this)!=v)throw TypeError(v+"#toJSON isn't generic");return g(this)}}},HC2Y:function(C,F){var o={}.toString;C.exports=function(c){return o.call(c).slice(8,-1)}},HGrt:function(C,F,o){var c=o("G966"),g=o("8IOi"),v=o("3oW4")("metadata"),u=v.store||(v.store=new(o("lLv2"))),l=function(m,d,S){var w=u.get(m);if(!w){if(!S)return;u.set(m,w=new c)}var j=w.get(d);if(!j){if(!S)return;w.set(d,j=new c)}return j};C.exports={store:u,map:l,has:function(m,d,S){var w=l(d,S,!1);return w!==void 0&&w.has(m)},get:function(m,d,S){var w=l(d,S,!1);return w===void 0?void 0:w.get(m)},set:function(m,d,S,w){l(S,w,!0).set(m,d)},keys:function(m,d){var S=l(m,d,!1),w=[];return S&&S.forEach(function(j,T){w.push(T)}),w},key:function(m){return m===void 0||typeof m=="symbol"?m:String(m)},exp:function(m){g(g.S,"Reflect",m)}}},HJwq:function(C,F,o){"use strict";var c=o("8IOi"),g=o("z/zB")(1);c(c.P+c.F*!o("Vcfr")([].map,!0),"Array",{map:function(v){return g(this,v,arguments[1])}})},HLcc:function(C,F,o){var c=o("k+AJ"),g=o("CuJi"),v=o("zuiL"),u=o("pDsQ"),l=o("J2HX").f;C.exports=function(m){var d=g.Symbol||(g.Symbol=v?{}:c.Symbol||{});m.charAt(0)=="_"||m in d||l(d,m,{value:u.f(m)})}},I1BE:function(C,F){C.exports=function(o){var c=[];return c.toString=function(){return this.map(function(g){var v=function(u,l){var m=u[1]||"",d=u[3];if(!d)return m;if(l&&typeof btoa=="function"){var S=(j=d,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(j))))+" */"),w=d.sources.map(function(T){return"/*# sourceURL="+d.sourceRoot+T+" */"});return[m].concat(w).concat([S]).join(`
`)}var j;return[m].join(`
`)}(g,o);return g[2]?"@media "+g[2]+"{"+v+"}":v}).join("")},c.i=function(g,v){typeof g=="string"&&(g=[[null,g,""]]);for(var u={},l=0;l<this.length;l++){var m=this[l][0];typeof m=="number"&&(u[m]=!0)}for(l=0;l<g.length;l++){var d=g[l];typeof d[0]=="number"&&u[d[0]]||(v&&!d[2]?d[2]=v:v&&(d[2]="("+d[2]+") and ("+v+")"),c.push(d))}},c}},IC4T:function(C,F,o){var c=o("8IOi");c(c.S,"Math",{sign:o("e8l7")})},IGqx:function(C,F,o){"use strict";o("5oHw")("blink",function(c){return function(){return c(this,"blink","","")}})},INkZ:function(C,F,o){"use strict";(function(c,g){var v=Object.freeze({});function u(h){return h==null}function l(h){return h!=null}function m(h){return h===!0}function d(h){return typeof h=="string"||typeof h=="number"||typeof h=="symbol"||typeof h=="boolean"}function S(h){return h!==null&&typeof h=="object"}var w=Object.prototype.toString;function j(h){return w.call(h)==="[object Object]"}function T(h){var A=parseFloat(String(h));return A>=0&&Math.floor(A)===A&&isFinite(h)}function b(h){return l(h)&&typeof h.then=="function"&&typeof h.catch=="function"}function x(h){return h==null?"":Array.isArray(h)||j(h)&&h.toString===w?JSON.stringify(h,null,2):String(h)}function _(h){var A=parseFloat(h);return isNaN(A)?h:A}function k(h,A){for(var L=Object.create(null),M=h.split(","),$=0;$<M.length;$++)L[M[$]]=!0;return A?function(B){return L[B.toLowerCase()]}:function(B){return L[B]}}var O=k("slot,component",!0),I=k("key,ref,slot,slot-scope,is");function V(h,A){if(h.length){var L=h.indexOf(A);if(L>-1)return h.splice(L,1)}}var H=Object.prototype.hasOwnProperty;function G(h,A){return H.call(h,A)}function K(h){var A=Object.create(null);return function(L){return A[L]||(A[L]=h(L))}}var et=/-(\w)/g,ct=K(function(h){return h.replace(et,function(A,L){return L?L.toUpperCase():""})}),gt=K(function(h){return h.charAt(0).toUpperCase()+h.slice(1)}),Mt=/\B([A-Z])/g,Ut=K(function(h){return h.replace(Mt,"-$1").toLowerCase()}),ee=Function.prototype.bind?function(h,A){return h.bind(A)}:function(h,A){function L(M){var $=arguments.length;return $?$>1?h.apply(A,arguments):h.call(A,M):h.call(A)}return L._length=h.length,L};function Jt(h,A){A=A||0;for(var L=h.length-A,M=new Array(L);L--;)M[L]=h[L+A];return M}function Lt(h,A){for(var L in A)h[L]=A[L];return h}function Zt(h){for(var A={},L=0;L<h.length;L++)h[L]&&Lt(A,h[L]);return A}function me(h,A,L){}var Gt=function(h,A,L){return!1},U=function(h){return h};function ut(h,A){if(h===A)return!0;var L=S(h),M=S(A);if(!L||!M)return!L&&!M&&String(h)===String(A);try{var $=Array.isArray(h),B=Array.isArray(A);if($&&B)return h.length===A.length&&h.every(function(at,vt){return ut(at,A[vt])});if(h instanceof Date&&A instanceof Date)return h.getTime()===A.getTime();if($||B)return!1;var tt=Object.keys(h),it=Object.keys(A);return tt.length===it.length&&tt.every(function(at){return ut(h[at],A[at])})}catch(at){return!1}}function ht(h,A){for(var L=0;L<h.length;L++)if(ut(h[L],A))return L;return-1}function bt(h){var A=!1;return function(){A||(A=!0,h.apply(this,arguments))}}var Dt="data-server-rendered",mt=["component","directive","filter"],ft=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch"],pt={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:Gt,isReservedAttr:Gt,isUnknownElement:Gt,getTagNamespace:me,parsePlatformTagName:U,mustUseProp:Gt,async:!0,_lifecycleHooks:ft},Rt=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function Pt(h,A,L,M){Object.defineProperty(h,A,{value:L,enumerable:!!M,writable:!0,configurable:!0})}var Ht,oe=new RegExp("[^"+Rt.source+".$_\\d]"),Oe="__proto__"in{},ue=typeof window!="undefined",Yt=typeof WXEnvironment!="undefined"&&!!WXEnvironment.platform,Ke=Yt&&WXEnvironment.platform.toLowerCase(),Ee=ue&&window.navigator.userAgent.toLowerCase(),Je=Ee&&/msie|trident/.test(Ee),Te=Ee&&Ee.indexOf("msie 9.0")>0,zn=Ee&&Ee.indexOf("edge/")>0,Qt=(Ee&&Ee.indexOf("android"),Ee&&/iphone|ipad|ipod|ios/.test(Ee)||Ke==="ios"),Se=(Ee&&/chrome\/\d+/.test(Ee),Ee&&/phantomjs/.test(Ee),Ee&&Ee.match(/firefox\/(\d+)/)),ve={}.watch,le=!1;if(ue)try{var Be={};Object.defineProperty(Be,"passive",{get:function(){le=!0}}),window.addEventListener("test-passive",null,Be)}catch(h){}var on=function(){return Ht===void 0&&(Ht=!ue&&!Yt&&c!==void 0&&c.process&&c.process.env.VUE_ENV==="server"),Ht},vn=ue&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function Sn(h){return typeof h=="function"&&/native code/.test(h.toString())}var En,sr=typeof Symbol!="undefined"&&Sn(Symbol)&&typeof Reflect!="undefined"&&Sn(Reflect.ownKeys);En=typeof Set!="undefined"&&Sn(Set)?Set:function(){function h(){this.set=Object.create(null)}return h.prototype.has=function(A){return this.set[A]===!0},h.prototype.add=function(A){this.set[A]=!0},h.prototype.clear=function(){this.set=Object.create(null)},h}();var In=me,ni=0,tr=function(){this.id=ni++,this.subs=[]};tr.prototype.addSub=function(h){this.subs.push(h)},tr.prototype.removeSub=function(h){V(this.subs,h)},tr.prototype.depend=function(){tr.target&&tr.target.addDep(this)},tr.prototype.notify=function(){for(var h=this.subs.slice(),A=0,L=h.length;A<L;A++)h[A].update()},tr.target=null;var ri=[];function ii(h){ri.push(h),tr.target=h}function Mi(){ri.pop(),tr.target=ri[ri.length-1]}var br=function(h,A,L,M,$,B,tt,it){this.tag=h,this.data=A,this.children=L,this.text=M,this.elm=$,this.ns=void 0,this.context=B,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=A&&A.key,this.componentOptions=tt,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=it,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},ya={child:{configurable:!0}};ya.child.get=function(){return this.componentInstance},Object.defineProperties(br.prototype,ya);var qr=function(h){h===void 0&&(h="");var A=new br;return A.text=h,A.isComment=!0,A};function Ar(h){return new br(void 0,void 0,void 0,String(h))}function Jn(h){var A=new br(h.tag,h.data,h.children&&h.children.slice(),h.text,h.elm,h.context,h.componentOptions,h.asyncFactory);return A.ns=h.ns,A.isStatic=h.isStatic,A.key=h.key,A.isComment=h.isComment,A.fnContext=h.fnContext,A.fnOptions=h.fnOptions,A.fnScopeId=h.fnScopeId,A.asyncMeta=h.asyncMeta,A.isCloned=!0,A}var ai=Array.prototype,hi=Object.create(ai);["push","pop","shift","unshift","splice","sort","reverse"].forEach(function(h){var A=ai[h];Pt(hi,h,function(){for(var L=[],M=arguments.length;M--;)L[M]=arguments[M];var $,B=A.apply(this,L),tt=this.__ob__;switch(h){case"push":case"unshift":$=L;break;case"splice":$=L.slice(2)}return $&&tt.observeArray($),tt.dep.notify(),B})});var Si=Object.getOwnPropertyNames(hi),Ra=!0;function Tr(h){Ra=h}var Ui=function(h){var A;this.value=h,this.dep=new tr,this.vmCount=0,Pt(h,"__ob__",this),Array.isArray(h)?(Oe?(A=hi,h.__proto__=A):function(L,M,$){for(var B=0,tt=$.length;B<tt;B++){var it=$[B];Pt(L,it,M[it])}}(h,hi,Si),this.observeArray(h)):this.walk(h)};function Sr(h,A){var L;if(S(h)&&!(h instanceof br))return G(h,"__ob__")&&h.__ob__ instanceof Ui?L=h.__ob__:Ra&&!on()&&(Array.isArray(h)||j(h))&&Object.isExtensible(h)&&!h._isVue&&(L=new Ui(h)),A&&L&&L.vmCount++,L}function jn(h,A,L,M,$){var B=new tr,tt=Object.getOwnPropertyDescriptor(h,A);if(!tt||tt.configurable!==!1){var it=tt&&tt.get,at=tt&&tt.set;it&&!at||arguments.length!==2||(L=h[A]);var vt=!$&&Sr(L);Object.defineProperty(h,A,{enumerable:!0,configurable:!0,get:function(){var Ot=it?it.call(h):L;return tr.target&&(B.depend(),vt&&(vt.dep.depend(),Array.isArray(Ot)&&function wt(Xt){for(var ne=void 0,Kt=0,Ft=Xt.length;Kt<Ft;Kt++)(ne=Xt[Kt])&&ne.__ob__&&ne.__ob__.dep.depend(),Array.isArray(ne)&&wt(ne)}(Ot))),Ot},set:function(Ot){var wt=it?it.call(h):L;Ot===wt||Ot!=Ot&&wt!=wt||it&&!at||(at?at.call(h,Ot):L=Ot,vt=!$&&Sr(Ot),B.notify())}})}}function pi(h,A,L){if(Array.isArray(h)&&T(A))return h.length=Math.max(h.length,A),h.splice(A,1,L),L;if(A in h&&!(A in Object.prototype))return h[A]=L,L;var M=h.__ob__;return h._isVue||M&&M.vmCount?L:M?(jn(M.value,A,L),M.dep.notify(),L):(h[A]=L,L)}function Bi(h,A){if(Array.isArray(h)&&T(A))h.splice(A,1);else{var L=h.__ob__;h._isVue||L&&L.vmCount||G(h,A)&&(delete h[A],L&&L.dep.notify())}}Ui.prototype.walk=function(h){for(var A=Object.keys(h),L=0;L<A.length;L++)jn(h,A[L])},Ui.prototype.observeArray=function(h){for(var A=0,L=h.length;A<L;A++)Sr(h[A])};var Dr=pt.optionMergeStrategies;function wr(h,A){if(!A)return h;for(var L,M,$,B=sr?Reflect.ownKeys(A):Object.keys(A),tt=0;tt<B.length;tt++)(L=B[tt])!=="__ob__"&&(M=h[L],$=A[L],G(h,L)?M!==$&&j(M)&&j($)&&wr(M,$):pi(h,L,$));return h}function Ni(h,A,L){return L?function(){var M=typeof A=="function"?A.call(L,L):A,$=typeof h=="function"?h.call(L,L):h;return M?wr(M,$):$}:A?h?function(){return wr(typeof A=="function"?A.call(this,this):A,typeof h=="function"?h.call(this,this):h)}:A:h}function Et(h,A){var L=A?h?h.concat(A):Array.isArray(A)?A:[A]:h;return L&&function(M){for(var $=[],B=0;B<M.length;B++)$.indexOf(M[B])===-1&&$.push(M[B]);return $}(L)}function Fi(h,A,L,M){var $=Object.create(h||null);return A?Lt($,A):$}Dr.data=function(h,A,L){return L?Ni(h,A,L):A&&typeof A!="function"?h:Ni(h,A)},ft.forEach(function(h){Dr[h]=Et}),mt.forEach(function(h){Dr[h+"s"]=Fi}),Dr.watch=function(h,A,L,M){if(h===ve&&(h=void 0),A===ve&&(A=void 0),!A)return Object.create(h||null);if(!h)return A;var $={};for(var B in Lt($,h),A){var tt=$[B],it=A[B];tt&&!Array.isArray(tt)&&(tt=[tt]),$[B]=tt?tt.concat(it):Array.isArray(it)?it:[it]}return $},Dr.props=Dr.methods=Dr.inject=Dr.computed=function(h,A,L,M){if(!h)return A;var $=Object.create(null);return Lt($,h),A&&Lt($,A),$},Dr.provide=Ni;var na=function(h,A){return A===void 0?h:A};function mi(h,A,L){if(typeof A=="function"&&(A=A.options),function(at,vt){var Ot=at.props;if(Ot){var wt,Xt,ne={};if(Array.isArray(Ot))for(wt=Ot.length;wt--;)typeof(Xt=Ot[wt])=="string"&&(ne[ct(Xt)]={type:null});else if(j(Ot))for(var Kt in Ot)Xt=Ot[Kt],ne[ct(Kt)]=j(Xt)?Xt:{type:Xt};at.props=ne}}(A),function(at,vt){var Ot=at.inject;if(Ot){var wt=at.inject={};if(Array.isArray(Ot))for(var Xt=0;Xt<Ot.length;Xt++)wt[Ot[Xt]]={from:Ot[Xt]};else if(j(Ot))for(var ne in Ot){var Kt=Ot[ne];wt[ne]=j(Kt)?Lt({from:ne},Kt):{from:Kt}}}}(A),function(at){var vt=at.directives;if(vt)for(var Ot in vt){var wt=vt[Ot];typeof wt=="function"&&(vt[Ot]={bind:wt,update:wt})}}(A),!A._base&&(A.extends&&(h=mi(h,A.extends,L)),A.mixins))for(var M=0,$=A.mixins.length;M<$;M++)h=mi(h,A.mixins[M],L);var B,tt={};for(B in h)it(B);for(B in A)G(h,B)||it(B);function it(at){var vt=Dr[at]||na;tt[at]=vt(h[at],A[at],L,at)}return tt}function wi(h,A,L,M){if(typeof L=="string"){var $=h[A];if(G($,L))return $[L];var B=ct(L);if(G($,B))return $[B];var tt=gt(B);return G($,tt)?$[tt]:$[L]||$[B]||$[tt]}}function Vi(h,A,L,M){var $=A[h],B=!G(L,h),tt=L[h],it=Hi(Boolean,$.type);if(it>-1){if(B&&!G($,"default"))tt=!1;else if(tt===""||tt===Ut(h)){var at=Hi(String,$.type);(at<0||it<at)&&(tt=!0)}}if(tt===void 0){tt=function(Ot,wt,Xt){if(G(wt,"default")){var ne=wt.default;return Ot&&Ot.$options.propsData&&Ot.$options.propsData[Xt]===void 0&&Ot._props[Xt]!==void 0?Ot._props[Xt]:typeof ne=="function"&&ki(wt.type)!=="Function"?ne.call(Ot):ne}}(M,$,h);var vt=Ra;Tr(!0),Sr(tt),Tr(vt)}return tt}function ki(h){var A=h&&h.toString().match(/^\s*function (\w+)/);return A?A[1]:""}function vi(h,A){return ki(h)===ki(A)}function Hi(h,A){if(!Array.isArray(A))return vi(A,h)?0:-1;for(var L=0,M=A.length;L<M;L++)if(vi(A[L],h))return L;return-1}function Wn(h,A,L){ii();try{if(A)for(var M=A;M=M.$parent;){var $=M.$options.errorCaptured;if($)for(var B=0;B<$.length;B++)try{if($[B].call(M,h,A,L)===!1)return}catch(tt){re(tt,M,"errorCaptured hook")}}re(h,A,L)}finally{Mi()}}function Nr(h,A,L,M,$){var B;try{(B=L?h.apply(A,L):h.call(A))&&!B._isVue&&b(B)&&!B._handled&&(B.catch(function(tt){return Wn(tt,M,$+" (Promise/async)")}),B._handled=!0)}catch(tt){Wn(tt,M,$)}return B}function re(h,A,L){if(pt.errorHandler)try{return pt.errorHandler.call(null,h,A,L)}catch(M){M!==h&&Le(M,null,"config.errorHandler")}Le(h,A,L)}function Le(h,A,L){if(!ue&&!Yt||typeof console=="undefined")throw h;console.error(h)}var Qe,nr=!1,cn=[],$r=!1;function Ei(){$r=!1;var h=cn.slice(0);cn.length=0;for(var A=0;A<h.length;A++)h[A]()}if(typeof Promise!="undefined"&&Sn(Promise)){var qe=Promise.resolve();Qe=function(){qe.then(Ei),Qt&&setTimeout(me)},nr=!0}else if(Je||typeof MutationObserver=="undefined"||!Sn(MutationObserver)&&MutationObserver.toString()!=="[object MutationObserverConstructor]")Qe=g!==void 0&&Sn(g)?function(){g(Ei)}:function(){setTimeout(Ei,0)};else{var jr=1,Ci=new MutationObserver(Ei),oi=document.createTextNode(String(jr));Ci.observe(oi,{characterData:!0}),Qe=function(){jr=(jr+1)%2,oi.data=String(jr)},nr=!0}function si(h,A){var L;if(cn.push(function(){if(h)try{h.call(A)}catch(M){Wn(M,A,"nextTick")}else L&&L(A)}),$r||($r=!0,Qe()),!h&&typeof Promise!="undefined")return new Promise(function(M){L=M})}var vr=new En;function Ai(h){(function A(L,M){var $,B,tt=Array.isArray(L);if(!(!tt&&!S(L)||Object.isFrozen(L)||L instanceof br)){if(L.__ob__){var it=L.__ob__.dep.id;if(M.has(it))return;M.add(it)}if(tt)for($=L.length;$--;)A(L[$],M);else for($=(B=Object.keys(L)).length;$--;)A(L[B[$]],M)}})(h,vr),vr.clear()}var jt=K(function(h){var A=h.charAt(0)==="&",L=(h=A?h.slice(1):h).charAt(0)==="~",M=(h=L?h.slice(1):h).charAt(0)==="!";return{name:h=M?h.slice(1):h,once:L,capture:M,passive:A}});function Wt(h,A){function L(){var M=arguments,$=L.fns;if(!Array.isArray($))return Nr($,null,arguments,A,"v-on handler");for(var B=$.slice(),tt=0;tt<B.length;tt++)Nr(B[tt],null,M,A,"v-on handler")}return L.fns=h,L}function $t(h,A,L,M,$,B){var tt,it,at,vt;for(tt in h)it=h[tt],at=A[tt],vt=jt(tt),u(it)||(u(at)?(u(it.fns)&&(it=h[tt]=Wt(it,B)),m(vt.once)&&(it=h[tt]=$(vt.name,it,vt.capture)),L(vt.name,it,vt.capture,vt.passive,vt.params)):it!==at&&(at.fns=it,h[tt]=at));for(tt in A)u(h[tt])&&M((vt=jt(tt)).name,A[tt],vt.capture)}function qt(h,A,L){var M;h instanceof br&&(h=h.data.hook||(h.data.hook={}));var $=h[A];function B(){L.apply(this,arguments),V(M.fns,B)}u($)?M=Wt([B]):l($.fns)&&m($.merged)?(M=$).fns.push(B):M=Wt([$,B]),M.merged=!0,h[A]=M}function fe(h,A,L,M,$){if(l(A)){if(G(A,L))return h[L]=A[L],$||delete A[L],!0;if(G(A,M))return h[L]=A[M],$||delete A[M],!0}return!1}function he(h){return d(h)?[Ar(h)]:Array.isArray(h)?function A(L,M){var $,B,tt,it,at=[];for($=0;$<L.length;$++)u(B=L[$])||typeof B=="boolean"||(it=at[tt=at.length-1],Array.isArray(B)?B.length>0&&(Re((B=A(B,(M||"")+"_"+$))[0])&&Re(it)&&(at[tt]=Ar(it.text+B[0].text),B.shift()),at.push.apply(at,B)):d(B)?Re(it)?at[tt]=Ar(it.text+B):B!==""&&at.push(Ar(B)):Re(B)&&Re(it)?at[tt]=Ar(it.text+B.text):(m(L._isVList)&&l(B.tag)&&u(B.key)&&l(M)&&(B.key="__vlist"+M+"_"+$+"__"),at.push(B)));return at}(h):void 0}function Re(h){return l(h)&&l(h.text)&&h.isComment===!1}function Ne(h,A){if(h){for(var L=Object.create(null),M=sr?Reflect.ownKeys(h):Object.keys(h),$=0;$<M.length;$++){var B=M[$];if(B!=="__ob__"){for(var tt=h[B].from,it=A;it;){if(it._provided&&G(it._provided,tt)){L[B]=it._provided[tt];break}it=it.$parent}if(!it&&"default"in h[B]){var at=h[B].default;L[B]=typeof at=="function"?at.call(A):at}}}return L}}function rn(h,A){if(!h||!h.length)return{};for(var L={},M=0,$=h.length;M<$;M++){var B=h[M],tt=B.data;if(tt&&tt.attrs&&tt.attrs.slot&&delete tt.attrs.slot,B.context!==A&&B.fnContext!==A||!tt||tt.slot==null)(L.default||(L.default=[])).push(B);else{var it=tt.slot,at=L[it]||(L[it]=[]);B.tag==="template"?at.push.apply(at,B.children||[]):at.push(B)}}for(var vt in L)L[vt].every(Xe)&&delete L[vt];return L}function Xe(h){return h.isComment&&!h.asyncFactory||h.text===" "}function ir(h,A,L){var M,$=Object.keys(A).length>0,B=h?!!h.$stable:!$,tt=h&&h.$key;if(h){if(h._normalized)return h._normalized;if(B&&L&&L!==v&&tt===L.$key&&!$&&!L.$hasNormal)return L;for(var it in M={},h)h[it]&&it[0]!=="$"&&(M[it]=gr(A,it,h[it]))}else M={};for(var at in A)at in M||(M[at]=ur(A,at));return h&&Object.isExtensible(h)&&(h._normalized=M),Pt(M,"$stable",B),Pt(M,"$key",tt),Pt(M,"$hasNormal",$),M}function gr(h,A,L){var M=function(){var $=arguments.length?L.apply(null,arguments):L({});return($=$&&typeof $=="object"&&!Array.isArray($)?[$]:he($))&&($.length===0||$.length===1&&$[0].isComment)?void 0:$};return L.proxy&&Object.defineProperty(h,A,{get:M,enumerable:!0,configurable:!0}),M}function ur(h,A){return function(){return h[A]}}function kr(h,A){var L,M,$,B,tt;if(Array.isArray(h)||typeof h=="string")for(L=new Array(h.length),M=0,$=h.length;M<$;M++)L[M]=A(h[M],M);else if(typeof h=="number")for(L=new Array(h),M=0;M<h;M++)L[M]=A(M+1,M);else if(S(h))if(sr&&h[Symbol.iterator]){L=[];for(var it=h[Symbol.iterator](),at=it.next();!at.done;)L.push(A(at.value,L.length)),at=it.next()}else for(B=Object.keys(h),L=new Array(B.length),M=0,$=B.length;M<$;M++)tt=B[M],L[M]=A(h[tt],tt,M);return l(L)||(L=[]),L._isVList=!0,L}function hr(h,A,L,M){var $,B=this.$scopedSlots[h];B?(L=L||{},M&&(L=Lt(Lt({},M),L)),$=B(L)||A):$=this.$slots[h]||A;var tt=L&&L.slot;return tt?this.$createElement("template",{slot:tt},$):$}function $o(h){return wi(this.$options,"filters",h)||U}function Ds(h,A){return Array.isArray(h)?h.indexOf(A)===-1:h!==A}function Ms(h,A,L,M,$){var B=pt.keyCodes[A]||L;return $&&M&&!pt.keyCodes[A]?Ds($,M):B?Ds(B,h):M?Ut(M)!==A:void 0}function yr(h,A,L,M,$){if(L&&S(L)){var B;Array.isArray(L)&&(L=Zt(L));var tt=function(at){if(at==="class"||at==="style"||I(at))B=h;else{var vt=h.attrs&&h.attrs.type;B=M||pt.mustUseProp(A,vt,at)?h.domProps||(h.domProps={}):h.attrs||(h.attrs={})}var Ot=ct(at),wt=Ut(at);Ot in B||wt in B||(B[at]=L[at],$&&((h.on||(h.on={}))["update:"+at]=function(Xt){L[at]=Xt}))};for(var it in L)tt(it)}return h}function ge(h,A){var L=this._staticTrees||(this._staticTrees=[]),M=L[h];return M&&!A||Zn(M=L[h]=this.$options.staticRenderFns[h].call(this._renderProxy,null,this),"__static__"+h,!1),M}function Ko(h,A,L){return Zn(h,"__once__"+A+(L?"_"+L:""),!0),h}function Zn(h,A,L){if(Array.isArray(h))for(var M=0;M<h.length;M++)h[M]&&typeof h[M]!="string"&&xl(h[M],A+"_"+M,L);else xl(h,A,L)}function xl(h,A,L){h.isStatic=!0,h.key=A,h.isOnce=L}function zi(h,A){if(A&&j(A)){var L=h.on=h.on?Lt({},h.on):{};for(var M in A){var $=L[M],B=A[M];L[M]=$?[].concat($,B):B}}return h}function Lu(h,A,L,M){A=A||{$stable:!L};for(var $=0;$<h.length;$++){var B=h[$];Array.isArray(B)?Lu(B,A,L):B&&(B.proxy&&(B.fn.proxy=!0),A[B.key]=B.fn)}return M&&(A.$key=M),A}function Pu(h,A){for(var L=0;L<A.length;L+=2){var M=A[L];typeof M=="string"&&M&&(h[A[L]]=A[L+1])}return h}function Ia(h,A){return typeof h=="string"?A+h:h}function ui(h){h._o=Ko,h._n=_,h._s=x,h._l=kr,h._t=hr,h._q=ut,h._i=ht,h._m=ge,h._f=$o,h._k=Ms,h._b=yr,h._v=Ar,h._e=qr,h._u=Lu,h._g=zi,h._d=Pu,h._p=Ia}function Us(h,A,L,M,$){var B,tt=this,it=$.options;G(M,"_uid")?(B=Object.create(M))._original=M:(B=M,M=M._original);var at=m(it._compiled),vt=!at;this.data=h,this.props=A,this.children=L,this.parent=M,this.listeners=h.on||v,this.injections=Ne(it.inject,M),this.slots=function(){return tt.$slots||ir(h.scopedSlots,tt.$slots=rn(L,M)),tt.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return ir(h.scopedSlots,this.slots())}}),at&&(this.$options=it,this.$slots=this.slots(),this.$scopedSlots=ir(h.scopedSlots,this.$slots)),it._scopeId?this._c=function(Ot,wt,Xt,ne){var Kt=Jo(B,Ot,wt,Xt,ne,vt);return Kt&&!Array.isArray(Kt)&&(Kt.fnScopeId=it._scopeId,Kt.fnContext=M),Kt}:this._c=function(Ot,wt,Xt,ne){return Jo(B,Ot,wt,Xt,ne,vt)}}function Kn(h,A,L,M,$){var B=Jn(h);return B.fnContext=L,B.fnOptions=M,A.slot&&((B.data||(B.data={})).slot=A.slot),B}function ra(h,A){for(var L in A)h[ct(L)]=A[L]}ui(Us.prototype);var Xo={init:function(h,A){if(h.componentInstance&&!h.componentInstance._isDestroyed&&h.data.keepAlive){var L=h;Xo.prepatch(L,L)}else(h.componentInstance=function(M,$){var B={_isComponent:!0,_parentVnode:M,parent:$},tt=M.data.inlineTemplate;return l(tt)&&(B.render=tt.render,B.staticRenderFns=tt.staticRenderFns),new M.componentOptions.Ctor(B)}(h,Gi)).$mount(A?h.elm:void 0,A)},prepatch:function(h,A){var L=A.componentOptions;(function(M,$,B,tt,it){var at=tt.data.scopedSlots,vt=M.$scopedSlots,Ot=!!(at&&!at.$stable||vt!==v&&!vt.$stable||at&&M.$scopedSlots.$key!==at.$key),wt=!!(it||M.$options._renderChildren||Ot);if(M.$options._parentVnode=tt,M.$vnode=tt,M._vnode&&(M._vnode.parent=tt),M.$options._renderChildren=it,M.$attrs=tt.data.attrs||v,M.$listeners=B||v,$&&M.$options.props){Tr(!1);for(var Xt=M._props,ne=M.$options._propKeys||[],Kt=0;Kt<ne.length;Kt++){var Ft=ne[Kt],ye=M.$options.props;Xt[Ft]=Vi(Ft,ye,$,M)}Tr(!0),M.$options.propsData=$}B=B||v;var Ve=M.$options._parentListeners;M.$options._parentListeners=B,Vs(M,B,Ve),wt&&(M.$slots=rn(it,tt.context),M.$forceUpdate())})(A.componentInstance=h.componentInstance,L.propsData,L.listeners,A,L.children)},insert:function(h){var A,L=h.context,M=h.componentInstance;M._isMounted||(M._isMounted=!0,Kr(M,"mounted")),h.data.keepAlive&&(L._isMounted?((A=M)._inactive=!1,Ru.push(A)):Hs(M,!0))},destroy:function(h){var A=h.componentInstance;A._isDestroyed||(h.data.keepAlive?function L(M,$){if(!($&&(M._directInactive=!0,Pr(M))||M._inactive)){M._inactive=!0;for(var B=0;B<M.$children.length;B++)L(M.$children[B]);Kr(M,"deactivated")}}(A,!0):A.$destroy())}},Ol=Object.keys(Xo);function Yo(h,A,L,M,$){if(!u(h)){var B=L.$options._base;if(S(h)&&(h=B.extend(h)),typeof h=="function"){var tt;if(u(h.cid)&&(h=function(wt,Xt){if(m(wt.error)&&l(wt.errorComp))return wt.errorComp;if(l(wt.resolved))return wt.resolved;var ne=Ma;if(ne&&l(wt.owners)&&wt.owners.indexOf(ne)===-1&&wt.owners.push(ne),m(wt.loading)&&l(wt.loadingComp))return wt.loadingComp;if(ne&&!l(wt.owners)){var Kt=wt.owners=[ne],Ft=!0,ye=null,Ve=null;ne.$on("hook:destroyed",function(){return V(Kt,ne)});var ze=function(gn){for(var It=0,Bt=Kt.length;It<Bt;It++)Kt[It].$forceUpdate();gn&&(Kt.length=0,ye!==null&&(clearTimeout(ye),ye=null),Ve!==null&&(clearTimeout(Ve),Ve=null))},Ze=bt(function(gn){wt.resolved=Bs(gn,Xt),Ft?Kt.length=0:ze(!0)}),An=bt(function(gn){l(wt.errorComp)&&(wt.error=!0,ze(!0))}),Pe=wt(Ze,An);return S(Pe)&&(b(Pe)?u(wt.resolved)&&Pe.then(Ze,An):b(Pe.component)&&(Pe.component.then(Ze,An),l(Pe.error)&&(wt.errorComp=Bs(Pe.error,Xt)),l(Pe.loading)&&(wt.loadingComp=Bs(Pe.loading,Xt),Pe.delay===0?wt.loading=!0:ye=setTimeout(function(){ye=null,u(wt.resolved)&&u(wt.error)&&(wt.loading=!0,ze(!1))},Pe.delay||200)),l(Pe.timeout)&&(Ve=setTimeout(function(){Ve=null,u(wt.resolved)&&An(null)},Pe.timeout)))),Ft=!1,wt.loading?wt.loadingComp:wt.resolved}}(tt=h,B))===void 0)return function(wt,Xt,ne,Kt,Ft){var ye=qr();return ye.asyncFactory=wt,ye.asyncMeta={data:Xt,context:ne,children:Kt,tag:Ft},ye}(tt,A,L,M,$);A=A||{},Ae(h),l(A.model)&&function(wt,Xt){var ne=wt.model&&wt.model.prop||"value",Kt=wt.model&&wt.model.event||"input";(Xt.attrs||(Xt.attrs={}))[ne]=Xt.model.value;var Ft=Xt.on||(Xt.on={}),ye=Ft[Kt],Ve=Xt.model.callback;l(ye)?(Array.isArray(ye)?ye.indexOf(Ve)===-1:ye!==Ve)&&(Ft[Kt]=[Ve].concat(ye)):Ft[Kt]=Ve}(h.options,A);var it=function(wt,Xt,ne){var Kt=Xt.options.props;if(!u(Kt)){var Ft={},ye=wt.attrs,Ve=wt.props;if(l(ye)||l(Ve))for(var ze in Kt){var Ze=Ut(ze);fe(Ft,Ve,ze,Ze,!0)||fe(Ft,ye,ze,Ze,!1)}return Ft}}(A,h);if(m(h.options.functional))return function(wt,Xt,ne,Kt,Ft){var ye=wt.options,Ve={},ze=ye.props;if(l(ze))for(var Ze in ze)Ve[Ze]=Vi(Ze,ze,Xt||v);else l(ne.attrs)&&ra(Ve,ne.attrs),l(ne.props)&&ra(Ve,ne.props);var An=new Us(ne,Ve,Ft,Kt,wt),Pe=ye.render.call(null,An._c,An);if(Pe instanceof br)return Kn(Pe,ne,An.parent,ye);if(Array.isArray(Pe)){for(var gn=he(Pe)||[],It=new Array(gn.length),Bt=0;Bt<gn.length;Bt++)It[Bt]=Kn(gn[Bt],ne,An.parent,ye);return It}}(h,it,A,L,M);var at=A.on;if(A.on=A.nativeOn,m(h.options.abstract)){var vt=A.slot;A={},vt&&(A.slot=vt)}(function(wt){for(var Xt=wt.hook||(wt.hook={}),ne=0;ne<Ol.length;ne++){var Kt=Ol[ne],Ft=Xt[Kt],ye=Xo[Kt];Ft===ye||Ft&&Ft._merged||(Xt[Kt]=Ft?Da(ye,Ft):ye)}})(A);var Ot=h.options.name||$;return new br("vue-component-"+h.cid+(Ot?"-"+Ot:""),A,void 0,void 0,void 0,L,{Ctor:h,propsData:it,listeners:at,tag:$,children:M},tt)}}}function Da(h,A){var L=function(M,$){h(M,$),A(M,$)};return L._merged=!0,L}function Jo(h,A,L,M,$,B){return(Array.isArray(L)||d(L))&&($=M,M=L,L=void 0),m(B)&&($=2),function(tt,it,at,vt,Ot){if(l(at)&&l(at.__ob__)||(l(at)&&l(at.is)&&(it=at.is),!it))return qr();var wt,Xt,ne;return Array.isArray(vt)&&typeof vt[0]=="function"&&((at=at||{}).scopedSlots={default:vt[0]},vt.length=0),Ot===2?vt=he(vt):Ot===1&&(vt=function(Kt){for(var Ft=0;Ft<Kt.length;Ft++)if(Array.isArray(Kt[Ft]))return Array.prototype.concat.apply([],Kt);return Kt}(vt)),typeof it=="string"?(Xt=tt.$vnode&&tt.$vnode.ns||pt.getTagNamespace(it),wt=pt.isReservedTag(it)?new br(pt.parsePlatformTagName(it),at,vt,void 0,void 0,tt):at&&at.pre||!l(ne=wi(tt.$options,"components",it))?new br(it,at,vt,void 0,void 0,tt):Yo(ne,at,tt,vt,it)):wt=Yo(it,at,tt,vt),Array.isArray(wt)?wt:l(wt)?(l(Xt)&&function Kt(Ft,ye,Ve){if(Ft.ns=ye,Ft.tag==="foreignObject"&&(ye=void 0,Ve=!0),l(Ft.children))for(var ze=0,Ze=Ft.children.length;ze<Ze;ze++){var An=Ft.children[ze];l(An.tag)&&(u(An.ns)||m(Ve)&&An.tag!=="svg")&&Kt(An,ye,Ve)}}(wt,Xt),l(at)&&function(Kt){S(Kt.style)&&Ai(Kt.style),S(Kt.class)&&Ai(Kt.class)}(at),wt):qr()}(h,A,L,M,$)}var _a,Ma=null;function Bs(h,A){return(h.__esModule||sr&&h[Symbol.toStringTag]==="Module")&&(h=h.default),S(h)?A.extend(h):h}function Zo(h){return h.isComment&&h.asyncFactory}function So(h){if(Array.isArray(h))for(var A=0;A<h.length;A++){var L=h[A];if(l(L)&&(l(L.componentOptions)||Zo(L)))return L}}function Ll(h,A){_a.$on(h,A)}function Ns(h,A){_a.$off(h,A)}function Fs(h,A){var L=_a;return function M(){A.apply(null,arguments)!==null&&L.$off(h,M)}}function Vs(h,A,L){_a=h,$t(A,L||{},Ll,Ns,Fs,h),_a=void 0}var Gi=null;function Qo(h){var A=Gi;return Gi=h,function(){Gi=A}}function Pr(h){for(;h&&(h=h.$parent);)if(h._inactive)return!0;return!1}function Hs(h,A){if(A){if(h._directInactive=!1,Pr(h))return}else if(h._directInactive)return;if(h._inactive||h._inactive===null){h._inactive=!1;for(var L=0;L<h.$children.length;L++)Hs(h.$children[L]);Kr(h,"activated")}}function Kr(h,A){ii();var L=h.$options[A],M=A+" hook";if(L)for(var $=0,B=L.length;$<B;$++)Nr(L[$],h,null,h,M);h._hasHookEvent&&h.$emit("hook:"+A),Mi()}var ba=[],Ru=[],sn={},zs=!1,Za=!1,ia=0,wo=0,ts=Date.now;if(ue&&!Je){var es=window.performance;es&&typeof es.now=="function"&&ts()>document.createEvent("Event").timeStamp&&(ts=function(){return es.now()})}function Qa(){var h,A;for(wo=ts(),Za=!0,ba.sort(function($,B){return $.id-B.id}),ia=0;ia<ba.length;ia++)(h=ba[ia]).before&&h.before(),A=h.id,sn[A]=null,h.run();var L=Ru.slice(),M=ba.slice();ia=ba.length=Ru.length=0,sn={},zs=Za=!1,function($){for(var B=0;B<$.length;B++)$[B]._inactive=!0,Hs($[B],!0)}(L),function($){for(var B=$.length;B--;){var tt=$[B],it=tt.vm;it._watcher===tt&&it._isMounted&&!it._isDestroyed&&Kr(it,"updated")}}(M),vn&&pt.devtools&&vn.emit("flush")}var ns=0,aa=function(h,A,L,M,$){this.vm=h,$&&(h._watcher=this),h._watchers.push(this),M?(this.deep=!!M.deep,this.user=!!M.user,this.lazy=!!M.lazy,this.sync=!!M.sync,this.before=M.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=L,this.id=++ns,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new En,this.newDepIds=new En,this.expression="",typeof A=="function"?this.getter=A:(this.getter=function(B){if(!oe.test(B)){var tt=B.split(".");return function(it){for(var at=0;at<tt.length;at++){if(!it)return;it=it[tt[at]]}return it}}}(A),this.getter||(this.getter=me)),this.value=this.lazy?void 0:this.get()};aa.prototype.get=function(){var h;ii(this);var A=this.vm;try{h=this.getter.call(A,A)}catch(L){if(!this.user)throw L;Wn(L,A,'getter for watcher "'+this.expression+'"')}finally{this.deep&&Ai(h),Mi(),this.cleanupDeps()}return h},aa.prototype.addDep=function(h){var A=h.id;this.newDepIds.has(A)||(this.newDepIds.add(A),this.newDeps.push(h),this.depIds.has(A)||h.addSub(this))},aa.prototype.cleanupDeps=function(){for(var h=this.deps.length;h--;){var A=this.deps[h];this.newDepIds.has(A.id)||A.removeSub(this)}var L=this.depIds;this.depIds=this.newDepIds,this.newDepIds=L,this.newDepIds.clear(),L=this.deps,this.deps=this.newDeps,this.newDeps=L,this.newDeps.length=0},aa.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():function(h){var A=h.id;if(sn[A]==null){if(sn[A]=!0,Za){for(var L=ba.length-1;L>ia&&ba[L].id>h.id;)L--;ba.splice(L+1,0,h)}else ba.push(h);zs||(zs=!0,si(Qa))}}(this)},aa.prototype.run=function(){if(this.active){var h=this.get();if(h!==this.value||S(h)||this.deep){var A=this.value;if(this.value=h,this.user)try{this.cb.call(this.vm,h,A)}catch(L){Wn(L,this.vm,'callback for watcher "'+this.expression+'"')}else this.cb.call(this.vm,h,A)}}},aa.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},aa.prototype.depend=function(){for(var h=this.deps.length;h--;)this.deps[h].depend()},aa.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||V(this.vm._watchers,this);for(var h=this.deps.length;h--;)this.deps[h].removeSub(this);this.active=!1}};var gi={enumerable:!0,configurable:!0,get:me,set:me};function ji(h,A,L){gi.get=function(){return this[A][L]},gi.set=function(M){this[A][L]=M},Object.defineProperty(h,L,gi)}var Pl={lazy:!0};function Sc(h,A,L){var M=!on();typeof L=="function"?(gi.get=M?Gs(A):zt(L),gi.set=me):(gi.get=L.get?M&&L.cache!==!1?Gs(A):zt(L.get):me,gi.set=L.set||me),Object.defineProperty(h,A,gi)}function Gs(h){return function(){var A=this._computedWatchers&&this._computedWatchers[h];if(A)return A.dirty&&A.evaluate(),tr.target&&A.depend(),A.value}}function zt(h){return function(){return h.call(this,this)}}function ae(h,A,L,M){return j(L)&&(M=L,L=L.handler),typeof L=="string"&&(L=h[L]),h.$watch(A,L,M)}var se=0;function Ae(h){var A=h.options;if(h.super){var L=Ae(h.super);if(L!==h.superOptions){h.superOptions=L;var M=function($){var B,tt=$.options,it=$.sealedOptions;for(var at in tt)tt[at]!==it[at]&&(B||(B={}),B[at]=tt[at]);return B}(h);M&&Lt(h.extendOptions,M),(A=h.options=mi(L,h.extendOptions)).name&&(A.components[A.name]=h)}}return A}function Ue(h){this._init(h)}function Bn(h){return h&&(h.Ctor.options.name||h.tag)}function lr(h,A){return Array.isArray(h)?h.indexOf(A)>-1:typeof h=="string"?h.split(",").indexOf(A)>-1:(L=h,w.call(L)==="[object RegExp]"&&h.test(A));var L}function oa(h,A){var L=h.cache,M=h.keys,$=h._vnode;for(var B in L){var tt=L[B];if(tt){var it=Bn(tt.componentOptions);it&&!A(it)&&ar(L,B,M,$)}}}function ar(h,A,L,M){var $=h[A];!$||M&&$.tag===M.tag||$.componentInstance.$destroy(),h[A]=null,V(L,A)}(function(h){h.prototype._init=function(A){var L=this;L._uid=se++,L._isVue=!0,A&&A._isComponent?function(M,$){var B=M.$options=Object.create(M.constructor.options),tt=$._parentVnode;B.parent=$.parent,B._parentVnode=tt;var it=tt.componentOptions;B.propsData=it.propsData,B._parentListeners=it.listeners,B._renderChildren=it.children,B._componentTag=it.tag,$.render&&(B.render=$.render,B.staticRenderFns=$.staticRenderFns)}(L,A):L.$options=mi(Ae(L.constructor),A||{},L),L._renderProxy=L,L._self=L,function(M){var $=M.$options,B=$.parent;if(B&&!$.abstract){for(;B.$options.abstract&&B.$parent;)B=B.$parent;B.$children.push(M)}M.$parent=B,M.$root=B?B.$root:M,M.$children=[],M.$refs={},M._watcher=null,M._inactive=null,M._directInactive=!1,M._isMounted=!1,M._isDestroyed=!1,M._isBeingDestroyed=!1}(L),function(M){M._events=Object.create(null),M._hasHookEvent=!1;var $=M.$options._parentListeners;$&&Vs(M,$)}(L),function(M){M._vnode=null,M._staticTrees=null;var $=M.$options,B=M.$vnode=$._parentVnode,tt=B&&B.context;M.$slots=rn($._renderChildren,tt),M.$scopedSlots=v,M._c=function(at,vt,Ot,wt){return Jo(M,at,vt,Ot,wt,!1)},M.$createElement=function(at,vt,Ot,wt){return Jo(M,at,vt,Ot,wt,!0)};var it=B&&B.data;jn(M,"$attrs",it&&it.attrs||v,null,!0),jn(M,"$listeners",$._parentListeners||v,null,!0)}(L),Kr(L,"beforeCreate"),function(M){var $=Ne(M.$options.inject,M);$&&(Tr(!1),Object.keys($).forEach(function(B){jn(M,B,$[B])}),Tr(!0))}(L),function(M){M._watchers=[];var $=M.$options;$.props&&function(B,tt){var it=B.$options.propsData||{},at=B._props={},vt=B.$options._propKeys=[];B.$parent&&Tr(!1);var Ot=function(Xt){vt.push(Xt);var ne=Vi(Xt,tt,it,B);jn(at,Xt,ne),Xt in B||ji(B,"_props",Xt)};for(var wt in tt)Ot(wt);Tr(!0)}(M,$.props),$.methods&&function(B,tt){for(var it in B.$options.props,tt)B[it]=typeof tt[it]!="function"?me:ee(tt[it],B)}(M,$.methods),$.data?function(B){var tt=B.$options.data;j(tt=B._data=typeof tt=="function"?function(Xt,ne){ii();try{return Xt.call(ne,ne)}catch(Kt){return Wn(Kt,ne,"data()"),{}}finally{Mi()}}(tt,B):tt||{})||(tt={});for(var it,at=Object.keys(tt),vt=B.$options.props,Ot=(B.$options.methods,at.length);Ot--;){var wt=at[Ot];vt&&G(vt,wt)||(it=(wt+"").charCodeAt(0))!==36&&it!==95&&ji(B,"_data",wt)}Sr(tt,!0)}(M):Sr(M._data={},!0),$.computed&&function(B,tt){var it=B._computedWatchers=Object.create(null),at=on();for(var vt in tt){var Ot=tt[vt],wt=typeof Ot=="function"?Ot:Ot.get;at||(it[vt]=new aa(B,wt||me,me,Pl)),vt in B||Sc(B,vt,Ot)}}(M,$.computed),$.watch&&$.watch!==ve&&function(B,tt){for(var it in tt){var at=tt[it];if(Array.isArray(at))for(var vt=0;vt<at.length;vt++)ae(B,it,at[vt]);else ae(B,it,at)}}(M,$.watch)}(L),function(M){var $=M.$options.provide;$&&(M._provided=typeof $=="function"?$.call(M):$)}(L),Kr(L,"created"),L.$options.el&&L.$mount(L.$options.el)}})(Ue),function(h){Object.defineProperty(h.prototype,"$data",{get:function(){return this._data}}),Object.defineProperty(h.prototype,"$props",{get:function(){return this._props}}),h.prototype.$set=pi,h.prototype.$delete=Bi,h.prototype.$watch=function(A,L,M){if(j(L))return ae(this,A,L,M);(M=M||{}).user=!0;var $=new aa(this,A,L,M);if(M.immediate)try{L.call(this,$.value)}catch(B){Wn(B,this,'callback for immediate watcher "'+$.expression+'"')}return function(){$.teardown()}}}(Ue),function(h){var A=/^hook:/;h.prototype.$on=function(L,M){var $=this;if(Array.isArray(L))for(var B=0,tt=L.length;B<tt;B++)$.$on(L[B],M);else($._events[L]||($._events[L]=[])).push(M),A.test(L)&&($._hasHookEvent=!0);return $},h.prototype.$once=function(L,M){var $=this;function B(){$.$off(L,B),M.apply($,arguments)}return B.fn=M,$.$on(L,B),$},h.prototype.$off=function(L,M){var $=this;if(!arguments.length)return $._events=Object.create(null),$;if(Array.isArray(L)){for(var B=0,tt=L.length;B<tt;B++)$.$off(L[B],M);return $}var it,at=$._events[L];if(!at)return $;if(!M)return $._events[L]=null,$;for(var vt=at.length;vt--;)if((it=at[vt])===M||it.fn===M){at.splice(vt,1);break}return $},h.prototype.$emit=function(L){var M=this._events[L];if(M){M=M.length>1?Jt(M):M;for(var $=Jt(arguments,1),B='event handler for "'+L+'"',tt=0,it=M.length;tt<it;tt++)Nr(M[tt],this,$,this,B)}return this}}(Ue),function(h){h.prototype._update=function(A,L){var M=this,$=M.$el,B=M._vnode,tt=Qo(M);M._vnode=A,M.$el=B?M.__patch__(B,A):M.__patch__(M.$el,A,L,!1),tt(),$&&($.__vue__=null),M.$el&&(M.$el.__vue__=M),M.$vnode&&M.$parent&&M.$vnode===M.$parent._vnode&&(M.$parent.$el=M.$el)},h.prototype.$forceUpdate=function(){this._watcher&&this._watcher.update()},h.prototype.$destroy=function(){var A=this;if(!A._isBeingDestroyed){Kr(A,"beforeDestroy"),A._isBeingDestroyed=!0;var L=A.$parent;!L||L._isBeingDestroyed||A.$options.abstract||V(L.$children,A),A._watcher&&A._watcher.teardown();for(var M=A._watchers.length;M--;)A._watchers[M].teardown();A._data.__ob__&&A._data.__ob__.vmCount--,A._isDestroyed=!0,A.__patch__(A._vnode,null),Kr(A,"destroyed"),A.$off(),A.$el&&(A.$el.__vue__=null),A.$vnode&&(A.$vnode.parent=null)}}}(Ue),function(h){ui(h.prototype),h.prototype.$nextTick=function(A){return si(A,this)},h.prototype._render=function(){var A,L=this,M=L.$options,$=M.render,B=M._parentVnode;B&&(L.$scopedSlots=ir(B.data.scopedSlots,L.$slots,L.$scopedSlots)),L.$vnode=B;try{Ma=L,A=$.call(L._renderProxy,L.$createElement)}catch(tt){Wn(tt,L,"render"),A=L._vnode}finally{Ma=null}return Array.isArray(A)&&A.length===1&&(A=A[0]),A instanceof br||(A=qr()),A.parent=B,A}}(Ue);var Iu=[String,RegExp,Array],Rl={KeepAlive:{name:"keep-alive",abstract:!0,props:{include:Iu,exclude:Iu,max:[String,Number]},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var h in this.cache)ar(this.cache,h,this.keys)},mounted:function(){var h=this;this.$watch("include",function(A){oa(h,function(L){return lr(A,L)})}),this.$watch("exclude",function(A){oa(h,function(L){return!lr(A,L)})})},render:function(){var h=this.$slots.default,A=So(h),L=A&&A.componentOptions;if(L){var M=Bn(L),$=this.include,B=this.exclude;if($&&(!M||!lr($,M))||B&&M&&lr(B,M))return A;var tt=this.cache,it=this.keys,at=A.key==null?L.Ctor.cid+(L.tag?"::"+L.tag:""):A.key;tt[at]?(A.componentInstance=tt[at].componentInstance,V(it,at),it.push(at)):(tt[at]=A,it.push(at),this.max&&it.length>parseInt(this.max)&&ar(tt,it[0],it,this._vnode)),A.data.keepAlive=!0}return A||h&&h[0]}}};(function(h){var A={get:function(){return pt}};Object.defineProperty(h,"config",A),h.util={warn:In,extend:Lt,mergeOptions:mi,defineReactive:jn},h.set=pi,h.delete=Bi,h.nextTick=si,h.observable=function(L){return Sr(L),L},h.options=Object.create(null),mt.forEach(function(L){h.options[L+"s"]=Object.create(null)}),h.options._base=h,Lt(h.options.components,Rl),function(L){L.use=function(M){var $=this._installedPlugins||(this._installedPlugins=[]);if($.indexOf(M)>-1)return this;var B=Jt(arguments,1);return B.unshift(this),typeof M.install=="function"?M.install.apply(M,B):typeof M=="function"&&M.apply(null,B),$.push(M),this}}(h),function(L){L.mixin=function(M){return this.options=mi(this.options,M),this}}(h),function(L){L.cid=0;var M=1;L.extend=function($){$=$||{};var B=this,tt=B.cid,it=$._Ctor||($._Ctor={});if(it[tt])return it[tt];var at=$.name||B.options.name,vt=function(Ot){this._init(Ot)};return(vt.prototype=Object.create(B.prototype)).constructor=vt,vt.cid=M++,vt.options=mi(B.options,$),vt.super=B,vt.options.props&&function(Ot){var wt=Ot.options.props;for(var Xt in wt)ji(Ot.prototype,"_props",Xt)}(vt),vt.options.computed&&function(Ot){var wt=Ot.options.computed;for(var Xt in wt)Sc(Ot.prototype,Xt,wt[Xt])}(vt),vt.extend=B.extend,vt.mixin=B.mixin,vt.use=B.use,mt.forEach(function(Ot){vt[Ot]=B[Ot]}),at&&(vt.options.components[at]=vt),vt.superOptions=B.options,vt.extendOptions=$,vt.sealedOptions=Lt({},vt.options),it[tt]=vt,vt}}(h),function(L){mt.forEach(function(M){L[M]=function($,B){return B?(M==="component"&&j(B)&&(B.name=B.name||$,B=this.options._base.extend(B)),M==="directive"&&typeof B=="function"&&(B={bind:B,update:B}),this.options[M+"s"][$]=B,B):this.options[M+"s"][$]}})}(h)})(Ue),Object.defineProperty(Ue.prototype,"$isServer",{get:on}),Object.defineProperty(Ue.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(Ue,"FunctionalRenderContext",{value:Us}),Ue.version="2.6.12";var Wi=k("style,class"),rs=k("input,textarea,option,select,progress"),Il=function(h,A,L){return L==="value"&&rs(h)&&A!=="button"||L==="selected"&&h==="option"||L==="checked"&&h==="input"||L==="muted"&&h==="video"},to=k("contenteditable,draggable,spellcheck"),ko=k("events,caret,typing,plaintext-only"),Ws=k("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible"),Xn="http://www.w3.org/1999/xlink",Du=function(h){return h.charAt(5)===":"&&h.slice(0,5)==="xlink"},Dl=function(h){return Du(h)?h.slice(6,h.length):""},Eo=function(h){return h==null||h===!1};function qs(h,A){return{staticClass:$s(h.staticClass,A.staticClass),class:l(h.class)?[h.class,A.class]:A.class}}function $s(h,A){return h?A?h+" "+A:h:A||""}function Ml(h){return Array.isArray(h)?function(A){for(var L,M="",$=0,B=A.length;$<B;$++)l(L=Ml(A[$]))&&L!==""&&(M&&(M+=" "),M+=L);return M}(h):S(h)?function(A){var L="";for(var M in A)A[M]&&(L&&(L+=" "),L+=M);return L}(h):typeof h=="string"?h:""}var Mu={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},eo=k("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),is=k("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),Ks=function(h){return eo(h)||is(h)};function no(h){return is(h)?"svg":h==="math"?"math":void 0}var Xs=Object.create(null),Uu=k("text,number,password,search,email,tel,url");function as(h){return typeof h=="string"?document.querySelector(h)||document.createElement("div"):h}var wc=Object.freeze({createElement:function(h,A){var L=document.createElement(h);return h!=="select"||A.data&&A.data.attrs&&A.data.attrs.multiple!==void 0&&L.setAttribute("multiple","multiple"),L},createElementNS:function(h,A){return document.createElementNS(Mu[h],A)},createTextNode:function(h){return document.createTextNode(h)},createComment:function(h){return document.createComment(h)},insertBefore:function(h,A,L){h.insertBefore(A,L)},removeChild:function(h,A){h.removeChild(A)},appendChild:function(h,A){h.appendChild(A)},parentNode:function(h){return h.parentNode},nextSibling:function(h){return h.nextSibling},tagName:function(h){return h.tagName},setTextContent:function(h,A){h.textContent=A},setStyleScope:function(h,A){h.setAttribute(A,"")}}),Ys={create:function(h,A){yi(A)},update:function(h,A){h.data.ref!==A.data.ref&&(yi(h,!0),yi(A))},destroy:function(h){yi(h,!0)}};function yi(h,A){var L=h.data.ref;if(l(L)){var M=h.context,$=h.componentInstance||h.elm,B=M.$refs;A?Array.isArray(B[L])?V(B[L],$):B[L]===$&&(B[L]=void 0):h.data.refInFor?Array.isArray(B[L])?B[L].indexOf($)<0&&B[L].push($):B[L]=[$]:B[L]=$}}var sa=new br("",{},[]),Js=["create","activate","update","remove","destroy"];function ro(h,A){return h.key===A.key&&(h.tag===A.tag&&h.isComment===A.isComment&&l(h.data)===l(A.data)&&function(L,M){if(L.tag!=="input")return!0;var $,B=l($=L.data)&&l($=$.attrs)&&$.type,tt=l($=M.data)&&l($=$.attrs)&&$.type;return B===tt||Uu(B)&&Uu(tt)}(h,A)||m(h.isAsyncPlaceholder)&&h.asyncFactory===A.asyncFactory&&u(A.asyncFactory.error))}function kc(h,A,L){var M,$,B={};for(M=A;M<=L;++M)l($=h[M].key)&&(B[$]=M);return B}var Bu={create:qi,update:qi,destroy:function(h){qi(h,sa)}};function qi(h,A){(h.data.directives||A.data.directives)&&function(L,M){var $,B,tt,it=L===sa,at=M===sa,vt=Nu(L.data.directives,L.context),Ot=Nu(M.data.directives,M.context),wt=[],Xt=[];for($ in Ot)B=vt[$],tt=Ot[$],B?(tt.oldValue=B.value,tt.oldArg=B.arg,Ba(tt,"update",M,L),tt.def&&tt.def.componentUpdated&&Xt.push(tt)):(Ba(tt,"bind",M,L),tt.def&&tt.def.inserted&&wt.push(tt));if(wt.length){var ne=function(){for(var Kt=0;Kt<wt.length;Kt++)Ba(wt[Kt],"inserted",M,L)};it?qt(M,"insert",ne):ne()}if(Xt.length&&qt(M,"postpatch",function(){for(var Kt=0;Kt<Xt.length;Kt++)Ba(Xt[Kt],"componentUpdated",M,L)}),!it)for($ in vt)Ot[$]||Ba(vt[$],"unbind",L,L,at)}(h,A)}var Ua=Object.create(null);function Nu(h,A){var L,M,$=Object.create(null);if(!h)return $;for(L=0;L<h.length;L++)(M=h[L]).modifiers||(M.modifiers=Ua),$[Fu(M)]=M,M.def=wi(A.$options,"directives",M.name);return $}function Fu(h){return h.rawName||h.name+"."+Object.keys(h.modifiers||{}).join(".")}function Ba(h,A,L,M,$){var B=h.def&&h.def[A];if(B)try{B(L.elm,h,L,M,$)}catch(tt){Wn(tt,L.context,"directive "+h.name+" "+A+" hook")}}var _r=[Ys,Bu];function Er(h,A){var L=A.componentOptions;if(!(l(L)&&L.Ctor.options.inheritAttrs===!1||u(h.data.attrs)&&u(A.data.attrs))){var M,$,B=A.elm,tt=h.data.attrs||{},it=A.data.attrs||{};for(M in l(it.__ob__)&&(it=A.data.attrs=Lt({},it)),it)$=it[M],tt[M]!==$&&Fr(B,M,$);for(M in(Je||zn)&&it.value!==tt.value&&Fr(B,"value",it.value),tt)u(it[M])&&(Du(M)?B.removeAttributeNS(Xn,Dl(M)):to(M)||B.removeAttribute(M))}}function Fr(h,A,L){h.tagName.indexOf("-")>-1?Ec(h,A,L):Ws(A)?Eo(L)?h.removeAttribute(A):(L=A==="allowfullscreen"&&h.tagName==="EMBED"?"true":A,h.setAttribute(A,L)):to(A)?h.setAttribute(A,function(M,$){return Eo($)||$==="false"?"false":M==="contenteditable"&&ko($)?$:"true"}(A,L)):Du(A)?Eo(L)?h.removeAttributeNS(Xn,Dl(A)):h.setAttributeNS(Xn,A,L):Ec(h,A,L)}function Ec(h,A,L){if(Eo(L))h.removeAttribute(A);else{if(Je&&!Te&&h.tagName==="TEXTAREA"&&A==="placeholder"&&L!==""&&!h.__ieph){var M=function($){$.stopImmediatePropagation(),h.removeEventListener("input",M)};h.addEventListener("input",M),h.__ieph=!0}h.setAttribute(A,L)}}var Vu={create:Er,update:Er};function os(h,A){var L=A.elm,M=A.data,$=h.data;if(!(u(M.staticClass)&&u(M.class)&&(u($)||u($.staticClass)&&u($.class)))){var B=function(it){for(var at=it.data,vt=it,Ot=it;l(Ot.componentInstance);)(Ot=Ot.componentInstance._vnode)&&Ot.data&&(at=qs(Ot.data,at));for(;l(vt=vt.parent);)vt&&vt.data&&(at=qs(at,vt.data));return function(wt,Xt){return l(wt)||l(Xt)?$s(wt,Ml(Xt)):""}(at.staticClass,at.class)}(A),tt=L._transitionClasses;l(tt)&&(B=$s(B,Ml(tt))),B!==L._prevClass&&(L.setAttribute("class",B),L._prevClass=B)}}var Ul,Zs,Na,ua,Fa,io,Qs={create:os,update:os},Hu=/[\w).+\-_$\]]/;function Ta(h){var A,L,M,$,B,tt=!1,it=!1,at=!1,vt=!1,Ot=0,wt=0,Xt=0,ne=0;for(M=0;M<h.length;M++)if(L=A,A=h.charCodeAt(M),tt)A===39&&L!==92&&(tt=!1);else if(it)A===34&&L!==92&&(it=!1);else if(at)A===96&&L!==92&&(at=!1);else if(vt)A===47&&L!==92&&(vt=!1);else if(A!==124||h.charCodeAt(M+1)===124||h.charCodeAt(M-1)===124||Ot||wt||Xt){switch(A){case 34:it=!0;break;case 39:tt=!0;break;case 96:at=!0;break;case 40:Xt++;break;case 41:Xt--;break;case 91:wt++;break;case 93:wt--;break;case 123:Ot++;break;case 125:Ot--}if(A===47){for(var Kt=M-1,Ft=void 0;Kt>=0&&(Ft=h.charAt(Kt))===" ";Kt--);Ft&&Hu.test(Ft)||(vt=!0)}}else $===void 0?(ne=M+1,$=h.slice(0,M).trim()):ye();function ye(){(B||(B=[])).push(h.slice(ne,M).trim()),ne=M+1}if($===void 0?$=h.slice(0,M).trim():ne!==0&&ye(),B)for(M=0;M<B.length;M++)$=Cc($,B[M]);return $}function Cc(h,A){var L=A.indexOf("(");if(L<0)return'_f("'+A+'")('+h+")";var M=A.slice(0,L),$=A.slice(L+1);return'_f("'+M+'")('+h+($!==")"?","+$:$)}function Ac(h,A){console.error("[Vue compiler]: "+h)}function ss(h,A){return h?h.map(function(L){return L[A]}).filter(function(L){return L}):[]}function Co(h,A,L,M,$){(h.props||(h.props=[])).push(xn({name:A,value:L,dynamic:$},M)),h.plain=!1}function ao(h,A,L,M,$){($?h.dynamicAttrs||(h.dynamicAttrs=[]):h.attrs||(h.attrs=[])).push(xn({name:A,value:L,dynamic:$},M)),h.plain=!1}function us(h,A,L,M){h.attrsMap[A]=L,h.attrsList.push(xn({name:A,value:L},M))}function ls(h,A,L,M,$,B,tt,it){(h.directives||(h.directives=[])).push(xn({name:A,rawName:L,value:M,arg:$,isDynamicArg:B,modifiers:tt},it)),h.plain=!1}function tu(h,A,L){return L?"_p("+A+',"'+h+'")':h+A}function rt(h,A,L,M,$,B,tt,it){var at;(M=M||v).right?it?A="("+A+")==='click'?'contextmenu':("+A+")":A==="click"&&(A="contextmenu",delete M.right):M.middle&&(it?A="("+A+")==='click'?'mouseup':("+A+")":A==="click"&&(A="mouseup")),M.capture&&(delete M.capture,A=tu("!",A,it)),M.once&&(delete M.once,A=tu("~",A,it)),M.passive&&(delete M.passive,A=tu("&",A,it)),M.native?(delete M.native,at=h.nativeEvents||(h.nativeEvents={})):at=h.events||(h.events={});var vt=xn({value:L.trim(),dynamic:it},tt);M!==v&&(vt.modifiers=M);var Ot=at[A];Array.isArray(Ot)?$?Ot.unshift(vt):Ot.push(vt):at[A]=Ot?$?[vt,Ot]:[Ot,vt]:vt,h.plain=!1}function Vr(h,A,L){var M=dr(h,":"+A)||dr(h,"v-bind:"+A);if(M!=null)return Ta(M);if(L!==!1){var $=dr(h,A);if($!=null)return JSON.stringify($)}}function dr(h,A,L){var M;if((M=h.attrsMap[A])!=null){for(var $=h.attrsList,B=0,tt=$.length;B<tt;B++)if($[B].name===A){$.splice(B,1);break}}return L&&delete h.attrsMap[A],M}function li(h,A){for(var L=h.attrsList,M=0,$=L.length;M<$;M++){var B=L[M];if(A.test(B.name))return L.splice(M,1),B}}function xn(h,A){return A&&(A.start!=null&&(h.start=A.start),A.end!=null&&(h.end=A.end)),h}function Sa(h,A,L){var M=L||{},$=M.number,B="$$v";M.trim&&(B="(typeof $$v === 'string'? $$v.trim(): $$v)"),$&&(B="_n("+B+")");var tt=Xr(A,B);h.model={value:"("+A+")",expression:JSON.stringify(A),callback:"function ($$v) {"+tt+"}"}}function Xr(h,A){var L=function(M){if(M=M.trim(),Ul=M.length,M.indexOf("[")<0||M.lastIndexOf("]")<Ul-1)return(ua=M.lastIndexOf("."))>-1?{exp:M.slice(0,ua),key:'"'+M.slice(ua+1)+'"'}:{exp:M,key:null};for(Zs=M,ua=Fa=io=0;!Va();)Ki(Na=$i())?Bl(Na):Na===91&&jc(Na);return{exp:M.slice(0,Fa),key:M.slice(Fa+1,io)}}(h);return L.key===null?h+"="+A:"$set("+L.exp+", "+L.key+", "+A+")"}function $i(){return Zs.charCodeAt(++ua)}function Va(){return ua>=Ul}function Ki(h){return h===34||h===39}function jc(h){var A=1;for(Fa=ua;!Va();)if(Ki(h=$i()))Bl(h);else if(h===91&&A++,h===93&&A--,A===0){io=ua;break}}function Bl(h){for(var A=h;!Va()&&(h=$i())!==A;);}var eu,nd="__r";function Nl(h,A,L){var M=eu;return function $(){A.apply(null,arguments)!==null&&xc(h,$,L,M)}}var cs=nr&&!(Se&&Number(Se[1])<=53);function nu(h,A,L,M){if(cs){var $=wo,B=A;A=B._wrapper=function(tt){if(tt.target===tt.currentTarget||tt.timeStamp>=$||tt.timeStamp<=0||tt.target.ownerDocument!==document)return B.apply(this,arguments)}}eu.addEventListener(h,A,le?{capture:L,passive:M}:L)}function xc(h,A,L,M){(M||eu).removeEventListener(h,A._wrapper||A,L)}function Ao(h,A){if(!u(h.data.on)||!u(A.data.on)){var L=A.data.on||{},M=h.data.on||{};eu=A.elm,function($){if(l($.__r)){var B=Je?"change":"input";$[B]=[].concat($.__r,$[B]||[]),delete $.__r}l($.__c)&&($.change=[].concat($.__c,$.change||[]),delete $.__c)}(L),$t(L,M,nu,xc,Nl,A.context),eu=void 0}}var Xi,zu={create:Ao,update:Ao};function xi(h,A){if(!u(h.data.domProps)||!u(A.data.domProps)){var L,M,$=A.elm,B=h.data.domProps||{},tt=A.data.domProps||{};for(L in l(tt.__ob__)&&(tt=A.data.domProps=Lt({},tt)),B)L in tt||($[L]="");for(L in tt){if(M=tt[L],L==="textContent"||L==="innerHTML"){if(A.children&&(A.children.length=0),M===B[L])continue;$.childNodes.length===1&&$.removeChild($.childNodes[0])}if(L==="value"&&$.tagName!=="PROGRESS"){$._value=M;var it=u(M)?"":String(M);pr($,it)&&($.value=it)}else if(L==="innerHTML"&&is($.tagName)&&u($.innerHTML)){(Xi=Xi||document.createElement("div")).innerHTML="<svg>"+M+"</svg>";for(var at=Xi.firstChild;$.firstChild;)$.removeChild($.firstChild);for(;at.firstChild;)$.appendChild(at.firstChild)}else if(M!==B[L])try{$[L]=M}catch(vt){}}}}function pr(h,A){return!h.composing&&(h.tagName==="OPTION"||function(L,M){var $=!0;try{$=document.activeElement!==L}catch(B){}return $&&L.value!==M}(h,A)||function(L,M){var $=L.value,B=L._vModifiers;if(l(B)){if(B.number)return _($)!==_(M);if(B.trim)return $.trim()!==M.trim()}return $!==M}(h,A))}var ds={create:xi,update:xi},Hr=K(function(h){var A={},L=/:(.+)/;return h.split(/;(?![^(]*\))/g).forEach(function(M){if(M){var $=M.split(L);$.length>1&&(A[$[0].trim()]=$[1].trim())}}),A});function Ha(h){var A=za(h.style);return h.staticStyle?Lt(h.staticStyle,A):A}function za(h){return Array.isArray(h)?Zt(h):typeof h=="string"?Hr(h):h}var ru,rd=/^--/,fs=/\s*!important$/,Gu=function(h,A,L){if(rd.test(A))h.style.setProperty(A,L);else if(fs.test(L))h.style.setProperty(Ut(A),L.replace(fs,""),"important");else{var M=Fl(A);if(Array.isArray(L))for(var $=0,B=L.length;$<B;$++)h.style[M]=L[$];else h.style[M]=L}},Mr=["Webkit","Moz","ms"],Fl=K(function(h){if(ru=ru||document.createElement("div").style,(h=ct(h))!=="filter"&&h in ru)return h;for(var A=h.charAt(0).toUpperCase()+h.slice(1),L=0;L<Mr.length;L++){var M=Mr[L]+A;if(M in ru)return M}});function Vl(h,A){var L=A.data,M=h.data;if(!(u(L.staticStyle)&&u(L.style)&&u(M.staticStyle)&&u(M.style))){var $,B,tt=A.elm,it=M.staticStyle,at=M.normalizedStyle||M.style||{},vt=it||at,Ot=za(A.data.style)||{};A.data.normalizedStyle=l(Ot.__ob__)?Lt({},Ot):Ot;var wt=function(Xt,ne){for(var Kt,Ft={},ye=Xt;ye.componentInstance;)(ye=ye.componentInstance._vnode)&&ye.data&&(Kt=Ha(ye.data))&&Lt(Ft,Kt);(Kt=Ha(Xt.data))&&Lt(Ft,Kt);for(var Ve=Xt;Ve=Ve.parent;)Ve.data&&(Kt=Ha(Ve.data))&&Lt(Ft,Kt);return Ft}(A);for(B in vt)u(wt[B])&&Gu(tt,B,"");for(B in wt)($=wt[B])!==vt[B]&&Gu(tt,B,$==null?"":$)}}var wa={create:Vl,update:Vl},Wu=/\s+/;function iu(h,A){if(A&&(A=A.trim()))if(h.classList)A.indexOf(" ")>-1?A.split(Wu).forEach(function(M){return h.classList.add(M)}):h.classList.add(A);else{var L=" "+(h.getAttribute("class")||"")+" ";L.indexOf(" "+A+" ")<0&&h.setAttribute("class",(L+A).trim())}}function oo(h,A){if(A&&(A=A.trim()))if(h.classList)A.indexOf(" ")>-1?A.split(Wu).forEach(function($){return h.classList.remove($)}):h.classList.remove(A),h.classList.length||h.removeAttribute("class");else{for(var L=" "+(h.getAttribute("class")||"")+" ",M=" "+A+" ";L.indexOf(M)>=0;)L=L.replace(M," ");(L=L.trim())?h.setAttribute("class",L):h.removeAttribute("class")}}function jo(h){if(h){if(typeof h=="object"){var A={};return h.css!==!1&&Lt(A,On(h.name||"v")),Lt(A,h),A}return typeof h=="string"?On(h):void 0}}var On=K(function(h){return{enterClass:h+"-enter",enterToClass:h+"-enter-to",enterActiveClass:h+"-enter-active",leaveClass:h+"-leave",leaveToClass:h+"-leave-to",leaveActiveClass:h+"-leave-active"}}),ka=ue&&!Te,so="transition",hs="animation",ps="transition",uo="transitionend",au="animation",ms="animationend";ka&&(window.ontransitionend===void 0&&window.onwebkittransitionend!==void 0&&(ps="WebkitTransition",uo="webkitTransitionEnd"),window.onanimationend===void 0&&window.onwebkitanimationend!==void 0&&(au="WebkitAnimation",ms="webkitAnimationEnd"));var xo=ue?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(h){return h()};function Hl(h){xo(function(){xo(h)})}function la(h,A){var L=h._transitionClasses||(h._transitionClasses=[]);L.indexOf(A)<0&&(L.push(A),iu(h,A))}function ca(h,A){h._transitionClasses&&V(h._transitionClasses,A),oo(h,A)}function Oc(h,A,L){var M=Gl(h,A),$=M.type,B=M.timeout,tt=M.propCount;if(!$)return L();var it=$===so?uo:ms,at=0,vt=function(){h.removeEventListener(it,Ot),L()},Ot=function(wt){wt.target===h&&++at>=tt&&vt()};setTimeout(function(){at<tt&&vt()},B+1),h.addEventListener(it,Ot)}var zl=/\b(transform|all)(,|$)/;function Gl(h,A){var L,M=window.getComputedStyle(h),$=(M[ps+"Delay"]||"").split(", "),B=(M[ps+"Duration"]||"").split(", "),tt=Oi($,B),it=(M[au+"Delay"]||"").split(", "),at=(M[au+"Duration"]||"").split(", "),vt=Oi(it,at),Ot=0,wt=0;return A===so?tt>0&&(L=so,Ot=tt,wt=B.length):A===hs?vt>0&&(L=hs,Ot=vt,wt=at.length):wt=(L=(Ot=Math.max(tt,vt))>0?tt>vt?so:hs:null)?L===so?B.length:at.length:0,{type:L,timeout:Ot,propCount:wt,hasTransform:L===so&&zl.test(M[ps+"Property"])}}function Oi(h,A){for(;h.length<A.length;)h=h.concat(h);return Math.max.apply(null,A.map(function(L,M){return qu(L)+qu(h[M])}))}function qu(h){return 1e3*Number(h.slice(0,-1).replace(",","."))}function vs(h,A){var L=h.elm;l(L._leaveCb)&&(L._leaveCb.cancelled=!0,L._leaveCb());var M=jo(h.data.transition);if(!u(M)&&!l(L._enterCb)&&L.nodeType===1){for(var $=M.css,B=M.type,tt=M.enterClass,it=M.enterToClass,at=M.enterActiveClass,vt=M.appearClass,Ot=M.appearToClass,wt=M.appearActiveClass,Xt=M.beforeEnter,ne=M.enter,Kt=M.afterEnter,Ft=M.enterCancelled,ye=M.beforeAppear,Ve=M.appear,ze=M.afterAppear,Ze=M.appearCancelled,An=M.duration,Pe=Gi,gn=Gi.$vnode;gn&&gn.parent;)Pe=gn.context,gn=gn.parent;var It=!Pe._isMounted||!h.isRootInsert;if(!It||Ve||Ve===""){var Bt=It&&vt?vt:tt,_e=It&&wt?wt:at,He=It&&Ot?Ot:it,dn=It&&ye||Xt,fn=It&&typeof Ve=="function"?Ve:ne,Tn=It&&ze||Kt,Pn=It&&Ze||Ft,Hn=_(S(An)?An.enter:An),er=$!==!1&&!Te,qn=gs(fn),$n=L._enterCb=bt(function(){er&&(ca(L,He),ca(L,_e)),$n.cancelled?(er&&ca(L,Bt),Pn&&Pn(L)):Tn&&Tn(L),L._enterCb=null});h.data.show||qt(h,"insert",function(){var xe=L.parentNode,Rn=xe&&xe._pending&&xe._pending[h.key];Rn&&Rn.tag===h.tag&&Rn.elm._leaveCb&&Rn.elm._leaveCb(),fn&&fn(L,$n)}),dn&&dn(L),er&&(la(L,Bt),la(L,_e),Hl(function(){ca(L,Bt),$n.cancelled||(la(L,He),qn||(Ku(Hn)?setTimeout($n,Hn):Oc(L,B,$n)))})),h.data.show&&(A&&A(),fn&&fn(L,$n)),er||qn||$n()}}}function $u(h,A){var L=h.elm;l(L._enterCb)&&(L._enterCb.cancelled=!0,L._enterCb());var M=jo(h.data.transition);if(u(M)||L.nodeType!==1)return A();if(!l(L._leaveCb)){var $=M.css,B=M.type,tt=M.leaveClass,it=M.leaveToClass,at=M.leaveActiveClass,vt=M.beforeLeave,Ot=M.leave,wt=M.afterLeave,Xt=M.leaveCancelled,ne=M.delayLeave,Kt=M.duration,Ft=$!==!1&&!Te,ye=gs(Ot),Ve=_(S(Kt)?Kt.leave:Kt),ze=L._leaveCb=bt(function(){L.parentNode&&L.parentNode._pending&&(L.parentNode._pending[h.key]=null),Ft&&(ca(L,it),ca(L,at)),ze.cancelled?(Ft&&ca(L,tt),Xt&&Xt(L)):(A(),wt&&wt(L)),L._leaveCb=null});ne?ne(Ze):Ze()}function Ze(){ze.cancelled||(!h.data.show&&L.parentNode&&((L.parentNode._pending||(L.parentNode._pending={}))[h.key]=h),vt&&vt(L),Ft&&(la(L,tt),la(L,at),Hl(function(){ca(L,tt),ze.cancelled||(la(L,it),ye||(Ku(Ve)?setTimeout(ze,Ve):Oc(L,B,ze)))})),Ot&&Ot(L,ze),Ft||ye||ze())}}function Ku(h){return typeof h=="number"&&!isNaN(h)}function gs(h){if(u(h))return!1;var A=h.fns;return l(A)?gs(Array.isArray(A)?A[0]:A):(h._length||h.length)>1}function Ga(h,A){A.data.show!==!0&&vs(A)}var Xu=function(h){var A,L,M={},$=h.modules,B=h.nodeOps;for(A=0;A<Js.length;++A)for(M[Js[A]]=[],L=0;L<$.length;++L)l($[L][Js[A]])&&M[Js[A]].push($[L][Js[A]]);function tt(It){var Bt=B.parentNode(It);l(Bt)&&B.removeChild(Bt,It)}function it(It,Bt,_e,He,dn,fn,Tn){if(l(It.elm)&&l(fn)&&(It=fn[Tn]=Jn(It)),It.isRootInsert=!dn,!function(qn,$n,xe,Rn){var Nn=qn.data;if(l(Nn)){var Mn=l(qn.componentInstance)&&Nn.keepAlive;if(l(Nn=Nn.hook)&&l(Nn=Nn.init)&&Nn(qn,!1),l(qn.componentInstance))return at(qn,$n),vt(xe,qn.elm,Rn),m(Mn)&&function(Zr,mo,bi,wn){for(var we,Fn=Zr;Fn.componentInstance;)if(l(we=(Fn=Fn.componentInstance._vnode).data)&&l(we=we.transition)){for(we=0;we<M.activate.length;++we)M.activate[we](sa,Fn);mo.push(Fn);break}vt(bi,Zr.elm,wn)}(qn,$n,xe,Rn),!0}}(It,Bt,_e,He)){var Pn=It.data,Hn=It.children,er=It.tag;l(er)?(It.elm=It.ns?B.createElementNS(It.ns,er):B.createElement(er,It),ne(It),Ot(It,Hn,Bt),l(Pn)&&Xt(It,Bt),vt(_e,It.elm,He)):m(It.isComment)?(It.elm=B.createComment(It.text),vt(_e,It.elm,He)):(It.elm=B.createTextNode(It.text),vt(_e,It.elm,He))}}function at(It,Bt){l(It.data.pendingInsert)&&(Bt.push.apply(Bt,It.data.pendingInsert),It.data.pendingInsert=null),It.elm=It.componentInstance.$el,wt(It)?(Xt(It,Bt),ne(It)):(yi(It),Bt.push(It))}function vt(It,Bt,_e){l(It)&&(l(_e)?B.parentNode(_e)===It&&B.insertBefore(It,Bt,_e):B.appendChild(It,Bt))}function Ot(It,Bt,_e){if(Array.isArray(Bt))for(var He=0;He<Bt.length;++He)it(Bt[He],_e,It.elm,null,!0,Bt,He);else d(It.text)&&B.appendChild(It.elm,B.createTextNode(String(It.text)))}function wt(It){for(;It.componentInstance;)It=It.componentInstance._vnode;return l(It.tag)}function Xt(It,Bt){for(var _e=0;_e<M.create.length;++_e)M.create[_e](sa,It);l(A=It.data.hook)&&(l(A.create)&&A.create(sa,It),l(A.insert)&&Bt.push(It))}function ne(It){var Bt;if(l(Bt=It.fnScopeId))B.setStyleScope(It.elm,Bt);else for(var _e=It;_e;)l(Bt=_e.context)&&l(Bt=Bt.$options._scopeId)&&B.setStyleScope(It.elm,Bt),_e=_e.parent;l(Bt=Gi)&&Bt!==It.context&&Bt!==It.fnContext&&l(Bt=Bt.$options._scopeId)&&B.setStyleScope(It.elm,Bt)}function Kt(It,Bt,_e,He,dn,fn){for(;He<=dn;++He)it(_e[He],fn,It,Bt,!1,_e,He)}function Ft(It){var Bt,_e,He=It.data;if(l(He))for(l(Bt=He.hook)&&l(Bt=Bt.destroy)&&Bt(It),Bt=0;Bt<M.destroy.length;++Bt)M.destroy[Bt](It);if(l(Bt=It.children))for(_e=0;_e<It.children.length;++_e)Ft(It.children[_e])}function ye(It,Bt,_e){for(;Bt<=_e;++Bt){var He=It[Bt];l(He)&&(l(He.tag)?(Ve(He),Ft(He)):tt(He.elm))}}function Ve(It,Bt){if(l(Bt)||l(It.data)){var _e,He=M.remove.length+1;for(l(Bt)?Bt.listeners+=He:Bt=function(dn,fn){function Tn(){--Tn.listeners==0&&tt(dn)}return Tn.listeners=fn,Tn}(It.elm,He),l(_e=It.componentInstance)&&l(_e=_e._vnode)&&l(_e.data)&&Ve(_e,Bt),_e=0;_e<M.remove.length;++_e)M.remove[_e](It,Bt);l(_e=It.data.hook)&&l(_e=_e.remove)?_e(It,Bt):Bt()}else tt(It.elm)}function ze(It,Bt,_e,He){for(var dn=_e;dn<He;dn++){var fn=Bt[dn];if(l(fn)&&ro(It,fn))return dn}}function Ze(It,Bt,_e,He,dn,fn){if(It!==Bt){l(Bt.elm)&&l(He)&&(Bt=He[dn]=Jn(Bt));var Tn=Bt.elm=It.elm;if(m(It.isAsyncPlaceholder))l(Bt.asyncFactory.resolved)?gn(It.elm,Bt,_e):Bt.isAsyncPlaceholder=!0;else if(m(Bt.isStatic)&&m(It.isStatic)&&Bt.key===It.key&&(m(Bt.isCloned)||m(Bt.isOnce)))Bt.componentInstance=It.componentInstance;else{var Pn,Hn=Bt.data;l(Hn)&&l(Pn=Hn.hook)&&l(Pn=Pn.prepatch)&&Pn(It,Bt);var er=It.children,qn=Bt.children;if(l(Hn)&&wt(Bt)){for(Pn=0;Pn<M.update.length;++Pn)M.update[Pn](It,Bt);l(Pn=Hn.hook)&&l(Pn=Pn.update)&&Pn(It,Bt)}u(Bt.text)?l(er)&&l(qn)?er!==qn&&function($n,xe,Rn,Nn,Mn){for(var Zr,mo,bi,wn=0,we=0,Fn=xe.length-1,tn=xe[0],Ln=xe[Fn],Or=Rn.length-1,Cr=Rn[0],zr=Rn[Or],vo=!Mn;wn<=Fn&&we<=Or;)u(tn)?tn=xe[++wn]:u(Ln)?Ln=xe[--Fn]:ro(tn,Cr)?(Ze(tn,Cr,Nn,Rn,we),tn=xe[++wn],Cr=Rn[++we]):ro(Ln,zr)?(Ze(Ln,zr,Nn,Rn,Or),Ln=xe[--Fn],zr=Rn[--Or]):ro(tn,zr)?(Ze(tn,zr,Nn,Rn,Or),vo&&B.insertBefore($n,tn.elm,B.nextSibling(Ln.elm)),tn=xe[++wn],zr=Rn[--Or]):ro(Ln,Cr)?(Ze(Ln,Cr,Nn,Rn,we),vo&&B.insertBefore($n,Ln.elm,tn.elm),Ln=xe[--Fn],Cr=Rn[++we]):(u(Zr)&&(Zr=kc(xe,wn,Fn)),u(mo=l(Cr.key)?Zr[Cr.key]:ze(Cr,xe,wn,Fn))?it(Cr,Nn,$n,tn.elm,!1,Rn,we):ro(bi=xe[mo],Cr)?(Ze(bi,Cr,Nn,Rn,we),xe[mo]=void 0,vo&&B.insertBefore($n,bi.elm,tn.elm)):it(Cr,Nn,$n,tn.elm,!1,Rn,we),Cr=Rn[++we]);wn>Fn?Kt($n,u(Rn[Or+1])?null:Rn[Or+1].elm,Rn,we,Or,Nn):we>Or&&ye(xe,wn,Fn)}(Tn,er,qn,_e,fn):l(qn)?(l(It.text)&&B.setTextContent(Tn,""),Kt(Tn,null,qn,0,qn.length-1,_e)):l(er)?ye(er,0,er.length-1):l(It.text)&&B.setTextContent(Tn,""):It.text!==Bt.text&&B.setTextContent(Tn,Bt.text),l(Hn)&&l(Pn=Hn.hook)&&l(Pn=Pn.postpatch)&&Pn(It,Bt)}}}function An(It,Bt,_e){if(m(_e)&&l(It.parent))It.parent.data.pendingInsert=Bt;else for(var He=0;He<Bt.length;++He)Bt[He].data.hook.insert(Bt[He])}var Pe=k("attrs,class,staticClass,staticStyle,key");function gn(It,Bt,_e,He){var dn,fn=Bt.tag,Tn=Bt.data,Pn=Bt.children;if(He=He||Tn&&Tn.pre,Bt.elm=It,m(Bt.isComment)&&l(Bt.asyncFactory))return Bt.isAsyncPlaceholder=!0,!0;if(l(Tn)&&(l(dn=Tn.hook)&&l(dn=dn.init)&&dn(Bt,!0),l(dn=Bt.componentInstance)))return at(Bt,_e),!0;if(l(fn)){if(l(Pn))if(It.hasChildNodes())if(l(dn=Tn)&&l(dn=dn.domProps)&&l(dn=dn.innerHTML)){if(dn!==It.innerHTML)return!1}else{for(var Hn=!0,er=It.firstChild,qn=0;qn<Pn.length;qn++){if(!er||!gn(er,Pn[qn],_e,He)){Hn=!1;break}er=er.nextSibling}if(!Hn||er)return!1}else Ot(Bt,Pn,_e);if(l(Tn)){var $n=!1;for(var xe in Tn)if(!Pe(xe)){$n=!0,Xt(Bt,_e);break}!$n&&Tn.class&&Ai(Tn.class)}}else It.data!==Bt.text&&(It.data=Bt.text);return!0}return function(It,Bt,_e,He){if(!u(Bt)){var dn,fn=!1,Tn=[];if(u(It))fn=!0,it(Bt,Tn);else{var Pn=l(It.nodeType);if(!Pn&&ro(It,Bt))Ze(It,Bt,Tn,null,null,He);else{if(Pn){if(It.nodeType===1&&It.hasAttribute(Dt)&&(It.removeAttribute(Dt),_e=!0),m(_e)&&gn(It,Bt,Tn))return An(Bt,Tn,!0),It;dn=It,It=new br(B.tagName(dn).toLowerCase(),{},[],void 0,dn)}var Hn=It.elm,er=B.parentNode(Hn);if(it(Bt,Tn,Hn._leaveCb?null:er,B.nextSibling(Hn)),l(Bt.parent))for(var qn=Bt.parent,$n=wt(Bt);qn;){for(var xe=0;xe<M.destroy.length;++xe)M.destroy[xe](qn);if(qn.elm=Bt.elm,$n){for(var Rn=0;Rn<M.create.length;++Rn)M.create[Rn](sa,qn);var Nn=qn.data.hook.insert;if(Nn.merged)for(var Mn=1;Mn<Nn.fns.length;Mn++)Nn.fns[Mn]()}else yi(qn);qn=qn.parent}l(er)?ye([It],0,0):l(It.tag)&&Ft(It)}}return An(Bt,Tn,fn),Bt.elm}l(It)&&Ft(It)}}({nodeOps:wc,modules:[Vu,Qs,zu,ds,wa,ue?{create:Ga,activate:Ga,remove:function(h,A){h.data.show!==!0?$u(h,A):A()}}:{}].concat(_r)});Te&&document.addEventListener("selectionchange",function(){var h=document.activeElement;h&&h.vmodel&&ql(h,"input")});var ys={inserted:function(h,A,L,M){L.tag==="select"?(M.elm&&!M.elm._vOptions?qt(L,"postpatch",function(){ys.componentUpdated(h,A,L)}):Yu(h,A,L.context),h._vOptions=[].map.call(h.options,ou)):(L.tag==="textarea"||Uu(h.type))&&(h._vModifiers=A.modifiers,A.modifiers.lazy||(h.addEventListener("compositionstart",Oo),h.addEventListener("compositionend",Wl),h.addEventListener("change",Wl),Te&&(h.vmodel=!0)))},componentUpdated:function(h,A,L){if(L.tag==="select"){Yu(h,A,L.context);var M=h._vOptions,$=h._vOptions=[].map.call(h.options,ou);$.some(function(B,tt){return!ut(B,M[tt])})&&(h.multiple?A.value.some(function(B){return Lc(B,$)}):A.value!==A.oldValue&&Lc(A.value,$))&&ql(h,"change")}}};function Yu(h,A,L){Cn(h,A,L),(Je||zn)&&setTimeout(function(){Cn(h,A,L)},0)}function Cn(h,A,L){var M=A.value,$=h.multiple;if(!$||Array.isArray(M)){for(var B,tt,it=0,at=h.options.length;it<at;it++)if(tt=h.options[it],$)B=ht(M,ou(tt))>-1,tt.selected!==B&&(tt.selected=B);else if(ut(ou(tt),M))return void(h.selectedIndex!==it&&(h.selectedIndex=it));$||(h.selectedIndex=-1)}}function Lc(h,A){return A.every(function(L){return!ut(L,h)})}function ou(h){return"_value"in h?h._value:h.value}function Oo(h){h.target.composing=!0}function Wl(h){h.target.composing&&(h.target.composing=!1,ql(h.target,"input"))}function ql(h,A){var L=document.createEvent("HTMLEvents");L.initEvent(A,!0,!0),h.dispatchEvent(L)}function su(h){return!h.componentInstance||h.data&&h.data.transition?h:su(h.componentInstance._vnode)}var Li={model:ys,show:{bind:function(h,A,L){var M=A.value,$=(L=su(L)).data&&L.data.transition,B=h.__vOriginalDisplay=h.style.display==="none"?"":h.style.display;M&&$?(L.data.show=!0,vs(L,function(){h.style.display=B})):h.style.display=M?B:"none"},update:function(h,A,L){var M=A.value;!M!=!A.oldValue&&((L=su(L)).data&&L.data.transition?(L.data.show=!0,M?vs(L,function(){h.style.display=h.__vOriginalDisplay}):$u(L,function(){h.style.display="none"})):h.style.display=M?h.__vOriginalDisplay:"none")},unbind:function(h,A,L,M,$){$||(h.style.display=h.__vOriginalDisplay)}}},Ju={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function Lo(h){var A=h&&h.componentOptions;return A&&A.Ctor.options.abstract?Lo(So(A.children)):h}function uu(h){var A={},L=h.$options;for(var M in L.propsData)A[M]=h[M];var $=L._parentListeners;for(var B in $)A[ct(B)]=$[B];return A}function Zu(h,A){if(/\d-keep-alive$/.test(A.tag))return h("keep-alive",{props:A.componentOptions.propsData})}var Pc=function(h){return h.tag||Zo(h)},ci=function(h){return h.name==="show"},Wa={name:"transition",props:Ju,abstract:!0,render:function(h){var A=this,L=this.$slots.default;if(L&&(L=L.filter(Pc)).length){var M=this.mode,$=L[0];if(function(ne){for(;ne=ne.parent;)if(ne.data.transition)return!0}(this.$vnode))return $;var B=Lo($);if(!B)return $;if(this._leaving)return Zu(h,$);var tt="__transition-"+this._uid+"-";B.key=B.key==null?B.isComment?tt+"comment":tt+B.tag:d(B.key)?String(B.key).indexOf(tt)===0?B.key:tt+B.key:B.key;var it=(B.data||(B.data={})).transition=uu(this),at=this._vnode,vt=Lo(at);if(B.data.directives&&B.data.directives.some(ci)&&(B.data.show=!0),vt&&vt.data&&!function(ne,Kt){return Kt.key===ne.key&&Kt.tag===ne.tag}(B,vt)&&!Zo(vt)&&(!vt.componentInstance||!vt.componentInstance._vnode.isComment)){var Ot=vt.data.transition=Lt({},it);if(M==="out-in")return this._leaving=!0,qt(Ot,"afterLeave",function(){A._leaving=!1,A.$forceUpdate()}),Zu(h,$);if(M==="in-out"){if(Zo(B))return at;var wt,Xt=function(){wt()};qt(it,"afterEnter",Xt),qt(it,"enterCancelled",Xt),qt(Ot,"delayLeave",function(ne){wt=ne})}}return $}}},lu=Lt({tag:String,moveClass:String},Ju);function $l(h){h.elm._moveCb&&h.elm._moveCb(),h.elm._enterCb&&h.elm._enterCb()}function _s(h){h.data.newPos=h.elm.getBoundingClientRect()}function Qu(h){var A=h.data.pos,L=h.data.newPos,M=A.left-L.left,$=A.top-L.top;if(M||$){h.data.moved=!0;var B=h.elm.style;B.transform=B.WebkitTransform="translate("+M+"px,"+$+"px)",B.transitionDuration="0s"}}delete lu.mode;var cu={Transition:Wa,TransitionGroup:{props:lu,beforeMount:function(){var h=this,A=this._update;this._update=function(L,M){var $=Qo(h);h.__patch__(h._vnode,h.kept,!1,!0),h._vnode=h.kept,$(),A.call(h,L,M)}},render:function(h){for(var A=this.tag||this.$vnode.data.tag||"span",L=Object.create(null),M=this.prevChildren=this.children,$=this.$slots.default||[],B=this.children=[],tt=uu(this),it=0;it<$.length;it++){var at=$[it];at.tag&&at.key!=null&&String(at.key).indexOf("__vlist")!==0&&(B.push(at),L[at.key]=at,(at.data||(at.data={})).transition=tt)}if(M){for(var vt=[],Ot=[],wt=0;wt<M.length;wt++){var Xt=M[wt];Xt.data.transition=tt,Xt.data.pos=Xt.elm.getBoundingClientRect(),L[Xt.key]?vt.push(Xt):Ot.push(Xt)}this.kept=h(A,null,vt),this.removed=Ot}return h(A,null,B)},updated:function(){var h=this.prevChildren,A=this.moveClass||(this.name||"v")+"-move";h.length&&this.hasMove(h[0].elm,A)&&(h.forEach($l),h.forEach(_s),h.forEach(Qu),this._reflow=document.body.offsetHeight,h.forEach(function(L){if(L.data.moved){var M=L.elm,$=M.style;la(M,A),$.transform=$.WebkitTransform=$.transitionDuration="",M.addEventListener(uo,M._moveCb=function B(tt){tt&&tt.target!==M||tt&&!/transform$/.test(tt.propertyName)||(M.removeEventListener(uo,B),M._moveCb=null,ca(M,A))})}}))},methods:{hasMove:function(h,A){if(!ka)return!1;if(this._hasMove)return this._hasMove;var L=h.cloneNode();h._transitionClasses&&h._transitionClasses.forEach(function($){oo(L,$)}),iu(L,A),L.style.display="none",this.$el.appendChild(L);var M=Gl(L);return this.$el.removeChild(L),this._hasMove=M.hasTransform}}}};Ue.config.mustUseProp=Il,Ue.config.isReservedTag=Ks,Ue.config.isReservedAttr=Wi,Ue.config.getTagNamespace=no,Ue.config.isUnknownElement=function(h){if(!ue)return!0;if(Ks(h))return!1;if(h=h.toLowerCase(),Xs[h]!=null)return Xs[h];var A=document.createElement(h);return h.indexOf("-")>-1?Xs[h]=A.constructor===window.HTMLUnknownElement||A.constructor===window.HTMLElement:Xs[h]=/HTMLUnknownElement/.test(A.toString())},Lt(Ue.options.directives,Li),Lt(Ue.options.components,cu),Ue.prototype.__patch__=ue?Xu:me,Ue.prototype.$mount=function(h,A){return function(L,M,$){var B;return L.$el=M,L.$options.render||(L.$options.render=qr),Kr(L,"beforeMount"),B=function(){L._update(L._render(),$)},new aa(L,B,me,{before:function(){L._isMounted&&!L._isDestroyed&&Kr(L,"beforeUpdate")}},!0),$=!1,L.$vnode==null&&(L._isMounted=!0,Kr(L,"mounted")),L}(this,h=h&&ue?as(h):void 0,A)},ue&&setTimeout(function(){pt.devtools&&vn&&vn.emit("init",Ue)},0);var tl,Po=/\{\{((?:.|\r?\n)+?)\}\}/g,lo=/[-.*+?^${}()|[\]\/\\]/g,qa=K(function(h){var A=h[0].replace(lo,"\\$&"),L=h[1].replace(lo,"\\$&");return new RegExp(A+"((?:.|\\n)+?)"+L,"g")}),bs={staticKeys:["staticClass"],transformNode:function(h,A){A.warn;var L=dr(h,"class");L&&(h.staticClass=JSON.stringify(L));var M=Vr(h,"class",!1);M&&(h.classBinding=M)},genData:function(h){var A="";return h.staticClass&&(A+="staticClass:"+h.staticClass+","),h.classBinding&&(A+="class:"+h.classBinding+","),A}},$a={staticKeys:["staticStyle"],transformNode:function(h,A){A.warn;var L=dr(h,"style");L&&(h.staticStyle=JSON.stringify(Hr(L)));var M=Vr(h,"style",!1);M&&(h.styleBinding=M)},genData:function(h){var A="";return h.staticStyle&&(A+="staticStyle:"+h.staticStyle+","),h.styleBinding&&(A+="style:("+h.styleBinding+"),"),A}},el=k("area,base,br,col,embed,frame,hr,img,input,isindex,keygen,link,meta,param,source,track,wbr"),nl=k("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr,source"),du=k("address,article,aside,base,blockquote,body,caption,col,colgroup,dd,details,dialog,div,dl,dt,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,head,header,hgroup,hr,html,legend,li,menuitem,meta,optgroup,option,param,rp,rt,source,style,summary,tbody,td,tfoot,th,thead,title,tr,track"),rl=/^\s*([^\s"'<>\/=]+)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/,il=/^\s*((?:v-[\w-]+:|@|:|#)\[[^=]+\][^\s"'<>\/=]*)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/,al="[a-zA-Z_][\\-\\.0-9_a-zA-Z"+Rt.source+"]*",fu="((?:"+al+"\\:)?"+al+")",Yr=new RegExp("^<"+fu),da=/^\s*(\/?)>/,Ro=new RegExp("^<\\/"+fu+"[^>]*>"),Io=/^<!DOCTYPE [^>]+>/i,ol=/^<!\--/,Kl=/^<!\[/,Ts=k("script,style,textarea",!0),co={},Ss={"&lt;":"<","&gt;":">","&quot;":'"',"&amp;":"&","&#10;":`
`,"&#9;":"	","&#39;":"'"},Xl=/&(?:lt|gt|quot|amp|#39);/g,Yl=/&(?:lt|gt|quot|amp|#39|#10|#9);/g,hu=k("pre,textarea",!0),sl=function(h,A){return h&&hu(h)&&A[0]===`
`};function pu(h,A){var L=A?Yl:Xl;return h.replace(L,function(M){return Ss[M]})}var mu,ws,ks,fo,vu,fa,Jl,Zl,Ea=/^@|^v-on:/,Es=/^v-|^@|^:|^#/,Rc=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,Ql=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,Ic=/^\(|\)$/g,Pi=/^\[.*\]$/,tc=/:(.*)$/,ul=/^:|^\.|^v-bind:/,Ce=/\.[^.\]]+(?=[^\]]*$)/g,Ka=/^v-slot(:|$)|^#/,Do=/[\r\n]/,un=/\s+/g,gu=K(function(h){return(tl=tl||document.createElement("div")).innerHTML=h,tl.textContent}),ho="_empty_";function ha(h,A,L){return{type:1,tag:h,attrsList:A,attrsMap:ll(A),rawAttrsMap:{},parent:L,children:[]}}function Xa(h,A){var L,M;(M=Vr(L=h,"key"))&&(L.key=M),h.plain=!h.key&&!h.scopedSlots&&!h.attrsList.length,function(B){var tt=Vr(B,"ref");tt&&(B.ref=tt,B.refInFor=function(it){for(var at=it;at;){if(at.for!==void 0)return!0;at=at.parent}return!1}(B))}(h),function(B){var tt;B.tag==="template"?(tt=dr(B,"scope"),B.slotScope=tt||dr(B,"slot-scope")):(tt=dr(B,"slot-scope"))&&(B.slotScope=tt);var it=Vr(B,"slot");if(it&&(B.slotTarget=it==='""'?'"default"':it,B.slotTargetDynamic=!(!B.attrsMap[":slot"]&&!B.attrsMap["v-bind:slot"]),B.tag==="template"||B.slotScope||ao(B,"slot",it,function(ze,Ze){return ze.rawAttrsMap[":"+Ze]||ze.rawAttrsMap["v-bind:"+Ze]||ze.rawAttrsMap[Ze]}(B,"slot"))),B.tag==="template"){var at=li(B,Ka);if(at){var vt=Mo(at),Ot=vt.name,wt=vt.dynamic;B.slotTarget=Ot,B.slotTargetDynamic=wt,B.slotScope=at.value||ho}}else{var Xt=li(B,Ka);if(Xt){var ne=B.scopedSlots||(B.scopedSlots={}),Kt=Mo(Xt),Ft=Kt.name,ye=Kt.dynamic,Ve=ne[Ft]=ha("template",[],B);Ve.slotTarget=Ft,Ve.slotTargetDynamic=ye,Ve.children=B.children.filter(function(ze){if(!ze.slotScope)return ze.parent=Ve,!0}),Ve.slotScope=Xt.value||ho,B.children=[],B.plain=!1}}}(h),function(B){B.tag==="slot"&&(B.slotName=Vr(B,"name"))}(h),function(B){var tt;(tt=Vr(B,"is"))&&(B.component=tt),dr(B,"inline-template")!=null&&(B.inlineTemplate=!0)}(h);for(var $=0;$<ks.length;$++)h=ks[$](h,A)||h;return function(B){var tt,it,at,vt,Ot,wt,Xt,ne,Kt=B.attrsList;for(tt=0,it=Kt.length;tt<it;tt++)if(at=vt=Kt[tt].name,Ot=Kt[tt].value,Es.test(at))if(B.hasBindings=!0,(wt=Uo(at.replace(Es,"")))&&(at=at.replace(Ce,"")),ul.test(at))at=at.replace(ul,""),Ot=Ta(Ot),(ne=Pi.test(at))&&(at=at.slice(1,-1)),wt&&(wt.prop&&!ne&&(at=ct(at))==="innerHtml"&&(at="innerHTML"),wt.camel&&!ne&&(at=ct(at)),wt.sync&&(Xt=Xr(Ot,"$event"),ne?rt(B,'"update:"+('+at+")",Xt,null,!1,0,Kt[tt],!0):(rt(B,"update:"+ct(at),Xt,null,!1,0,Kt[tt]),Ut(at)!==ct(at)&&rt(B,"update:"+Ut(at),Xt,null,!1,0,Kt[tt])))),wt&&wt.prop||!B.component&&Jl(B.tag,B.attrsMap.type,at)?Co(B,at,Ot,Kt[tt],ne):ao(B,at,Ot,Kt[tt],ne);else if(Ea.test(at))at=at.replace(Ea,""),(ne=Pi.test(at))&&(at=at.slice(1,-1)),rt(B,at,Ot,wt,!1,0,Kt[tt],ne);else{var Ft=(at=at.replace(Es,"")).match(tc),ye=Ft&&Ft[1];ne=!1,ye&&(at=at.slice(0,-(ye.length+1)),Pi.test(ye)&&(ye=ye.slice(1,-1),ne=!0)),ls(B,at,vt,Ot,ye,ne,wt,Kt[tt])}else ao(B,at,JSON.stringify(Ot),Kt[tt]),!B.component&&at==="muted"&&Jl(B.tag,B.attrsMap.type,at)&&Co(B,at,"true",Kt[tt])}(h),h}function ec(h){var A;if(A=dr(h,"v-for")){var L=function(M){var $=M.match(Rc);if($){var B={};B.for=$[2].trim();var tt=$[1].trim().replace(Ic,""),it=tt.match(Ql);return it?(B.alias=tt.replace(Ql,"").trim(),B.iterator1=it[1].trim(),it[2]&&(B.iterator2=it[2].trim())):B.alias=tt,B}}(A);L&&Lt(h,L)}}function Dn(h,A){h.ifConditions||(h.ifConditions=[]),h.ifConditions.push(A)}function Mo(h){var A=h.name.replace(Ka,"");return A||h.name[0]!=="#"&&(A="default"),Pi.test(A)?{name:A.slice(1,-1),dynamic:!0}:{name:'"'+A+'"',dynamic:!1}}function Uo(h){var A=h.match(Ce);if(A){var L={};return A.forEach(function(M){L[M.slice(1)]=!0}),L}}function ll(h){for(var A={},L=0,M=h.length;L<M;L++)A[h[L].name]=h[L].value;return A}var Yi=/^xmlns:NS\d+/,Jr=/^NS\d+:/;function po(h){return ha(h.tag,h.attrsList.slice(),h.parent)}var yu,Ji,Bo=[bs,$a,{preTransformNode:function(h,A){if(h.tag==="input"){var L,M=h.attrsMap;if(!M["v-model"])return;if((M[":type"]||M["v-bind:type"])&&(L=Vr(h,"type")),M.type||L||!M["v-bind"]||(L="("+M["v-bind"]+").type"),L){var $=dr(h,"v-if",!0),B=$?"&&("+$+")":"",tt=dr(h,"v-else",!0)!=null,it=dr(h,"v-else-if",!0),at=po(h);ec(at),us(at,"type","checkbox"),Xa(at,A),at.processed=!0,at.if="("+L+")==='checkbox'"+B,Dn(at,{exp:at.if,block:at});var vt=po(h);dr(vt,"v-for",!0),us(vt,"type","radio"),Xa(vt,A),Dn(at,{exp:"("+L+")==='radio'"+B,block:vt});var Ot=po(h);return dr(Ot,"v-for",!0),us(Ot,":type",L),Xa(Ot,A),Dn(at,{exp:$,block:Ot}),tt?at.else=!0:it&&(at.elseif=it),at}}}}],_u={expectHTML:!0,modules:Bo,directives:{model:function(h,A,L){var M=A.value,$=A.modifiers,B=h.tag,tt=h.attrsMap.type;if(h.component)return Sa(h,M,$),!1;if(B==="select")(function(it,at,vt){var Ot='var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = "_value" in o ? o._value : o.value;return '+(vt&&vt.number?"_n(val)":"val")+"});";rt(it,"change",Ot=Ot+" "+Xr(at,"$event.target.multiple ? $$selectedVal : $$selectedVal[0]"),null,!0)})(h,M,$);else if(B==="input"&&tt==="checkbox")(function(it,at,vt){var Ot=vt&&vt.number,wt=Vr(it,"value")||"null",Xt=Vr(it,"true-value")||"true",ne=Vr(it,"false-value")||"false";Co(it,"checked","Array.isArray("+at+")?_i("+at+","+wt+")>-1"+(Xt==="true"?":("+at+")":":_q("+at+","+Xt+")")),rt(it,"change","var $$a="+at+",$$el=$event.target,$$c=$$el.checked?("+Xt+"):("+ne+");if(Array.isArray($$a)){var $$v="+(Ot?"_n("+wt+")":wt)+",$$i=_i($$a,$$v);if($$el.checked){$$i<0&&("+Xr(at,"$$a.concat([$$v])")+")}else{$$i>-1&&("+Xr(at,"$$a.slice(0,$$i).concat($$a.slice($$i+1))")+")}}else{"+Xr(at,"$$c")+"}",null,!0)})(h,M,$);else if(B==="input"&&tt==="radio")(function(it,at,vt){var Ot=vt&&vt.number,wt=Vr(it,"value")||"null";Co(it,"checked","_q("+at+","+(wt=Ot?"_n("+wt+")":wt)+")"),rt(it,"change",Xr(at,wt),null,!0)})(h,M,$);else if(B==="input"||B==="textarea")(function(it,at,vt){var Ot=it.attrsMap.type,wt=vt||{},Xt=wt.lazy,ne=wt.number,Kt=wt.trim,Ft=!Xt&&Ot!=="range",ye=Xt?"change":Ot==="range"?nd:"input",Ve="$event.target.value";Kt&&(Ve="$event.target.value.trim()"),ne&&(Ve="_n("+Ve+")");var ze=Xr(at,Ve);Ft&&(ze="if($event.target.composing)return;"+ze),Co(it,"value","("+at+")"),rt(it,ye,ze,null,!0),(Kt||ne)&&rt(it,"blur","$forceUpdate()")})(h,M,$);else if(!pt.isReservedTag(B))return Sa(h,M,$),!1;return!0},text:function(h,A){A.value&&Co(h,"textContent","_s("+A.value+")",A)},html:function(h,A){A.value&&Co(h,"innerHTML","_s("+A.value+")",A)}},isPreTag:function(h){return h==="pre"},isUnaryTag:el,mustUseProp:Il,canBeLeftOpenTag:nl,isReservedTag:Ks,getTagNamespace:no,staticKeys:function(h){return h.reduce(function(A,L){return A.concat(L.staticKeys||[])},[]).join(",")}(Bo)},cl=K(function(h){return k("type,tag,attrsList,attrsMap,plain,parent,children,attrs,start,end,rawAttrsMap"+(h?","+h:""))}),Zi=/^([\w$_]+|\([^)]*?\))\s*=>|^function(?:\s+[\w$]+)?\s*\(/,dl=/\([^)]*?\);*$/,nc=/^[A-Za-z_$][\w$]*(?:\.[A-Za-z_$][\w$]*|\['[^']*?']|\["[^"]*?"]|\[\d+]|\[[A-Za-z_$][\w$]*])*$/,bu={esc:27,tab:9,enter:13,space:32,up:38,left:37,right:39,down:40,delete:[8,46]},rc={esc:["Esc","Escape"],tab:"Tab",enter:"Enter",space:[" ","Spacebar"],up:["Up","ArrowUp"],left:["Left","ArrowLeft"],right:["Right","ArrowRight"],down:["Down","ArrowDown"],delete:["Backspace","Delete","Del"]},_i=function(h){return"if("+h+")return null;"},Cs={stop:"$event.stopPropagation();",prevent:"$event.preventDefault();",self:_i("$event.target !== $event.currentTarget"),ctrl:_i("!$event.ctrlKey"),shift:_i("!$event.shiftKey"),alt:_i("!$event.altKey"),meta:_i("!$event.metaKey"),left:_i("'button' in $event && $event.button !== 0"),middle:_i("'button' in $event && $event.button !== 1"),right:_i("'button' in $event && $event.button !== 2")};function ic(h,A){var L=A?"nativeOn:":"on:",M="",$="";for(var B in h){var tt=No(h[B]);h[B]&&h[B].dynamic?$+=B+","+tt+",":M+='"'+B+'":'+tt+","}return M="{"+M.slice(0,-1)+"}",$?L+"_d("+M+",["+$.slice(0,-1)+"])":L+M}function No(h){if(!h)return"function(){}";if(Array.isArray(h))return"["+h.map(function(vt){return No(vt)}).join(",")+"]";var A=nc.test(h.value),L=Zi.test(h.value),M=nc.test(h.value.replace(dl,""));if(h.modifiers){var $="",B="",tt=[];for(var it in h.modifiers)if(Cs[it])B+=Cs[it],bu[it]&&tt.push(it);else if(it==="exact"){var at=h.modifiers;B+=_i(["ctrl","shift","alt","meta"].filter(function(vt){return!at[vt]}).map(function(vt){return"$event."+vt+"Key"}).join("||"))}else tt.push(it);return tt.length&&($+=function(vt){return"if(!$event.type.indexOf('key')&&"+vt.map(fl).join("&&")+")return null;"}(tt)),B&&($+=B),"function($event){"+$+(A?"return "+h.value+"($event)":L?"return ("+h.value+")($event)":M?"return "+h.value:h.value)+"}"}return A||L?h.value:"function($event){"+(M?"return "+h.value:h.value)+"}"}function fl(h){var A=parseInt(h,10);if(A)return"$event.keyCode!=="+A;var L=bu[h],M=rc[h];return"_k($event.keyCode,"+JSON.stringify(h)+","+JSON.stringify(L)+",$event.key,"+JSON.stringify(M)+")"}var ac={on:function(h,A){h.wrapListeners=function(L){return"_g("+L+","+A.value+")"}},bind:function(h,A){h.wrapData=function(L){return"_b("+L+",'"+h.tag+"',"+A.value+","+(A.modifiers&&A.modifiers.prop?"true":"false")+(A.modifiers&&A.modifiers.sync?",true":"")+")"}},cloak:me},pa=function(h){this.options=h,this.warn=h.warn||Ac,this.transforms=ss(h.modules,"transformCode"),this.dataGenFns=ss(h.modules,"genData"),this.directives=Lt(Lt({},ac),h.directives);var A=h.isReservedTag||Gt;this.maybeComponent=function(L){return!!L.component||!A(L.tag)},this.onceId=0,this.staticRenderFns=[],this.pre=!1};function xr(h,A){var L=new pa(A);return{render:"with(this){return "+(h?Ri(h,L):'_c("div")')+"}",staticRenderFns:L.staticRenderFns}}function Ri(h,A){if(h.parent&&(h.pre=h.pre||h.parent.pre),h.staticRoot&&!h.staticProcessed)return oc(h,A);if(h.once&&!h.onceProcessed)return Dc(h,A);if(h.for&&!h.forProcessed)return uc(h,A);if(h.if&&!h.ifProcessed)return sc(h,A);if(h.tag!=="template"||h.slotTarget||A.pre){if(h.tag==="slot")return function(tt,it){var at=tt.slotName||'"default"',vt=Fo(tt,it),Ot="_t("+at+(vt?","+vt:""),wt=tt.attrs||tt.dynamicAttrs?di((tt.attrs||[]).concat(tt.dynamicAttrs||[]).map(function(ne){return{name:ct(ne.name),value:ne.value,dynamic:ne.dynamic}})):null,Xt=tt.attrsMap["v-bind"];return!wt&&!Xt||vt||(Ot+=",null"),wt&&(Ot+=","+wt),Xt&&(Ot+=(wt?"":",null")+","+Xt),Ot+")"}(h,A);var L;if(h.component)L=function(tt,it,at){var vt=it.inlineTemplate?null:Fo(it,at,!0);return"_c("+tt+","+lc(it,at)+(vt?","+vt:"")+")"}(h.component,h,A);else{var M;(!h.plain||h.pre&&A.maybeComponent(h))&&(M=lc(h,A));var $=h.inlineTemplate?null:Fo(h,A,!0);L="_c('"+h.tag+"'"+(M?","+M:"")+($?","+$:"")+")"}for(var B=0;B<A.transforms.length;B++)L=A.transforms[B](h,L);return L}return Fo(h,A)||"void 0"}function oc(h,A){h.staticProcessed=!0;var L=A.pre;return h.pre&&(A.pre=h.pre),A.staticRenderFns.push("with(this){return "+Ri(h,A)+"}"),A.pre=L,"_m("+(A.staticRenderFns.length-1)+(h.staticInFor?",true":"")+")"}function Dc(h,A){if(h.onceProcessed=!0,h.if&&!h.ifProcessed)return sc(h,A);if(h.staticInFor){for(var L="",M=h.parent;M;){if(M.for){L=M.key;break}M=M.parent}return L?"_o("+Ri(h,A)+","+A.onceId+++","+L+")":Ri(h,A)}return oc(h,A)}function sc(h,A,L,M){return h.ifProcessed=!0,function $(B,tt,it,at){if(!B.length)return at||"_e()";var vt=B.shift();return vt.exp?"("+vt.exp+")?"+Ot(vt.block)+":"+$(B,tt,it,at):""+Ot(vt.block);function Ot(wt){return it?it(wt,tt):wt.once?Dc(wt,tt):Ri(wt,tt)}}(h.ifConditions.slice(),A,L,M)}function uc(h,A,L,M){var $=h.for,B=h.alias,tt=h.iterator1?","+h.iterator1:"",it=h.iterator2?","+h.iterator2:"";return h.forProcessed=!0,(M||"_l")+"(("+$+"),function("+B+tt+it+"){return "+(L||Ri)(h,A)+"})"}function lc(h,A){var L="{",M=function(tt,it){var at=tt.directives;if(at){var vt,Ot,wt,Xt,ne="directives:[",Kt=!1;for(vt=0,Ot=at.length;vt<Ot;vt++){wt=at[vt],Xt=!0;var Ft=it.directives[wt.name];Ft&&(Xt=!!Ft(tt,wt,it.warn)),Xt&&(Kt=!0,ne+='{name:"'+wt.name+'",rawName:"'+wt.rawName+'"'+(wt.value?",value:("+wt.value+"),expression:"+JSON.stringify(wt.value):"")+(wt.arg?",arg:"+(wt.isDynamicArg?wt.arg:'"'+wt.arg+'"'):"")+(wt.modifiers?",modifiers:"+JSON.stringify(wt.modifiers):"")+"},")}return Kt?ne.slice(0,-1)+"]":void 0}}(h,A);M&&(L+=M+","),h.key&&(L+="key:"+h.key+","),h.ref&&(L+="ref:"+h.ref+","),h.refInFor&&(L+="refInFor:true,"),h.pre&&(L+="pre:true,"),h.component&&(L+='tag:"'+h.tag+'",');for(var $=0;$<A.dataGenFns.length;$++)L+=A.dataGenFns[$](h);if(h.attrs&&(L+="attrs:"+di(h.attrs)+","),h.props&&(L+="domProps:"+di(h.props)+","),h.events&&(L+=ic(h.events,!1)+","),h.nativeEvents&&(L+=ic(h.nativeEvents,!0)+","),h.slotTarget&&!h.slotScope&&(L+="slot:"+h.slotTarget+","),h.scopedSlots&&(L+=function(tt,it,at){var vt=tt.for||Object.keys(it).some(function(ne){var Kt=it[ne];return Kt.slotTargetDynamic||Kt.if||Kt.for||cc(Kt)}),Ot=!!tt.if;if(!vt)for(var wt=tt.parent;wt;){if(wt.slotScope&&wt.slotScope!==ho||wt.for){vt=!0;break}wt.if&&(Ot=!0),wt=wt.parent}var Xt=Object.keys(it).map(function(ne){return hl(it[ne],at)}).join(",");return"scopedSlots:_u(["+Xt+"]"+(vt?",null,true":"")+(!vt&&Ot?",null,false,"+function(ne){for(var Kt=5381,Ft=ne.length;Ft;)Kt=33*Kt^ne.charCodeAt(--Ft);return Kt>>>0}(Xt):"")+")"}(h,h.scopedSlots,A)+","),h.model&&(L+="model:{value:"+h.model.value+",callback:"+h.model.callback+",expression:"+h.model.expression+"},"),h.inlineTemplate){var B=function(tt,it){var at=tt.children[0];if(at&&at.type===1){var vt=xr(at,it.options);return"inlineTemplate:{render:function(){"+vt.render+"},staticRenderFns:["+vt.staticRenderFns.map(function(Ot){return"function(){"+Ot+"}"}).join(",")+"]}"}}(h,A);B&&(L+=B+",")}return L=L.replace(/,$/,"")+"}",h.dynamicAttrs&&(L="_b("+L+',"'+h.tag+'",'+di(h.dynamicAttrs)+")"),h.wrapData&&(L=h.wrapData(L)),h.wrapListeners&&(L=h.wrapListeners(L)),L}function cc(h){return h.type===1&&(h.tag==="slot"||h.children.some(cc))}function hl(h,A){var L=h.attrsMap["slot-scope"];if(h.if&&!h.ifProcessed&&!L)return sc(h,A,hl,"null");if(h.for&&!h.forProcessed)return uc(h,A,hl);var M=h.slotScope===ho?"":String(h.slotScope),$="function("+M+"){return "+(h.tag==="template"?h.if&&L?"("+h.if+")?"+(Fo(h,A)||"undefined")+":undefined":Fo(h,A)||"undefined":Ri(h,A))+"}",B=M?"":",proxy:true";return"{key:"+(h.slotTarget||'"default"')+",fn:"+$+B+"}"}function Fo(h,A,L,M,$){var B=h.children;if(B.length){var tt=B[0];if(B.length===1&&tt.for&&tt.tag!=="template"&&tt.tag!=="slot"){var it=L?A.maybeComponent(tt)?",1":",0":"";return""+(M||Ri)(tt,A)+it}var at=L?function(Ot,wt){for(var Xt=0,ne=0;ne<Ot.length;ne++){var Kt=Ot[ne];if(Kt.type===1){if(pl(Kt)||Kt.ifConditions&&Kt.ifConditions.some(function(Ft){return pl(Ft.block)})){Xt=2;break}(wt(Kt)||Kt.ifConditions&&Kt.ifConditions.some(function(Ft){return wt(Ft.block)}))&&(Xt=1)}}return Xt}(B,A.maybeComponent):0,vt=$||Tu;return"["+B.map(function(Ot){return vt(Ot,A)}).join(",")+"]"+(at?","+at:"")}}function pl(h){return h.for!==void 0||h.tag==="template"||h.tag==="slot"}function Tu(h,A){return h.type===1?Ri(h,A):h.type===3&&h.isComment?(M=h,"_e("+JSON.stringify(M.text)+")"):"_v("+((L=h).type===2?L.expression:Mc(JSON.stringify(L.text)))+")";var L,M}function di(h){for(var A="",L="",M=0;M<h.length;M++){var $=h[M],B=Mc($.value);$.dynamic?L+=$.name+","+B+",":A+='"'+$.name+'":'+B+","}return A="{"+A.slice(0,-1)+"}",L?"_d("+A+",["+L.slice(0,-1)+"])":A}function Mc(h){return h.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}function Su(h,A){try{return new Function(h)}catch(L){return A.push({err:L,code:h}),me}}function Uc(h){var A=Object.create(null);return function(L,M,$){(M=Lt({},M)).warn,delete M.warn;var B=M.delimiters?String(M.delimiters)+L:L;if(A[B])return A[B];var tt=h(L,M),it={},at=[];return it.render=Su(tt.render,at),it.staticRenderFns=tt.staticRenderFns.map(function(vt){return Su(vt,at)}),A[B]=it}}new RegExp("\\b"+"do,if,for,let,new,try,var,case,else,with,await,break,catch,class,const,super,throw,while,yield,delete,export,import,return,switch,default,extends,finally,continue,debugger,function,arguments".split(",").join("\\b|\\b")+"\\b");var ml,vl,gl=(ml=function(h,A){var L=function($,B){mu=B.warn||Ac,fa=B.isPreTag||Gt,Jl=B.mustUseProp||Gt,Zl=B.getTagNamespace||Gt,B.isReservedTag,ks=ss(B.modules,"transformNode"),fo=ss(B.modules,"preTransformNode"),vu=ss(B.modules,"postTransformNode"),ws=B.delimiters;var tt,it,at=[],vt=B.preserveWhitespace!==!1,Ot=B.whitespace,wt=!1,Xt=!1;function ne(Ft){if(Kt(Ft),wt||Ft.processed||(Ft=Xa(Ft,B)),at.length||Ft===tt||tt.if&&(Ft.elseif||Ft.else)&&Dn(tt,{exp:Ft.elseif,block:Ft}),it&&!Ft.forbidden)if(Ft.elseif||Ft.else)Ve=Ft,(ze=function(An){for(var Pe=An.length;Pe--;){if(An[Pe].type===1)return An[Pe];An.pop()}}(it.children))&&ze.if&&Dn(ze,{exp:Ve.elseif,block:Ve});else{if(Ft.slotScope){var ye=Ft.slotTarget||'"default"';(it.scopedSlots||(it.scopedSlots={}))[ye]=Ft}it.children.push(Ft),Ft.parent=it}var Ve,ze;Ft.children=Ft.children.filter(function(An){return!An.slotScope}),Kt(Ft),Ft.pre&&(wt=!1),fa(Ft.tag)&&(Xt=!1);for(var Ze=0;Ze<vu.length;Ze++)vu[Ze](Ft,B)}function Kt(Ft){if(!Xt)for(var ye;(ye=Ft.children[Ft.children.length-1])&&ye.type===3&&ye.text===" ";)Ft.children.pop()}return function(Ft,ye){for(var Ve,ze,Ze=[],An=ye.expectHTML,Pe=ye.isUnaryTag||Gt,gn=ye.canBeLeftOpenTag||Gt,It=0;Ft;){if(Ve=Ft,ze&&Ts(ze)){var Bt=0,_e=ze.toLowerCase(),He=co[_e]||(co[_e]=new RegExp("([\\s\\S]*?)(</"+_e+"[^>]*>)","i")),dn=Ft.replace(He,function(wn,we,Fn){return Bt=Fn.length,Ts(_e)||_e==="noscript"||(we=we.replace(/<!\--([\s\S]*?)-->/g,"$1").replace(/<!\[CDATA\[([\s\S]*?)]]>/g,"$1")),sl(_e,we)&&(we=we.slice(1)),ye.chars&&ye.chars(we),""});It+=Ft.length-dn.length,Ft=dn,bi(_e,It-Bt,It)}else{var fn=Ft.indexOf("<");if(fn===0){if(ol.test(Ft)){var Tn=Ft.indexOf("-->");if(Tn>=0){ye.shouldKeepComment&&ye.comment(Ft.substring(4,Tn),It,It+Tn+3),Mn(Tn+3);continue}}if(Kl.test(Ft)){var Pn=Ft.indexOf("]>");if(Pn>=0){Mn(Pn+2);continue}}var Hn=Ft.match(Io);if(Hn){Mn(Hn[0].length);continue}var er=Ft.match(Ro);if(er){var qn=It;Mn(er[0].length),bi(er[1],qn,It);continue}var $n=Zr();if($n){mo($n),sl($n.tagName,Ft)&&Mn(1);continue}}var xe=void 0,Rn=void 0,Nn=void 0;if(fn>=0){for(Rn=Ft.slice(fn);!(Ro.test(Rn)||Yr.test(Rn)||ol.test(Rn)||Kl.test(Rn)||(Nn=Rn.indexOf("<",1))<0);)fn+=Nn,Rn=Ft.slice(fn);xe=Ft.substring(0,fn)}fn<0&&(xe=Ft),xe&&Mn(xe.length),ye.chars&&xe&&ye.chars(xe,It-xe.length,It)}if(Ft===Ve){ye.chars&&ye.chars(Ft);break}}function Mn(wn){It+=wn,Ft=Ft.substring(wn)}function Zr(){var wn=Ft.match(Yr);if(wn){var we,Fn,tn={tagName:wn[1],attrs:[],start:It};for(Mn(wn[0].length);!(we=Ft.match(da))&&(Fn=Ft.match(il)||Ft.match(rl));)Fn.start=It,Mn(Fn[0].length),Fn.end=It,tn.attrs.push(Fn);if(we)return tn.unarySlash=we[1],Mn(we[0].length),tn.end=It,tn}}function mo(wn){var we=wn.tagName,Fn=wn.unarySlash;An&&(ze==="p"&&du(we)&&bi(ze),gn(we)&&ze===we&&bi(we));for(var tn=Pe(we)||!!Fn,Ln=wn.attrs.length,Or=new Array(Ln),Cr=0;Cr<Ln;Cr++){var zr=wn.attrs[Cr],vo=zr[3]||zr[4]||zr[5]||"",dc=we==="a"&&zr[1]==="href"?ye.shouldDecodeNewlinesForHref:ye.shouldDecodeNewlines;Or[Cr]={name:zr[1],value:pu(vo,dc)}}tn||(Ze.push({tag:we,lowerCasedTag:we.toLowerCase(),attrs:Or,start:wn.start,end:wn.end}),ze=we),ye.start&&ye.start(we,Or,tn,wn.start,wn.end)}function bi(wn,we,Fn){var tn,Ln;if(we==null&&(we=It),Fn==null&&(Fn=It),wn)for(Ln=wn.toLowerCase(),tn=Ze.length-1;tn>=0&&Ze[tn].lowerCasedTag!==Ln;tn--);else tn=0;if(tn>=0){for(var Or=Ze.length-1;Or>=tn;Or--)ye.end&&ye.end(Ze[Or].tag,we,Fn);Ze.length=tn,ze=tn&&Ze[tn-1].tag}else Ln==="br"?ye.start&&ye.start(wn,[],!0,we,Fn):Ln==="p"&&(ye.start&&ye.start(wn,[],!1,we,Fn),ye.end&&ye.end(wn,we,Fn))}bi()}($,{warn:mu,expectHTML:B.expectHTML,isUnaryTag:B.isUnaryTag,canBeLeftOpenTag:B.canBeLeftOpenTag,shouldDecodeNewlines:B.shouldDecodeNewlines,shouldDecodeNewlinesForHref:B.shouldDecodeNewlinesForHref,shouldKeepComment:B.comments,outputSourceRange:B.outputSourceRange,start:function(Ft,ye,Ve,ze,Ze){var An=it&&it.ns||Zl(Ft);Je&&An==="svg"&&(ye=function(Bt){for(var _e=[],He=0;He<Bt.length;He++){var dn=Bt[He];Yi.test(dn.name)||(dn.name=dn.name.replace(Jr,""),_e.push(dn))}return _e}(ye));var Pe,gn=ha(Ft,ye,it);An&&(gn.ns=An),(Pe=gn).tag!=="style"&&(Pe.tag!=="script"||Pe.attrsMap.type&&Pe.attrsMap.type!=="text/javascript")||on()||(gn.forbidden=!0);for(var It=0;It<fo.length;It++)gn=fo[It](gn,B)||gn;wt||(function(Bt){dr(Bt,"v-pre")!=null&&(Bt.pre=!0)}(gn),gn.pre&&(wt=!0)),fa(gn.tag)&&(Xt=!0),wt?function(Bt){var _e=Bt.attrsList,He=_e.length;if(He)for(var dn=Bt.attrs=new Array(He),fn=0;fn<He;fn++)dn[fn]={name:_e[fn].name,value:JSON.stringify(_e[fn].value)},_e[fn].start!=null&&(dn[fn].start=_e[fn].start,dn[fn].end=_e[fn].end);else Bt.pre||(Bt.plain=!0)}(gn):gn.processed||(ec(gn),function(Bt){var _e=dr(Bt,"v-if");if(_e)Bt.if=_e,Dn(Bt,{exp:_e,block:Bt});else{dr(Bt,"v-else")!=null&&(Bt.else=!0);var He=dr(Bt,"v-else-if");He&&(Bt.elseif=He)}}(gn),function(Bt){dr(Bt,"v-once")!=null&&(Bt.once=!0)}(gn)),tt||(tt=gn),Ve?ne(gn):(it=gn,at.push(gn))},end:function(Ft,ye,Ve){var ze=at[at.length-1];at.length-=1,it=at[at.length-1],ne(ze)},chars:function(Ft,ye,Ve){if(it&&(!Je||it.tag!=="textarea"||it.attrsMap.placeholder!==Ft)){var ze,Ze,An,Pe=it.children;(Ft=Xt||Ft.trim()?(ze=it).tag==="script"||ze.tag==="style"?Ft:gu(Ft):Pe.length?Ot?Ot==="condense"&&Do.test(Ft)?"":" ":vt?" ":"":"")&&(Xt||Ot!=="condense"||(Ft=Ft.replace(un," ")),!wt&&Ft!==" "&&(Ze=function(gn,It){var Bt=It?qa(It):Po;if(Bt.test(gn)){for(var _e,He,dn,fn=[],Tn=[],Pn=Bt.lastIndex=0;_e=Bt.exec(gn);){(He=_e.index)>Pn&&(Tn.push(dn=gn.slice(Pn,He)),fn.push(JSON.stringify(dn)));var Hn=Ta(_e[1].trim());fn.push("_s("+Hn+")"),Tn.push({"@binding":Hn}),Pn=He+_e[0].length}return Pn<gn.length&&(Tn.push(dn=gn.slice(Pn)),fn.push(JSON.stringify(dn))),{expression:fn.join("+"),tokens:Tn}}}(Ft,ws))?An={type:2,expression:Ze.expression,tokens:Ze.tokens,text:Ft}:Ft===" "&&Pe.length&&Pe[Pe.length-1].text===" "||(An={type:3,text:Ft}),An&&Pe.push(An))}},comment:function(Ft,ye,Ve){if(it){var ze={type:3,text:Ft,isComment:!0};it.children.push(ze)}}}),tt}(h.trim(),A);A.optimize!==!1&&function($,B){$&&(yu=cl(B.staticKeys||""),Ji=B.isReservedTag||Gt,function tt(it){if(it.static=function(Kt){return Kt.type!==2&&(Kt.type===3||!(!Kt.pre&&(Kt.hasBindings||Kt.if||Kt.for||O(Kt.tag)||!Ji(Kt.tag)||function(Ft){for(;Ft.parent;){if((Ft=Ft.parent).tag!=="template")return!1;if(Ft.for)return!0}return!1}(Kt)||!Object.keys(Kt).every(yu))))}(it),it.type===1){if(!Ji(it.tag)&&it.tag!=="slot"&&it.attrsMap["inline-template"]==null)return;for(var at=0,vt=it.children.length;at<vt;at++){var Ot=it.children[at];tt(Ot),Ot.static||(it.static=!1)}if(it.ifConditions)for(var wt=1,Xt=it.ifConditions.length;wt<Xt;wt++){var ne=it.ifConditions[wt].block;tt(ne),ne.static||(it.static=!1)}}}($),function tt(it,at){if(it.type===1){if((it.static||it.once)&&(it.staticInFor=at),it.static&&it.children.length&&(it.children.length!==1||it.children[0].type!==3))return void(it.staticRoot=!0);if(it.staticRoot=!1,it.children)for(var vt=0,Ot=it.children.length;vt<Ot;vt++)tt(it.children[vt],at||!!it.for);if(it.ifConditions)for(var wt=1,Xt=it.ifConditions.length;wt<Xt;wt++)tt(it.ifConditions[wt].block,at)}}($,!1))}(L,A);var M=xr(L,A);return{ast:L,render:M.render,staticRenderFns:M.staticRenderFns}},function(h){function A(L,M){var $=Object.create(h),B=[],tt=[];if(M)for(var it in M.modules&&($.modules=(h.modules||[]).concat(M.modules)),M.directives&&($.directives=Lt(Object.create(h.directives||null),M.directives)),M)it!=="modules"&&it!=="directives"&&($[it]=M[it]);$.warn=function(vt,Ot,wt){(wt?tt:B).push(vt)};var at=ml(L.trim(),$);return at.errors=B,at.tips=tt,at}return{compile:A,compileToFunctions:Uc(A)}})(_u),Bc=(gl.compile,gl.compileToFunctions);function yl(h){return(vl=vl||document.createElement("div")).innerHTML=h?`<a href="
"/>`:`<div a="
"/>`,vl.innerHTML.indexOf("&#10;")>0}var Nc=!!ue&&yl(!1),id=!!ue&&yl(!0),ad=K(function(h){var A=as(h);return A&&A.innerHTML}),Fc=Ue.prototype.$mount;Ue.prototype.$mount=function(h,A){if((h=h&&as(h))===document.body||h===document.documentElement)return this;var L=this.$options;if(!L.render){var M=L.template;if(M)if(typeof M=="string")M.charAt(0)==="#"&&(M=ad(M));else{if(!M.nodeType)return this;M=M.innerHTML}else h&&(M=function(it){if(it.outerHTML)return it.outerHTML;var at=document.createElement("div");return at.appendChild(it.cloneNode(!0)),at.innerHTML}(h));if(M){var $=Bc(M,{outputSourceRange:!1,shouldDecodeNewlines:Nc,shouldDecodeNewlinesForHref:id,delimiters:L.delimiters,comments:L.comments},this),B=$.render,tt=$.staticRenderFns;L.render=B,L.staticRenderFns=tt}}return Fc.call(this,h,A)},Ue.compile=Bc,C.exports=Ue}).call(this,o("yLpj"),o("URgk").setImmediate)},Iab2:function(C,F,o){(function(c){var g,v,u;v=[],(u=typeof(g=function(){"use strict";function l(T,b){return b===void 0?b={autoBom:!1}:typeof b!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),b={autoBom:!b}),b.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(T.type)?new Blob(["\uFEFF",T],{type:T.type}):T}function m(T,b,x){var _=new XMLHttpRequest;_.open("GET",T),_.responseType="blob",_.onload=function(){j(_.response,b,x)},_.onerror=function(){console.error("could not download file")},_.send()}function d(T){var b=new XMLHttpRequest;return b.open("HEAD",T,!1),b.send(),200<=b.status&&299>=b.status}function S(T){try{T.dispatchEvent(new MouseEvent("click"))}catch(x){var b=document.createEvent("MouseEvents");b.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),T.dispatchEvent(b)}}var w=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof c=="object"&&c.global===c?c:void 0,j=w.saveAs||(typeof window!="object"||window!==w?function(){}:"download"in HTMLAnchorElement.prototype?function(T,b,x){var _=w.URL||w.webkitURL,k=document.createElement("a");b=b||T.name||"download",k.download=b,k.rel="noopener",typeof T=="string"?(k.href=T,k.origin===location.origin?S(k):d(k.href)?m(T,b,x):S(k,k.target="_blank")):(k.href=_.createObjectURL(T),setTimeout(function(){_.revokeObjectURL(k.href)},4e4),setTimeout(function(){S(k)},0))}:"msSaveOrOpenBlob"in navigator?function(T,b,x){if(b=b||T.name||"download",typeof T!="string")navigator.msSaveOrOpenBlob(l(T,x),b);else if(d(T))m(T,b,x);else{var _=document.createElement("a");_.href=T,_.target="_blank",setTimeout(function(){S(_)})}}:function(T,b,x,_){if((_=_||open("","_blank"))&&(_.document.title=_.document.body.innerText="downloading..."),typeof T=="string")return m(T,b,x);var k=T.type==="application/octet-stream",O=/constructor/i.test(w.HTMLElement)||w.safari,I=/CriOS\/[\d]+/.test(navigator.userAgent);if((I||k&&O)&&typeof FileReader=="object"){var V=new FileReader;V.onloadend=function(){var K=V.result;K=I?K:K.replace(/^data:[^;]*;/,"data:attachment/file;"),_?_.location.href=K:location=K,_=null},V.readAsDataURL(T)}else{var H=w.URL||w.webkitURL,G=H.createObjectURL(T);_?_.location=G:location.href=G,_=null,setTimeout(function(){H.revokeObjectURL(G)},4e4)}});w.saveAs=j.saveAs=j,C.exports=j})=="function"?g.apply(F,v):g)===void 0||(C.exports=u)}).call(this,o("yLpj"))},IdBN:function(C,F,o){"use strict";var c=o("Zrcd"),g=o("+4di"),v=o("wFMk"),u=o("XW/+");C.exports=o("1RbY")(Array,"Array",function(l,m){this._t=u(l),this._i=0,this._k=m},function(){var l=this._t,m=this._k,d=this._i++;return!l||d>=l.length?(this._t=void 0,g(1)):g(0,m=="keys"?d:m=="values"?l[d]:[d,l[d]])},"values"),v.Arguments=v.Array,c("keys"),c("values"),c("entries")},IheE:function(C,F,o){"use strict";o("5oHw")("fontsize",function(c){return function(g){return c(this,"font","size",g)}})},Insd:function(C,F,o){"use strict";var c=o("8IOi"),g=o("Qu5u"),v=o("LOhj"),u=o("J2HX");o("yU77")&&c(c.P+o("rGBx"),"Object",{__defineSetter__:function(l,m){u.f(g(this),l,{set:v(m),enumerable:!0,configurable:!0})}})},J2HX:function(C,F,o){var c=o("138g"),g=o("+X+Z"),v=o("AZ8a"),u=Object.defineProperty;F.f=o("yU77")?Object.defineProperty:function(l,m,d){if(c(l),m=v(m,!0),c(d),g)try{return u(l,m,d)}catch(S){}if("get"in d||"set"in d)throw TypeError("Accessors not supported!");return"value"in d&&(l[m]=d.value),l}},J70Z:function(C,F,o){var c=o("J2HX").f,g=o("L7KE"),v=o("3iRr")("toStringTag");C.exports=function(u,l,m){u&&!g(u=m?u:u.prototype,v)&&c(u,v,{configurable:!0,value:l})}},J8Qq:function(C,F,o){var c=o("XW/+"),g=o("Y3Md"),v=o("b8c2");C.exports=function(u){return function(l,m,d){var S,w=c(l),j=g(w.length),T=v(d,j);if(u&&m!=m){for(;j>T;)if((S=w[T++])!=S)return!0}else for(;j>T;T++)if((u||T in w)&&w[T]===m)return u||T||0;return!u&&-1}}},JCQ5:function(C,F,o){"use strict";var c=o("8IOi"),g=o("RT9V"),v="includes";c(c.P+c.F*o("OvvV")(v),"String",{includes:function(u){return!!~g(this,u,v).indexOf(u,arguments.length>1?arguments[1]:void 0)}})},JNc5:function(C,F,o){"use strict";o("5oHw")("big",function(c){return function(){return c(this,"big","","")}})},JYSn:function(C,F,o){var c=o("Wl3L"),g=o("XW/+"),v=o("4XFX").f;C.exports=function(u){return function(l){for(var m,d=g(l),S=c(d),w=S.length,j=0,T=[];w>j;)v.call(d,m=S[j++])&&T.push(u?[m,d[m]]:d[m]);return T}}},Jkf2:function(C,F,o){var c=o("n+hx"),g=Math.floor;C.exports=function(v){return!c(v)&&isFinite(v)&&g(v)===v}},JvFK:function(C,F,o){"use strict";var c=o("q27k"),g=o("eYp2");C.exports=o("0WhE")("Set",function(v){return function(){return v(this,arguments.length>0?arguments[0]:void 0)}},{add:function(v){return c.def(g(this,"Set"),v=v===0?0:v,v)}},c)},K3ax:function(C,F,o){var c=o("8IOi"),g=Math.abs;c(c.S,"Math",{hypot:function(v,u){for(var l,m,d=0,S=0,w=arguments.length,j=0;S<w;)j<(l=g(arguments[S++]))?(d=d*(m=j/l)*m+1,j=l):d+=l>0?(m=l/j)*m:l;return j===1/0?1/0:j*Math.sqrt(d)}})},KJ4T:function(C,F){(function(o,c){"use strict";function g(){var jt=Mt.splice(0,Mt.length);for(qe=0;jt.length;)jt.shift().call(null,jt.shift())}function v(jt,Wt){for(var $t=0,qt=jt.length;$t<qt;$t++)_(jt[$t],Wt)}function u(jt){return function(Wt){mi(Wt)&&(_(Wt,jt),vn.length&&v(Wt.querySelectorAll(vn),jt))}}function l(jt){var Wt=Wn.call(jt,"is"),$t=jt.nodeName.toUpperCase(),qt=En.call(Be,Wt?Se+Wt.toUpperCase():Qt+$t);return Wt&&-1<qt&&!m($t,Wt)?-1:qt}function m(jt,Wt){return-1<vn.indexOf(jt+'[is="'+Wt+'"]')}function d(jt){var Wt=jt.currentTarget,$t=jt.attrChange,qt=jt.attrName,fe=jt.target,he=jt[Ke]||2,Re=jt[Ee]||3;!Ai||fe&&fe!==Wt||!Wt[Pt]||qt==="style"||jt.prevValue===jt.newValue&&(jt.newValue!==""||$t!==he&&$t!==Re)||Wt[Pt](qt,$t===he?null:jt.prevValue,$t===Re?null:jt.newValue)}function S(jt){var Wt=u(jt);return function($t){Mt.push(Wt,$t.target),qe&&clearTimeout(qe),qe=setTimeout(g,1)}}function w(jt){vr&&(vr=!1,jt.currentTarget.removeEventListener(Te,w)),vn.length&&v((jt.target||et).querySelectorAll(vn),jt.detail===pt?pt:mt),Fi&&function(){for(var Wt,$t=0,qt=wi.length;$t<qt;$t++)Wt=wi[$t],Sn.contains(Wt)||(qt--,wi.splice($t--,1),_(Wt,pt))}()}function j(jt,Wt){var $t=this;Le.call($t,jt,Wt),Ut.call($t,{target:$t})}function T(jt,Wt,$t){var qt=Wt.apply(jt,$t),fe=l(qt);return-1<fe&&Gt(qt,on[fe]),$t.pop()&&vn.length&&function(he){for(var Re,Ne=0,rn=he.length;Ne<rn;Ne++)Re=he[Ne],Gt(Re,on[l(Re)])}(qt.querySelectorAll(vn)),qt}function b(jt,Wt){Dr(jt,Wt),Lt?Lt.observe(jt,$r):(si&&(jt.setAttribute=j,jt[bt]=Jt(jt),jt[Dt](zn,Ut)),jt[Dt](Je,d)),jt[ue]&&Ai&&(jt.created=!0,jt[ue](),jt.created=!1)}function x(jt){throw new Error("A "+jt+" type is already registered")}function _(jt,Wt){var $t,qt,fe=l(jt);-1<fe&&!vi.call(jt,"TEMPLATE")&&(me(jt,on[fe]),fe=0,Wt!==mt||jt[mt]?Wt!==pt||jt[pt]||(jt[mt]=!1,jt[pt]=!0,qt="disconnected",fe=1):(jt[pt]=!1,jt[mt]=!0,qt="connected",fe=1,Fi&&En.call(wi,jt)<0&&wi.push(jt)),fe&&($t=jt[Wt+ft]||jt[qt+ft])&&$t.call(jt))}function k(){}function O(jt,Wt,$t){var qt=$t&&$t[Rt]||"",fe=Wt.prototype,he=Bi(fe),Re=Wt.observedAttributes||ri,Ne={prototype:he};na(he,ue,{value:function(){if(Tr)Tr=!1;else if(!this[Ar]){this[Ar]=!0,new Wt(this),fe[ue]&&fe[ue].call(this);var rn=Ui[jn.get(Wt)];(!ai||rn.create.length>1)&&H(this)}}}),na(he,Pt,{value:function(rn){-1<En.call(Re,rn)&&fe[Pt]&&fe[Pt].apply(this,arguments)}}),fe[oe]&&na(he,Ht,{value:fe[oe]}),fe[Oe]&&na(he,Yt,{value:fe[Oe]}),qt&&(Ne[Rt]=qt),jt=jt.toUpperCase(),Ui[jt]={constructor:Wt,create:qt?[qt,pi(jt)]:[jt]},jn.set(Wt,jt),et[ut](jt.toLowerCase(),Ne),G(jt),Sr[jt].r()}function I(jt){var Wt=Ui[jt.toUpperCase()];return Wt&&Wt.constructor}function V(jt){return typeof jt=="string"?jt:jt&&jt.is||""}function H(jt){for(var Wt,$t=jt[Pt],qt=$t?jt.attributes:ri,fe=qt.length;fe--;)Wt=qt[fe],$t.call(jt,Wt.name||Wt.nodeName,null,Wt.value||Wt.nodeValue)}function G(jt){return(jt=jt.toUpperCase())in Sr||(Sr[jt]={},Sr[jt].p=new Ra(function(Wt){Sr[jt].r=Wt})),Sr[jt].p}function K(){Jn&&delete o.customElements,tr(o,"customElements",{configurable:!0,value:new k}),tr(o,"CustomElementRegistry",{configurable:!0,value:k});for(var jt=gt.get(/^HTML[A-Z]*[a-z]/),Wt=jt.length;Wt--;function($t){var qt=o[$t];if(qt){o[$t]=function(fe){var he,Re;return fe||(fe=this),fe[Ar]||(Tr=!0,he=Ui[jn.get(fe.constructor)],(fe=(Re=ai&&he.create.length===1)?Reflect.construct(qt,ri,he.constructor):et.createElement.apply(et,he.create))[Ar]=!0,Tr=!1,Re||H(fe)),fe},o[$t].prototype=qt.prototype;try{qt.prototype.constructor=o[$t]}catch(fe){tr(qt,Ar,{value:o[$t]})}}}(jt[Wt]));et.createElement=function($t,qt){var fe=V(qt);return fe?cn.call(this,$t,pi(fe)):cn.call(this,$t)},jr||(oi=!0,et[ut](""))}var et=o.document,ct=o.Object,gt=function(jt){var Wt,$t,qt,fe,he=/^[A-Z]+[a-z]/,Re=function(Xe,ir){(ir=ir.toLowerCase())in Ne||(Ne[Xe]=(Ne[Xe]||[]).concat(ir),Ne[ir]=Ne[ir.toUpperCase()]=Xe)},Ne=(ct.create||ct)(null),rn={};for($t in jt)for(fe in jt[$t])for(qt=jt[$t][fe],Ne[fe]=qt,Wt=0;Wt<qt.length;Wt++)Ne[qt[Wt].toLowerCase()]=Ne[qt[Wt].toUpperCase()]=fe;return rn.get=function(Xe){return typeof Xe=="string"?Ne[Xe]||(he.test(Xe)?[]:""):function(ir){var gr,ur=[];for(gr in Ne)ir.test(gr)&&ur.push(gr);return ur}(Xe)},rn.set=function(Xe,ir){return he.test(Xe)?Re(Xe,ir):Re(ir,Xe),rn},rn}({collections:{HTMLAllCollection:["all"],HTMLCollection:["forms"],HTMLFormControlsCollection:["elements"],HTMLOptionsCollection:["options"]},elements:{Element:["element"],HTMLAnchorElement:["a"],HTMLAppletElement:["applet"],HTMLAreaElement:["area"],HTMLAttachmentElement:["attachment"],HTMLAudioElement:["audio"],HTMLBRElement:["br"],HTMLBaseElement:["base"],HTMLBodyElement:["body"],HTMLButtonElement:["button"],HTMLCanvasElement:["canvas"],HTMLContentElement:["content"],HTMLDListElement:["dl"],HTMLDataElement:["data"],HTMLDataListElement:["datalist"],HTMLDetailsElement:["details"],HTMLDialogElement:["dialog"],HTMLDirectoryElement:["dir"],HTMLDivElement:["div"],HTMLDocument:["document"],HTMLElement:["element","abbr","address","article","aside","b","bdi","bdo","cite","code","command","dd","dfn","dt","em","figcaption","figure","footer","header","i","kbd","mark","nav","noscript","rp","rt","ruby","s","samp","section","small","strong","sub","summary","sup","u","var","wbr"],HTMLEmbedElement:["embed"],HTMLFieldSetElement:["fieldset"],HTMLFontElement:["font"],HTMLFormElement:["form"],HTMLFrameElement:["frame"],HTMLFrameSetElement:["frameset"],HTMLHRElement:["hr"],HTMLHeadElement:["head"],HTMLHeadingElement:["h1","h2","h3","h4","h5","h6"],HTMLHtmlElement:["html"],HTMLIFrameElement:["iframe"],HTMLImageElement:["img"],HTMLInputElement:["input"],HTMLKeygenElement:["keygen"],HTMLLIElement:["li"],HTMLLabelElement:["label"],HTMLLegendElement:["legend"],HTMLLinkElement:["link"],HTMLMapElement:["map"],HTMLMarqueeElement:["marquee"],HTMLMediaElement:["media"],HTMLMenuElement:["menu"],HTMLMenuItemElement:["menuitem"],HTMLMetaElement:["meta"],HTMLMeterElement:["meter"],HTMLModElement:["del","ins"],HTMLOListElement:["ol"],HTMLObjectElement:["object"],HTMLOptGroupElement:["optgroup"],HTMLOptionElement:["option"],HTMLOutputElement:["output"],HTMLParagraphElement:["p"],HTMLParamElement:["param"],HTMLPictureElement:["picture"],HTMLPreElement:["pre"],HTMLProgressElement:["progress"],HTMLQuoteElement:["blockquote","q","quote"],HTMLScriptElement:["script"],HTMLSelectElement:["select"],HTMLShadowElement:["shadow"],HTMLSlotElement:["slot"],HTMLSourceElement:["source"],HTMLSpanElement:["span"],HTMLStyleElement:["style"],HTMLTableCaptionElement:["caption"],HTMLTableCellElement:["td","th"],HTMLTableColElement:["col","colgroup"],HTMLTableElement:["table"],HTMLTableRowElement:["tr"],HTMLTableSectionElement:["thead","tbody","tfoot"],HTMLTemplateElement:["template"],HTMLTextAreaElement:["textarea"],HTMLTimeElement:["time"],HTMLTitleElement:["title"],HTMLTrackElement:["track"],HTMLUListElement:["ul"],HTMLUnknownElement:["unknown","vhgroupv","vkeygen"],HTMLVideoElement:["video"]},nodes:{Attr:["node"],Audio:["audio"],CDATASection:["node"],CharacterData:["node"],Comment:["#comment"],Document:["#document"],DocumentFragment:["#document-fragment"],DocumentType:["node"],HTMLDocument:["#document"],Image:["img"],Option:["option"],ProcessingInstruction:["node"],ShadowRoot:["#shadow-root"],Text:["#text"],XMLDocument:["xml"]}});typeof c!="object"&&(c={type:c||"auto"});var Mt,Ut,ee,Jt,Lt,Zt,me,Gt,U,ut="registerElement",ht=1e5*o.Math.random()>>0,bt="__"+ut+ht,Dt="addEventListener",mt="attached",ft="Callback",pt="detached",Rt="extends",Pt="attributeChanged"+ft,Ht=mt+ft,oe="connected"+ft,Oe="disconnected"+ft,ue="created"+ft,Yt=pt+ft,Ke="ADDITION",Ee="REMOVAL",Je="DOMAttrModified",Te="DOMContentLoaded",zn="DOMSubtreeModified",Qt="<",Se="=",ve=/^[A-Z][._A-Z0-9]*-[-._A-Z0-9]*$/,le=["ANNOTATION-XML","COLOR-PROFILE","FONT-FACE","FONT-FACE-SRC","FONT-FACE-URI","FONT-FACE-FORMAT","FONT-FACE-NAME","MISSING-GLYPH"],Be=[],on=[],vn="",Sn=et.documentElement,En=Be.indexOf||function(jt){for(var Wt=this.length;Wt--&&this[Wt]!==jt;);return Wt},sr=ct.prototype,In=sr.hasOwnProperty,ni=sr.isPrototypeOf,tr=ct.defineProperty,ri=[],ii=ct.getOwnPropertyDescriptor,Mi=ct.getOwnPropertyNames,br=ct.getPrototypeOf,ya=ct.setPrototypeOf,qr=!!ct.__proto__,Ar="__dreCEv1",Jn=o.customElements,ai=!/^force/.test(c.type)&&!!(Jn&&Jn.define&&Jn.get&&Jn.whenDefined),hi=ct.create||ct,Si=o.Map||function(){var jt,Wt=[],$t=[];return{get:function(qt){return $t[En.call(Wt,qt)]},set:function(qt,fe){(jt=En.call(Wt,qt))<0?$t[Wt.push(qt)-1]=fe:$t[jt]=fe}}},Ra=o.Promise||function(jt){function Wt(he){for(qt=!0;$t.length;)$t.shift()(he)}var $t=[],qt=!1,fe={catch:function(){return fe},then:function(he){return $t.push(he),qt&&setTimeout(Wt,1),fe}};return jt(Wt),fe},Tr=!1,Ui=hi(null),Sr=hi(null),jn=new Si,pi=function(jt){return jt.toLowerCase()},Bi=ct.create||function jt(Wt){return Wt?(jt.prototype=Wt,new jt):this},Dr=ya||(qr?function(jt,Wt){return jt.__proto__=Wt,jt}:Mi&&ii?function(){function jt(Wt,$t){for(var qt,fe=Mi($t),he=0,Re=fe.length;he<Re;he++)qt=fe[he],In.call(Wt,qt)||tr(Wt,qt,ii($t,qt))}return function(Wt,$t){do jt(Wt,$t);while(($t=br($t))&&!ni.call($t,Wt));return Wt}}():function(jt,Wt){for(var $t in Wt)jt[$t]=Wt[$t];return jt}),wr=o.MutationObserver||o.WebKitMutationObserver,Ni=o.HTMLAnchorElement,Et=(o.HTMLElement||o.Element||o.Node).prototype,Fi=!ni.call(Et,Sn),na=Fi?function(jt,Wt,$t){return jt[Wt]=$t.value,jt}:tr,mi=Fi?function(jt){return jt.nodeType===1}:function(jt){return ni.call(Et,jt)},wi=Fi&&[],Vi=Et.attachShadow,ki=Et.cloneNode,vi=Et.closest||function(jt){for(var Wt=this;Wt&&Wt.nodeName!==jt;)Wt=Wt.parentNode;return Wt},Hi=Et.dispatchEvent,Wn=Et.getAttribute,Nr=Et.hasAttribute,re=Et.removeAttribute,Le=Et.setAttribute,Qe=et.createElement,nr=et.importNode,cn=Qe,$r=wr&&{attributes:!0,characterData:!0,attributeOldValue:!0},Ei=wr||function(jt){si=!1,Sn.removeEventListener(Je,Ei)},qe=0,jr=ut in et&&!/^force-all/.test(c.type),Ci=!0,oi=!1,si=!0,vr=!0,Ai=!0;if(wr&&((U=et.createElement("div")).innerHTML="<div><div></div></div>",new wr(function(jt,Wt){if(jt[0]&&jt[0].type=="childList"&&!jt[0].removedNodes[0].childNodes.length){var $t=(U=ii(Et,"innerHTML"))&&U.set;$t&&tr(Et,"innerHTML",{set:function(qt){for(;this.lastChild;)this.removeChild(this.lastChild);$t.call(this,qt)}})}Wt.disconnect(),U=null}).observe(U,{childList:!0,subtree:!0}),U.innerHTML=""),jr||(ya||qr?(me=function(jt,Wt){ni.call(Wt,jt)||b(jt,Wt)},Gt=b):Gt=me=function(jt,Wt){jt[bt]||(jt[bt]=ct(!0),b(jt,Wt))},Fi?(si=!1,function(){var jt=ii(Et,Dt),Wt=jt.value,$t=function(he){var Re=new CustomEvent(Je,{bubbles:!0});Re.attrName=he,Re.prevValue=Wn.call(this,he),Re.newValue=null,Re[Ee]=Re.attrChange=2,re.call(this,he),Hi.call(this,Re)},qt=function(he,Re){var Ne=Nr.call(this,he),rn=Ne&&Wn.call(this,he),Xe=new CustomEvent(Je,{bubbles:!0});Le.call(this,he,Re),Xe.attrName=he,Xe.prevValue=Ne?rn:null,Xe.newValue=Re,Ne?Xe.MODIFICATION=Xe.attrChange=1:Xe[Ke]=Xe.attrChange=0,Hi.call(this,Xe)},fe=function(he){var Re,Ne=he.currentTarget,rn=Ne[bt],Xe=he.propertyName;rn.hasOwnProperty(Xe)&&(rn=rn[Xe],(Re=new CustomEvent(Je,{bubbles:!0})).attrName=rn.name,Re.prevValue=rn.value||null,Re.newValue=rn.value=Ne[Xe]||null,Re.prevValue==null?Re[Ke]=Re.attrChange=0:Re.MODIFICATION=Re.attrChange=1,Hi.call(Ne,Re))};jt.value=function(he,Re,Ne){he===Je&&this[Pt]&&this.setAttribute!==qt&&(this[bt]={className:{name:"class",value:this.className}},this.setAttribute=qt,this.removeAttribute=$t,Wt.call(this,"propertychange",fe)),Wt.call(this,he,Re,Ne)},tr(Et,Dt,jt)}()):wr||(Sn[Dt](Je,Ei),Sn.setAttribute(bt,1),Sn.removeAttribute(bt),si&&(Ut=function(jt){var Wt,$t,qt,fe=this;if(fe===jt.target){for(qt in Wt=fe[bt],fe[bt]=$t=Jt(fe),$t){if(!(qt in Wt))return ee(0,fe,qt,Wt[qt],$t[qt],Ke);if($t[qt]!==Wt[qt])return ee(1,fe,qt,Wt[qt],$t[qt],"MODIFICATION")}for(qt in Wt)if(!(qt in $t))return ee(2,fe,qt,Wt[qt],$t[qt],Ee)}},ee=function(jt,Wt,$t,qt,fe,he){var Re={attrChange:jt,currentTarget:Wt,attrName:$t,prevValue:qt,newValue:fe};Re[he]=jt,d(Re)},Jt=function(jt){for(var Wt,$t,qt={},fe=jt.attributes,he=0,Re=fe.length;he<Re;he++)($t=(Wt=fe[he]).name)!=="setAttribute"&&(qt[$t]=Wt.value);return qt})),et[ut]=function(jt,Wt){if($t=jt.toUpperCase(),Ci&&(Ci=!1,wr?(Lt=function(rn,Xe){function ir(gr,ur){for(var kr=0,hr=gr.length;kr<hr;ur(gr[kr++]));}return new wr(function(gr){for(var ur,kr,hr,$o=0,Ds=gr.length;$o<Ds;$o++)(ur=gr[$o]).type==="childList"?(ir(ur.addedNodes,rn),ir(ur.removedNodes,Xe)):(kr=ur.target,Ai&&kr[Pt]&&ur.attributeName!=="style"&&(hr=Wn.call(kr,ur.attributeName))!==ur.oldValue&&kr[Pt](ur.attributeName,ur.oldValue,hr))})}(u(mt),u(pt)),(Zt=function(rn){return Lt.observe(rn,{childList:!0,subtree:!0}),rn})(et),Vi&&(Et.attachShadow=function(){return Zt(Vi.apply(this,arguments))})):(Mt=[],et[Dt]("DOMNodeInserted",S(mt)),et[Dt]("DOMNodeRemoved",S(pt))),et[Dt](Te,w),et[Dt]("readystatechange",w),et.importNode=function(rn,Xe){switch(rn.nodeType){case 1:return T(et,nr,[rn,!!Xe]);case 11:for(var ir=et.createDocumentFragment(),gr=rn.childNodes,ur=gr.length,kr=0;kr<ur;kr++)ir.appendChild(et.importNode(gr[kr],!!Xe));return ir;default:return ki.call(rn,!!Xe)}},Et.cloneNode=function(rn){return T(this,ki,[!!rn])}),oi)return oi=!1;if(-2<En.call(Be,Se+$t)+En.call(Be,Qt+$t)&&x(jt),!ve.test($t)||-1<En.call(le,$t))throw new Error("The type "+jt+" is invalid");var $t,qt,fe=function(){return Re?et.createElement(Ne,$t):et.createElement(Ne)},he=Wt||sr,Re=In.call(he,Rt),Ne=Re?Wt[Rt].toUpperCase():$t;return Re&&-1<En.call(Be,Qt+Ne)&&x(Ne),qt=Be.push((Re?Se:Qt)+$t)-1,vn=vn.concat(vn.length?",":"",Re?Ne+'[is="'+jt.toLowerCase()+'"]':Ne),fe.prototype=on[qt]=In.call(he,"prototype")?he.prototype:Bi(Et),vn.length&&v(et.querySelectorAll(vn),mt),fe},et.createElement=cn=function(jt,Wt){var $t=V(Wt),qt=$t?Qe.call(et,jt,pi($t)):Qe.call(et,jt),fe=""+jt,he=En.call(Be,($t?Se:Qt)+($t||fe).toUpperCase()),Re=-1<he;return $t&&(qt.setAttribute("is",$t=$t.toLowerCase()),Re&&(Re=m(fe.toUpperCase(),$t))),Ai=!et.createElement.innerHTMLHelper,Re&&Gt(qt,on[he]),qt}),addEventListener("beforeunload",function(){delete et.createElement,delete et.importNode,delete et[ut]},!1),k.prototype={constructor:k,define:ai?function(jt,Wt,$t){if($t)O(jt,Wt,$t);else{var qt=jt.toUpperCase();Ui[qt]={constructor:Wt,create:[qt]},jn.set(Wt,qt),Jn.define(jt,Wt)}}:O,get:ai?function(jt){return Jn.get(jt)||I(jt)}:I,whenDefined:ai?function(jt){return Ra.race([Jn.whenDefined(jt),G(jt)])}:G},!Jn||/^force/.test(c.type))K();else if(!c.noBuiltIn)try{(function(jt,Wt,$t){var qt=new RegExp(`^<a\\s+is=('|")`+$t+"\\1></a>$");if(Wt[Rt]="a",(jt.prototype=Bi(Ni.prototype)).constructor=jt,o.customElements.define($t,jt,Wt),!qt.test(et.createElement("a",{is:$t}).outerHTML)||!qt.test(new jt().outerHTML))throw Wt})(function jt(){return Reflect.construct(Ni,[],jt)},{},"document-register-element-a"+ht)}catch(jt){K()}if(!c.noBuiltIn)try{if(Qe.call(et,"a","a").outerHTML.indexOf("is")<0)throw{}}catch(jt){pi=function(Wt){return{is:Wt.toLowerCase()}}}})(window)},KYUM:function(C,F,o){var c=o("8IOi"),g=o("jYdD").f,v=o("138g");c(c.S,"Reflect",{deleteProperty:function(u,l){var m=g(v(u),l);return!(m&&!m.configurable)&&delete u[l]}})},Ki3G:function(C,F,o){var c=o("Qu5u"),g=o("7WAm");o("CmYC")("getPrototypeOf",function(){return function(v){return g(c(v))}})},KpXI:function(C,F,o){var c=o("8IOi"),g=o("RZL5"),v=Math.exp;c(c.S,"Math",{tanh:function(u){var l=g(u=+u),m=g(-u);return l==1/0?1:m==1/0?-1:(l-m)/(v(u)+v(-u))}})},Ku9J:function(C,F,o){var c=o("HC2Y");C.exports=function(g,v){if(typeof g!="number"&&c(g)!="Number")throw TypeError(v);return+g}},"L6/l":function(C,F,o){"use strict";var c=o("8IOi"),g=o("z/zB")(5),v="find",u=!0;v in[]&&Array(1).find(function(){u=!1}),c(c.P+c.F*u,"Array",{find:function(l){return g(this,l,arguments.length>1?arguments[1]:void 0)}}),o("Zrcd")(v)},L7KE:function(C,F){var o={}.hasOwnProperty;C.exports=function(c,g){return o.call(c,g)}},LMzk:function(C,F,o){o("Gx54")("Float32",4,function(c){return function(g,v,u){return c(this,g,v,u)}})},LOhj:function(C,F){C.exports=function(o){if(typeof o!="function")throw TypeError(o+" is not a function!");return o}},LVuD:function(C,F){C.exports=function(o){try{return{e:!1,v:o()}}catch(c){return{e:!0,v:c}}}},LboF:function(C,F,o){"use strict";var c,g=function(){return c===void 0&&(c=Boolean(window&&document&&document.all&&!window.atob)),c},v=function(){var k={};return function(O){if(k[O]===void 0){var I=document.querySelector(O);if(window.HTMLIFrameElement&&I instanceof window.HTMLIFrameElement)try{I=I.contentDocument.head}catch(V){I=null}k[O]=I}return k[O]}}(),u=[];function l(k){for(var O=-1,I=0;I<u.length;I++)if(u[I].identifier===k){O=I;break}return O}function m(k,O){for(var I={},V=[],H=0;H<k.length;H++){var G=k[H],K=O.base?G[0]+O.base:G[0],et=I[K]||0,ct="".concat(K," ").concat(et);I[K]=et+1;var gt=l(ct),Mt={css:G[1],media:G[2],sourceMap:G[3]};gt!==-1?(u[gt].references++,u[gt].updater(Mt)):u.push({identifier:ct,updater:_(Mt,O),references:1}),V.push(ct)}return V}function d(k){var O=document.createElement("style"),I=k.attributes||{};if(I.nonce===void 0){var V=o.nc;V&&(I.nonce=V)}if(Object.keys(I).forEach(function(G){O.setAttribute(G,I[G])}),typeof k.insert=="function")k.insert(O);else{var H=v(k.insert||"head");if(!H)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");H.appendChild(O)}return O}var S,w=(S=[],function(k,O){return S[k]=O,S.filter(Boolean).join(`
`)});function j(k,O,I,V){var H=I?"":V.media?"@media ".concat(V.media," {").concat(V.css,"}"):V.css;if(k.styleSheet)k.styleSheet.cssText=w(O,H);else{var G=document.createTextNode(H),K=k.childNodes;K[O]&&k.removeChild(K[O]),K.length?k.insertBefore(G,K[O]):k.appendChild(G)}}function T(k,O,I){var V=I.css,H=I.media,G=I.sourceMap;if(H?k.setAttribute("media",H):k.removeAttribute("media"),G&&btoa&&(V+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(G))))," */")),k.styleSheet)k.styleSheet.cssText=V;else{for(;k.firstChild;)k.removeChild(k.firstChild);k.appendChild(document.createTextNode(V))}}var b=null,x=0;function _(k,O){var I,V,H;if(O.singleton){var G=x++;I=b||(b=d(O)),V=j.bind(null,I,G,!1),H=j.bind(null,I,G,!0)}else I=d(O),V=T.bind(null,I,O),H=function(){(function(K){if(K.parentNode===null)return!1;K.parentNode.removeChild(K)})(I)};return V(k),function(K){if(K){if(K.css===k.css&&K.media===k.media&&K.sourceMap===k.sourceMap)return;V(k=K)}else H()}}C.exports=function(k,O){(O=O||{}).singleton||typeof O.singleton=="boolean"||(O.singleton=g());var I=m(k=k||[],O);return function(V){if(V=V||[],Object.prototype.toString.call(V)==="[object Array]"){for(var H=0;H<I.length;H++){var G=l(I[H]);u[G].references--}for(var K=m(V,O),et=0;et<I.length;et++){var ct=l(I[et]);u[ct].references===0&&(u[ct].updater(),u.splice(ct,1))}I=K}}}},LvDl:function(C,F,o){(function(c,g){var v;(function(){var u,l="Expected a function",m="__lodash_hash_undefined__",d="__lodash_placeholder__",S=16,w=32,j=64,T=128,b=256,x=1/0,_=9007199254740991,k=NaN,O=4294967295,I=[["ary",T],["bind",1],["bindKey",2],["curry",8],["curryRight",S],["flip",512],["partial",w],["partialRight",j],["rearg",b]],V="[object Arguments]",H="[object Array]",G="[object Boolean]",K="[object Date]",et="[object Error]",ct="[object Function]",gt="[object GeneratorFunction]",Mt="[object Map]",Ut="[object Number]",ee="[object Object]",Jt="[object Promise]",Lt="[object RegExp]",Zt="[object Set]",me="[object String]",Gt="[object Symbol]",U="[object WeakMap]",ut="[object ArrayBuffer]",ht="[object DataView]",bt="[object Float32Array]",Dt="[object Float64Array]",mt="[object Int8Array]",ft="[object Int16Array]",pt="[object Int32Array]",Rt="[object Uint8Array]",Pt="[object Uint8ClampedArray]",Ht="[object Uint16Array]",oe="[object Uint32Array]",Oe=/\b__p \+= '';/g,ue=/\b(__p \+=) '' \+/g,Yt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ke=/&(?:amp|lt|gt|quot|#39);/g,Ee=/[&<>"']/g,Je=RegExp(Ke.source),Te=RegExp(Ee.source),zn=/<%-([\s\S]+?)%>/g,Qt=/<%([\s\S]+?)%>/g,Se=/<%=([\s\S]+?)%>/g,ve=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,le=/^\w*$/,Be=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,on=/[\\^$.*+?()[\]{}|]/g,vn=RegExp(on.source),Sn=/^\s+/,En=/\s/,sr=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,In=/\{\n\/\* \[wrapped with (.+)\] \*/,ni=/,? & /,tr=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ri=/[()=,{}\[\]\/\s]/,ii=/\\(\\)?/g,Mi=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,br=/\w*$/,ya=/^[-+]0x[0-9a-f]+$/i,qr=/^0b[01]+$/i,Ar=/^\[object .+?Constructor\]$/,Jn=/^0o[0-7]+$/i,ai=/^(?:0|[1-9]\d*)$/,hi=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Si=/($^)/,Ra=/['\n\r\u2028\u2029\\]/g,Tr="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Ui="\\u2700-\\u27bf",Sr="a-z\\xdf-\\xf6\\xf8-\\xff",jn="A-Z\\xc0-\\xd6\\xd8-\\xde",pi="\\ufe0e\\ufe0f",Bi="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Dr="['\u2019]",wr="[\\ud800-\\udfff]",Ni="["+Bi+"]",Et="["+Tr+"]",Fi="\\d+",na="[\\u2700-\\u27bf]",mi="["+Sr+"]",wi="[^\\ud800-\\udfff"+Bi+Fi+Ui+Sr+jn+"]",Vi="\\ud83c[\\udffb-\\udfff]",ki="[^\\ud800-\\udfff]",vi="(?:\\ud83c[\\udde6-\\uddff]){2}",Hi="[\\ud800-\\udbff][\\udc00-\\udfff]",Wn="["+jn+"]",Nr="(?:"+mi+"|"+wi+")",re="(?:"+Wn+"|"+wi+")",Le="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Qe="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",nr="(?:"+Et+"|"+Vi+")?",cn="[\\ufe0e\\ufe0f]?",$r=cn+nr+("(?:\\u200d(?:"+[ki,vi,Hi].join("|")+")"+cn+nr+")*"),Ei="(?:"+[na,vi,Hi].join("|")+")"+$r,qe="(?:"+[ki+Et+"?",Et,vi,Hi,wr].join("|")+")",jr=RegExp(Dr,"g"),Ci=RegExp(Et,"g"),oi=RegExp(Vi+"(?="+Vi+")|"+qe+$r,"g"),si=RegExp([Wn+"?"+mi+"+"+Le+"(?="+[Ni,Wn,"$"].join("|")+")",re+"+"+Qe+"(?="+[Ni,Wn+Nr,"$"].join("|")+")",Wn+"?"+Nr+"+"+Le,Wn+"+"+Qe,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Fi,Ei].join("|"),"g"),vr=RegExp("[\\u200d\\ud800-\\udfff"+Tr+pi+"]"),Ai=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,jt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Wt=-1,$t={};$t[bt]=$t[Dt]=$t[mt]=$t[ft]=$t[pt]=$t[Rt]=$t[Pt]=$t[Ht]=$t[oe]=!0,$t[V]=$t[H]=$t[ut]=$t[G]=$t[ht]=$t[K]=$t[et]=$t[ct]=$t[Mt]=$t[Ut]=$t[ee]=$t[Lt]=$t[Zt]=$t[me]=$t[U]=!1;var qt={};qt[V]=qt[H]=qt[ut]=qt[ht]=qt[G]=qt[K]=qt[bt]=qt[Dt]=qt[mt]=qt[ft]=qt[pt]=qt[Mt]=qt[Ut]=qt[ee]=qt[Lt]=qt[Zt]=qt[me]=qt[Gt]=qt[Rt]=qt[Pt]=qt[Ht]=qt[oe]=!0,qt[et]=qt[ct]=qt[U]=!1;var fe={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},he=parseFloat,Re=parseInt,Ne=typeof c=="object"&&c&&c.Object===Object&&c,rn=typeof self=="object"&&self&&self.Object===Object&&self,Xe=Ne||rn||Function("return this")(),ir=F&&!F.nodeType&&F,gr=ir&&typeof g=="object"&&g&&!g.nodeType&&g,ur=gr&&gr.exports===ir,kr=ur&&Ne.process,hr=function(){try{var zt=gr&&gr.require&&gr.require("util").types;return zt||kr&&kr.binding&&kr.binding("util")}catch(ae){}}(),$o=hr&&hr.isArrayBuffer,Ds=hr&&hr.isDate,Ms=hr&&hr.isMap,yr=hr&&hr.isRegExp,ge=hr&&hr.isSet,Ko=hr&&hr.isTypedArray;function Zn(zt,ae,se){switch(se.length){case 0:return zt.call(ae);case 1:return zt.call(ae,se[0]);case 2:return zt.call(ae,se[0],se[1]);case 3:return zt.call(ae,se[0],se[1],se[2])}return zt.apply(ae,se)}function xl(zt,ae,se,Ae){for(var Ue=-1,Bn=zt==null?0:zt.length;++Ue<Bn;){var lr=zt[Ue];ae(Ae,lr,se(lr),zt)}return Ae}function zi(zt,ae){for(var se=-1,Ae=zt==null?0:zt.length;++se<Ae&&ae(zt[se],se,zt)!==!1;);return zt}function Lu(zt,ae){for(var se=zt==null?0:zt.length;se--&&ae(zt[se],se,zt)!==!1;);return zt}function Pu(zt,ae){for(var se=-1,Ae=zt==null?0:zt.length;++se<Ae;)if(!ae(zt[se],se,zt))return!1;return!0}function Ia(zt,ae){for(var se=-1,Ae=zt==null?0:zt.length,Ue=0,Bn=[];++se<Ae;){var lr=zt[se];ae(lr,se,zt)&&(Bn[Ue++]=lr)}return Bn}function ui(zt,ae){return!!(zt==null?0:zt.length)&&Ma(zt,ae,0)>-1}function Us(zt,ae,se){for(var Ae=-1,Ue=zt==null?0:zt.length;++Ae<Ue;)if(se(ae,zt[Ae]))return!0;return!1}function Kn(zt,ae){for(var se=-1,Ae=zt==null?0:zt.length,Ue=Array(Ae);++se<Ae;)Ue[se]=ae(zt[se],se,zt);return Ue}function ra(zt,ae){for(var se=-1,Ae=ae.length,Ue=zt.length;++se<Ae;)zt[Ue+se]=ae[se];return zt}function Xo(zt,ae,se,Ae){var Ue=-1,Bn=zt==null?0:zt.length;for(Ae&&Bn&&(se=zt[++Ue]);++Ue<Bn;)se=ae(se,zt[Ue],Ue,zt);return se}function Ol(zt,ae,se,Ae){var Ue=zt==null?0:zt.length;for(Ae&&Ue&&(se=zt[--Ue]);Ue--;)se=ae(se,zt[Ue],Ue,zt);return se}function Yo(zt,ae){for(var se=-1,Ae=zt==null?0:zt.length;++se<Ae;)if(ae(zt[se],se,zt))return!0;return!1}var Da=Ll("length");function Jo(zt,ae,se){var Ae;return se(zt,function(Ue,Bn,lr){if(ae(Ue,Bn,lr))return Ae=Bn,!1}),Ae}function _a(zt,ae,se,Ae){for(var Ue=zt.length,Bn=se+(Ae?1:-1);Ae?Bn--:++Bn<Ue;)if(ae(zt[Bn],Bn,zt))return Bn;return-1}function Ma(zt,ae,se){return ae==ae?function(Ae,Ue,Bn){for(var lr=Bn-1,oa=Ae.length;++lr<oa;)if(Ae[lr]===Ue)return lr;return-1}(zt,ae,se):_a(zt,Zo,se)}function Bs(zt,ae,se,Ae){for(var Ue=se-1,Bn=zt.length;++Ue<Bn;)if(Ae(zt[Ue],ae))return Ue;return-1}function Zo(zt){return zt!=zt}function So(zt,ae){var se=zt==null?0:zt.length;return se?Vs(zt,ae)/se:k}function Ll(zt){return function(ae){return ae==null?u:ae[zt]}}function Ns(zt){return function(ae){return zt==null?u:zt[ae]}}function Fs(zt,ae,se,Ae,Ue){return Ue(zt,function(Bn,lr,oa){se=Ae?(Ae=!1,Bn):ae(se,Bn,lr,oa)}),se}function Vs(zt,ae){for(var se,Ae=-1,Ue=zt.length;++Ae<Ue;){var Bn=ae(zt[Ae]);Bn!==u&&(se=se===u?Bn:se+Bn)}return se}function Gi(zt,ae){for(var se=-1,Ae=Array(zt);++se<zt;)Ae[se]=ae(se);return Ae}function Qo(zt){return zt&&zt.slice(0,Pl(zt)+1).replace(Sn,"")}function Pr(zt){return function(ae){return zt(ae)}}function Hs(zt,ae){return Kn(ae,function(se){return zt[se]})}function Kr(zt,ae){return zt.has(ae)}function ba(zt,ae){for(var se=-1,Ae=zt.length;++se<Ae&&Ma(ae,zt[se],0)>-1;);return se}function Ru(zt,ae){for(var se=zt.length;se--&&Ma(ae,zt[se],0)>-1;);return se}function sn(zt,ae){for(var se=zt.length,Ae=0;se--;)zt[se]===ae&&++Ae;return Ae}var zs=Ns({\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"}),Za=Ns({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function ia(zt){return"\\"+fe[zt]}function wo(zt){return vr.test(zt)}function ts(zt){var ae=-1,se=Array(zt.size);return zt.forEach(function(Ae,Ue){se[++ae]=[Ue,Ae]}),se}function es(zt,ae){return function(se){return zt(ae(se))}}function Qa(zt,ae){for(var se=-1,Ae=zt.length,Ue=0,Bn=[];++se<Ae;){var lr=zt[se];lr!==ae&&lr!==d||(zt[se]=d,Bn[Ue++]=se)}return Bn}function ns(zt){var ae=-1,se=Array(zt.size);return zt.forEach(function(Ae){se[++ae]=Ae}),se}function aa(zt){var ae=-1,se=Array(zt.size);return zt.forEach(function(Ae){se[++ae]=[Ae,Ae]}),se}function gi(zt){return wo(zt)?function(ae){for(var se=oi.lastIndex=0;oi.test(ae);)++se;return se}(zt):Da(zt)}function ji(zt){return wo(zt)?function(ae){return ae.match(oi)||[]}(zt):function(ae){return ae.split("")}(zt)}function Pl(zt){for(var ae=zt.length;ae--&&En.test(zt.charAt(ae)););return ae}var Sc=Ns({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Gs=function zt(ae){var se,Ae=(ae=ae==null?Xe:Gs.defaults(Xe.Object(),ae,Gs.pick(Xe,jt))).Array,Ue=ae.Date,Bn=ae.Error,lr=ae.Function,oa=ae.Math,ar=ae.Object,Iu=ae.RegExp,Rl=ae.String,Wi=ae.TypeError,rs=Ae.prototype,Il=lr.prototype,to=ar.prototype,ko=ae["__core-js_shared__"],Ws=Il.toString,Xn=to.hasOwnProperty,Du=0,Dl=(se=/[^.]+$/.exec(ko&&ko.keys&&ko.keys.IE_PROTO||""))?"Symbol(src)_1."+se:"",Eo=to.toString,qs=Ws.call(ar),$s=Xe._,Ml=Iu("^"+Ws.call(Xn).replace(on,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Mu=ur?ae.Buffer:u,eo=ae.Symbol,is=ae.Uint8Array,Ks=Mu?Mu.allocUnsafe:u,no=es(ar.getPrototypeOf,ar),Xs=ar.create,Uu=to.propertyIsEnumerable,as=rs.splice,wc=eo?eo.isConcatSpreadable:u,Ys=eo?eo.iterator:u,yi=eo?eo.toStringTag:u,sa=function(){try{var s=ha(ar,"defineProperty");return s({},"",{}),s}catch(p){}}(),Js=ae.clearTimeout!==Xe.clearTimeout&&ae.clearTimeout,ro=Ue&&Ue.now!==Xe.Date.now&&Ue.now,kc=ae.setTimeout!==Xe.setTimeout&&ae.setTimeout,Bu=oa.ceil,qi=oa.floor,Ua=ar.getOwnPropertySymbols,Nu=Mu?Mu.isBuffer:u,Fu=ae.isFinite,Ba=rs.join,_r=es(ar.keys,ar),Er=oa.max,Fr=oa.min,Ec=Ue.now,Vu=ae.parseInt,os=oa.random,Ul=rs.reverse,Zs=ha(ae,"DataView"),Na=ha(ae,"Map"),ua=ha(ae,"Promise"),Fa=ha(ae,"Set"),io=ha(ae,"WeakMap"),Qs=ha(ar,"create"),Hu=io&&new io,Ta={},Cc=xr(Zs),Ac=xr(Na),ss=xr(ua),Co=xr(Fa),ao=xr(io),us=eo?eo.prototype:u,ls=us?us.valueOf:u,tu=us?us.toString:u;function rt(s){if(Ln(s)&&!xe(s)&&!(s instanceof xn)){if(s instanceof li)return s;if(Xn.call(s,"__wrapped__"))return Ri(s)}return new li(s)}var Vr=function(){function s(){}return function(p){if(!tn(p))return{};if(Xs)return Xs(p);s.prototype=p;var R=new s;return s.prototype=u,R}}();function dr(){}function li(s,p){this.__wrapped__=s,this.__actions__=[],this.__chain__=!!p,this.__index__=0,this.__values__=u}function xn(s){this.__wrapped__=s,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=O,this.__views__=[]}function Sa(s){var p=-1,R=s==null?0:s.length;for(this.clear();++p<R;){var W=s[p];this.set(W[0],W[1])}}function Xr(s){var p=-1,R=s==null?0:s.length;for(this.clear();++p<R;){var W=s[p];this.set(W[0],W[1])}}function $i(s){var p=-1,R=s==null?0:s.length;for(this.clear();++p<R;){var W=s[p];this.set(W[0],W[1])}}function Va(s){var p=-1,R=s==null?0:s.length;for(this.__data__=new $i;++p<R;)this.add(s[p])}function Ki(s){var p=this.__data__=new Xr(s);this.size=p.size}function jc(s,p){var R=xe(s),W=!R&&$n(s),Z=!R&&!W&&Zr(s),ot=!R&&!W&&!Z&&wu(s),Tt=R||W||Z||ot,Ct=Tt?Gi(s.length,Rl):[],Vt=Ct.length;for(var ce in s)!p&&!Xn.call(s,ce)||Tt&&(ce=="length"||Z&&(ce=="offset"||ce=="parent")||ot&&(ce=="buffer"||ce=="byteLength"||ce=="byteOffset")||Yi(ce,Vt))||Ct.push(ce);return Ct}function Bl(s){var p=s.length;return p?s[ys(0,p-1)]:u}function eu(s,p){return fl(Yr(s),xi(p,0,s.length))}function nd(s){return fl(Yr(s))}function Nl(s,p,R){(R!==u&&!Hn(s[p],R)||R===u&&!(p in s))&&Xi(s,p,R)}function cs(s,p,R){var W=s[p];Xn.call(s,p)&&Hn(W,R)&&(R!==u||p in s)||Xi(s,p,R)}function nu(s,p){for(var R=s.length;R--;)if(Hn(s[R][0],p))return R;return-1}function xc(s,p,R,W){return za(s,function(Z,ot,Tt){p(W,Z,R(Z),Tt)}),W}function Ao(s,p){return s&&da(p,Qr(p),s)}function Xi(s,p,R){p=="__proto__"&&sa?sa(s,p,{configurable:!0,enumerable:!0,value:R,writable:!0}):s[p]=R}function zu(s,p){for(var R=-1,W=p.length,Z=Ae(W),ot=s==null;++R<W;)Z[R]=ot?u:Vc(s,p[R]);return Z}function xi(s,p,R){return s==s&&(R!==u&&(s=s<=R?s:R),p!==u&&(s=s>=p?s:p)),s}function pr(s,p,R,W,Z,ot){var Tt,Ct=1&p,Vt=2&p,ce=4&p;if(R&&(Tt=Z?R(s,W,Z,ot):R(s)),Tt!==u)return Tt;if(!tn(s))return s;var de=xe(s);if(de){if(Tt=function(pe){var ke=pe.length,yn=new pe.constructor(ke);return ke&&typeof pe[0]=="string"&&Xn.call(pe,"index")&&(yn.index=pe.index,yn.input=pe.input),yn}(s),!Ct)return Yr(s,Tt)}else{var be=Dn(s),Ge=be==ct||be==gt;if(Zr(s))return nl(s,Ct);if(be==ee||be==V||Ge&&!Z){if(Tt=Vt||Ge?{}:Uo(s),!Ct)return Vt?function(pe,ke){return da(pe,ec(pe),ke)}(s,function(pe,ke){return pe&&da(ke,Qi(ke),pe)}(Tt,s)):function(pe,ke){return da(pe,Xa(pe),ke)}(s,Ao(Tt,s))}else{if(!qt[be])return Z?s:{};Tt=function(pe,ke,yn){var We=pe.constructor;switch(ke){case ut:return du(pe);case G:case K:return new We(+pe);case ht:return function(pn,Vn){var nn=Vn?du(pn.buffer):pn.buffer;return new pn.constructor(nn,pn.byteOffset,pn.byteLength)}(pe,yn);case bt:case Dt:case mt:case ft:case pt:case Rt:case Pt:case Ht:case oe:return rl(pe,yn);case Mt:return new We;case Ut:case me:return new We(pe);case Lt:return function(pn){var Vn=new pn.constructor(pn.source,br.exec(pn));return Vn.lastIndex=pn.lastIndex,Vn}(pe);case Zt:return new We;case Gt:return _n=pe,ls?ar(ls.call(_n)):{}}var _n}(s,be,Ct)}}ot||(ot=new Ki);var $e=ot.get(s);if($e)return $e;ot.set(s,Tt),dc(s)?s.forEach(function(pe){Tt.add(pr(pe,p,R,pe,s,ot))}):Or(s)&&s.forEach(function(pe,ke){Tt.set(ke,pr(pe,p,R,ke,s,ot))});var en=de?u:(ce?Vt?ul:tc:Vt?Qi:Qr)(s);return zi(en||s,function(pe,ke){en&&(pe=s[ke=pe]),cs(Tt,ke,pr(pe,p,R,ke,s,ot))}),Tt}function ds(s,p,R){var W=R.length;if(s==null)return!W;for(s=ar(s);W--;){var Z=R[W],ot=p[Z],Tt=s[Z];if(Tt===u&&!(Z in s)||!ot(Tt))return!1}return!0}function Hr(s,p,R){if(typeof s!="function")throw new Wi(l);return _i(function(){s.apply(u,R)},p)}function Ha(s,p,R,W){var Z=-1,ot=ui,Tt=!0,Ct=s.length,Vt=[],ce=p.length;if(!Ct)return Vt;R&&(p=Kn(p,Pr(R))),W?(ot=Us,Tt=!1):p.length>=200&&(ot=Kr,Tt=!1,p=new Va(p));t:for(;++Z<Ct;){var de=s[Z],be=R==null?de:R(de);if(de=W||de!==0?de:0,Tt&&be==be){for(var Ge=ce;Ge--;)if(p[Ge]===be)continue t;Vt.push(de)}else ot(p,be,W)||Vt.push(de)}return Vt}rt.templateSettings={escape:zn,evaluate:Qt,interpolate:Se,variable:"",imports:{_:rt}},rt.prototype=dr.prototype,rt.prototype.constructor=rt,li.prototype=Vr(dr.prototype),li.prototype.constructor=li,xn.prototype=Vr(dr.prototype),xn.prototype.constructor=xn,Sa.prototype.clear=function(){this.__data__=Qs?Qs(null):{},this.size=0},Sa.prototype.delete=function(s){var p=this.has(s)&&delete this.__data__[s];return this.size-=p?1:0,p},Sa.prototype.get=function(s){var p=this.__data__;if(Qs){var R=p[s];return R===m?u:R}return Xn.call(p,s)?p[s]:u},Sa.prototype.has=function(s){var p=this.__data__;return Qs?p[s]!==u:Xn.call(p,s)},Sa.prototype.set=function(s,p){var R=this.__data__;return this.size+=this.has(s)?0:1,R[s]=Qs&&p===u?m:p,this},Xr.prototype.clear=function(){this.__data__=[],this.size=0},Xr.prototype.delete=function(s){var p=this.__data__,R=nu(p,s);return!(R<0)&&(R==p.length-1?p.pop():as.call(p,R,1),--this.size,!0)},Xr.prototype.get=function(s){var p=this.__data__,R=nu(p,s);return R<0?u:p[R][1]},Xr.prototype.has=function(s){return nu(this.__data__,s)>-1},Xr.prototype.set=function(s,p){var R=this.__data__,W=nu(R,s);return W<0?(++this.size,R.push([s,p])):R[W][1]=p,this},$i.prototype.clear=function(){this.size=0,this.__data__={hash:new Sa,map:new(Na||Xr),string:new Sa}},$i.prototype.delete=function(s){var p=gu(this,s).delete(s);return this.size-=p?1:0,p},$i.prototype.get=function(s){return gu(this,s).get(s)},$i.prototype.has=function(s){return gu(this,s).has(s)},$i.prototype.set=function(s,p){var R=gu(this,s),W=R.size;return R.set(s,p),this.size+=R.size==W?0:1,this},Va.prototype.add=Va.prototype.push=function(s){return this.__data__.set(s,m),this},Va.prototype.has=function(s){return this.__data__.has(s)},Ki.prototype.clear=function(){this.__data__=new Xr,this.size=0},Ki.prototype.delete=function(s){var p=this.__data__,R=p.delete(s);return this.size=p.size,R},Ki.prototype.get=function(s){return this.__data__.get(s)},Ki.prototype.has=function(s){return this.__data__.has(s)},Ki.prototype.set=function(s,p){var R=this.__data__;if(R instanceof Xr){var W=R.__data__;if(!Na||W.length<199)return W.push([s,p]),this.size=++R.size,this;R=this.__data__=new $i(W)}return R.set(s,p),this.size=R.size,this};var za=ol(wa),ru=ol(Wu,!0);function rd(s,p){var R=!0;return za(s,function(W,Z,ot){return R=!!p(W,Z,ot)}),R}function fs(s,p,R){for(var W=-1,Z=s.length;++W<Z;){var ot=s[W],Tt=p(ot);if(Tt!=null&&(Ct===u?Tt==Tt&&!Ti(Tt):R(Tt,Ct)))var Ct=Tt,Vt=ot}return Vt}function Gu(s,p){var R=[];return za(s,function(W,Z,ot){p(W,Z,ot)&&R.push(W)}),R}function Mr(s,p,R,W,Z){var ot=-1,Tt=s.length;for(R||(R=ll),Z||(Z=[]);++ot<Tt;){var Ct=s[ot];p>0&&R(Ct)?p>1?Mr(Ct,p-1,R,W,Z):ra(Z,Ct):W||(Z[Z.length]=Ct)}return Z}var Fl=Kl(),Vl=Kl(!0);function wa(s,p){return s&&Fl(s,p,Qr)}function Wu(s,p){return s&&Vl(s,p,Qr)}function iu(s,p){return Ia(p,function(R){return wn(s[R])})}function oo(s,p){for(var R=0,W=(p=qa(p,s)).length;s!=null&&R<W;)s=s[pa(p[R++])];return R&&R==W?s:u}function jo(s,p,R){var W=p(s);return xe(s)?W:ra(W,R(s))}function On(s){return s==null?s===u?"[object Undefined]":"[object Null]":yi&&yi in ar(s)?function(p){var R=Xn.call(p,yi),W=p[yi];try{p[yi]=u;var Z=!0}catch(Tt){}var ot=Eo.call(p);return Z&&(R?p[yi]=W:delete p[yi]),ot}(s):function(p){return Eo.call(p)}(s)}function ka(s,p){return s>p}function so(s,p){return s!=null&&Xn.call(s,p)}function hs(s,p){return s!=null&&p in ar(s)}function ps(s,p,R){for(var W=R?Us:ui,Z=s[0].length,ot=s.length,Tt=ot,Ct=Ae(ot),Vt=1/0,ce=[];Tt--;){var de=s[Tt];Tt&&p&&(de=Kn(de,Pr(p))),Vt=Fr(de.length,Vt),Ct[Tt]=!R&&(p||Z>=120&&de.length>=120)?new Va(Tt&&de):u}de=s[0];var be=-1,Ge=Ct[0];t:for(;++be<Z&&ce.length<Vt;){var $e=de[be],en=p?p($e):$e;if($e=R||$e!==0?$e:0,!(Ge?Kr(Ge,en):W(ce,en,R))){for(Tt=ot;--Tt;){var pe=Ct[Tt];if(!(pe?Kr(pe,en):W(s[Tt],en,R)))continue t}Ge&&Ge.push(en),ce.push($e)}}return ce}function uo(s,p,R){var W=(s=dl(s,p=qa(p,s)))==null?s:s[pa(di(p))];return W==null?u:Zn(W,s,R)}function au(s){return Ln(s)&&On(s)==V}function ms(s,p,R,W,Z){return s===p||(s==null||p==null||!Ln(s)&&!Ln(p)?s!=s&&p!=p:function(ot,Tt,Ct,Vt,ce,de){var be=xe(ot),Ge=xe(Tt),$e=be?H:Dn(ot),en=Ge?H:Dn(Tt),pe=($e=$e==V?ee:$e)==ee,ke=(en=en==V?ee:en)==ee,yn=$e==en;if(yn&&Zr(ot)){if(!Zr(Tt))return!1;be=!0,pe=!1}if(yn&&!pe)return de||(de=new Ki),be||wu(ot)?Ic(ot,Tt,Ct,Vt,ce,de):function(nn,hn,Rr,ma,go,Gr,Vo){switch(Rr){case ht:if(nn.byteLength!=hn.byteLength||nn.byteOffset!=hn.byteOffset)return!1;nn=nn.buffer,hn=hn.buffer;case ut:return!(nn.byteLength!=hn.byteLength||!Gr(new is(nn),new is(hn)));case G:case K:case Ut:return Hn(+nn,+hn);case et:return nn.name==hn.name&&nn.message==hn.message;case Lt:case me:return nn==hn+"";case Mt:var Os=ts;case Zt:var Tl=1&ma;if(Os||(Os=ns),nn.size!=hn.size&&!Tl)return!1;var Cu=Vo.get(nn);if(Cu)return Cu==hn;ma|=2,Vo.set(nn,hn);var Ho=Ic(Os(nn),Os(hn),ma,go,Gr,Vo);return Vo.delete(nn),Ho;case Gt:if(ls)return ls.call(nn)==ls.call(hn)}return!1}(ot,Tt,$e,Ct,Vt,ce,de);if(!(1&Ct)){var We=pe&&Xn.call(ot,"__wrapped__"),_n=ke&&Xn.call(Tt,"__wrapped__");if(We||_n){var pn=We?ot.value():ot,Vn=_n?Tt.value():Tt;return de||(de=new Ki),ce(pn,Vn,Ct,Vt,de)}}return yn?(de||(de=new Ki),function(nn,hn,Rr,ma,go,Gr){var Vo=1&Rr,Os=tc(nn),Tl=Os.length,Cu=tc(hn).length;if(Tl!=Cu&&!Vo)return!1;for(var Ho=Tl;Ho--;){var zo=Os[Ho];if(!(Vo?zo in hn:Xn.call(hn,zo)))return!1}var Gd=Gr.get(nn),Au=Gr.get(hn);if(Gd&&Au)return Gd==hn&&Au==nn;var Qn=!0;Gr.set(nn,hn),Gr.set(hn,nn);for(var _d=Vo;++Ho<Tl;){var Kc=nn[zo=Os[Ho]],Xc=hn[zo];if(ma)var Wd=Vo?ma(Xc,Kc,zo,hn,nn,Gr):ma(Kc,Xc,zo,nn,hn,Gr);if(!(Wd===u?Kc===Xc||go(Kc,Xc,Rr,ma,Gr):Wd)){Qn=!1;break}_d||(_d=zo=="constructor")}if(Qn&&!_d){var ju=nn.constructor,Yc=hn.constructor;ju==Yc||!("constructor"in nn)||!("constructor"in hn)||typeof ju=="function"&&ju instanceof ju&&typeof Yc=="function"&&Yc instanceof Yc||(Qn=!1)}return Gr.delete(nn),Gr.delete(hn),Qn}(ot,Tt,Ct,Vt,ce,de)):!1}(s,p,R,W,ms,Z))}function xo(s,p,R,W){var Z=R.length,ot=Z,Tt=!W;if(s==null)return!ot;for(s=ar(s);Z--;){var Ct=R[Z];if(Tt&&Ct[2]?Ct[1]!==s[Ct[0]]:!(Ct[0]in s))return!1}for(;++Z<ot;){var Vt=(Ct=R[Z])[0],ce=s[Vt],de=Ct[1];if(Tt&&Ct[2]){if(ce===u&&!(Vt in s))return!1}else{var be=new Ki;if(W)var Ge=W(ce,de,Vt,s,p,be);if(!(Ge===u?ms(de,ce,3,W,be):Ge))return!1}}return!0}function Hl(s){return!(!tn(s)||(p=s,Dl&&Dl in p))&&(wn(s)?Ml:Ar).test(xr(s));var p}function la(s){return typeof s=="function"?s:s==null?Ur:typeof s=="object"?xe(s)?qu(s[0],s[1]):Oi(s):hd(s)}function ca(s){if(!Bo(s))return _r(s);var p=[];for(var R in ar(s))Xn.call(s,R)&&R!="constructor"&&p.push(R);return p}function Oc(s){if(!tn(s))return function(Z){var ot=[];if(Z!=null)for(var Tt in ar(Z))ot.push(Tt);return ot}(s);var p=Bo(s),R=[];for(var W in s)(W!="constructor"||!p&&Xn.call(s,W))&&R.push(W);return R}function zl(s,p){return s<p}function Gl(s,p){var R=-1,W=Nn(s)?Ae(s.length):[];return za(s,function(Z,ot,Tt){W[++R]=p(Z,ot,Tt)}),W}function Oi(s){var p=ho(s);return p.length==1&&p[0][2]?cl(p[0][0],p[0][1]):function(R){return R===s||xo(R,s,p)}}function qu(s,p){return po(s)&&_u(p)?cl(pa(s),p):function(R){var W=Vc(R,s);return W===u&&W===p?Hc(R,s):ms(p,W,3)}}function vs(s,p,R,W,Z){s!==p&&Fl(p,function(ot,Tt){if(Z||(Z=new Ki),tn(ot))(function(Vt,ce,de,be,Ge,$e,en){var pe=bu(Vt,de),ke=bu(ce,de),yn=en.get(ke);if(yn)return void Nl(Vt,de,yn);var We=$e?$e(pe,ke,de+"",Vt,ce,en):u,_n=We===u;if(_n){var pn=xe(ke),Vn=!pn&&Zr(ke),nn=!pn&&!Vn&&wu(ke);We=ke,pn||Vn||nn?xe(pe)?We=pe:Mn(pe)?We=Yr(pe):Vn?(_n=!1,We=nl(ke,!0)):nn?(_n=!1,We=rl(ke,!0)):We=[]:zr(ke)||$n(ke)?(We=pe,$n(pe)?We=As(pe):tn(pe)&&!wn(pe)||(We=Uo(ke))):_n=!1}_n&&(en.set(ke,We),Ge(We,ke,be,$e,en),en.delete(ke)),Nl(Vt,de,We)})(s,p,Tt,R,vs,W,Z);else{var Ct=W?W(bu(s,Tt),ot,Tt+"",s,p,Z):u;Ct===u&&(Ct=ot),Nl(s,Tt,Ct)}},Qi)}function $u(s,p){var R=s.length;if(R)return Yi(p+=p<0?R:0,R)?s[p]:u}function Ku(s,p,R){p=p.length?Kn(p,function(Z){return xe(Z)?function(ot){return oo(ot,Z.length===1?Z[0]:Z)}:Z}):[Ur];var W=-1;return p=Kn(p,Pr(un())),function(Z,ot){var Tt=Z.length;for(Z.sort(ot);Tt--;)Z[Tt]=Z[Tt].value;return Z}(Gl(s,function(Z,ot,Tt){return{criteria:Kn(p,function(Ct){return Ct(Z)}),index:++W,value:Z}}),function(Z,ot){return function(Tt,Ct,Vt){for(var ce=-1,de=Tt.criteria,be=Ct.criteria,Ge=de.length,$e=Vt.length;++ce<Ge;){var en=il(de[ce],be[ce]);if(en)return ce>=$e?en:en*(Vt[ce]=="desc"?-1:1)}return Tt.index-Ct.index}(Z,ot,R)})}function gs(s,p,R){for(var W=-1,Z=p.length,ot={};++W<Z;){var Tt=p[W],Ct=oo(s,Tt);R(Ct,Tt)&&Oo(ot,qa(Tt,s),Ct)}return ot}function Ga(s,p,R,W){var Z=W?Bs:Ma,ot=-1,Tt=p.length,Ct=s;for(s===p&&(p=Yr(p)),R&&(Ct=Kn(s,Pr(R)));++ot<Tt;)for(var Vt=0,ce=p[ot],de=R?R(ce):ce;(Vt=Z(Ct,de,Vt,W))>-1;)Ct!==s&&as.call(Ct,Vt,1),as.call(s,Vt,1);return s}function Xu(s,p){for(var R=s?p.length:0,W=R-1;R--;){var Z=p[R];if(R==W||Z!==ot){var ot=Z;Yi(Z)?as.call(s,Z,1):lu(s,Z)}}return s}function ys(s,p){return s+qi(os()*(p-s+1))}function Yu(s,p){var R="";if(!s||p<1||p>_)return R;do p%2&&(R+=s),(p=qi(p/2))&&(s+=s);while(p);return R}function Cn(s,p){return Cs(Zi(s,p,Ur),s+"")}function Lc(s){return Bl(_l(s))}function ou(s,p){var R=_l(s);return fl(R,xi(p,0,R.length))}function Oo(s,p,R,W){if(!tn(s))return s;for(var Z=-1,ot=(p=qa(p,s)).length,Tt=ot-1,Ct=s;Ct!=null&&++Z<ot;){var Vt=pa(p[Z]),ce=R;if(Vt==="__proto__"||Vt==="constructor"||Vt==="prototype")return s;if(Z!=Tt){var de=Ct[Vt];(ce=W?W(de,Vt,Ct):u)===u&&(ce=tn(de)?de:Yi(p[Z+1])?[]:{})}cs(Ct,Vt,ce),Ct=Ct[Vt]}return s}var Wl=Hu?function(s,p){return Hu.set(s,p),s}:Ur,ql=sa?function(s,p){return sa(s,"toString",{configurable:!0,enumerable:!1,value:cd(p),writable:!0})}:Ur;function su(s){return fl(_l(s))}function Li(s,p,R){var W=-1,Z=s.length;p<0&&(p=-p>Z?0:Z+p),(R=R>Z?Z:R)<0&&(R+=Z),Z=p>R?0:R-p>>>0,p>>>=0;for(var ot=Ae(Z);++W<Z;)ot[W]=s[W+p];return ot}function Ju(s,p){var R;return za(s,function(W,Z,ot){return!(R=p(W,Z,ot))}),!!R}function Lo(s,p,R){var W=0,Z=s==null?W:s.length;if(typeof p=="number"&&p==p&&Z<=2147483647){for(;W<Z;){var ot=W+Z>>>1,Tt=s[ot];Tt!==null&&!Ti(Tt)&&(R?Tt<=p:Tt<p)?W=ot+1:Z=ot}return Z}return uu(s,p,Ur,R)}function uu(s,p,R,W){var Z=0,ot=s==null?0:s.length;if(ot===0)return 0;for(var Tt=(p=R(p))!=p,Ct=p===null,Vt=Ti(p),ce=p===u;Z<ot;){var de=qi((Z+ot)/2),be=R(s[de]),Ge=be!==u,$e=be===null,en=be==be,pe=Ti(be);if(Tt)var ke=W||en;else ke=ce?en&&(W||Ge):Ct?en&&Ge&&(W||!$e):Vt?en&&Ge&&!$e&&(W||!pe):!$e&&!pe&&(W?be<=p:be<p);ke?Z=de+1:ot=de}return Fr(ot,4294967294)}function Zu(s,p){for(var R=-1,W=s.length,Z=0,ot=[];++R<W;){var Tt=s[R],Ct=p?p(Tt):Tt;if(!R||!Hn(Ct,Vt)){var Vt=Ct;ot[Z++]=Tt===0?0:Tt}}return ot}function Pc(s){return typeof s=="number"?s:Ti(s)?k:+s}function ci(s){if(typeof s=="string")return s;if(xe(s))return Kn(s,ci)+"";if(Ti(s))return tu?tu.call(s):"";var p=s+"";return p=="0"&&1/s==-1/0?"-0":p}function Wa(s,p,R){var W=-1,Z=ui,ot=s.length,Tt=!0,Ct=[],Vt=Ct;if(R)Tt=!1,Z=Us;else if(ot>=200){var ce=p?null:Jl(s);if(ce)return ns(ce);Tt=!1,Z=Kr,Vt=new Va}else Vt=p?[]:Ct;t:for(;++W<ot;){var de=s[W],be=p?p(de):de;if(de=R||de!==0?de:0,Tt&&be==be){for(var Ge=Vt.length;Ge--;)if(Vt[Ge]===be)continue t;p&&Vt.push(be),Ct.push(de)}else Z(Vt,be,R)||(Vt!==Ct&&Vt.push(be),Ct.push(de))}return Ct}function lu(s,p){return(s=dl(s,p=qa(p,s)))==null||delete s[pa(di(p))]}function $l(s,p,R,W){return Oo(s,p,R(oo(s,p)),W)}function _s(s,p,R,W){for(var Z=s.length,ot=W?Z:-1;(W?ot--:++ot<Z)&&p(s[ot],ot,s););return R?Li(s,W?0:ot,W?ot+1:Z):Li(s,W?ot+1:0,W?Z:ot)}function Qu(s,p){var R=s;return R instanceof xn&&(R=R.value()),Xo(p,function(W,Z){return Z.func.apply(Z.thisArg,ra([W],Z.args))},R)}function cu(s,p,R){var W=s.length;if(W<2)return W?Wa(s[0]):[];for(var Z=-1,ot=Ae(W);++Z<W;)for(var Tt=s[Z],Ct=-1;++Ct<W;)Ct!=Z&&(ot[Z]=Ha(ot[Z]||Tt,s[Ct],p,R));return Wa(Mr(ot,1),p,R)}function tl(s,p,R){for(var W=-1,Z=s.length,ot=p.length,Tt={};++W<Z;){var Ct=W<ot?p[W]:u;R(Tt,s[W],Ct)}return Tt}function Po(s){return Mn(s)?s:[]}function lo(s){return typeof s=="function"?s:Ur}function qa(s,p){return xe(s)?s:po(s,p)?[s]:ac(Yn(s))}var bs=Cn;function $a(s,p,R){var W=s.length;return R=R===u?W:R,!p&&R>=W?s:Li(s,p,R)}var el=Js||function(s){return Xe.clearTimeout(s)};function nl(s,p){if(p)return s.slice();var R=s.length,W=Ks?Ks(R):new s.constructor(R);return s.copy(W),W}function du(s){var p=new s.constructor(s.byteLength);return new is(p).set(new is(s)),p}function rl(s,p){var R=p?du(s.buffer):s.buffer;return new s.constructor(R,s.byteOffset,s.length)}function il(s,p){if(s!==p){var R=s!==u,W=s===null,Z=s==s,ot=Ti(s),Tt=p!==u,Ct=p===null,Vt=p==p,ce=Ti(p);if(!Ct&&!ce&&!ot&&s>p||ot&&Tt&&Vt&&!Ct&&!ce||W&&Tt&&Vt||!R&&Vt||!Z)return 1;if(!W&&!ot&&!ce&&s<p||ce&&R&&Z&&!W&&!ot||Ct&&R&&Z||!Tt&&Z||!Vt)return-1}return 0}function al(s,p,R,W){for(var Z=-1,ot=s.length,Tt=R.length,Ct=-1,Vt=p.length,ce=Er(ot-Tt,0),de=Ae(Vt+ce),be=!W;++Ct<Vt;)de[Ct]=p[Ct];for(;++Z<Tt;)(be||Z<ot)&&(de[R[Z]]=s[Z]);for(;ce--;)de[Ct++]=s[Z++];return de}function fu(s,p,R,W){for(var Z=-1,ot=s.length,Tt=-1,Ct=R.length,Vt=-1,ce=p.length,de=Er(ot-Ct,0),be=Ae(de+ce),Ge=!W;++Z<de;)be[Z]=s[Z];for(var $e=Z;++Vt<ce;)be[$e+Vt]=p[Vt];for(;++Tt<Ct;)(Ge||Z<ot)&&(be[$e+R[Tt]]=s[Z++]);return be}function Yr(s,p){var R=-1,W=s.length;for(p||(p=Ae(W));++R<W;)p[R]=s[R];return p}function da(s,p,R,W){var Z=!R;R||(R={});for(var ot=-1,Tt=p.length;++ot<Tt;){var Ct=p[ot],Vt=W?W(R[Ct],s[Ct],Ct,R,s):u;Vt===u&&(Vt=s[Ct]),Z?Xi(R,Ct,Vt):cs(R,Ct,Vt)}return R}function Ro(s,p){return function(R,W){var Z=xe(R)?xl:xc,ot=p?p():{};return Z(R,s,un(W,2),ot)}}function Io(s){return Cn(function(p,R){var W=-1,Z=R.length,ot=Z>1?R[Z-1]:u,Tt=Z>2?R[2]:u;for(ot=s.length>3&&typeof ot=="function"?(Z--,ot):u,Tt&&Jr(R[0],R[1],Tt)&&(ot=Z<3?u:ot,Z=1),p=ar(p);++W<Z;){var Ct=R[W];Ct&&s(p,Ct,W,ot)}return p})}function ol(s,p){return function(R,W){if(R==null)return R;if(!Nn(R))return s(R,W);for(var Z=R.length,ot=p?Z:-1,Tt=ar(R);(p?ot--:++ot<Z)&&W(Tt[ot],ot,Tt)!==!1;);return R}}function Kl(s){return function(p,R,W){for(var Z=-1,ot=ar(p),Tt=W(p),Ct=Tt.length;Ct--;){var Vt=Tt[s?Ct:++Z];if(R(ot[Vt],Vt,ot)===!1)break}return p}}function Ts(s){return function(p){var R=wo(p=Yn(p))?ji(p):u,W=R?R[0]:p.charAt(0),Z=R?$a(R,1).join(""):p.slice(1);return W[s]()+Z}}function co(s){return function(p){return Xo(Vd(Nd(p).replace(jr,"")),s,"")}}function Ss(s){return function(){var p=arguments;switch(p.length){case 0:return new s;case 1:return new s(p[0]);case 2:return new s(p[0],p[1]);case 3:return new s(p[0],p[1],p[2]);case 4:return new s(p[0],p[1],p[2],p[3]);case 5:return new s(p[0],p[1],p[2],p[3],p[4]);case 6:return new s(p[0],p[1],p[2],p[3],p[4],p[5]);case 7:return new s(p[0],p[1],p[2],p[3],p[4],p[5],p[6])}var R=Vr(s.prototype),W=s.apply(R,p);return tn(W)?W:R}}function Xl(s){return function(p,R,W){var Z=ar(p);if(!Nn(p)){var ot=un(R,3);p=Qr(p),R=function(Ct){return ot(Z[Ct],Ct,Z)}}var Tt=s(p,R,W);return Tt>-1?Z[ot?p[Tt]:Tt]:u}}function Yl(s){return Pi(function(p){var R=p.length,W=R,Z=li.prototype.thru;for(s&&p.reverse();W--;){var ot=p[W];if(typeof ot!="function")throw new Wi(l);if(Z&&!Tt&&Ka(ot)=="wrapper")var Tt=new li([],!0)}for(W=Tt?W:R;++W<R;){var Ct=Ka(ot=p[W]),Vt=Ct=="wrapper"?Ce(ot):u;Tt=Vt&&yu(Vt[0])&&Vt[1]==424&&!Vt[4].length&&Vt[9]==1?Tt[Ka(Vt[0])].apply(Tt,Vt[3]):ot.length==1&&yu(ot)?Tt[Ct]():Tt.thru(ot)}return function(){var ce=arguments,de=ce[0];if(Tt&&ce.length==1&&xe(de))return Tt.plant(de).value();for(var be=0,Ge=R?p[be].apply(this,ce):de;++be<R;)Ge=p[be].call(this,Ge);return Ge}})}function hu(s,p,R,W,Z,ot,Tt,Ct,Vt,ce){var de=p&T,be=1&p,Ge=2&p,$e=24&p,en=512&p,pe=Ge?u:Ss(s);return function ke(){for(var yn=arguments.length,We=Ae(yn),_n=yn;_n--;)We[_n]=arguments[_n];if($e)var pn=Do(ke),Vn=sn(We,pn);if(W&&(We=al(We,W,Z,$e)),ot&&(We=fu(We,ot,Tt,$e)),yn-=Vn,$e&&yn<ce){var nn=Qa(We,pn);return vu(s,p,hu,ke.placeholder,R,We,nn,Ct,Vt,ce-yn)}var hn=be?R:this,Rr=Ge?hn[s]:s;return yn=We.length,Ct?We=nc(We,Ct):en&&yn>1&&We.reverse(),de&&Vt<yn&&(We.length=Vt),this&&this!==Xe&&this instanceof ke&&(Rr=pe||Ss(Rr)),Rr.apply(hn,We)}}function sl(s,p){return function(R,W){return function(Z,ot,Tt,Ct){return wa(Z,function(Vt,ce,de){ot(Ct,Tt(Vt),ce,de)}),Ct}(R,s,p(W),{})}}function pu(s,p){return function(R,W){var Z;if(R===u&&W===u)return p;if(R!==u&&(Z=R),W!==u){if(Z===u)return W;typeof R=="string"||typeof W=="string"?(R=ci(R),W=ci(W)):(R=Pc(R),W=Pc(W)),Z=s(R,W)}return Z}}function mu(s){return Pi(function(p){return p=Kn(p,Pr(un())),Cn(function(R){var W=this;return s(p,function(Z){return Zn(Z,W,R)})})})}function ws(s,p){var R=(p=p===u?" ":ci(p)).length;if(R<2)return R?Yu(p,s):p;var W=Yu(p,Bu(s/gi(p)));return wo(p)?$a(ji(W),0,s).join(""):W.slice(0,s)}function ks(s){return function(p,R,W){return W&&typeof W!="number"&&Jr(p,R,W)&&(R=W=u),p=Aa(p),R===u?(R=p,p=0):R=Aa(R),function(Z,ot,Tt,Ct){for(var Vt=-1,ce=Er(Bu((ot-Z)/(Tt||1)),0),de=Ae(ce);ce--;)de[Ct?ce:++Vt]=Z,Z+=Tt;return de}(p,R,W=W===u?p<R?1:-1:Aa(W),s)}}function fo(s){return function(p,R){return typeof p=="string"&&typeof R=="string"||(p=ja(p),R=ja(R)),s(p,R)}}function vu(s,p,R,W,Z,ot,Tt,Ct,Vt,ce){var de=8&p;p|=de?w:j,4&(p&=~(de?j:w))||(p&=-4);var be=[s,p,Z,de?ot:u,de?Tt:u,de?u:ot,de?u:Tt,Ct,Vt,ce],Ge=R.apply(u,be);return yu(s)&&rc(Ge,be),Ge.placeholder=W,ic(Ge,s,p)}function fa(s){var p=oa[s];return function(R,W){if(R=ja(R),(W=W==null?0:Fr(ln(W),292))&&Fu(R)){var Z=(Yn(R)+"e").split("e");return+((Z=(Yn(p(Z[0]+"e"+(+Z[1]+W)))+"e").split("e"))[0]+"e"+(+Z[1]-W))}return p(R)}}var Jl=Fa&&1/ns(new Fa([,-0]))[1]==x?function(s){return new Fa(s)}:Gc;function Zl(s){return function(p){var R=Dn(p);return R==Mt?ts(p):R==Zt?aa(p):function(W,Z){return Kn(Z,function(ot){return[ot,W[ot]]})}(p,s(p))}}function Ea(s,p,R,W,Z,ot,Tt,Ct){var Vt=2&p;if(!Vt&&typeof s!="function")throw new Wi(l);var ce=W?W.length:0;if(ce||(p&=-97,W=Z=u),Tt=Tt===u?Tt:Er(ln(Tt),0),Ct=Ct===u?Ct:ln(Ct),ce-=Z?Z.length:0,p&j){var de=W,be=Z;W=Z=u}var Ge=Vt?u:Ce(s),$e=[s,p,R,W,Z,de,be,ot,Tt,Ct];if(Ge&&function(pe,ke){var yn=pe[1],We=ke[1],_n=yn|We,pn=_n<131,Vn=We==T&&yn==8||We==T&&yn==b&&pe[7].length<=ke[8]||We==384&&ke[7].length<=ke[8]&&yn==8;if(!pn&&!Vn)return pe;1&We&&(pe[2]=ke[2],_n|=1&yn?0:4);var nn=ke[3];if(nn){var hn=pe[3];pe[3]=hn?al(hn,nn,ke[4]):nn,pe[4]=hn?Qa(pe[3],d):ke[4]}(nn=ke[5])&&(hn=pe[5],pe[5]=hn?fu(hn,nn,ke[6]):nn,pe[6]=hn?Qa(pe[5],d):ke[6]),(nn=ke[7])&&(pe[7]=nn),We&T&&(pe[8]=pe[8]==null?ke[8]:Fr(pe[8],ke[8])),pe[9]==null&&(pe[9]=ke[9]),pe[0]=ke[0],pe[1]=_n}($e,Ge),s=$e[0],p=$e[1],R=$e[2],W=$e[3],Z=$e[4],!(Ct=$e[9]=$e[9]===u?Vt?0:s.length:Er($e[9]-ce,0))&&24&p&&(p&=-25),p&&p!=1)en=p==8||p==S?function(pe,ke,yn){var We=Ss(pe);return function _n(){for(var pn=arguments.length,Vn=Ae(pn),nn=pn,hn=Do(_n);nn--;)Vn[nn]=arguments[nn];var Rr=pn<3&&Vn[0]!==hn&&Vn[pn-1]!==hn?[]:Qa(Vn,hn);return(pn-=Rr.length)<yn?vu(pe,ke,hu,_n.placeholder,u,Vn,Rr,u,u,yn-pn):Zn(this&&this!==Xe&&this instanceof _n?We:pe,this,Vn)}}(s,p,Ct):p!=w&&p!=33||Z.length?hu.apply(u,$e):function(pe,ke,yn,We){var _n=1&ke,pn=Ss(pe);return function Vn(){for(var nn=-1,hn=arguments.length,Rr=-1,ma=We.length,go=Ae(ma+hn),Gr=this&&this!==Xe&&this instanceof Vn?pn:pe;++Rr<ma;)go[Rr]=We[Rr];for(;hn--;)go[Rr++]=arguments[++nn];return Zn(Gr,_n?yn:this,go)}}(s,p,R,W);else var en=function(pe,ke,yn){var We=1&ke,_n=Ss(pe);return function pn(){return(this&&this!==Xe&&this instanceof pn?_n:pe).apply(We?yn:this,arguments)}}(s,p,R);return ic((Ge?Wl:rc)(en,$e),s,p)}function Es(s,p,R,W){return s===u||Hn(s,to[R])&&!Xn.call(W,R)?p:s}function Rc(s,p,R,W,Z,ot){return tn(s)&&tn(p)&&(ot.set(p,s),vs(s,p,u,Rc,ot),ot.delete(p)),s}function Ql(s){return zr(s)?u:s}function Ic(s,p,R,W,Z,ot){var Tt=1&R,Ct=s.length,Vt=p.length;if(Ct!=Vt&&!(Tt&&Vt>Ct))return!1;var ce=ot.get(s),de=ot.get(p);if(ce&&de)return ce==p&&de==s;var be=-1,Ge=!0,$e=2&R?new Va:u;for(ot.set(s,p),ot.set(p,s);++be<Ct;){var en=s[be],pe=p[be];if(W)var ke=Tt?W(pe,en,be,p,s,ot):W(en,pe,be,s,p,ot);if(ke!==u){if(ke)continue;Ge=!1;break}if($e){if(!Yo(p,function(yn,We){if(!Kr($e,We)&&(en===yn||Z(en,yn,R,W,ot)))return $e.push(We)})){Ge=!1;break}}else if(en!==pe&&!Z(en,pe,R,W,ot)){Ge=!1;break}}return ot.delete(s),ot.delete(p),Ge}function Pi(s){return Cs(Zi(s,u,cc),s+"")}function tc(s){return jo(s,Qr,Xa)}function ul(s){return jo(s,Qi,ec)}var Ce=Hu?function(s){return Hu.get(s)}:Gc;function Ka(s){for(var p=s.name+"",R=Ta[p],W=Xn.call(Ta,p)?R.length:0;W--;){var Z=R[W],ot=Z.func;if(ot==null||ot==s)return Z.name}return p}function Do(s){return(Xn.call(rt,"placeholder")?rt:s).placeholder}function un(){var s=rt.iteratee||mr;return s=s===mr?la:s,arguments.length?s(arguments[0],arguments[1]):s}function gu(s,p){var R=s.__data__;return function(W){var Z=typeof W;return Z=="string"||Z=="number"||Z=="symbol"||Z=="boolean"?W!=="__proto__":W===null}(p)?R[typeof p=="string"?"string":"hash"]:R.map}function ho(s){for(var p=Qr(s),R=p.length;R--;){var W=p[R],Z=s[W];p[R]=[W,Z,_u(Z)]}return p}function ha(s,p){var R=function(W,Z){return W==null?u:W[Z]}(s,p);return Hl(R)?R:u}var Xa=Ua?function(s){return s==null?[]:(s=ar(s),Ia(Ua(s),function(p){return Uu.call(s,p)}))}:bl,ec=Ua?function(s){for(var p=[];s;)ra(p,Xa(s)),s=no(s);return p}:bl,Dn=On;function Mo(s,p,R){for(var W=-1,Z=(p=qa(p,s)).length,ot=!1;++W<Z;){var Tt=pa(p[W]);if(!(ot=s!=null&&R(s,Tt)))break;s=s[Tt]}return ot||++W!=Z?ot:!!(Z=s==null?0:s.length)&&Fn(Z)&&Yi(Tt,Z)&&(xe(s)||$n(s))}function Uo(s){return typeof s.constructor!="function"||Bo(s)?{}:Vr(no(s))}function ll(s){return xe(s)||$n(s)||!!(wc&&s&&s[wc])}function Yi(s,p){var R=typeof s;return!!(p=p==null?_:p)&&(R=="number"||R!="symbol"&&ai.test(s))&&s>-1&&s%1==0&&s<p}function Jr(s,p,R){if(!tn(R))return!1;var W=typeof p;return!!(W=="number"?Nn(R)&&Yi(p,R.length):W=="string"&&p in R)&&Hn(R[p],s)}function po(s,p){if(xe(s))return!1;var R=typeof s;return!(R!="number"&&R!="symbol"&&R!="boolean"&&s!=null&&!Ti(s))||le.test(s)||!ve.test(s)||p!=null&&s in ar(p)}function yu(s){var p=Ka(s),R=rt[p];if(typeof R!="function"||!(p in xn.prototype))return!1;if(s===R)return!0;var W=Ce(R);return!!W&&s===W[0]}(Zs&&Dn(new Zs(new ArrayBuffer(1)))!=ht||Na&&Dn(new Na)!=Mt||ua&&Dn(ua.resolve())!=Jt||Fa&&Dn(new Fa)!=Zt||io&&Dn(new io)!=U)&&(Dn=function(s){var p=On(s),R=p==ee?s.constructor:u,W=R?xr(R):"";if(W)switch(W){case Cc:return ht;case Ac:return Mt;case ss:return Jt;case Co:return Zt;case ao:return U}return p});var Ji=ko?wn:qc;function Bo(s){var p=s&&s.constructor;return s===(typeof p=="function"&&p.prototype||to)}function _u(s){return s==s&&!tn(s)}function cl(s,p){return function(R){return R!=null&&R[s]===p&&(p!==u||s in ar(R))}}function Zi(s,p,R){return p=Er(p===u?s.length-1:p,0),function(){for(var W=arguments,Z=-1,ot=Er(W.length-p,0),Tt=Ae(ot);++Z<ot;)Tt[Z]=W[p+Z];Z=-1;for(var Ct=Ae(p+1);++Z<p;)Ct[Z]=W[Z];return Ct[p]=R(Tt),Zn(s,this,Ct)}}function dl(s,p){return p.length<2?s:oo(s,Li(p,0,-1))}function nc(s,p){for(var R=s.length,W=Fr(p.length,R),Z=Yr(s);W--;){var ot=p[W];s[W]=Yi(ot,R)?Z[ot]:u}return s}function bu(s,p){if((p!=="constructor"||typeof s[p]!="function")&&p!="__proto__")return s[p]}var rc=No(Wl),_i=kc||function(s,p){return Xe.setTimeout(s,p)},Cs=No(ql);function ic(s,p,R){var W=p+"";return Cs(s,function(Z,ot){var Tt=ot.length;if(!Tt)return Z;var Ct=Tt-1;return ot[Ct]=(Tt>1?"& ":"")+ot[Ct],ot=ot.join(Tt>2?", ":" "),Z.replace(sr,`{
/* [wrapped with `+ot+`] */
`)}(W,function(Z,ot){return zi(I,function(Tt){var Ct="_."+Tt[0];ot&Tt[1]&&!ui(Z,Ct)&&Z.push(Ct)}),Z.sort()}(function(Z){var ot=Z.match(In);return ot?ot[1].split(ni):[]}(W),R)))}function No(s){var p=0,R=0;return function(){var W=Ec(),Z=16-(W-R);if(R=W,Z>0){if(++p>=800)return arguments[0]}else p=0;return s.apply(u,arguments)}}function fl(s,p){var R=-1,W=s.length,Z=W-1;for(p=p===u?W:p;++R<p;){var ot=ys(R,Z),Tt=s[ot];s[ot]=s[R],s[R]=Tt}return s.length=p,s}var ac=function(s){var p=_e(s,function(W){return R.size===500&&R.clear(),W}),R=p.cache;return p}(function(s){var p=[];return s.charCodeAt(0)===46&&p.push(""),s.replace(Be,function(R,W,Z,ot){p.push(Z?ot.replace(ii,"$1"):W||R)}),p});function pa(s){if(typeof s=="string"||Ti(s))return s;var p=s+"";return p=="0"&&1/s==-1/0?"-0":p}function xr(s){if(s!=null){try{return Ws.call(s)}catch(p){}try{return s+""}catch(p){}}return""}function Ri(s){if(s instanceof xn)return s.clone();var p=new li(s.__wrapped__,s.__chain__);return p.__actions__=Yr(s.__actions__),p.__index__=s.__index__,p.__values__=s.__values__,p}var oc=Cn(function(s,p){return Mn(s)?Ha(s,Mr(p,1,Mn,!0)):[]}),Dc=Cn(function(s,p){var R=di(p);return Mn(R)&&(R=u),Mn(s)?Ha(s,Mr(p,1,Mn,!0),un(R,2)):[]}),sc=Cn(function(s,p){var R=di(p);return Mn(R)&&(R=u),Mn(s)?Ha(s,Mr(p,1,Mn,!0),u,R):[]});function uc(s,p,R){var W=s==null?0:s.length;if(!W)return-1;var Z=R==null?0:ln(R);return Z<0&&(Z=Er(W+Z,0)),_a(s,un(p,3),Z)}function lc(s,p,R){var W=s==null?0:s.length;if(!W)return-1;var Z=W-1;return R!==u&&(Z=ln(R),Z=R<0?Er(W+Z,0):Fr(Z,W-1)),_a(s,un(p,3),Z,!0)}function cc(s){return(s==null?0:s.length)?Mr(s,1):[]}function hl(s){return s&&s.length?s[0]:u}var Fo=Cn(function(s){var p=Kn(s,Po);return p.length&&p[0]===s[0]?ps(p):[]}),pl=Cn(function(s){var p=di(s),R=Kn(s,Po);return p===di(R)?p=u:R.pop(),R.length&&R[0]===s[0]?ps(R,un(p,2)):[]}),Tu=Cn(function(s){var p=di(s),R=Kn(s,Po);return(p=typeof p=="function"?p:u)&&R.pop(),R.length&&R[0]===s[0]?ps(R,u,p):[]});function di(s){var p=s==null?0:s.length;return p?s[p-1]:u}var Mc=Cn(Su);function Su(s,p){return s&&s.length&&p&&p.length?Ga(s,p):s}var Uc=Pi(function(s,p){var R=s==null?0:s.length,W=zu(s,p);return Xu(s,Kn(p,function(Z){return Yi(Z,R)?+Z:Z}).sort(il)),W});function ml(s){return s==null?s:Ul.call(s)}var vl=Cn(function(s){return Wa(Mr(s,1,Mn,!0))}),gl=Cn(function(s){var p=di(s);return Mn(p)&&(p=u),Wa(Mr(s,1,Mn,!0),un(p,2))}),Bc=Cn(function(s){var p=di(s);return p=typeof p=="function"?p:u,Wa(Mr(s,1,Mn,!0),u,p)});function yl(s){if(!s||!s.length)return[];var p=0;return s=Ia(s,function(R){if(Mn(R))return p=Er(R.length,p),!0}),Gi(p,function(R){return Kn(s,Ll(R))})}function Nc(s,p){if(!s||!s.length)return[];var R=yl(s);return p==null?R:Kn(R,function(W){return Zn(p,u,W)})}var id=Cn(function(s,p){return Mn(s)?Ha(s,p):[]}),ad=Cn(function(s){return cu(Ia(s,Mn))}),Fc=Cn(function(s){var p=di(s);return Mn(p)&&(p=u),cu(Ia(s,Mn),un(p,2))}),h=Cn(function(s){var p=di(s);return p=typeof p=="function"?p:u,cu(Ia(s,Mn),u,p)}),A=Cn(yl),L=Cn(function(s){var p=s.length,R=p>1?s[p-1]:u;return R=typeof R=="function"?(s.pop(),R):u,Nc(s,R)});function M(s){var p=rt(s);return p.__chain__=!0,p}function $(s,p){return p(s)}var B=Pi(function(s){var p=s.length,R=p?s[0]:0,W=this.__wrapped__,Z=function(ot){return zu(ot,s)};return!(p>1||this.__actions__.length)&&W instanceof xn&&Yi(R)?((W=W.slice(R,+R+(p?1:0))).__actions__.push({func:$,args:[Z],thisArg:u}),new li(W,this.__chain__).thru(function(ot){return p&&!ot.length&&ot.push(u),ot})):this.thru(Z)}),tt=Ro(function(s,p,R){Xn.call(s,R)?++s[R]:Xi(s,R,1)}),it=Xl(uc),at=Xl(lc);function vt(s,p){return(xe(s)?zi:za)(s,un(p,3))}function Ot(s,p){return(xe(s)?Lu:ru)(s,un(p,3))}var wt=Ro(function(s,p,R){Xn.call(s,R)?s[R].push(p):Xi(s,R,[p])}),Xt=Cn(function(s,p,R){var W=-1,Z=typeof p=="function",ot=Nn(s)?Ae(s.length):[];return za(s,function(Tt){ot[++W]=Z?Zn(p,Tt,R):uo(Tt,p,R)}),ot}),ne=Ro(function(s,p,R){Xi(s,R,p)});function Kt(s,p){return(xe(s)?Kn:Gl)(s,un(p,3))}var Ft=Ro(function(s,p,R){s[R?0:1].push(p)},function(){return[[],[]]}),ye=Cn(function(s,p){if(s==null)return[];var R=p.length;return R>1&&Jr(s,p[0],p[1])?p=[]:R>2&&Jr(p[0],p[1],p[2])&&(p=[p[0]]),Ku(s,Mr(p,1),[])}),Ve=ro||function(){return Xe.Date.now()};function ze(s,p,R){return p=R?u:p,p=s&&p==null?s.length:p,Ea(s,T,u,u,u,u,p)}function Ze(s,p){var R;if(typeof p!="function")throw new Wi(l);return s=ln(s),function(){return--s>0&&(R=p.apply(this,arguments)),s<=1&&(p=u),R}}var An=Cn(function(s,p,R){var W=1;if(R.length){var Z=Qa(R,Do(An));W|=w}return Ea(s,W,p,R,Z)}),Pe=Cn(function(s,p,R){var W=3;if(R.length){var Z=Qa(R,Do(Pe));W|=w}return Ea(p,W,s,R,Z)});function gn(s,p,R){var W,Z,ot,Tt,Ct,Vt,ce=0,de=!1,be=!1,Ge=!0;if(typeof s!="function")throw new Wi(l);function $e(_n){var pn=W,Vn=Z;return W=Z=u,ce=_n,Tt=s.apply(Vn,pn)}function en(_n){return ce=_n,Ct=_i(ke,p),de?$e(_n):Tt}function pe(_n){var pn=_n-Vt;return Vt===u||pn>=p||pn<0||be&&_n-ce>=ot}function ke(){var _n=Ve();if(pe(_n))return yn(_n);Ct=_i(ke,function(pn){var Vn=p-(pn-Vt);return be?Fr(Vn,ot-(pn-ce)):Vn}(_n))}function yn(_n){return Ct=u,Ge&&W?$e(_n):(W=Z=u,Tt)}function We(){var _n=Ve(),pn=pe(_n);if(W=arguments,Z=this,Vt=_n,pn){if(Ct===u)return en(Vt);if(be)return el(Ct),Ct=_i(ke,p),$e(Vt)}return Ct===u&&(Ct=_i(ke,p)),Tt}return p=ja(p)||0,tn(R)&&(de=!!R.leading,ot=(be="maxWait"in R)?Er(ja(R.maxWait)||0,p):ot,Ge="trailing"in R?!!R.trailing:Ge),We.cancel=function(){Ct!==u&&el(Ct),ce=0,W=Vt=Z=Ct=u},We.flush=function(){return Ct===u?Tt:yn(Ve())},We}var It=Cn(function(s,p){return Hr(s,1,p)}),Bt=Cn(function(s,p,R){return Hr(s,ja(p)||0,R)});function _e(s,p){if(typeof s!="function"||p!=null&&typeof p!="function")throw new Wi(l);var R=function(){var W=arguments,Z=p?p.apply(this,W):W[0],ot=R.cache;if(ot.has(Z))return ot.get(Z);var Tt=s.apply(this,W);return R.cache=ot.set(Z,Tt)||ot,Tt};return R.cache=new(_e.Cache||$i),R}function He(s){if(typeof s!="function")throw new Wi(l);return function(){var p=arguments;switch(p.length){case 0:return!s.call(this);case 1:return!s.call(this,p[0]);case 2:return!s.call(this,p[0],p[1]);case 3:return!s.call(this,p[0],p[1],p[2])}return!s.apply(this,p)}}_e.Cache=$i;var dn=bs(function(s,p){var R=(p=p.length==1&&xe(p[0])?Kn(p[0],Pr(un())):Kn(Mr(p,1),Pr(un()))).length;return Cn(function(W){for(var Z=-1,ot=Fr(W.length,R);++Z<ot;)W[Z]=p[Z].call(this,W[Z]);return Zn(s,this,W)})}),fn=Cn(function(s,p){var R=Qa(p,Do(fn));return Ea(s,w,u,p,R)}),Tn=Cn(function(s,p){var R=Qa(p,Do(Tn));return Ea(s,j,u,p,R)}),Pn=Pi(function(s,p){return Ea(s,b,u,u,u,p)});function Hn(s,p){return s===p||s!=s&&p!=p}var er=fo(ka),qn=fo(function(s,p){return s>=p}),$n=au(function(){return arguments}())?au:function(s){return Ln(s)&&Xn.call(s,"callee")&&!Uu.call(s,"callee")},xe=Ae.isArray,Rn=$o?Pr($o):function(s){return Ln(s)&&On(s)==ut};function Nn(s){return s!=null&&Fn(s.length)&&!wn(s)}function Mn(s){return Ln(s)&&Nn(s)}var Zr=Nu||qc,mo=Ds?Pr(Ds):function(s){return Ln(s)&&On(s)==K};function bi(s){if(!Ln(s))return!1;var p=On(s);return p==et||p=="[object DOMException]"||typeof s.message=="string"&&typeof s.name=="string"&&!zr(s)}function wn(s){if(!tn(s))return!1;var p=On(s);return p==ct||p==gt||p=="[object AsyncFunction]"||p=="[object Proxy]"}function we(s){return typeof s=="number"&&s==ln(s)}function Fn(s){return typeof s=="number"&&s>-1&&s%1==0&&s<=_}function tn(s){var p=typeof s;return s!=null&&(p=="object"||p=="function")}function Ln(s){return s!=null&&typeof s=="object"}var Or=Ms?Pr(Ms):function(s){return Ln(s)&&Dn(s)==Mt};function Cr(s){return typeof s=="number"||Ln(s)&&On(s)==Ut}function zr(s){if(!Ln(s)||On(s)!=ee)return!1;var p=no(s);if(p===null)return!0;var R=Xn.call(p,"constructor")&&p.constructor;return typeof R=="function"&&R instanceof R&&Ws.call(R)==qs}var vo=yr?Pr(yr):function(s){return Ln(s)&&On(s)==Lt},dc=ge?Pr(ge):function(s){return Ln(s)&&Dn(s)==Zt};function fc(s){return typeof s=="string"||!xe(s)&&Ln(s)&&On(s)==me}function Ti(s){return typeof s=="symbol"||Ln(s)&&On(s)==Gt}var wu=Ko?Pr(Ko):function(s){return Ln(s)&&Fn(s.length)&&!!$t[On(s)]},jd=fo(zl),xd=fo(function(s,p){return s<=p});function Ca(s){if(!s)return[];if(Nn(s))return fc(s)?ji(s):Yr(s);if(Ys&&s[Ys])return function(R){for(var W,Z=[];!(W=R.next()).done;)Z.push(W.value);return Z}(s[Ys]());var p=Dn(s);return(p==Mt?ts:p==Zt?ns:_l)(s)}function Aa(s){return s?(s=ja(s))===x||s===-1/0?17976931348623157e292*(s<0?-1:1):s==s?s:0:s===0?s:0}function ln(s){var p=Aa(s),R=p%1;return p==p?R?p-R:p:0}function od(s){return s?xi(ln(s),0,O):0}function ja(s){if(typeof s=="number")return s;if(Ti(s))return k;if(tn(s)){var p=typeof s.valueOf=="function"?s.valueOf():s;s=tn(p)?p+"":p}if(typeof s!="string")return s===0?s:+s;s=Qo(s);var R=qr.test(s);return R||Jn.test(s)?Re(s.slice(2),R?2:8):ya.test(s)?k:+s}function As(s){return da(s,Qi(s))}function Yn(s){return s==null?"":ci(s)}var Od=Io(function(s,p){if(Bo(p)||Nn(p))da(p,Qr(p),s);else for(var R in p)Xn.call(p,R)&&cs(s,R,p[R])}),ku=Io(function(s,p){da(p,Qi(p),s)}),Eu=Io(function(s,p,R,W){da(p,Qi(p),s,W)}),Ld=Io(function(s,p,R,W){da(p,Qr(p),s,W)}),Pd=Pi(zu),Rd=Cn(function(s,p){s=ar(s);var R=-1,W=p.length,Z=W>2?p[2]:u;for(Z&&Jr(p[0],p[1],Z)&&(W=1);++R<W;)for(var ot=p[R],Tt=Qi(ot),Ct=-1,Vt=Tt.length;++Ct<Vt;){var ce=Tt[Ct],de=s[ce];(de===u||Hn(de,to[ce])&&!Xn.call(s,ce))&&(s[ce]=ot[ce])}return s}),Id=Cn(function(s){return s.push(u,Rc),Zn(Dd,u,s)});function Vc(s,p,R){var W=s==null?u:oo(s,p);return W===u?R:W}function Hc(s,p){return s!=null&&Mo(s,p,hs)}var Ii=sl(function(s,p,R){p!=null&&typeof p.toString!="function"&&(p=Eo.call(p)),s[p]=R},cd(Ur)),lf=sl(function(s,p,R){p!=null&&typeof p.toString!="function"&&(p=Eo.call(p)),Xn.call(s,p)?s[p].push(R):s[p]=[R]},un),cf=Cn(uo);function Qr(s){return Nn(s)?jc(s):ca(s)}function Qi(s){return Nn(s)?jc(s,!0):Oc(s)}var df=Io(function(s,p,R){vs(s,p,R)}),Dd=Io(function(s,p,R,W){vs(s,p,R,W)}),js=Pi(function(s,p){var R={};if(s==null)return R;var W=!1;p=Kn(p,function(ot){return ot=qa(ot,s),W||(W=ot.length>1),ot}),da(s,ul(s),R),W&&(R=pr(R,7,Ql));for(var Z=p.length;Z--;)lu(R,p[Z]);return R}),sd=Pi(function(s,p){return s==null?{}:function(R,W){return gs(R,W,function(Z,ot){return Hc(R,ot)})}(s,p)});function rr(s,p){if(s==null)return{};var R=Kn(ul(s),function(W){return[W]});return p=un(p),gs(s,R,function(W,Z){return p(W,Z[0])})}var Md=Zl(Qr),Ud=Zl(Qi);function _l(s){return s==null?[]:Hs(s,Qr(s))}var ff=co(function(s,p,R){return p=p.toLowerCase(),s+(R?Bd(p):p)});function Bd(s){return ld(Yn(s).toLowerCase())}function Nd(s){return(s=Yn(s))&&s.replace(hi,zs).replace(Ci,"")}var hf=co(function(s,p,R){return s+(R?"-":"")+p.toLowerCase()}),hc=co(function(s,p,R){return s+(R?" ":"")+p.toLowerCase()}),Fd=Ts("toLowerCase"),ud=co(function(s,p,R){return s+(R?"_":"")+p.toLowerCase()}),pf=co(function(s,p,R){return s+(R?" ":"")+ld(p)}),mf=co(function(s,p,R){return s+(R?" ":"")+p.toUpperCase()}),ld=Ts("toUpperCase");function Vd(s,p,R){return s=Yn(s),(p=R?u:p)===u?function(W){return Ai.test(W)}(s)?function(W){return W.match(si)||[]}(s):function(W){return W.match(tr)||[]}(s):s.match(p)||[]}var Hd=Cn(function(s,p){try{return Zn(s,u,p)}catch(R){return bi(R)?R:new Bn(R)}}),xs=Pi(function(s,p){return zi(p,function(R){R=pa(R),Xi(s,R,An(s[R],s))}),s});function cd(s){return function(){return s}}var zc=Yl(),vf=Yl(!0);function Ur(s){return s}function mr(s){return la(typeof s=="function"?s:pr(s,1))}var dd=Cn(function(s,p){return function(R){return uo(R,s,p)}}),ti=Cn(function(s,p){return function(R){return uo(s,R,p)}});function pc(s,p,R){var W=Qr(p),Z=iu(p,W);R!=null||tn(p)&&(Z.length||!W.length)||(R=p,p=s,s=this,Z=iu(p,Qr(p)));var ot=!(tn(R)&&"chain"in R&&!R.chain),Tt=wn(s);return zi(Z,function(Ct){var Vt=p[Ct];s[Ct]=Vt,Tt&&(s.prototype[Ct]=function(){var ce=this.__chain__;if(ot||ce){var de=s(this.__wrapped__),be=de.__actions__=Yr(this.__actions__);return be.push({func:Vt,args:arguments,thisArg:s}),de.__chain__=ce,de}return Vt.apply(s,ra([this.value()],arguments))})}),s}function Gc(){}var fd=mu(Kn),gf=mu(Pu),yf=mu(Yo);function hd(s){return po(s)?Ll(pa(s)):function(p){return function(R){return oo(R,p)}}(s)}var Wc=ks(),_f=ks(!0);function bl(){return[]}function qc(){return!1}var pd=pu(function(s,p){return s+p},0),$c=fa("ceil"),md=pu(function(s,p){return s/p},1),bf=fa("floor"),vd,zd=pu(function(s,p){return s*p},1),gd=fa("round"),yd=pu(function(s,p){return s-p},0);return rt.after=function(s,p){if(typeof p!="function")throw new Wi(l);return s=ln(s),function(){if(--s<1)return p.apply(this,arguments)}},rt.ary=ze,rt.assign=Od,rt.assignIn=ku,rt.assignInWith=Eu,rt.assignWith=Ld,rt.at=Pd,rt.before=Ze,rt.bind=An,rt.bindAll=xs,rt.bindKey=Pe,rt.castArray=function(){if(!arguments.length)return[];var s=arguments[0];return xe(s)?s:[s]},rt.chain=M,rt.chunk=function(s,p,R){p=(R?Jr(s,p,R):p===u)?1:Er(ln(p),0);var W=s==null?0:s.length;if(!W||p<1)return[];for(var Z=0,ot=0,Tt=Ae(Bu(W/p));Z<W;)Tt[ot++]=Li(s,Z,Z+=p);return Tt},rt.compact=function(s){for(var p=-1,R=s==null?0:s.length,W=0,Z=[];++p<R;){var ot=s[p];ot&&(Z[W++]=ot)}return Z},rt.concat=function(){var s=arguments.length;if(!s)return[];for(var p=Ae(s-1),R=arguments[0],W=s;W--;)p[W-1]=arguments[W];return ra(xe(R)?Yr(R):[R],Mr(p,1))},rt.cond=function(s){var p=s==null?0:s.length,R=un();return s=p?Kn(s,function(W){if(typeof W[1]!="function")throw new Wi(l);return[R(W[0]),W[1]]}):[],Cn(function(W){for(var Z=-1;++Z<p;){var ot=s[Z];if(Zn(ot[0],this,W))return Zn(ot[1],this,W)}})},rt.conforms=function(s){return function(p){var R=Qr(p);return function(W){return ds(W,p,R)}}(pr(s,1))},rt.constant=cd,rt.countBy=tt,rt.create=function(s,p){var R=Vr(s);return p==null?R:Ao(R,p)},rt.curry=function s(p,R,W){var Z=Ea(p,8,u,u,u,u,u,R=W?u:R);return Z.placeholder=s.placeholder,Z},rt.curryRight=function s(p,R,W){var Z=Ea(p,S,u,u,u,u,u,R=W?u:R);return Z.placeholder=s.placeholder,Z},rt.debounce=gn,rt.defaults=Rd,rt.defaultsDeep=Id,rt.defer=It,rt.delay=Bt,rt.difference=oc,rt.differenceBy=Dc,rt.differenceWith=sc,rt.drop=function(s,p,R){var W=s==null?0:s.length;return W?Li(s,(p=R||p===u?1:ln(p))<0?0:p,W):[]},rt.dropRight=function(s,p,R){var W=s==null?0:s.length;return W?Li(s,0,(p=W-(p=R||p===u?1:ln(p)))<0?0:p):[]},rt.dropRightWhile=function(s,p){return s&&s.length?_s(s,un(p,3),!0,!0):[]},rt.dropWhile=function(s,p){return s&&s.length?_s(s,un(p,3),!0):[]},rt.fill=function(s,p,R,W){var Z=s==null?0:s.length;return Z?(R&&typeof R!="number"&&Jr(s,p,R)&&(R=0,W=Z),function(ot,Tt,Ct,Vt){var ce=ot.length;for((Ct=ln(Ct))<0&&(Ct=-Ct>ce?0:ce+Ct),(Vt=Vt===u||Vt>ce?ce:ln(Vt))<0&&(Vt+=ce),Vt=Ct>Vt?0:od(Vt);Ct<Vt;)ot[Ct++]=Tt;return ot}(s,p,R,W)):[]},rt.filter=function(s,p){return(xe(s)?Ia:Gu)(s,un(p,3))},rt.flatMap=function(s,p){return Mr(Kt(s,p),1)},rt.flatMapDeep=function(s,p){return Mr(Kt(s,p),x)},rt.flatMapDepth=function(s,p,R){return R=R===u?1:ln(R),Mr(Kt(s,p),R)},rt.flatten=cc,rt.flattenDeep=function(s){return(s==null?0:s.length)?Mr(s,x):[]},rt.flattenDepth=function(s,p){return(s==null?0:s.length)?Mr(s,p=p===u?1:ln(p)):[]},rt.flip=function(s){return Ea(s,512)},rt.flow=zc,rt.flowRight=vf,rt.fromPairs=function(s){for(var p=-1,R=s==null?0:s.length,W={};++p<R;){var Z=s[p];W[Z[0]]=Z[1]}return W},rt.functions=function(s){return s==null?[]:iu(s,Qr(s))},rt.functionsIn=function(s){return s==null?[]:iu(s,Qi(s))},rt.groupBy=wt,rt.initial=function(s){return(s==null?0:s.length)?Li(s,0,-1):[]},rt.intersection=Fo,rt.intersectionBy=pl,rt.intersectionWith=Tu,rt.invert=Ii,rt.invertBy=lf,rt.invokeMap=Xt,rt.iteratee=mr,rt.keyBy=ne,rt.keys=Qr,rt.keysIn=Qi,rt.map=Kt,rt.mapKeys=function(s,p){var R={};return p=un(p,3),wa(s,function(W,Z,ot){Xi(R,p(W,Z,ot),W)}),R},rt.mapValues=function(s,p){var R={};return p=un(p,3),wa(s,function(W,Z,ot){Xi(R,Z,p(W,Z,ot))}),R},rt.matches=function(s){return Oi(pr(s,1))},rt.matchesProperty=function(s,p){return qu(s,pr(p,1))},rt.memoize=_e,rt.merge=df,rt.mergeWith=Dd,rt.method=dd,rt.methodOf=ti,rt.mixin=pc,rt.negate=He,rt.nthArg=function(s){return s=ln(s),Cn(function(p){return $u(p,s)})},rt.omit=js,rt.omitBy=function(s,p){return rr(s,He(un(p)))},rt.once=function(s){return Ze(2,s)},rt.orderBy=function(s,p,R,W){return s==null?[]:(xe(p)||(p=p==null?[]:[p]),xe(R=W?u:R)||(R=R==null?[]:[R]),Ku(s,p,R))},rt.over=fd,rt.overArgs=dn,rt.overEvery=gf,rt.overSome=yf,rt.partial=fn,rt.partialRight=Tn,rt.partition=Ft,rt.pick=sd,rt.pickBy=rr,rt.property=hd,rt.propertyOf=function(s){return function(p){return s==null?u:oo(s,p)}},rt.pull=Mc,rt.pullAll=Su,rt.pullAllBy=function(s,p,R){return s&&s.length&&p&&p.length?Ga(s,p,un(R,2)):s},rt.pullAllWith=function(s,p,R){return s&&s.length&&p&&p.length?Ga(s,p,u,R):s},rt.pullAt=Uc,rt.range=Wc,rt.rangeRight=_f,rt.rearg=Pn,rt.reject=function(s,p){return(xe(s)?Ia:Gu)(s,He(un(p,3)))},rt.remove=function(s,p){var R=[];if(!s||!s.length)return R;var W=-1,Z=[],ot=s.length;for(p=un(p,3);++W<ot;){var Tt=s[W];p(Tt,W,s)&&(R.push(Tt),Z.push(W))}return Xu(s,Z),R},rt.rest=function(s,p){if(typeof s!="function")throw new Wi(l);return Cn(s,p=p===u?p:ln(p))},rt.reverse=ml,rt.sampleSize=function(s,p,R){return p=(R?Jr(s,p,R):p===u)?1:ln(p),(xe(s)?eu:ou)(s,p)},rt.set=function(s,p,R){return s==null?s:Oo(s,p,R)},rt.setWith=function(s,p,R,W){return W=typeof W=="function"?W:u,s==null?s:Oo(s,p,R,W)},rt.shuffle=function(s){return(xe(s)?nd:su)(s)},rt.slice=function(s,p,R){var W=s==null?0:s.length;return W?(R&&typeof R!="number"&&Jr(s,p,R)?(p=0,R=W):(p=p==null?0:ln(p),R=R===u?W:ln(R)),Li(s,p,R)):[]},rt.sortBy=ye,rt.sortedUniq=function(s){return s&&s.length?Zu(s):[]},rt.sortedUniqBy=function(s,p){return s&&s.length?Zu(s,un(p,2)):[]},rt.split=function(s,p,R){return R&&typeof R!="number"&&Jr(s,p,R)&&(p=R=u),(R=R===u?O:R>>>0)?(s=Yn(s))&&(typeof p=="string"||p!=null&&!vo(p))&&!(p=ci(p))&&wo(s)?$a(ji(s),0,R):s.split(p,R):[]},rt.spread=function(s,p){if(typeof s!="function")throw new Wi(l);return p=p==null?0:Er(ln(p),0),Cn(function(R){var W=R[p],Z=$a(R,0,p);return W&&ra(Z,W),Zn(s,this,Z)})},rt.tail=function(s){var p=s==null?0:s.length;return p?Li(s,1,p):[]},rt.take=function(s,p,R){return s&&s.length?Li(s,0,(p=R||p===u?1:ln(p))<0?0:p):[]},rt.takeRight=function(s,p,R){var W=s==null?0:s.length;return W?Li(s,(p=W-(p=R||p===u?1:ln(p)))<0?0:p,W):[]},rt.takeRightWhile=function(s,p){return s&&s.length?_s(s,un(p,3),!1,!0):[]},rt.takeWhile=function(s,p){return s&&s.length?_s(s,un(p,3)):[]},rt.tap=function(s,p){return p(s),s},rt.throttle=function(s,p,R){var W=!0,Z=!0;if(typeof s!="function")throw new Wi(l);return tn(R)&&(W="leading"in R?!!R.leading:W,Z="trailing"in R?!!R.trailing:Z),gn(s,p,{leading:W,maxWait:p,trailing:Z})},rt.thru=$,rt.toArray=Ca,rt.toPairs=Md,rt.toPairsIn=Ud,rt.toPath=function(s){return xe(s)?Kn(s,pa):Ti(s)?[s]:Yr(ac(Yn(s)))},rt.toPlainObject=As,rt.transform=function(s,p,R){var W=xe(s),Z=W||Zr(s)||wu(s);if(p=un(p,4),R==null){var ot=s&&s.constructor;R=Z?W?new ot:[]:tn(s)&&wn(ot)?Vr(no(s)):{}}return(Z?zi:wa)(s,function(Tt,Ct,Vt){return p(R,Tt,Ct,Vt)}),R},rt.unary=function(s){return ze(s,1)},rt.union=vl,rt.unionBy=gl,rt.unionWith=Bc,rt.uniq=function(s){return s&&s.length?Wa(s):[]},rt.uniqBy=function(s,p){return s&&s.length?Wa(s,un(p,2)):[]},rt.uniqWith=function(s,p){return p=typeof p=="function"?p:u,s&&s.length?Wa(s,u,p):[]},rt.unset=function(s,p){return s==null||lu(s,p)},rt.unzip=yl,rt.unzipWith=Nc,rt.update=function(s,p,R){return s==null?s:$l(s,p,lo(R))},rt.updateWith=function(s,p,R,W){return W=typeof W=="function"?W:u,s==null?s:$l(s,p,lo(R),W)},rt.values=_l,rt.valuesIn=function(s){return s==null?[]:Hs(s,Qi(s))},rt.without=id,rt.words=Vd,rt.wrap=function(s,p){return fn(lo(p),s)},rt.xor=ad,rt.xorBy=Fc,rt.xorWith=h,rt.zip=A,rt.zipObject=function(s,p){return tl(s||[],p||[],cs)},rt.zipObjectDeep=function(s,p){return tl(s||[],p||[],Oo)},rt.zipWith=L,rt.entries=Md,rt.entriesIn=Ud,rt.extend=ku,rt.extendWith=Eu,pc(rt,rt),rt.add=pd,rt.attempt=Hd,rt.camelCase=ff,rt.capitalize=Bd,rt.ceil=$c,rt.clamp=function(s,p,R){return R===u&&(R=p,p=u),R!==u&&(R=(R=ja(R))==R?R:0),p!==u&&(p=(p=ja(p))==p?p:0),xi(ja(s),p,R)},rt.clone=function(s){return pr(s,4)},rt.cloneDeep=function(s){return pr(s,5)},rt.cloneDeepWith=function(s,p){return pr(s,5,p=typeof p=="function"?p:u)},rt.cloneWith=function(s,p){return pr(s,4,p=typeof p=="function"?p:u)},rt.conformsTo=function(s,p){return p==null||ds(s,p,Qr(p))},rt.deburr=Nd,rt.defaultTo=function(s,p){return s==null||s!=s?p:s},rt.divide=md,rt.endsWith=function(s,p,R){s=Yn(s),p=ci(p);var W=s.length,Z=R=R===u?W:xi(ln(R),0,W);return(R-=p.length)>=0&&s.slice(R,Z)==p},rt.eq=Hn,rt.escape=function(s){return(s=Yn(s))&&Te.test(s)?s.replace(Ee,Za):s},rt.escapeRegExp=function(s){return(s=Yn(s))&&vn.test(s)?s.replace(on,"\\$&"):s},rt.every=function(s,p,R){var W=xe(s)?Pu:rd;return R&&Jr(s,p,R)&&(p=u),W(s,un(p,3))},rt.find=it,rt.findIndex=uc,rt.findKey=function(s,p){return Jo(s,un(p,3),wa)},rt.findLast=at,rt.findLastIndex=lc,rt.findLastKey=function(s,p){return Jo(s,un(p,3),Wu)},rt.floor=bf,rt.forEach=vt,rt.forEachRight=Ot,rt.forIn=function(s,p){return s==null?s:Fl(s,un(p,3),Qi)},rt.forInRight=function(s,p){return s==null?s:Vl(s,un(p,3),Qi)},rt.forOwn=function(s,p){return s&&wa(s,un(p,3))},rt.forOwnRight=function(s,p){return s&&Wu(s,un(p,3))},rt.get=Vc,rt.gt=er,rt.gte=qn,rt.has=function(s,p){return s!=null&&Mo(s,p,so)},rt.hasIn=Hc,rt.head=hl,rt.identity=Ur,rt.includes=function(s,p,R,W){s=Nn(s)?s:_l(s),R=R&&!W?ln(R):0;var Z=s.length;return R<0&&(R=Er(Z+R,0)),fc(s)?R<=Z&&s.indexOf(p,R)>-1:!!Z&&Ma(s,p,R)>-1},rt.indexOf=function(s,p,R){var W=s==null?0:s.length;if(!W)return-1;var Z=R==null?0:ln(R);return Z<0&&(Z=Er(W+Z,0)),Ma(s,p,Z)},rt.inRange=function(s,p,R){return p=Aa(p),R===u?(R=p,p=0):R=Aa(R),function(W,Z,ot){return W>=Fr(Z,ot)&&W<Er(Z,ot)}(s=ja(s),p,R)},rt.invoke=cf,rt.isArguments=$n,rt.isArray=xe,rt.isArrayBuffer=Rn,rt.isArrayLike=Nn,rt.isArrayLikeObject=Mn,rt.isBoolean=function(s){return s===!0||s===!1||Ln(s)&&On(s)==G},rt.isBuffer=Zr,rt.isDate=mo,rt.isElement=function(s){return Ln(s)&&s.nodeType===1&&!zr(s)},rt.isEmpty=function(s){if(s==null)return!0;if(Nn(s)&&(xe(s)||typeof s=="string"||typeof s.splice=="function"||Zr(s)||wu(s)||$n(s)))return!s.length;var p=Dn(s);if(p==Mt||p==Zt)return!s.size;if(Bo(s))return!ca(s).length;for(var R in s)if(Xn.call(s,R))return!1;return!0},rt.isEqual=function(s,p){return ms(s,p)},rt.isEqualWith=function(s,p,R){var W=(R=typeof R=="function"?R:u)?R(s,p):u;return W===u?ms(s,p,u,R):!!W},rt.isError=bi,rt.isFinite=function(s){return typeof s=="number"&&Fu(s)},rt.isFunction=wn,rt.isInteger=we,rt.isLength=Fn,rt.isMap=Or,rt.isMatch=function(s,p){return s===p||xo(s,p,ho(p))},rt.isMatchWith=function(s,p,R){return R=typeof R=="function"?R:u,xo(s,p,ho(p),R)},rt.isNaN=function(s){return Cr(s)&&s!=+s},rt.isNative=function(s){if(Ji(s))throw new Bn("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Hl(s)},rt.isNil=function(s){return s==null},rt.isNull=function(s){return s===null},rt.isNumber=Cr,rt.isObject=tn,rt.isObjectLike=Ln,rt.isPlainObject=zr,rt.isRegExp=vo,rt.isSafeInteger=function(s){return we(s)&&s>=-9007199254740991&&s<=_},rt.isSet=dc,rt.isString=fc,rt.isSymbol=Ti,rt.isTypedArray=wu,rt.isUndefined=function(s){return s===u},rt.isWeakMap=function(s){return Ln(s)&&Dn(s)==U},rt.isWeakSet=function(s){return Ln(s)&&On(s)=="[object WeakSet]"},rt.join=function(s,p){return s==null?"":Ba.call(s,p)},rt.kebabCase=hf,rt.last=di,rt.lastIndexOf=function(s,p,R){var W=s==null?0:s.length;if(!W)return-1;var Z=W;return R!==u&&(Z=(Z=ln(R))<0?Er(W+Z,0):Fr(Z,W-1)),p==p?function(ot,Tt,Ct){for(var Vt=Ct+1;Vt--;)if(ot[Vt]===Tt)return Vt;return Vt}(s,p,Z):_a(s,Zo,Z,!0)},rt.lowerCase=hc,rt.lowerFirst=Fd,rt.lt=jd,rt.lte=xd,rt.max=function(s){return s&&s.length?fs(s,Ur,ka):u},rt.maxBy=function(s,p){return s&&s.length?fs(s,un(p,2),ka):u},rt.mean=function(s){return So(s,Ur)},rt.meanBy=function(s,p){return So(s,un(p,2))},rt.min=function(s){return s&&s.length?fs(s,Ur,zl):u},rt.minBy=function(s,p){return s&&s.length?fs(s,un(p,2),zl):u},rt.stubArray=bl,rt.stubFalse=qc,rt.stubObject=function(){return{}},rt.stubString=function(){return""},rt.stubTrue=function(){return!0},rt.multiply=zd,rt.nth=function(s,p){return s&&s.length?$u(s,ln(p)):u},rt.noConflict=function(){return Xe._===this&&(Xe._=$s),this},rt.noop=Gc,rt.now=Ve,rt.pad=function(s,p,R){s=Yn(s);var W=(p=ln(p))?gi(s):0;if(!p||W>=p)return s;var Z=(p-W)/2;return ws(qi(Z),R)+s+ws(Bu(Z),R)},rt.padEnd=function(s,p,R){s=Yn(s);var W=(p=ln(p))?gi(s):0;return p&&W<p?s+ws(p-W,R):s},rt.padStart=function(s,p,R){s=Yn(s);var W=(p=ln(p))?gi(s):0;return p&&W<p?ws(p-W,R)+s:s},rt.parseInt=function(s,p,R){return R||p==null?p=0:p&&(p=+p),Vu(Yn(s).replace(Sn,""),p||0)},rt.random=function(s,p,R){if(R&&typeof R!="boolean"&&Jr(s,p,R)&&(p=R=u),R===u&&(typeof p=="boolean"?(R=p,p=u):typeof s=="boolean"&&(R=s,s=u)),s===u&&p===u?(s=0,p=1):(s=Aa(s),p===u?(p=s,s=0):p=Aa(p)),s>p){var W=s;s=p,p=W}if(R||s%1||p%1){var Z=os();return Fr(s+Z*(p-s+he("1e-"+((Z+"").length-1))),p)}return ys(s,p)},rt.reduce=function(s,p,R){var W=xe(s)?Xo:Fs,Z=arguments.length<3;return W(s,un(p,4),R,Z,za)},rt.reduceRight=function(s,p,R){var W=xe(s)?Ol:Fs,Z=arguments.length<3;return W(s,un(p,4),R,Z,ru)},rt.repeat=function(s,p,R){return p=(R?Jr(s,p,R):p===u)?1:ln(p),Yu(Yn(s),p)},rt.replace=function(){var s=arguments,p=Yn(s[0]);return s.length<3?p:p.replace(s[1],s[2])},rt.result=function(s,p,R){var W=-1,Z=(p=qa(p,s)).length;for(Z||(Z=1,s=u);++W<Z;){var ot=s==null?u:s[pa(p[W])];ot===u&&(W=Z,ot=R),s=wn(ot)?ot.call(s):ot}return s},rt.round=gd,rt.runInContext=zt,rt.sample=function(s){return(xe(s)?Bl:Lc)(s)},rt.size=function(s){if(s==null)return 0;if(Nn(s))return fc(s)?gi(s):s.length;var p=Dn(s);return p==Mt||p==Zt?s.size:ca(s).length},rt.snakeCase=ud,rt.some=function(s,p,R){var W=xe(s)?Yo:Ju;return R&&Jr(s,p,R)&&(p=u),W(s,un(p,3))},rt.sortedIndex=function(s,p){return Lo(s,p)},rt.sortedIndexBy=function(s,p,R){return uu(s,p,un(R,2))},rt.sortedIndexOf=function(s,p){var R=s==null?0:s.length;if(R){var W=Lo(s,p);if(W<R&&Hn(s[W],p))return W}return-1},rt.sortedLastIndex=function(s,p){return Lo(s,p,!0)},rt.sortedLastIndexBy=function(s,p,R){return uu(s,p,un(R,2),!0)},rt.sortedLastIndexOf=function(s,p){if(s==null?0:s.length){var R=Lo(s,p,!0)-1;if(Hn(s[R],p))return R}return-1},rt.startCase=pf,rt.startsWith=function(s,p,R){return s=Yn(s),R=R==null?0:xi(ln(R),0,s.length),p=ci(p),s.slice(R,R+p.length)==p},rt.subtract=yd,rt.sum=function(s){return s&&s.length?Vs(s,Ur):0},rt.sumBy=function(s,p){return s&&s.length?Vs(s,un(p,2)):0},rt.template=function(s,p,R){var W=rt.templateSettings;R&&Jr(s,p,R)&&(p=u),s=Yn(s),p=Eu({},p,W,Es);var Z,ot,Tt=Eu({},p.imports,W.imports,Es),Ct=Qr(Tt),Vt=Hs(Tt,Ct),ce=0,de=p.interpolate||Si,be="__p += '",Ge=Iu((p.escape||Si).source+"|"+de.source+"|"+(de===Se?Mi:Si).source+"|"+(p.evaluate||Si).source+"|$","g"),$e="//# sourceURL="+(Xn.call(p,"sourceURL")?(p.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Wt+"]")+`
`;s.replace(Ge,function(ke,yn,We,_n,pn,Vn){return We||(We=_n),be+=s.slice(ce,Vn).replace(Ra,ia),yn&&(Z=!0,be+=`' +
__e(`+yn+`) +
'`),pn&&(ot=!0,be+=`';
`+pn+`;
__p += '`),We&&(be+=`' +
((__t = (`+We+`)) == null ? '' : __t) +
'`),ce=Vn+ke.length,ke}),be+=`';
`;var en=Xn.call(p,"variable")&&p.variable;if(en){if(ri.test(en))throw new Bn("Invalid `variable` option passed into `_.template`")}else be=`with (obj) {
`+be+`
}
`;be=(ot?be.replace(Oe,""):be).replace(ue,"$1").replace(Yt,"$1;"),be="function("+(en||"obj")+`) {
`+(en?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Z?", __e = _.escape":"")+(ot?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+be+`return __p
}`;var pe=Hd(function(){return lr(Ct,$e+"return "+be).apply(u,Vt)});if(pe.source=be,bi(pe))throw pe;return pe},rt.times=function(s,p){if((s=ln(s))<1||s>_)return[];var R=O,W=Fr(s,O);p=un(p),s-=O;for(var Z=Gi(W,p);++R<s;)p(R);return Z},rt.toFinite=Aa,rt.toInteger=ln,rt.toLength=od,rt.toLower=function(s){return Yn(s).toLowerCase()},rt.toNumber=ja,rt.toSafeInteger=function(s){return s?xi(ln(s),-9007199254740991,_):s===0?s:0},rt.toString=Yn,rt.toUpper=function(s){return Yn(s).toUpperCase()},rt.trim=function(s,p,R){if((s=Yn(s))&&(R||p===u))return Qo(s);if(!s||!(p=ci(p)))return s;var W=ji(s),Z=ji(p);return $a(W,ba(W,Z),Ru(W,Z)+1).join("")},rt.trimEnd=function(s,p,R){if((s=Yn(s))&&(R||p===u))return s.slice(0,Pl(s)+1);if(!s||!(p=ci(p)))return s;var W=ji(s);return $a(W,0,Ru(W,ji(p))+1).join("")},rt.trimStart=function(s,p,R){if((s=Yn(s))&&(R||p===u))return s.replace(Sn,"");if(!s||!(p=ci(p)))return s;var W=ji(s);return $a(W,ba(W,ji(p))).join("")},rt.truncate=function(s,p){var R=30,W="...";if(tn(p)){var Z="separator"in p?p.separator:Z;R="length"in p?ln(p.length):R,W="omission"in p?ci(p.omission):W}var ot=(s=Yn(s)).length;if(wo(s)){var Tt=ji(s);ot=Tt.length}if(R>=ot)return s;var Ct=R-gi(W);if(Ct<1)return W;var Vt=Tt?$a(Tt,0,Ct).join(""):s.slice(0,Ct);if(Z===u)return Vt+W;if(Tt&&(Ct+=Vt.length-Ct),vo(Z)){if(s.slice(Ct).search(Z)){var ce,de=Vt;for(Z.global||(Z=Iu(Z.source,Yn(br.exec(Z))+"g")),Z.lastIndex=0;ce=Z.exec(de);)var be=ce.index;Vt=Vt.slice(0,be===u?Ct:be)}}else if(s.indexOf(ci(Z),Ct)!=Ct){var Ge=Vt.lastIndexOf(Z);Ge>-1&&(Vt=Vt.slice(0,Ge))}return Vt+W},rt.unescape=function(s){return(s=Yn(s))&&Je.test(s)?s.replace(Ke,Sc):s},rt.uniqueId=function(s){var p=++Du;return Yn(s)+p},rt.upperCase=mf,rt.upperFirst=ld,rt.each=vt,rt.eachRight=Ot,rt.first=hl,pc(rt,(vd={},wa(rt,function(s,p){Xn.call(rt.prototype,p)||(vd[p]=s)}),vd),{chain:!1}),rt.VERSION="4.17.21",zi(["bind","bindKey","curry","curryRight","partial","partialRight"],function(s){rt[s].placeholder=rt}),zi(["drop","take"],function(s,p){xn.prototype[s]=function(R){R=R===u?1:Er(ln(R),0);var W=this.__filtered__&&!p?new xn(this):this.clone();return W.__filtered__?W.__takeCount__=Fr(R,W.__takeCount__):W.__views__.push({size:Fr(R,O),type:s+(W.__dir__<0?"Right":"")}),W},xn.prototype[s+"Right"]=function(R){return this.reverse()[s](R).reverse()}}),zi(["filter","map","takeWhile"],function(s,p){var R=p+1,W=R==1||R==3;xn.prototype[s]=function(Z){var ot=this.clone();return ot.__iteratees__.push({iteratee:un(Z,3),type:R}),ot.__filtered__=ot.__filtered__||W,ot}}),zi(["head","last"],function(s,p){var R="take"+(p?"Right":"");xn.prototype[s]=function(){return this[R](1).value()[0]}}),zi(["initial","tail"],function(s,p){var R="drop"+(p?"":"Right");xn.prototype[s]=function(){return this.__filtered__?new xn(this):this[R](1)}}),xn.prototype.compact=function(){return this.filter(Ur)},xn.prototype.find=function(s){return this.filter(s).head()},xn.prototype.findLast=function(s){return this.reverse().find(s)},xn.prototype.invokeMap=Cn(function(s,p){return typeof s=="function"?new xn(this):this.map(function(R){return uo(R,s,p)})}),xn.prototype.reject=function(s){return this.filter(He(un(s)))},xn.prototype.slice=function(s,p){s=ln(s);var R=this;return R.__filtered__&&(s>0||p<0)?new xn(R):(s<0?R=R.takeRight(-s):s&&(R=R.drop(s)),p!==u&&(R=(p=ln(p))<0?R.dropRight(-p):R.take(p-s)),R)},xn.prototype.takeRightWhile=function(s){return this.reverse().takeWhile(s).reverse()},xn.prototype.toArray=function(){return this.take(O)},wa(xn.prototype,function(s,p){var R=/^(?:filter|find|map|reject)|While$/.test(p),W=/^(?:head|last)$/.test(p),Z=rt[W?"take"+(p=="last"?"Right":""):p],ot=W||/^find/.test(p);Z&&(rt.prototype[p]=function(){var Tt=this.__wrapped__,Ct=W?[1]:arguments,Vt=Tt instanceof xn,ce=Ct[0],de=Vt||xe(Tt),be=function(yn){var We=Z.apply(rt,ra([yn],Ct));return W&&Ge?We[0]:We};de&&R&&typeof ce=="function"&&ce.length!=1&&(Vt=de=!1);var Ge=this.__chain__,$e=!!this.__actions__.length,en=ot&&!Ge,pe=Vt&&!$e;if(!ot&&de){Tt=pe?Tt:new xn(this);var ke=s.apply(Tt,Ct);return ke.__actions__.push({func:$,args:[be],thisArg:u}),new li(ke,Ge)}return en&&pe?s.apply(this,Ct):(ke=this.thru(be),en?W?ke.value()[0]:ke.value():ke)})}),zi(["pop","push","shift","sort","splice","unshift"],function(s){var p=rs[s],R=/^(?:push|sort|unshift)$/.test(s)?"tap":"thru",W=/^(?:pop|shift)$/.test(s);rt.prototype[s]=function(){var Z=arguments;if(W&&!this.__chain__){var ot=this.value();return p.apply(xe(ot)?ot:[],Z)}return this[R](function(Tt){return p.apply(xe(Tt)?Tt:[],Z)})}}),wa(xn.prototype,function(s,p){var R=rt[p];if(R){var W=R.name+"";Xn.call(Ta,W)||(Ta[W]=[]),Ta[W].push({name:p,func:R})}}),Ta[hu(u,2).name]=[{name:"wrapper",func:u}],xn.prototype.clone=function(){var s=new xn(this.__wrapped__);return s.__actions__=Yr(this.__actions__),s.__dir__=this.__dir__,s.__filtered__=this.__filtered__,s.__iteratees__=Yr(this.__iteratees__),s.__takeCount__=this.__takeCount__,s.__views__=Yr(this.__views__),s},xn.prototype.reverse=function(){if(this.__filtered__){var s=new xn(this);s.__dir__=-1,s.__filtered__=!0}else(s=this.clone()).__dir__*=-1;return s},xn.prototype.value=function(){var s=this.__wrapped__.value(),p=this.__dir__,R=xe(s),W=p<0,Z=R?s.length:0,ot=function(Vn,nn,hn){for(var Rr=-1,ma=hn.length;++Rr<ma;){var go=hn[Rr],Gr=go.size;switch(go.type){case"drop":Vn+=Gr;break;case"dropRight":nn-=Gr;break;case"take":nn=Fr(nn,Vn+Gr);break;case"takeRight":Vn=Er(Vn,nn-Gr)}}return{start:Vn,end:nn}}(0,Z,this.__views__),Tt=ot.start,Ct=ot.end,Vt=Ct-Tt,ce=W?Ct:Tt-1,de=this.__iteratees__,be=de.length,Ge=0,$e=Fr(Vt,this.__takeCount__);if(!R||!W&&Z==Vt&&$e==Vt)return Qu(s,this.__actions__);var en=[];t:for(;Vt--&&Ge<$e;){for(var pe=-1,ke=s[ce+=p];++pe<be;){var yn=de[pe],We=yn.iteratee,_n=yn.type,pn=We(ke);if(_n==2)ke=pn;else if(!pn){if(_n==1)continue t;break t}}en[Ge++]=ke}return en},rt.prototype.at=B,rt.prototype.chain=function(){return M(this)},rt.prototype.commit=function(){return new li(this.value(),this.__chain__)},rt.prototype.next=function(){this.__values__===u&&(this.__values__=Ca(this.value()));var s=this.__index__>=this.__values__.length;return{done:s,value:s?u:this.__values__[this.__index__++]}},rt.prototype.plant=function(s){for(var p,R=this;R instanceof dr;){var W=Ri(R);W.__index__=0,W.__values__=u,p?Z.__wrapped__=W:p=W;var Z=W;R=R.__wrapped__}return Z.__wrapped__=s,p},rt.prototype.reverse=function(){var s=this.__wrapped__;if(s instanceof xn){var p=s;return this.__actions__.length&&(p=new xn(this)),(p=p.reverse()).__actions__.push({func:$,args:[ml],thisArg:u}),new li(p,this.__chain__)}return this.thru(ml)},rt.prototype.toJSON=rt.prototype.valueOf=rt.prototype.value=function(){return Qu(this.__wrapped__,this.__actions__)},rt.prototype.first=rt.prototype.head,Ys&&(rt.prototype[Ys]=function(){return this}),rt}();Xe._=Gs,(v=function(){return Gs}.call(F,o,F,g))===u||(g.exports=v)}).call(this)}).call(this,o("yLpj"),o("YuTi")(C))},MN4f:function(C,F,o){var c=o("L7KE"),g=o("XW/+"),v=o("J8Qq")(!1),u=o("lk+t")("IE_PROTO");C.exports=function(l,m){var d,S=g(l),w=0,j=[];for(d in S)d!=u&&c(S,d)&&j.push(d);for(;m.length>w;)c(S,d=m[w++])&&(~v(j,d)||j.push(d));return j}},MVdI:function(C,F,o){var c=o("jYdD"),g=o("8IOi"),v=o("138g");g(g.S,"Reflect",{getOwnPropertyDescriptor:function(u,l){return c.f(v(u),l)}})},MWg1:function(C,F,o){o("e7D+")("Map")},"N+bU":function(C,F,o){o("HLcc")("observable")},N6L2:function(C,F,o){var c=o("n+hx"),g=o("HC2Y"),v=o("3iRr")("match");C.exports=function(u){var l;return c(u)&&((l=u[v])!==void 0?!!l:g(u)=="RegExp")}},N8W1:function(C,F,o){"use strict";var c=o("4Fav");o("8IOi")({target:"RegExp",proto:!0,forced:c!==/./.exec},{exec:c})},Nrdp:function(C,F,o){"use strict";var c=o("QV8t"),g=o("eYp2"),v="WeakSet";o("0WhE")(v,function(u){return function(){return u(this,arguments.length>0?arguments[0]:void 0)}},{add:function(u){return c.def(g(this,v),u,!0)}},c,!1,!0)},NrsN:function(C,F,o){"use strict";var c=o("8IOi"),g=o("z/zB")(6),v="findIndex",u=!0;v in[]&&Array(1)[v](function(){u=!1}),c(c.P+c.F*u,"Array",{findIndex:function(l){return g(this,l,arguments.length>1?arguments[1]:void 0)}}),o("Zrcd")(v)},OKyS:function(C,F,o){var c=o("LboF"),g=o("8MIm");typeof(g=g.__esModule?g.default:g)=="string"&&(g=[[C.i,g,""]]);var v={insert:"head",singleton:!1};c(g,v),C.exports=g.locals||{}},OVpP:function(C,F,o){var c=o("8IOi"),g=o("vejK")(),v=o("k+AJ").process,u=o("HC2Y")(v)=="process";c(c.G,{asap:function(l){var m=u&&v.domain;g(m?m.bind(l):l)}})},OWqD:function(C,F,o){var c=o("8IOi");c(c.S,"Number",{isInteger:o("Jkf2")})},OfMQ:function(C,F,o){var c=o("8IOi"),g=o("XW/+"),v=o("Y3Md");c(c.S,"String",{raw:function(u){for(var l=g(u.raw),m=v(l.length),d=arguments.length,S=[],w=0;m>w;)S.push(String(l[w++])),w<d&&S.push(String(arguments[w]));return S.join("")}})},Oi8Z:function(C,F,o){"use strict";var c=o("k+AJ"),g=o("J2HX"),v=o("yU77"),u=o("3iRr")("species");C.exports=function(l){var m=c[l];v&&m&&!m[u]&&g.f(m,u,{configurable:!0,get:function(){return this}})}},OvvV:function(C,F,o){var c=o("3iRr")("match");C.exports=function(g){var v=/./;try{"/./"[g](v)}catch(u){try{return v[c]=!1,!"/./"[g](v)}catch(l){}}return!0}},P4R2:function(C,F,o){var c=o("8IOi");c(c.P,"Array",{copyWithin:o("+UUX")}),o("Zrcd")("copyWithin")},P6sA:function(C,F,o){var c=o("8IOi");c(c.P,"String",{repeat:o("YBJj")})},PHd1:function(C,F,o){var c=o("8IOi");c(c.G,{global:o("k+AJ")})},PsYO:function(C,F,o){var c=o("8IOi");c(c.S,"Reflect",{has:function(g,v){return v in g}})},QANz:function(C,F,o){var c=o("8IOi");c(c.S,"Math",{RAD_PER_DEG:180/Math.PI})},QJgN:function(C,F,o){var c=o("8IOi"),g=o("Z/7P");c(c.S+c.F*(Number.parseInt!=g),"Number",{parseInt:g})},QV8t:function(C,F,o){"use strict";var c=o("xmgo"),g=o("TI2F").getWeak,v=o("138g"),u=o("n+hx"),l=o("kopD"),m=o("j8TA"),d=o("z/zB"),S=o("L7KE"),w=o("eYp2"),j=d(5),T=d(6),b=0,x=function(O){return O._l||(O._l=new _)},_=function(){this.a=[]},k=function(O,I){return j(O.a,function(V){return V[0]===I})};_.prototype={get:function(O){var I=k(this,O);if(I)return I[1]},has:function(O){return!!k(this,O)},set:function(O,I){var V=k(this,O);V?V[1]=I:this.a.push([O,I])},delete:function(O){var I=T(this.a,function(V){return V[0]===O});return~I&&this.a.splice(I,1),!!~I}},C.exports={getConstructor:function(O,I,V,H){var G=O(function(K,et){l(K,G,I,"_i"),K._t=I,K._i=b++,K._l=void 0,et!=null&&m(et,V,K[H],K)});return c(G.prototype,{delete:function(K){if(!u(K))return!1;var et=g(K);return et===!0?x(w(this,I)).delete(K):et&&S(et,this._i)&&delete et[this._i]},has:function(K){if(!u(K))return!1;var et=g(K);return et===!0?x(w(this,I)).has(K):et&&S(et,this._i)}}),G},def:function(O,I,V){var H=g(v(I),!0);return H===!0?x(O).set(I,V):H[O._i]=V,O},ufstore:x}},QYzQ:function(C,F,o){"use strict";o("6dhg")("trimLeft",function(c){return function(){return c(this,1)}},"trimStart")},QoI2:function(C,F,o){"use strict";var c=o("8IOi"),g=o("Qu5u"),v=o("AZ8a"),u=o("7WAm"),l=o("jYdD").f;o("yU77")&&c(c.P+o("rGBx"),"Object",{__lookupGetter__:function(m){var d,S=g(this),w=v(m,!0);do if(d=l(S,w))return d.get;while(S=u(S))}})},QotP:function(C,F,o){"use strict";var c=o("fyHr"),g=o("n+hx"),v=o("Y3Md"),u=o("kRpC"),l=o("3iRr")("isConcatSpreadable");C.exports=function m(d,S,w,j,T,b,x,_){for(var k,O,I=T,V=0,H=!!x&&u(x,_,3);V<j;){if(V in w){if(k=H?H(w[V],V,S):w[V],O=!1,g(k)&&(O=(O=k[l])!==void 0?!!O:c(k)),O&&b>0)I=m(d,S,k,v(k.length),I,b-1)-1;else{if(I>=9007199254740991)throw TypeError();d[I]=k}I++}V++}return I}},QraV:function(C,F,o){o("CmYC")("getOwnPropertyNames",function(){return o("Uyw2").f})},Qu5u:function(C,F,o){var c=o("aI2V");C.exports=function(g){return Object(c(g))}},R1kZ:function(C,F,o){var c=o("n+hx"),g=o("138g"),v=function(u,l){if(g(u),!c(l)&&l!==null)throw TypeError(l+": can't set as prototype!")};C.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(u,l,m){try{(m=o("kRpC")(Function.call,o("jYdD").f(Object.prototype,"__proto__").set,2))(u,[]),l=!(u instanceof Array)}catch(d){l=!0}return function(d,S){return v(d,S),l?d.__proto__=S:m(d,S),d}}({},!1):void 0),check:v}},ROgi:function(C,F,o){var c=o("138g"),g=o("n+hx"),v=o("5/+w");C.exports=function(u,l){if(c(u),g(l)&&l.constructor===u)return l;var m=v.f(u);return(0,m.resolve)(l),m.promise}},RT9V:function(C,F,o){var c=o("N6L2"),g=o("aI2V");C.exports=function(v,u,l){if(c(u))throw TypeError("String#"+l+" doesn't accept regex!");return String(g(v))}},RZL5:function(C,F){var o=Math.expm1;C.exports=!o||o(10)>22025.465794806718||o(10)<22025.465794806718||o(-2e-17)!=-2e-17?function(c){return(c=+c)==0?c:c>-1e-6&&c<1e-6?c+c*c/2:Math.exp(c)-1}:o},"Rby+":function(C,F,o){var c=o("3iRr")("toPrimitive"),g=Date.prototype;c in g||o("BxPU")(g,c,o("VwWS"))},Stof:function(C,F,o){var c=o("8IOi");c(c.S,"Math",{log2:function(g){return Math.log(g)/Math.LN2}})},Svsh:function(C,F,o){var c=o("8IOi");c(c.S+c.F*!o("yU77"),"Object",{defineProperties:o("d/Tf")})},SxLI:function(C,F,o){var c=o("8IOi");c(c.S,"Math",{umulh:function(g,v){var u=65535,l=+g,m=+v,d=l&u,S=m&u,w=l>>>16,j=m>>>16,T=(w*S>>>0)+(d*S>>>16);return w*j+(T>>>16)+((d*j>>>0)+(T&u)>>>16)}})},SzBd:function(C,F,o){var c=Date.prototype,g="Invalid Date",v="toString",u=c.toString,l=c.getTime;new Date(NaN)+""!=g&&o("d+oe")(c,v,function(){var m=l.call(this);return m==m?u.call(this):g})},T9Wu:function(C,F,o){var c=o("HGrt"),g=o("138g"),v=c.get,u=c.key;c.exp({getOwnMetadata:function(l,m){return v(l,g(m),arguments.length<3?void 0:u(arguments[2]))}})},TI2F:function(C,F,o){var c=o("Vol4")("meta"),g=o("n+hx"),v=o("L7KE"),u=o("J2HX").f,l=0,m=Object.isExtensible||function(){return!0},d=!o("+TcE")(function(){return m(Object.preventExtensions({}))}),S=function(j){u(j,c,{value:{i:"O"+ ++l,w:{}}})},w=C.exports={KEY:c,NEED:!1,fastKey:function(j,T){if(!g(j))return typeof j=="symbol"?j:(typeof j=="string"?"S":"P")+j;if(!v(j,c)){if(!m(j))return"F";if(!T)return"E";S(j)}return j[c].i},getWeak:function(j,T){if(!v(j,c)){if(!m(j))return!0;if(!T)return!1;S(j)}return j[c].w},onFreeze:function(j){return d&&w.NEED&&m(j)&&!v(j,c)&&S(j),j}}},TsBE:function(C,F,o){var c=o("n+hx");o("CmYC")("isExtensible",function(g){return function(v){return!!c(v)&&(!g||g(v))}})},U5hM:function(C,F,o){"use strict";o("6dhg")("trimRight",function(c){return function(){return c(this,2)}},"trimEnd")},U9MG:function(C,F,o){var c=o("m29h"),g=o("Y3Md");C.exports=function(v){if(v===void 0)return 0;var u=c(v),l=g(u);if(u!==l)throw RangeError("Wrong length!");return l}},UBDf:function(C,F,o){"use strict";var c=o("8IOi"),g=o("Qu5u"),v=o("AZ8a"),u=o("7WAm"),l=o("jYdD").f;o("yU77")&&c(c.P+o("rGBx"),"Object",{__lookupSetter__:function(m){var d,S=g(this),w=v(m,!0);do if(d=l(S,w))return d.set;while(S=u(S))}})},UBF9:function(C,F,o){"use strict";var c=o("8eWk");o.n(c).a},UBN9:function(C,F,o){"use strict";var c=o("8IOi"),g=o("+TcE"),v=o("Ku9J"),u=1 .toPrecision;c(c.P+c.F*(g(function(){return u.call(1,void 0)!=="1"})||!g(function(){u.call({})})),"Number",{toPrecision:function(l){var m=v(this,"Number#toPrecision: incorrect invocation!");return l===void 0?u.call(m):u.call(m,l)}})},UPwD:function(C,F,o){o("Gx54")("Int8",1,function(c){return function(g,v,u){return c(this,g,v,u)}})},URgk:function(C,F,o){(function(c){var g=c!==void 0&&c||typeof self!="undefined"&&self||window,v=Function.prototype.apply;function u(l,m){this._id=l,this._clearFn=m}F.setTimeout=function(){return new u(v.call(setTimeout,g,arguments),clearTimeout)},F.setInterval=function(){return new u(v.call(setInterval,g,arguments),clearInterval)},F.clearTimeout=F.clearInterval=function(l){l&&l.close()},u.prototype.unref=u.prototype.ref=function(){},u.prototype.close=function(){this._clearFn.call(g,this._id)},F.enroll=function(l,m){clearTimeout(l._idleTimeoutId),l._idleTimeout=m},F.unenroll=function(l){clearTimeout(l._idleTimeoutId),l._idleTimeout=-1},F._unrefActive=F.active=function(l){clearTimeout(l._idleTimeoutId);var m=l._idleTimeout;m>=0&&(l._idleTimeoutId=setTimeout(function(){l._onTimeout&&l._onTimeout()},m))},o("YBdB"),F.setImmediate=typeof self!="undefined"&&self.setImmediate||c!==void 0&&c.setImmediate||this&&this.setImmediate,F.clearImmediate=typeof self!="undefined"&&self.clearImmediate||c!==void 0&&c.clearImmediate||this&&this.clearImmediate}).call(this,o("yLpj"))},UUc1:function(C,F,o){o("Gx54")("Uint8",1,function(c){return function(g,v,u){return c(this,g,v,u)}},!0)},UVVG:function(C,F,o){var c=o("HC2Y"),g=o("3iRr")("toStringTag"),v=c(function(){return arguments}())=="Arguments";C.exports=function(u){var l,m,d;return u===void 0?"Undefined":u===null?"Null":typeof(m=function(S,w){try{return S[w]}catch(j){}}(l=Object(u),g))=="string"?m:v?c(l):(d=c(l))=="Object"&&typeof l.callee=="function"?"Arguments":d}},"UtW+":function(C,F,o){"use strict";var c=o("J2HX"),g=o("+zL4");C.exports=function(v,u,l){u in v?c.f(v,u,g(0,l)):v[u]=l}},Uyw2:function(C,F,o){var c=o("XW/+"),g=o("27JW").f,v={}.toString,u=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];C.exports.f=function(l){return u&&v.call(l)=="[object Window]"?function(m){try{return g(m)}catch(d){return u.slice()}}(l):g(c(l))}},V0HS:function(C,F,o){var c=o("XW/+"),g=o("jYdD").f;o("CmYC")("getOwnPropertyDescriptor",function(){return function(v,u){return g(c(v),u)}})},VAZH:function(C,F,o){var c=o("8IOi"),g=o("e8l7");c(c.S,"Math",{cbrt:function(v){return g(v=+v)*Math.pow(Math.abs(v),1/3)}})},Vcfr:function(C,F,o){"use strict";var c=o("+TcE");C.exports=function(g,v){return!!g&&c(function(){v?g.call(null,function(){},1):g.call(null)})}},Vcm9:function(C,F,o){o("e7D+")("WeakSet")},Vol4:function(C,F){var o=0,c=Math.random();C.exports=function(g){return"Symbol(".concat(g===void 0?"":g,")_",(++o+c).toString(36))}},VwWS:function(C,F,o){"use strict";var c=o("138g"),g=o("AZ8a"),v="number";C.exports=function(u){if(u!=="string"&&u!==v&&u!=="default")throw TypeError("Incorrect hint");return g(c(this),u!=v)}},"W73/":function(C,F,o){"use strict";var c,g,v,u,l=o("zuiL"),m=o("k+AJ"),d=o("kRpC"),S=o("UVVG"),w=o("8IOi"),j=o("n+hx"),T=o("LOhj"),b=o("kopD"),x=o("j8TA"),_=o("EUev"),k=o("65rS").set,O=o("vejK")(),I=o("5/+w"),V=o("LVuD"),H=o("ZP9f"),G=o("ROgi"),K="Promise",et=m.TypeError,ct=m.process,gt=ct&&ct.versions,Mt=gt&&gt.v8||"",Ut=m.Promise,ee=S(ct)=="process",Jt=function(){},Lt=g=I.f,Zt=!!function(){try{var mt=Ut.resolve(1),ft=(mt.constructor={})[o("3iRr")("species")]=function(pt){pt(Jt,Jt)};return(ee||typeof PromiseRejectionEvent=="function")&&mt.then(Jt)instanceof ft&&Mt.indexOf("6.6")!==0&&H.indexOf("Chrome/66")===-1}catch(pt){}}(),me=function(mt){var ft;return!(!j(mt)||typeof(ft=mt.then)!="function")&&ft},Gt=function(mt,ft){if(!mt._n){mt._n=!0;var pt=mt._c;O(function(){for(var Rt=mt._v,Pt=mt._s==1,Ht=0,oe=function(Oe){var ue,Yt,Ke,Ee=Pt?Oe.ok:Oe.fail,Je=Oe.resolve,Te=Oe.reject,zn=Oe.domain;try{Ee?(Pt||(mt._h==2&&ht(mt),mt._h=1),Ee===!0?ue=Rt:(zn&&zn.enter(),ue=Ee(Rt),zn&&(zn.exit(),Ke=!0)),ue===Oe.promise?Te(et("Promise-chain cycle")):(Yt=me(ue))?Yt.call(ue,Je,Te):Je(ue)):Te(Rt)}catch(Qt){zn&&!Ke&&zn.exit(),Te(Qt)}};pt.length>Ht;)oe(pt[Ht++]);mt._c=[],mt._n=!1,ft&&!mt._h&&U(mt)})}},U=function(mt){k.call(m,function(){var ft,pt,Rt,Pt=mt._v,Ht=ut(mt);if(Ht&&(ft=V(function(){ee?ct.emit("unhandledRejection",Pt,mt):(pt=m.onunhandledrejection)?pt({promise:mt,reason:Pt}):(Rt=m.console)&&Rt.error&&Rt.error("Unhandled promise rejection",Pt)}),mt._h=ee||ut(mt)?2:1),mt._a=void 0,Ht&&ft.e)throw ft.v})},ut=function(mt){return mt._h!==1&&(mt._a||mt._c).length===0},ht=function(mt){k.call(m,function(){var ft;ee?ct.emit("rejectionHandled",mt):(ft=m.onrejectionhandled)&&ft({promise:mt,reason:mt._v})})},bt=function(mt){var ft=this;ft._d||(ft._d=!0,(ft=ft._w||ft)._v=mt,ft._s=2,ft._a||(ft._a=ft._c.slice()),Gt(ft,!0))},Dt=function(mt){var ft,pt=this;if(!pt._d){pt._d=!0,pt=pt._w||pt;try{if(pt===mt)throw et("Promise can't be resolved itself");(ft=me(mt))?O(function(){var Rt={_w:pt,_d:!1};try{ft.call(mt,d(Dt,Rt,1),d(bt,Rt,1))}catch(Pt){bt.call(Rt,Pt)}}):(pt._v=mt,pt._s=1,Gt(pt,!1))}catch(Rt){bt.call({_w:pt,_d:!1},Rt)}}};Zt||(Ut=function(mt){b(this,Ut,K,"_h"),T(mt),c.call(this);try{mt(d(Dt,this,1),d(bt,this,1))}catch(ft){bt.call(this,ft)}},(c=function(mt){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=o("xmgo")(Ut.prototype,{then:function(mt,ft){var pt=Lt(_(this,Ut));return pt.ok=typeof mt!="function"||mt,pt.fail=typeof ft=="function"&&ft,pt.domain=ee?ct.domain:void 0,this._c.push(pt),this._a&&this._a.push(pt),this._s&&Gt(this,!1),pt.promise},catch:function(mt){return this.then(void 0,mt)}}),v=function(){var mt=new c;this.promise=mt,this.resolve=d(Dt,mt,1),this.reject=d(bt,mt,1)},I.f=Lt=function(mt){return mt===Ut||mt===u?new v(mt):g(mt)}),w(w.G+w.W+w.F*!Zt,{Promise:Ut}),o("J70Z")(Ut,K),o("Oi8Z")(K),u=o("CuJi").Promise,w(w.S+w.F*!Zt,K,{reject:function(mt){var ft=Lt(this);return(0,ft.reject)(mt),ft.promise}}),w(w.S+w.F*(l||!Zt),K,{resolve:function(mt){return G(l&&this===u?Ut:this,mt)}}),w(w.S+w.F*!(Zt&&o("6+im")(function(mt){Ut.all(mt).catch(Jt)})),K,{all:function(mt){var ft=this,pt=Lt(ft),Rt=pt.resolve,Pt=pt.reject,Ht=V(function(){var oe=[],Oe=0,ue=1;x(mt,!1,function(Yt){var Ke=Oe++,Ee=!1;oe.push(void 0),ue++,ft.resolve(Yt).then(function(Je){Ee||(Ee=!0,oe[Ke]=Je,--ue||Rt(oe))},Pt)}),--ue||Rt(oe)});return Ht.e&&Pt(Ht.v),pt.promise},race:function(mt){var ft=this,pt=Lt(ft),Rt=pt.reject,Pt=V(function(){x(mt,!1,function(Ht){ft.resolve(Ht).then(pt.resolve,Rt)})});return Pt.e&&Rt(Pt.v),pt.promise}})},Wa0j:function(C,F){C.exports=Math.scale||function(o,c,g,v,u){return arguments.length===0||o!=o||c!=c||g!=g||v!=v||u!=u?NaN:o===1/0||o===-1/0?o:(o-c)*(u-v)/(g-c)+v}},Wl3L:function(C,F,o){var c=o("MN4f"),g=o("aK63");C.exports=Object.keys||function(v){return c(v,g)}},WmvF:function(C,F,o){var c=o("8IOi"),g=o("JYSn")(!1);c(c.S,"Object",{values:function(v){return g(v)}})},Wx4D:function(C,F,o){"use strict";var c=o("8IOi"),g=o("XW/+"),v=o("m29h"),u=o("Y3Md"),l=[].lastIndexOf,m=!!l&&1/[1].lastIndexOf(1,-0)<0;c(c.P+c.F*(m||!o("Vcfr")(l)),"Array",{lastIndexOf:function(d){if(m)return l.apply(this,arguments)||0;var S=g(this),w=u(S.length),j=w-1;for(arguments.length>1&&(j=Math.min(j,v(arguments[1]))),j<0&&(j=w+j);j>=0;j--)if(j in S&&S[j]===d)return j||0;return-1}})},XAIu:function(C,F,o){var c=o("8IOi");c(c.S,"Math",{clz32:function(g){return(g>>>=0)?31-Math.floor(Math.log(g+.5)*Math.LOG2E):32}})},XAyX:function(C,F,o){var c=o("J2HX"),g=o("jYdD"),v=o("7WAm"),u=o("L7KE"),l=o("8IOi"),m=o("+zL4"),d=o("138g"),S=o("n+hx");l(l.S,"Reflect",{set:function w(j,T,b){var x,_,k=arguments.length<4?j:arguments[3],O=g.f(d(j),T);if(!O){if(S(_=v(j)))return w(_,T,b,k);O=m(0)}if(u(O,"value")){if(O.writable===!1||!S(k))return!1;if(x=g.f(k,T)){if(x.get||x.set||x.writable===!1)return!1;x.value=b,c.f(k,T,x)}else c.f(k,T,m(0,b));return!0}return O.set!==void 0&&(O.set.call(k,b),!0)}})},XBAu:function(C,F,o){"use strict";var c=o("8IOi"),g=o("dDOX"),v=o("HC2Y"),u=o("b8c2"),l=o("Y3Md"),m=[].slice;c(c.P+c.F*o("+TcE")(function(){g&&m.call(g)}),"Array",{slice:function(d,S){var w=l(this.length),j=v(this);if(S=S===void 0?w:S,j=="Array")return m.call(this,d,S);for(var T=u(d,w),b=u(S,w),x=l(b-T),_=new Array(x),k=0;k<x;k++)_[k]=j=="String"?this.charAt(T+k):this[T+k];return _}})},XO9W:function(C,F,o){"use strict";var c=o("8IOi"),g=o("z/zB")(0),v=o("Vcfr")([].forEach,!0);c(c.P+c.F*!v,"Array",{forEach:function(u){return g(this,u,arguments[1])}})},XSaa:function(C,F,o){"use strict";o("5oHw")("sup",function(c){return function(){return c(this,"sup","","")}})},XSnG:function(C,F,o){var c=o("n+hx");o("CmYC")("isSealed",function(g){return function(v){return!c(v)||!!g&&g(v)}})},"XW/+":function(C,F,o){var c=o("26/4"),g=o("aI2V");C.exports=function(v){return c(g(v))}},XuTJ:function(C,F,o){var c=o("8IOi"),g=o("dSQw")(/[\\^$*+?.()|[\]{}]/g,"\\$&");c(c.S,"RegExp",{escape:function(v){return g(v)}})},XuX8:function(C,F,o){C.exports=o("INkZ")},Y3Md:function(C,F,o){var c=o("m29h"),g=Math.min;C.exports=function(v){return v>0?g(c(v),9007199254740991):0}},YBJj:function(C,F,o){"use strict";var c=o("m29h"),g=o("aI2V");C.exports=function(v){var u=String(g(this)),l="",m=c(v);if(m<0||m==1/0)throw RangeError("Count can't be negative");for(;m>0;(m>>>=1)&&(u+=u))1&m&&(l+=u);return l}},YBdB:function(C,F,o){(function(c,g){(function(v,u){"use strict";if(!v.setImmediate){var l,m,d,S,w,j=1,T={},b=!1,x=v.document,_=Object.getPrototypeOf&&Object.getPrototypeOf(v);_=_&&_.setTimeout?_:v,{}.toString.call(v.process)==="[object process]"?l=function(I){g.nextTick(function(){O(I)})}:function(){if(v.postMessage&&!v.importScripts){var I=!0,V=v.onmessage;return v.onmessage=function(){I=!1},v.postMessage("","*"),v.onmessage=V,I}}()?(S="setImmediate$"+Math.random()+"$",w=function(I){I.source===v&&typeof I.data=="string"&&I.data.indexOf(S)===0&&O(+I.data.slice(S.length))},v.addEventListener?v.addEventListener("message",w,!1):v.attachEvent("onmessage",w),l=function(I){v.postMessage(S+I,"*")}):v.MessageChannel?((d=new MessageChannel).port1.onmessage=function(I){O(I.data)},l=function(I){d.port2.postMessage(I)}):x&&"onreadystatechange"in x.createElement("script")?(m=x.documentElement,l=function(I){var V=x.createElement("script");V.onreadystatechange=function(){O(I),V.onreadystatechange=null,m.removeChild(V),V=null},m.appendChild(V)}):l=function(I){setTimeout(O,0,I)},_.setImmediate=function(I){typeof I!="function"&&(I=new Function(""+I));for(var V=new Array(arguments.length-1),H=0;H<V.length;H++)V[H]=arguments[H+1];var G={callback:I,args:V};return T[j]=G,l(j),j++},_.clearImmediate=k}function k(I){delete T[I]}function O(I){if(b)setTimeout(O,0,I);else{var V=T[I];if(V){b=!0;try{(function(H){var G=H.callback,K=H.args;switch(K.length){case 0:G();break;case 1:G(K[0]);break;case 2:G(K[0],K[1]);break;case 3:G(K[0],K[1],K[2]);break;default:G.apply(void 0,K)}})(V)}finally{k(I),b=!1}}}}})(typeof self=="undefined"?c===void 0?this:c:self)}).call(this,o("yLpj"),o("8oxB"))},Yu6D:function(C,F,o){"use strict";o("5oHw")("strike",function(c){return function(){return c(this,"strike","","")}})},YuTi:function(C,F){C.exports=function(o){return o.webpackPolyfill||(o.deprecate=function(){},o.paths=[],o.children||(o.children=[]),Object.defineProperty(o,"loaded",{enumerable:!0,get:function(){return o.l}}),Object.defineProperty(o,"id",{enumerable:!0,get:function(){return o.i}}),o.webpackPolyfill=1),o}},"Yvq+":function(C,F,o){"use strict";var c=o("8IOi"),g=o("m29h"),v=o("Ku9J"),u=o("YBJj"),l=1 .toFixed,m=Math.floor,d=[0,0,0,0,0,0],S="Number.toFixed: incorrect invocation!",w="0",j=function(_,k){for(var O=-1,I=k;++O<6;)I+=_*d[O],d[O]=I%1e7,I=m(I/1e7)},T=function(_){for(var k=6,O=0;--k>=0;)O+=d[k],d[k]=m(O/_),O=O%_*1e7},b=function(){for(var _=6,k="";--_>=0;)if(k!==""||_===0||d[_]!==0){var O=String(d[_]);k=k===""?O:k+u.call(w,7-O.length)+O}return k},x=function(_,k,O){return k===0?O:k%2==1?x(_,k-1,O*_):x(_*_,k/2,O)};c(c.P+c.F*(!!l&&(8e-5 .toFixed(3)!=="0.000"||.9 .toFixed(0)!=="1"||1.255 .toFixed(2)!=="1.25"||1000000000000000100 .toFixed(0)!=="1000000000000000128")||!o("+TcE")(function(){l.call({})})),"Number",{toFixed:function(_){var k,O,I,V,H=v(this,S),G=g(_),K="",et=w;if(G<0||G>20)throw RangeError(S);if(H!=H)return"NaN";if(H<=-1e21||H>=1e21)return String(H);if(H<0&&(K="-",H=-H),H>1e-21)if(O=(k=function(ct){for(var gt=0,Mt=ct;Mt>=4096;)gt+=12,Mt/=4096;for(;Mt>=2;)gt+=1,Mt/=2;return gt}(H*x(2,69,1))-69)<0?H*x(2,-k,1):H/x(2,k,1),O*=4503599627370496,(k=52-k)>0){for(j(0,O),I=G;I>=7;)j(1e7,0),I-=7;for(j(x(10,I,1),0),I=k-1;I>=23;)T(1<<23),I-=23;T(1<<I),j(1,1),T(2),et=b()}else j(0,O),j(1<<-k,0),et=b()+u.call(w,G);return et=G>0?K+((V=et.length)<=G?"0."+u.call(w,G-V)+et:et.slice(0,V-G)+"."+et.slice(V-G)):K+et}})},"Z/7P":function(C,F,o){var c=o("k+AJ").parseInt,g=o("6dhg").trim,v=o("abT7"),u=/^[-+]?0[xX]/;C.exports=c(v+"08")!==8||c(v+"0x16")!==22?function(l,m){var d=g(String(l),3);return c(d,m>>>0||(u.test(d)?16:10))}:c},ZBJ7:function(C,F,o){"use strict";var c=o("8IOi"),g=o("6WDs")(!0);c(c.P,"String",{at:function(v){return g(this,v)}})},ZGGh:function(C,F,o){"use strict";var c=o("8IOi"),g=o("GvTA"),v=o("ZP9f"),u=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(v);c(c.P+c.F*u,"String",{padStart:function(l){return g(this,l,arguments.length>1?arguments[1]:void 0,!0)}})},ZJct:function(C,F,o){"use strict";o("5oHw")("bold",function(c){return function(){return c(this,"b","","")}})},ZLNw:function(C,F,o){var c=o("HGrt"),g=o("138g"),v=c.keys,u=c.key;c.exp({getOwnMetadataKeys:function(l){return v(g(l),arguments.length<2?void 0:u(arguments[1]))}})},ZP9f:function(C,F,o){var c=o("k+AJ").navigator;C.exports=c&&c.userAgent||""},ZUho:function(C,F,o){var c=o("JvFK"),g=o("t2DD"),v=o("HGrt"),u=o("138g"),l=o("7WAm"),m=v.keys,d=v.key,S=function(w,j){var T=m(w,j),b=l(w);if(b===null)return T;var x=S(b,j);return x.length?T.length?g(new c(T.concat(x))):x:T};v.exp({getMetadataKeys:function(w){return S(u(w),arguments.length<2?void 0:d(arguments[1]))}})},ZiEV:function(C,F,o){var c=o("138g"),g=o("d/Tf"),v=o("aK63"),u=o("lk+t")("IE_PROTO"),l=function(){},m=function(){var d,S=o("itdZ")("iframe"),w=v.length;for(S.style.display="none",o("dDOX").appendChild(S),S.src="javascript:",(d=S.contentWindow.document).open(),d.write("<script>document.F=Object</script>"),d.close(),m=d.F;w--;)delete m.prototype[v[w]];return m()};C.exports=Object.create||function(d,S){var w;return d!==null?(l.prototype=c(d),w=new l,l.prototype=null,w[u]=d):w=m(),S===void 0?w:g(w,S)}},ZqwW:function(C,F,o){"use strict";var c=o("138g");C.exports=function(){var g=c(this),v="";return g.global&&(v+="g"),g.ignoreCase&&(v+="i"),g.multiline&&(v+="m"),g.unicode&&(v+="u"),g.sticky&&(v+="y"),v}},Zrcd:function(C,F,o){var c=o("3iRr")("unscopables"),g=Array.prototype;g[c]==null&&o("BxPU")(g,c,{}),C.exports=function(v){g[c][v]=!0}},"a/cf":function(C,F,o){var c=o("8IOi");c(c.S,"Math",{scale:o("Wa0j")})},a5BC:function(C,F,o){o("rPJW"),o("uHQh"),o("/Kal"),o("Svsh"),o("V0HS"),o("Ki3G"),o("gRqh"),o("QraV"),o("einn"),o("0PTC"),o("0oS0"),o("BjUW"),o("XSnG"),o("TsBE"),o("l9Ni"),o("cGcf"),o("peKB"),o("+z8a"),o("rVFp"),o("mWBI"),o("64wf"),o("+40N"),o("+fNn"),o("qOR+"),o("Yvq+"),o("UBN9"),o("o9jk"),o("DbUx"),o("OWqD"),o("0khl"),o("jAPZ"),o("wpNZ"),o("Bmui"),o("GPGB"),o("QJgN"),o("kwta"),o("4D/n"),o("dwFp"),o("VAZH"),o("XAIu"),o("pYEy"),o("gHJP"),o("ffSk"),o("K3ax"),o("EdrQ"),o("EpbX"),o("oFtK"),o("Stof"),o("IC4T"),o("iEh4"),o("KpXI"),o("G1Bn"),o("c4L8"),o("OfMQ"),o("aMCu"),o("9Yzx"),o("rMxl"),o("skXq"),o("JCQ5"),o("P6sA"),o("AK2K"),o("3Uai"),o("JNc5"),o("IGqx"),o("ZJct"),o("ijSB"),o("nptS"),o("IheE"),o("e/nT"),o("CL8V"),o("94c5"),o("Yu6D"),o("5Kf4"),o("XSaa"),o("/p3b"),o("s+08"),o("gjM+"),o("SzBd"),o("Rby+"),o("tNXT"),o("pAas"),o("28ya"),o("aOXv"),o("XBAu"),o("CCGS"),o("XO9W"),o("HJwq"),o("Agm5"),o("aNYM"),o("31m8"),o("l6ZQ"),o("rqGp"),o("cmzs"),o("Wx4D"),o("P4R2"),o("rWL+"),o("L6/l"),o("NrsN"),o("1bh+"),o("IdBN"),o("fDzh"),o("N8W1"),o("iQRN"),o("AvcM"),o("g0Qz"),o("C74u"),o("B28f"),o("as79"),o("W73/"),o("G966"),o("JvFK"),o("lLv2"),o("Nrdp"),o("oKuV"),o("iAh5"),o("UPwD"),o("pLVf"),o("UUc1"),o("9BWX"),o("fSTx"),o("BuMk"),o("CEB3"),o("LMzk"),o("msPO"),o("eG8a"),o("1hBx"),o("39GA"),o("KYUM"),o("GxgO"),o("7n8s"),o("MVdI"),o("xRLh"),o("PsYO"),o("2ASh"),o("oTT8"),o("j4Nb"),o("XAyX"),o("1TfH"),o("oszf"),o("nAtQ"),o("5zUu"),o("ZBJ7"),o("ZGGh"),o("nOwm"),o("QYzQ"),o("U5hM"),o("C2di"),o("pSQQ"),o("N+bU"),o("uAa7"),o("WmvF"),o("ySsg"),o("p5hF"),o("Insd"),o("QoI2"),o("UBDf"),o("xcDT"),o("dO8U"),o("mFt4"),o("Fnpj"),o("j3qt"),o("+9nT"),o("MWg1"),o("c3Hg"),o("ibFI"),o("Vcm9"),o("PHd1"),o("ca6l"),o("+Wx6"),o("CFo0"),o("lCxz"),o("nx9P"),o("nR3n"),o("DwDk"),o("e9bc"),o("nas9"),o("QANz"),o("67f/"),o("a/cf"),o("SxLI"),o("srFW"),o("iHAW"),o("gqYs"),o("axHO"),o("1bKO"),o("kWVC"),o("ZUho"),o("T9Wu"),o("ZLNw"),o("x8o9"),o("FeNi"),o("unDq"),o("OVpP"),o("FMkX"),o("6T8a"),o("xO9r"),o("BPp8"),C.exports=o("CuJi")},aI2V:function(C,F){C.exports=function(o){if(o==null)throw TypeError("Can't call method on  "+o);return o}},aK63:function(C,F){C.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},aMCu:function(C,F,o){"use strict";o("6dhg")("trim",function(c){return function(){return c(this,3)}})},aNYM:function(C,F,o){"use strict";var c=o("8IOi"),g=o("z/zB")(3);c(c.P+c.F*!o("Vcfr")([].some,!0),"Array",{some:function(v){return g(this,v,arguments[1])}})},aOXv:function(C,F,o){"use strict";var c=o("8IOi"),g=o("XW/+"),v=[].join;c(c.P+c.F*(o("26/4")!=Object||!o("Vcfr")(v)),"Array",{join:function(u){return v.call(g(this),u===void 0?",":u)}})},aXKq:function(C,F,o){"use strict";var c=o("6WDs")(!0);C.exports=function(g,v,u){return v+(u?c(g,v).length:1)}},abT7:function(C,F){C.exports=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`},as79:function(C,F,o){"use strict";var c=o("N6L2"),g=o("138g"),v=o("EUev"),u=o("aXKq"),l=o("Y3Md"),m=o("/vim"),d=o("4Fav"),S=o("+TcE"),w=Math.min,j=[].push,T=4294967295,b=!S(function(){RegExp(T,"y")});o("ntFk")("split",2,function(x,_,k,O){var I;return I="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?function(V,H){var G=String(this);if(V===void 0&&H===0)return[];if(!c(V))return k.call(G,V,H);for(var K,et,ct,gt=[],Mt=(V.ignoreCase?"i":"")+(V.multiline?"m":"")+(V.unicode?"u":"")+(V.sticky?"y":""),Ut=0,ee=H===void 0?T:H>>>0,Jt=new RegExp(V.source,Mt+"g");(K=d.call(Jt,G))&&!((et=Jt.lastIndex)>Ut&&(gt.push(G.slice(Ut,K.index)),K.length>1&&K.index<G.length&&j.apply(gt,K.slice(1)),ct=K[0].length,Ut=et,gt.length>=ee));)Jt.lastIndex===K.index&&Jt.lastIndex++;return Ut===G.length?!ct&&Jt.test("")||gt.push(""):gt.push(G.slice(Ut)),gt.length>ee?gt.slice(0,ee):gt}:"0".split(void 0,0).length?function(V,H){return V===void 0&&H===0?[]:k.call(this,V,H)}:k,[function(V,H){var G=x(this),K=V==null?void 0:V[_];return K!==void 0?K.call(V,G,H):I.call(String(G),V,H)},function(V,H){var G=O(I,V,this,H,I!==k);if(G.done)return G.value;var K=g(V),et=String(this),ct=v(K,RegExp),gt=K.unicode,Mt=(K.ignoreCase?"i":"")+(K.multiline?"m":"")+(K.unicode?"u":"")+(b?"y":"g"),Ut=new ct(b?K:"^(?:"+K.source+")",Mt),ee=H===void 0?T:H>>>0;if(ee===0)return[];if(et.length===0)return m(Ut,et)===null?[et]:[];for(var Jt=0,Lt=0,Zt=[];Lt<et.length;){Ut.lastIndex=b?Lt:0;var me,Gt=m(Ut,b?et:et.slice(Lt));if(Gt===null||(me=w(l(Ut.lastIndex+(b?0:Lt)),et.length))===Jt)Lt=u(et,Lt,gt);else{if(Zt.push(et.slice(Jt,Lt)),Zt.length===ee)return Zt;for(var U=1;U<=Gt.length-1;U++)if(Zt.push(Gt[U]),Zt.length===ee)return Zt;Lt=Jt=me}}return Zt.push(et.slice(Jt)),Zt}]})},atpN:function(C,F,o){"use strict";var c=o("ZiEV"),g=o("+zL4"),v=o("J70Z"),u={};o("BxPU")(u,o("3iRr")("iterator"),function(){return this}),C.exports=function(l,m,d){l.prototype=c(u,{next:g(1,d)}),v(l,m+" Iterator")}},axHO:function(C,F,o){var c=o("HGrt"),g=o("138g"),v=c.key,u=c.set;c.exp({defineMetadata:function(l,m,d,S){u(l,m,g(d),v(S))}})},b8c2:function(C,F,o){var c=o("m29h"),g=Math.max,v=Math.min;C.exports=function(u,l){return(u=c(u))<0?g(u+l,0):v(u,l)}},"bZ/h":function(C,F,o){var c=o("Wl3L"),g=o("EN0g"),v=o("4XFX");C.exports=function(u){var l=c(u),m=g.f;if(m)for(var d,S=m(u),w=v.f,j=0;S.length>j;)w.call(u,d=S[j++])&&l.push(d);return l}},c3Hg:function(C,F,o){o("e7D+")("Set")},c4L8:function(C,F,o){var c=o("8IOi"),g=o("b8c2"),v=String.fromCharCode,u=String.fromCodePoint;c(c.S+c.F*(!!u&&u.length!=1),"String",{fromCodePoint:function(l){for(var m,d=[],S=arguments.length,w=0;S>w;){if(m=+arguments[w++],g(m,1114111)!==m)throw RangeError(m+" is not a valid code point");d.push(m<65536?v(m):v(55296+((m-=65536)>>10),m%1024+56320))}return d.join("")}})},cGcf:function(C,F,o){var c=o("8IOi");c(c.S,"Object",{is:o("qHvq")})},ca6l:function(C,F,o){var c=o("8IOi");c(c.S,"System",{global:o("k+AJ")})},cmzs:function(C,F,o){"use strict";var c=o("8IOi"),g=o("J8Qq")(!1),v=[].indexOf,u=!!v&&1/[1].indexOf(1,-0)<0;c(c.P+c.F*(u||!o("Vcfr")(v)),"Array",{indexOf:function(l){return u?v.apply(this,arguments)||0:g(this,l,arguments[1])}})},"d+oe":function(C,F,o){var c=o("k+AJ"),g=o("BxPU"),v=o("L7KE"),u=o("Vol4")("src"),l=o("oHD3"),m="toString",d=(""+l).split(m);o("CuJi").inspectSource=function(S){return l.call(S)},(C.exports=function(S,w,j,T){var b=typeof j=="function";b&&(v(j,"name")||g(j,"name",w)),S[w]!==j&&(b&&(v(j,u)||g(j,u,S[w]?""+S[w]:d.join(String(w)))),S===c?S[w]=j:T?S[w]?S[w]=j:g(S,w,j):(delete S[w],g(S,w,j)))})(Function.prototype,m,function(){return typeof this=="function"&&this[u]||l.call(this)})},"d/Tf":function(C,F,o){var c=o("J2HX"),g=o("138g"),v=o("Wl3L");C.exports=o("yU77")?Object.defineProperties:function(u,l){g(u);for(var m,d=v(l),S=d.length,w=0;S>w;)c.f(u,m=d[w++],l[m]);return u}},dDOX:function(C,F,o){var c=o("k+AJ").document;C.exports=c&&c.documentElement},dO8U:function(C,F,o){var c=o("8IOi");c(c.P+c.R,"Set",{toJSON:o("H/b1")("Set")})},dSQw:function(C,F){C.exports=function(o,c){var g=c===Object(c)?function(v){return c[v]}:c;return function(v){return String(v).replace(o,g)}}},dt6n:function(C,F,o){o("XuTJ"),C.exports=o("CuJi").RegExp.escape},dwFp:function(C,F,o){var c=o("8IOi"),g=Math.atanh;c(c.S+c.F*!(g&&1/g(-0)<0),"Math",{atanh:function(v){return(v=+v)==0?v:Math.log((1+v)/(1-v))/2}})},"e/nT":function(C,F,o){"use strict";o("5oHw")("italics",function(c){return function(){return c(this,"i","","")}})},"e7D+":function(C,F,o){"use strict";var c=o("8IOi"),g=o("LOhj"),v=o("kRpC"),u=o("j8TA");C.exports=function(l){c(c.S,l,{from:function(m){var d,S,w,j,T=arguments[1];return g(this),(d=T!==void 0)&&g(T),m==null?new this:(S=[],d?(w=0,j=v(T,arguments[2],2),u(m,!1,function(b){S.push(j(b,w++))})):u(m,!1,S.push,S),new this(S))}})}},e8l7:function(C,F){C.exports=Math.sign||function(o){return(o=+o)==0||o!=o?o:o<0?-1:1}},e9bc:function(C,F,o){var c=o("8IOi");c(c.S,"Math",{isubh:function(g,v,u,l){var m=g>>>0,d=u>>>0;return(v>>>0)-(l>>>0)-((~m&d|~(m^d)&m-d>>>0)>>>31)|0}})},eG8a:function(C,F,o){var c=o("8IOi"),g=o("LOhj"),v=o("138g"),u=(o("k+AJ").Reflect||{}).apply,l=Function.apply;c(c.S+c.F*!o("+TcE")(function(){u(function(){})}),"Reflect",{apply:function(m,d,S){var w=g(m),j=v(S);return u?u(w,d,j):l.call(w,d,j)}})},eYp2:function(C,F,o){var c=o("n+hx");C.exports=function(g,v){if(!c(g)||g._t!==v)throw TypeError("Incompatible receiver, "+v+" required!");return g}},einn:function(C,F,o){var c=o("n+hx"),g=o("TI2F").onFreeze;o("CmYC")("freeze",function(v){return function(u){return v&&c(u)?v(g(u)):u}})},fDzh:function(C,F,o){var c=o("k+AJ"),g=o("EeL+"),v=o("J2HX").f,u=o("27JW").f,l=o("N6L2"),m=o("ZqwW"),d=c.RegExp,S=d,w=d.prototype,j=/a/g,T=/a/g,b=new d(j)!==j;if(o("yU77")&&(!b||o("+TcE")(function(){return T[o("3iRr")("match")]=!1,d(j)!=j||d(T)==T||d(j,"i")!="/a/i"}))){d=function(O,I){var V=this instanceof d,H=l(O),G=I===void 0;return!V&&H&&O.constructor===d&&G?O:g(b?new S(H&&!G?O.source:O,I):S((H=O instanceof d)?O.source:O,H&&G?m.call(O):I),V?this:w,d)};for(var x=function(O){O in d||v(d,O,{configurable:!0,get:function(){return S[O]},set:function(I){S[O]=I}})},_=u(S),k=0;_.length>k;)x(_[k++]);w.constructor=d,d.prototype=w,o("d+oe")(c,"RegExp",d)}o("Oi8Z")("RegExp")},fSTx:function(C,F,o){o("Gx54")("Uint16",2,function(c){return function(g,v,u){return c(this,g,v,u)}})},ffSk:function(C,F,o){var c=o("8IOi");c(c.S,"Math",{fround:o("1JuZ")})},fyHr:function(C,F,o){var c=o("HC2Y");C.exports=Array.isArray||function(g){return c(g)=="Array"}},g0Qz:function(C,F,o){"use strict";var c=o("138g"),g=o("Y3Md"),v=o("aXKq"),u=o("/vim");o("ntFk")("match",1,function(l,m,d,S){return[function(w){var j=l(this),T=w==null?void 0:w[m];return T!==void 0?T.call(w,j):new RegExp(w)[m](String(j))},function(w){var j=S(d,w,this);if(j.done)return j.value;var T=c(w),b=String(this);if(!T.global)return u(T,b);var x=T.unicode;T.lastIndex=0;for(var _,k=[],O=0;(_=u(T,b))!==null;){var I=String(_[0]);k[O]=I,I===""&&(T.lastIndex=v(b,g(T.lastIndex),x)),O++}return O===0?null:k}]})},gHJP:function(C,F,o){var c=o("8IOi"),g=o("RZL5");c(c.S+c.F*(g!=Math.expm1),"Math",{expm1:g})},gRqh:function(C,F,o){var c=o("Qu5u"),g=o("Wl3L");o("CmYC")("keys",function(){return function(v){return g(c(v))}})},"gjM+":function(C,F,o){var c=o("8IOi"),g=o("vNAk");c(c.P+c.F*(Date.prototype.toISOString!==g),"Date",{toISOString:g})},gqYs:function(C,F,o){"use strict";var c=o("8IOi"),g=o("5/+w"),v=o("LVuD");c(c.S,"Promise",{try:function(u){var l=g.f(this),m=v(u);return(m.e?l.reject:l.resolve)(m.v),l.promise}})},gyzL:function(C,F,o){var c=o("n+hx"),g=o("fyHr"),v=o("3iRr")("species");C.exports=function(u){var l;return g(u)&&(typeof(l=u.constructor)!="function"||l!==Array&&!g(l.prototype)||(l=void 0),c(l)&&(l=l[v])===null&&(l=void 0)),l===void 0?Array:l}},"hTk/":function(C,F,o){var c=o("k+AJ").parseFloat,g=o("6dhg").trim;C.exports=1/c(o("abT7")+"-0")!=-1/0?function(v){var u=g(String(v),3),l=c(u);return l===0&&u.charAt(0)=="-"?-0:l}:c},iAh5:function(C,F,o){var c=o("8IOi");c(c.G+c.W+c.F*!o("8wjV").ABV,{DataView:o("t5lg").DataView})},iEh4:function(C,F,o){var c=o("8IOi"),g=o("RZL5"),v=Math.exp;c(c.S+c.F*o("+TcE")(function(){return!Math.sinh(-2e-17)!=-2e-17}),"Math",{sinh:function(u){return Math.abs(u=+u)<1?(g(u)-g(-u))/2:(v(u-1)-v(-u-1))*(Math.E/2)}})},iHAW:function(C,F,o){"use strict";var c=o("8IOi"),g=o("CuJi"),v=o("k+AJ"),u=o("EUev"),l=o("ROgi");c(c.P+c.R,"Promise",{finally:function(m){var d=u(this,g.Promise||v.Promise),S=typeof m=="function";return this.then(S?function(w){return l(d,m()).then(function(){return w})}:m,S?function(w){return l(d,m()).then(function(){throw w})}:m)}})},iQRN:function(C,F,o){"use strict";o("AvcM");var c=o("138g"),g=o("ZqwW"),v=o("yU77"),u="toString",l=/./.toString,m=function(d){o("d+oe")(RegExp.prototype,u,d,!0)};o("+TcE")(function(){return l.call({source:"a",flags:"b"})!="/a/b"})?m(function(){var d=c(this);return"/".concat(d.source,"/","flags"in d?d.flags:!v&&d instanceof RegExp?g.call(d):void 0)}):l.name!=u&&m(function(){return l.call(this)})},ibFI:function(C,F,o){o("e7D+")("WeakMap")},ijSB:function(C,F,o){"use strict";o("5oHw")("fixed",function(c){return function(){return c(this,"tt","","")}})},itdZ:function(C,F,o){var c=o("n+hx"),g=o("k+AJ").document,v=c(g)&&c(g.createElement);C.exports=function(u){return v?g.createElement(u):{}}},j3qt:function(C,F,o){o("+Uj0")("WeakMap")},j4Nb:function(C,F,o){var c=o("8IOi"),g=o("138g"),v=Object.preventExtensions;c(c.S,"Reflect",{preventExtensions:function(u){g(u);try{return v&&v(u),!0}catch(l){return!1}}})},j8TA:function(C,F,o){var c=o("kRpC"),g=o("5arV"),v=o("x4ZG"),u=o("138g"),l=o("Y3Md"),m=o("o3v7"),d={},S={};(F=C.exports=function(w,j,T,b,x){var _,k,O,I,V=x?function(){return w}:m(w),H=c(T,b,j?2:1),G=0;if(typeof V!="function")throw TypeError(w+" is not iterable!");if(v(V)){for(_=l(w.length);_>G;G++)if((I=j?H(u(k=w[G])[0],k[1]):H(w[G]))===d||I===S)return I}else for(O=V.call(w);!(k=O.next()).done;)if((I=g(O,H,k.value,j))===d||I===S)return I}).BREAK=d,F.RETURN=S},jAPZ:function(C,F,o){var c=o("8IOi"),g=o("Jkf2"),v=Math.abs;c(c.S,"Number",{isSafeInteger:function(u){return g(u)&&v(u)<=9007199254740991}})},jYdD:function(C,F,o){var c=o("4XFX"),g=o("+zL4"),v=o("XW/+"),u=o("AZ8a"),l=o("L7KE"),m=o("+X+Z"),d=Object.getOwnPropertyDescriptor;F.f=o("yU77")?d:function(S,w){if(S=v(S),w=u(w,!0),m)try{return d(S,w)}catch(j){}if(l(S,w))return g(!c.f.call(S,w),S[w])}},"k+AJ":function(C,F){var o=C.exports=typeof window!="undefined"&&window.Math==Math?window:typeof self!="undefined"&&self.Math==Math?self:Function("return this")();typeof __g=="number"&&(__g=o)},kRpC:function(C,F,o){var c=o("LOhj");C.exports=function(g,v,u){if(c(g),v===void 0)return g;switch(u){case 1:return function(l){return g.call(v,l)};case 2:return function(l,m){return g.call(v,l,m)};case 3:return function(l,m,d){return g.call(v,l,m,d)}}return function(){return g.apply(v,arguments)}}},kWVC:function(C,F,o){var c=o("HGrt"),g=o("138g"),v=o("7WAm"),u=c.has,l=c.get,m=c.key,d=function(S,w,j){if(u(S,w,j))return l(S,w,j);var T=v(w);return T!==null?d(S,T,j):void 0};c.exp({getMetadata:function(S,w){return d(S,g(w),arguments.length<3?void 0:m(arguments[2]))}})},kopD:function(C,F){C.exports=function(o,c,g,v){if(!(o instanceof c)||v!==void 0&&v in o)throw TypeError(g+": incorrect invocation!");return o}},kwta:function(C,F,o){var c=o("8IOi"),g=o("3D8Z"),v=Math.sqrt,u=Math.acosh;c(c.S+c.F*!(u&&Math.floor(u(Number.MAX_VALUE))==710&&u(1/0)==1/0),"Math",{acosh:function(l){return(l=+l)<1?NaN:l>9490626562425156e-8?Math.log(l)+Math.LN2:g(l-1+v(l-1)*v(l+1))}})},l0zq:function(C,F,o){"use strict";var c=o("Wl3L"),g=o("EN0g"),v=o("4XFX"),u=o("Qu5u"),l=o("26/4"),m=Object.assign;C.exports=!m||o("+TcE")(function(){var d={},S={},w=Symbol(),j="abcdefghijklmnopqrst";return d[w]=7,j.split("").forEach(function(T){S[T]=T}),m({},d)[w]!=7||Object.keys(m({},S)).join("")!=j})?function(d,S){for(var w=u(d),j=arguments.length,T=1,b=g.f,x=v.f;j>T;)for(var _,k=l(arguments[T++]),O=b?c(k).concat(b(k)):c(k),I=O.length,V=0;I>V;)x.call(k,_=O[V++])&&(w[_]=k[_]);return w}:m},l6ZQ:function(C,F,o){"use strict";var c=o("8IOi"),g=o("x0dS");c(c.P+c.F*!o("Vcfr")([].reduce,!0),"Array",{reduce:function(v){return g(this,v,arguments.length,arguments[1],!1)}})},l9Ni:function(C,F,o){var c=o("8IOi");c(c.S+c.F,"Object",{assign:o("l0zq")})},lCxz:function(C,F,o){var c=o("8IOi");c(c.S,"Math",{DEG_PER_RAD:Math.PI/180})},lLv2:function(C,F,o){"use strict";var c,g=o("k+AJ"),v=o("z/zB")(0),u=o("d+oe"),l=o("TI2F"),m=o("l0zq"),d=o("QV8t"),S=o("n+hx"),w=o("eYp2"),j=o("eYp2"),T=!g.ActiveXObject&&"ActiveXObject"in g,b="WeakMap",x=l.getWeak,_=Object.isExtensible,k=d.ufstore,O=function(H){return function(){return H(this,arguments.length>0?arguments[0]:void 0)}},I={get:function(H){if(S(H)){var G=x(H);return G===!0?k(w(this,b)).get(H):G?G[this._i]:void 0}},set:function(H,G){return d.def(w(this,b),H,G)}},V=C.exports=o("0WhE")(b,O,I,d,!0,!0);j&&T&&(m((c=d.getConstructor(O,b)).prototype,I),l.NEED=!0,v(["delete","has","get","set"],function(H){var G=V.prototype,K=G[H];u(G,H,function(et,ct){if(S(et)&&!_(et)){this._f||(this._f=new c);var gt=this._f[H](et,ct);return H=="set"?this:gt}return K.call(this,et,ct)})}))},"lk+t":function(C,F,o){var c=o("3oW4")("keys"),g=o("Vol4");C.exports=function(v){return c[v]||(c[v]=g(v))}},m29h:function(C,F){var o=Math.ceil,c=Math.floor;C.exports=function(g){return isNaN(g=+g)?0:(g>0?c:o)(g)}},mFt4:function(C,F,o){o("+Uj0")("Map")},mWBI:function(C,F,o){var c=o("J2HX").f,g=Function.prototype,v=/^\s*function ([^ (]*)/,u="name";u in g||o("yU77")&&c(g,u,{configurable:!0,get:function(){try{return(""+this).match(v)[1]}catch(l){return""}}})},msPO:function(C,F,o){o("Gx54")("Float64",8,function(c){return function(g,v,u){return c(this,g,v,u)}})},"n+hx":function(C,F){C.exports=function(o){return typeof o=="object"?o!==null:typeof o=="function"}},nAtQ:function(C,F,o){"use strict";var c=o("8IOi"),g=o("QotP"),v=o("Qu5u"),u=o("Y3Md"),l=o("LOhj"),m=o("CkjT");c(c.P,"Array",{flatMap:function(d){var S,w,j=v(this);return l(d),S=u(j.length),w=m(j,0),g(w,j,j,S,0,1,d,arguments[1]),w}}),o("Zrcd")("flatMap")},nOwm:function(C,F,o){"use strict";var c=o("8IOi"),g=o("GvTA"),v=o("ZP9f"),u=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(v);c(c.P+c.F*u,"String",{padEnd:function(l){return g(this,l,arguments.length>1?arguments[1]:void 0,!1)}})},nR3n:function(C,F,o){var c=o("8IOi"),g=o("Wa0j"),v=o("1JuZ");c(c.S,"Math",{fscale:function(u,l,m,d,S){return v(g(u,l,m,d,S))}})},nas9:function(C,F,o){var c=o("8IOi");c(c.S,"Math",{imulh:function(g,v){var u=65535,l=+g,m=+v,d=l&u,S=m&u,w=l>>16,j=m>>16,T=(w*S>>>0)+(d*S>>>16);return w*j+(T>>16)+((d*j>>>0)+(T&u)>>16)}})},nptS:function(C,F,o){"use strict";o("5oHw")("fontcolor",function(c){return function(g){return c(this,"font","color",g)}})},ntFk:function(C,F,o){"use strict";o("N8W1");var c=o("d+oe"),g=o("BxPU"),v=o("+TcE"),u=o("aI2V"),l=o("3iRr"),m=o("4Fav"),d=l("species"),S=!v(function(){var j=/./;return j.exec=function(){var T=[];return T.groups={a:"7"},T},"".replace(j,"$<a>")!=="7"}),w=function(){var j=/(?:)/,T=j.exec;j.exec=function(){return T.apply(this,arguments)};var b="ab".split(j);return b.length===2&&b[0]==="a"&&b[1]==="b"}();C.exports=function(j,T,b){var x=l(j),_=!v(function(){var G={};return G[x]=function(){return 7},""[j](G)!=7}),k=_?!v(function(){var G=!1,K=/a/;return K.exec=function(){return G=!0,null},j==="split"&&(K.constructor={},K.constructor[d]=function(){return K}),K[x](""),!G}):void 0;if(!_||!k||j==="replace"&&!S||j==="split"&&!w){var O=/./[x],I=b(u,x,""[j],function(G,K,et,ct,gt){return K.exec===m?_&&!gt?{done:!0,value:O.call(K,et,ct)}:{done:!0,value:G.call(et,K,ct)}:{done:!1}}),V=I[0],H=I[1];c(String.prototype,j,V),g(RegExp.prototype,x,T==2?function(G,K){return H.call(G,this,K)}:function(G){return H.call(G,this)})}}},nx9P:function(C,F,o){var c=o("8IOi"),g=180/Math.PI;c(c.S,"Math",{degrees:function(v){return v*g}})},o3v7:function(C,F,o){var c=o("UVVG"),g=o("3iRr")("iterator"),v=o("wFMk");C.exports=o("CuJi").getIteratorMethod=function(u){if(u!=null)return u[g]||u["@@iterator"]||v[c(u)]}},o9jk:function(C,F,o){var c=o("8IOi");c(c.S,"Number",{EPSILON:Math.pow(2,-52)})},oFtK:function(C,F,o){var c=o("8IOi");c(c.S,"Math",{log1p:o("3D8Z")})},oHD3:function(C,F,o){C.exports=o("3oW4")("native-function-to-string",Function.toString)},oKuV:function(C,F,o){"use strict";var c=o("8IOi"),g=o("8wjV"),v=o("t5lg"),u=o("138g"),l=o("b8c2"),m=o("Y3Md"),d=o("n+hx"),S=o("k+AJ").ArrayBuffer,w=o("EUev"),j=v.ArrayBuffer,T=v.DataView,b=g.ABV&&S.isView,x=j.prototype.slice,_=g.VIEW,k="ArrayBuffer";c(c.G+c.W+c.F*(S!==j),{ArrayBuffer:j}),c(c.S+c.F*!g.CONSTR,k,{isView:function(O){return b&&b(O)||d(O)&&_ in O}}),c(c.P+c.U+c.F*o("+TcE")(function(){return!new j(2).slice(1,void 0).byteLength}),k,{slice:function(O,I){if(x!==void 0&&I===void 0)return x.call(u(this),O);for(var V=u(this).byteLength,H=l(O,V),G=l(I===void 0?V:I,V),K=new(w(this,j))(m(G-H)),et=new T(this),ct=new T(K),gt=0;H<G;)ct.setUint8(gt++,et.getUint8(H++));return K}}),o("Oi8Z")(k)},oTT8:function(C,F,o){var c=o("8IOi");c(c.S,"Reflect",{ownKeys:o("6uvR")})},oszf:function(C,F,o){"use strict";var c=o("8IOi"),g=o("J8Qq")(!0);c(c.P,"Array",{includes:function(v){return g(this,v,arguments.length>1?arguments[1]:void 0)}}),o("Zrcd")("includes")},p5hF:function(C,F,o){"use strict";var c=o("8IOi"),g=o("Qu5u"),v=o("LOhj"),u=o("J2HX");o("yU77")&&c(c.P+o("rGBx"),"Object",{__defineGetter__:function(l,m){u.f(g(this),l,{get:v(m),enumerable:!0,configurable:!0})}})},pAas:function(C,F,o){"use strict";var c=o("kRpC"),g=o("8IOi"),v=o("Qu5u"),u=o("5arV"),l=o("x4ZG"),m=o("Y3Md"),d=o("UtW+"),S=o("o3v7");g(g.S+g.F*!o("6+im")(function(w){Array.from(w)}),"Array",{from:function(w){var j,T,b,x,_=v(w),k=typeof this=="function"?this:Array,O=arguments.length,I=O>1?arguments[1]:void 0,V=I!==void 0,H=0,G=S(_);if(V&&(I=c(I,O>2?arguments[2]:void 0,2)),G==null||k==Array&&l(G))for(T=new k(j=m(_.length));j>H;H++)d(T,H,V?I(_[H],H):_[H]);else for(x=G.call(_),T=new k;!(b=x.next()).done;H++)d(T,H,V?u(x,I,[b.value,H],!0):b.value);return T.length=H,T}})},pDsQ:function(C,F,o){F.f=o("3iRr")},pLVf:function(C,F,o){o("Gx54")("Uint8",1,function(c){return function(g,v,u){return c(this,g,v,u)}})},pSQQ:function(C,F,o){o("HLcc")("asyncIterator")},pYEy:function(C,F,o){var c=o("8IOi"),g=Math.exp;c(c.S,"Math",{cosh:function(v){return(g(v=+v)+g(-v))/2}})},peKB:function(C,F,o){var c=o("8IOi");c(c.S,"Object",{setPrototypeOf:o("R1kZ").set})},"q/s7":function(C,F,o){"use strict";o.r(F);var c=o("XuX8"),g=o.n(c);o("KJ4T");function v(U,ut){return U.__proto__=ut,U}Object.setPrototypeOf=Object.setPrototypeOf||v,v.bind(Object);var u=typeof Symbol!="undefined"&&typeof Reflect!="undefined"&&typeof Proxy!="undefined"&&!Object.isSealed(Proxy),l=function(){function U(ut,ht){for(var bt=0;bt<ht.length;bt++){var Dt=ht[bt];Dt.enumerable=Dt.enumerable||!1,Dt.configurable=!0,"value"in Dt&&(Dt.writable=!0),Object.defineProperty(ut,Dt.key,Dt)}}return function(ut,ht,bt){return ht&&U(ut.prototype,ht),bt&&U(ut,bt),ut}}();function m(U,ut){if(!(U instanceof ut))throw new TypeError("Cannot call a class as a function")}function d(U,ut){if(!U)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!ut||typeof ut!="object"&&typeof ut!="function"?U:ut}function S(U,ut){if(typeof ut!="function"&&ut!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof ut);U.prototype=Object.create(ut&&ut.prototype,{constructor:{value:U,enumerable:!1,writable:!0,configurable:!0}}),ut&&(Object.setPrototypeOf?Object.setPrototypeOf(U,ut):U.__proto__=ut)}function w(){return Reflect.construct(HTMLElement,[],this.__proto__.constructor)}function j(U){var ut=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof customElements!="undefined"){if(u){var ht=function(Pt){function Ht(oe){m(this,Ht);var Oe=d(this,(Ht.__proto__||Object.getPrototypeOf(Ht)).call(this)),ue=oe?HTMLElement.call(oe):Oe;return Dt.call(ue),d(Oe,ue)}return S(Ht,Pt),l(Ht,null,[{key:"observedAttributes",get:function(){return ut.observedAttributes||[]}}]),Ht}(w);return ht.prototype.connectedCallback=mt,ht.prototype.disconnectedCallback=ft,ht.prototype.attributeChangedCallback=pt,Rt(U,ht),ht}var bt=function(Pt){var Ht=Pt?HTMLElement.call(Pt):this;return Dt.call(Ht),Ht};return bt.observedAttributes=ut.observedAttributes||[],bt.prototype=Object.create(HTMLElement.prototype,{constructor:{configurable:!0,writable:!0,value:bt}}),bt.prototype.connectedCallback=mt,bt.prototype.disconnectedCallback=ft,bt.prototype.attributeChangedCallback=pt,Rt(U,bt),bt}function Dt(){ut.shadow===!0&&HTMLElement.prototype.attachShadow&&this.attachShadow({mode:"open"}),typeof ut.constructorCallback=="function"&&ut.constructorCallback.call(this)}function mt(){typeof ut.connectedCallback=="function"&&ut.connectedCallback.call(this)}function ft(){typeof ut.disconnectedCallback=="function"&&ut.disconnectedCallback.call(this)}function pt(Pt,Ht,oe){typeof ut.attributeChangedCallback=="function"&&ut.attributeChangedCallback.call(this,Pt,Ht,oe)}function Rt(Pt,Ht){var oe=customElements.get(Pt);return oe!==void 0?oe:customElements.define(Pt,Ht)}}Object.setPrototypeOf(w.prototype,HTMLElement.prototype),Object.setPrototypeOf(w,HTMLElement);var T=/-(\w)/g,b=function(U){return U.replace(T,function(ut,ht){return ht?ht.toUpperCase():""})},x=/([^-])([A-Z])/g,_=function(U){return U.replace(x,"$1-$2").replace(x,"$1-$2").toLowerCase()};function k(U){for(var ut=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,ht=U.length-ut,bt=new Array(ht);ht--;)bt[ht]=U[ht+ut];return bt}var O=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(U){return typeof U}:function(U){return U&&typeof Symbol=="function"&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U};function I(U,ut){var ht=U,bt=["true","false"].indexOf(U)>-1,Dt=parseFloat(ht,10),mt=!isNaN(Dt)&&isFinite(ht)&&typeof ht=="string"&&!ht.match(/^0+[^.]\d*$/g);return ut&&ut!==Boolean&&(ht===void 0?"undefined":O(ht))!==ut?ht=ut(U):bt||ut===Boolean?ht=ht===""||ht==="true":mt&&(ht=Dt),ht}function V(U,ut){if(U&&U.length)U.forEach(function(Dt){var mt=b(Dt);ut.camelCase.indexOf(mt)===-1&&ut.camelCase.push(mt)});else if(U&&(U===void 0?"undefined":O(U))==="object")for(var ht in U){var bt=b(ht);ut.camelCase.indexOf(bt)===-1&&ut.camelCase.push(bt),U[bt]&&U[bt].type&&(ut.types[ht]=[].concat(U[bt].type)[0])}}function H(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ut={camelCase:[],hyphenate:[],types:{}};if(U.mixins&&U.mixins.forEach(function(bt){V(bt.props,ut)}),U.extends&&U.extends.props){var ht=U.extends.props;V(ht,ut)}return V(U.props,ut),ut.camelCase.forEach(function(bt){ut.hyphenate.push(_(bt))}),ut}function G(U){var ut={};return k(U.attributes).forEach(function(ht){ut[ht.nodeName==="vue-slot"?"slot":ht.nodeName]=ht.nodeValue}),ut}function K(U,ut,ht){var bt=k(function(Dt){if(Dt.childNodes.length)return Dt.childNodes;if(Dt.content&&Dt.content.childNodes&&Dt.content.childNodes.length)return Dt.content.childNodes;var mt=document.createElement("div");return mt.innerHTML=Dt.innerHTML,mt.childNodes}(ut)).map(function(Dt){return Dt.nodeName==="#text"?Dt.nodeValue:U(Dt.tagName,{attrs:G(Dt),domProps:{innerHTML:Dt.innerHTML}})});return ht.slot=ut.id,U("template",ht,bt)}function et(U,ut){var ht={bubbles:!1,cancelable:!1,detail:ut},bt=void 0;return typeof window.CustomEvent=="function"?bt=new CustomEvent(U,ht):(bt=document.createEvent("CustomEvent")).initCustomEvent(U,ht.bubbles,ht.cancelable,ht.detail),bt}function ct(U,ut){for(var ht=arguments.length,bt=Array(ht>2?ht-2:0),Dt=2;Dt<ht;Dt++)bt[Dt-2]=arguments[Dt];var mt=et(ut,[].concat(bt));U.dispatchEvent(mt)}function gt(U,ut,ht,bt,Dt){if(!U.__vue_custom_element__){var mt=ut.util.extend({},ht),ft=function(Yt,Ke,Ee){var Je=Ke.propsData||{};return Ee.hyphenate.forEach(function(Te,zn){var Qt=Ee.camelCase[zn],Se=Yt.attributes[Te]||Yt[Qt],ve=null;Ee.types[Qt]&&(ve=Ee.types[Qt]),Se instanceof Attr?Je[Qt]=I(Se.value,ve):Se!==void 0&&(Je[Qt]=Se)}),Je}(U,mt,bt),pt=ut.version&&parseInt(ut.version.split(".")[0],10)||0;if(mt.beforeCreate=[].concat(mt.beforeCreate||[],function(){this.$emit=function(){for(var Yt,Ke=arguments.length,Ee=Array(Ke),Je=0;Je<Ke;Je++)Ee[Je]=arguments[Je];ct.apply(void 0,[U].concat(Ee)),this.__proto__&&(Yt=this.__proto__.$emit).call.apply(Yt,[this].concat(Ee))}}),mt._compiled){var Rt={};mt._Ctor&&(Rt=Object.values(mt._Ctor)[0].options),Rt.beforeCreate=mt.beforeCreate}var Pt=void 0;if(pt>=2){var Ht=U.cloneNode(!0).childNodes;Pt={propsData:ft,props:bt.camelCase,computed:{reactiveProps:function(){var Yt=this,Ke={};return bt.camelCase.forEach(function(Ee){Yt[Ee]!==void 0&&(Ke[Ee]=Yt[Ee])}),Ke}},render:function(Yt){var Ke={props:this.reactiveProps};return Yt(mt,Ke,function(){var Ee=arguments[1],Je=[];return k(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).forEach(function(Te){if(Te.nodeName==="#text")Te.nodeValue.trim()&&Je.push(Ee("span",Te.nodeValue));else if(Te.nodeName!=="#comment"){var zn=G(Te),Qt={attrs:zn,domProps:{innerHTML:Te.innerHTML===""?Te.innerText:Te.innerHTML}};zn.slot&&(Qt.slot=zn.slot,zn.slot=void 0);var Se=Te.tagName==="TEMPLATE"?K(Ee,Te,Qt):Ee(Te.tagName,Qt);Je.push(Se)}}),Je}(Ht,Yt))}}}else if(pt===1)(Pt=mt).propsData=ft;else{Pt=mt;var oe={};Object.keys(ft).forEach(function(Yt){oe[Yt]={default:ft[Yt]}}),Pt.props=oe}var Oe=pt>=2?"<div></div>":("<div>"+U.innerHTML+"</div>").replace(/vue-slot=/g,"slot=");if(Dt.shadow&&U.shadowRoot?(U.shadowRoot.innerHTML=Oe,Pt.el=U.shadowRoot.children[0]):(U.innerHTML=Oe,Pt.el=U.children[0]),function(Yt,Ke){Ke.camelCase.forEach(function(Ee,Je){Object.defineProperty(Yt,Ee,{get:function(){return this.__vue_custom_element__[Ee]},set:function(Te){if((Te===void 0?"undefined":O(Te))!=="object"&&typeof Te!="function"||!this.__vue_custom_element__){var zn=Ke.types[Ke.camelCase[Je]];this.setAttribute(Ke.hyphenate[Je],I(Te,zn))}else{var Qt=Ke.camelCase[Je];this.__vue_custom_element__[Qt]=Te}}})})}(U,bt),typeof Dt.beforeCreateVueInstance=="function"&&(Pt=Dt.beforeCreateVueInstance(Pt)||Pt),U.__vue_custom_element__=new ut(Pt),U.__vue_custom_element_props__=bt,U.getVueInstance=function(){return U.__vue_custom_element__.$children[0]},Dt.shadow&&Dt.shadowCss&&U.shadowRoot){var ue=document.createElement("style");ue.type="text/css",ue.appendChild(document.createTextNode(Dt.shadowCss)),U.shadowRoot.appendChild(ue)}U.removeAttribute("vce-cloak"),U.setAttribute("vce-ready",""),ct(U,"vce-ready")}}function Mt(U){U.customElement=function(ut,ht){var bt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Dt=typeof ht=="function",mt=Dt&&{props:bt.props||[]},ft=H(Dt?mt:ht),pt=j(ut,{constructorCallback:function(){typeof bt.constructorCallback=="function"&&bt.constructorCallback.call(this)},connectedCallback:function(){var Rt=this,Pt=Dt&&ht(),Ht=Pt&&Pt.then&&typeof Pt.then=="function";if(typeof bt.connectedCallback=="function"&&bt.connectedCallback.call(this),Dt&&!Ht)throw new Error("Async component "+ut+" do not returns Promise");this.__detached__||(Ht?Pt.then(function(oe){var Oe=H(oe);gt(Rt,U,oe,Oe,bt),typeof bt.vueInstanceCreatedCallback=="function"&&bt.vueInstanceCreatedCallback.call(Rt)}):(gt(this,U,ht,ft,bt),typeof bt.vueInstanceCreatedCallback=="function"&&bt.vueInstanceCreatedCallback.call(this))),this.__detached__=!1},disconnectedCallback:function(){var Rt=this;this.__detached__=!0,typeof bt.disconnectedCallback=="function"&&bt.disconnectedCallback.call(this),bt.destroyTimeout!==null&&setTimeout(function(){Rt.__detached__&&Rt.__vue_custom_element__&&(Rt.__vue_custom_element__.$destroy(!0),delete Rt.__vue_custom_element__,delete Rt.__vue_custom_element_props__)},bt.destroyTimeout||3e3)},attributeChangedCallback:function(Rt,Pt,Ht){if(this.__vue_custom_element__&&Ht!==void 0){var oe=b(Rt);typeof bt.attributeChangedCallback=="function"&&bt.attributeChangedCallback.call(this,Rt,Pt,Ht);var Oe=this.__vue_custom_element_props__.types[oe];this.__vue_custom_element__[oe]=I(Ht,Oe)}},observedAttributes:ft.hyphenate,shadow:!!bt.shadow&&!!HTMLElement.prototype.attachShadow});return pt}}typeof window!="undefined"&&window.Vue&&(window.Vue.use(Mt),Mt.installed&&(Mt.installed=!1));var Ut=Mt,ee=(o("OKyS"),o("LvDl")),Jt=o.n(ee),Lt=o("Iab2"),Zt=o.n(Lt);videojs.options.controlBar={volumePanel:{inline:!1}},videojs.options.flash.swf="liveplayer.swf",videojs.options.techOrder=["html5","flash"],videojs.log.level("off"),flvjs.LoggingControl.enableAll=!1;var me={name:"live-player",data:function(){return{player:null,liveCheckTimer:0,hlsTimer:0,fluentBtnCls:"live-player-fluent-btn",stretchBtnCls:"live-player-stretch-btn",snapFromOutside:!1,snapForPoster:!1,snapForReload:!1,showSlot:!1,fluent_:!0,muted_:!0,stretch_:!1,poster_:"",subVideoUrl_:"",avLoading:!1,reloadCnt:0,updateTimeAt:0,startAt:0,playAt:0,pauseAt:0,endedAt:0,errorAt:0,flvMediaDataSource:{},flvConfig:{},resolutionName:{sd:"\u6807\u6E05",hd:"\u9AD8\u6E05",fhd:"\u8D85\u6E05",yh:"\u539F\u753B"},playbackRate_:1,fullscreen:!1,visible:!0}},props:{videoUrl:{type:String,default:""},subVideoUrl:{type:String,default:""},videoTitle:{type:String,default:""},poster:{default:""},autoplay:{type:Boolean,default:!0},live:{type:Boolean,default:!1},smart:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},currentTime:{type:Number,default:0},timeout:{type:Number,default:20},alt:{type:String,default:""},muted:{type:Boolean,default:!0},aspect:{type:String,default:"16:9"},videoBufferSize:{type:Number,default:204800},audioBufferSize:{type:Number,default:131072},hlsErrorSeek:{type:Number,default:5},hlsTestMethod:{type:String,default:"HEAD"},reloadInterval:{type:Number,default:1e3},liveInterval:{type:Number,default:15e3},maxPauseSeconds:{type:Number,default:0},pauseWhenHidden:{type:Boolean,default:!0},fluent:{type:Boolean,default:!0},stretch:{type:Boolean,default:!1},loop:{type:Boolean,default:!1},controls:{type:Boolean,default:!0},hideBigPlayButton:{type:Boolean,default:!1},hideSnapshotButton:{type:Boolean,default:!1},hideFullscreenButton:{type:Boolean,default:!1},hideFluentButton:{type:Boolean,default:!1},hideStretchButton:{type:Boolean,default:!1},hidePicInPic:{type:Boolean,default:!0},hideWaiting:{type:Boolean,default:!0},showTime:{type:Boolean,default:function(){return!videojs.browser.IS_IOS&&!videojs.browser.IS_ANDROID}},showCustomButton:{type:Boolean,default:!0},showCameraButton:{type:Boolean,default:!videojs.browser.IS_SAFARI},debug:{type:Boolean,default:!1},hasvideo:{type:Boolean,default:void 0},hasaudio:{type:Boolean,default:void 0},resolution:{type:String,default:""},resolutiondefault:{type:String,default:"hd"},reconnect:{type:Boolean,default:!1},playbackRates:{type:Array,default:function(){return videojs.browser.IS_IOS||videojs.browser.IS_ANDROID?[]:[.5,1,2,3]}},playbackRate:{type:Number,default:1},cors:{type:Boolean,default:!0},withCredentials:{type:Boolean,default:!1},customButtons:{type:String,default:""},autofocus:{type:Boolean,default:!1},dblclickFullscreen:{type:Boolean,default:!0},language:{type:String,default:navigator&&(navigator.languages&&navigator.languages[0]||navigator.userLanguage||navigator.language)||"en"}},beforeDestroy:function(){this.destroyVideoJS()},deactivated:function(){this.destroyVideoJS()},watch:{videoUrl:function(U){this.smart&&!this.subVideoUrl&&this.videoUrl&&(this.videoUrl.indexOf("webrtc")!=0||/_sub(\?|$)/.test(this.videoUrl)?/.flv(\?|$)/.test(this.videoUrl)&&!/_sub.flv(\?|$)/.test(this.videoUrl)&&(this.subVideoUrl_=this.videoUrl.replace(/(.flv(\?|$))/,"_sub$1")):this.subVideoUrl_=this.videoUrl.replace(/(\?|$)/,"_sub$1")),this.videoUrl||this.subVideoUrl||(this.subVideoUrl_=""),this.reload()},subVideoUrl:function(U){this.subVideoUrl_=this.subVideoUrl,this.smart&&!this.subVideoUrl_&&this.videoUrl&&(this.videoUrl.indexOf("webrtc")!=0||/_sub(\?|$)/.test(this.videoUrl)?/.flv(\?|$)/.test(this.videoUrl)&&!/_sub.flv(\?|$)/.test(this.videoUrl)&&(this.subVideoUrl_=this.videoUrl.replace(/(.flv(\?|$))/,"_sub$1")):this.subVideoUrl_=this.videoUrl.replace(/(\?|$)/,"_sub$1")),this.videoUrl||this.subVideoUrl||(this.subVideoUrl_=""),this.reload()},fullscreen:function(U){this.videoUrl&&this.subVideoUrl_&&this.videoUrl!=this.subVideoUrl_&&(this.webrtc&&this.videoUrl.indexOf("webrtc")==0&&this.subVideoUrl_.indexOf("webrtc")==0?this.rtcReloadTech():(this.http||this.ws)&&this.flv&&/\.flv.*$/.test(this.videoUrl)&&/\.flv.*$/.test(this.subVideoUrl_)&&this.flvReloadTech())},fluent:function(U){this.fluent_=U,this.reload()},muted:function(U){this.muted_=U,this.reload()},stretch:function(U){this.stretch_=U,this.reload()},poster:function(U){this.poster_=U},loop:function(U){this.reload()},currentTime:function(U){this.player&&this.player.currentTime(U)},language:function(U){this.reload()}},mounted:function(){flvjs.reconnect=this.reconnect,this.muted_=this.muted,this.fluent_=this.fluent,this.stretch_=this.stretch,this.poster_=this.poster,this.playbackRate_=this.playbackRate,this.subVideoUrl_=this.subVideoUrl,this.smart&&!this.subVideoUrl_&&this.videoUrl&&(this.videoUrl.indexOf("webrtc")!=0||/_sub(\?|$)/.test(this.videoUrl)?/.flv(\?|$)/.test(this.videoUrl)&&!/_sub.flv(\?|$)/.test(this.videoUrl)&&(this.subVideoUrl_=this.videoUrl.replace(/(.flv(\?|$))/,"_sub$1")):this.subVideoUrl_=this.videoUrl.replace(/(\?|$)/,"_sub$1")),this.debug&&(videojs.log.level("info"),flvjs.LoggingControl.enableAll=!0),this.initVideoJS()},computed:{videoType:function(){var U="video/mp4";return this.rtmp?U="rtmp/mp4":(this.http||this.ws)&&this.flv?U="video/x-flv":this.m3u8&&(U="application/x-mpegURL"),U},videoWrapperStyle:function(){if(this.aspect=="100%"||this.aspect=="fullscreen")return{width:"100%",height:"100%"};var U=this.aspect.split(":"),ut=parseInt(U[0])||16;return{paddingBottom:(parseInt(U[1])||9)/ut*100+"%",position:"relative",margin:"0 auto",overflow:"hidden"}},rtmp:function(){return(this.src||"").indexOf("rtmp")==0},http:function(){return(this.src||"").indexOf("http")==0},webrtc:function(){return(this.src||"").indexOf("webrtc")==0},ws:function(){return(this.src||"").indexOf("ws")==0},mp4:function(){return/\.mp4.*$/.test(this.src||"")},m3u8:function(){return/\.m3u8.*$/.test(this.src||"")},flv:function(){return/\.flv.*$/.test(this.src||"")},alt2:function(){return this.alt||this.language==="zh-CN"?"\u65E0\u4FE1\u53F7":"No Video"},src:function(){var U=this.subVideoUrl_||this.videoUrl;return this.fullscreen&&(U=this.videoUrl||this.subVideoUrl_),U?U.indexOf("//")===0?location.protocol+U:U.indexOf("/")===0?location.protocol+"//"+location.host+U:U:""},blankHtml:function(){return this.poster_&&this.src?`
                    <div class="alt" style="background-image:url('`+this.poster_+`');">
                    </div>
                `:`
                    <div class="alt">
                        <table>
                            <tr>
                                <td>`+this.alt2+`</td>
                            </tr>
                        </table>
                    </div>
                `},videoHtml:function(){return this.src?this.rtmp||this.http||this.flv||this.mp4||this.webrtc?`
                        <video class="video-js vjs-default-skin vjs-big-play-centered" style="width: 100%; height: 100%; `+(this.stretch_?"object-fit: fill;":"")+`"
                            webkit-playsinline="" playsinline="" x-webkit-airplay="allow" x5-playsinline=""
                            preload="none" poster="`+this.poster_+'" '+(this.muted_?"muted":"")+" "+(this.loop?"loop":"")+`>
                            <source src="`+this.src+'" type="'+this.videoType+`"></source>
                            <p class="vjs-no-js">
                                To view this video please enable JavaScript, and consider upgrading to a web browser that
                                <a href="http://videojs.com/html5-video-support/" target="_blank">
                                    supports HTML5 video
                                </a>
                            </p>
                        </video>
                    `:`
                        <canvas style="width: 100%; height: 100%;"></canvas>
                    `:this.blankHtml}},methods:{isMobile:function(){return videojs.browser.IS_IOS||videojs.browser.IS_ANDROID},hasUsableSWF:function(){return!!(window.ActiveXObject!==void 0?new ActiveXObject("ShockwaveFlash.ShockwaveFlash"):navigator.plugins["Shockwave Flash"])},reload:function(){this.reloadCnt++,this.debug&&console.log(new Date().toLocaleString()+" "+this.src+" reload["+this.reloadCnt+"]"),this.destroyVideoJS(),this.initVideoJS()},flvError:function(U){var ut=this;this.debug&&console.log(new Date().toLocaleString()+" "+this.src+" error",U),this.$emit("error",U),this.live&&this.src&&this.reloadInterval>0&&(this.reloadCnt?setTimeout(function(){ut.flvReload()},this.reloadInterval):this.flvReload())},flvReload:function(){this.player&&(this.avLoading=!0,!this.endedAt&&!this.player.isFullscreen()&&this.player.cameraButton&&this.visible?this.snapForReload||(this.debug&&console.log(new Date().toLocaleString()+" "+this.src+" snap reload"),this.snapForReload=!0,this.pauseAt=0,this.player.cameraButton.el().click()):this.flvReloadTech())},flvReloadTech:function(){var U=this;this.debug&&console.log(new Date().toLocaleString()+" "+this.src+" tech reload"),this.reloadCnt++,this.pauseAt=0,this.player.tech_.flvPlayer.unload(),this.player.tech_.flvPlayer.detachMediaElement(),this.player.tech_.flvPlayer.destroy(),this.player.tech_.flvPlayer=window.flvjs.createPlayer(Object.assign({},this.flvMediaDataSource,{type:this.flvMediaDataSource.type===void 0?"flv":this.flvMediaDataSource.type,url:this.getVideoUrl()}),this.flvConfig),this.player.tech_.flvPlayer.attachMediaElement(this.player.tech_.el_),this.player.tech_.flvPlayer.on("error",function(ut){U.flvError(ut)}),this.player.tech_.flvPlayer.load()},rtcError:function(U){var ut=this;this.live&&this.src&&this.reloadInterval>0&&setTimeout(function(){ut.rtcReload()},this.reloadInterval)},rtcReload:function(){this.player&&(this.avLoading=!0,!this.endedAt&&!this.player.isFullscreen()&&this.player.cameraButton&&this.visible?this.snapForReload||(this.debug&&console.log(new Date().toLocaleString()+" "+this.src+" snap reload"),this.snapForReload=!0,this.pauseAt=0,this.player.cameraButton.el().click()):this.rtcReloadTech())},rtcReloadTech:function(){this.debug&&console.log(new Date().toLocaleString()+" "+this.src+" tech reload"),this.reloadCnt++,this.pauseAt=0,this.player.tech_.src=this.getVideoUrl(),this.player.tech_.reload()},loadResolutionlist:function(U){var ut=this;if(this.resolution!=""){for(var ht,bt=this.resolution.split(","),Dt=[],mt=0;mt<bt.length;mt++)bt[mt]==this.resolutiondefault,ht=bt[mt]=="yh"?this.videoUrl:this.videoUrl.replace(".m3u8","_"+bt[mt]+".m3u8"),Dt.push({src:ht,type:this.videoType,label:this.resolutionName[bt[mt]],res:bt[mt]});U.updateSrc(Dt),U.on("resolutionchange",function(){ut.debug&&console.log("change resolution")})}},getCustomBtn:function(U){var ut=this.$el.querySelectorAll(".video-js .vjs-control-bar .vjs-button."+U);return ut.length>0?ut[0]:null},customFlashButton:function(){var U=this;if(!this.getCustomBtn(this.fluentBtnCls)){var ut=this.player.controlBar.addChild("button");ut.el_.classList.add(this.fluentBtnCls),ut.el_.innerText=this.fluent_?this.player.localize("Fluent"):this.player.localize("Fast"),ut.el_.title=this.fluent_?this.player.localize("Click switch to fast play"):this.player.localize("Click switch to fluent play");var ht=function(){U.fluent_=!U.fluent_,ut.el_.innerText=U.fluent_?U.player.localize("Fluent"):U.player.localize("Fast"),ut.el_.title=U.fluent_?U.player.localize("Click switch to fast play"):U.player.localize("Click switch to fluent play"),U.player.tech_.setFluent(U.fluent_)};ut.on("click",ht),ut.on("tap",ht)}if(!this.getCustomBtn(this.stretchBtnCls)){var bt=this.player.controlBar.addChild("button");bt.el_.classList.add(this.stretchBtnCls),bt.el_.innerText=this.stretch_?this.player.localize("STR"):this.player.localize("STD"),bt.el_.title=this.stretch_?this.player.localize("Click switch to standard display"):this.player.localize("Click switch to stretch display"),ht=function(){U.stretch_=!U.stretch_,bt.el_.innerText=U.stretch_?U.player.localize("STR"):U.player.localize("STD"),bt.el_.title=U.stretch_?U.player.localize("Click switch to standard display"):U.player.localize("Click switch to stretch display"),U.player.tech_.setStretch(U.stretch_)},bt.on("click",ht),bt.on("tap",ht)}},customH5Button:function(){var U=this;if(!this.getCustomBtn(this.stretchBtnCls)&&!videojs.browser.IE_VERSION){var ut=this.player.controlBar.addChild("button");ut.el_.classList.add(this.stretchBtnCls),ut.el_.innerText=this.stretch_?this.player.localize("STR"):this.player.localize("STD"),ut.el_.title=this.stretch_?this.player.localize("Click switch to standard display"):this.player.localize("Click switch to stretch display");var ht=function(){U.stretch_=!U.stretch_,ut.el_.innerText=U.stretch_?U.player.localize("STR"):U.player.localize("STD"),ut.el_.title=U.stretch_?U.player.localize("Click switch to standard display"):U.player.localize("Click switch to stretch display");var bt=U.$el.querySelector("video");bt?bt.style.objectFit=U.stretch_?"fill":"":U.player.tech_.setStretch(U.stretch_)};ut.on("click",ht),ut.on("tap",ht)}this.addCustomButtons()},addCustomButtons:function(){var U=this;if(this.customButtons!=""){for(var ut=this.player.controlBar.children().length-1,ht=ut;ht>=0;ht--)if(this.player.controlBar.children()[ht].name_=="FullscreenToggle"){ut=ht;break}var bt=this.customButtons.split(",");for(ht=bt.length-1;ht>=0;ht--){var Dt=bt[ht].split(":"),mt=this.player.controlBar.addChild("button",{},ut);mt.el_.innerHTML=Dt.length>1?"<i class='"+Dt[1]+"'></i>":bt[ht],mt.el_.title=Dt[0];var ft=function(pt){U.$emit("customButtons",pt.currentTarget.getAttribute("title"))};mt.on("click",ft),mt.on("tap",ft)}}},hotkeysOpt:function(){var U={volumeStep:.1,seekStep:5,enableModifiersForNumbers:!1,enableVolumeScroll:!1};return this.autofocus||(U.skipInitialFocus=!0,U.enableInactiveFocus=!1),U},destroyVideoJS:function(){this.liveCheckTimer&&(clearInterval(this.liveCheckTimer),this.liveCheckTimer=0),this.hlsTimer&&(clearInterval(this.hlsTimer),this.hlsTimer=0),document.removeEventListener("visibilitychange",this.onVisibleChange),this.updateTimeAt=0,this.startAt=0,this.playAt=0,this.pauseAt=0,this.endedAt=0,this.errorAt=0,this.showSlot=!1;var U=this.$el.querySelector(".video-js"),ut=this.$el.querySelector(".video-wrapper");if(U&&ut){var ht=U.querySelector(".video-slot");ht&&(U.removeChild(ht),ut.appendChild(ht));var bt=U.querySelector(".video-title");bt&&(U.removeChild(bt),ut.appendChild(bt))}this.player&&this.player.dispose&&(this.player.dispose(),this.player=null),this.player&&this.player.destroy&&(this.player.destroy(),this.player=null),this.flvMediaDataSource={},this.flvConfig={},this.$el.querySelector(".video-inner").innerHTML=this.blankHtml,this.$emit("update:loading",!1)},getCurrentTime:function(){return this.player&&typeof this.player.currentTime=="function"?this.player.currentTime():-1},setCurrentTime:function(U){this.player&&typeof this.player.currentTime=="function"&&this.player.currentTime(U)},snap:function(){this.player&&this.player.cameraButton?(this.snapFromOutside=!0,this.player.cameraButton.el().click()):console.log("snap not support")},play:function(){this.player&&this.player.play()},pause:function(){this.player&&this.player.pause()},paused:function(){return!!this.player&&this.player.paused()},setMuted:function(U){this.player&&this.player.muted(!!U)},getMuted:function(){return!!this.player&&this.player.muted()},setVolume:function(U){this.player&&this.player.volume(U)},getVolume:function(){return this.player?this.player.volume():0},isFullscreen:function(){return!!this.player&&this.player.isFullscreen()},getVideoUrl:function(){var U=this.subVideoUrl_||this.videoUrl;return this.isFullscreen()&&(U=this.videoUrl||this.subVideoUrl_),U?U.indexOf("//")===0?location.protocol+U:U.indexOf("/")===0?location.protocol+"//"+location.host+U:U:""},requestFullscreen:function(){this.player&&this.player.requestFullscreen()},exitFullscreen:function(){this.player&&this.player.exitFullscreen()},toggleFullscreen:function(){this.player&&(this.player.isFullscreen()?this.player.exitFullscreen():this.player.requestFullscreen())},convertDataURIToBinary:function(U){for(var ut=";base64,",ht=U.indexOf(ut)+ut.length,bt=U.substring(ht),Dt=window.atob(bt),mt=Dt.length,ft=new Uint8Array(mt),pt=0;pt<mt;pt++)ft[pt]=Dt.charCodeAt(pt);return ft},convertDataURIToMIME:function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",ut="data:",ht=";base64,",bt=U.indexOf(ut);bt==0&&(bt+=ut.length);var Dt=U.indexOf(ht);return bt>=0&&Dt>bt?U.substring(bt,Dt):""},saveFile:function(U){if(U&&U.length>100){this.poster_=U;var ut=this.$el.querySelector("video");ut&&ut.setAttribute("poster",U)}if(this.snapForReload)return this.snapForReload=!1,void this.reload();if(this.snapForPoster)this.snapForPoster=!1;else{if(this.snapFromOutside)return this.$emit("snapOutside",U),void(this.snapFromOutside=!1);if(this.$emit("snapInside",U),U&&U.length>100){var ht=this.convertDataURIToBinary(U),bt=this.convertDataURIToMIME(U),Dt=".jpg",mt=bt.indexOf("/");mt>0&&(Dt="."+bt.substring(mt+1)),Zt.a.saveAs(new Blob([ht],{type:bt}),(this.videoTitle||"snap")+"_"+new Date().getTime()+Dt)}}},onVisibleChange:function(){this.visible=document.visibilityState==="visible",this.debug&&console.log(new Date().toLocaleString()+" "+this.src+" visible["+this.visible+"]")},debounceInitVideoJS:Jt.a.debounce(function(){this.initVideoJS()},500),initVideoJSOK:function(){var U=this;this.player&&(document.addEventListener("visibilitychange",this.onVisibleChange),this.player.muted(this.muted_),this.player.on("pause",function(){U.updateTimeAt=0,U.pauseAt=new Date().getTime(),U.$emit("pause",U.player.currentTime()),U.debug&&console.log(new Date().toLocaleString()+" "+U.src+" pause")}),this.player.on("snap",function(mt,ft){U.saveFile(ft)}),this.player.on("volumechange",function(mt,ft){U.muted_=U.player.muted()}),this.player.on("fullscreenchange",function(){setTimeout(function(){U.fullscreen=U.isFullscreen(),U.$emit("fullscreen",U.fullscreen)},0)}),this.startAt=new Date().getTime());var ut=this.$el.querySelector(".video-js"),ht=this.$el.querySelector(".video-wrapper");if(ut&&ht){var bt=ht.querySelector(".video-slot");bt&&(ht.removeChild(bt),ut.appendChild(bt));var Dt=ht.querySelector(".video-title");Dt&&(ht.removeChild(Dt),ut.appendChild(Dt))}this.showSlot=!0},initVideoJS:function(){var U=this,ut=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;if(this.$el.querySelector(".video-inner").innerHTML=this.videoHtml,this.src){if(this.startAt=new Date().getTime(),this.rtmp){var ht=document.title;this.player=videojs(this.$el.querySelector("video"),{notSupportedMessage:"\u60A8\u7684\u6D4F\u89C8\u5668\u6CA1\u6709\u5B89\u88C5\u6216\u5F00\u542FFlash",tech:["flash"],autoplay:this.autoplay,stretch:this.stretch,fluent:this.fluent,controls:!0,userActions:{doubleClick:this.dblclickFullscreen},language:this.language}),this.showCameraButton&&this.player.snapshot(),this.player.one("ready",function(){if(U.initVideoJSOK(),videojs.browser.IE_VERSION&&U.player.tech_.off("fullscreentoggle"),U.$emit("update:loading",!1),document.title=ht,U.player.hotkeys(U.hotkeysOpt()),U.player.on("ended",function(){U.endedAt=new Date().getTime(),U.$emit("ended"),U.debug&&console.log(new Date().toLocaleString()+" "+U.src+" ended")}),U.player.on("error",function(Rt){U.errorAt=new Date().getTime(),U.$emit("error",Rt)}),U.player.on("timeupdate",function(){U.updateTimeAt=new Date().getTime(),U.pauseAt=0,U.endedAt=0,U.errorAt=0,U.reloadCnt=0,U.$emit("timeupdate",U.player.currentTime())}),U.player.on("playing",function(){U.playAt=new Date().getTime(),U.$emit("play",U.player.currentTime()),U.debug&&console.log(new Date().toLocaleString()+" "+U.src+" playing")}),U.showCustomButton&&U.customFlashButton(),!U.hasUsableSWF()){var pt=U.$el.querySelector(".vjs-poster");pt&&(pt.style.display="none")}document.getElementsByClassName("vjs-picture-in-picture-control")[0].style.display="none"}),document.title=ht,this.player.on("error",function(pt){(pt=U.$el.querySelector(".vjs-error .vjs-error-display .vjs-modal-dialog-content")).innerHTML="<a href='http://www.adobe.com/go/getflashplayer' target='_blank'>"+pt.textContent+"</a>"})}else if((this.http||this.ws)&&this.flv)this.flvMediaDataSource={isLive:this.live,cors:this.cors,withCredentials:this.withCredentials},this.flvConfig={enableWorker:!1,enableStashBuffer:!1},videojs.browser.IE_VERSION&&(this.flvConfig.enableStashBuffer=!0,this.flvConfig.stashInitialSize=512e3),this.hasaudio!=null&&(this.flvMediaDataSource.hasAudio=this.hasaudio),this.hasvideo!=null&&(this.flvMediaDataSource.hasVideo=this.hasvideo),this.player=videojs(this.$el.querySelector("video"),{techOrder:["flvjs","html5"],controls:!0,flvjs:{mediaDataSource:this.flvMediaDataSource,config:this.flvConfig},userActions:{doubleClick:this.dblclickFullscreen},language:this.language}),this.showCameraButton&&this.player.snapshot(),this.player.one("ready",function(){U.initVideoJSOK(),U.$emit("update:loading",!1),U.stretch_&&(U.player.tech_.el_.style.objectFit="fill"),U.player.hotkeys(U.hotkeysOpt()),U.player.tech_.flvPlayer.on("error",function(pt){U.errorAt=new Date().getTime(),U.flvError(pt)}),U.player.on("canplay",function(){U.autoplay&&U.player.tech_.flvPlayer.play().catch(function(){})}),U.player.on("timeupdate",function(){U.updateTimeAt=new Date().getTime(),U.pauseAt=0,U.endedAt=0,U.errorAt=0;var pt=U.player.currentTime();!U.snapForPoster&&!U.poster_&&pt>2&&U.player.cameraButton&&(U.snapForPoster=!0,U.player.cameraButton.el().click()),U.reloadCnt=0,U.$emit("timeupdate",pt)}),U.player.on("error",function(pt){U.errorAt=new Date().getTime(),U.flvError(pt)}),U.player.on("ended",function(){U.endedAt=new Date().getTime(),U.live&&U.flvError("ended"),U.$emit("ended"),U.debug&&console.log(new Date().toLocaleString()+" "+U.src+" ended")}),U.player.on("playing",function(){U.playAt=new Date().getTime(),U.avLoading=!1,U.$emit("play",U.player.currentTime()),U.debug&&console.log(new Date().toLocaleString()+" "+U.src+" playing")}),U.showCustomButton&&U.customH5Button()});else if(this.http&&this.m3u8){var bt=new Date().getTime();this.$emit("update:loading",!0),this.avLoading=!0;var Dt=0,mt=function(){var pt=document.title;U.player||(U.resolution!=""?(U.resolution.indexOf(U.resolutiondefault)==-1&&(U.resolutiondefault="yh"),U.player=videojs(U.$el.querySelector("video"),{autoplay:U.autoplay,stretch:U.stretch,controls:!0,plugins:{videoJsResolutionSwitcher:{default:U.resolutiondefault,dynamicLabel:!0}},playbackRates:U.live?[]:U.playbackRates,userActions:{doubleClick:U.dblclickFullscreen},language:U.language}),U.loadResolutionlist(U.player)):U.player=videojs(U.$el.querySelector("video"),{autoplay:U.autoplay,stretch:U.stretch,controls:!0,playbackRates:U.live?[]:U.playbackRates,userActions:{doubleClick:U.dblclickFullscreen},language:U.language}),U.live||U.playbackRate_==1||U.player.playbackRate(U.playbackRate_),U.player.on("ratechange",function(){U.playbackRate_=U.player.playbackRate()}),U.showCameraButton&&U.player.snapshot(),U.player.one("ready",function(){if(U.initVideoJSOK(),Dt=setTimeout(function(){U.avLoading=!1,U.$emit("update:loading",!1)},1e3),document.title=pt,U.player.hotkeys(U.hotkeysOpt()),U.player.on("ended",function(){U.endedAt=new Date().getTime(),U.$emit("ended"),U.debug&&console.log(new Date().toLocaleString()+" "+U.src+" ended")}),U.player.on("timeupdate",function(){U.updateTimeAt=new Date().getTime(),U.pauseAt=0,U.endedAt=0,U.errorAt=0,U.reloadCnt=0,U.$emit("timeupdate",U.player.currentTime())}),U.player.on("playing",function(){U.playAt=new Date().getTime(),U.$emit("play",U.player.currentTime()),U.debug&&console.log(new Date().toLocaleString()+" "+U.src+" playing")}),U.player.tech().on("usage",function(Pt){U.debug&&console.log(new Date().toLocaleString()+" "+U.src+" hls usage",Pt),Pt&&Pt.name==="hls-live-resync"&&U.$emit("error",Pt.name)}),U.player.one("error",function(Pt,Ht){if(U.errorAt=new Date().getTime(),Dt&&(clearTimeout(Dt),Dt=0),U.$emit("error",Pt),U.live)U.reloadInterval>0&&setTimeout(function(){U.destroyVideoJS(),U.initVideoJS()},U.reloadInterval);else if(U.hlsErrorSeek>0){var oe=U.player.currentTime()+U.hlsErrorSeek;U.destroyVideoJS(),U.initVideoJS(oe)}}),document.title=pt,U.live)U.player&&U.player.reloadSourceOnError();else if(U.player&&(U.currentTime>0||ut>0)){var Rt=ut||U.currentTime;videojs.browser.IE_VERSION?U.player.on("loadeddata",function(){setTimeout(function(){U.player.currentTime(Rt)},500)}):U.isMobile()?setTimeout(function(){var Pt=U.$el.querySelector("video");Pt&&(Pt.currentTime=Rt)},3200):U.player.currentTime(Rt)}U.autoplay&&setTimeout(function(){var Pt=U.$el.querySelector(".vjs-big-play-button");if(Pt){var Ht=window.getComputedStyle(Pt);Ht&&Ht.display==="block"&&Pt.click()}},2e3),U.showCustomButton&&U.customH5Button()}))};this.hlsTimer=setInterval(function(){var pt=new Date().getTime();if(U.timeout>0&&pt-bt>1e3*U.timeout)return clearInterval(U.hlsTimer),U.hlsTimer=0,U.$emit("update:loading",!1),U.avLoading=!1,void U.$emit("message",{type:"error",message:"\u52A0\u8F7D\u64AD\u653E\u8D44\u6E90\u5931\u8D25"});if(!U.src)return clearInterval(U.hlsTimer),U.hlsTimer=0,U.$emit("update:loading",!1),void(U.avLoading=!1);var Rt=new XMLHttpRequest;Rt.open(U.hlsTestMethod,U.src,!0),Rt.onreadystatechange=function(){Rt.readyState==4&&(Rt.status>=200&&Rt.status<300||Rt.status===304?(clearInterval(U.hlsTimer),U.hlsTimer=0,mt()):U.debug&&console.log(new Date().toLocaleString()+" "+U.src+" HLS "+U.hlsTestMethod,Rt.status,Rt.statusText))},Rt.send()},1e3)}else this.webrtc?(this.player=videojs(this.$el.querySelector("video"),{techOrder:["webrtc","html5"],autoplay:this.autoplay,stretch:this.stretch,controls:!0,webrtc:{debug:this.debug,autoplay:this.autoplay},userActions:{doubleClick:this.dblclickFullscreen},language:this.language}),this.showCameraButton&&this.player.snapshot(),this.player.one("ready",function(){U.initVideoJSOK(),U.$emit("update:loading",!1),U.stretch_&&(U.player.tech_.el_.style.objectFit="fill"),U.player.hotkeys(U.hotkeysOpt()),U.player.on("error",function(pt){U.errorAt=new Date().getTime(),U.$emit("error",pt),U.rtcError(pt),U.debug&&console.log(new Date().toLocaleString()+" "+U.src+" player error",pt)}),U.player.tech().on("error",function(pt){U.errorAt=new Date().getTime(),U.$emit("error",pt),U.rtcError(pt),U.debug&&console.log(new Date().toLocaleString()+" "+U.src+" rtc error",pt)}),U.player.on("timeupdate",function(){U.updateTimeAt=new Date().getTime(),U.pauseAt=0,U.endedAt=0,U.errorAt=0;var pt=U.player.currentTime();!U.snapForPoster&&!U.poster_&&pt>2&&U.player.cameraButton&&(U.snapForPoster=!0,U.player.cameraButton.el().click()),U.reloadCnt=0,U.$emit("timeupdate",pt)}),U.player.on("ended",function(){U.endedAt=new Date().getTime(),U.live&&U.rtcError("ended"),U.$emit("ended"),U.debug&&console.log(new Date().toLocaleString()+" "+U.src+" ended")}),U.player.on("playing",function(){U.playAt=new Date().getTime(),U.avLoading=!1,U.$emit("play",U.player.currentTime()),U.debug&&console.log(new Date().toLocaleString()+" "+U.src+" playing")}),U.showCustomButton&&U.customH5Button()})):(this.player=videojs(this.$el.querySelector("video"),{autoplay:this.autoplay,stretch:this.stretch,controls:!0,playbackRates:this.live?[]:this.playbackRates,userActions:{doubleClick:this.dblclickFullscreen},language:this.language}),this.live||this.playbackRate_==1||this.player.playbackRate(this.playbackRate_),this.player.on("ratechange",function(){U.playbackRate_=U.player.playbackRate()}),this.showCameraButton&&this.player.snapshot(),this.player.one("ready",function(){U.initVideoJSOK(),U.$emit("update:loading",!1),U.stretch_&&(U.player.tech_.el_.style.objectFit="fill"),U.player.hotkeys(U.hotkeysOpt()),U.showCustomButton&&U.customH5Button(),U.player.on("ended",function(){U.endedAt=new Date().getTime(),U.$emit("ended"),U.debug&&console.log(new Date().toLocaleString()+" "+U.src+" ended")}),U.player.on("timeupdate",function(){U.updateTimeAt=new Date().getTime(),U.pauseAt=0,U.endedAt=0,U.errorAt=0,U.reloadCnt=0,U.$emit("timeupdate",U.player.currentTime())}),U.player.on("playing",function(){U.playAt=new Date().getTime(),U.avLoading=!1,U.$emit("play",U.player.currentTime()),U.debug&&console.log(new Date().toLocaleString()+" "+U.src+" playing")}),U.player.on("error",function(pt){U.errorAt=new Date().getTime(),U.$emit("error",pt)})}));if(this.live&&this.liveInterval>0){this.liveCheckTimer&&(clearInterval(this.liveCheckTimer),this.liveCheckTimer=0);var ft=0;this.liveCheckTimer=setInterval(function(){if(!U.updateTimeAt){if(!U.playAt){var pt=new Date().getTime()-U.startAt;return U.debug&&console.log(new Date().toLocaleString()+" "+U.src+" live check never play d = "+pt),void(!(pt>=U.liveInterval&&U.src)||U.player&&U.player.isFullscreen()||(U.debug&&console.log(new Date().toLocaleString()+" "+U.src+" live check never play reload d = "+pt),U.reload()))}return U.pauseAt&&!U.errorAt&&!U.endedAt?(pt=new Date().getTime()-U.pauseAt,U.debug&&console.log(new Date().toLocaleString()+" "+U.src+" live check pause d = "+pt),void(!(U.maxPauseSeconds>0&&pt>=1e3*U.maxPauseSeconds&&U.src)||U.player&&U.player.isFullscreen()||(U.debug&&console.log(new Date().toLocaleString()+" "+U.src+" live check pause reload d = "+pt),U.reload()))):(ft++,U.debug&&console.log(new Date().toLocaleString()+" "+U.src+" live check update time error cnt = "+ft),void(!(ft>=3&&U.src)||U.player&&U.player.isFullscreen()||(U.debug&&console.log(new Date().toLocaleString()+" "+U.src+" live check update time error reload cnt = "+ft),U.reload())))}ft=0,pt=new Date().getTime()-U.updateTimeAt,U.debug&&console.log(new Date().toLocaleString()+" "+U.src+" live check d = "+pt),!(pt>=U.liveInterval&&U.src)||U.player&&U.player.isFullscreen()||(U.debug&&console.log(new Date().toLocaleString()+" "+U.src+" live check reload d = "+pt),U.reload())},this.liveInterval)}}}}};o("UBF9");var Gt=function(U,ut,ht,bt,Dt,mt,ft,pt){var Rt,Pt=typeof U=="function"?U.options:U;if(ut&&(Pt.render=ut,Pt.staticRenderFns=ht,Pt._compiled=!0),bt&&(Pt.functional=!0),mt&&(Pt._scopeId="data-v-"+mt),ft?(Rt=function(Oe){(Oe=Oe||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||typeof __VUE_SSR_CONTEXT__=="undefined"||(Oe=__VUE_SSR_CONTEXT__),Dt&&Dt.call(this,Oe),Oe&&Oe._registeredComponents&&Oe._registeredComponents.add(ft)},Pt._ssrRegister=Rt):Dt&&(Rt=pt?function(){Dt.call(this,(Pt.functional?this.parent:this).$root.$options.shadowRoot)}:Dt),Rt)if(Pt.functional){Pt._injectStyles=Rt;var Ht=Pt.render;Pt.render=function(Oe,ue){return Rt.call(ue),Ht(Oe,ue)}}else{var oe=Pt.beforeCreate;Pt.beforeCreate=oe?[].concat(oe,Rt):[Rt]}return{exports:U,options:Pt}}(me,function(){var U=this,ut=U.$createElement,ht=U._self._c||ut;return ht("div",{staticClass:"player-wrapper"},[ht("div",{class:["video-wrapper",{"video-wrapper-stretch":this.stretch_}],style:U.videoWrapperStyle},[ht("div",{staticClass:"video-inner",class:{live:U.live,"av-loading":U.avLoading,"hide-waiting":U.hideWaiting,"hide-controls":!U.controls,"hide-big-play-button":U.hideBigPlayButton,"hide-snapshot-button":U.hideSnapshotButton,"hide-fullscreen-button":U.hideFullscreenButton,"hide-stretch-button":U.hideStretchButton,"hide-fluent-button":U.hideFluentButton,"hide-pic-in-pic":U.hidePicInPic,"show-time":U.showTime&&!U.live},staticStyle:{position:"absolute",top:"0",bottom:"0",left:"0",right:"0"}}),U._v(" "),ht("div",{directives:[{name:"show",rawName:"v-show",value:U.showSlot,expression:"showSlot"}],staticClass:"video-slot"},[U._t("default")],2),U._v(" "),ht("span",{directives:[{name:"show",rawName:"v-show",value:U.videoTitle&&U.showSlot,expression:"videoTitle && showSlot"}],staticClass:"video-title",attrs:{title:U.videoTitle}},[U._v(U._s(U.videoTitle))])])])},[],!1,null,null,null).exports;g.a.use(Ut),g.a.customElement(Gt.name,Gt)},q27k:function(C,F,o){"use strict";var c=o("J2HX").f,g=o("ZiEV"),v=o("xmgo"),u=o("kRpC"),l=o("kopD"),m=o("j8TA"),d=o("1RbY"),S=o("+4di"),w=o("Oi8Z"),j=o("yU77"),T=o("TI2F").fastKey,b=o("eYp2"),x=j?"_s":"size",_=function(k,O){var I,V=T(O);if(V!=="F")return k._i[V];for(I=k._f;I;I=I.n)if(I.k==O)return I};C.exports={getConstructor:function(k,O,I,V){var H=k(function(G,K){l(G,H,O,"_i"),G._t=O,G._i=g(null),G._f=void 0,G._l=void 0,G[x]=0,K!=null&&m(K,I,G[V],G)});return v(H.prototype,{clear:function(){for(var G=b(this,O),K=G._i,et=G._f;et;et=et.n)et.r=!0,et.p&&(et.p=et.p.n=void 0),delete K[et.i];G._f=G._l=void 0,G[x]=0},delete:function(G){var K=b(this,O),et=_(K,G);if(et){var ct=et.n,gt=et.p;delete K._i[et.i],et.r=!0,gt&&(gt.n=ct),ct&&(ct.p=gt),K._f==et&&(K._f=ct),K._l==et&&(K._l=gt),K[x]--}return!!et},forEach:function(G){b(this,O);for(var K,et=u(G,arguments.length>1?arguments[1]:void 0,3);K=K?K.n:this._f;)for(et(K.v,K.k,this);K&&K.r;)K=K.p},has:function(G){return!!_(b(this,O),G)}}),j&&c(H.prototype,"size",{get:function(){return b(this,O)[x]}}),H},def:function(k,O,I){var V,H,G=_(k,O);return G?G.v=I:(k._l=G={i:H=T(O,!0),k:O,v:I,p:V=k._l,n:void 0,r:!1},k._f||(k._f=G),V&&(V.n=G),k[x]++,H!=="F"&&(k._i[H]=G)),k},getEntry:_,setStrong:function(k,O,I){d(k,O,function(V,H){this._t=b(V,O),this._k=H,this._l=void 0},function(){for(var V=this,H=V._k,G=V._l;G&&G.r;)G=G.p;return V._t&&(V._l=G=G?G.n:V._t._f)?S(0,H=="keys"?G.k:H=="values"?G.v:[G.k,G.v]):(V._t=void 0,S(1))},I?"entries":"values",!I,!0),w(O)}}},qFNJ:function(C,F,o){(C.exports=o("I1BE")(void 0)).push([C.i,'.video-wrapper .show-time .video-js .vjs-time-control:not(.vjs-remaining-time){padding-left:.5em;padding-right:0;min-width:0;display:block}.video-wrapper .video-js .vjs-remaining-time{display:none}.video-wrapper .live .vjs-progress-control{visibility:hidden}.video-wrapper .av-loading .vjs-big-play-button,.video-wrapper .live .vjs-remaining-time,.video-wrapper .live .vjs-time-control{display:none}.video-wrapper .hide-big-play-button .vjs-big-play-button,.video-wrapper .hide-controls .vjs-control-bar,.video-wrapper .hide-fluent-button .live-player-fluent-btn,.video-wrapper .hide-fullscreen-button .vjs-fullscreen-control,.video-wrapper .hide-pic-in-pic .video-js .vjs-picture-in-picture-control,.video-wrapper .hide-snapshot-button .vjs-snapshot-control,.video-wrapper .hide-stretch-button .live-player-stretch-btn,.video-wrapper .hide-waiting .vjs-seeking .vjs-loading-spinner,.video-wrapper .hide-waiting .vjs-waiting .vjs-loading-spinner{display:none!important}.video-wrapper .alt{position:absolute;left:0;top:0;right:0;bottom:0;vertical-align:middle;background-repeat:no-repeat;background-position:50% 50%;background-size:contain;background-color:#000;color:#fff;text-align:center}.video-wrapper .alt>table{width:100%;height:100%}.video-wrapper .alt>table tr>td{vertical-align:middle}.video-wrapper .video-js .video-slot{font-size:14px}.video-wrapper .video-js .video-title{font-size:14px;position:absolute;top:5px;right:5px;color:#fff;background-color:hsla(0,0%,50%,.5);border-radius:2px;padding:5px;max-width:120px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.video-wrapper .video-js .vjs-control-bar .vjs-button{cursor:pointer;outline:none}.video-wrapper .video-js .vjs-control-bar .vjs-icon-cog:before,.video-wrapper .video-js .vjs-control-bar .vjs-icon-spinner:before{font-size:1.4em;line-height:1.87}.video-wrapper .vjs-error-display{display:none}.video-wrapper .video-js .vjs-time-control{font-size:1.035em;line-height:2.93em}.video-wrapper .vjs-resolution-button{color:#ccc;font-family:VideoJS}.video-wrapper .vjs-resolution-button .vjs-resolution-button-staticlabel:before{content:"\\F110";font-size:1.8em;line-height:1.7em}.video-wrapper .vjs-resolution-button .vjs-resolution-button-label{width:100%;height:.6em;display:block!important}.video-wrapper .vjs-resolution-button .vjs-resolution-button-label-ie{width:100%;height:.4em;display:block!important}.video-wrapper .vjs-resolution-button ul.vjs-menu-content{width:4em!important}.video-wrapper .vjs-resolution-button .vjs-menu{left:0}.video-wrapper .vjs-resolution-button .vjs-menu li{text-transform:none;font-size:1em;line-height:1.5em;font-family:Arial,Helvetica,sans-serif}.video-wrapper .vjs-audio-button{display:none!important}.video-wrapper .video-js .vjs-big-play-button .vjs-icon-placeholder:before,.video-wrapper .vjs-button>.vjs-icon-placeholder:before{position:relative!important}.video-wrapper .video-js .vjs-play-progress:before{top:-.33em!important}.video-wrapper .video-js .vjs-control:focus,.video-wrapper .video-js .vjs-control:focus:before,.video-wrapper .video-js .vjs-control:hover:before{text-shadow:none!important}@media screen and (-webkit-min-device-pixel-ratio:0){.video-wrapper .video-js .vjs-control-bar{font-size:14px}.video-wrapper .video-js .vjs-slider-vertical .vjs-volume-level:before{left:-.33em!important}}.video-wrapper.video-wrapper-stretch .alt,.video-wrapper.video-wrapper-stretch .video-js .vjs-poster{background-size:100% 100%}',""])},qHvq:function(C,F){C.exports=Object.is||function(o,c){return o===c?o!==0||1/o==1/c:o!=o&&c!=c}},"qOR+":function(C,F,o){"use strict";var c=o("k+AJ"),g=o("L7KE"),v=o("HC2Y"),u=o("EeL+"),l=o("AZ8a"),m=o("+TcE"),d=o("27JW").f,S=o("jYdD").f,w=o("J2HX").f,j=o("6dhg").trim,T="Number",b=c.Number,x=b,_=b.prototype,k=v(o("ZiEV")(_))==T,O="trim"in String.prototype,I=function(K){var et=l(K,!1);if(typeof et=="string"&&et.length>2){var ct,gt,Mt,Ut=(et=O?et.trim():j(et,3)).charCodeAt(0);if(Ut===43||Ut===45){if((ct=et.charCodeAt(2))===88||ct===120)return NaN}else if(Ut===48){switch(et.charCodeAt(1)){case 66:case 98:gt=2,Mt=49;break;case 79:case 111:gt=8,Mt=55;break;default:return+et}for(var ee,Jt=et.slice(2),Lt=0,Zt=Jt.length;Lt<Zt;Lt++)if((ee=Jt.charCodeAt(Lt))<48||ee>Mt)return NaN;return parseInt(Jt,gt)}}return+et};if(!b(" 0o1")||!b("0b1")||b("+0x1")){b=function(K){var et=arguments.length<1?0:K,ct=this;return ct instanceof b&&(k?m(function(){_.valueOf.call(ct)}):v(ct)!=T)?u(new x(I(et)),ct,b):I(et)};for(var V,H=o("yU77")?d(x):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),G=0;H.length>G;G++)g(x,V=H[G])&&!g(b,V)&&w(b,V,S(x,V));b.prototype=_,_.constructor=b,o("d+oe")(c,T,b)}},rGBx:function(C,F,o){"use strict";C.exports=o("zuiL")||!o("+TcE")(function(){var c=Math.random();__defineSetter__.call(null,c,function(){}),delete o("k+AJ")[c]})},rMxl:function(C,F,o){"use strict";var c=o("8IOi"),g=o("6WDs")(!1);c(c.P,"String",{codePointAt:function(v){return g(this,v)}})},rPJW:function(C,F,o){"use strict";var c=o("k+AJ"),g=o("L7KE"),v=o("yU77"),u=o("8IOi"),l=o("d+oe"),m=o("TI2F").KEY,d=o("+TcE"),S=o("3oW4"),w=o("J70Z"),j=o("Vol4"),T=o("3iRr"),b=o("pDsQ"),x=o("HLcc"),_=o("bZ/h"),k=o("fyHr"),O=o("138g"),I=o("n+hx"),V=o("XW/+"),H=o("AZ8a"),G=o("+zL4"),K=o("ZiEV"),et=o("Uyw2"),ct=o("jYdD"),gt=o("J2HX"),Mt=o("Wl3L"),Ut=ct.f,ee=gt.f,Jt=et.f,Lt=c.Symbol,Zt=c.JSON,me=Zt&&Zt.stringify,Gt=T("_hidden"),U=T("toPrimitive"),ut={}.propertyIsEnumerable,ht=S("symbol-registry"),bt=S("symbols"),Dt=S("op-symbols"),mt=Object.prototype,ft=typeof Lt=="function",pt=c.QObject,Rt=!pt||!pt.prototype||!pt.prototype.findChild,Pt=v&&d(function(){return K(ee({},"a",{get:function(){return ee(this,"a",{value:7}).a}})).a!=7})?function(ve,le,Be){var on=Ut(mt,le);on&&delete mt[le],ee(ve,le,Be),on&&ve!==mt&&ee(mt,le,on)}:ee,Ht=function(ve){var le=bt[ve]=K(Lt.prototype);return le._k=ve,le},oe=ft&&typeof Lt.iterator=="symbol"?function(ve){return typeof ve=="symbol"}:function(ve){return ve instanceof Lt},Oe=function(ve,le,Be){return ve===mt&&Oe(Dt,le,Be),O(ve),le=H(le,!0),O(Be),g(bt,le)?(Be.enumerable?(g(ve,Gt)&&ve[Gt][le]&&(ve[Gt][le]=!1),Be=K(Be,{enumerable:G(0,!1)})):(g(ve,Gt)||ee(ve,Gt,G(1,{})),ve[Gt][le]=!0),Pt(ve,le,Be)):ee(ve,le,Be)},ue=function(ve,le){O(ve);for(var Be,on=_(le=V(le)),vn=0,Sn=on.length;Sn>vn;)Oe(ve,Be=on[vn++],le[Be]);return ve},Yt=function(ve){var le=ut.call(this,ve=H(ve,!0));return!(this===mt&&g(bt,ve)&&!g(Dt,ve))&&(!(le||!g(this,ve)||!g(bt,ve)||g(this,Gt)&&this[Gt][ve])||le)},Ke=function(ve,le){if(ve=V(ve),le=H(le,!0),ve!==mt||!g(bt,le)||g(Dt,le)){var Be=Ut(ve,le);return!Be||!g(bt,le)||g(ve,Gt)&&ve[Gt][le]||(Be.enumerable=!0),Be}},Ee=function(ve){for(var le,Be=Jt(V(ve)),on=[],vn=0;Be.length>vn;)g(bt,le=Be[vn++])||le==Gt||le==m||on.push(le);return on},Je=function(ve){for(var le,Be=ve===mt,on=Jt(Be?Dt:V(ve)),vn=[],Sn=0;on.length>Sn;)!g(bt,le=on[Sn++])||Be&&!g(mt,le)||vn.push(bt[le]);return vn};ft||(l((Lt=function(){if(this instanceof Lt)throw TypeError("Symbol is not a constructor!");var ve=j(arguments.length>0?arguments[0]:void 0),le=function(Be){this===mt&&le.call(Dt,Be),g(this,Gt)&&g(this[Gt],ve)&&(this[Gt][ve]=!1),Pt(this,ve,G(1,Be))};return v&&Rt&&Pt(mt,ve,{configurable:!0,set:le}),Ht(ve)}).prototype,"toString",function(){return this._k}),ct.f=Ke,gt.f=Oe,o("27JW").f=et.f=Ee,o("4XFX").f=Yt,o("EN0g").f=Je,v&&!o("zuiL")&&l(mt,"propertyIsEnumerable",Yt,!0),b.f=function(ve){return Ht(T(ve))}),u(u.G+u.W+u.F*!ft,{Symbol:Lt});for(var Te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),zn=0;Te.length>zn;)T(Te[zn++]);for(var Qt=Mt(T.store),Se=0;Qt.length>Se;)x(Qt[Se++]);u(u.S+u.F*!ft,"Symbol",{for:function(ve){return g(ht,ve+="")?ht[ve]:ht[ve]=Lt(ve)},keyFor:function(ve){if(!oe(ve))throw TypeError(ve+" is not a symbol!");for(var le in ht)if(ht[le]===ve)return le},useSetter:function(){Rt=!0},useSimple:function(){Rt=!1}}),u(u.S+u.F*!ft,"Object",{create:function(ve,le){return le===void 0?K(ve):ue(K(ve),le)},defineProperty:Oe,defineProperties:ue,getOwnPropertyDescriptor:Ke,getOwnPropertyNames:Ee,getOwnPropertySymbols:Je}),Zt&&u(u.S+u.F*(!ft||d(function(){var ve=Lt();return me([ve])!="[null]"||me({a:ve})!="{}"||me(Object(ve))!="{}"})),"JSON",{stringify:function(ve){for(var le,Be,on=[ve],vn=1;arguments.length>vn;)on.push(arguments[vn++]);if(Be=le=on[1],(I(le)||ve!==void 0)&&!oe(ve))return k(le)||(le=function(Sn,En){if(typeof Be=="function"&&(En=Be.call(this,Sn,En)),!oe(En))return En}),on[1]=le,me.apply(Zt,on)}}),Lt.prototype[U]||o("BxPU")(Lt.prototype,U,Lt.prototype.valueOf),w(Lt,"Symbol"),w(Math,"Math",!0),w(c.JSON,"JSON",!0)},rVFp:function(C,F,o){var c=o("8IOi");c(c.P,"Function",{bind:o("Au75")})},"rWL+":function(C,F,o){var c=o("8IOi");c(c.P,"Array",{fill:o("C6Ke")}),o("Zrcd")("fill")},rqGp:function(C,F,o){"use strict";var c=o("8IOi"),g=o("x0dS");c(c.P+c.F*!o("Vcfr")([].reduceRight,!0),"Array",{reduceRight:function(v){return g(this,v,arguments.length,arguments[1],!0)}})},"s+08":function(C,F,o){"use strict";var c=o("8IOi"),g=o("Qu5u"),v=o("AZ8a");c(c.P+c.F*o("+TcE")(function(){return new Date(NaN).toJSON()!==null||Date.prototype.toJSON.call({toISOString:function(){return 1}})!==1}),"Date",{toJSON:function(u){var l=g(this),m=v(l);return typeof m!="number"||isFinite(m)?l.toISOString():null}})},skXq:function(C,F,o){"use strict";var c=o("8IOi"),g=o("Y3Md"),v=o("RT9V"),u="endsWith",l="".endsWith;c(c.P+c.F*o("OvvV")(u),"String",{endsWith:function(m){var d=v(this,m,u),S=arguments.length>1?arguments[1]:void 0,w=g(d.length),j=S===void 0?w:Math.min(g(S),w),T=String(m);return l?l.call(d,T,j):d.slice(j-T.length,j)===T}})},srFW:function(C,F,o){var c=o("8IOi");c(c.S,"Math",{signbit:function(g){return(g=+g)!=g?g:g==0?1/g==1/0:g>0}})},t2DD:function(C,F,o){var c=o("j8TA");C.exports=function(g,v){var u=[];return c(g,!1,u.push,u,v),u}},t5lg:function(C,F,o){"use strict";var c=o("k+AJ"),g=o("yU77"),v=o("zuiL"),u=o("8wjV"),l=o("BxPU"),m=o("xmgo"),d=o("+TcE"),S=o("kopD"),w=o("m29h"),j=o("Y3Md"),T=o("U9MG"),b=o("27JW").f,x=o("J2HX").f,_=o("C6Ke"),k=o("J70Z"),O="ArrayBuffer",I="DataView",V="Wrong index!",H=c.ArrayBuffer,G=c.DataView,K=c.Math,et=c.RangeError,ct=c.Infinity,gt=H,Mt=K.abs,Ut=K.pow,ee=K.floor,Jt=K.log,Lt=K.LN2,Zt="buffer",me="byteLength",Gt="byteOffset",U=g?"_b":Zt,ut=g?"_l":me,ht=g?"_o":Gt;function bt(Qt,Se,ve){var le,Be,on,vn=new Array(ve),Sn=8*ve-Se-1,En=(1<<Sn)-1,sr=En>>1,In=Se===23?Ut(2,-24)-Ut(2,-77):0,ni=0,tr=Qt<0||Qt===0&&1/Qt<0?1:0;for((Qt=Mt(Qt))!=Qt||Qt===ct?(Be=Qt!=Qt?1:0,le=En):(le=ee(Jt(Qt)/Lt),Qt*(on=Ut(2,-le))<1&&(le--,on*=2),(Qt+=le+sr>=1?In/on:In*Ut(2,1-sr))*on>=2&&(le++,on/=2),le+sr>=En?(Be=0,le=En):le+sr>=1?(Be=(Qt*on-1)*Ut(2,Se),le+=sr):(Be=Qt*Ut(2,sr-1)*Ut(2,Se),le=0));Se>=8;vn[ni++]=255&Be,Be/=256,Se-=8);for(le=le<<Se|Be,Sn+=Se;Sn>0;vn[ni++]=255&le,le/=256,Sn-=8);return vn[--ni]|=128*tr,vn}function Dt(Qt,Se,ve){var le,Be=8*ve-Se-1,on=(1<<Be)-1,vn=on>>1,Sn=Be-7,En=ve-1,sr=Qt[En--],In=127&sr;for(sr>>=7;Sn>0;In=256*In+Qt[En],En--,Sn-=8);for(le=In&(1<<-Sn)-1,In>>=-Sn,Sn+=Se;Sn>0;le=256*le+Qt[En],En--,Sn-=8);if(In===0)In=1-vn;else{if(In===on)return le?NaN:sr?-ct:ct;le+=Ut(2,Se),In-=vn}return(sr?-1:1)*le*Ut(2,In-Se)}function mt(Qt){return Qt[3]<<24|Qt[2]<<16|Qt[1]<<8|Qt[0]}function ft(Qt){return[255&Qt]}function pt(Qt){return[255&Qt,Qt>>8&255]}function Rt(Qt){return[255&Qt,Qt>>8&255,Qt>>16&255,Qt>>24&255]}function Pt(Qt){return bt(Qt,52,8)}function Ht(Qt){return bt(Qt,23,4)}function oe(Qt,Se,ve){x(Qt.prototype,Se,{get:function(){return this[ve]}})}function Oe(Qt,Se,ve,le){var Be=T(+ve);if(Be+Se>Qt[ut])throw et(V);var on=Qt[U]._b,vn=Be+Qt[ht],Sn=on.slice(vn,vn+Se);return le?Sn:Sn.reverse()}function ue(Qt,Se,ve,le,Be,on){var vn=T(+ve);if(vn+Se>Qt[ut])throw et(V);for(var Sn=Qt[U]._b,En=vn+Qt[ht],sr=le(+Be),In=0;In<Se;In++)Sn[En+In]=sr[on?In:Se-In-1]}if(u.ABV){if(!d(function(){H(1)})||!d(function(){new H(-1)})||d(function(){return new H,new H(1.5),new H(NaN),H.name!=O})){for(var Yt,Ke=(H=function(Qt){return S(this,H),new gt(T(Qt))}).prototype=gt.prototype,Ee=b(gt),Je=0;Ee.length>Je;)(Yt=Ee[Je++])in H||l(H,Yt,gt[Yt]);v||(Ke.constructor=H)}var Te=new G(new H(2)),zn=G.prototype.setInt8;Te.setInt8(0,2147483648),Te.setInt8(1,2147483649),!Te.getInt8(0)&&Te.getInt8(1)||m(G.prototype,{setInt8:function(Qt,Se){zn.call(this,Qt,Se<<24>>24)},setUint8:function(Qt,Se){zn.call(this,Qt,Se<<24>>24)}},!0)}else H=function(Qt){S(this,H,O);var Se=T(Qt);this._b=_.call(new Array(Se),0),this[ut]=Se},G=function(Qt,Se,ve){S(this,G,I),S(Qt,H,I);var le=Qt[ut],Be=w(Se);if(Be<0||Be>le)throw et("Wrong offset!");if(Be+(ve=ve===void 0?le-Be:j(ve))>le)throw et("Wrong length!");this[U]=Qt,this[ht]=Be,this[ut]=ve},g&&(oe(H,me,"_l"),oe(G,Zt,"_b"),oe(G,me,"_l"),oe(G,Gt,"_o")),m(G.prototype,{getInt8:function(Qt){return Oe(this,1,Qt)[0]<<24>>24},getUint8:function(Qt){return Oe(this,1,Qt)[0]},getInt16:function(Qt){var Se=Oe(this,2,Qt,arguments[1]);return(Se[1]<<8|Se[0])<<16>>16},getUint16:function(Qt){var Se=Oe(this,2,Qt,arguments[1]);return Se[1]<<8|Se[0]},getInt32:function(Qt){return mt(Oe(this,4,Qt,arguments[1]))},getUint32:function(Qt){return mt(Oe(this,4,Qt,arguments[1]))>>>0},getFloat32:function(Qt){return Dt(Oe(this,4,Qt,arguments[1]),23,4)},getFloat64:function(Qt){return Dt(Oe(this,8,Qt,arguments[1]),52,8)},setInt8:function(Qt,Se){ue(this,1,Qt,ft,Se)},setUint8:function(Qt,Se){ue(this,1,Qt,ft,Se)},setInt16:function(Qt,Se){ue(this,2,Qt,pt,Se,arguments[2])},setUint16:function(Qt,Se){ue(this,2,Qt,pt,Se,arguments[2])},setInt32:function(Qt,Se){ue(this,4,Qt,Rt,Se,arguments[2])},setUint32:function(Qt,Se){ue(this,4,Qt,Rt,Se,arguments[2])},setFloat32:function(Qt,Se){ue(this,4,Qt,Ht,Se,arguments[2])},setFloat64:function(Qt,Se){ue(this,8,Qt,Pt,Se,arguments[2])}});k(H,O),k(G,I),l(G.prototype,u.VIEW,!0),F.ArrayBuffer=H,F.DataView=G},tNXT:function(C,F,o){var c=o("8IOi");c(c.S,"Array",{isArray:o("fyHr")})},uAa7:function(C,F,o){var c=o("8IOi"),g=o("6uvR"),v=o("XW/+"),u=o("jYdD"),l=o("UtW+");c(c.S,"Object",{getOwnPropertyDescriptors:function(m){for(var d,S,w=v(m),j=u.f,T=g(w),b={},x=0;T.length>x;)(S=j(w,d=T[x++]))!==void 0&&l(b,d,S);return b}})},uHQh:function(C,F,o){var c=o("8IOi");c(c.S,"Object",{create:o("ZiEV")})},unDq:function(C,F,o){var c=o("HGrt"),g=o("138g"),v=o("LOhj"),u=c.key,l=c.set;c.exp({metadata:function(m,d){return function(S,w){l(m,d,(w!==void 0?g:v)(S),u(w))}}})},vNAk:function(C,F,o){"use strict";var c=o("+TcE"),g=Date.prototype.getTime,v=Date.prototype.toISOString,u=function(l){return l>9?l:"0"+l};C.exports=c(function(){return v.call(new Date(-50000000000001))!="0385-07-25T07:06:39.999Z"})||!c(function(){v.call(new Date(NaN))})?function(){if(!isFinite(g.call(this)))throw RangeError("Invalid time value");var l=this,m=l.getUTCFullYear(),d=l.getUTCMilliseconds(),S=m<0?"-":m>9999?"+":"";return S+("00000"+Math.abs(m)).slice(S?-6:-4)+"-"+u(l.getUTCMonth()+1)+"-"+u(l.getUTCDate())+"T"+u(l.getUTCHours())+":"+u(l.getUTCMinutes())+":"+u(l.getUTCSeconds())+"."+(d>99?d:"0"+u(d))+"Z"}:v},vejK:function(C,F,o){var c=o("k+AJ"),g=o("65rS").set,v=c.MutationObserver||c.WebKitMutationObserver,u=c.process,l=c.Promise,m=o("HC2Y")(u)=="process";C.exports=function(){var d,S,w,j=function(){var _,k;for(m&&(_=u.domain)&&_.exit();d;){k=d.fn,d=d.next;try{k()}catch(O){throw d?w():S=void 0,O}}S=void 0,_&&_.enter()};if(m)w=function(){u.nextTick(j)};else if(!v||c.navigator&&c.navigator.standalone)if(l&&l.resolve){var T=l.resolve(void 0);w=function(){T.then(j)}}else w=function(){g.call(c,j)};else{var b=!0,x=document.createTextNode("");new v(j).observe(x,{characterData:!0}),w=function(){x.data=b=!b}}return function(_){var k={fn:_,next:void 0};S&&(S.next=k),d||(d=k,w()),S=k}}},wFMk:function(C,F){C.exports={}},wpNZ:function(C,F,o){var c=o("8IOi");c(c.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},x0dS:function(C,F,o){var c=o("LOhj"),g=o("Qu5u"),v=o("26/4"),u=o("Y3Md");C.exports=function(l,m,d,S,w){c(m);var j=g(l),T=v(j),b=u(j.length),x=w?b-1:0,_=w?-1:1;if(d<2)for(;;){if(x in T){S=T[x],x+=_;break}if(x+=_,w?x<0:b<=x)throw TypeError("Reduce of empty array with no initial value")}for(;w?x>=0:b>x;x+=_)x in T&&(S=m(S,T[x],x,j));return S}},x4ZG:function(C,F,o){var c=o("wFMk"),g=o("3iRr")("iterator"),v=Array.prototype;C.exports=function(u){return u!==void 0&&(c.Array===u||v[g]===u)}},x8o9:function(C,F,o){var c=o("HGrt"),g=o("138g"),v=o("7WAm"),u=c.has,l=c.key,m=function(d,S,w){if(u(d,S,w))return!0;var j=v(S);return j!==null&&m(d,j,w)};c.exp({hasMetadata:function(d,S){return m(d,g(S),arguments.length<3?void 0:l(arguments[2]))}})},xO9r:function(C,F,o){var c=o("8IOi"),g=o("65rS");c(c.G+c.B,{setImmediate:g.set,clearImmediate:g.clear})},xRLh:function(C,F,o){var c=o("8IOi"),g=o("7WAm"),v=o("138g");c(c.S,"Reflect",{getPrototypeOf:function(u){return g(v(u))}})},xcDT:function(C,F,o){var c=o("8IOi");c(c.P+c.R,"Map",{toJSON:o("H/b1")("Map")})},xmgo:function(C,F,o){var c=o("d+oe");C.exports=function(g,v,u){for(var l in v)c(g,l,v[l],u);return g}},yLpj:function(C,F){var o;o=function(){return this}();try{o=o||new Function("return this")()}catch(c){typeof window=="object"&&(o=window)}C.exports=o},ySsg:function(C,F,o){var c=o("8IOi"),g=o("JYSn")(!0);c(c.S,"Object",{entries:function(v){return g(v)}})},yU77:function(C,F,o){C.exports=!o("+TcE")(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7})},"z/zB":function(C,F,o){var c=o("kRpC"),g=o("26/4"),v=o("Qu5u"),u=o("Y3Md"),l=o("CkjT");C.exports=function(m,d){var S=m==1,w=m==2,j=m==3,T=m==4,b=m==6,x=m==5||b,_=d||l;return function(k,O,I){for(var V,H,G=v(k),K=g(G),et=c(O,I,3),ct=u(K.length),gt=0,Mt=S?_(k,ct):w?_(k,0):void 0;ct>gt;gt++)if((x||gt in K)&&(H=et(V=K[gt],gt,G),m)){if(S)Mt[gt]=H;else if(H)switch(m){case 3:return!0;case 5:return V;case 6:return gt;case 2:Mt.push(V)}else if(T)return!1}return b?-1:j||T?T:Mt}}},zuiL:function(C,F){C.exports=!1}});
